var pp=Object.defineProperty;var mp=(a,s,M)=>s in a?pp(a,s,{enumerable:!0,configurable:!0,writable:!0,value:M}):a[s]=M;var yr=(a,s,M)=>(mp(a,typeof s!="symbol"?s+"":s,M),M),r0=(a,s,M)=>{if(!s.has(a))throw TypeError("Cannot "+M)};var Me=(a,s,M)=>(r0(a,s,"read from private field"),M?M.call(a):s.get(a)),At=(a,s,M)=>{if(s.has(a))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(a):s.set(a,M)},Pt=(a,s,M,X)=>(r0(a,s,"write to private field"),X?X.call(a,M):s.set(a,M),M);var bo=(a,s,M,X)=>({set _(ae){Pt(a,s,ae,M)},get _(){return Me(a,s,X)}}),ht=(a,s,M)=>(r0(a,s,"access private method"),M);import{g as getDefaultExportFromCjs,c as commonjsGlobal,a as getAugmentedNamespace}from"./chunk-3ae9cdef.js";function _mergeNamespaces(a,s){for(var M=0;M<s.length;M++){const X=s[M];if(typeof X!="string"&&!Array.isArray(X)){for(const ae in X)if(ae!=="default"&&!(ae in a)){const Te=Object.getOwnPropertyDescriptor(X,ae);Te&&Object.defineProperty(a,ae,Te.get?Te:{enumerable:!0,get:()=>X[ae]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}var g=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},support={searchParams:"URLSearchParams"in g,iterable:"Symbol"in g&&"iterator"in Symbol,blob:"FileReader"in g&&"Blob"in g&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in g,arrayBuffer:"ArrayBuffer"in g};function isDataView(a){return a&&DataView.prototype.isPrototypeOf(a)}if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(a){return a&&viewClasses.indexOf(Object.prototype.toString.call(a))>-1};function normalizeName(a){if(typeof a!="string"&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(a)||a==="")throw new TypeError('Invalid character in header field name: "'+a+'"');return a.toLowerCase()}function normalizeValue(a){return typeof a!="string"&&(a=String(a)),a}function iteratorFor(a){var s={next:function(){var M=a.shift();return{done:M===void 0,value:M}}};return support.iterable&&(s[Symbol.iterator]=function(){return s}),s}function Headers$1(a){this.map={},a instanceof Headers$1?a.forEach(function(s,M){this.append(M,s)},this):Array.isArray(a)?a.forEach(function(s){if(s.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+s.length);this.append(s[0],s[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(s){this.append(s,a[s])},this)}Headers$1.prototype.append=function(a,s){a=normalizeName(a),s=normalizeValue(s);var M=this.map[a];this.map[a]=M?M+", "+s:s};Headers$1.prototype.delete=function(a){delete this.map[normalizeName(a)]};Headers$1.prototype.get=function(a){return a=normalizeName(a),this.has(a)?this.map[a]:null};Headers$1.prototype.has=function(a){return this.map.hasOwnProperty(normalizeName(a))};Headers$1.prototype.set=function(a,s){this.map[normalizeName(a)]=normalizeValue(s)};Headers$1.prototype.forEach=function(a,s){for(var M in this.map)this.map.hasOwnProperty(M)&&a.call(s,this.map[M],M,this)};Headers$1.prototype.keys=function(){var a=[];return this.forEach(function(s,M){a.push(M)}),iteratorFor(a)};Headers$1.prototype.values=function(){var a=[];return this.forEach(function(s){a.push(s)}),iteratorFor(a)};Headers$1.prototype.entries=function(){var a=[];return this.forEach(function(s,M){a.push([M,s])}),iteratorFor(a)};support.iterable&&(Headers$1.prototype[Symbol.iterator]=Headers$1.prototype.entries);function consumed(a){if(!a._noBody){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}}function fileReaderReady(a){return new Promise(function(s,M){a.onload=function(){s(a.result)},a.onerror=function(){M(a.error)}})}function readBlobAsArrayBuffer(a){var s=new FileReader,M=fileReaderReady(s);return s.readAsArrayBuffer(a),M}function readBlobAsText(a){var s=new FileReader,M=fileReaderReady(s),X=/charset=([A-Za-z0-9_-]+)/.exec(a.type),ae=X?X[1]:"utf-8";return s.readAsText(a,ae),M}function readArrayBufferAsText(a){for(var s=new Uint8Array(a),M=new Array(s.length),X=0;X<s.length;X++)M[X]=String.fromCharCode(s[X]);return M.join("")}function bufferClone(a){if(a.slice)return a.slice(0);var s=new Uint8Array(a.byteLength);return s.set(new Uint8Array(a)),s.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(a){this.bodyUsed=this.bodyUsed,this._bodyInit=a,a?typeof a=="string"?this._bodyText=a:support.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:support.formData&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():support.arrayBuffer&&support.blob&&isDataView(a)?(this._bodyArrayBuffer=bufferClone(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||isArrayBufferView(a))?this._bodyArrayBuffer=bufferClone(a):this._bodyText=a=Object.prototype.toString.call(a):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof a=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var a=consumed(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var a=consumed(this);return a||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(support.blob)return this.blob().then(readBlobAsArrayBuffer);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var a=consumed(this);if(a)return a;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}var methods=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function normalizeMethod(a){var s=a.toUpperCase();return methods.indexOf(s)>-1?s:a}function Request(a,s){if(!(this instanceof Request))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');s=s||{};var M=s.body;if(a instanceof Request){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,s.headers||(this.headers=new Headers$1(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,!M&&a._bodyInit!=null&&(M=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=s.credentials||this.credentials||"same-origin",(s.headers||!this.headers)&&(this.headers=new Headers$1(s.headers)),this.method=normalizeMethod(s.method||this.method||"GET"),this.mode=s.mode||this.mode||null,this.signal=s.signal||this.signal||function(){if("AbortController"in g){var Te=new AbortController;return Te.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&M)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(M),(this.method==="GET"||this.method==="HEAD")&&(s.cache==="no-store"||s.cache==="no-cache")){var X=/([?&])_=[^&]*/;if(X.test(this.url))this.url=this.url.replace(X,"$1_="+new Date().getTime());else{var ae=/\?/;this.url+=(ae.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})};function decode(a){var s=new FormData;return a.trim().split("&").forEach(function(M){if(M){var X=M.split("="),ae=X.shift().replace(/\+/g," "),Te=X.join("=").replace(/\+/g," ");s.append(decodeURIComponent(ae),decodeURIComponent(Te))}}),s}function parseHeaders(a){var s=new Headers$1,M=a.replace(/\r?\n[\t ]+/g," ");return M.split("\r").map(function(X){return X.indexOf(`
`)===0?X.substr(1,X.length):X}).forEach(function(X){var ae=X.split(":"),Te=ae.shift().trim();if(Te){var Pe=ae.join(":").trim();try{s.append(Te,Pe)}catch(x){console.warn("Response "+x.message)}}}),s}Body.call(Request.prototype);function Response$1(a,s){if(!(this instanceof Response$1))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(s||(s={}),this.type="default",this.status=s.status===void 0?200:s.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=s.statusText===void 0?"":""+s.statusText,this.headers=new Headers$1(s.headers),this.url=s.url||"",this._initBody(a)}Body.call(Response$1.prototype);Response$1.prototype.clone=function(){return new Response$1(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers$1(this.headers),url:this.url})};Response$1.error=function(){var a=new Response$1(null,{status:200,statusText:""});return a.ok=!1,a.status=0,a.type="error",a};var redirectStatuses=[301,302,303,307,308];Response$1.redirect=function(a,s){if(redirectStatuses.indexOf(s)===-1)throw new RangeError("Invalid status code");return new Response$1(null,{status:s,headers:{location:a}})};var DOMException=g.DOMException;try{new DOMException}catch{DOMException=function(s,M){this.message=s,this.name=M;var X=Error(s);this.stack=X.stack},DOMException.prototype=Object.create(Error.prototype),DOMException.prototype.constructor=DOMException}function fetch$1(a,s){return new Promise(function(M,X){var ae=new Request(a,s);if(ae.signal&&ae.signal.aborted)return X(new DOMException("Aborted","AbortError"));var Te=new XMLHttpRequest;function Pe(){Te.abort()}Te.onload=function(){var n={statusText:Te.statusText,headers:parseHeaders(Te.getAllResponseHeaders()||"")};ae.url.indexOf("file://")===0&&(Te.status<200||Te.status>599)?n.status=200:n.status=Te.status,n.url="responseURL"in Te?Te.responseURL:n.headers.get("X-Request-URL");var w="response"in Te?Te.response:Te.responseText;setTimeout(function(){M(new Response$1(w,n))},0)},Te.onerror=function(){setTimeout(function(){X(new TypeError("Network request failed"))},0)},Te.ontimeout=function(){setTimeout(function(){X(new TypeError("Network request timed out"))},0)},Te.onabort=function(){setTimeout(function(){X(new DOMException("Aborted","AbortError"))},0)};function x(n){try{return n===""&&g.location.href?g.location.href:n}catch{return n}}if(Te.open(ae.method,x(ae.url),!0),ae.credentials==="include"?Te.withCredentials=!0:ae.credentials==="omit"&&(Te.withCredentials=!1),"responseType"in Te&&(support.blob?Te.responseType="blob":support.arrayBuffer&&(Te.responseType="arraybuffer")),s&&typeof s.headers=="object"&&!(s.headers instanceof Headers$1||g.Headers&&s.headers instanceof g.Headers)){var ie=[];Object.getOwnPropertyNames(s.headers).forEach(function(n){ie.push(normalizeName(n)),Te.setRequestHeader(n,normalizeValue(s.headers[n]))}),ae.headers.forEach(function(n,w){ie.indexOf(w)===-1&&Te.setRequestHeader(w,n)})}else ae.headers.forEach(function(n,w){Te.setRequestHeader(w,n)});ae.signal&&(ae.signal.addEventListener("abort",Pe),Te.onreadystatechange=function(){Te.readyState===4&&ae.signal.removeEventListener("abort",Pe)}),Te.send(typeof ae._bodyInit>"u"?null:ae._bodyInit)})}fetch$1.polyfill=!0;g.fetch||(g.fetch=fetch$1,g.Headers=Headers$1,g.Request=Request,g.Response=Response$1);self.fetch.bind(self);var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",funcTag="[object Function]",genTag="[object GeneratorFunction]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function getValue(a,s){return a==null?void 0:a[s]}function isHostObject(a){var s=!1;if(a!=null&&typeof a.toString!="function")try{s=!!(a+"")}catch{}return s}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var a=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),splice=arrayProto.splice,Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create");function Hash(a){var s=-1,M=a?a.length:0;for(this.clear();++s<M;){var X=a[s];this.set(X[0],X[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(a){return this.has(a)&&delete this.__data__[a]}function hashGet(a){var s=this.__data__;if(nativeCreate){var M=s[a];return M===HASH_UNDEFINED?void 0:M}return hasOwnProperty.call(s,a)?s[a]:void 0}function hashHas(a){var s=this.__data__;return nativeCreate?s[a]!==void 0:hasOwnProperty.call(s,a)}function hashSet(a,s){var M=this.__data__;return M[a]=nativeCreate&&s===void 0?HASH_UNDEFINED:s,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(a){var s=-1,M=a?a.length:0;for(this.clear();++s<M;){var X=a[s];this.set(X[0],X[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(a){var s=this.__data__,M=assocIndexOf(s,a);if(M<0)return!1;var X=s.length-1;return M==X?s.pop():splice.call(s,M,1),!0}function listCacheGet(a){var s=this.__data__,M=assocIndexOf(s,a);return M<0?void 0:s[M][1]}function listCacheHas(a){return assocIndexOf(this.__data__,a)>-1}function listCacheSet(a,s){var M=this.__data__,X=assocIndexOf(M,a);return X<0?M.push([a,s]):M[X][1]=s,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(a){var s=-1,M=a?a.length:0;for(this.clear();++s<M;){var X=a[s];this.set(X[0],X[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function mapCacheDelete(a){return getMapData(this,a).delete(a)}function mapCacheGet(a){return getMapData(this,a).get(a)}function mapCacheHas(a){return getMapData(this,a).has(a)}function mapCacheSet(a,s){return getMapData(this,a).set(a,s),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function assocIndexOf(a,s){for(var M=a.length;M--;)if(eq(a[M][0],s))return M;return-1}function baseIsNative(a){if(!isObject(a)||isMasked(a))return!1;var s=isFunction(a)||isHostObject(a)?reIsNative:reIsHostCtor;return s.test(toSource(a))}function getMapData(a,s){var M=a.__data__;return isKeyable(s)?M[typeof s=="string"?"string":"hash"]:M.map}function getNative(a,s){var M=getValue(a,s);return baseIsNative(M)?M:void 0}function isKeyable(a){var s=typeof a;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?a!=="__proto__":a===null}function isMasked(a){return!!maskSrcKey&&maskSrcKey in a}function toSource(a){if(a!=null){try{return funcToString.call(a)}catch{}try{return a+""}catch{}}return""}function memoize(a,s){if(typeof a!="function"||s&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);var M=function(){var X=arguments,ae=s?s.apply(this,X):X[0],Te=M.cache;if(Te.has(ae))return Te.get(ae);var Pe=a.apply(this,X);return M.cache=Te.set(ae,Pe),Pe};return M.cache=new(memoize.Cache||MapCache),M}memoize.Cache=MapCache;function eq(a,s){return a===s||a!==a&&s!==s}function isFunction(a){var s=isObject(a)?objectToString.call(a):"";return s==funcTag||s==genTag}function isObject(a){var s=typeof a;return!!a&&(s=="object"||s=="function")}var lodash_memoize=memoize;const memoize$1=getDefaultExportFromCjs(lodash_memoize);function ascending(a,s){return a==null||s==null?NaN:a<s?-1:a>s?1:a>=s?0:NaN}function descending(a,s){return a==null||s==null?NaN:s<a?-1:s>a?1:s>=a?0:NaN}function bisector(a){let s,M,X;a.length!==2?(s=ascending,M=(x,ie)=>ascending(a(x),ie),X=(x,ie)=>a(x)-ie):(s=a===ascending||a===descending?a:zero,M=a,X=a);function ae(x,ie,n=0,w=x.length){if(n<w){if(s(ie,ie)!==0)return w;do{const O=n+w>>>1;M(x[O],ie)<0?n=O+1:w=O}while(n<w)}return n}function Te(x,ie,n=0,w=x.length){if(n<w){if(s(ie,ie)!==0)return w;do{const O=n+w>>>1;M(x[O],ie)<=0?n=O+1:w=O}while(n<w)}return n}function Pe(x,ie,n=0,w=x.length){const O=ae(x,ie,n,w-1);return O>n&&X(x[O-1],ie)>-X(x[O],ie)?O-1:O}return{left:ae,center:Pe,right:Te}}function zero(){return 0}function number(a){return a===null?NaN:+a}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number).center;const bisect=bisectRight;function initRange(a,s){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(s).domain(a);break}return this}function threshold(){var a=[.5],s=[0,1],M,X=1;function ae(Te){return Te!=null&&Te<=Te?s[bisect(a,Te,0,X)]:M}return ae.domain=function(Te){return arguments.length?(a=Array.from(Te),X=Math.min(a.length,s.length-1),ae):a.slice()},ae.range=function(Te){return arguments.length?(s=Array.from(Te),X=Math.min(a.length,s.length-1),ae):s.slice()},ae.invertExtent=function(Te){var Pe=s.indexOf(Te);return[a[Pe-1],a[Pe]]},ae.unknown=function(Te){return arguments.length?(M=Te,ae):M},ae.copy=function(){return threshold().domain(a).range(s).unknown(M)},initRange.apply(ae,arguments)}function _arrayLikeToArray(a,s){(s==null||s>a.length)&&(s=a.length);for(var M=0,X=Array(s);M<s;M++)X[M]=a[M];return X}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _assertClassBrand(a,s,M){if(typeof a=="function"?a===s:a.has(s))return arguments.length<3?s:M;throw new TypeError("Private element is not present on this object")}function _assertThisInitialized(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _callSuper(a,s,M){return s=_getPrototypeOf(s),_possibleConstructorReturn(a,_isNativeReflectConstruct()?Reflect.construct(s,M||[],_getPrototypeOf(a).constructor):s.apply(a,M))}function _checkPrivateRedeclaration(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classCallCheck(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function _classPrivateFieldGet2(a,s){return a.get(_assertClassBrand(a,s))}function _classPrivateFieldInitSpec(a,s,M){_checkPrivateRedeclaration(a,s),s.set(a,M)}function _classPrivateFieldSet2(a,s,M){return a.set(_assertClassBrand(a,s),M),M}function _classPrivateMethodInitSpec(a,s){_checkPrivateRedeclaration(a,s),s.add(a)}function _defineProperties(a,s){for(var M=0;M<s.length;M++){var X=s[M];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(a,_toPropertyKey(X.key),X)}}function _createClass(a,s,M){return s&&_defineProperties(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,s,M){return(s=_toPropertyKey(s))in a?Object.defineProperty(a,s,{value:M,enumerable:!0,configurable:!0,writable:!0}):a[s]=M,a}function _get(){return _get=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,s,M){var X=_superPropBase(a,s);if(X){var ae=Object.getOwnPropertyDescriptor(X,s);return ae.get?ae.get.call(arguments.length<3?a:M):ae.value}},_get.apply(null,arguments)}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(a)}function _inherits(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&_setPrototypeOf(a,s)}function _isNativeReflectConstruct(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!a})()}function _iterableToArray(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function _iterableToArrayLimit(a,s){var M=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(M!=null){var X,ae,Te,Pe,x=[],ie=!0,n=!1;try{if(Te=(M=M.call(a)).next,s===0){if(Object(M)!==M)return;ie=!1}else for(;!(ie=(X=Te.call(M)).done)&&(x.push(X.value),x.length!==s);ie=!0);}catch(w){n=!0,ae=w}finally{try{if(!ie&&M.return!=null&&(Pe=M.return(),Object(Pe)!==Pe))return}finally{if(n)throw ae}}return x}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(a,s){var M=Object.keys(a);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(a);s&&(X=X.filter(function(ae){return Object.getOwnPropertyDescriptor(a,ae).enumerable})),M.push.apply(M,X)}return M}function _objectSpread2(a){for(var s=1;s<arguments.length;s++){var M=arguments[s]!=null?arguments[s]:{};s%2?ownKeys(Object(M),!0).forEach(function(X){_defineProperty(a,X,M[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(M)):ownKeys(Object(M)).forEach(function(X){Object.defineProperty(a,X,Object.getOwnPropertyDescriptor(M,X))})}return a}function _objectWithoutProperties(a,s){if(a==null)return{};var M,X,ae=_objectWithoutPropertiesLoose(a,s);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(a);for(X=0;X<Te.length;X++)M=Te[X],s.indexOf(M)===-1&&{}.propertyIsEnumerable.call(a,M)&&(ae[M]=a[M])}return ae}function _objectWithoutPropertiesLoose(a,s){if(a==null)return{};var M={};for(var X in a)if({}.hasOwnProperty.call(a,X)){if(s.indexOf(X)!==-1)continue;M[X]=a[X]}return M}function _possibleConstructorReturn(a,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function set(a,s,M,X){return set=typeof Reflect<"u"&&Reflect.set?Reflect.set:function(ae,Te,Pe,x){var ie,n=_superPropBase(ae,Te);if(n){if((ie=Object.getOwnPropertyDescriptor(n,Te)).set)return ie.set.call(x,Pe),!0;if(!ie.writable)return!1}if(ie=Object.getOwnPropertyDescriptor(x,Te)){if(!ie.writable)return!1;ie.value=Pe,Object.defineProperty(x,Te,ie)}else _defineProperty(x,Te,Pe);return!0},set(a,s,M,X)}function _set(a,s,M,X,ae){if(!set(a,s,M,X||a)&&ae)throw new TypeError("failed to set property");return M}function _setPrototypeOf(a,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,X){return M.__proto__=X,M},_setPrototypeOf(a,s)}function _slicedToArray(a,s){return _arrayWithHoles(a)||_iterableToArrayLimit(a,s)||_unsupportedIterableToArray(a,s)||_nonIterableRest()}function _superPropBase(a,s){for(;!{}.hasOwnProperty.call(a,s)&&(a=_getPrototypeOf(a))!==null;);return a}function _superPropGet(a,s,M,X){var ae=_get(_getPrototypeOf(a.prototype),s,M);return 2&X&&typeof ae=="function"?function(Te){return ae.apply(M,Te)}:ae}function _superPropSet(a,s,M,X,ae,Te){return _set(_getPrototypeOf(a.prototype),s,M,X,ae)}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _toPrimitive(a,s){if(typeof a!="object"||!a)return a;var M=a[Symbol.toPrimitive];if(M!==void 0){var X=M.call(a,s);if(typeof X!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}function _toPropertyKey(a){var s=_toPrimitive(a,"string");return typeof s=="symbol"?s:s+""}function _unsupportedIterableToArray(a,s){if(a){if(typeof a=="string")return _arrayLikeToArray(a,s);var M={}.toString.call(a).slice(8,-1);return M==="Object"&&a.constructor&&(M=a.constructor.name),M==="Map"||M==="Set"?Array.from(a):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?_arrayLikeToArray(a,s):void 0}}var REL_API_URL="https://speed.cloudflare.com",defaultConfig={autoStart:!0,downloadApiUrl:"".concat(REL_API_URL,"/__down"),uploadApiUrl:"".concat(REL_API_URL,"/__up"),logMeasurementApiUrl:null,logAimApiUrl:"https://aim.cloudflare.com/__log",turnServerUri:"turn.speed.cloudflare.com:50000",turnServerCredsApiUrl:"".concat(REL_API_URL,"/turn-creds"),turnServerUser:null,turnServerPass:null,rpkiInvalidHost:"invalid.rpki.cloudflare.com",cfTraceUrl:"".concat(REL_API_URL,"/cdn-cgi/trace"),includeCredentials:!1,measurements:[{type:"latency",numPackets:1},{type:"download",bytes:1e5,count:1,bypassMinDuration:!0},{type:"latency",numPackets:20},{type:"download",bytes:1e5,count:9},{type:"download",bytes:1e6,count:8},{type:"upload",bytes:1e5,count:8},{type:"packetLoss",numPackets:1e3,batchSize:10,batchWaitTime:10,responsesWaitTime:3e3},{type:"upload",bytes:1e6,count:6},{type:"download",bytes:1e7,count:6},{type:"upload",bytes:1e7,count:4},{type:"download",bytes:25e6,count:4},{type:"upload",bytes:25e6,count:4},{type:"download",bytes:1e8,count:3},{type:"upload",bytes:5e7,count:3},{type:"download",bytes:25e7,count:2}],measureDownloadLoadedLatency:!0,measureUploadLoadedLatency:!0,loadedLatencyThrottle:400,bandwidthFinishRequestDuration:1e3,estimatedServerTime:10,latencyPercentile:.5,bandwidthPercentile:.9,bandwidthMinRequestDuration:10,loadedRequestMinDuration:250,loadedLatencyMaxPoints:20},internalConfig={aimMeasurementScoring:{packetLoss:threshold([.01,.05,.25,.5],[10,5,0,-10,-20]),latency:threshold([10,20,50,100,500],[20,10,5,0,-10,-20]),loadedLatencyIncrease:threshold([10,20,50,100,500],[20,10,5,0,-10,-20]),jitter:threshold([10,20,100,500],[10,5,0,-10,-20]),download:threshold([1e6,1e7,5e7,1e8],[0,5,10,20,30]),upload:threshold([1e6,1e7,5e7,1e8],[0,5,10,20,30])},aimExperiencesDefs:{streaming:{input:["latency","packetLoss","download","loadedLatencyIncrease"],pointThresholds:[15,20,40,60]},gaming:{input:["latency","packetLoss","loadedLatencyIncrease"],pointThresholds:[5,15,25,30]},rtc:{input:["latency","jitter","packetLoss","loadedLatencyIncrease"],pointThresholds:[5,15,25,40]}}},MAX_RETRIES=20,ESTIMATED_HEADER_FRACTION=.005,cfGetServerTime=function(s){var M=s.headers.get("server-timing");if(M){var X=M.match(/dur=([0-9.]+)/);if(X)return+X[1]}},getTtfb=function(s){return s.responseStart-s.requestStart},gePayloadDownload=function(s){return s.responseEnd-s.responseStart},calcDownloadDuration=function(s){var M=s.ping,X=s.payloadDownloadTime;return M+X},calcUploadDuration=function(s){var M=s.ttfb;return M},calcDownloadSpeed=function(s,M){var X=s.duration,ae=s.transferSize,Te=8*(ae||+M*(1+ESTIMATED_HEADER_FRACTION)),Pe=X/1e3;return Pe?Te/Pe:void 0},calcUploadSpeed=function(s,M){var X=s.duration,ae=8*M*(1+ESTIMATED_HEADER_FRACTION),Te=X/1e3;return Te?ae/Te:void 0},genContent=memoize$1(function(a){return"0".repeat(a)}),_qsParams=new WeakMap,_fetchOptions=new WeakMap,_responseHook=new WeakMap,_onRunningChange=new WeakMap,_onNewMeasurementStarted=new WeakMap,_onMeasurementResult=new WeakMap,_onFinished$1=new WeakMap,_onConnectionError$1=new WeakMap,_measurements=new WeakMap,_downloadApi=new WeakMap,_uploadApi=new WeakMap,_running$2=new WeakMap,_finished$1=new WeakMap,_results$1=new WeakMap,_measIdx=new WeakMap,_counter=new WeakMap,_retries=new WeakMap,_minDuration=new WeakMap,_throttleMs=new WeakMap,_estimatedServerTime=new WeakMap,_currentFetchPromise=new WeakMap,_currentNextMsmTimeoutId=new WeakMap,_BandwidthMeasurementEngine_brand=new WeakSet,BandwidthMeasurementEngine=function(){function a(s){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=M.downloadApiUrl,ae=M.uploadApiUrl,Te=M.throttleMs,Pe=Te===void 0?0:Te,x=M.estimatedServerTime,ie=x===void 0?0:x;if(_classCallCheck(this,a),_classPrivateMethodInitSpec(this,_BandwidthMeasurementEngine_brand),_classPrivateFieldInitSpec(this,_qsParams,{}),_classPrivateFieldInitSpec(this,_fetchOptions,{}),_defineProperty(this,"finishRequestDuration",1e3),_defineProperty(this,"getServerTime",cfGetServerTime),_classPrivateFieldInitSpec(this,_responseHook,function(n){return n}),_classPrivateFieldInitSpec(this,_onRunningChange,function(){}),_classPrivateFieldInitSpec(this,_onNewMeasurementStarted,function(){}),_classPrivateFieldInitSpec(this,_onMeasurementResult,function(){}),_classPrivateFieldInitSpec(this,_onFinished$1,function(){}),_classPrivateFieldInitSpec(this,_onConnectionError$1,function(){}),_classPrivateFieldInitSpec(this,_measurements,void 0),_classPrivateFieldInitSpec(this,_downloadApi,void 0),_classPrivateFieldInitSpec(this,_uploadApi,void 0),_classPrivateFieldInitSpec(this,_running$2,!1),_classPrivateFieldInitSpec(this,_finished$1,{down:!1,up:!1}),_classPrivateFieldInitSpec(this,_results$1,{down:{},up:{}}),_classPrivateFieldInitSpec(this,_measIdx,0),_classPrivateFieldInitSpec(this,_counter,0),_classPrivateFieldInitSpec(this,_retries,0),_classPrivateFieldInitSpec(this,_minDuration,-1/0),_classPrivateFieldInitSpec(this,_throttleMs,0),_classPrivateFieldInitSpec(this,_estimatedServerTime,0),_classPrivateFieldInitSpec(this,_currentFetchPromise,void 0),_classPrivateFieldInitSpec(this,_currentNextMsmTimeoutId,void 0),!s)throw new Error("Missing measurements argument");if(!X)throw new Error("Missing downloadApiUrl argument");if(!ae)throw new Error("Missing uploadApiUrl argument");_classPrivateFieldSet2(_measurements,this,s),_classPrivateFieldSet2(_downloadApi,this,X),_classPrivateFieldSet2(_uploadApi,this,ae),_classPrivateFieldSet2(_throttleMs,this,Pe),_classPrivateFieldSet2(_estimatedServerTime,this,Math.max(0,ie))}return _createClass(a,[{key:"results",get:function(){return _classPrivateFieldGet2(_results$1,this)}},{key:"qsParams",get:function(){return _classPrivateFieldGet2(_qsParams,this)},set:function(M){_classPrivateFieldSet2(_qsParams,this,M)}},{key:"fetchOptions",get:function(){return _classPrivateFieldGet2(_fetchOptions,this)},set:function(M){_classPrivateFieldSet2(_fetchOptions,this,M)}},{key:"responseHook",set:function(M){_classPrivateFieldSet2(_responseHook,this,M)}},{key:"onRunningChange",set:function(M){_classPrivateFieldSet2(_onRunningChange,this,M)}},{key:"onNewMeasurementStarted",set:function(M){_classPrivateFieldSet2(_onNewMeasurementStarted,this,M)}},{key:"onMeasurementResult",set:function(M){_classPrivateFieldSet2(_onMeasurementResult,this,M)}},{key:"onFinished",set:function(M){_classPrivateFieldSet2(_onFinished$1,this,M)}},{key:"onConnectionError",set:function(M){_classPrivateFieldSet2(_onConnectionError$1,this,M)}},{key:"pause",value:function(){clearTimeout(_classPrivateFieldGet2(_currentNextMsmTimeoutId,this)),_assertClassBrand(_BandwidthMeasurementEngine_brand,this,_cancelCurrentMeasurement).call(this),_assertClassBrand(_BandwidthMeasurementEngine_brand,this,_setRunning$2).call(this,!1)}},{key:"play",value:function(){_classPrivateFieldGet2(_running$2,this)||(_assertClassBrand(_BandwidthMeasurementEngine_brand,this,_setRunning$2).call(this,!0),_assertClassBrand(_BandwidthMeasurementEngine_brand,this,_nextMeasurement).call(this))}}])}();function _setRunning$2(a){var s=this;a!==_classPrivateFieldGet2(_running$2,this)&&(_classPrivateFieldSet2(_running$2,this,a),setTimeout(function(){return _classPrivateFieldGet2(_onRunningChange,s).call(s,_classPrivateFieldGet2(_running$2,s))}))}function _saveMeasurementResults(a,s){var M=this,X=_classPrivateFieldGet2(_measurements,this)[a],ae=X.bytes,Te=X.dir,Pe=_classPrivateFieldGet2(_results$1,this),x=Pe[Te].hasOwnProperty(ae)?Pe[Te][ae]:{timings:[],numMeasurements:_classPrivateFieldGet2(_measurements,this).filter(function(ie){var n=ie.bytes,w=ie.dir;return ae===n&&Te===w}).map(function(ie){return ie.count}).reduce(function(ie,n){return ie+n},0)};s&&x.timings.push(s),x.timings=x.timings.slice(-x.numMeasurements),Pe[Te][ae]=x,s?setTimeout(function(){_classPrivateFieldGet2(_onMeasurementResult,M).call(M,_objectSpread2({type:Te,bytes:ae},s),Pe)}):_classPrivateFieldGet2(_onNewMeasurementStarted,this).call(this,_classPrivateFieldGet2(_measurements,this)[a],Pe)}function _nextMeasurement(){var a=this,s=_classPrivateFieldGet2(_measurements,this),M=s[_classPrivateFieldGet2(_measIdx,this)];if(_classPrivateFieldGet2(_counter,this)>=M.count){var X=_classPrivateFieldGet2(_finished$1,this);if(_classPrivateFieldGet2(_minDuration,this)>this.finishRequestDuration&&!M.bypassMinDuration){var ae=M.dir;_classPrivateFieldGet2(_finished$1,this)[ae]=!0,Object.values(_classPrivateFieldGet2(_finished$1,this)).every(function(H){return H})&&_classPrivateFieldGet2(_onFinished$1,this).call(this,_classPrivateFieldGet2(_results$1,this))}_classPrivateFieldSet2(_counter,this,0),_classPrivateFieldSet2(_minDuration,this,-1/0),performance.clearResourceTimings();do _classPrivateFieldSet2(_measIdx,this,_classPrivateFieldGet2(_measIdx,this)+1);while(_classPrivateFieldGet2(_measIdx,this)<s.length&&X[s[_classPrivateFieldGet2(_measIdx,this)].dir]);if(_classPrivateFieldGet2(_measIdx,this)>=s.length){_classPrivateFieldSet2(_finished$1,this,{down:!0,up:!0}),_assertClassBrand(_BandwidthMeasurementEngine_brand,this,_setRunning$2).call(this,!1),_classPrivateFieldGet2(_onFinished$1,this).call(this,_classPrivateFieldGet2(_results$1,this));return}M=s[_classPrivateFieldGet2(_measIdx,this)]}var Te=_classPrivateFieldGet2(_measIdx,this);_classPrivateFieldGet2(_counter,this)===0&&_assertClassBrand(_BandwidthMeasurementEngine_brand,this,_saveMeasurementResults).call(this,Te);var Pe=M,x=Pe.bytes,ie=Pe.dir,n=ie==="down",w=n?_classPrivateFieldGet2(_downloadApi,this):_classPrivateFieldGet2(_uploadApi,this),O=Object.assign({},_classPrivateFieldGet2(_qsParams,this));n&&(O.bytes="".concat(x));var e="".concat(w.startsWith("http")||w.startsWith("//")?"":window.location.origin).concat(w,"?").concat(Object.entries(O).map(function(H){var U=_slicedToArray(H,2),P=U[0],f=U[1];return"".concat(P,"=").concat(f)}).join("&")),t=Object.assign({},n?{}:{method:"POST",body:genContent(x)},_classPrivateFieldGet2(_fetchOptions,this)),o,K=_classPrivateFieldSet2(_currentFetchPromise,this,fetch(e,t).then(function(H){if(H.ok)return H;throw Error(H.statusText)}).then(function(H){return a.getServerTime&&(o=a.getServerTime(H)),H}).then(function(H){return H.text().then(function(U){return _classPrivateFieldGet2(_responseHook,a)&&_classPrivateFieldGet2(_responseHook,a).call(a,{url:e,headers:H.headers,body:U}),U})}).then(function(H,U){if(K._cancel){U("cancelled");return}var P=performance.getEntriesByName(e).slice(-1)[0],f={transferSize:P.transferSize,ttfb:getTtfb(P),payloadDownloadTime:gePayloadDownload(P),serverTime:o||-1,measTime:new Date};if(f.ping=Math.max(.01,f.ttfb-(o||_classPrivateFieldGet2(_estimatedServerTime,a))),f.duration=(n?calcDownloadDuration:calcUploadDuration)(f),f.bps=(n?calcDownloadSpeed:calcUploadSpeed)(f,x),n&&x){var p=+x;f.transferSize&&(f.transferSize<p||f.transferSize/p>1.05)&&console.warn("Requested ".concat(p,"B but received ").concat(f.transferSize,"B (").concat(Math.round(f.transferSize/p*1e4)/100,"%)."))}_assertClassBrand(_BandwidthMeasurementEngine_brand,a,_saveMeasurementResults).call(a,Te,f);var i=f.duration;_classPrivateFieldSet2(_minDuration,a,_classPrivateFieldGet2(_minDuration,a)<0?i:Math.min(_classPrivateFieldGet2(_minDuration,a),i)),_classPrivateFieldSet2(_counter,a,_classPrivateFieldGet2(_counter,a)+1),_classPrivateFieldSet2(_retries,a,0),_classPrivateFieldGet2(_throttleMs,a)?_classPrivateFieldSet2(_currentNextMsmTimeoutId,a,setTimeout(function(){return _assertClassBrand(_BandwidthMeasurementEngine_brand,a,_nextMeasurement).call(a)},_classPrivateFieldGet2(_throttleMs,a))):_assertClassBrand(_BandwidthMeasurementEngine_brand,a,_nextMeasurement).call(a)}).catch(function(H){var U,P;K._cancel||(console.warn("Error fetching ".concat(e,": ").concat(H)),_classPrivateFieldSet2(_retries,a,(U=_classPrivateFieldGet2(_retries,a),P=U++,U)),P<MAX_RETRIES?_assertClassBrand(_BandwidthMeasurementEngine_brand,a,_nextMeasurement).call(a):(_classPrivateFieldSet2(_retries,a,0),_assertClassBrand(_BandwidthMeasurementEngine_brand,a,_setRunning$2).call(a,!1),_classPrivateFieldGet2(_onConnectionError$1,a).call(a,"Connection failed to ".concat(e,". Gave up after ").concat(MAX_RETRIES," retries."))))}))}function _cancelCurrentMeasurement(){var a=_classPrivateFieldGet2(_currentFetchPromise,this);a&&(a._cancel=!0)}var _excluded$5=["measureParallelLatency","parallelLatencyThrottleMs","downloadApiUrl","uploadApiUrl","estimatedServerTime"],_latencyEngine=new WeakMap,_latencyTimeout=new WeakMap,_BandwidthWithParallelLatencyEngine_brand=new WeakSet,BandwidthWithParallelLatencyEngine=function(a){function s(M){var X,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=ae.measureParallelLatency,Pe=Te===void 0?!1:Te,x=ae.parallelLatencyThrottleMs,ie=x===void 0?100:x,n=ae.downloadApiUrl,w=ae.uploadApiUrl,O=ae.estimatedServerTime,e=O===void 0?0:O,t=_objectWithoutProperties(ae,_excluded$5);return _classCallCheck(this,s),X=_callSuper(this,s,[M,_objectSpread2({downloadApiUrl:n,uploadApiUrl:w,estimatedServerTime:e},t)]),_classPrivateMethodInitSpec(X,_BandwidthWithParallelLatencyEngine_brand),_classPrivateFieldInitSpec(X,_latencyEngine,void 0),_classPrivateFieldInitSpec(X,_latencyTimeout,void 0),Pe&&(_classPrivateFieldSet2(_latencyEngine,X,new BandwidthMeasurementEngine([{dir:"down",bytes:0,count:1/0,bypassMinDuration:!0}],{downloadApiUrl:n,uploadApiUrl:w,estimatedServerTime:e,throttleMs:ie})),_classPrivateFieldGet2(_latencyEngine,X).qsParams={during:"".concat(M[0].dir,"load")},_superPropSet(s,"onRunningChange",_assertClassBrand(_BandwidthWithParallelLatencyEngine_brand,X,_setLatencyRunning),X,1),_superPropSet(s,"onConnectionError",function(){return _classPrivateFieldGet2(_latencyEngine,X).pause()},X,1)),X}return _inherits(s,a),_createClass(s,[{key:"latencyResults",get:function(){return _classPrivateFieldGet2(_latencyEngine,this)&&_classPrivateFieldGet2(_latencyEngine,this).results.down[0].timings}},{key:"onParallelLatencyResult",set:function(X){_classPrivateFieldGet2(_latencyEngine,this)&&(_classPrivateFieldGet2(_latencyEngine,this).onMeasurementResult=function(ae){return X(ae)})}},{key:"fetchOptions",get:function(){return _superPropGet(s,"fetchOptions",this,1)},set:function(X){_superPropSet(s,"fetchOptions",X,this,1),_classPrivateFieldGet2(_latencyEngine,this)&&(_classPrivateFieldGet2(_latencyEngine,this).fetchOptions=X)}},{key:"onRunningChange",set:function(X){var ae=this;_superPropSet(s,"onRunningChange",function(Te){_assertClassBrand(_BandwidthWithParallelLatencyEngine_brand,ae,_setLatencyRunning).call(ae,Te),X(Te)},this,1)}},{key:"onConnectionError",set:function(X){var ae=this;_superPropSet(s,"onConnectionError",function(){_classPrivateFieldGet2(_latencyEngine,ae)&&_classPrivateFieldGet2(_latencyEngine,ae).pause(),X.apply(void 0,arguments)},this,1)}}])}(BandwidthMeasurementEngine);function _setLatencyRunning(a){var s=this;_classPrivateFieldGet2(_latencyEngine,this)&&(a?_classPrivateFieldSet2(_latencyTimeout,this,setTimeout(function(){return _classPrivateFieldGet2(_latencyEngine,s).play()},20)):(clearTimeout(_classPrivateFieldGet2(_latencyTimeout,this)),_classPrivateFieldGet2(_latencyEngine,this).pause()))}var _excluded$4=["measurementId","logApiUrl"],_measurementId$1=new WeakMap,_token=new WeakMap,_requestTime=new WeakMap,_logApiUrl=new WeakMap,_LoggingBandwidthEngine_brand=new WeakSet,LoggingBandwidthEngine=function(a){function s(M){var X,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=ae.measurementId,Pe=ae.logApiUrl,x=_objectWithoutProperties(ae,_excluded$4);return _classCallCheck(this,s),X=_callSuper(this,s,[M,x]),_classPrivateMethodInitSpec(X,_LoggingBandwidthEngine_brand),_classPrivateFieldInitSpec(X,_measurementId$1,void 0),_classPrivateFieldInitSpec(X,_token,void 0),_classPrivateFieldInitSpec(X,_requestTime,void 0),_classPrivateFieldInitSpec(X,_logApiUrl,void 0),_classPrivateFieldSet2(_measurementId$1,X,Te),_classPrivateFieldSet2(_logApiUrl,X,Pe),_superPropSet(s,"qsParams",Pe?{measId:_classPrivateFieldGet2(_measurementId$1,X)}:{},X,1),_superPropSet(s,"responseHook",function(ie){return _assertClassBrand(_LoggingBandwidthEngine_brand,X,_loggingResponseHook).call(X,ie)},X,1),_superPropSet(s,"onMeasurementResult",function(ie){return _assertClassBrand(_LoggingBandwidthEngine_brand,X,_logMeasurement).call(X,ie)},X,1),X}return _inherits(s,a),_createClass(s,[{key:"qsParams",set:function(X){_superPropSet(s,"qsParams",_classPrivateFieldGet2(_logApiUrl,this)?_objectSpread2({measId:_classPrivateFieldGet2(_measurementId$1,this)},X):X,this,1)}},{key:"responseHook",set:function(X){var ae=this;_superPropSet(s,"responseHook",function(Te){X(Te),_assertClassBrand(_LoggingBandwidthEngine_brand,ae,_loggingResponseHook).call(ae,Te)},this,1)}},{key:"onMeasurementResult",set:function(X){var ae=this;_superPropSet(s,"onMeasurementResult",function(Te){for(var Pe=arguments.length,x=new Array(Pe>1?Pe-1:0),ie=1;ie<Pe;ie++)x[ie-1]=arguments[ie];X.apply(void 0,[Te].concat(x)),_assertClassBrand(_LoggingBandwidthEngine_brand,ae,_logMeasurement).call(ae,Te)},this,1)}}])}(BandwidthWithParallelLatencyEngine);function _loggingResponseHook(a){_classPrivateFieldGet2(_logApiUrl,this)&&(_classPrivateFieldSet2(_requestTime,this,+a.headers.get("cf-meta-request-time")),_classPrivateFieldSet2(_token,this,a.body.slice(-300).split("___").pop()))}function _logMeasurement(a){if(_classPrivateFieldGet2(_logApiUrl,this)){var s={type:a.type,bytes:a.bytes,ping:Math.round(a.ping),ttfb:Math.round(a.ttfb),payloadDownloadTime:Math.round(a.payloadDownloadTime),duration:Math.round(a.duration),transferSize:Math.round(a.transferSize),serverTime:Math.round(a.serverTime),token:_classPrivateFieldGet2(_token,this),requestTime:_classPrivateFieldGet2(_requestTime,this),measId:_classPrivateFieldGet2(_measurementId$1,this)};_classPrivateFieldSet2(_token,this,null),_classPrivateFieldSet2(_requestTime,this,null),fetch(_classPrivateFieldGet2(_logApiUrl,this),_objectSpread2({method:"POST",body:JSON.stringify(s)},this.fetchOptions))}}var _running$1=new WeakMap,_currentPromise=new WeakMap,_promiseFn=new WeakMap,_PromiseEngine_brand=new WeakSet,PromiseEngine=function(){function a(s){if(_classCallCheck(this,a),_classPrivateMethodInitSpec(this,_PromiseEngine_brand),_classPrivateFieldInitSpec(this,_running$1,!1),_classPrivateFieldInitSpec(this,_currentPromise,void 0),_classPrivateFieldInitSpec(this,_promiseFn,void 0),!s)throw new Error("Missing operation to perform");_classPrivateFieldSet2(_promiseFn,this,s),this.play()}return _createClass(a,[{key:"pause",value:function(){_assertClassBrand(_PromiseEngine_brand,this,_cancelCurrent).call(this),_assertClassBrand(_PromiseEngine_brand,this,_setRunning$1).call(this,!1)}},{key:"stop",value:function(){this.pause()}},{key:"play",value:function(){_classPrivateFieldGet2(_running$1,this)||(_assertClassBrand(_PromiseEngine_brand,this,_setRunning$1).call(this,!0),_assertClassBrand(_PromiseEngine_brand,this,_next$1).call(this))}}])}();function _setRunning$1(a){a!==_classPrivateFieldGet2(_running$1,this)&&_classPrivateFieldSet2(_running$1,this,a)}function _next$1(){var a=this,s=_classPrivateFieldSet2(_currentPromise,this,_classPrivateFieldGet2(_promiseFn,this).call(this).then(function(){!s._cancel&&_assertClassBrand(_PromiseEngine_brand,a,_next$1).call(a)}))}function _cancelCurrent(){var a=_classPrivateFieldGet2(_currentPromise,this);a&&(a._cancel=!0)}var _engines=new WeakMap,LoadNetworkEngine=function(){function a(){var s=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=M.download,ae=M.upload;if(_classCallCheck(this,a),_defineProperty(this,"qsParams",{}),_defineProperty(this,"fetchOptions",{}),_classPrivateFieldInitSpec(this,_engines,[]),!X&&!ae)throw new Error("Missing at least one of download/upload config");[[X,"download"],[ae,"upload"]].filter(function(Pe){var x=_slicedToArray(Pe,1),ie=x[0];return ie}).forEach(function(Pe){var x=_slicedToArray(Pe,2),ie=x[0],n=x[1],w=ie.apiUrl,O=ie.chunkSize;if(!w)throw new Error("Missing ".concat(n," apiUrl argument"));if(!O)throw new Error("Missing ".concat(n," chunkSize argument"))});var Te=function(x){var ie=x.apiUrl,n=x.qsParams,w=n===void 0?{}:n,O=x.fetchOptions,e=O===void 0?{}:O;return new PromiseEngine(function(){var t=Object.assign({},w,s.qsParams),o="".concat(ie.startsWith("http")||ie.startsWith("//")?"":window.location.origin).concat(ie,"?").concat(Object.entries(t).map(function(H){var U=_slicedToArray(H,2),P=U[0],f=U[1];return"".concat(P,"=").concat(f)}).join("&")),K=Object.assign({},e,s.fetchOptions);return fetch(o,K).then(function(H){if(H.ok)return H;throw Error(H.statusText)}).then(function(H){return H.text()})})};X&&_classPrivateFieldGet2(_engines,this).push(Te({apiUrl:X.apiUrl,qsParams:{bytes:"".concat(X.chunkSize)}})),ae&&_classPrivateFieldGet2(_engines,this).push(Te({apiUrl:ae.apiUrl,fetchOptions:{method:"POST",body:"0".repeat(ae.chunkSize)}}))}return _createClass(a,[{key:"pause",value:function(){_classPrivateFieldGet2(_engines,this).forEach(function(M){return M.pause()})}},{key:"stop",value:function(){this.pause()}},{key:"play",value:function(){_classPrivateFieldGet2(_engines,this).forEach(function(M){return M.play()})}}])}(),_excluded$3=["iceServers","acceptIceCandidate","dataChannelCfg"],_established=new WeakMap,_sender=new WeakMap,_receiver=new WeakMap,_senderDc=new WeakMap,_receiverDc=new WeakMap,SelfWebRtcDataConnection=function(){function a(){var s=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=M.iceServers,ae=X===void 0?[]:X,Te=M.acceptIceCandidate,Pe=Te===void 0?function(t){var o=t.protocol||"";if(!o&&t.candidate){var K=t.candidate.split(" ");K.length>=3&&(o=K[2])}return o.toLowerCase()==="udp"}:Te,x=M.dataChannelCfg,ie=x===void 0?{ordered:!1,maxRetransmits:0}:x,n=_objectWithoutProperties(M,_excluded$3);_classCallCheck(this,a),_defineProperty(this,"onOpen",function(){}),_defineProperty(this,"onClose",function(){}),_defineProperty(this,"onMessageReceived",function(){}),_classPrivateFieldInitSpec(this,_established,!1),_classPrivateFieldInitSpec(this,_sender,void 0),_classPrivateFieldInitSpec(this,_receiver,void 0),_classPrivateFieldInitSpec(this,_senderDc,void 0),_classPrivateFieldInitSpec(this,_receiverDc,void 0);var w=new RTCPeerConnection(_objectSpread2({iceServers:ae},n)),O=new RTCPeerConnection(_objectSpread2({iceServers:ae},n)),e=w.createDataChannel("channel",ie);e.onopen=function(){_classPrivateFieldSet2(_established,s,!0),s.onOpen()},e.onclose=function(){return s.close()},O.ondatachannel=function(t){var o=t.channel;o.onclose=function(){return s.close()},o.onmessage=function(K){return s.onMessageReceived(K.data)},_classPrivateFieldSet2(_receiverDc,s,o)},w.onicecandidate=function(t){t.candidate&&Pe(t.candidate)&&O.addIceCandidate(t.candidate)},O.onicecandidate=function(t){t.candidate&&Pe(t.candidate)&&w.addIceCandidate(t.candidate)},w.createOffer().then(function(t){return w.setLocalDescription(t)}).then(function(){return O.setRemoteDescription(w.localDescription)}).then(function(){return O.createAnswer()}).then(function(t){return O.setLocalDescription(t)}).then(function(){return w.setRemoteDescription(O.localDescription)}),_classPrivateFieldSet2(_sender,this,w),_classPrivateFieldSet2(_receiver,this,O),_classPrivateFieldSet2(_senderDc,this,e),_classPrivateFieldSet2(_established,this,!1)}return _createClass(a,[{key:"send",value:function(M){return _classPrivateFieldGet2(_senderDc,this).send(M)}},{key:"close",value:function(){return _classPrivateFieldGet2(_sender,this)&&_classPrivateFieldGet2(_sender,this).close(),_classPrivateFieldGet2(_receiver,this)&&_classPrivateFieldGet2(_receiver,this).close(),_classPrivateFieldGet2(_senderDc,this)&&_classPrivateFieldGet2(_senderDc,this).close(),_classPrivateFieldGet2(_receiverDc,this)&&_classPrivateFieldGet2(_receiverDc,this).close(),_classPrivateFieldGet2(_established,this)&&this.onClose(),_classPrivateFieldSet2(_established,this,!1),this}}])}(),_onCredentialsFailure=new WeakMap,_onConnectionError=new WeakMap,_onFinished=new WeakMap,_msgTracker=new WeakMap,_webRtcConnection=new WeakMap,_numMsgs=new WeakMap,PacketLossEngine=function(){function a(){var s=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=M.turnServerUri,ae=M.turnServerCredsApi,Te=M.turnServerCredsApiParser,Pe=Te===void 0?function(i){var k=i.username,F=i.credential,_=i.server;return{turnServerUser:k,turnServerPass:F,turnServerUri:_}}:Te,x=M.turnServerCredsApiIncludeCredentials,ie=x===void 0?!1:x,n=M.turnServerUser,w=M.turnServerPass,O=M.numMsgs,e=O===void 0?100:O,t=M.batchSize,o=t===void 0?10:t,K=M.batchWaitTime,H=K===void 0?10:K,U=M.responsesWaitTime,P=U===void 0?5e3:U,f=M.connectionTimeout,p=f===void 0?5e3:f;if(_classCallCheck(this,a),_classPrivateFieldInitSpec(this,_onCredentialsFailure,function(){}),_classPrivateFieldInitSpec(this,_onConnectionError,function(){}),_classPrivateFieldInitSpec(this,_onFinished,function(){}),_defineProperty(this,"onMsgSent",function(){}),_defineProperty(this,"onAllMsgsSent",function(){}),_defineProperty(this,"onMsgReceived",function(){}),_classPrivateFieldInitSpec(this,_msgTracker,{}),_classPrivateFieldInitSpec(this,_webRtcConnection,void 0),_classPrivateFieldInitSpec(this,_numMsgs,void 0),!X&&!ae)throw new Error("Missing turnServerCredsApi or turnServerUri argument");if((!n||!w)&&!ae)throw new Error("Missing either turnServerCredsApi or turnServerUser+turnServerPass arguments");_classPrivateFieldSet2(_numMsgs,this,e),(!n||!w?fetch(ae,{credentials:ie?"include":void 0}).then(function(i){return i.json()}).then(function(i){if(i.error)throw i.error;return i}).then(Pe):Promise.resolve({turnServerUser:n,turnServerPass:w})).catch(function(i){return _classPrivateFieldGet2(_onCredentialsFailure,s).call(s,i)}).then(function(i){var k=i.turnServerUser,F=i.turnServerPass,_=i.turnServerUri,C=_classPrivateFieldSet2(_webRtcConnection,s,new SelfWebRtcDataConnection({iceServers:[{urls:"turn:".concat(_||X,"?transport=udp"),username:k,credential:F}],iceTransportPolicy:"relay"})),Q=!1;setTimeout(function(){Q||(C.close(),_classPrivateFieldGet2(_onConnectionError,s).call(s,"ICE connection timeout!"))},p);var j=_classPrivateFieldGet2(_msgTracker,s);C.onOpen=function(){Q=!0;var re=s;(function T(R){if(R<=e){for(var d=R;d<=Math.min(e,R+o-1);)j[d]=!1,C.send(d),re.onMsgSent(d),d++;setTimeout(function(){return T(d)},H)}else{re.onAllMsgsSent(Object.keys(j).length);var y=function(){C.close(),_classPrivateFieldGet2(_onFinished,re).call(re,re.results)},W=setTimeout(y,P),u=Object.values(_classPrivateFieldGet2(_msgTracker,re)).filter(function(b){return!b}).length;C.onMessageReceived=function(b){clearTimeout(W),j[b]=!0,re.onMsgReceived(b),u--,u<=0&&Object.values(_classPrivateFieldGet2(_msgTracker,re)).every(function(D){return D})?y():W=setTimeout(y,P)}}})(1)},C.onMessageReceived=function(re){j[re]=!0,s.onMsgReceived(re)}}).catch(function(i){return _classPrivateFieldGet2(_onConnectionError,s).call(s,i.toString())})}return _createClass(a,[{key:"onCredentialsFailure",set:function(M){_classPrivateFieldSet2(_onCredentialsFailure,this,M)}},{key:"onConnectionError",set:function(M){_classPrivateFieldSet2(_onConnectionError,this,M)}},{key:"onFinished",set:function(M){_classPrivateFieldSet2(_onFinished,this,M)}},{key:"results",get:function(){var M=_classPrivateFieldGet2(_numMsgs,this),X=Object.keys(_classPrivateFieldGet2(_msgTracker,this)).length,ae=Object.entries(_classPrivateFieldGet2(_msgTracker,this)).filter(function(Pe){var x=_slicedToArray(Pe,2),ie=x[1];return!ie}).map(function(Pe){var x=_slicedToArray(Pe,1),ie=x[0];return+ie}),Te=ae.length/X;return{totalMessages:M,numMessagesSent:X,packetLoss:Te,lostMessages:ae}}}])}(),_excluded$2=["downloadChunkSize","uploadChunkSize","downloadApiUrl","uploadApiUrl"],_loadEngine=new WeakMap,PacketLossUnderLoadEngine=function(a){function s(){var M,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=X.downloadChunkSize,Te=X.uploadChunkSize,Pe=X.downloadApiUrl,x=X.uploadApiUrl,ie=_objectWithoutProperties(X,_excluded$2);return _classCallCheck(this,s),M=_callSuper(this,s,[ie]),_classPrivateFieldInitSpec(M,_loadEngine,void 0),(ae||Te)&&(_classPrivateFieldSet2(_loadEngine,M,new LoadNetworkEngine({download:ae?{apiUrl:Pe,chunkSize:ae}:null,upload:Te?{apiUrl:x,chunkSize:Te}:null})),_superPropSet(s,"onCredentialsFailure",_superPropSet(s,"onConnectionError",_superPropSet(s,"onFinished",function(){return _classPrivateFieldGet2(_loadEngine,M).stop()},M,1,1),M,1,1),M,1)),M}return _inherits(s,a),_createClass(s,[{key:"qsParams",set:function(X){_classPrivateFieldGet2(_loadEngine,this)&&(_classPrivateFieldGet2(_loadEngine,this).qsParams=X)}},{key:"fetchOptions",set:function(X){_classPrivateFieldGet2(_loadEngine,this)&&(_classPrivateFieldGet2(_loadEngine,this).fetchOptions=X)}},{key:"onCredentialsFailure",set:function(X){var ae=this;_superPropSet(s,"onCredentialsFailure",function(){X.apply(void 0,arguments),_classPrivateFieldGet2(_loadEngine,ae)&&_classPrivateFieldGet2(_loadEngine,ae).stop()},this,1)}},{key:"onConnectionError",set:function(X){var ae=this;_superPropSet(s,"onConnectionError",function(){X.apply(void 0,arguments),_classPrivateFieldGet2(_loadEngine,ae)&&_classPrivateFieldGet2(_loadEngine,ae).stop()},this,1)}},{key:"onFinished",set:function(X){var ae=this;_superPropSet(s,"onFinished",function(){X.apply(void 0,arguments),_classPrivateFieldGet2(_loadEngine,ae)&&_classPrivateFieldGet2(_loadEngine,ae).stop()},this,1)}}])}(PacketLossEngine),_excluded$1=["reachable"],ReachabilityEngine=_createClass(function a(s){var M=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=X.timeout,Te=ae===void 0?-1:ae,Pe=X.fetchOptions,x=Pe===void 0?{}:Pe;_classCallCheck(this,a),_defineProperty(this,"onFinished",function(){});var ie=!1,n=function(O){var e=O.reachable,t=_objectWithoutProperties(O,_excluded$1);ie||(ie=!0,M.onFinished(_objectSpread2({targetUrl:s,reachable:e},t)))};fetch(s,x).then(function(w){n({reachable:!0,response:w})}).catch(function(w){n({reachable:!1,error:w})}),Te>0&&setTimeout(function(){return n({reachable:!1,error:"Request timeout"})},Te)}),sum=function(s){return s.reduce(function(M,X){return M+X},0)},percentile=function(s){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;if(!s.length)return 0;var X=s.slice().sort(function(x,ie){return x-ie}),ae=(s.length-1)*M,Te=ae%1;if(Te===0)return X[Math.round(ae)];var Pe=[Math.floor,Math.ceil].map(function(x){return X[x(ae)]});return Pe[0]+(Pe[1]-Pe[0])*Te},_config$3=new WeakMap,_extractLoadedLatencies=new WeakMap,MeasurementCalculations=function(){function a(s){var M=this;_classCallCheck(this,a),_defineProperty(this,"getLatencyPoints",function(X){return X.timings.map(function(ae){return ae.ping})}),_defineProperty(this,"getLatency",function(X){return percentile(M.getLatencyPoints(X),_classPrivateFieldGet2(_config$3,M).latencyPercentile)}),_defineProperty(this,"getBandwidthPoints",function(X){return Object.entries(X).map(function(ae){var Te=_slicedToArray(ae,2),Pe=Te[0],x=Te[1].timings;return x.map(function(ie){var n=ie.bps,w=ie.duration,O=ie.ping,e=ie.measTime,t=ie.serverTime,o=ie.transferSize;return{bytes:+Pe,bps:n,duration:w,ping:O,measTime:e,serverTime:t,transferSize:o}})}).flat()}),_defineProperty(this,"getBandwidth",function(X){return percentile(M.getBandwidthPoints(X).filter(function(ae){return ae.duration>=_classPrivateFieldGet2(_config$3,M).bandwidthMinRequestDuration}).map(function(ae){return ae.bps}).filter(function(ae){return ae}),_classPrivateFieldGet2(_config$3,M).bandwidthPercentile)}),_defineProperty(this,"getLoadedLatency",function(X){return M.getLatency({timings:_classPrivateFieldGet2(_extractLoadedLatencies,M).call(M,X)})}),_defineProperty(this,"getLoadedJitter",function(X){return M.getJitter({timings:_classPrivateFieldGet2(_extractLoadedLatencies,M).call(M,X)})}),_defineProperty(this,"getLoadedLatencyPoints",function(X){return M.getLatencyPoints({timings:_classPrivateFieldGet2(_extractLoadedLatencies,M).call(M,X)})}),_defineProperty(this,"getPacketLoss",function(X){return X.packetLoss}),_defineProperty(this,"getPacketLossDetails",function(X){return X}),_defineProperty(this,"getReachability",function(X){return!!X.reachable}),_defineProperty(this,"getReachabilityDetails",function(X){return{host:X.host,reachable:X.reachable}}),_classPrivateFieldInitSpec(this,_config$3,void 0),_classPrivateFieldInitSpec(this,_extractLoadedLatencies,function(X){return Object.values(X).filter(function(ae){return ae.timings.length&&Math.min.apply(Math,_toConsumableArray(ae.timings.map(function(Te){return Te.duration})))>=_classPrivateFieldGet2(_config$3,M).loadedRequestMinDuration}).map(function(ae){return ae.sideLatency||[]}).flat().slice(-_classPrivateFieldGet2(_config$3,M).loadedLatencyMaxPoints)}),_classPrivateFieldSet2(_config$3,this,s)}return _createClass(a,[{key:"getJitter",value:function(M){var X=this.getLatencyPoints(M);return X.length<2?null:X.reduce(function(ae,Te){var Pe=ae.sumDeltas,x=Pe===void 0?0:Pe,ie=ae.prevLatency;return{sumDeltas:x+(ie!==void 0?Math.abs(ie-Te):0),prevLatency:Te}},{}).sumDeltas/(X.length-1)}}])}(),classificationNames=["bad","poor","average","good","great"],customResultTypes={loadedLatencyIncrease:function(s){return s.latency&&(s.downLoadedLatency||s.upLoadedLatency)?Math.max(s.downLoadedLatency,s.upLoadedLatency)-s.latency:void 0}},defaultPoints={packetLoss:0},_config$2=new WeakMap,ScoresCalculations=function(){function a(s){_classCallCheck(this,a),_classPrivateFieldInitSpec(this,_config$2,void 0),_classPrivateFieldSet2(_config$2,this,s)}return _createClass(a,[{key:"getScores",value:function(M){var X=Object.assign.apply(Object,_toConsumableArray(Object.entries(_classPrivateFieldGet2(_config$2,this).aimMeasurementScoring).map(function(ae){var Te=_slicedToArray(ae,2),Pe=Te[0],x=Te[1],ie=customResultTypes.hasOwnProperty(Pe)?customResultTypes[Pe](M):M[Pe];return ie===void 0?defaultPoints.hasOwnProperty(Pe)?_defineProperty({},Pe,defaultPoints[Pe]):{}:_defineProperty({},Pe,ie===void 0?0:+x(ie))})));return Object.assign.apply(Object,[{}].concat(_toConsumableArray(Object.entries(_classPrivateFieldGet2(_config$2,this).aimExperiencesDefs).filter(function(ae){var Te=_slicedToArray(ae,2),Pe=Te[1].input;return Pe.every(function(x){return X.hasOwnProperty(x)})}).map(function(ae){var Te=_slicedToArray(ae,2),Pe=Te[0],x=Te[1],ie=x.input,n=x.pointThresholds,w=Math.max(0,sum(ie.map(function(t){return X[t]}))),O=threshold(n,[0,1,2,3,4])(w),e=classificationNames[O];return _defineProperty({},Pe,{points:w,classificationIdx:O,classificationName:e})}))))}}])}(),_config$1=new WeakMap,_measCalc=new WeakMap,_scoresCalc=new WeakMap,_calcGetter=new WeakMap,_getV4Reachability=new WeakMap,_getV4ReachabilityDetails=new WeakMap,_getV6Reachability=new WeakMap,_getV6ReachabilityDetails=new WeakMap,Results=function(){function a(s){var M=this;_classCallCheck(this,a),_defineProperty(this,"raw",void 0),_defineProperty(this,"getUnloadedLatency",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getLatency","latency")}),_defineProperty(this,"getUnloadedJitter",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getJitter","latency")}),_defineProperty(this,"getUnloadedLatencyPoints",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getLatencyPoints","latency",[])}),_defineProperty(this,"getDownLoadedLatency",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getLoadedLatency","download")}),_defineProperty(this,"getDownLoadedJitter",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getLoadedJitter","download")}),_defineProperty(this,"getDownLoadedLatencyPoints",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getLoadedLatencyPoints","download",[])}),_defineProperty(this,"getUpLoadedLatency",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getLoadedLatency","upload")}),_defineProperty(this,"getUpLoadedJitter",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getLoadedJitter","upload")}),_defineProperty(this,"getUpLoadedLatencyPoints",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getLoadedLatencyPoints","upload",[])}),_defineProperty(this,"getDownloadBandwidth",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getBandwidth","download")}),_defineProperty(this,"getDownloadBandwidthPoints",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getBandwidthPoints","download",[])}),_defineProperty(this,"getUploadBandwidth",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getBandwidth","upload")}),_defineProperty(this,"getUploadBandwidthPoints",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getBandwidthPoints","upload",[])}),_defineProperty(this,"getPacketLoss",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getPacketLoss","packetLoss")}),_defineProperty(this,"getPacketLossDetails",function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getPacketLossDetails","packetLoss",void 0,!0)}),_defineProperty(this,"getScores",function(){return _classPrivateFieldGet2(_scoresCalc,M).getScores(M.getSummary())}),_classPrivateFieldInitSpec(this,_config$1,void 0),_classPrivateFieldInitSpec(this,_measCalc,void 0),_classPrivateFieldInitSpec(this,_scoresCalc,void 0),_classPrivateFieldInitSpec(this,_calcGetter,function(X,ae){var Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return!M.raw.hasOwnProperty(ae)||!M.raw[ae].started?Te:Pe&&M.raw[ae].error?{error:M.raw[ae].error}:_classPrivateFieldGet2(_measCalc,M)[X](M.raw[ae].results)}),_classPrivateFieldInitSpec(this,_getV4Reachability,function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getReachability","v4Reachability")}),_classPrivateFieldInitSpec(this,_getV4ReachabilityDetails,function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getReachabilityDetails","v4Reachability")}),_classPrivateFieldInitSpec(this,_getV6Reachability,function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getReachability","v6Reachability")}),_classPrivateFieldInitSpec(this,_getV6ReachabilityDetails,function(){return _classPrivateFieldGet2(_calcGetter,M).call(M,"getReachabilityDetails","v6Reachability")}),_classPrivateFieldSet2(_config$1,this,s),this.clear(),_classPrivateFieldSet2(_measCalc,this,new MeasurementCalculations(_classPrivateFieldGet2(_config$1,this))),_classPrivateFieldSet2(_scoresCalc,this,new ScoresCalculations(_classPrivateFieldGet2(_config$1,this)))}return _createClass(a,[{key:"isFinished",get:function(){return Object.values(this.raw).every(function(M){return M.finished})}},{key:"clear",value:function(){this.raw=Object.assign.apply(Object,[{}].concat(_toConsumableArray(_toConsumableArray(new Set(_classPrivateFieldGet2(_config$1,this).measurements.map(function(M){return M.type}))).map(function(M){return _defineProperty({},M,{started:!1,finished:!1,results:{}})}))))}},{key:"getSummary",value:function(){var M={download:this.getDownloadBandwidth,upload:this.getUploadBandwidth,latency:this.getUnloadedLatency,jitter:this.getUnloadedJitter,downLoadedLatency:this.getDownLoadedLatency,downLoadedJitter:this.getDownLoadedJitter,upLoadedLatency:this.getUpLoadedLatency,upLoadedJitter:this.getUpLoadedJitter,packetLoss:this.getPacketLoss,v4Reachability:_classPrivateFieldGet2(_getV4Reachability,this),v6Reachability:_classPrivateFieldGet2(_getV6Reachability,this)};return Object.assign.apply(Object,_toConsumableArray(Object.entries(M).map(function(X){var ae=_slicedToArray(X,2),Te=ae[0],Pe=ae[1],x=Pe();return x===void 0?{}:_defineProperty({},Te,x)})))}}])}(),round=function(s){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return s&&Math.round(s*Math.pow(10,M))/Math.pow(10,M)},latencyPointsParser=function(s){return s.map(function(M){return round(M,2)})},bpsPointsParser=function(s){return s.map(function(M){return{bytes:+M.bytes,bps:round(M.bps)}})},packetLossParser=function(s){return s.error?void 0:{numMessages:s.numMessagesSent,lossRatio:round(s.packetLoss,4)}},resultsParsers={latencyMs:["getUnloadedLatencyPoints",latencyPointsParser],download:["getDownloadBandwidthPoints",bpsPointsParser],upload:["getUploadBandwidthPoints",bpsPointsParser],downLoadedLatencyMs:["getDownLoadedLatencyPoints",latencyPointsParser],upLoadedLatencyMs:["getUpLoadedLatencyPoints",latencyPointsParser],packetLoss:["getPacketLossDetails",packetLossParser]},scoreParser=function(s){return{points:s.points,classification:s.classificationName}},logAimResults=function(s,M){var X=M.apiUrl,ae={};Object.entries(resultsParsers).forEach(function(Pe){var x=_slicedToArray(Pe,2),ie=x[0],n=_slicedToArray(x[1],2),w=n[0],O=n[1],e=O===void 0?function(o){return o}:O,t=s[w]();t&&(ae[ie]=e(t))});var Te=s.getScores();Te&&(ae.scores=Object.assign.apply(Object,[{}].concat(_toConsumableArray(Object.entries(Te).map(function(Pe){var x=_slicedToArray(Pe,2),ie=x[0],n=x[1];return _defineProperty({},ie,scoreParser(n))}))))),fetch(X,{method:"POST",body:JSON.stringify(ae)})},_excluded=["type"],_excluded2=["numPackets"],_excluded3=["bytes"],DEFAULT_OPTIMAL_DOWNLOAD_SIZE=1e6,DEFAULT_OPTIMAL_UPLOAD_SIZE=1e6,OPTIMAL_SIZE_RATIO=.5,pausableTypes=["latency","latencyUnderLoad","download","upload"],genMeasId=function(){return"".concat(Math.round(Math.random()*1e16))},_onFinish=new WeakMap,_onError=new WeakMap,_config=new WeakMap,_results=new WeakMap,_measurementId=new WeakMap,_curMsmIdx=new WeakMap,_curEngine=new WeakMap,_optimalDownloadChunkSize=new WeakMap,_optimalUploadChunkSize=new WeakMap,_running=new WeakMap,_finished=new WeakMap,_MeasurementEngine_brand=new WeakSet,MeasurementEngine=function(){function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck(this,a),_classPrivateMethodInitSpec(this,_MeasurementEngine_brand),_defineProperty(this,"onRunningChange",function(){}),_defineProperty(this,"onResultsChange",function(){}),_classPrivateFieldInitSpec(this,_onFinish,function(){}),_classPrivateFieldInitSpec(this,_onError,function(){}),_classPrivateFieldInitSpec(this,_config,void 0),_classPrivateFieldInitSpec(this,_results,void 0),_classPrivateFieldInitSpec(this,_measurementId,genMeasId()),_classPrivateFieldInitSpec(this,_curMsmIdx,-1),_classPrivateFieldInitSpec(this,_curEngine,void 0),_classPrivateFieldInitSpec(this,_optimalDownloadChunkSize,DEFAULT_OPTIMAL_DOWNLOAD_SIZE),_classPrivateFieldInitSpec(this,_optimalUploadChunkSize,DEFAULT_OPTIMAL_UPLOAD_SIZE),_classPrivateFieldInitSpec(this,_running,!1),_classPrivateFieldInitSpec(this,_finished,!1),_classPrivateFieldSet2(_config,this,Object.assign({},defaultConfig,s,internalConfig)),_classPrivateFieldSet2(_results,this,new Results(_classPrivateFieldGet2(_config,this))),_classPrivateFieldGet2(_config,this).autoStart&&this.play()}return _createClass(a,[{key:"results",get:function(){return _classPrivateFieldGet2(_results,this)}},{key:"isRunning",get:function(){return _classPrivateFieldGet2(_running,this)}},{key:"isFinished",get:function(){return _classPrivateFieldGet2(_finished,this)}},{key:"onFinish",set:function(M){_classPrivateFieldSet2(_onFinish,this,M)}},{key:"onError",set:function(M){_classPrivateFieldSet2(_onError,this,M)}},{key:"pause",value:function(){pausableTypes.includes(_assertClassBrand(_MeasurementEngine_brand,this,_curType).call(this))&&_classPrivateFieldGet2(_curEngine,this).pause(),_assertClassBrand(_MeasurementEngine_brand,this,_setRunning).call(this,!1)}},{key:"play",value:function(){_classPrivateFieldGet2(_running,this)||(_assertClassBrand(_MeasurementEngine_brand,this,_setRunning).call(this,!0),_assertClassBrand(_MeasurementEngine_brand,this,_next).call(this))}},{key:"restart",value:function(){_assertClassBrand(_MeasurementEngine_brand,this,_clear).call(this),this.play()}}])}();function _setRunning(a){a!==_classPrivateFieldGet2(_running,this)&&(_classPrivateFieldSet2(_running,this,a),this.onRunningChange(_classPrivateFieldGet2(_running,this)))}function _setFinished(a){var s=this;a!==_classPrivateFieldGet2(_finished,this)&&(_classPrivateFieldSet2(_finished,this,a),a&&setTimeout(function(){return _classPrivateFieldGet2(_onFinish,s).call(s,s.results)}))}function _curType(){return _classPrivateFieldGet2(_curMsmIdx,this)<0||_classPrivateFieldGet2(_curMsmIdx,this)>=_classPrivateFieldGet2(_config,this).measurements.length?null:_classPrivateFieldGet2(_config,this).measurements[_classPrivateFieldGet2(_curMsmIdx,this)].type}function _curTypeResults(){return _classPrivateFieldGet2(_results,this).raw[_assertClassBrand(_MeasurementEngine_brand,this,_curType).call(this)]||void 0}function _clear(){_assertClassBrand(_MeasurementEngine_brand,this,_destroyCurEngine).call(this),_classPrivateFieldSet2(_measurementId,this,genMeasId()),_classPrivateFieldSet2(_curMsmIdx,this,-1),_classPrivateFieldSet2(_curEngine,this,void 0),_assertClassBrand(_MeasurementEngine_brand,this,_setRunning).call(this,!1),_assertClassBrand(_MeasurementEngine_brand,this,_setFinished).call(this,!1),_classPrivateFieldGet2(_results,this).clear()}function _destroyCurEngine(){var a=_classPrivateFieldGet2(_curEngine,this);a&&(a.onFinished=a.onConnectionError=a.onFail=a.onMsgReceived=a.onCredentialsFailure=a.onMeasurementResult=function(){},pausableTypes.includes(_assertClassBrand(_MeasurementEngine_brand,this,_curType).call(this))&&a.pause())}function _next(){var a=this,s;if(pausableTypes.includes(_assertClassBrand(_MeasurementEngine_brand,this,_curType).call(this))&&_assertClassBrand(_MeasurementEngine_brand,this,_curTypeResults).call(this)&&_assertClassBrand(_MeasurementEngine_brand,this,_curTypeResults).call(this).started&&!_assertClassBrand(_MeasurementEngine_brand,this,_curTypeResults).call(this).finished&&!_assertClassBrand(_MeasurementEngine_brand,this,_curTypeResults).call(this).finishedCurrentRound&&!_assertClassBrand(_MeasurementEngine_brand,this,_curTypeResults).call(this).error){_classPrivateFieldGet2(_curEngine,this).play();return}if(_classPrivateFieldSet2(_curMsmIdx,this,(s=_classPrivateFieldGet2(_curMsmIdx,this),s++,s)),_classPrivateFieldGet2(_curMsmIdx,this)>=_classPrivateFieldGet2(_config,this).measurements.length){_assertClassBrand(_MeasurementEngine_brand,this,_setRunning).call(this,!1),_assertClassBrand(_MeasurementEngine_brand,this,_setFinished).call(this,!0);return}var M=_classPrivateFieldGet2(_config,this).measurements[_classPrivateFieldGet2(_curMsmIdx,this)],X=M.type,ae=_objectWithoutProperties(M,_excluded),Te=_assertClassBrand(_MeasurementEngine_brand,this,_curTypeResults).call(this),Pe=_classPrivateFieldGet2(_config,this),x=Pe.downloadApiUrl,ie=Pe.uploadApiUrl,n=Pe.estimatedServerTime,w;switch(X){case"v4Reachability":case"v6Reachability":w=new ReachabilityEngine("https://".concat(ae.host),{fetchOptions:{method:"GET",mode:"no-cors"}}),w.onFinished=function(p){Te.finished=!0,Te.results=_objectSpread2({host:ae.host},p),a.onResultsChange({type:X}),_assertClassBrand(_MeasurementEngine_brand,a,_next).call(a)};break;case"rpki":w=new ReachabilityEngine("https://".concat(_classPrivateFieldGet2(_config,this).rpkiInvalidHost),{timeout:5e3}),w.onFinished=function(p){(p.response?p.response.json():Promise.resolve()).then(function(i){Te.finished=!0,Te.results=_objectSpread2({host:_classPrivateFieldGet2(_config,a).rpkiInvalidHost,filteringInvalids:!p.reachable},i?{asn:i.asn,name:i.name}:{}),a.onResultsChange({type:X}),_assertClassBrand(_MeasurementEngine_brand,a,_next).call(a)})};break;case"nxdomain":w=new ReachabilityEngine("https://".concat(ae.nxhost),{fetchOptions:{mode:"no-cors"}}),w.onFinished=function(p){Te.finished=!0,Te.results={host:ae.nxhost,reachable:p.reachable},a.onResultsChange({type:X}),_assertClassBrand(_MeasurementEngine_brand,a,_next).call(a)};break;case"packetLoss":case"packetLossUnderLoad":{Te.finished=!1;var O=ae.numPackets,e=_objectWithoutProperties(ae,_excluded2),t=_classPrivateFieldGet2(_config,this),o=t.turnServerUri,K=t.turnServerCredsApiUrl,H=t.turnServerUser,U=t.turnServerPass,P=t.includeCredentials;w=new PacketLossUnderLoadEngine(_objectSpread2({turnServerUri:o,turnServerCredsApi:K,turnServerCredsApiIncludeCredentials:P,turnServerUser:H,turnServerPass:U,numMsgs:O,downloadChunkSize:ae.loadDown?_classPrivateFieldGet2(_optimalDownloadChunkSize,this):void 0,uploadChunkSize:ae.loadUp?_classPrivateFieldGet2(_optimalUploadChunkSize,this):void 0,downloadApiUrl:x,uploadApiUrl:ie},e))}w.onMsgReceived=function(){Te.results=Object.assign({},w.results),a.onResultsChange({type:X})},w.onFinished=function(){Te.finished=!0,a.onResultsChange({type:X}),_assertClassBrand(_MeasurementEngine_brand,a,_next).call(a)},w.onConnectionError=function(p){Te.error=p,a.onResultsChange({type:X}),_classPrivateFieldGet2(_onError,a).call(a,"Connection error while measuring packet loss: ".concat(p)),_assertClassBrand(_MeasurementEngine_brand,a,_next).call(a)},w.onCredentialsFailure=function(){Te.error="unable to get turn server credentials",a.onResultsChange({type:X}),_classPrivateFieldGet2(_onError,a).call(a,"Error while measuring packet loss: unable to get turn server credentials."),_assertClassBrand(_MeasurementEngine_brand,a,_next).call(a)};break;case"latency":case"latencyUnderLoad":Te.finished=!1,w=new LoggingBandwidthEngine([{dir:"down",bytes:0,count:ae.numPackets,bypassMinDuration:!0}],{downloadApiUrl:x,uploadApiUrl:ie,estimatedServerTime:n,logApiUrl:_classPrivateFieldGet2(_config,this).logMeasurementApiUrl,measurementId:_classPrivateFieldGet2(_measurementId,this),downloadChunkSize:ae.loadDown?_classPrivateFieldGet2(_optimalDownloadChunkSize,this):void 0,uploadChunkSize:ae.loadUp?_classPrivateFieldGet2(_optimalUploadChunkSize,this):void 0}),w.fetchOptions={credentials:_classPrivateFieldGet2(_config,this).includeCredentials?"include":void 0},w.onMeasurementResult=w.onNewMeasurementStarted=function(p,i){Te.results=Object.assign({},i.down[0]),a.onResultsChange({type:X})},w.onFinished=function(){Te.finished=!0,a.onResultsChange({type:X}),_classPrivateFieldGet2(_running,a)&&_assertClassBrand(_MeasurementEngine_brand,a,_next).call(a)},w.onConnectionError=function(p){Te.error=p,a.onResultsChange({type:X}),_classPrivateFieldGet2(_onError,a).call(a,"Connection error while measuring latency: ".concat(p)),_assertClassBrand(_MeasurementEngine_brand,a,_next).call(a)},w.play();break;case"download":case"upload":if(Te.finished||Te.error)_assertClassBrand(_MeasurementEngine_brand,this,_next).call(this);else{delete Te.finishedCurrentRound;var f=_classPrivateFieldGet2(_config,this)["measure".concat(X==="download"?"Down":"Up","loadLoadedLatency")];w=new LoggingBandwidthEngine([_objectSpread2({dir:X==="download"?"down":"up"},ae)],{downloadApiUrl:x,uploadApiUrl:ie,estimatedServerTime:n,logApiUrl:_classPrivateFieldGet2(_config,this).logMeasurementApiUrl,measurementId:_classPrivateFieldGet2(_measurementId,this),measureParallelLatency:f,parallelLatencyThrottleMs:_classPrivateFieldGet2(_config,this).loadedLatencyThrottle}),w.fetchOptions={credentials:_classPrivateFieldGet2(_config,this).includeCredentials?"include":void 0},w.finishRequestDuration=_classPrivateFieldGet2(_config,this).bandwidthFinishRequestDuration,w.onNewMeasurementStarted=function(p){var i=p.count,k=p.bytes,F=Te.results=Object.assign({},Te.results);!F.hasOwnProperty(k)&&(F[k]={timings:[],numMeasurements:0,sideLatency:f?[]:void 0}),F[k].numMeasurements-F[k].timings.length!==i&&(F[k].numMeasurements+=i,a.onResultsChange({type:X}))},w.onMeasurementResult=function(p){var i=p.bytes,k=_objectWithoutProperties(p,_excluded3);Te.results[i].timings.push(k),Te.results=Object.assign({},Te.results),a.onResultsChange({type:X})},w.onParallelLatencyResult=function(p){Te.results[ae.bytes].sideLatency.push(p),Te.results=Object.assign({},Te.results),a.onResultsChange({type:X})},w.onFinished=function(p){var i=!_classPrivateFieldGet2(_config,a).measurements.slice(_classPrivateFieldGet2(_curMsmIdx,a)+1).map(function(Q){return Q.type}).includes(X),k=Math.min.apply(Math,_toConsumableArray(Object.values(X==="download"?p.down:p.up).slice(-1)[0].timings.map(function(Q){return Q.duration}))),F=i||!ae.bypassMinDuration&&k>_classPrivateFieldGet2(_config,a).bandwidthFinishRequestDuration;if(!F)Te.finishedCurrentRound=!0;else{Te.finished=!0,a.onResultsChange({type:X});var _=Object.keys(Te.results).map(function(Q){return+Q}).sort(function(Q,j){return j-Q})[0],C=_*OPTIMAL_SIZE_RATIO;X==="download"&&_classPrivateFieldSet2(_optimalDownloadChunkSize,a,C),X==="upload"&&_classPrivateFieldSet2(_optimalUploadChunkSize,a,C)}_classPrivateFieldGet2(_running,a)&&_assertClassBrand(_MeasurementEngine_brand,a,_next).call(a)},w.onConnectionError=function(p){Te.error=p,a.onResultsChange({type:X}),_classPrivateFieldGet2(_onError,a).call(a,"Connection error while measuring ".concat(X,": ").concat(p)),_assertClassBrand(_MeasurementEngine_brand,a,_next).call(a)},w.play()}break}_classPrivateFieldSet2(_curEngine,this,w),Te.started=!0,this.onResultsChange({type:X})}var _logAimApiUrl=new WeakMap,_logFinalResults=new WeakMap,LoggingMeasurementEngine=function(a){function s(M){var X;_classCallCheck(this,s);for(var ae=arguments.length,Te=new Array(ae>1?ae-1:0),Pe=1;Pe<ae;Pe++)Te[Pe-1]=arguments[Pe];return X=_callSuper(this,s,[M].concat(Te)),_classPrivateFieldInitSpec(X,_logAimApiUrl,void 0),_classPrivateFieldInitSpec(X,_logFinalResults,function(x){_classPrivateFieldGet2(_logAimApiUrl,X)&&logAimResults(x,{apiUrl:_classPrivateFieldGet2(_logAimApiUrl,X)})}),_superPropSet(s,"onFinish",_classPrivateFieldGet2(_logFinalResults,X),X,1),_classPrivateFieldSet2(_logAimApiUrl,X,Object.assign({},defaultConfig,M,internalConfig).logAimApiUrl),X}return _inherits(s,a),_createClass(s,[{key:"onFinish",set:function(X){var ae=this;_superPropSet(s,"onFinish",function(Te){X(Te),_classPrivateFieldGet2(_logFinalResults,ae).call(ae,Te)},this,1)}}])}(MeasurementEngine);function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(s,M){module.exports=s.pdfjsLib=M()})(globalThis,()=>(()=>{var __webpack_modules__=[,(a,s)=>{var tt;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=b,s.bytesToString=G,s.createValidAbsoluteUrl=J,s.getModificationDate=Ee,s.getUuid=Ne,s.getVerbosityLevel=d,s.info=y,s.isArrayBuffer=Ce,s.isArrayEqual=ce,s.isNodeJS=void 0,s.normalizeUnicode=_e,s.objectFromMap=de,s.objectSize=ke,s.setVerbosityLevel=R,s.shadow=N,s.string32=Ae,s.stringToBytes=se,s.stringToPDFString=ue,s.stringToUTF8String=le,s.unreachable=u,s.utf8StringToString=be,s.warn=W;const M=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=M;const X=[1,0,0,1,0,0];s.IDENTITY_MATRIX=X;const ae=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=ae;const Te=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=Te;const Pe=1.35;s.LINE_FACTOR=Pe;const x=.35;s.LINE_DESCENT_FACTOR=x;const ie=x/Pe;s.BASELINE_FACTOR=ie;const n={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=n;const w={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=w;const O="pdfjs_internal_editor_";s.AnnotationEditorPrefix=O;const e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=e;const t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=t;const o={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=o;const K={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=K;const H={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=H;const U={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=U;const P={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=P;const f={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=f;const p={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=p;const i={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=i;const k={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=k;const F={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=F;const _={O:"PageOpen",C:"PageClose"};s.PageActionEventType=_;const C={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=C;const Q={NONE:0,BINARY:1};s.CMapCompressionType=Q;const j={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=j;const re={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=re;let T=C.WARNINGS;function R(je){Number.isInteger(je)&&(T=je)}function d(){return T}function y(je){T>=C.INFOS&&console.log(`Info: ${je}`)}function W(je){T>=C.WARNINGS&&console.log(`Warning: ${je}`)}function u(je){throw new Error(je)}function b(je,$e){je||u($e)}function D(je){switch(je==null?void 0:je.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function J(je,$e=null,He=null){if(!je)return null;try{if(He&&typeof je=="string"){if(He.addDefaultProtocol&&je.startsWith("www.")){const st=je.match(/\./g);(st==null?void 0:st.length)>=2&&(je=`http://${je}`)}if(He.tryConvertEncoding)try{je=le(je)}catch{}}const Ve=$e?new URL(je,$e):new URL(je);if(D(Ve))return Ve}catch{}return null}function N(je,$e,He,Ve=!1){return Object.defineProperty(je,$e,{value:He,enumerable:!Ve,configurable:!0,writable:!1}),He}const v=function(){function $e(He,Ve){this.constructor===$e&&u("Cannot initialize BaseException."),this.message=He,this.name=Ve}return $e.prototype=new Error,$e.constructor=$e,$e}();s.BaseException=v;class S extends v{constructor($e,He){super($e,"PasswordException"),this.code=He}}s.PasswordException=S;class I extends v{constructor($e,He){super($e,"UnknownErrorException"),this.details=He}}s.UnknownErrorException=I;class h extends v{constructor($e){super($e,"InvalidPDFException")}}s.InvalidPDFException=h;class B extends v{constructor($e){super($e,"MissingPDFException")}}s.MissingPDFException=B;class r extends v{constructor($e,He){super($e,"UnexpectedResponseException"),this.status=He}}s.UnexpectedResponseException=r;class A extends v{constructor($e){super($e,"FormatError")}}s.FormatError=A;class E extends v{constructor($e){super($e,"AbortException")}}s.AbortException=E;function G(je){(typeof je!="object"||(je==null?void 0:je.length)===void 0)&&u("Invalid argument for bytesToString");const $e=je.length,He=8192;if($e<He)return String.fromCharCode.apply(null,je);const Ve=[];for(let st=0;st<$e;st+=He){const pt=Math.min(st+He,$e),at=je.subarray(st,pt);Ve.push(String.fromCharCode.apply(null,at))}return Ve.join("")}function se(je){typeof je!="string"&&u("Invalid argument for stringToBytes");const $e=je.length,He=new Uint8Array($e);for(let Ve=0;Ve<$e;++Ve)He[Ve]=je.charCodeAt(Ve)&255;return He}function Ae(je){return String.fromCharCode(je>>24&255,je>>16&255,je>>8&255,je&255)}function ke(je){return Object.keys(je).length}function de(je){const $e=Object.create(null);for(const[He,Ve]of je)$e[He]=Ve;return $e}function Ie(){const je=new Uint8Array(4);return je[0]=1,new Uint32Array(je.buffer,0,1)[0]===1}function ge(){try{return new Function(""),!0}catch{return!1}}class Be{static get isLittleEndian(){return N(this,"isLittleEndian",Ie())}static get isEvalSupported(){return N(this,"isEvalSupported",ge())}static get isOffscreenCanvasSupported(){return N(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?N(this,"platform",{isWin:!1,isMac:!1}):N(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var $e,He;return N(this,"isCSSRoundSupported",(He=($e=globalThis.CSS)==null?void 0:$e.supports)==null?void 0:He.call($e,"width: round(1.5px, 1px)"))}}s.FeatureTest=Be;const ee=[...Array(256).keys()].map(je=>je.toString(16).padStart(2,"0"));class te{static makeHexColor($e,He,Ve){return`#${ee[$e]}${ee[He]}${ee[Ve]}`}static scaleMinMax($e,He){let Ve;$e[0]?($e[0]<0&&(Ve=He[0],He[0]=He[1],He[1]=Ve),He[0]*=$e[0],He[1]*=$e[0],$e[3]<0&&(Ve=He[2],He[2]=He[3],He[3]=Ve),He[2]*=$e[3],He[3]*=$e[3]):(Ve=He[0],He[0]=He[2],He[2]=Ve,Ve=He[1],He[1]=He[3],He[3]=Ve,$e[1]<0&&(Ve=He[2],He[2]=He[3],He[3]=Ve),He[2]*=$e[1],He[3]*=$e[1],$e[2]<0&&(Ve=He[0],He[0]=He[1],He[1]=Ve),He[0]*=$e[2],He[1]*=$e[2]),He[0]+=$e[4],He[1]+=$e[4],He[2]+=$e[5],He[3]+=$e[5]}static transform($e,He){return[$e[0]*He[0]+$e[2]*He[1],$e[1]*He[0]+$e[3]*He[1],$e[0]*He[2]+$e[2]*He[3],$e[1]*He[2]+$e[3]*He[3],$e[0]*He[4]+$e[2]*He[5]+$e[4],$e[1]*He[4]+$e[3]*He[5]+$e[5]]}static applyTransform($e,He){const Ve=$e[0]*He[0]+$e[1]*He[2]+He[4],st=$e[0]*He[1]+$e[1]*He[3]+He[5];return[Ve,st]}static applyInverseTransform($e,He){const Ve=He[0]*He[3]-He[1]*He[2],st=($e[0]*He[3]-$e[1]*He[2]+He[2]*He[5]-He[4]*He[3])/Ve,pt=(-$e[0]*He[1]+$e[1]*He[0]+He[4]*He[1]-He[5]*He[0])/Ve;return[st,pt]}static getAxialAlignedBoundingBox($e,He){const Ve=this.applyTransform($e,He),st=this.applyTransform($e.slice(2,4),He),pt=this.applyTransform([$e[0],$e[3]],He),at=this.applyTransform([$e[2],$e[1]],He);return[Math.min(Ve[0],st[0],pt[0],at[0]),Math.min(Ve[1],st[1],pt[1],at[1]),Math.max(Ve[0],st[0],pt[0],at[0]),Math.max(Ve[1],st[1],pt[1],at[1])]}static inverseTransform($e){const He=$e[0]*$e[3]-$e[1]*$e[2];return[$e[3]/He,-$e[1]/He,-$e[2]/He,$e[0]/He,($e[2]*$e[5]-$e[4]*$e[3])/He,($e[4]*$e[1]-$e[5]*$e[0])/He]}static singularValueDecompose2dScale($e){const He=[$e[0],$e[2],$e[1],$e[3]],Ve=$e[0]*He[0]+$e[1]*He[2],st=$e[0]*He[1]+$e[1]*He[3],pt=$e[2]*He[0]+$e[3]*He[2],at=$e[2]*He[1]+$e[3]*He[3],Re=(Ve+at)/2,Ge=Math.sqrt((Ve+at)**2-4*(Ve*at-pt*st))/2,gt=Re+Ge||1,rt=Re-Ge||1;return[Math.sqrt(gt),Math.sqrt(rt)]}static normalizeRect($e){const He=$e.slice(0);return $e[0]>$e[2]&&(He[0]=$e[2],He[2]=$e[0]),$e[1]>$e[3]&&(He[1]=$e[3],He[3]=$e[1]),He}static intersect($e,He){const Ve=Math.max(Math.min($e[0],$e[2]),Math.min(He[0],He[2])),st=Math.min(Math.max($e[0],$e[2]),Math.max(He[0],He[2]));if(Ve>st)return null;const pt=Math.max(Math.min($e[1],$e[3]),Math.min(He[1],He[3])),at=Math.min(Math.max($e[1],$e[3]),Math.max(He[1],He[3]));return pt>at?null:[Ve,pt,st,at]}static bezierBoundingBox($e,He,Ve,st,pt,at,Re,Ge){const gt=[],rt=[[],[]];let Bt,St,jn,dt,Zt,Gt,Ke,Ue;for(let ft=0;ft<2;++ft){if(ft===0?(St=6*$e-12*Ve+6*pt,Bt=-3*$e+9*Ve-9*pt+3*Re,jn=3*Ve-3*$e):(St=6*He-12*st+6*at,Bt=-3*He+9*st-9*at+3*Ge,jn=3*st-3*He),Math.abs(Bt)<1e-12){if(Math.abs(St)<1e-12)continue;dt=-jn/St,0<dt&&dt<1&&gt.push(dt);continue}Ke=St*St-4*jn*Bt,Ue=Math.sqrt(Ke),!(Ke<0)&&(Zt=(-St+Ue)/(2*Bt),0<Zt&&Zt<1&&gt.push(Zt),Gt=(-St-Ue)/(2*Bt),0<Gt&&Gt<1&&gt.push(Gt))}let ze=gt.length,qe;const ct=ze;for(;ze--;)dt=gt[ze],qe=1-dt,rt[0][ze]=qe*qe*qe*$e+3*qe*qe*dt*Ve+3*qe*dt*dt*pt+dt*dt*dt*Re,rt[1][ze]=qe*qe*qe*He+3*qe*qe*dt*st+3*qe*dt*dt*at+dt*dt*dt*Ge;return rt[0][ct]=$e,rt[1][ct]=He,rt[0][ct+1]=Re,rt[1][ct+1]=Ge,rt[0].length=rt[1].length=ct+2,[Math.min(...rt[0]),Math.min(...rt[1]),Math.max(...rt[0]),Math.max(...rt[1])]}}s.Util=te;const fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ue(je){if(je[0]>=""){let He;if(je[0]===""&&je[1]===""?He="utf-16be":je[0]===""&&je[1]===""?He="utf-16le":je[0]===""&&je[1]===""&&je[2]===""&&(He="utf-8"),He)try{const Ve=new TextDecoder(He,{fatal:!0}),st=se(je);return Ve.decode(st)}catch(Ve){W(`stringToPDFString: "${Ve}".`)}}const $e=[];for(let He=0,Ve=je.length;He<Ve;He++){const st=fe[je.charCodeAt(He)];$e.push(st?String.fromCharCode(st):je.charAt(He))}return $e.join("")}function le(je){return decodeURIComponent(escape(je))}function be(je){return unescape(encodeURIComponent(je))}function Ce(je){return typeof je=="object"&&(je==null?void 0:je.byteLength)!==void 0}function ce(je,$e){if(je.length!==$e.length)return!1;for(let He=0,Ve=je.length;He<Ve;He++)if(je[He]!==$e[He])return!1;return!0}function Ee(je=new Date){return[je.getUTCFullYear().toString(),(je.getUTCMonth()+1).toString().padStart(2,"0"),je.getUTCDate().toString().padStart(2,"0"),je.getUTCHours().toString().padStart(2,"0"),je.getUTCMinutes().toString().padStart(2,"0"),je.getUTCSeconds().toString().padStart(2,"0")].join("")}class ve{constructor(){At(this,tt,!1);this.promise=new Promise(($e,He)=>{this.resolve=Ve=>{Pt(this,tt,!0),$e(Ve)},this.reject=Ve=>{Pt(this,tt,!0),He(Ve)}})}get settled(){return Me(this,tt)}}tt=new WeakMap,s.PromiseCapability=ve;let he=null,Fe=null;function _e(je){return he||(he=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Fe=new Map([["","t"]])),je.replaceAll(he,($e,He,Ve)=>He?He.normalize("NFKC"):Fe.get(Ve))}function Ne(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const je=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(je);else for(let $e=0;$e<32;$e++)je[$e]=Math.floor(Math.random()*255);return G(je)}const Ze="pdfjs_internal_id_";s.AnnotationPrefix=Ze},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var a,M,X,ae,pa,Pe,uA,ie,n,w,O,e,t,o,K,H,hA,P,f,s0,i,k;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(_){if(typeof _=="string"||_ instanceof URL?_={url:_}:(0,_util.isArrayBuffer)(_)&&(_={data:_}),typeof _!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!_.url&&!_.data&&!_.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const C=new PDFDocumentLoadingTask,{docId:Q}=C,j=_.url?getUrlProp(_.url):null,re=_.data?getDataProp(_.data):null,T=_.httpHeaders||null,R=_.withCredentials===!0,d=_.password??null,y=_.range instanceof PDFDataRangeTransport?_.range:null,W=Number.isInteger(_.rangeChunkSize)&&_.rangeChunkSize>0?_.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let u=_.worker instanceof PDFWorker?_.worker:null;const b=_.verbosity,D=typeof _.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(_.docBaseUrl)?_.docBaseUrl:null,J=typeof _.cMapUrl=="string"?_.cMapUrl:null,N=_.cMapPacked!==!1,v=_.CMapReaderFactory||DefaultCMapReaderFactory,S=typeof _.standardFontDataUrl=="string"?_.standardFontDataUrl:null,I=_.StandardFontDataFactory||DefaultStandardFontDataFactory,h=_.stopAtErrors!==!0,B=Number.isInteger(_.maxImageSize)&&_.maxImageSize>-1?_.maxImageSize:-1,r=_.isEvalSupported!==!1,A=typeof _.isOffscreenCanvasSupported=="boolean"?_.isOffscreenCanvasSupported:!_util.isNodeJS,E=Number.isInteger(_.canvasMaxAreaInBytes)?_.canvasMaxAreaInBytes:-1,G=typeof _.disableFontFace=="boolean"?_.disableFontFace:_util.isNodeJS,se=_.fontExtraProperties===!0,Ae=_.enableXfa===!0,ke=_.ownerDocument||globalThis.document,de=_.disableRange===!0,Ie=_.disableStream===!0,ge=_.disableAutoFetch===!0,Be=_.pdfBug===!0,ee=y?y.length:_.length??NaN,te=typeof _.useSystemFonts=="boolean"?_.useSystemFonts:!_util.isNodeJS&&!G,fe=typeof _.useWorkerFetch=="boolean"?_.useWorkerFetch:v===_display_utils.DOMCMapReaderFactory&&I===_display_utils.DOMStandardFontDataFactory&&J&&S&&(0,_display_utils.isValidFetchUrl)(J,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(S,document.baseURI),ue=_.canvasFactory||new DefaultCanvasFactory({ownerDocument:ke}),le=_.filterFactory||new DefaultFilterFactory({docId:Q,ownerDocument:ke}),be=null;(0,_util.setVerbosityLevel)(b);const Ce={canvasFactory:ue,filterFactory:le};if(fe||(Ce.cMapReaderFactory=new v({baseUrl:J,isCompressed:N}),Ce.standardFontDataFactory=new I({baseUrl:S})),!u){const ve={verbosity:b,port:_worker_options.GlobalWorkerOptions.workerPort};u=ve.port?PDFWorker.fromPort(ve):new PDFWorker(ve),C._worker=u}const ce={docId:Q,apiVersion:"3.11.174",data:re,password:d,disableAutoFetch:ge,rangeChunkSize:W,length:ee,docBaseUrl:D,enableXfa:Ae,evaluatorOptions:{maxImageSize:B,disableFontFace:G,ignoreErrors:h,isEvalSupported:r,isOffscreenCanvasSupported:A,canvasMaxAreaInBytes:E,fontExtraProperties:se,useSystemFonts:te,cMapUrl:fe?J:null,standardFontDataUrl:fe?S:null}},Ee={ignoreErrors:h,isEvalSupported:r,disableFontFace:G,fontExtraProperties:se,enableXfa:Ae,ownerDocument:ke,disableAutoFetch:ge,pdfBug:Be,styleElement:be};return u.promise.then(function(){if(C.destroyed)throw new Error("Loading aborted");const ve=_fetchDocument(u,ce),he=new Promise(function(Fe){let _e;y?_e=new _transport_stream.PDFDataTransportStream({length:ee,initialData:y.initialData,progressiveDone:y.progressiveDone,contentDispositionFilename:y.contentDispositionFilename,disableRange:de,disableStream:Ie},y):re||(_e=(Ze=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Ze):(0,_display_utils.isValidFetchUrl)(Ze.url)?new _displayFetch_stream.PDFFetchStream(Ze):new _displayNetwork.PDFNetworkStream(Ze))({url:j,length:ee,httpHeaders:T,withCredentials:R,rangeChunkSize:W,disableRange:de,disableStream:Ie})),Fe(_e)});return Promise.all([ve,he]).then(function([Fe,_e]){if(C.destroyed)throw new Error("Loading aborted");const Ne=new _message_handler.MessageHandler(Q,Fe,u.port),Ze=new WorkerTransport(Ne,C,_e,Ee,Ce);C._transport=Ze,Ne.send("Ready",null)})}).catch(C._capability.reject),C}async function _fetchDocument(_,C){if(_.destroyed)throw new Error("Worker was destroyed");const Q=await _.messageHandler.sendWithPromise("GetDocRequest",C,C.data?[C.data.buffer]:null);if(_.destroyed)throw new Error("Worker was destroyed");return Q}function getUrlProp(_){if(_ instanceof URL)return _.href;try{return new URL(_,window.location).href}catch{if(_util.isNodeJS&&typeof _=="string")return _}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_){if(_util.isNodeJS&&typeof Buffer<"u"&&_ instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength)return _;if(typeof _=="string")return(0,_util.stringToBytes)(_);if(typeof _=="object"&&!isNaN(_==null?void 0:_.length)||(0,_util.isArrayBuffer)(_))return new Uint8Array(_);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${bo(s,a)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var C,Q,j;this.destroyed=!0;try{(C=this._worker)!=null&&C.port&&(this._worker._pendingDestroy=!0),await((Q=this._transport)==null?void 0:Q.destroy())}catch(re){throw(j=this._worker)!=null&&j.port&&delete this._worker._pendingDestroy,re}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};a=new WeakMap,At(s,a,0);let PDFDocumentLoadingTask=s;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(C,Q,j=!1,re=null){this.length=C,this.initialData=Q,this.progressiveDone=j,this.contentDispositionFilename=re,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(C){this._rangeListeners.push(C)}addProgressListener(C){this._progressListeners.push(C)}addProgressiveReadListener(C){this._progressiveReadListeners.push(C)}addProgressiveDoneListener(C){this._progressiveDoneListeners.push(C)}onDataRange(C,Q){for(const j of this._rangeListeners)j(C,Q)}onDataProgress(C,Q){this._readyCapability.promise.then(()=>{for(const j of this._progressListeners)j(C,Q)})}onDataProgressiveRead(C){this._readyCapability.promise.then(()=>{for(const Q of this._progressiveReadListeners)Q(C)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const C of this._progressiveDoneListeners)C()})}transportReady(){this._readyCapability.resolve()}requestDataRange(C,Q){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(C,Q){this._pdfInfo=C,this._transport=Q,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(j=>{if(!j)return j;const re=[];for(const T in j)re.push(...j[T]);return re}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(C){return this._transport.getPage(C)}getPageIndex(C){return this._transport.getPageIndex(C)}getDestinations(){return this._transport.getDestinations()}getDestination(C){return this._transport.getDestination(C)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(C=!1){return this._transport.startCleanup(C||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(C,Q,j,re=!1){At(this,ae);At(this,Pe);At(this,M,null);At(this,X,!1);this._pageIndex=C,this._pageInfo=Q,this._transport=j,this._stats=re?new _display_utils.StatTimer:null,this._pdfBug=re,this.commonObjs=j.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:C,rotation:Q=this.rotate,offsetX:j=0,offsetY:re=0,dontFlip:T=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:C,rotation:Q,offsetX:j,offsetY:re,dontFlip:T})}getAnnotations({intent:C="display"}={}){const Q=this._transport.getRenderingIntent(C);return this._transport.getAnnotations(this._pageIndex,Q.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var C;return((C=this._transport._htmlForXfa)==null?void 0:C.children[this._pageIndex])||null}render({canvasContext:C,viewport:Q,intent:j="display",annotationMode:re=_util.AnnotationMode.ENABLE,transform:T=null,background:R=null,optionalContentConfigPromise:d=null,annotationCanvasMap:y=null,pageColors:W=null,printAnnotationStorage:u=null}){var I,h;(I=this._stats)==null||I.time("Overall");const b=this._transport.getRenderingIntent(j,re,u);Pt(this,X,!1),ht(this,Pe,uA).call(this),d||(d=this._transport.getOptionalContentConfig());let D=this._intentStates.get(b.cacheKey);D||(D=Object.create(null),this._intentStates.set(b.cacheKey,D)),D.streamReaderCancelTimeout&&(clearTimeout(D.streamReaderCancelTimeout),D.streamReaderCancelTimeout=null);const J=!!(b.renderingIntent&_util.RenderingIntentFlag.PRINT);D.displayReadyCapability||(D.displayReadyCapability=new _util.PromiseCapability,D.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(b));const N=B=>{var r,A;D.renderTasks.delete(v),(this._maybeCleanupAfterRender||J)&&Pt(this,X,!0),ht(this,ae,pa).call(this,!J),B?(v.capability.reject(B),this._abortOperatorList({intentState:D,reason:B instanceof Error?B:new Error(B)})):v.capability.resolve(),(r=this._stats)==null||r.timeEnd("Rendering"),(A=this._stats)==null||A.timeEnd("Overall")},v=new InternalRenderTask({callback:N,params:{canvasContext:C,viewport:Q,transform:T,background:R},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:y,operatorList:D.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!J,pdfBug:this._pdfBug,pageColors:W});(D.renderTasks||(D.renderTasks=new Set)).add(v);const S=v.task;return Promise.all([D.displayReadyCapability.promise,d]).then(([B,r])=>{var A;if(this.destroyed){N();return}(A=this._stats)==null||A.time("Rendering"),v.initializeGraphics({transparency:B,optionalContentConfig:r}),v.operatorListChanged()}).catch(N),S}getOperatorList({intent:C="display",annotationMode:Q=_util.AnnotationMode.ENABLE,printAnnotationStorage:j=null}={}){var y;function re(){R.operatorList.lastChunk&&(R.opListReadCapability.resolve(R.operatorList),R.renderTasks.delete(d))}const T=this._transport.getRenderingIntent(C,Q,j,!0);let R=this._intentStates.get(T.cacheKey);R||(R=Object.create(null),this._intentStates.set(T.cacheKey,R));let d;return R.opListReadCapability||(d=Object.create(null),d.operatorListChanged=re,R.opListReadCapability=new _util.PromiseCapability,(R.renderTasks||(R.renderTasks=new Set)).add(d),R.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(y=this._stats)==null||y.time("Page Request"),this._pumpOperatorList(T)),R.opListReadCapability.promise}streamTextContent({includeMarkedContent:C=!1,disableNormalization:Q=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:C===!0,disableNormalization:Q===!0},{highWaterMark:100,size(re){return re.items.length}})}getTextContent(C={}){if(this._transport._htmlForXfa)return this.getXfa().then(j=>_xfa_text.XfaText.textContent(j));const Q=this.streamTextContent(C);return new Promise(function(j,re){function T(){R.read().then(function({value:y,done:W}){if(W){j(d);return}Object.assign(d.styles,y.styles),d.items.push(...y.items),T()},re)}const R=Q.getReader(),d={items:[],styles:Object.create(null)};T()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const C=[];for(const Q of this._intentStates.values())if(this._abortOperatorList({intentState:Q,reason:new Error("Page was destroyed."),force:!0}),!Q.opListReadCapability)for(const j of Q.renderTasks)C.push(j.completed),j.cancel();return this.objs.clear(),Pt(this,X,!1),ht(this,Pe,uA).call(this),Promise.all(C)}cleanup(C=!1){Pt(this,X,!0);const Q=ht(this,ae,pa).call(this,!1);return C&&Q&&this._stats&&(this._stats=new _display_utils.StatTimer),Q}_startRenderPage(C,Q){var re,T;const j=this._intentStates.get(Q);j&&((re=this._stats)==null||re.timeEnd("Page Request"),(T=j.displayReadyCapability)==null||T.resolve(C))}_renderPageChunk(C,Q){for(let j=0,re=C.length;j<re;j++)Q.operatorList.fnArray.push(C.fnArray[j]),Q.operatorList.argsArray.push(C.argsArray[j]);Q.operatorList.lastChunk=C.lastChunk,Q.operatorList.separateAnnots=C.separateAnnots;for(const j of Q.renderTasks)j.operatorListChanged();C.lastChunk&&ht(this,ae,pa).call(this,!0)}_pumpOperatorList({renderingIntent:C,cacheKey:Q,annotationStorageSerializable:j}){const{map:re,transfers:T}=j,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:C,cacheKey:Q,annotationStorage:re},T).getReader(),y=this._intentStates.get(Q);y.streamReader=d;const W=()=>{d.read().then(({value:u,done:b})=>{if(b){y.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,y),W())},u=>{if(y.streamReader=null,!this._transport.destroyed){if(y.operatorList){y.operatorList.lastChunk=!0;for(const b of y.renderTasks)b.operatorListChanged();ht(this,ae,pa).call(this,!0)}if(y.displayReadyCapability)y.displayReadyCapability.reject(u);else if(y.opListReadCapability)y.opListReadCapability.reject(u);else throw u}})};W()}_abortOperatorList({intentState:C,reason:Q,force:j=!1}){if(C.streamReader){if(C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null),!j){if(C.renderTasks.size>0)return;if(Q instanceof _display_utils.RenderingCancelledException){let re=RENDERING_CANCELLED_TIMEOUT;Q.extraDelay>0&&Q.extraDelay<1e3&&(re+=Q.extraDelay),C.streamReaderCancelTimeout=setTimeout(()=>{C.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:C,reason:Q,force:!0})},re);return}}if(C.streamReader.cancel(new _util.AbortException(Q.message)).catch(()=>{}),C.streamReader=null,!this._transport.destroyed){for(const[re,T]of this._intentStates)if(T===C){this._intentStates.delete(re);break}this.cleanup()}}}get stats(){return this._stats}}M=new WeakMap,X=new WeakMap,ae=new WeakSet,pa=function(C=!1){if(ht(this,Pe,uA).call(this),!Me(this,X)||this.destroyed)return!1;if(C)return Pt(this,M,setTimeout(()=>{Pt(this,M,null),ht(this,ae,pa).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Q,operatorList:j}of this._intentStates.values())if(Q.size>0||!j.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Pt(this,X,!1),!0},Pe=new WeakSet,uA=function(){Me(this,M)&&(clearTimeout(Me(this,M)),Pt(this,M,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){At(this,ie,new Set);At(this,n,Promise.resolve())}postMessage(C,Q){const j={data:structuredClone(C,Q?{transfer:Q}:null)};Me(this,n).then(()=>{for(const re of Me(this,ie))re.call(this,j)})}addEventListener(C,Q){Me(this,ie).add(Q)}removeEventListener(C,Q){Me(this,ie).delete(Q)}terminate(){Me(this,ie).clear()}}ie=new WeakMap,n=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const _=(w=document==null?void 0:document.currentScript)==null?void 0:w.src;_&&(PDFWorkerUtil.fallbackWorkerSrc=_.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(_,C){let Q;try{if(Q=new URL(_),!Q.origin||Q.origin==="null")return!1}catch{return!1}const j=new URL(C,Q);return Q.origin===j.origin},PDFWorkerUtil.createCDNWrapper=function(_){const C=`importScripts("${_}");`;return URL.createObjectURL(new Blob([C]))}}const _PDFWorker=class _PDFWorker{constructor({name:_=null,port:C=null,verbosity:Q=(0,_util.getVerbosityLevel)()}={}){var j;if(this.name=_,this.destroyed=!1,this.verbosity=Q,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,C){if((j=Me(_PDFWorker,O))!=null&&j.has(C))throw new Error("Cannot use more than one PDFWorker per port.");(Me(_PDFWorker,O)||Pt(_PDFWorker,O,new WeakMap)).set(C,this),this._initializeFromPort(C);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(_){this._port=_,this._messageHandler=new _message_handler.MessageHandler("main","worker",_),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:_}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,_)||(_=PDFWorkerUtil.createCDNWrapper(new URL(_,window.location).href));const C=new Worker(_),Q=new _message_handler.MessageHandler("main","worker",C),j=()=>{C.removeEventListener("error",re),Q.destroy(),C.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},re=()=>{this._webWorker||j()};C.addEventListener("error",re),Q.on("test",R=>{if(C.removeEventListener("error",re),this.destroyed){j();return}R?(this._messageHandler=Q,this._port=C,this._webWorker=C,this._readyCapability.resolve(),Q.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Q.destroy(),C.terminate())}),Q.on("ready",R=>{if(C.removeEventListener("error",re),this.destroyed){j();return}try{T()}catch{this._setupFakeWorker()}});const T=()=>{const R=new Uint8Array;Q.send("test",R,[R.buffer])};T();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(_=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const C=new LoopbackPort;this._port=C;const Q=`fake${PDFWorkerUtil.fakeWorkerId++}`,j=new _message_handler.MessageHandler(Q+"_worker",Q,C);_.setup(j,C);const re=new _message_handler.MessageHandler(Q,Q+"_worker",C);this._messageHandler=re,this._readyCapability.resolve(),re.send("configure",{verbosity:this.verbosity})}).catch(_=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${_.message}".`))})}destroy(){var _;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(_=Me(_PDFWorker,O))==null||_.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(_){var Q;if(!(_!=null&&_.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const C=(Q=Me(this,O))==null?void 0:Q.get(_.port);if(C){if(C._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return C}return new _PDFWorker(_)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var _;try{return((_=globalThis.pdfjsWorker)==null?void 0:_.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};O=new WeakMap,At(_PDFWorker,O,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(C,Q,j,re,T){At(this,H);At(this,e,new Map);At(this,t,new Map);At(this,o,new Map);At(this,K,null);this.messageHandler=C,this.loadingTask=Q,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:re.ownerDocument,styleElement:re.styleElement}),this._params=re,this.canvasFactory=T.canvasFactory,this.filterFactory=T.filterFactory,this.cMapReaderFactory=T.cMapReaderFactory,this.standardFontDataFactory=T.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=j,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(C,Q=_util.AnnotationMode.ENABLE,j=null,re=!1){let T=_util.RenderingIntentFlag.DISPLAY,R=_annotation_storage.SerializableEmpty;switch(C){case"any":T=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":T=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${C}`)}switch(Q){case _util.AnnotationMode.DISABLE:T+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:T+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:T+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,R=(T&_util.RenderingIntentFlag.PRINT&&j instanceof _annotation_storage.PrintAnnotationStorage?j:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Q}`)}return re&&(T+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:T,cacheKey:`${T}_${R.hash}`,annotationStorageSerializable:R}}destroy(){var j;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(j=Me(this,K))==null||j.reject(new Error("Worker was destroyed during onPassword callback"));const C=[];for(const re of Me(this,t).values())C.push(re._destroy());Me(this,t).clear(),Me(this,o).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Q=this.messageHandler.sendWithPromise("Terminate",null);return C.push(Q),Promise.all(C).then(()=>{var re;this.commonObjs.clear(),this.fontLoader.clear(),Me(this,e).clear(),this.filterFactory.destroy(),(re=this._networkStream)==null||re.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:C,loadingTask:Q}=this;C.on("GetReader",(j,re)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=T=>{this._lastProgress={loaded:T.loaded,total:T.total}},re.onPull=()=>{this._fullReader.read().then(function({value:T,done:R}){if(R){re.close();return}(0,_util.assert)(T instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),re.enqueue(new Uint8Array(T),1,[T])}).catch(T=>{re.error(T)})},re.onCancel=T=>{this._fullReader.cancel(T),re.ready.catch(R=>{if(!this.destroyed)throw R})}}),C.on("ReaderHeadersReady",j=>{const re=new _util.PromiseCapability,T=this._fullReader;return T.headersReady.then(()=>{var R;(!T.isStreamingSupported||!T.isRangeSupported)&&(this._lastProgress&&((R=Q.onProgress)==null||R.call(Q,this._lastProgress)),T.onProgress=d=>{var y;(y=Q.onProgress)==null||y.call(Q,{loaded:d.loaded,total:d.total})}),re.resolve({isStreamingSupported:T.isStreamingSupported,isRangeSupported:T.isRangeSupported,contentLength:T.contentLength})},re.reject),re.promise}),C.on("GetRangeReader",(j,re)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const T=this._networkStream.getRangeReader(j.begin,j.end);if(!T){re.close();return}re.onPull=()=>{T.read().then(function({value:R,done:d}){if(d){re.close();return}(0,_util.assert)(R instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),re.enqueue(new Uint8Array(R),1,[R])}).catch(R=>{re.error(R)})},re.onCancel=R=>{T.cancel(R),re.ready.catch(d=>{if(!this.destroyed)throw d})}}),C.on("GetDoc",({pdfInfo:j})=>{this._numPages=j.numPages,this._htmlForXfa=j.htmlForXfa,delete j.htmlForXfa,Q._capability.resolve(new PDFDocumentProxy(j,this))}),C.on("DocException",function(j){let re;switch(j.name){case"PasswordException":re=new _util.PasswordException(j.message,j.code);break;case"InvalidPDFException":re=new _util.InvalidPDFException(j.message);break;case"MissingPDFException":re=new _util.MissingPDFException(j.message);break;case"UnexpectedResponseException":re=new _util.UnexpectedResponseException(j.message,j.status);break;case"UnknownErrorException":re=new _util.UnknownErrorException(j.message,j.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Q._capability.reject(re)}),C.on("PasswordRequest",j=>{if(Pt(this,K,new _util.PromiseCapability),Q.onPassword){const re=T=>{T instanceof Error?Me(this,K).reject(T):Me(this,K).resolve({password:T})};try{Q.onPassword(re,j.code)}catch(T){Me(this,K).reject(T)}}else Me(this,K).reject(new _util.PasswordException(j.message,j.code));return Me(this,K).promise}),C.on("DataLoaded",j=>{var re;(re=Q.onProgress)==null||re.call(Q,{loaded:j.length,total:j.length}),this.downloadInfoCapability.resolve(j)}),C.on("StartRenderPage",j=>{if(this.destroyed)return;Me(this,t).get(j.pageIndex)._startRenderPage(j.transparency,j.cacheKey)}),C.on("commonobj",([j,re,T])=>{var R;if(!this.destroyed&&!this.commonObjs.has(j))switch(re){case"Font":const d=this._params;if("error"in T){const u=T.error;(0,_util.warn)(`Error during font loading: ${u}`),this.commonObjs.resolve(j,u);break}const y=d.pdfBug&&((R=globalThis.FontInspector)!=null&&R.enabled)?(u,b)=>globalThis.FontInspector.fontAdded(u,b):null,W=new _font_loader.FontFaceObject(T,{isEvalSupported:d.isEvalSupported,disableFontFace:d.disableFontFace,ignoreErrors:d.ignoreErrors,inspectFont:y});this.fontLoader.bind(W).catch(u=>C.sendWithPromise("FontFallback",{id:j})).finally(()=>{!d.fontExtraProperties&&W.data&&(W.data=null),this.commonObjs.resolve(j,W)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(j,T);break;default:throw new Error(`Got unknown common object type ${re}`)}}),C.on("obj",([j,re,T,R])=>{var y;if(this.destroyed)return;const d=Me(this,t).get(re);if(!d.objs.has(j))switch(T){case"Image":if(d.objs.resolve(j,R),R){let W;if(R.bitmap){const{width:u,height:b}=R;W=u*b*4}else W=((y=R.data)==null?void 0:y.length)||0;W>_util.MAX_IMAGE_SIZE_TO_CACHE&&(d._maybeCleanupAfterRender=!0)}break;case"Pattern":d.objs.resolve(j,R);break;default:throw new Error(`Got unknown object type ${T}`)}}),C.on("DocProgress",j=>{var re;this.destroyed||(re=Q.onProgress)==null||re.call(Q,{loaded:j.loaded,total:j.total})}),C.on("FetchBuiltInCMap",j=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(j):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),C.on("FetchStandardFontData",j=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(j):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var j;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:C,transfers:Q}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:C,filename:((j=this._fullReader)==null?void 0:j.filename)??null},Q).finally(()=>{this.annotationStorage.resetModified()})}getPage(C){if(!Number.isInteger(C)||C<=0||C>this._numPages)return Promise.reject(new Error("Invalid page request."));const Q=C-1,j=Me(this,o).get(Q);if(j)return j;const re=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Q}).then(T=>{if(this.destroyed)throw new Error("Transport destroyed");const R=new PDFPageProxy(Q,T,this,this._params.pdfBug);return Me(this,t).set(Q,R),R});return Me(this,o).set(Q,re),re}getPageIndex(C){return typeof C!="object"||C===null||!Number.isInteger(C.num)||C.num<0||!Number.isInteger(C.gen)||C.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:C.num,gen:C.gen})}getAnnotations(C,Q){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:C,intent:Q})}getFieldObjects(){return ht(this,H,hA).call(this,"GetFieldObjects")}hasJSActions(){return ht(this,H,hA).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(C){return typeof C!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:C})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ht(this,H,hA).call(this,"GetDocJSActions")}getPageJSActions(C){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:C})}getStructTree(C){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:C})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(C=>new _optional_content_config.OptionalContentConfig(C))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const C="GetMetadata",Q=Me(this,e).get(C);if(Q)return Q;const j=this.messageHandler.sendWithPromise(C,null).then(re=>{var T,R;return{info:re[0],metadata:re[1]?new _metadata.Metadata(re[1]):null,contentDispositionFilename:((T=this._fullReader)==null?void 0:T.filename)??null,contentLength:((R=this._fullReader)==null?void 0:R.contentLength)??null}});return Me(this,e).set(C,j),j}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(C=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Q of Me(this,t).values())if(!Q.cleanup())throw new Error(`startCleanup: Page ${Q.pageNumber} is currently rendering.`);this.commonObjs.clear(),C||this.fontLoader.clear(),Me(this,e).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:C,enableXfa:Q}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:C,enableXfa:Q})}}e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,H=new WeakSet,hA=function(C,Q=null){const j=Me(this,e).get(C);if(j)return j;const re=this.messageHandler.sendWithPromise(C,Q);return Me(this,e).set(C,re),re};class PDFObjects{constructor(){At(this,f);At(this,P,Object.create(null))}get(C,Q=null){if(Q){const re=ht(this,f,s0).call(this,C);return re.capability.promise.then(()=>Q(re.data)),null}const j=Me(this,P)[C];if(!(j!=null&&j.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${C}.`);return j.data}has(C){const Q=Me(this,P)[C];return(Q==null?void 0:Q.capability.settled)||!1}resolve(C,Q=null){const j=ht(this,f,s0).call(this,C);j.data=Q,j.capability.resolve()}clear(){var C;for(const Q in Me(this,P)){const{data:j}=Me(this,P)[Q];(C=j==null?void 0:j.bitmap)==null||C.close()}Pt(this,P,Object.create(null))}}P=new WeakMap,f=new WeakSet,s0=function(C){var Q;return(Q=Me(this,P))[C]||(Q[C]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(C){At(this,i,null);Pt(this,i,C),this.onContinue=null}get promise(){return Me(this,i).capability.promise}cancel(C=0){Me(this,i).cancel(null,C)}get separateAnnots(){const{separateAnnots:C}=Me(this,i).operatorList;if(!C)return!1;const{annotationCanvasMap:Q}=Me(this,i);return C.form||C.canvas&&(Q==null?void 0:Q.size)>0}}i=new WeakMap,exports.RenderTask=RenderTask;const F=class F{constructor({callback:C,params:Q,objs:j,commonObjs:re,annotationCanvasMap:T,operatorList:R,pageIndex:d,canvasFactory:y,filterFactory:W,useRequestAnimationFrame:u=!1,pdfBug:b=!1,pageColors:D=null}){this.callback=C,this.params=Q,this.objs=j,this.commonObjs=re,this.annotationCanvasMap=T,this.operatorListIdx=null,this.operatorList=R,this._pageIndex=d,this.canvasFactory=y,this.filterFactory=W,this._pdfBug=b,this.pageColors=D,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Q.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:C=!1,optionalContentConfig:Q}){var d,y;if(this.cancelled)return;if(this._canvas){if(Me(F,k).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Me(F,k).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:j,viewport:re,transform:T,background:R}=this.params;this.gfx=new _canvas.CanvasGraphics(j,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Q},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:T,viewport:re,transparency:C,background:R}),this.operatorListIdx=0,this.graphicsReady=!0,(y=this.graphicsReadyCallback)==null||y.call(this)}cancel(C=null,Q=0){var j;this.running=!1,this.cancelled=!0,(j=this.gfx)==null||j.endDrawing(),Me(F,k).delete(this._canvas),this.callback(C||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Q))}operatorListChanged(){var C;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(C=this.stepper)==null||C.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Me(F,k).delete(this._canvas),this.callback())))}};k=new WeakMap,At(F,k,new WeakSet);let InternalRenderTask=F;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(a,s,M)=>{var n,w,O,Ch,t;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var X=M(1),ae=M(4),Te=M(8);const Pe=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=Pe;class x{constructor(){At(this,O);At(this,n,!1);At(this,w,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(K,H){const U=Me(this,w).get(K);return U===void 0?H:Object.assign(H,U)}getRawValue(K){return Me(this,w).get(K)}remove(K){if(Me(this,w).delete(K),Me(this,w).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const H of Me(this,w).values())if(H instanceof ae.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(K,H){const U=Me(this,w).get(K);let P=!1;if(U!==void 0)for(const[f,p]of Object.entries(H))U[f]!==p&&(P=!0,U[f]=p);else P=!0,Me(this,w).set(K,H);P&&ht(this,O,Ch).call(this),H instanceof ae.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(H.constructor._type)}has(K){return Me(this,w).has(K)}getAll(){return Me(this,w).size>0?(0,X.objectFromMap)(Me(this,w)):null}setAll(K){for(const[H,U]of Object.entries(K))this.setValue(H,U)}get size(){return Me(this,w).size}resetModified(){Me(this,n)&&(Pt(this,n,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ie(this)}get serializable(){if(Me(this,w).size===0)return Pe;const K=new Map,H=new Te.MurmurHash3_64,U=[],P=Object.create(null);let f=!1;for(const[p,i]of Me(this,w)){const k=i instanceof ae.AnnotationEditor?i.serialize(!1,P):i;k&&(K.set(p,k),H.update(`${p}:${JSON.stringify(k)}`),f||(f=!!k.bitmap))}if(f)for(const p of K.values())p.bitmap&&U.push(p.bitmap);return K.size>0?{map:K,hash:H.hexdigest(),transfers:U}:Pe}}n=new WeakMap,w=new WeakMap,O=new WeakSet,Ch=function(){Me(this,n)||(Pt(this,n,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=x;class ie extends x{constructor(H){super();At(this,t,void 0);const{map:U,hash:P,transfers:f}=H.serializable,p=structuredClone(U,f?{transfer:f}:null);Pt(this,t,{map:p,hash:P,transfers:f})}get print(){(0,X.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Me(this,t)}}t=new WeakMap,s.PrintAnnotationStorage=ie},(a,s,M)=>{var ie,n,w,O,e,t,o,K,H,U,P,f,p,i,k,a0,_,o0,Q,A0,re,c0,R,Bh,y,vh,u,Sh,D,l0,N,Fh;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var X=M(5),ae=M(1),Te=M(6);const S=class S{constructor(h){At(this,k);At(this,_);At(this,re);At(this,R);At(this,y);At(this,u);At(this,D);At(this,N);At(this,ie,"");At(this,n,!1);At(this,w,null);At(this,O,null);At(this,e,null);At(this,t,!1);At(this,o,null);At(this,K,this.focusin.bind(this));At(this,H,this.focusout.bind(this));At(this,U,!1);At(this,P,!1);At(this,f,!1);yr(this,"_initialOptions",Object.create(null));yr(this,"_uiManager",null);yr(this,"_focusEventsAllowed",!0);yr(this,"_l10nPromise",null);At(this,p,!1);At(this,i,S._zIndex++);this.constructor===S&&(0,ae.unreachable)("Cannot initialize AnnotationEditor."),this.parent=h.parent,this.id=h.id,this.width=this.height=null,this.pageIndex=h.parent.pageIndex,this.name=h.name,this.div=null,this._uiManager=h.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=h.isCentered,this._structTreeParentId=null;const{rotation:B,rawDims:{pageWidth:r,pageHeight:A,pageX:E,pageY:G}}=this.parent.viewport;this.rotation=B,this.pageRotation=(360+B-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,A],this.pageTranslation=[E,G];const[se,Ae]=this.parentDimensions;this.x=h.x/se,this.y=h.y/Ae,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,ae.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(h){const B=new x({id:h.parent.getNextId(),parent:h.parent,uiManager:h._uiManager});B.annotationElementId=h.annotationElementId,B.deleted=!0,B._uiManager.addToAnnotationStorage(B)}static initialize(h,B=null){if(S._l10nPromise||(S._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(A=>[A,h.get(A)]))),B!=null&&B.strings)for(const A of B.strings)S._l10nPromise.set(A,h.get(A));if(S._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);S._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(h,B){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(h){return!1}static paste(h,B){(0,ae.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Me(this,p)}set _isDraggable(h){var B;Pt(this,p,h),(B=this.div)==null||B.classList.toggle("draggable",h)}center(){const[h,B]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*B/(h*2),this.y+=this.width*h/(B*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*B/(h*2),this.y-=this.width*h/(B*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(h){this._uiManager.addCommands(h)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Me(this,i)}setParent(h){h!==null&&(this.pageIndex=h.pageIndex,this.pageDimensions=h.pageDimensions),this.parent=h}focusin(h){this._focusEventsAllowed&&(Me(this,U)?Pt(this,U,!1):this.parent.setSelected(this))}focusout(h){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const B=h.relatedTarget;B!=null&&B.closest(`#${this.id}`)||(h.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(h,B,r,A){const[E,G]=this.parentDimensions;[r,A]=this.screenToPageTranslation(r,A),this.x=(h+r)/E,this.y=(B+A)/G,this.fixAndSetPosition()}translate(h,B){ht(this,k,a0).call(this,this.parentDimensions,h,B)}translateInPage(h,B){ht(this,k,a0).call(this,this.pageDimensions,h,B),this.div.scrollIntoView({block:"nearest"})}drag(h,B){const[r,A]=this.parentDimensions;if(this.x+=h/r,this.y+=B/A,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:ke,y:de}=this.div.getBoundingClientRect();this.parent.findNewParent(this,ke,de)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:E,y:G}=this;const[se,Ae]=ht(this,_,o0).call(this);E+=se,G+=Ae,this.div.style.left=`${(100*E).toFixed(2)}%`,this.div.style.top=`${(100*G).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[h,B]=this.pageDimensions;let{x:r,y:A,width:E,height:G}=this;switch(E*=h,G*=B,r*=h,A*=B,this.rotation){case 0:r=Math.max(0,Math.min(h-E,r)),A=Math.max(0,Math.min(B-G,A));break;case 90:r=Math.max(0,Math.min(h-G,r)),A=Math.min(B,Math.max(E,A));break;case 180:r=Math.min(h,Math.max(E,r)),A=Math.min(B,Math.max(G,A));break;case 270:r=Math.min(h,Math.max(G,r)),A=Math.max(0,Math.min(B-E,A));break}this.x=r/=h,this.y=A/=B;const[se,Ae]=ht(this,_,o0).call(this);r+=se,A+=Ae;const{style:ke}=this.div;ke.left=`${(100*r).toFixed(2)}%`,ke.top=`${(100*A).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(h,B){var r;return ht(r=S,Q,A0).call(r,h,B,this.parentRotation)}pageTranslationToScreen(h,B){var r;return ht(r=S,Q,A0).call(r,h,B,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:h,pageDimensions:[B,r]}=this,A=B*h,E=r*h;return ae.FeatureTest.isCSSRoundSupported?[Math.round(A),Math.round(E)]:[A,E]}setDims(h,B){var E;const[r,A]=this.parentDimensions;this.div.style.width=`${(100*h/r).toFixed(2)}%`,Me(this,t)||(this.div.style.height=`${(100*B/A).toFixed(2)}%`),(E=Me(this,w))==null||E.classList.toggle("small",h<S.SMALL_EDITOR_SIZE||B<S.SMALL_EDITOR_SIZE)}fixDims(){const{style:h}=this.div,{height:B,width:r}=h,A=r.endsWith("%"),E=!Me(this,t)&&B.endsWith("%");if(A&&E)return;const[G,se]=this.parentDimensions;A||(h.width=`${(100*parseFloat(r)/G).toFixed(2)}%`),!Me(this,t)&&!E&&(h.height=`${(100*parseFloat(B)/se).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Me(this,w))return;const h=Pt(this,w,document.createElement("button"));h.className="altText";const B=await S._l10nPromise.get("editor_alt_text_button_label");h.textContent=B,h.setAttribute("aria-label",B),h.tabIndex="0",h.addEventListener("contextmenu",Te.noContextMenu),h.addEventListener("pointerdown",r=>r.stopPropagation()),h.addEventListener("click",r=>{r.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),h.addEventListener("keydown",r=>{r.target===h&&r.key==="Enter"&&(r.preventDefault(),this._uiManager.editAltText(this))}),ht(this,D,l0).call(this),this.div.append(h),S.SMALL_EDITOR_SIZE||(S.SMALL_EDITOR_SIZE=Math.min(128,Math.round(h.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Me(this,ie),decorative:Me(this,n)}}set altTextData({altText:h,decorative:B}){Me(this,ie)===h&&Me(this,n)===B||(Pt(this,ie,h),Pt(this,n,B),ht(this,D,l0).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Me(this,K)),this.div.addEventListener("focusout",Me(this,H));const[h,B]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*B/h).toFixed(2)}%`,this.div.style.maxHeight=`${(100*h/B).toFixed(2)}%`);const[r,A]=this.getInitialTranslation();return this.translate(r,A),(0,X.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(h){const{isMac:B}=ae.FeatureTest.platform;if(h.button!==0||h.ctrlKey&&B){h.preventDefault();return}Pt(this,U,!0),ht(this,N,Fh).call(this,h)}moveInDOM(){var h;(h=this.parent)==null||h.moveEditorInDOM(this)}_setParentAndPosition(h,B,r){h.changeParent(this),this.x=B,this.y=r,this.fixAndSetPosition()}getRect(h,B){const r=this.parentScale,[A,E]=this.pageDimensions,[G,se]=this.pageTranslation,Ae=h/r,ke=B/r,de=this.x*A,Ie=this.y*E,ge=this.width*A,Be=this.height*E;switch(this.rotation){case 0:return[de+Ae+G,E-Ie-ke-Be+se,de+Ae+ge+G,E-Ie-ke+se];case 90:return[de+ke+G,E-Ie+Ae+se,de+ke+Be+G,E-Ie+Ae+ge+se];case 180:return[de-Ae-ge+G,E-Ie+ke+se,de-Ae+G,E-Ie+ke+Be+se];case 270:return[de-ke-Be+G,E-Ie-Ae-ge+se,de-ke+G,E-Ie-Ae+se];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(h,B){const[r,A,E,G]=h,se=E-r,Ae=G-A;switch(this.rotation){case 0:return[r,B-G,se,Ae];case 90:return[r,B-A,Ae,se];case 180:return[E,B-A,se,Ae];case 270:return[E,B-G,Ae,se];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Pt(this,f,!0)}disableEditMode(){Pt(this,f,!1)}isInEditMode(){return Me(this,f)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var h,B;(h=this.div)==null||h.addEventListener("focusin",Me(this,K)),(B=this.div)==null||B.addEventListener("focusout",Me(this,H))}serialize(h=!1,B=null){(0,ae.unreachable)("An editor must be serializable")}static deserialize(h,B,r){const A=new this.prototype.constructor({parent:B,id:B.getNextId(),uiManager:r});A.rotation=h.rotation;const[E,G]=A.pageDimensions,[se,Ae,ke,de]=A.getRectInCurrentCoords(h.rect,G);return A.x=se/E,A.y=Ae/G,A.width=ke/E,A.height=de/G,A}remove(){var h;this.div.removeEventListener("focusin",Me(this,K)),this.div.removeEventListener("focusout",Me(this,H)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(h=Me(this,w))==null||h.remove(),Pt(this,w,null),Pt(this,O,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ht(this,R,Bh).call(this),Me(this,o).classList.remove("hidden"))}select(){var h;this.makeResizable(),(h=this.div)==null||h.classList.add("selectedEditor")}unselect(){var h,B,r;(h=Me(this,o))==null||h.classList.add("hidden"),(B=this.div)==null||B.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(h,B){}disableEditing(){Me(this,w)&&(Me(this,w).hidden=!0)}enableEditing(){Me(this,w)&&(Me(this,w).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Me(this,P)}set isEditing(h){Pt(this,P,h),this.parent&&(h?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(h,B){Pt(this,t,!0);const r=h/B,{style:A}=this.div;A.aspectRatio=r,A.height="auto"}static get MIN_SIZE(){return 16}};ie=new WeakMap,n=new WeakMap,w=new WeakMap,O=new WeakMap,e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,H=new WeakMap,U=new WeakMap,P=new WeakMap,f=new WeakMap,p=new WeakMap,i=new WeakMap,k=new WeakSet,a0=function([h,B],r,A){[r,A]=this.screenToPageTranslation(r,A),this.x+=r/h,this.y+=A/B,this.fixAndSetPosition()},_=new WeakSet,o0=function(){const[h,B]=this.parentDimensions,{_borderLineWidth:r}=S,A=r/h,E=r/B;switch(this.rotation){case 90:return[-A,E];case 180:return[A,E];case 270:return[A,-E];default:return[-A,-E]}},Q=new WeakSet,A0=function(h,B,r){switch(r){case 90:return[B,-h];case 180:return[-h,-B];case 270:return[-B,h];default:return[h,B]}},re=new WeakSet,c0=function(h){switch(h){case 90:{const[B,r]=this.pageDimensions;return[0,-B/r,r/B,0]}case 180:return[-1,0,0,-1];case 270:{const[B,r]=this.pageDimensions;return[0,B/r,-r/B,0]}default:return[1,0,0,1]}},R=new WeakSet,Bh=function(){if(Me(this,o))return;Pt(this,o,document.createElement("div")),Me(this,o).classList.add("resizers");const h=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||h.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const B of h){const r=document.createElement("div");Me(this,o).append(r),r.classList.add("resizer",B),r.addEventListener("pointerdown",ht(this,y,vh).bind(this,B)),r.addEventListener("contextmenu",Te.noContextMenu)}this.div.prepend(Me(this,o))},y=new WeakSet,vh=function(h,B){B.preventDefault();const{isMac:r}=ae.FeatureTest.platform;if(B.button!==0||B.ctrlKey&&r)return;const A=ht(this,u,Sh).bind(this,h),E=this._isDraggable;this._isDraggable=!1;const G={passive:!0,capture:!0};window.addEventListener("pointermove",A,G);const se=this.x,Ae=this.y,ke=this.width,de=this.height,Ie=this.parent.div.style.cursor,ge=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(B.target).cursor;const Be=()=>{this._isDraggable=E,window.removeEventListener("pointerup",Be),window.removeEventListener("blur",Be),window.removeEventListener("pointermove",A,G),this.parent.div.style.cursor=Ie,this.div.style.cursor=ge;const ee=this.x,te=this.y,fe=this.width,ue=this.height;ee===se&&te===Ae&&fe===ke&&ue===de||this.addCommands({cmd:()=>{this.width=fe,this.height=ue,this.x=ee,this.y=te;const[le,be]=this.parentDimensions;this.setDims(le*fe,be*ue),this.fixAndSetPosition()},undo:()=>{this.width=ke,this.height=de,this.x=se,this.y=Ae;const[le,be]=this.parentDimensions;this.setDims(le*ke,be*de),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Be),window.addEventListener("blur",Be)},u=new WeakSet,Sh=function(h,B){const[r,A]=this.parentDimensions,E=this.x,G=this.y,se=this.width,Ae=this.height,ke=S.MIN_SIZE/r,de=S.MIN_SIZE/A,Ie=Ve=>Math.round(Ve*1e4)/1e4,ge=ht(this,re,c0).call(this,this.rotation),Be=(Ve,st)=>[ge[0]*Ve+ge[2]*st,ge[1]*Ve+ge[3]*st],ee=ht(this,re,c0).call(this,360-this.rotation),te=(Ve,st)=>[ee[0]*Ve+ee[2]*st,ee[1]*Ve+ee[3]*st];let fe,ue,le=!1,be=!1;switch(h){case"topLeft":le=!0,fe=(Ve,st)=>[0,0],ue=(Ve,st)=>[Ve,st];break;case"topMiddle":fe=(Ve,st)=>[Ve/2,0],ue=(Ve,st)=>[Ve/2,st];break;case"topRight":le=!0,fe=(Ve,st)=>[Ve,0],ue=(Ve,st)=>[0,st];break;case"middleRight":be=!0,fe=(Ve,st)=>[Ve,st/2],ue=(Ve,st)=>[0,st/2];break;case"bottomRight":le=!0,fe=(Ve,st)=>[Ve,st],ue=(Ve,st)=>[0,0];break;case"bottomMiddle":fe=(Ve,st)=>[Ve/2,st],ue=(Ve,st)=>[Ve/2,0];break;case"bottomLeft":le=!0,fe=(Ve,st)=>[0,st],ue=(Ve,st)=>[Ve,0];break;case"middleLeft":be=!0,fe=(Ve,st)=>[0,st/2],ue=(Ve,st)=>[Ve,st/2];break}const Ce=fe(se,Ae),ce=ue(se,Ae);let Ee=Be(...ce);const ve=Ie(E+Ee[0]),he=Ie(G+Ee[1]);let Fe=1,_e=1,[Ne,Ze]=this.screenToPageTranslation(B.movementX,B.movementY);if([Ne,Ze]=te(Ne/r,Ze/A),le){const Ve=Math.hypot(se,Ae);Fe=_e=Math.max(Math.min(Math.hypot(ce[0]-Ce[0]-Ne,ce[1]-Ce[1]-Ze)/Ve,1/se,1/Ae),ke/se,de/Ae)}else be?Fe=Math.max(ke,Math.min(1,Math.abs(ce[0]-Ce[0]-Ne)))/se:_e=Math.max(de,Math.min(1,Math.abs(ce[1]-Ce[1]-Ze)))/Ae;const tt=Ie(se*Fe),je=Ie(Ae*_e);Ee=Be(...ue(tt,je));const $e=ve-Ee[0],He=he-Ee[1];this.width=tt,this.height=je,this.x=$e,this.y=He,this.setDims(r*tt,A*je),this.fixAndSetPosition()},D=new WeakSet,l0=async function(){var r;const h=Me(this,w);if(!h)return;if(!Me(this,ie)&&!Me(this,n)){h.classList.remove("done"),(r=Me(this,O))==null||r.remove();return}S._l10nPromise.get("editor_alt_text_edit_button_label").then(A=>{h.setAttribute("aria-label",A)});let B=Me(this,O);if(!B){Pt(this,O,B=document.createElement("span")),B.className="tooltip",B.setAttribute("role","tooltip");const A=B.id=`alt-text-tooltip-${this.id}`;h.setAttribute("aria-describedby",A);const E=100;h.addEventListener("mouseenter",()=>{Pt(this,e,setTimeout(()=>{Pt(this,e,null),Me(this,O).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},E))}),h.addEventListener("mouseleave",()=>{var G;clearTimeout(Me(this,e)),Pt(this,e,null),(G=Me(this,O))==null||G.classList.remove("show")})}h.classList.add("done"),B.innerText=Me(this,n)?await S._l10nPromise.get("editor_alt_text_decorative_tooltip"):Me(this,ie),B.parentNode||h.append(B)},N=new WeakSet,Fh=function(h){if(!this._isDraggable)return;const B=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,A;B&&(r={passive:!0,capture:!0},A=G=>{const[se,Ae]=this.screenToPageTranslation(G.movementX,G.movementY);this._uiManager.dragSelectedEditors(se,Ae)},window.addEventListener("pointermove",A,r));const E=()=>{if(window.removeEventListener("pointerup",E),window.removeEventListener("blur",E),B&&window.removeEventListener("pointermove",A,r),Pt(this,U,!1),!this._uiManager.endDragSession()){const{isMac:G}=ae.FeatureTest.platform;h.ctrlKey&&!G||h.shiftKey||h.metaKey&&G?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",E),window.addEventListener("blur",E)},At(S,Q),yr(S,"_borderLineWidth",-1),yr(S,"_colorManager",new X.ColorManager),yr(S,"_zIndex",1),yr(S,"SMALL_EDITOR_SIZE",0);let Pe=S;s.AnnotationEditor=Pe;class x extends Pe{constructor(h){super(h),this.annotationElementId=h.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(a,s,M)=>{var t,o,K,H,U,u0,p,i,k,F,_,Eh,j,re,T,R,d,y,W,u,b,D,J,N,v,S,I,h,B,r,A,E,G,se,Ae,ke,de,Ie,ge,Be,ee,te,fe,ue,le,be,Ce,kh,Ee,h0,he,d0,_e,dA,Ze,f0,je,g0,He,fs,st,wo,at,Ih,Ge,Th,rt,p0,St,yo,dt,m0;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=Te,s.opacityToHex=Pe;var X=M(1),ae=M(6);function Te(Ke,Ue,ze){for(const qe of ze)Ue.addEventListener(qe,Ke[qe].bind(Ke))}function Pe(Ke){return Math.round(Math.min(255,Math.max(1,255*Ke))).toString(16).padStart(2,"0")}class x{constructor(){At(this,t,0)}getId(){return`${X.AnnotationEditorPrefix}${bo(this,t)._++}`}}t=new WeakMap;const f=class f{constructor(){At(this,U);At(this,o,(0,X.getUuid)());At(this,K,0);At(this,H,null)}static get _isSVGFittingCanvas(){const Ue='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',qe=new OffscreenCanvas(1,3).getContext("2d"),ct=new Image;ct.src=Ue;const ft=ct.decode().then(()=>(qe.drawImage(ct,0,0,1,1,0,0,1,3),new Uint32Array(qe.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,X.shadow)(this,"_isSVGFittingCanvas",ft)}async getFromFile(Ue){const{lastModified:ze,name:qe,size:ct,type:ft}=Ue;return ht(this,U,u0).call(this,`${ze}_${qe}_${ct}_${ft}`,Ue)}async getFromUrl(Ue){return ht(this,U,u0).call(this,Ue,Ue)}async getFromId(Ue){Me(this,H)||Pt(this,H,new Map);const ze=Me(this,H).get(Ue);return ze?ze.bitmap?(ze.refCounter+=1,ze):ze.file?this.getFromFile(ze.file):this.getFromUrl(ze.url):null}getSvgUrl(Ue){const ze=Me(this,H).get(Ue);return ze!=null&&ze.isSvg?ze.svgUrl:null}deleteId(Ue){Me(this,H)||Pt(this,H,new Map);const ze=Me(this,H).get(Ue);ze&&(ze.refCounter-=1,ze.refCounter===0&&(ze.bitmap=null))}isValidId(Ue){return Ue.startsWith(`image_${Me(this,o)}_`)}};o=new WeakMap,K=new WeakMap,H=new WeakMap,U=new WeakSet,u0=async function(Ue,ze){Me(this,H)||Pt(this,H,new Map);let qe=Me(this,H).get(Ue);if(qe===null)return null;if(qe!=null&&qe.bitmap)return qe.refCounter+=1,qe;try{qe||(qe={bitmap:null,id:`image_${Me(this,o)}_${bo(this,K)._++}`,refCounter:0,isSvg:!1});let ct;if(typeof ze=="string"){qe.url=ze;const ft=await fetch(ze);if(!ft.ok)throw new Error(ft.statusText);ct=await ft.blob()}else ct=qe.file=ze;if(ct.type==="image/svg+xml"){const ft=f._isSVGFittingCanvas,mt=new FileReader,$t=new Image,Mt=new Promise((Dt,Xt)=>{$t.onload=()=>{qe.bitmap=$t,qe.isSvg=!0,Dt()},mt.onload=async()=>{const Vt=qe.svgUrl=mt.result;$t.src=await ft?`${Vt}#svgView(preserveAspectRatio(none))`:Vt},$t.onerror=mt.onerror=Xt});mt.readAsDataURL(ct),await Mt}else qe.bitmap=await createImageBitmap(ct);qe.refCounter=1}catch(ct){console.error(ct),qe=null}return Me(this,H).set(Ue,qe),qe&&Me(this,H).set(qe.id,qe),qe};let ie=f;class n{constructor(Ue=128){At(this,p,[]);At(this,i,!1);At(this,k,void 0);At(this,F,-1);Pt(this,k,Ue)}add({cmd:Ue,undo:ze,mustExec:qe,type:ct=NaN,overwriteIfSameType:ft=!1,keepUndo:mt=!1}){if(qe&&Ue(),Me(this,i))return;const $t={cmd:Ue,undo:ze,type:ct};if(Me(this,F)===-1){Me(this,p).length>0&&(Me(this,p).length=0),Pt(this,F,0),Me(this,p).push($t);return}if(ft&&Me(this,p)[Me(this,F)].type===ct){mt&&($t.undo=Me(this,p)[Me(this,F)].undo),Me(this,p)[Me(this,F)]=$t;return}const Mt=Me(this,F)+1;Mt===Me(this,k)?Me(this,p).splice(0,1):(Pt(this,F,Mt),Mt<Me(this,p).length&&Me(this,p).splice(Mt)),Me(this,p).push($t)}undo(){Me(this,F)!==-1&&(Pt(this,i,!0),Me(this,p)[Me(this,F)].undo(),Pt(this,i,!1),Pt(this,F,Me(this,F)-1))}redo(){Me(this,F)<Me(this,p).length-1&&(Pt(this,F,Me(this,F)+1),Pt(this,i,!0),Me(this,p)[Me(this,F)].cmd(),Pt(this,i,!1))}hasSomethingToUndo(){return Me(this,F)!==-1}hasSomethingToRedo(){return Me(this,F)<Me(this,p).length-1}destroy(){Pt(this,p,null)}}p=new WeakMap,i=new WeakMap,k=new WeakMap,F=new WeakMap,s.CommandManager=n;class w{constructor(Ue){At(this,_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ze}=X.FeatureTest.platform;for(const[qe,ct,ft={}]of Ue)for(const mt of qe){const $t=mt.startsWith("mac+");ze&&$t?(this.callbacks.set(mt.slice(4),{callback:ct,options:ft}),this.allKeys.add(mt.split("+").at(-1))):!ze&&!$t&&(this.callbacks.set(mt,{callback:ct,options:ft}),this.allKeys.add(mt.split("+").at(-1)))}}exec(Ue,ze){if(!this.allKeys.has(ze.key))return;const qe=this.callbacks.get(ht(this,_,Eh).call(this,ze));if(!qe)return;const{callback:ct,options:{bubbles:ft=!1,args:mt=[],checker:$t=null}}=qe;$t&&!$t(Ue,ze)||(ct.bind(Ue,...mt)(),ft||(ze.stopPropagation(),ze.preventDefault()))}}_=new WeakSet,Eh=function(Ue){Ue.altKey&&this.buffer.push("alt"),Ue.ctrlKey&&this.buffer.push("ctrl"),Ue.metaKey&&this.buffer.push("meta"),Ue.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ue.key);const ze=this.buffer.join("+");return this.buffer.length=0,ze},s.KeyboardManager=w;const Q=class Q{get _colors(){const Ue=new Map([["CanvasText",null],["Canvas",null]]);return(0,ae.getColorValues)(Ue),(0,X.shadow)(this,"_colors",Ue)}convert(Ue){const ze=(0,ae.getRGB)(Ue);if(!window.matchMedia("(forced-colors: active)").matches)return ze;for(const[qe,ct]of this._colors)if(ct.every((ft,mt)=>ft===ze[mt]))return Q._colorsMapping.get(qe);return ze}getHexCode(Ue){const ze=this._colors.get(Ue);return ze?X.Util.makeHexColor(...ze):Ue}};yr(Q,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let O=Q;s.ColorManager=O;const Gt=class Gt{constructor(Ue,ze,qe,ct,ft,mt){At(this,Ce);At(this,Ee);At(this,he);At(this,_e);At(this,Ze);At(this,je);At(this,He);At(this,st);At(this,at);At(this,Ge);At(this,rt);At(this,St);At(this,dt);At(this,j,null);At(this,re,new Map);At(this,T,new Map);At(this,R,null);At(this,d,null);At(this,y,new n);At(this,W,0);At(this,u,new Set);At(this,b,null);At(this,D,null);At(this,J,new Set);At(this,N,null);At(this,v,new x);At(this,S,!1);At(this,I,!1);At(this,h,null);At(this,B,X.AnnotationEditorType.NONE);At(this,r,new Set);At(this,A,null);At(this,E,this.blur.bind(this));At(this,G,this.focus.bind(this));At(this,se,this.copy.bind(this));At(this,Ae,this.cut.bind(this));At(this,ke,this.paste.bind(this));At(this,de,this.keydown.bind(this));At(this,Ie,this.onEditingAction.bind(this));At(this,ge,this.onPageChanging.bind(this));At(this,Be,this.onScaleChanging.bind(this));At(this,ee,this.onRotationChanging.bind(this));At(this,te,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});At(this,fe,[0,0]);At(this,ue,null);At(this,le,null);At(this,be,null);Pt(this,le,Ue),Pt(this,be,ze),Pt(this,R,qe),this._eventBus=ct,this._eventBus._on("editingaction",Me(this,Ie)),this._eventBus._on("pagechanging",Me(this,ge)),this._eventBus._on("scalechanging",Me(this,Be)),this._eventBus._on("rotationchanging",Me(this,ee)),Pt(this,d,ft.annotationStorage),Pt(this,N,ft.filterFactory),Pt(this,A,mt),this.viewParameters={realScale:ae.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Ue=Gt.prototype,ze=ft=>{const{activeElement:mt}=document;return mt&&Me(ft,le).contains(mt)&&ft.hasSomethingToControl()},qe=this.TRANSLATE_SMALL,ct=this.TRANSLATE_BIG;return(0,X.shadow)(this,"_keyboardManager",new w([[["ctrl+a","mac+meta+a"],Ue.selectAll],[["ctrl+z","mac+meta+z"],Ue.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Ue.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Ue.delete],[["Escape","mac+Escape"],Ue.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Ue.translateSelectedEditors,{args:[-qe,0],checker:ze}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ue.translateSelectedEditors,{args:[-ct,0],checker:ze}],[["ArrowRight","mac+ArrowRight"],Ue.translateSelectedEditors,{args:[qe,0],checker:ze}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ue.translateSelectedEditors,{args:[ct,0],checker:ze}],[["ArrowUp","mac+ArrowUp"],Ue.translateSelectedEditors,{args:[0,-qe],checker:ze}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ue.translateSelectedEditors,{args:[0,-ct],checker:ze}],[["ArrowDown","mac+ArrowDown"],Ue.translateSelectedEditors,{args:[0,qe],checker:ze}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ue.translateSelectedEditors,{args:[0,ct],checker:ze}]]))}destroy(){ht(this,_e,dA).call(this),ht(this,Ee,h0).call(this),this._eventBus._off("editingaction",Me(this,Ie)),this._eventBus._off("pagechanging",Me(this,ge)),this._eventBus._off("scalechanging",Me(this,Be)),this._eventBus._off("rotationchanging",Me(this,ee));for(const Ue of Me(this,T).values())Ue.destroy();Me(this,T).clear(),Me(this,re).clear(),Me(this,J).clear(),Pt(this,j,null),Me(this,r).clear(),Me(this,y).destroy(),Me(this,R).destroy()}get hcmFilter(){return(0,X.shadow)(this,"hcmFilter",Me(this,A)?Me(this,N).addHCMFilter(Me(this,A).foreground,Me(this,A).background):"none")}get direction(){return(0,X.shadow)(this,"direction",getComputedStyle(Me(this,le)).direction)}editAltText(Ue){var ze;(ze=Me(this,R))==null||ze.editAltText(this,Ue)}onPageChanging({pageNumber:Ue}){Pt(this,W,Ue-1)}focusMainContainer(){Me(this,le).focus()}findParent(Ue,ze){for(const qe of Me(this,T).values()){const{x:ct,y:ft,width:mt,height:$t}=qe.div.getBoundingClientRect();if(Ue>=ct&&Ue<=ct+mt&&ze>=ft&&ze<=ft+$t)return qe}return null}disableUserSelect(Ue=!1){Me(this,be).classList.toggle("noUserSelect",Ue)}addShouldRescale(Ue){Me(this,J).add(Ue)}removeShouldRescale(Ue){Me(this,J).delete(Ue)}onScaleChanging({scale:Ue}){this.commitOrRemove(),this.viewParameters.realScale=Ue*ae.PixelsPerInch.PDF_TO_CSS_UNITS;for(const ze of Me(this,J))ze.onScaleChanging()}onRotationChanging({pagesRotation:Ue}){this.commitOrRemove(),this.viewParameters.rotation=Ue}addToAnnotationStorage(Ue){!Ue.isEmpty()&&Me(this,d)&&!Me(this,d).has(Ue.id)&&Me(this,d).setValue(Ue.id,Ue)}blur(){if(!this.hasSelection)return;const{activeElement:Ue}=document;for(const ze of Me(this,r))if(ze.div.contains(Ue)){Pt(this,h,[ze,Ue]),ze._focusEventsAllowed=!1;break}}focus(){if(!Me(this,h))return;const[Ue,ze]=Me(this,h);Pt(this,h,null),ze.addEventListener("focusin",()=>{Ue._focusEventsAllowed=!0},{once:!0}),ze.focus()}addEditListeners(){ht(this,he,d0).call(this),ht(this,Ze,f0).call(this)}removeEditListeners(){ht(this,_e,dA).call(this),ht(this,je,g0).call(this)}copy(Ue){var qe;if(Ue.preventDefault(),(qe=Me(this,j))==null||qe.commitOrRemove(),!this.hasSelection)return;const ze=[];for(const ct of Me(this,r)){const ft=ct.serialize(!0);ft&&ze.push(ft)}ze.length!==0&&Ue.clipboardData.setData("application/pdfjs",JSON.stringify(ze))}cut(Ue){this.copy(Ue),this.delete()}paste(Ue){Ue.preventDefault();const{clipboardData:ze}=Ue;for(const ft of ze.items)for(const mt of Me(this,D))if(mt.isHandlingMimeForPasting(ft.type)){mt.paste(ft,this.currentLayer);return}let qe=ze.getData("application/pdfjs");if(!qe)return;try{qe=JSON.parse(qe)}catch(ft){(0,X.warn)(`paste: "${ft.message}".`);return}if(!Array.isArray(qe))return;this.unselectAll();const ct=this.currentLayer;try{const ft=[];for(const Mt of qe){const Dt=ct.deserialize(Mt);if(!Dt)return;ft.push(Dt)}const mt=()=>{for(const Mt of ft)ht(this,rt,p0).call(this,Mt);ht(this,dt,m0).call(this,ft)},$t=()=>{for(const Mt of ft)Mt.remove()};this.addCommands({cmd:mt,undo:$t,mustExec:!0})}catch(ft){(0,X.warn)(`paste: "${ft.message}".`)}}keydown(Ue){var ze;(ze=this.getActive())!=null&&ze.shouldGetKeyboardEvents()||Gt._keyboardManager.exec(this,Ue)}onEditingAction(Ue){["undo","redo","delete","selectAll"].includes(Ue.name)&&this[Ue.name]()}setEditingState(Ue){Ue?(ht(this,Ce,kh).call(this),ht(this,he,d0).call(this),ht(this,Ze,f0).call(this),ht(this,He,fs).call(this,{isEditing:Me(this,B)!==X.AnnotationEditorType.NONE,isEmpty:ht(this,St,yo).call(this),hasSomethingToUndo:Me(this,y).hasSomethingToUndo(),hasSomethingToRedo:Me(this,y).hasSomethingToRedo(),hasSelectedEditor:!1})):(ht(this,Ee,h0).call(this),ht(this,_e,dA).call(this),ht(this,je,g0).call(this),ht(this,He,fs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Ue){if(!Me(this,D)){Pt(this,D,Ue);for(const ze of Me(this,D))ht(this,st,wo).call(this,ze.defaultPropertiesToUpdate)}}getId(){return Me(this,v).getId()}get currentLayer(){return Me(this,T).get(Me(this,W))}getLayer(Ue){return Me(this,T).get(Ue)}get currentPageIndex(){return Me(this,W)}addLayer(Ue){Me(this,T).set(Ue.pageIndex,Ue),Me(this,S)?Ue.enable():Ue.disable()}removeLayer(Ue){Me(this,T).delete(Ue.pageIndex)}updateMode(Ue,ze=null){if(Me(this,B)!==Ue){if(Pt(this,B,Ue),Ue===X.AnnotationEditorType.NONE){this.setEditingState(!1),ht(this,Ge,Th).call(this);return}this.setEditingState(!0),ht(this,at,Ih).call(this),this.unselectAll();for(const qe of Me(this,T).values())qe.updateMode(Ue);if(ze){for(const qe of Me(this,re).values())if(qe.annotationElementId===ze){this.setSelected(qe),qe.enterInEditMode();break}}}}updateToolbar(Ue){Ue!==Me(this,B)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Ue})}updateParams(Ue,ze){if(Me(this,D)){if(Ue===X.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Ue);return}for(const qe of Me(this,r))qe.updateParams(Ue,ze);for(const qe of Me(this,D))qe.updateDefaultParams(Ue,ze)}}enableWaiting(Ue=!1){if(Me(this,I)!==Ue){Pt(this,I,Ue);for(const ze of Me(this,T).values())Ue?ze.disableClick():ze.enableClick(),ze.div.classList.toggle("waiting",Ue)}}getEditors(Ue){const ze=[];for(const qe of Me(this,re).values())qe.pageIndex===Ue&&ze.push(qe);return ze}getEditor(Ue){return Me(this,re).get(Ue)}addEditor(Ue){Me(this,re).set(Ue.id,Ue)}removeEditor(Ue){var ze;Me(this,re).delete(Ue.id),this.unselect(Ue),(!Ue.annotationElementId||!Me(this,u).has(Ue.annotationElementId))&&((ze=Me(this,d))==null||ze.remove(Ue.id))}addDeletedAnnotationElement(Ue){Me(this,u).add(Ue.annotationElementId),Ue.deleted=!0}isDeletedAnnotationElement(Ue){return Me(this,u).has(Ue)}removeDeletedAnnotationElement(Ue){Me(this,u).delete(Ue.annotationElementId),Ue.deleted=!1}setActiveEditor(Ue){Me(this,j)!==Ue&&(Pt(this,j,Ue),Ue&&ht(this,st,wo).call(this,Ue.propertiesToUpdate))}toggleSelected(Ue){if(Me(this,r).has(Ue)){Me(this,r).delete(Ue),Ue.unselect(),ht(this,He,fs).call(this,{hasSelectedEditor:this.hasSelection});return}Me(this,r).add(Ue),Ue.select(),ht(this,st,wo).call(this,Ue.propertiesToUpdate),ht(this,He,fs).call(this,{hasSelectedEditor:!0})}setSelected(Ue){for(const ze of Me(this,r))ze!==Ue&&ze.unselect();Me(this,r).clear(),Me(this,r).add(Ue),Ue.select(),ht(this,st,wo).call(this,Ue.propertiesToUpdate),ht(this,He,fs).call(this,{hasSelectedEditor:!0})}isSelected(Ue){return Me(this,r).has(Ue)}unselect(Ue){Ue.unselect(),Me(this,r).delete(Ue),ht(this,He,fs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Me(this,r).size!==0}undo(){Me(this,y).undo(),ht(this,He,fs).call(this,{hasSomethingToUndo:Me(this,y).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ht(this,St,yo).call(this)})}redo(){Me(this,y).redo(),ht(this,He,fs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Me(this,y).hasSomethingToRedo(),isEmpty:ht(this,St,yo).call(this)})}addCommands(Ue){Me(this,y).add(Ue),ht(this,He,fs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ht(this,St,yo).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ue=[...Me(this,r)],ze=()=>{for(const ct of Ue)ct.remove()},qe=()=>{for(const ct of Ue)ht(this,rt,p0).call(this,ct)};this.addCommands({cmd:ze,undo:qe,mustExec:!0})}commitOrRemove(){var Ue;(Ue=Me(this,j))==null||Ue.commitOrRemove()}hasSomethingToControl(){return Me(this,j)||this.hasSelection}selectAll(){for(const Ue of Me(this,r))Ue.commit();ht(this,dt,m0).call(this,Me(this,re).values())}unselectAll(){if(Me(this,j)){Me(this,j).commitOrRemove();return}if(this.hasSelection){for(const Ue of Me(this,r))Ue.unselect();Me(this,r).clear(),ht(this,He,fs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Ue,ze,qe=!1){if(qe||this.commitOrRemove(),!this.hasSelection)return;Me(this,fe)[0]+=Ue,Me(this,fe)[1]+=ze;const[ct,ft]=Me(this,fe),mt=[...Me(this,r)],$t=1e3;Me(this,ue)&&clearTimeout(Me(this,ue)),Pt(this,ue,setTimeout(()=>{Pt(this,ue,null),Me(this,fe)[0]=Me(this,fe)[1]=0,this.addCommands({cmd:()=>{for(const Mt of mt)Me(this,re).has(Mt.id)&&Mt.translateInPage(ct,ft)},undo:()=>{for(const Mt of mt)Me(this,re).has(Mt.id)&&Mt.translateInPage(-ct,-ft)},mustExec:!1})},$t));for(const Mt of mt)Mt.translateInPage(Ue,ze)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Pt(this,b,new Map);for(const Ue of Me(this,r))Me(this,b).set(Ue,{savedX:Ue.x,savedY:Ue.y,savedPageIndex:Ue.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Me(this,b))return!1;this.disableUserSelect(!1);const Ue=Me(this,b);Pt(this,b,null);let ze=!1;for(const[{x:ct,y:ft,pageIndex:mt},$t]of Ue)$t.newX=ct,$t.newY=ft,$t.newPageIndex=mt,ze||(ze=ct!==$t.savedX||ft!==$t.savedY||mt!==$t.savedPageIndex);if(!ze)return!1;const qe=(ct,ft,mt,$t)=>{if(Me(this,re).has(ct.id)){const Mt=Me(this,T).get($t);Mt?ct._setParentAndPosition(Mt,ft,mt):(ct.pageIndex=$t,ct.x=ft,ct.y=mt)}};return this.addCommands({cmd:()=>{for(const[ct,{newX:ft,newY:mt,newPageIndex:$t}]of Ue)qe(ct,ft,mt,$t)},undo:()=>{for(const[ct,{savedX:ft,savedY:mt,savedPageIndex:$t}]of Ue)qe(ct,ft,mt,$t)},mustExec:!0}),!0}dragSelectedEditors(Ue,ze){if(Me(this,b))for(const qe of Me(this,b).keys())qe.drag(Ue,ze)}rebuild(Ue){if(Ue.parent===null){const ze=this.getLayer(Ue.pageIndex);ze?(ze.changeParent(Ue),ze.addOrRebuild(Ue)):(this.addEditor(Ue),this.addToAnnotationStorage(Ue),Ue.rebuild())}else Ue.parent.addOrRebuild(Ue)}isActive(Ue){return Me(this,j)===Ue}getActive(){return Me(this,j)}getMode(){return Me(this,B)}get imageManager(){return(0,X.shadow)(this,"imageManager",new ie)}};j=new WeakMap,re=new WeakMap,T=new WeakMap,R=new WeakMap,d=new WeakMap,y=new WeakMap,W=new WeakMap,u=new WeakMap,b=new WeakMap,D=new WeakMap,J=new WeakMap,N=new WeakMap,v=new WeakMap,S=new WeakMap,I=new WeakMap,h=new WeakMap,B=new WeakMap,r=new WeakMap,A=new WeakMap,E=new WeakMap,G=new WeakMap,se=new WeakMap,Ae=new WeakMap,ke=new WeakMap,de=new WeakMap,Ie=new WeakMap,ge=new WeakMap,Be=new WeakMap,ee=new WeakMap,te=new WeakMap,fe=new WeakMap,ue=new WeakMap,le=new WeakMap,be=new WeakMap,Ce=new WeakSet,kh=function(){window.addEventListener("focus",Me(this,G)),window.addEventListener("blur",Me(this,E))},Ee=new WeakSet,h0=function(){window.removeEventListener("focus",Me(this,G)),window.removeEventListener("blur",Me(this,E))},he=new WeakSet,d0=function(){window.addEventListener("keydown",Me(this,de),{capture:!0})},_e=new WeakSet,dA=function(){window.removeEventListener("keydown",Me(this,de),{capture:!0})},Ze=new WeakSet,f0=function(){document.addEventListener("copy",Me(this,se)),document.addEventListener("cut",Me(this,Ae)),document.addEventListener("paste",Me(this,ke))},je=new WeakSet,g0=function(){document.removeEventListener("copy",Me(this,se)),document.removeEventListener("cut",Me(this,Ae)),document.removeEventListener("paste",Me(this,ke))},He=new WeakSet,fs=function(Ue){Object.entries(Ue).some(([qe,ct])=>Me(this,te)[qe]!==ct)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Me(this,te),Ue)})},st=new WeakSet,wo=function(Ue){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Ue})},at=new WeakSet,Ih=function(){if(!Me(this,S)){Pt(this,S,!0);for(const Ue of Me(this,T).values())Ue.enable()}},Ge=new WeakSet,Th=function(){if(this.unselectAll(),Me(this,S)){Pt(this,S,!1);for(const Ue of Me(this,T).values())Ue.disable()}},rt=new WeakSet,p0=function(Ue){const ze=Me(this,T).get(Ue.pageIndex);ze?ze.addOrRebuild(Ue):this.addEditor(Ue)},St=new WeakSet,yo=function(){if(Me(this,re).size===0)return!0;if(Me(this,re).size===1)for(const Ue of Me(this,re).values())return Ue.isEmpty();return!1},dt=new WeakSet,m0=function(Ue){Me(this,r).clear();for(const ze of Ue)ze.isEmpty()||(Me(this,r).add(ze),ze.select());ht(this,He,fs).call(this,{hasSelectedEditor:!0})},yr(Gt,"TRANSLATE_SMALL",1),yr(Gt,"TRANSLATE_BIG",10);let e=Gt;s.AnnotationEditorUIManager=e},(a,s,M)=>{var W,u,b,D,J,N,v,S,I,h,B,r,ma,E,wa,se,x0,ke,fA,Ie,gA,Be,Co,te,Bo;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=F,s.getColorValues=re,s.getCurrentTransform=T,s.getCurrentTransformInverse=R,s.getFilenameFromUrl=U,s.getPdfFilenameFromUrl=P,s.getRGB=j,s.getXfaPageViewport=Q,s.isDataScheme=K,s.isPdfFile=H,s.isValidFetchUrl=p,s.loadScript=k,s.noContextMenu=i,s.setLayerDimensions=d;var X=M(7),ae=M(1);const Te="http://www.w3.org/2000/svg",y=class y{};yr(y,"CSS",96),yr(y,"PDF",72),yr(y,"PDF_TO_CSS_UNITS",y.CSS/y.PDF);let Pe=y;s.PixelsPerInch=Pe;class x extends X.BaseFilterFactory{constructor({docId:be,ownerDocument:Ce=globalThis.document}={}){super();At(this,r);At(this,E);At(this,se);At(this,ke);At(this,Ie);At(this,Be);At(this,te);At(this,W,void 0);At(this,u,void 0);At(this,b,void 0);At(this,D,void 0);At(this,J,void 0);At(this,N,void 0);At(this,v,void 0);At(this,S,void 0);At(this,I,void 0);At(this,h,void 0);At(this,B,0);Pt(this,b,be),Pt(this,D,Ce)}addFilter(be){if(!be)return"none";let Ce=Me(this,r,ma).get(be);if(Ce)return Ce;let ce,Ee,ve,he;if(be.length===1){const Ze=be[0],tt=new Array(256);for(let je=0;je<256;je++)tt[je]=Ze[je]/255;he=ce=Ee=ve=tt.join(",")}else{const[Ze,tt,je]=be,$e=new Array(256),He=new Array(256),Ve=new Array(256);for(let st=0;st<256;st++)$e[st]=Ze[st]/255,He[st]=tt[st]/255,Ve[st]=je[st]/255;ce=$e.join(","),Ee=He.join(","),ve=Ve.join(","),he=`${ce}${Ee}${ve}`}if(Ce=Me(this,r,ma).get(he),Ce)return Me(this,r,ma).set(be,Ce),Ce;const Fe=`g_${Me(this,b)}_transfer_map_${bo(this,B)._++}`,_e=`url(#${Fe})`;Me(this,r,ma).set(be,_e),Me(this,r,ma).set(he,_e);const Ne=ht(this,ke,fA).call(this,Fe);return ht(this,Be,Co).call(this,ce,Ee,ve,Ne),_e}addHCMFilter(be,Ce){var tt;const ce=`${be}-${Ce}`;if(Me(this,N)===ce)return Me(this,v);if(Pt(this,N,ce),Pt(this,v,"none"),(tt=Me(this,J))==null||tt.remove(),!be||!Ce)return Me(this,v);const Ee=ht(this,te,Bo).call(this,be);be=ae.Util.makeHexColor(...Ee);const ve=ht(this,te,Bo).call(this,Ce);if(Ce=ae.Util.makeHexColor(...ve),Me(this,E,wa).style.color="",be==="#000000"&&Ce==="#ffffff"||be===Ce)return Me(this,v);const he=new Array(256);for(let je=0;je<=255;je++){const $e=je/255;he[je]=$e<=.03928?$e/12.92:(($e+.055)/1.055)**2.4}const Fe=he.join(","),_e=`g_${Me(this,b)}_hcm_filter`,Ne=Pt(this,S,ht(this,ke,fA).call(this,_e));ht(this,Be,Co).call(this,Fe,Fe,Fe,Ne),ht(this,se,x0).call(this,Ne);const Ze=(je,$e)=>{const He=Ee[je]/255,Ve=ve[je]/255,st=new Array($e+1);for(let pt=0;pt<=$e;pt++)st[pt]=He+pt/$e*(Ve-He);return st.join(",")};return ht(this,Be,Co).call(this,Ze(0,5),Ze(1,5),Ze(2,5),Ne),Pt(this,v,`url(#${_e})`),Me(this,v)}addHighlightHCMFilter(be,Ce,ce,Ee){var Ve;const ve=`${be}-${Ce}-${ce}-${Ee}`;if(Me(this,I)===ve)return Me(this,h);if(Pt(this,I,ve),Pt(this,h,"none"),(Ve=Me(this,S))==null||Ve.remove(),!be||!Ce)return Me(this,h);const[he,Fe]=[be,Ce].map(ht(this,te,Bo).bind(this));let _e=Math.round(.2126*he[0]+.7152*he[1]+.0722*he[2]),Ne=Math.round(.2126*Fe[0]+.7152*Fe[1]+.0722*Fe[2]),[Ze,tt]=[ce,Ee].map(ht(this,te,Bo).bind(this));Ne<_e&&([_e,Ne,Ze,tt]=[Ne,_e,tt,Ze]),Me(this,E,wa).style.color="";const je=(st,pt,at)=>{const Re=new Array(256),Ge=(Ne-_e)/at,gt=st/255,rt=(pt-st)/(255*at);let Bt=0;for(let St=0;St<=at;St++){const jn=Math.round(_e+St*Ge),dt=gt+St*rt;for(let Zt=Bt;Zt<=jn;Zt++)Re[Zt]=dt;Bt=jn+1}for(let St=Bt;St<256;St++)Re[St]=Re[Bt-1];return Re.join(",")},$e=`g_${Me(this,b)}_hcm_highlight_filter`,He=Pt(this,S,ht(this,ke,fA).call(this,$e));return ht(this,se,x0).call(this,He),ht(this,Be,Co).call(this,je(Ze[0],tt[0],5),je(Ze[1],tt[1],5),je(Ze[2],tt[2],5),He),Pt(this,h,`url(#${$e})`),Me(this,h)}destroy(be=!1){be&&(Me(this,v)||Me(this,h))||(Me(this,u)&&(Me(this,u).parentNode.parentNode.remove(),Pt(this,u,null)),Me(this,W)&&(Me(this,W).clear(),Pt(this,W,null)),Pt(this,B,0))}}W=new WeakMap,u=new WeakMap,b=new WeakMap,D=new WeakMap,J=new WeakMap,N=new WeakMap,v=new WeakMap,S=new WeakMap,I=new WeakMap,h=new WeakMap,B=new WeakMap,r=new WeakSet,ma=function(){return Me(this,W)||Pt(this,W,new Map)},E=new WeakSet,wa=function(){if(!Me(this,u)){const be=Me(this,D).createElement("div"),{style:Ce}=be;Ce.visibility="hidden",Ce.contain="strict",Ce.width=Ce.height=0,Ce.position="absolute",Ce.top=Ce.left=0,Ce.zIndex=-1;const ce=Me(this,D).createElementNS(Te,"svg");ce.setAttribute("width",0),ce.setAttribute("height",0),Pt(this,u,Me(this,D).createElementNS(Te,"defs")),be.append(ce),ce.append(Me(this,u)),Me(this,D).body.append(be)}return Me(this,u)},se=new WeakSet,x0=function(be){const Ce=Me(this,D).createElementNS(Te,"feColorMatrix");Ce.setAttribute("type","matrix"),Ce.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),be.append(Ce)},ke=new WeakSet,fA=function(be){const Ce=Me(this,D).createElementNS(Te,"filter");return Ce.setAttribute("color-interpolation-filters","sRGB"),Ce.setAttribute("id",be),Me(this,E,wa).append(Ce),Ce},Ie=new WeakSet,gA=function(be,Ce,ce){const Ee=Me(this,D).createElementNS(Te,Ce);Ee.setAttribute("type","discrete"),Ee.setAttribute("tableValues",ce),be.append(Ee)},Be=new WeakSet,Co=function(be,Ce,ce,Ee){const ve=Me(this,D).createElementNS(Te,"feComponentTransfer");Ee.append(ve),ht(this,Ie,gA).call(this,ve,"feFuncR",be),ht(this,Ie,gA).call(this,ve,"feFuncG",Ce),ht(this,Ie,gA).call(this,ve,"feFuncB",ce)},te=new WeakSet,Bo=function(be){return Me(this,E,wa).style.color=be,j(getComputedStyle(Me(this,E,wa)).getPropertyValue("color"))},s.DOMFilterFactory=x;class ie extends X.BaseCanvasFactory{constructor({ownerDocument:le=globalThis.document}={}){super(),this._document=le}_createCanvas(le,be){const Ce=this._document.createElement("canvas");return Ce.width=le,Ce.height=be,Ce}}s.DOMCanvasFactory=ie;async function n(ue,le=!1){if(p(ue,document.baseURI)){const be=await fetch(ue);if(!be.ok)throw new Error(be.statusText);return le?new Uint8Array(await be.arrayBuffer()):(0,ae.stringToBytes)(await be.text())}return new Promise((be,Ce)=>{const ce=new XMLHttpRequest;ce.open("GET",ue,!0),le&&(ce.responseType="arraybuffer"),ce.onreadystatechange=()=>{if(ce.readyState===XMLHttpRequest.DONE){if(ce.status===200||ce.status===0){let Ee;if(le&&ce.response?Ee=new Uint8Array(ce.response):!le&&ce.responseText&&(Ee=(0,ae.stringToBytes)(ce.responseText)),Ee){be(Ee);return}}Ce(new Error(ce.statusText))}},ce.send(null)})}class w extends X.BaseCMapReaderFactory{_fetchData(le,be){return n(le,this.isCompressed).then(Ce=>({cMapData:Ce,compressionType:be}))}}s.DOMCMapReaderFactory=w;class O extends X.BaseStandardFontDataFactory{_fetchData(le){return n(le,!0)}}s.DOMStandardFontDataFactory=O;class e extends X.BaseSVGFactory{_createSVG(le){return document.createElementNS(Te,le)}}s.DOMSVGFactory=e;class t{constructor({viewBox:le,scale:be,rotation:Ce,offsetX:ce=0,offsetY:Ee=0,dontFlip:ve=!1}){this.viewBox=le,this.scale=be,this.rotation=Ce,this.offsetX=ce,this.offsetY=Ee;const he=(le[2]+le[0])/2,Fe=(le[3]+le[1])/2;let _e,Ne,Ze,tt;switch(Ce%=360,Ce<0&&(Ce+=360),Ce){case 180:_e=-1,Ne=0,Ze=0,tt=1;break;case 90:_e=0,Ne=1,Ze=1,tt=0;break;case 270:_e=0,Ne=-1,Ze=-1,tt=0;break;case 0:_e=1,Ne=0,Ze=0,tt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ve&&(Ze=-Ze,tt=-tt);let je,$e,He,Ve;_e===0?(je=Math.abs(Fe-le[1])*be+ce,$e=Math.abs(he-le[0])*be+Ee,He=(le[3]-le[1])*be,Ve=(le[2]-le[0])*be):(je=Math.abs(he-le[0])*be+ce,$e=Math.abs(Fe-le[1])*be+Ee,He=(le[2]-le[0])*be,Ve=(le[3]-le[1])*be),this.transform=[_e*be,Ne*be,Ze*be,tt*be,je-_e*be*he-Ze*be*Fe,$e-Ne*be*he-tt*be*Fe],this.width=He,this.height=Ve}get rawDims(){const{viewBox:le}=this;return(0,ae.shadow)(this,"rawDims",{pageWidth:le[2]-le[0],pageHeight:le[3]-le[1],pageX:le[0],pageY:le[1]})}clone({scale:le=this.scale,rotation:be=this.rotation,offsetX:Ce=this.offsetX,offsetY:ce=this.offsetY,dontFlip:Ee=!1}={}){return new t({viewBox:this.viewBox.slice(),scale:le,rotation:be,offsetX:Ce,offsetY:ce,dontFlip:Ee})}convertToViewportPoint(le,be){return ae.Util.applyTransform([le,be],this.transform)}convertToViewportRectangle(le){const be=ae.Util.applyTransform([le[0],le[1]],this.transform),Ce=ae.Util.applyTransform([le[2],le[3]],this.transform);return[be[0],be[1],Ce[0],Ce[1]]}convertToPdfPoint(le,be){return ae.Util.applyInverseTransform([le,be],this.transform)}}s.PageViewport=t;class o extends ae.BaseException{constructor(le,be=0){super(le,"RenderingCancelledException"),this.extraDelay=be}}s.RenderingCancelledException=o;function K(ue){const le=ue.length;let be=0;for(;be<le&&ue[be].trim()==="";)be++;return ue.substring(be,be+5).toLowerCase()==="data:"}function H(ue){return typeof ue=="string"&&/\.pdf$/i.test(ue)}function U(ue,le=!1){return le||([ue]=ue.split(/[#?]/,1)),ue.substring(ue.lastIndexOf("/")+1)}function P(ue,le="document.pdf"){if(typeof ue!="string")return le;if(K(ue))return(0,ae.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),le;const be=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ce=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ce=be.exec(ue);let Ee=Ce.exec(ce[1])||Ce.exec(ce[2])||Ce.exec(ce[3]);if(Ee&&(Ee=Ee[0],Ee.includes("%")))try{Ee=Ce.exec(decodeURIComponent(Ee))[0]}catch{}return Ee||le}class f{constructor(){yr(this,"started",Object.create(null));yr(this,"times",[])}time(le){le in this.started&&(0,ae.warn)(`Timer is already running for ${le}`),this.started[le]=Date.now()}timeEnd(le){le in this.started||(0,ae.warn)(`Timer has not been started for ${le}`),this.times.push({name:le,start:this.started[le],end:Date.now()}),delete this.started[le]}toString(){const le=[];let be=0;for(const{name:Ce}of this.times)be=Math.max(Ce.length,be);for(const{name:Ce,start:ce,end:Ee}of this.times)le.push(`${Ce.padEnd(be)} ${Ee-ce}ms
`);return le.join("")}}s.StatTimer=f;function p(ue,le){try{const{protocol:be}=le?new URL(ue,le):new URL(ue);return be==="http:"||be==="https:"}catch{return!1}}function i(ue){ue.preventDefault()}function k(ue,le=!1){return new Promise((be,Ce)=>{const ce=document.createElement("script");ce.src=ue,ce.onload=function(Ee){le&&ce.remove(),be(Ee)},ce.onerror=function(){Ce(new Error(`Cannot load script at: ${ce.src}`))},(document.head||document.documentElement).append(ce)})}function F(ue){console.log("Deprecated API usage: "+ue)}let _;class C{static toDateObject(le){if(!le||typeof le!="string")return null;_||(_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const be=_.exec(le);if(!be)return null;const Ce=parseInt(be[1],10);let ce=parseInt(be[2],10);ce=ce>=1&&ce<=12?ce-1:0;let Ee=parseInt(be[3],10);Ee=Ee>=1&&Ee<=31?Ee:1;let ve=parseInt(be[4],10);ve=ve>=0&&ve<=23?ve:0;let he=parseInt(be[5],10);he=he>=0&&he<=59?he:0;let Fe=parseInt(be[6],10);Fe=Fe>=0&&Fe<=59?Fe:0;const _e=be[7]||"Z";let Ne=parseInt(be[8],10);Ne=Ne>=0&&Ne<=23?Ne:0;let Ze=parseInt(be[9],10)||0;return Ze=Ze>=0&&Ze<=59?Ze:0,_e==="-"?(ve+=Ne,he+=Ze):_e==="+"&&(ve-=Ne,he-=Ze),new Date(Date.UTC(Ce,ce,Ee,ve,he,Fe))}}s.PDFDateString=C;function Q(ue,{scale:le=1,rotation:be=0}){const{width:Ce,height:ce}=ue.attributes.style,Ee=[0,0,parseInt(Ce),parseInt(ce)];return new t({viewBox:Ee,scale:le,rotation:be})}function j(ue){if(ue.startsWith("#")){const le=parseInt(ue.slice(1),16);return[(le&16711680)>>16,(le&65280)>>8,le&255]}return ue.startsWith("rgb(")?ue.slice(4,-1).split(",").map(le=>parseInt(le)):ue.startsWith("rgba(")?ue.slice(5,-1).split(",").map(le=>parseInt(le)).slice(0,3):((0,ae.warn)(`Not a valid color format: "${ue}"`),[0,0,0])}function re(ue){const le=document.createElement("span");le.style.visibility="hidden",document.body.append(le);for(const be of ue.keys()){le.style.color=be;const Ce=window.getComputedStyle(le).color;ue.set(be,j(Ce))}le.remove()}function T(ue){const{a:le,b:be,c:Ce,d:ce,e:Ee,f:ve}=ue.getTransform();return[le,be,Ce,ce,Ee,ve]}function R(ue){const{a:le,b:be,c:Ce,d:ce,e:Ee,f:ve}=ue.getTransform().invertSelf();return[le,be,Ce,ce,Ee,ve]}function d(ue,le,be=!1,Ce=!0){if(le instanceof t){const{pageWidth:ce,pageHeight:Ee}=le.rawDims,{style:ve}=ue,he=ae.FeatureTest.isCSSRoundSupported,Fe=`var(--scale-factor) * ${ce}px`,_e=`var(--scale-factor) * ${Ee}px`,Ne=he?`round(${Fe}, 1px)`:`calc(${Fe})`,Ze=he?`round(${_e}, 1px)`:`calc(${_e})`;!be||le.rotation%180===0?(ve.width=Ne,ve.height=Ze):(ve.width=Ze,ve.height=Ne)}Ce&&ue.setAttribute("data-main-rotation",le.rotation)}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var X=M(1);class ae{constructor(){this.constructor===ae&&(0,X.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(w){return"none"}addHCMFilter(w,O){return"none"}addHighlightHCMFilter(w,O,e,t){return"none"}destroy(w=!1){}}s.BaseFilterFactory=ae;class Te{constructor(){this.constructor===Te&&(0,X.unreachable)("Cannot initialize BaseCanvasFactory.")}create(w,O){if(w<=0||O<=0)throw new Error("Invalid canvas size");const e=this._createCanvas(w,O);return{canvas:e,context:e.getContext("2d")}}reset(w,O,e){if(!w.canvas)throw new Error("Canvas is not specified");if(O<=0||e<=0)throw new Error("Invalid canvas size");w.canvas.width=O,w.canvas.height=e}destroy(w){if(!w.canvas)throw new Error("Canvas is not specified");w.canvas.width=0,w.canvas.height=0,w.canvas=null,w.context=null}_createCanvas(w,O){(0,X.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=Te;class Pe{constructor({baseUrl:w=null,isCompressed:O=!0}){this.constructor===Pe&&(0,X.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=w,this.isCompressed=O}async fetch({name:w}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!w)throw new Error("CMap name must be specified.");const O=this.baseUrl+w+(this.isCompressed?".bcmap":""),e=this.isCompressed?X.CMapCompressionType.BINARY:X.CMapCompressionType.NONE;return this._fetchData(O,e).catch(t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${O}`)})}_fetchData(w,O){(0,X.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=Pe;class x{constructor({baseUrl:w=null}){this.constructor===x&&(0,X.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=w}async fetch({filename:w}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!w)throw new Error("Font filename must be specified.");const O=`${this.baseUrl}${w}`;return this._fetchData(O).catch(e=>{throw new Error(`Unable to load font data at: ${O}`)})}_fetchData(w){(0,X.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=x;class ie{constructor(){this.constructor===ie&&(0,X.unreachable)("Cannot initialize BaseSVGFactory.")}create(w,O,e=!1){if(w<=0||O<=0)throw new Error("Invalid SVG dimensions");const t=this._createSVG("svg:svg");return t.setAttribute("version","1.1"),e||(t.setAttribute("width",`${w}px`),t.setAttribute("height",`${O}px`)),t.setAttribute("preserveAspectRatio","none"),t.setAttribute("viewBox",`0 0 ${w} ${O}`),t}createElement(w){if(typeof w!="string")throw new Error("Invalid SVG element type");return this._createSVG(w)}_createSVG(w){(0,X.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=ie},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var X=M(1);const ae=3285377520,Te=4294901760,Pe=65535;class x{constructor(n){this.h1=n?n&4294967295:ae,this.h2=n?n&4294967295:ae}update(n){let w,O;if(typeof n=="string"){w=new Uint8Array(n.length*2),O=0;for(let F=0,_=n.length;F<_;F++){const C=n.charCodeAt(F);C<=255?w[O++]=C:(w[O++]=C>>>8,w[O++]=C&255)}}else if((0,X.isArrayBuffer)(n))w=n.slice(),O=w.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const e=O>>2,t=O-e*4,o=new Uint32Array(w.buffer,0,e);let K=0,H=0,U=this.h1,P=this.h2;const f=3432918353,p=461845907,i=f&Pe,k=p&Pe;for(let F=0;F<e;F++)F&1?(K=o[F],K=K*f&Te|K*i&Pe,K=K<<15|K>>>17,K=K*p&Te|K*k&Pe,U^=K,U=U<<13|U>>>19,U=U*5+3864292196):(H=o[F],H=H*f&Te|H*i&Pe,H=H<<15|H>>>17,H=H*p&Te|H*k&Pe,P^=H,P=P<<13|P>>>19,P=P*5+3864292196);switch(K=0,t){case 3:K^=w[e*4+2]<<16;case 2:K^=w[e*4+1]<<8;case 1:K^=w[e*4],K=K*f&Te|K*i&Pe,K=K<<15|K>>>17,K=K*p&Te|K*k&Pe,e&1?U^=K:P^=K}this.h1=U,this.h2=P}hexdigest(){let n=this.h1,w=this.h2;return n^=w>>>1,n=n*3981806797&Te|n*36045&Pe,w=w*4283543511&Te|((w<<16|n>>>16)*2950163797&Te)>>>16,n^=w>>>1,n=n*444984403&Te|n*60499&Pe,w=w*3301882366&Te|((w<<16|n>>>16)*3120437893&Te)>>>16,n^=w>>>1,(n>>>0).toString(16).padStart(8,"0")+(w>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=x},(a,s,M)=>{var Pe;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var X=M(1);class ae{constructor({ownerDocument:ie=globalThis.document,styleElement:n=null}){At(this,Pe,new Set);this._document=ie,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ie){this.nativeFontFaces.add(ie),this._document.fonts.add(ie)}removeNativeFontFace(ie){this.nativeFontFaces.delete(ie),this._document.fonts.delete(ie)}insertRule(ie){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(ie,n.cssRules.length)}clear(){for(const ie of this.nativeFontFaces)this._document.fonts.delete(ie);this.nativeFontFaces.clear(),Me(this,Pe).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(ie){if(!(!ie||Me(this,Pe).has(ie.loadedName))){if((0,X.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:w,style:O}=ie,e=new FontFace(n,w,O);this.addNativeFontFace(e);try{await e.load(),Me(this,Pe).add(n)}catch{(0,X.warn)(`Cannot load system font: ${ie.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(e)}return}(0,X.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ie){if(ie.attached||ie.missingFile&&!ie.systemFontInfo)return;if(ie.attached=!0,ie.systemFontInfo){await this.loadSystemFont(ie.systemFontInfo);return}if(this.isFontLoadingAPISupported){const w=ie.createNativeFontFace();if(w){this.addNativeFontFace(w);try{await w.loaded}catch(O){throw(0,X.warn)(`Failed to load font '${w.family}': '${O}'.`),ie.disableFontFace=!0,O}}return}const n=ie.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(w=>{const O=this._queueLoadingCallback(w);this._prepareFontLoadEvent(ie,O)})}}get isFontLoadingAPISupported(){var n;const ie=!!((n=this._document)!=null&&n.fonts);return(0,X.shadow)(this,"isFontLoadingAPISupported",ie)}get isSyncFontLoadingSupported(){let ie=!1;return(X.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ie=!0),(0,X.shadow)(this,"isSyncFontLoadingSupported",ie)}_queueLoadingCallback(ie){function n(){for((0,X.assert)(!O.done,"completeRequest() cannot be called twice."),O.done=!0;w.length>0&&w[0].done;){const e=w.shift();setTimeout(e.callback,0)}}const{loadingRequests:w}=this,O={done:!1,complete:n,callback:ie};return w.push(O),O}get _loadTestFont(){const ie=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,X.shadow)(this,"_loadTestFont",ie)}_prepareFontLoadEvent(ie,n){function w(j,re){return j.charCodeAt(re)<<24|j.charCodeAt(re+1)<<16|j.charCodeAt(re+2)<<8|j.charCodeAt(re+3)&255}function O(j,re,T,R){const d=j.substring(0,re),y=j.substring(re+T);return d+R+y}let e,t;const o=this._document.createElement("canvas");o.width=1,o.height=1;const K=o.getContext("2d");let H=0;function U(j,re){if(++H>30){(0,X.warn)("Load test font never loaded."),re();return}if(K.font="30px "+j,K.fillText(".",0,20),K.getImageData(0,0,1,1).data[3]>0){re();return}setTimeout(U.bind(null,j,re))}const P=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=O(f,976,P.length,P);const i=16,k=1482184792;let F=w(f,i);for(e=0,t=P.length-3;e<t;e+=4)F=F-k+w(P,e)|0;e<P.length&&(F=F-k+w(P+"XXX",e)|0),f=O(f,i,4,(0,X.string32)(F));const _=`url(data:font/opentype;base64,${btoa(f)});`,C=`@font-face {font-family:"${P}";src:${_}}`;this.insertRule(C);const Q=this._document.createElement("div");Q.style.visibility="hidden",Q.style.width=Q.style.height="10px",Q.style.position="absolute",Q.style.top=Q.style.left="0px";for(const j of[ie.loadedName,P]){const re=this._document.createElement("span");re.textContent="Hi",re.style.fontFamily=j,Q.append(re)}this._document.body.append(Q),U(P,()=>{Q.remove(),n.complete()})}}Pe=new WeakMap,s.FontLoader=ae;class Te{constructor(ie,{isEvalSupported:n=!0,disableFontFace:w=!1,ignoreErrors:O=!1,inspectFont:e=null}){this.compiledGlyphs=Object.create(null);for(const t in ie)this[t]=ie[t];this.isEvalSupported=n!==!1,this.disableFontFace=w===!0,this.ignoreErrors=O===!0,this._inspectFont=e}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let ie;if(!this.cssFontInfo)ie=new FontFace(this.loadedName,this.data,{});else{const w={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(w.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ie=new FontFace(this.cssFontInfo.fontFamily,this.data,w)}return(n=this._inspectFont)==null||n.call(this,this),ie}createFontFaceRule(){var O;if(!this.data||this.disableFontFace)return null;const ie=(0,X.bytesToString)(this.data),n=`url(data:${this.mimetype};base64,${btoa(ie)});`;let w;if(!this.cssFontInfo)w=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),w=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${n}}`}return(O=this._inspectFont)==null||O.call(this,this,n),w}getPathGenerator(ie,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let w;try{w=ie.get(this.loadedName+"_path_"+n)}catch(O){if(!this.ignoreErrors)throw O;return(0,X.warn)(`getPathGenerator - ignoring character: "${O}".`),this.compiledGlyphs[n]=function(e,t){}}if(this.isEvalSupported&&X.FeatureTest.isEvalSupported){const O=[];for(const e of w){const t=e.args!==void 0?e.args.join(","):"";O.push("c.",e.cmd,"(",t,`);
`)}return this.compiledGlyphs[n]=new Function("c","size",O.join(""))}return this.compiledGlyphs[n]=function(O,e){for(const t of w)t.cmd==="scale"&&(t.args=[e,-e]),O[t.cmd].apply(O,t.args)}}}s.FontFaceObject=Te},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var X=M(7);M(1);const ae=function(n){return new Promise((w,O)=>{require$$5.readFile(n,(t,o)=>{if(t||!o){O(new Error(t));return}w(new Uint8Array(o))})})};class Te extends X.BaseFilterFactory{}s.NodeFilterFactory=Te;class Pe extends X.BaseCanvasFactory{_createCanvas(w,O){return require$$5.createCanvas(w,O)}}s.NodeCanvasFactory=Pe;class x extends X.BaseCMapReaderFactory{_fetchData(w,O){return ae(w).then(e=>({cMapData:e,compressionType:O}))}}s.NodeCMapReaderFactory=x;class ie extends X.BaseStandardFontDataFactory{_fetchData(w){return ae(w)}}s.NodeStandardFontDataFactory=ie},(a,s,M)=>{var u,b0,D,w0;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var X=M(1),ae=M(6),Te=M(12),Pe=M(13);const x=16,ie=100,n=4096,w=15,O=10,e=1e3,t=16;function o(v,S){if(v._removeMirroring)throw new Error("Context is already forwarding operations.");v.__originalSave=v.save,v.__originalRestore=v.restore,v.__originalRotate=v.rotate,v.__originalScale=v.scale,v.__originalTranslate=v.translate,v.__originalTransform=v.transform,v.__originalSetTransform=v.setTransform,v.__originalResetTransform=v.resetTransform,v.__originalClip=v.clip,v.__originalMoveTo=v.moveTo,v.__originalLineTo=v.lineTo,v.__originalBezierCurveTo=v.bezierCurveTo,v.__originalRect=v.rect,v.__originalClosePath=v.closePath,v.__originalBeginPath=v.beginPath,v._removeMirroring=()=>{v.save=v.__originalSave,v.restore=v.__originalRestore,v.rotate=v.__originalRotate,v.scale=v.__originalScale,v.translate=v.__originalTranslate,v.transform=v.__originalTransform,v.setTransform=v.__originalSetTransform,v.resetTransform=v.__originalResetTransform,v.clip=v.__originalClip,v.moveTo=v.__originalMoveTo,v.lineTo=v.__originalLineTo,v.bezierCurveTo=v.__originalBezierCurveTo,v.rect=v.__originalRect,v.closePath=v.__originalClosePath,v.beginPath=v.__originalBeginPath,delete v._removeMirroring},v.save=function(){S.save(),this.__originalSave()},v.restore=function(){S.restore(),this.__originalRestore()},v.translate=function(h,B){S.translate(h,B),this.__originalTranslate(h,B)},v.scale=function(h,B){S.scale(h,B),this.__originalScale(h,B)},v.transform=function(h,B,r,A,E,G){S.transform(h,B,r,A,E,G),this.__originalTransform(h,B,r,A,E,G)},v.setTransform=function(h,B,r,A,E,G){S.setTransform(h,B,r,A,E,G),this.__originalSetTransform(h,B,r,A,E,G)},v.resetTransform=function(){S.resetTransform(),this.__originalResetTransform()},v.rotate=function(h){S.rotate(h),this.__originalRotate(h)},v.clip=function(h){S.clip(h),this.__originalClip(h)},v.moveTo=function(I,h){S.moveTo(I,h),this.__originalMoveTo(I,h)},v.lineTo=function(I,h){S.lineTo(I,h),this.__originalLineTo(I,h)},v.bezierCurveTo=function(I,h,B,r,A,E){S.bezierCurveTo(I,h,B,r,A,E),this.__originalBezierCurveTo(I,h,B,r,A,E)},v.rect=function(I,h,B,r){S.rect(I,h,B,r),this.__originalRect(I,h,B,r)},v.closePath=function(){S.closePath(),this.__originalClosePath()},v.beginPath=function(){S.beginPath(),this.__originalBeginPath()}}class K{constructor(S){this.canvasFactory=S,this.cache=Object.create(null)}getCanvas(S,I,h){let B;return this.cache[S]!==void 0?(B=this.cache[S],this.canvasFactory.reset(B,I,h)):(B=this.canvasFactory.create(I,h),this.cache[S]=B),B}delete(S){delete this.cache[S]}clear(){for(const S in this.cache){const I=this.cache[S];this.canvasFactory.destroy(I),delete this.cache[S]}}}function H(v,S,I,h,B,r,A,E,G,se){const[Ae,ke,de,Ie,ge,Be]=(0,ae.getCurrentTransform)(v);if(ke===0&&de===0){const fe=A*Ae+ge,ue=Math.round(fe),le=E*Ie+Be,be=Math.round(le),Ce=(A+G)*Ae+ge,ce=Math.abs(Math.round(Ce)-ue)||1,Ee=(E+se)*Ie+Be,ve=Math.abs(Math.round(Ee)-be)||1;return v.setTransform(Math.sign(Ae),0,0,Math.sign(Ie),ue,be),v.drawImage(S,I,h,B,r,0,0,ce,ve),v.setTransform(Ae,ke,de,Ie,ge,Be),[ce,ve]}if(Ae===0&&Ie===0){const fe=E*de+ge,ue=Math.round(fe),le=A*ke+Be,be=Math.round(le),Ce=(E+se)*de+ge,ce=Math.abs(Math.round(Ce)-ue)||1,Ee=(A+G)*ke+Be,ve=Math.abs(Math.round(Ee)-be)||1;return v.setTransform(0,Math.sign(ke),Math.sign(de),0,ue,be),v.drawImage(S,I,h,B,r,0,0,ve,ce),v.setTransform(Ae,ke,de,Ie,ge,Be),[ve,ce]}v.drawImage(S,I,h,B,r,A,E,G,se);const ee=Math.hypot(Ae,ke),te=Math.hypot(de,Ie);return[ee*G,te*se]}function U(v){const{width:S,height:I}=v;if(S>e||I>e)return null;const h=1e3,B=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=S+1;let A=new Uint8Array(r*(I+1)),E,G,se;const Ae=S+7&-8;let ke=new Uint8Array(Ae*I),de=0;for(const te of v.data){let fe=128;for(;fe>0;)ke[de++]=te&fe?0:255,fe>>=1}let Ie=0;for(de=0,ke[de]!==0&&(A[0]=1,++Ie),G=1;G<S;G++)ke[de]!==ke[de+1]&&(A[G]=ke[de]?2:1,++Ie),de++;for(ke[de]!==0&&(A[G]=2,++Ie),E=1;E<I;E++){de=E*Ae,se=E*r,ke[de-Ae]!==ke[de]&&(A[se]=ke[de]?1:8,++Ie);let te=(ke[de]?4:0)+(ke[de-Ae]?8:0);for(G=1;G<S;G++)te=(te>>2)+(ke[de+1]?4:0)+(ke[de-Ae+1]?8:0),B[te]&&(A[se+G]=B[te],++Ie),de++;if(ke[de-Ae]!==ke[de]&&(A[se+G]=ke[de]?2:4,++Ie),Ie>h)return null}for(de=Ae*(I-1),se=E*r,ke[de]!==0&&(A[se]=8,++Ie),G=1;G<S;G++)ke[de]!==ke[de+1]&&(A[se+G]=ke[de]?4:8,++Ie),de++;if(ke[de]!==0&&(A[se+G]=4,++Ie),Ie>h)return null;const ge=new Int32Array([0,r,-1,0,-r,0,0,0,1]),Be=new Path2D;for(E=0;Ie&&E<=I;E++){let te=E*r;const fe=te+S;for(;te<fe&&!A[te];)te++;if(te===fe)continue;Be.moveTo(te%r,E);const ue=te;let le=A[te];do{const be=ge[le];do te+=be;while(!A[te]);const Ce=A[te];Ce!==5&&Ce!==10?(le=Ce,A[te]=0):(le=Ce&51*le>>4,A[te]&=le>>2|le<<2),Be.lineTo(te%r,te/r|0),A[te]||--Ie}while(ue!==te);--E}return ke=null,A=null,function(te){te.save(),te.scale(1/S,-1/I),te.translate(0,-I),te.fill(Be),te.beginPath(),te.restore()}}class P{constructor(S,I){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=X.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=X.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=X.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,S,I])}clone(){const S=Object.create(this);return S.clipBox=this.clipBox.slice(),S}setCurrentPoint(S,I){this.x=S,this.y=I}updatePathMinMax(S,I,h){[I,h]=X.Util.applyTransform([I,h],S),this.minX=Math.min(this.minX,I),this.minY=Math.min(this.minY,h),this.maxX=Math.max(this.maxX,I),this.maxY=Math.max(this.maxY,h)}updateRectMinMax(S,I){const h=X.Util.applyTransform(I,S),B=X.Util.applyTransform(I.slice(2),S);this.minX=Math.min(this.minX,h[0],B[0]),this.minY=Math.min(this.minY,h[1],B[1]),this.maxX=Math.max(this.maxX,h[0],B[0]),this.maxY=Math.max(this.maxY,h[1],B[1])}updateScalingPathMinMax(S,I){X.Util.scaleMinMax(S,I),this.minX=Math.min(this.minX,I[0]),this.maxX=Math.max(this.maxX,I[1]),this.minY=Math.min(this.minY,I[2]),this.maxY=Math.max(this.maxY,I[3])}updateCurvePathMinMax(S,I,h,B,r,A,E,G,se,Ae){const ke=X.Util.bezierBoundingBox(I,h,B,r,A,E,G,se);if(Ae){Ae[0]=Math.min(Ae[0],ke[0],ke[2]),Ae[1]=Math.max(Ae[1],ke[0],ke[2]),Ae[2]=Math.min(Ae[2],ke[1],ke[3]),Ae[3]=Math.max(Ae[3],ke[1],ke[3]);return}this.updateRectMinMax(S,ke)}getPathBoundingBox(S=Te.PathType.FILL,I=null){const h=[this.minX,this.minY,this.maxX,this.maxY];if(S===Te.PathType.STROKE){I||(0,X.unreachable)("Stroke bounding box must include transform.");const B=X.Util.singularValueDecompose2dScale(I),r=B[0]*this.lineWidth/2,A=B[1]*this.lineWidth/2;h[0]-=r,h[1]-=A,h[2]+=r,h[3]+=A}return h}updateClipFromPath(){const S=X.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(S||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(S){this.clipBox=S,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(S=Te.PathType.FILL,I=null){return X.Util.intersect(this.clipBox,this.getPathBoundingBox(S,I))}}function f(v,S){if(typeof ImageData<"u"&&S instanceof ImageData){v.putImageData(S,0,0);return}const I=S.height,h=S.width,B=I%t,r=(I-B)/t,A=B===0?r:r+1,E=v.createImageData(h,t);let G=0,se;const Ae=S.data,ke=E.data;let de,Ie,ge,Be;if(S.kind===X.ImageKind.GRAYSCALE_1BPP){const ee=Ae.byteLength,te=new Uint32Array(ke.buffer,0,ke.byteLength>>2),fe=te.length,ue=h+7>>3,le=4294967295,be=X.FeatureTest.isLittleEndian?4278190080:255;for(de=0;de<A;de++){for(ge=de<r?t:B,se=0,Ie=0;Ie<ge;Ie++){const Ce=ee-G;let ce=0;const Ee=Ce>ue?h:Ce*8-7,ve=Ee&-8;let he=0,Fe=0;for(;ce<ve;ce+=8)Fe=Ae[G++],te[se++]=Fe&128?le:be,te[se++]=Fe&64?le:be,te[se++]=Fe&32?le:be,te[se++]=Fe&16?le:be,te[se++]=Fe&8?le:be,te[se++]=Fe&4?le:be,te[se++]=Fe&2?le:be,te[se++]=Fe&1?le:be;for(;ce<Ee;ce++)he===0&&(Fe=Ae[G++],he=128),te[se++]=Fe&he?le:be,he>>=1}for(;se<fe;)te[se++]=0;v.putImageData(E,0,de*t)}}else if(S.kind===X.ImageKind.RGBA_32BPP){for(Ie=0,Be=h*t*4,de=0;de<r;de++)ke.set(Ae.subarray(G,G+Be)),G+=Be,v.putImageData(E,0,Ie),Ie+=t;de<A&&(Be=h*B*4,ke.set(Ae.subarray(G,G+Be)),v.putImageData(E,0,Ie))}else if(S.kind===X.ImageKind.RGB_24BPP)for(ge=t,Be=h*ge,de=0;de<A;de++){for(de>=r&&(ge=B,Be=h*ge),se=0,Ie=Be;Ie--;)ke[se++]=Ae[G++],ke[se++]=Ae[G++],ke[se++]=Ae[G++],ke[se++]=255;v.putImageData(E,0,de*t)}else throw new Error(`bad image kind: ${S.kind}`)}function p(v,S){if(S.bitmap){v.drawImage(S.bitmap,0,0);return}const I=S.height,h=S.width,B=I%t,r=(I-B)/t,A=B===0?r:r+1,E=v.createImageData(h,t);let G=0;const se=S.data,Ae=E.data;for(let ke=0;ke<A;ke++){const de=ke<r?t:B;({srcPos:G}=(0,Pe.convertBlackAndWhiteToRGBA)({src:se,srcPos:G,dest:Ae,width:h,height:de,nonBlackColor:0})),v.putImageData(E,0,ke*t)}}function i(v,S){const I=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const h of I)v[h]!==void 0&&(S[h]=v[h]);v.setLineDash!==void 0&&(S.setLineDash(v.getLineDash()),S.lineDashOffset=v.lineDashOffset)}function k(v){if(v.strokeStyle=v.fillStyle="#000000",v.fillRule="nonzero",v.globalAlpha=1,v.lineWidth=1,v.lineCap="butt",v.lineJoin="miter",v.miterLimit=10,v.globalCompositeOperation="source-over",v.font="10px sans-serif",v.setLineDash!==void 0&&(v.setLineDash([]),v.lineDashOffset=0),!X.isNodeJS){const{filter:S}=v;S!=="none"&&S!==""&&(v.filter="none")}}function F(v,S,I,h){const B=v.length;for(let r=3;r<B;r+=4){const A=v[r];if(A===0)v[r-3]=S,v[r-2]=I,v[r-1]=h;else if(A<255){const E=255-A;v[r-3]=v[r-3]*A+S*E>>8,v[r-2]=v[r-2]*A+I*E>>8,v[r-1]=v[r-1]*A+h*E>>8}}}function _(v,S,I){const h=v.length,B=1/255;for(let r=3;r<h;r+=4){const A=I?I[v[r]]:v[r];S[r]=S[r]*A*B|0}}function C(v,S,I){const h=v.length;for(let B=3;B<h;B+=4){const r=v[B-3]*77+v[B-2]*152+v[B-1]*28;S[B]=I?S[B]*I[r>>8]>>8:S[B]*r>>16}}function Q(v,S,I,h,B,r,A,E,G,se,Ae){const ke=!!r,de=ke?r[0]:0,Ie=ke?r[1]:0,ge=ke?r[2]:0,Be=B==="Luminosity"?C:_,te=Math.min(h,Math.ceil(1048576/I));for(let fe=0;fe<h;fe+=te){const ue=Math.min(te,h-fe),le=v.getImageData(E-se,fe+(G-Ae),I,ue),be=S.getImageData(E,fe+G,I,ue);ke&&F(le.data,de,Ie,ge),Be(le.data,be.data,A),S.putImageData(be,E,fe+G)}}function j(v,S,I,h){const B=h[0],r=h[1],A=h[2]-B,E=h[3]-r;A===0||E===0||(Q(S.context,I,A,E,S.subtype,S.backdrop,S.transferMap,B,r,S.offsetX,S.offsetY),v.save(),v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),v.drawImage(I.canvas,0,0),v.restore())}function re(v,S){const I=X.Util.singularValueDecompose2dScale(v);I[0]=Math.fround(I[0]),I[1]=Math.fround(I[1]);const h=Math.fround((globalThis.devicePixelRatio||1)*ae.PixelsPerInch.PDF_TO_CSS_UNITS);return S!==void 0?S:I[0]<=h||I[1]<=h}const T=["butt","round","square"],R=["miter","round","bevel"],d={},y={},N=class N{constructor(S,I,h,B,r,{optionalContentConfig:A,markedContentStack:E=null},G,se){At(this,u);At(this,D);this.ctx=S,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=I,this.objs=h,this.canvasFactory=B,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=E||[],this.optionalContentConfig=A,this.cachedCanvases=new K(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=G,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=se,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(S,I=null){return typeof S=="string"?S.startsWith("g_")?this.commonObjs.get(S):this.objs.get(S):I}beginDrawing({transform:S,viewport:I,transparency:h=!1,background:B=null}){const r=this.ctx.canvas.width,A=this.ctx.canvas.height,E=this.ctx.fillStyle;if(this.ctx.fillStyle=B||"#ffffff",this.ctx.fillRect(0,0,r,A),this.ctx.fillStyle=E,h){const G=this.cachedCanvases.getCanvas("transparent",r,A);this.compositeCtx=this.ctx,this.transparentCanvas=G.canvas,this.ctx=G.context,this.ctx.save(),this.ctx.transform(...(0,ae.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),k(this.ctx),S&&(this.ctx.transform(...S),this.outputScaleX=S[0],this.outputScaleY=S[0]),this.ctx.transform(...I.transform),this.viewportScale=I.scale,this.baseTransform=(0,ae.getCurrentTransform)(this.ctx)}executeOperatorList(S,I,h,B){const r=S.argsArray,A=S.fnArray;let E=I||0;const G=r.length;if(G===E)return E;const se=G-E>O&&typeof h=="function",Ae=se?Date.now()+w:0;let ke=0;const de=this.commonObjs,Ie=this.objs;let ge;for(;;){if(B!==void 0&&E===B.nextBreakPoint)return B.breakIt(E,h),E;if(ge=A[E],ge!==X.OPS.dependency)this[ge].apply(this,r[E]);else for(const Be of r[E]){const ee=Be.startsWith("g_")?de:Ie;if(!ee.has(Be))return ee.get(Be,h),E}if(E++,E===G)return E;if(se&&++ke>O){if(Date.now()>Ae)return h(),E;ke=0}}}endDrawing(){ht(this,u,b0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const S of this._cachedBitmapsMap.values()){for(const I of S.values())typeof HTMLCanvasElement<"u"&&I instanceof HTMLCanvasElement&&(I.width=I.height=0);S.clear()}this._cachedBitmapsMap.clear(),ht(this,D,w0).call(this)}_scaleImage(S,I){const h=S.width,B=S.height;let r=Math.max(Math.hypot(I[0],I[1]),1),A=Math.max(Math.hypot(I[2],I[3]),1),E=h,G=B,se="prescale1",Ae,ke;for(;r>2&&E>1||A>2&&G>1;){let de=E,Ie=G;r>2&&E>1&&(de=E>=16384?Math.floor(E/2)-1||1:Math.ceil(E/2),r/=E/de),A>2&&G>1&&(Ie=G>=16384?Math.floor(G/2)-1||1:Math.ceil(G)/2,A/=G/Ie),Ae=this.cachedCanvases.getCanvas(se,de,Ie),ke=Ae.context,ke.clearRect(0,0,de,Ie),ke.drawImage(S,0,0,E,G,0,0,de,Ie),S=Ae.canvas,E=de,G=Ie,se=se==="prescale1"?"prescale2":"prescale1"}return{img:S,paintWidth:E,paintHeight:G}}_createMaskCanvas(S){const I=this.ctx,{width:h,height:B}=S,r=this.current.fillColor,A=this.current.patternFill,E=(0,ae.getCurrentTransform)(I);let G,se,Ae,ke;if((S.bitmap||S.data)&&S.count>1){const ce=S.bitmap||S.data.buffer;se=JSON.stringify(A?E:[E.slice(0,4),r]),G=this._cachedBitmapsMap.get(ce),G||(G=new Map,this._cachedBitmapsMap.set(ce,G));const Ee=G.get(se);if(Ee&&!A){const ve=Math.round(Math.min(E[0],E[2])+E[4]),he=Math.round(Math.min(E[1],E[3])+E[5]);return{canvas:Ee,offsetX:ve,offsetY:he}}Ae=Ee}Ae||(ke=this.cachedCanvases.getCanvas("maskCanvas",h,B),p(ke.context,S));let de=X.Util.transform(E,[1/h,0,0,-1/B,0,0]);de=X.Util.transform(de,[1,0,0,1,0,-B]);const Ie=X.Util.applyTransform([0,0],de),ge=X.Util.applyTransform([h,B],de),Be=X.Util.normalizeRect([Ie[0],Ie[1],ge[0],ge[1]]),ee=Math.round(Be[2]-Be[0])||1,te=Math.round(Be[3]-Be[1])||1,fe=this.cachedCanvases.getCanvas("fillCanvas",ee,te),ue=fe.context,le=Math.min(Ie[0],ge[0]),be=Math.min(Ie[1],ge[1]);ue.translate(-le,-be),ue.transform(...de),Ae||(Ae=this._scaleImage(ke.canvas,(0,ae.getCurrentTransformInverse)(ue)),Ae=Ae.img,G&&A&&G.set(se,Ae)),ue.imageSmoothingEnabled=re((0,ae.getCurrentTransform)(ue),S.interpolate),H(ue,Ae,0,0,Ae.width,Ae.height,0,0,h,B),ue.globalCompositeOperation="source-in";const Ce=X.Util.transform((0,ae.getCurrentTransformInverse)(ue),[1,0,0,1,-le,-be]);return ue.fillStyle=A?r.getPattern(I,this,Ce,Te.PathType.FILL):r,ue.fillRect(0,0,h,B),G&&!A&&(this.cachedCanvases.delete("fillCanvas"),G.set(se,fe.canvas)),{canvas:fe.canvas,offsetX:Math.round(le),offsetY:Math.round(be)}}setLineWidth(S){S!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=S,this.ctx.lineWidth=S}setLineCap(S){this.ctx.lineCap=T[S]}setLineJoin(S){this.ctx.lineJoin=R[S]}setMiterLimit(S){this.ctx.miterLimit=S}setDash(S,I){const h=this.ctx;h.setLineDash!==void 0&&(h.setLineDash(S),h.lineDashOffset=I)}setRenderingIntent(S){}setFlatness(S){}setGState(S){for(const[I,h]of S)switch(I){case"LW":this.setLineWidth(h);break;case"LC":this.setLineCap(h);break;case"LJ":this.setLineJoin(h);break;case"ML":this.setMiterLimit(h);break;case"D":this.setDash(h[0],h[1]);break;case"RI":this.setRenderingIntent(h);break;case"FL":this.setFlatness(h);break;case"Font":this.setFont(h[0],h[1]);break;case"CA":this.current.strokeAlpha=h;break;case"ca":this.current.fillAlpha=h,this.ctx.globalAlpha=h;break;case"BM":this.ctx.globalCompositeOperation=h;break;case"SMask":this.current.activeSMask=h?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(h);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const S=this.inSMaskMode;this.current.activeSMask&&!S?this.beginSMaskMode():!this.current.activeSMask&&S&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const S=this.ctx.canvas.width,I=this.ctx.canvas.height,h="smaskGroupAt"+this.groupLevel,B=this.cachedCanvases.getCanvas(h,S,I);this.suspendedCtx=this.ctx,this.ctx=B.context;const r=this.ctx;r.setTransform(...(0,ae.getCurrentTransform)(this.suspendedCtx)),i(this.suspendedCtx,r),o(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),i(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(S){if(!this.current.activeSMask)return;S?(S[0]=Math.floor(S[0]),S[1]=Math.floor(S[1]),S[2]=Math.ceil(S[2]),S[3]=Math.ceil(S[3])):S=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const I=this.current.activeSMask,h=this.suspendedCtx;j(h,I,this.ctx,S),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(i(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const S=this.current;this.stateStack.push(S),this.current=S.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),i(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(S,I,h,B,r,A){this.ctx.transform(S,I,h,B,r,A),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(S,I,h){const B=this.ctx,r=this.current;let A=r.x,E=r.y,G,se;const Ae=(0,ae.getCurrentTransform)(B),ke=Ae[0]===0&&Ae[3]===0||Ae[1]===0&&Ae[2]===0,de=ke?h.slice(0):null;for(let Ie=0,ge=0,Be=S.length;Ie<Be;Ie++)switch(S[Ie]|0){case X.OPS.rectangle:A=I[ge++],E=I[ge++];const ee=I[ge++],te=I[ge++],fe=A+ee,ue=E+te;B.moveTo(A,E),ee===0||te===0?B.lineTo(fe,ue):(B.lineTo(fe,E),B.lineTo(fe,ue),B.lineTo(A,ue)),ke||r.updateRectMinMax(Ae,[A,E,fe,ue]),B.closePath();break;case X.OPS.moveTo:A=I[ge++],E=I[ge++],B.moveTo(A,E),ke||r.updatePathMinMax(Ae,A,E);break;case X.OPS.lineTo:A=I[ge++],E=I[ge++],B.lineTo(A,E),ke||r.updatePathMinMax(Ae,A,E);break;case X.OPS.curveTo:G=A,se=E,A=I[ge+4],E=I[ge+5],B.bezierCurveTo(I[ge],I[ge+1],I[ge+2],I[ge+3],A,E),r.updateCurvePathMinMax(Ae,G,se,I[ge],I[ge+1],I[ge+2],I[ge+3],A,E,de),ge+=6;break;case X.OPS.curveTo2:G=A,se=E,B.bezierCurveTo(A,E,I[ge],I[ge+1],I[ge+2],I[ge+3]),r.updateCurvePathMinMax(Ae,G,se,A,E,I[ge],I[ge+1],I[ge+2],I[ge+3],de),A=I[ge+2],E=I[ge+3],ge+=4;break;case X.OPS.curveTo3:G=A,se=E,A=I[ge+2],E=I[ge+3],B.bezierCurveTo(I[ge],I[ge+1],A,E,A,E),r.updateCurvePathMinMax(Ae,G,se,I[ge],I[ge+1],A,E,A,E,de),ge+=4;break;case X.OPS.closePath:B.closePath();break}ke&&r.updateScalingPathMinMax(Ae,de),r.setCurrentPoint(A,E)}closePath(){this.ctx.closePath()}stroke(S=!0){const I=this.ctx,h=this.current.strokeColor;I.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof h=="object"&&(h!=null&&h.getPattern)?(I.save(),I.strokeStyle=h.getPattern(I,this,(0,ae.getCurrentTransformInverse)(I),Te.PathType.STROKE),this.rescaleAndStroke(!1),I.restore()):this.rescaleAndStroke(!0)),S&&this.consumePath(this.current.getClippedPathBoundingBox()),I.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(S=!0){const I=this.ctx,h=this.current.fillColor,B=this.current.patternFill;let r=!1;B&&(I.save(),I.fillStyle=h.getPattern(I,this,(0,ae.getCurrentTransformInverse)(I),Te.PathType.FILL),r=!0);const A=this.current.getClippedPathBoundingBox();this.contentVisible&&A!==null&&(this.pendingEOFill?(I.fill("evenodd"),this.pendingEOFill=!1):I.fill()),r&&I.restore(),S&&this.consumePath(A)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=d}eoClip(){this.pendingClip=y}beginText(){this.current.textMatrix=X.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const S=this.pendingTextPaths,I=this.ctx;if(S===void 0){I.beginPath();return}I.save(),I.beginPath();for(const h of S)I.setTransform(...h.transform),I.translate(h.x,h.y),h.addToPath(I,h.fontSize);I.restore(),I.clip(),I.beginPath(),delete this.pendingTextPaths}setCharSpacing(S){this.current.charSpacing=S}setWordSpacing(S){this.current.wordSpacing=S}setHScale(S){this.current.textHScale=S/100}setLeading(S){this.current.leading=-S}setFont(S,I){var Ae;const h=this.commonObjs.get(S),B=this.current;if(!h)throw new Error(`Can't find font for ${S}`);if(B.fontMatrix=h.fontMatrix||X.FONT_IDENTITY_MATRIX,(B.fontMatrix[0]===0||B.fontMatrix[3]===0)&&(0,X.warn)("Invalid font matrix for font "+S),I<0?(I=-I,B.fontDirection=-1):B.fontDirection=1,this.current.font=h,this.current.fontSize=I,h.isType3Font)return;const r=h.loadedName||"sans-serif",A=((Ae=h.systemFontInfo)==null?void 0:Ae.css)||`"${r}", ${h.fallbackName}`;let E="normal";h.black?E="900":h.bold&&(E="bold");const G=h.italic?"italic":"normal";let se=I;I<x?se=x:I>ie&&(se=ie),this.current.fontSizeScale=I/se,this.ctx.font=`${G} ${E} ${se}px ${A}`}setTextRenderingMode(S){this.current.textRenderingMode=S}setTextRise(S){this.current.textRise=S}moveText(S,I){this.current.x=this.current.lineX+=S,this.current.y=this.current.lineY+=I}setLeadingMoveText(S,I){this.setLeading(-I),this.moveText(S,I)}setTextMatrix(S,I,h,B,r,A){this.current.textMatrix=[S,I,h,B,r,A],this.current.textMatrixScale=Math.hypot(S,I),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(S,I,h,B){const r=this.ctx,A=this.current,E=A.font,G=A.textRenderingMode,se=A.fontSize/A.fontSizeScale,Ae=G&X.TextRenderingMode.FILL_STROKE_MASK,ke=!!(G&X.TextRenderingMode.ADD_TO_PATH_FLAG),de=A.patternFill&&!E.missingFile;let Ie;(E.disableFontFace||ke||de)&&(Ie=E.getPathGenerator(this.commonObjs,S)),E.disableFontFace||de?(r.save(),r.translate(I,h),r.beginPath(),Ie(r,se),B&&r.setTransform(...B),(Ae===X.TextRenderingMode.FILL||Ae===X.TextRenderingMode.FILL_STROKE)&&r.fill(),(Ae===X.TextRenderingMode.STROKE||Ae===X.TextRenderingMode.FILL_STROKE)&&r.stroke(),r.restore()):((Ae===X.TextRenderingMode.FILL||Ae===X.TextRenderingMode.FILL_STROKE)&&r.fillText(S,I,h),(Ae===X.TextRenderingMode.STROKE||Ae===X.TextRenderingMode.FILL_STROKE)&&r.strokeText(S,I,h)),ke&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,ae.getCurrentTransform)(r),x:I,y:h,fontSize:se,addToPath:Ie})}get isFontSubpixelAAEnabled(){const{context:S}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);S.scale(1.5,1),S.fillText("I",0,10);const I=S.getImageData(0,0,10,10).data;let h=!1;for(let B=3;B<I.length;B+=4)if(I[B]>0&&I[B]<255){h=!0;break}return(0,X.shadow)(this,"isFontSubpixelAAEnabled",h)}showText(S){const I=this.current,h=I.font;if(h.isType3Font)return this.showType3Text(S);const B=I.fontSize;if(B===0)return;const r=this.ctx,A=I.fontSizeScale,E=I.charSpacing,G=I.wordSpacing,se=I.fontDirection,Ae=I.textHScale*se,ke=S.length,de=h.vertical,Ie=de?1:-1,ge=h.defaultVMetrics,Be=B*I.fontMatrix[0],ee=I.textRenderingMode===X.TextRenderingMode.FILL&&!h.disableFontFace&&!I.patternFill;r.save(),r.transform(...I.textMatrix),r.translate(I.x,I.y+I.textRise),se>0?r.scale(Ae,-1):r.scale(Ae,1);let te;if(I.patternFill){r.save();const Ce=I.fillColor.getPattern(r,this,(0,ae.getCurrentTransformInverse)(r),Te.PathType.FILL);te=(0,ae.getCurrentTransform)(r),r.restore(),r.fillStyle=Ce}let fe=I.lineWidth;const ue=I.textMatrixScale;if(ue===0||fe===0){const Ce=I.textRenderingMode&X.TextRenderingMode.FILL_STROKE_MASK;(Ce===X.TextRenderingMode.STROKE||Ce===X.TextRenderingMode.FILL_STROKE)&&(fe=this.getSinglePixelWidth())}else fe/=ue;if(A!==1&&(r.scale(A,A),fe/=A),r.lineWidth=fe,h.isInvalidPDFjsFont){const Ce=[];let ce=0;for(const Ee of S)Ce.push(Ee.unicode),ce+=Ee.width;r.fillText(Ce.join(""),0,0),I.x+=ce*Be*Ae,r.restore(),this.compose();return}let le=0,be;for(be=0;be<ke;++be){const Ce=S[be];if(typeof Ce=="number"){le+=Ie*Ce*B/1e3;continue}let ce=!1;const Ee=(Ce.isSpace?G:0)+E,ve=Ce.fontChar,he=Ce.accent;let Fe,_e,Ne=Ce.width;if(de){const tt=Ce.vmetric||ge,je=-(Ce.vmetric?tt[1]:Ne*.5)*Be,$e=tt[2]*Be;Ne=tt?-tt[0]:Ne,Fe=je/A,_e=(le+$e)/A}else Fe=le/A,_e=0;if(h.remeasure&&Ne>0){const tt=r.measureText(ve).width*1e3/B*A;if(Ne<tt&&this.isFontSubpixelAAEnabled){const je=Ne/tt;ce=!0,r.save(),r.scale(je,1),Fe/=je}else Ne!==tt&&(Fe+=(Ne-tt)/2e3*B/A)}if(this.contentVisible&&(Ce.isInFont||h.missingFile)){if(ee&&!he)r.fillText(ve,Fe,_e);else if(this.paintChar(ve,Fe,_e,te),he){const tt=Fe+B*he.offset.x/A,je=_e-B*he.offset.y/A;this.paintChar(he.fontChar,tt,je,te)}}const Ze=de?Ne*Be-Ee*se:Ne*Be+Ee*se;le+=Ze,ce&&r.restore()}de?I.y-=le:I.x+=le*Ae,r.restore(),this.compose()}showType3Text(S){const I=this.ctx,h=this.current,B=h.font,r=h.fontSize,A=h.fontDirection,E=B.vertical?1:-1,G=h.charSpacing,se=h.wordSpacing,Ae=h.textHScale*A,ke=h.fontMatrix||X.FONT_IDENTITY_MATRIX,de=S.length,Ie=h.textRenderingMode===X.TextRenderingMode.INVISIBLE;let ge,Be,ee,te;if(!(Ie||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,I.save(),I.transform(...h.textMatrix),I.translate(h.x,h.y),I.scale(Ae,A),ge=0;ge<de;++ge){if(Be=S[ge],typeof Be=="number"){te=E*Be*r/1e3,this.ctx.translate(te,0),h.x+=te*Ae;continue}const fe=(Be.isSpace?se:0)+G,ue=B.charProcOperatorList[Be.operatorListId];if(!ue){(0,X.warn)(`Type3 character "${Be.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Be,this.save(),I.scale(r,r),I.transform(...ke),this.executeOperatorList(ue),this.restore()),ee=X.Util.applyTransform([Be.width,0],ke)[0]*r+fe,I.translate(ee,0),h.x+=ee*Ae}I.restore(),this.processingType3=null}}setCharWidth(S,I){}setCharWidthAndBounds(S,I,h,B,r,A){this.ctx.rect(h,B,r-h,A-B),this.ctx.clip(),this.endPath()}getColorN_Pattern(S){let I;if(S[0]==="TilingPattern"){const h=S[1],B=this.baseTransform||(0,ae.getCurrentTransform)(this.ctx),r={createCanvasGraphics:A=>new N(A,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};I=new Te.TilingPattern(S,h,this.ctx,r,B)}else I=this._getPattern(S[1],S[2]);return I}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(S,I,h){const B=X.Util.makeHexColor(S,I,h);this.ctx.strokeStyle=B,this.current.strokeColor=B}setFillRGBColor(S,I,h){const B=X.Util.makeHexColor(S,I,h);this.ctx.fillStyle=B,this.current.fillColor=B,this.current.patternFill=!1}_getPattern(S,I=null){let h;return this.cachedPatterns.has(S)?h=this.cachedPatterns.get(S):(h=(0,Te.getShadingPattern)(this.getObject(S)),this.cachedPatterns.set(S,h)),I&&(h.matrix=I),h}shadingFill(S){if(!this.contentVisible)return;const I=this.ctx;this.save();const h=this._getPattern(S);I.fillStyle=h.getPattern(I,this,(0,ae.getCurrentTransformInverse)(I),Te.PathType.SHADING);const B=(0,ae.getCurrentTransformInverse)(I);if(B){const{width:r,height:A}=I.canvas,[E,G,se,Ae]=X.Util.getAxialAlignedBoundingBox([0,0,r,A],B);this.ctx.fillRect(E,G,se-E,Ae-G)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,X.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,X.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(S,I){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(S)&&S.length===6&&this.transform(...S),this.baseTransform=(0,ae.getCurrentTransform)(this.ctx),I)){const h=I[2]-I[0],B=I[3]-I[1];this.ctx.rect(I[0],I[1],h,B),this.current.updateRectMinMax((0,ae.getCurrentTransform)(this.ctx),I),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(S){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const I=this.ctx;S.isolated||(0,X.info)("TODO: Support non-isolated groups."),S.knockout&&(0,X.warn)("Knockout groups not supported.");const h=(0,ae.getCurrentTransform)(I);if(S.matrix&&I.transform(...S.matrix),!S.bbox)throw new Error("Bounding box is required.");let B=X.Util.getAxialAlignedBoundingBox(S.bbox,(0,ae.getCurrentTransform)(I));const r=[0,0,I.canvas.width,I.canvas.height];B=X.Util.intersect(B,r)||[0,0,0,0];const A=Math.floor(B[0]),E=Math.floor(B[1]);let G=Math.max(Math.ceil(B[2])-A,1),se=Math.max(Math.ceil(B[3])-E,1),Ae=1,ke=1;G>n&&(Ae=G/n,G=n),se>n&&(ke=se/n,se=n),this.current.startNewPathAndClipBox([0,0,G,se]);let de="groupAt"+this.groupLevel;S.smask&&(de+="_smask_"+this.smaskCounter++%2);const Ie=this.cachedCanvases.getCanvas(de,G,se),ge=Ie.context;ge.scale(1/Ae,1/ke),ge.translate(-A,-E),ge.transform(...h),S.smask?this.smaskStack.push({canvas:Ie.canvas,context:ge,offsetX:A,offsetY:E,scaleX:Ae,scaleY:ke,subtype:S.smask.subtype,backdrop:S.smask.backdrop,transferMap:S.smask.transferMap||null,startTransformInverse:null}):(I.setTransform(1,0,0,1,0,0),I.translate(A,E),I.scale(Ae,ke),I.save()),i(I,ge),this.ctx=ge,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(I),this.groupLevel++}endGroup(S){if(!this.contentVisible)return;this.groupLevel--;const I=this.ctx,h=this.groupStack.pop();if(this.ctx=h,this.ctx.imageSmoothingEnabled=!1,S.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const B=(0,ae.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...B);const r=X.Util.getAxialAlignedBoundingBox([0,0,I.canvas.width,I.canvas.height],B);this.ctx.drawImage(I.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(S,I,h,B,r){if(ht(this,u,b0).call(this),k(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(I)&&I.length===4){const A=I[2]-I[0],E=I[3]-I[1];if(r&&this.annotationCanvasMap){h=h.slice(),h[4]-=I[0],h[5]-=I[1],I=I.slice(),I[0]=I[1]=0,I[2]=A,I[3]=E;const[G,se]=X.Util.singularValueDecompose2dScale((0,ae.getCurrentTransform)(this.ctx)),{viewportScale:Ae}=this,ke=Math.ceil(A*this.outputScaleX*Ae),de=Math.ceil(E*this.outputScaleY*Ae);this.annotationCanvas=this.canvasFactory.create(ke,de);const{canvas:Ie,context:ge}=this.annotationCanvas;this.annotationCanvasMap.set(S,Ie),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ge,this.ctx.save(),this.ctx.setTransform(G,0,0,-se,0,E*se),k(this.ctx)}else k(this.ctx),this.ctx.rect(I[0],I[1],A,E),this.ctx.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...h),this.transform(...B)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ht(this,D,w0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(S){if(!this.contentVisible)return;const I=S.count;S=this.getObject(S.data,S),S.count=I;const h=this.ctx,B=this.processingType3;if(B&&(B.compiled===void 0&&(B.compiled=U(S)),B.compiled)){B.compiled(h);return}const r=this._createMaskCanvas(S),A=r.canvas;h.save(),h.setTransform(1,0,0,1,0,0),h.drawImage(A,r.offsetX,r.offsetY),h.restore(),this.compose()}paintImageMaskXObjectRepeat(S,I,h=0,B=0,r,A){if(!this.contentVisible)return;S=this.getObject(S.data,S);const E=this.ctx;E.save();const G=(0,ae.getCurrentTransform)(E);E.transform(I,h,B,r,0,0);const se=this._createMaskCanvas(S);E.setTransform(1,0,0,1,se.offsetX-G[4],se.offsetY-G[5]);for(let Ae=0,ke=A.length;Ae<ke;Ae+=2){const de=X.Util.transform(G,[I,h,B,r,A[Ae],A[Ae+1]]),[Ie,ge]=X.Util.applyTransform([0,0],de);E.drawImage(se.canvas,Ie,ge)}E.restore(),this.compose()}paintImageMaskXObjectGroup(S){if(!this.contentVisible)return;const I=this.ctx,h=this.current.fillColor,B=this.current.patternFill;for(const r of S){const{data:A,width:E,height:G,transform:se}=r,Ae=this.cachedCanvases.getCanvas("maskCanvas",E,G),ke=Ae.context;ke.save();const de=this.getObject(A,r);p(ke,de),ke.globalCompositeOperation="source-in",ke.fillStyle=B?h.getPattern(ke,this,(0,ae.getCurrentTransformInverse)(I),Te.PathType.FILL):h,ke.fillRect(0,0,E,G),ke.restore(),I.save(),I.transform(...se),I.scale(1,-1),H(I,Ae.canvas,0,0,E,G,0,-1,1,1),I.restore()}this.compose()}paintImageXObject(S){if(!this.contentVisible)return;const I=this.getObject(S);if(!I){(0,X.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(I)}paintImageXObjectRepeat(S,I,h,B){if(!this.contentVisible)return;const r=this.getObject(S);if(!r){(0,X.warn)("Dependent image isn't ready yet");return}const A=r.width,E=r.height,G=[];for(let se=0,Ae=B.length;se<Ae;se+=2)G.push({transform:[I,0,0,h,B[se],B[se+1]],x:0,y:0,w:A,h:E});this.paintInlineImageXObjectGroup(r,G)}applyTransferMapsToCanvas(S){return this.current.transferMaps!=="none"&&(S.filter=this.current.transferMaps,S.drawImage(S.canvas,0,0),S.filter="none"),S.canvas}applyTransferMapsToBitmap(S){if(this.current.transferMaps==="none")return S.bitmap;const{bitmap:I,width:h,height:B}=S,r=this.cachedCanvases.getCanvas("inlineImage",h,B),A=r.context;return A.filter=this.current.transferMaps,A.drawImage(I,0,0),A.filter="none",r.canvas}paintInlineImageXObject(S){if(!this.contentVisible)return;const I=S.width,h=S.height,B=this.ctx;if(this.save(),!X.isNodeJS){const{filter:E}=B;E!=="none"&&E!==""&&(B.filter="none")}B.scale(1/I,-1/h);let r;if(S.bitmap)r=this.applyTransferMapsToBitmap(S);else if(typeof HTMLElement=="function"&&S instanceof HTMLElement||!S.data)r=S;else{const G=this.cachedCanvases.getCanvas("inlineImage",I,h).context;f(G,S),r=this.applyTransferMapsToCanvas(G)}const A=this._scaleImage(r,(0,ae.getCurrentTransformInverse)(B));B.imageSmoothingEnabled=re((0,ae.getCurrentTransform)(B),S.interpolate),H(B,A.img,0,0,A.paintWidth,A.paintHeight,0,-h,I,h),this.compose(),this.restore()}paintInlineImageXObjectGroup(S,I){if(!this.contentVisible)return;const h=this.ctx;let B;if(S.bitmap)B=S.bitmap;else{const r=S.width,A=S.height,G=this.cachedCanvases.getCanvas("inlineImage",r,A).context;f(G,S),B=this.applyTransferMapsToCanvas(G)}for(const r of I)h.save(),h.transform(...r.transform),h.scale(1,-1),H(h,B,r.x,r.y,r.w,r.h,0,-1,1,1),h.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(S){}markPointProps(S,I){}beginMarkedContent(S){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(S,I){S==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(I)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(S){const I=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(S);const h=this.ctx;this.pendingClip&&(I||(this.pendingClip===y?h.clip("evenodd"):h.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),h.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const S=(0,ae.getCurrentTransform)(this.ctx);if(S[1]===0&&S[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(S[0]),Math.abs(S[3]));else{const I=Math.abs(S[0]*S[3]-S[2]*S[1]),h=Math.hypot(S[0],S[2]),B=Math.hypot(S[1],S[3]);this._cachedGetSinglePixelWidth=Math.max(h,B)/I}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:S}=this.current,{a:I,b:h,c:B,d:r}=this.ctx.getTransform();let A,E;if(h===0&&B===0){const G=Math.abs(I),se=Math.abs(r);if(G===se)if(S===0)A=E=1/G;else{const Ae=G*S;A=E=Ae<1?1/Ae:1}else if(S===0)A=1/G,E=1/se;else{const Ae=G*S,ke=se*S;A=Ae<1?1/Ae:1,E=ke<1?1/ke:1}}else{const G=Math.abs(I*r-h*B),se=Math.hypot(I,h),Ae=Math.hypot(B,r);if(S===0)A=Ae/G,E=se/G;else{const ke=S*G;A=Ae>ke?Ae/ke:1,E=se>ke?se/ke:1}}this._cachedScaleForStroking[0]=A,this._cachedScaleForStroking[1]=E}return this._cachedScaleForStroking}rescaleAndStroke(S){const{ctx:I}=this,{lineWidth:h}=this.current,[B,r]=this.getScaleForStroking();if(I.lineWidth=h||1,B===1&&r===1){I.stroke();return}const A=I.getLineDash();if(S&&I.save(),I.scale(B,r),A.length>0){const E=Math.max(B,r);I.setLineDash(A.map(G=>G/E)),I.lineDashOffset/=E}I.stroke(),S&&I.restore()}isContentVisible(){for(let S=this.markedContentStack.length-1;S>=0;S--)if(!this.markedContentStack[S].visible)return!1;return!0}};u=new WeakSet,b0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},D=new WeakSet,w0=function(){if(this.pageColors){const S=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(S!=="none"){const I=this.ctx.filter;this.ctx.filter=S,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=I}}};let W=N;s.CanvasGraphics=W;for(const v in X.OPS)W.prototype[v]!==void 0&&(W.prototype[X.OPS[v]]=W.prototype[v])},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=t;var X=M(1),ae=M(6);const Te={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=Te;function Pe(U,P){if(!P)return;const f=P[2]-P[0],p=P[3]-P[1],i=new Path2D;i.rect(P[0],P[1],f,p),U.clip(i)}class x{constructor(){this.constructor===x&&(0,X.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,X.unreachable)("Abstract method `getPattern` called.")}}class ie extends x{constructor(P){super(),this._type=P[1],this._bbox=P[2],this._colorStops=P[3],this._p0=P[4],this._p1=P[5],this._r0=P[6],this._r1=P[7],this.matrix=null}_createGradient(P){let f;this._type==="axial"?f=P.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(f=P.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const p of this._colorStops)f.addColorStop(p[0],p[1]);return f}getPattern(P,f,p,i){let k;if(i===Te.STROKE||i===Te.FILL){const F=f.current.getClippedPathBoundingBox(i,(0,ae.getCurrentTransform)(P))||[0,0,0,0],_=Math.ceil(F[2]-F[0])||1,C=Math.ceil(F[3]-F[1])||1,Q=f.cachedCanvases.getCanvas("pattern",_,C,!0),j=Q.context;j.clearRect(0,0,j.canvas.width,j.canvas.height),j.beginPath(),j.rect(0,0,j.canvas.width,j.canvas.height),j.translate(-F[0],-F[1]),p=X.Util.transform(p,[1,0,0,1,F[0],F[1]]),j.transform(...f.baseTransform),this.matrix&&j.transform(...this.matrix),Pe(j,this._bbox),j.fillStyle=this._createGradient(j),j.fill(),k=P.createPattern(Q.canvas,"no-repeat");const re=new DOMMatrix(p);k.setTransform(re)}else Pe(P,this._bbox),k=this._createGradient(P);return k}}function n(U,P,f,p,i,k,F,_){const C=P.coords,Q=P.colors,j=U.data,re=U.width*4;let T;C[f+1]>C[p+1]&&(T=f,f=p,p=T,T=k,k=F,F=T),C[p+1]>C[i+1]&&(T=p,p=i,i=T,T=F,F=_,_=T),C[f+1]>C[p+1]&&(T=f,f=p,p=T,T=k,k=F,F=T);const R=(C[f]+P.offsetX)*P.scaleX,d=(C[f+1]+P.offsetY)*P.scaleY,y=(C[p]+P.offsetX)*P.scaleX,W=(C[p+1]+P.offsetY)*P.scaleY,u=(C[i]+P.offsetX)*P.scaleX,b=(C[i+1]+P.offsetY)*P.scaleY;if(d>=b)return;const D=Q[k],J=Q[k+1],N=Q[k+2],v=Q[F],S=Q[F+1],I=Q[F+2],h=Q[_],B=Q[_+1],r=Q[_+2],A=Math.round(d),E=Math.round(b);let G,se,Ae,ke,de,Ie,ge,Be;for(let ee=A;ee<=E;ee++){if(ee<W){const be=ee<d?0:(d-ee)/(d-W);G=R-(R-y)*be,se=D-(D-v)*be,Ae=J-(J-S)*be,ke=N-(N-I)*be}else{let be;ee>b?be=1:W===b?be=0:be=(W-ee)/(W-b),G=y-(y-u)*be,se=v-(v-h)*be,Ae=S-(S-B)*be,ke=I-(I-r)*be}let te;ee<d?te=0:ee>b?te=1:te=(d-ee)/(d-b),de=R-(R-u)*te,Ie=D-(D-h)*te,ge=J-(J-B)*te,Be=N-(N-r)*te;const fe=Math.round(Math.min(G,de)),ue=Math.round(Math.max(G,de));let le=re*ee+fe*4;for(let be=fe;be<=ue;be++)te=(G-be)/(G-de),te<0?te=0:te>1&&(te=1),j[le++]=se-(se-Ie)*te|0,j[le++]=Ae-(Ae-ge)*te|0,j[le++]=ke-(ke-Be)*te|0,j[le++]=255}}function w(U,P,f){const p=P.coords,i=P.colors;let k,F;switch(P.type){case"lattice":const _=P.verticesPerRow,C=Math.floor(p.length/_)-1,Q=_-1;for(k=0;k<C;k++){let j=k*_;for(let re=0;re<Q;re++,j++)n(U,f,p[j],p[j+1],p[j+_],i[j],i[j+1],i[j+_]),n(U,f,p[j+_+1],p[j+1],p[j+_],i[j+_+1],i[j+1],i[j+_])}break;case"triangles":for(k=0,F=p.length;k<F;k+=3)n(U,f,p[k],p[k+1],p[k+2],i[k],i[k+1],i[k+2]);break;default:throw new Error("illegal figure")}}class O extends x{constructor(P){super(),this._coords=P[2],this._colors=P[3],this._figures=P[4],this._bounds=P[5],this._bbox=P[7],this._background=P[8],this.matrix=null}_createMeshCanvas(P,f,p){const _=Math.floor(this._bounds[0]),C=Math.floor(this._bounds[1]),Q=Math.ceil(this._bounds[2])-_,j=Math.ceil(this._bounds[3])-C,re=Math.min(Math.ceil(Math.abs(Q*P[0]*1.1)),3e3),T=Math.min(Math.ceil(Math.abs(j*P[1]*1.1)),3e3),R=Q/re,d=j/T,y={coords:this._coords,colors:this._colors,offsetX:-_,offsetY:-C,scaleX:1/R,scaleY:1/d},W=re+2*2,u=T+2*2,b=p.getCanvas("mesh",W,u,!1),D=b.context,J=D.createImageData(re,T);if(f){const v=J.data;for(let S=0,I=v.length;S<I;S+=4)v[S]=f[0],v[S+1]=f[1],v[S+2]=f[2],v[S+3]=255}for(const v of this._figures)w(J,v,y);return D.putImageData(J,2,2),{canvas:b.canvas,offsetX:_-2*R,offsetY:C-2*d,scaleX:R,scaleY:d}}getPattern(P,f,p,i){Pe(P,this._bbox);let k;if(i===Te.SHADING)k=X.Util.singularValueDecompose2dScale((0,ae.getCurrentTransform)(P));else if(k=X.Util.singularValueDecompose2dScale(f.baseTransform),this.matrix){const _=X.Util.singularValueDecompose2dScale(this.matrix);k=[k[0]*_[0],k[1]*_[1]]}const F=this._createMeshCanvas(k,i===Te.SHADING?null:this._background,f.cachedCanvases);return i!==Te.SHADING&&(P.setTransform(...f.baseTransform),this.matrix&&P.transform(...this.matrix)),P.translate(F.offsetX,F.offsetY),P.scale(F.scaleX,F.scaleY),P.createPattern(F.canvas,"no-repeat")}}class e extends x{getPattern(){return"hotpink"}}function t(U){switch(U[0]){case"RadialAxial":return new ie(U);case"Mesh":return new O(U);case"Dummy":return new e}throw new Error(`Unknown IR type: ${U[0]}`)}const o={COLORED:1,UNCOLORED:2},H=class H{constructor(P,f,p,i,k){this.operatorList=P[2],this.matrix=P[3]||[1,0,0,1,0,0],this.bbox=P[4],this.xstep=P[5],this.ystep=P[6],this.paintType=P[7],this.tilingType=P[8],this.color=f,this.ctx=p,this.canvasGraphicsFactory=i,this.baseTransform=k}createPatternCanvas(P){const f=this.operatorList,p=this.bbox,i=this.xstep,k=this.ystep,F=this.paintType,_=this.tilingType,C=this.color,Q=this.canvasGraphicsFactory;(0,X.info)("TilingType: "+_);const j=p[0],re=p[1],T=p[2],R=p[3],d=X.Util.singularValueDecompose2dScale(this.matrix),y=X.Util.singularValueDecompose2dScale(this.baseTransform),W=[d[0]*y[0],d[1]*y[1]],u=this.getSizeAndScale(i,this.ctx.canvas.width,W[0]),b=this.getSizeAndScale(k,this.ctx.canvas.height,W[1]),D=P.cachedCanvases.getCanvas("pattern",u.size,b.size,!0),J=D.context,N=Q.createCanvasGraphics(J);N.groupLevel=P.groupLevel,this.setFillAndStrokeStyleToContext(N,F,C);let v=j,S=re,I=T,h=R;return j<0&&(v=0,I+=Math.abs(j)),re<0&&(S=0,h+=Math.abs(re)),J.translate(-(u.scale*v),-(b.scale*S)),N.transform(u.scale,0,0,b.scale,0,0),J.save(),this.clipBbox(N,v,S,I,h),N.baseTransform=(0,ae.getCurrentTransform)(N.ctx),N.executeOperatorList(f),N.endDrawing(),{canvas:D.canvas,scaleX:u.scale,scaleY:b.scale,offsetX:v,offsetY:S}}getSizeAndScale(P,f,p){P=Math.abs(P);const i=Math.max(H.MAX_PATTERN_SIZE,f);let k=Math.ceil(P*p);return k>=i?k=i:p=k/P,{scale:p,size:k}}clipBbox(P,f,p,i,k){const F=i-f,_=k-p;P.ctx.rect(f,p,F,_),P.current.updateRectMinMax((0,ae.getCurrentTransform)(P.ctx),[f,p,i,k]),P.clip(),P.endPath()}setFillAndStrokeStyleToContext(P,f,p){const i=P.ctx,k=P.current;switch(f){case o.COLORED:const F=this.ctx;i.fillStyle=F.fillStyle,i.strokeStyle=F.strokeStyle,k.fillColor=F.fillStyle,k.strokeColor=F.strokeStyle;break;case o.UNCOLORED:const _=X.Util.makeHexColor(p[0],p[1],p[2]);i.fillStyle=_,i.strokeStyle=_,k.fillColor=_,k.strokeColor=_;break;default:throw new X.FormatError(`Unsupported paint type: ${f}`)}}getPattern(P,f,p,i){let k=p;i!==Te.SHADING&&(k=X.Util.transform(k,f.baseTransform),this.matrix&&(k=X.Util.transform(k,this.matrix)));const F=this.createPatternCanvas(f);let _=new DOMMatrix(k);_=_.translate(F.offsetX,F.offsetY),_=_.scale(1/F.scaleX,1/F.scaleY);const C=P.createPattern(F.canvas,"repeat");return C.setTransform(_),C}};yr(H,"MAX_PATTERN_SIZE",3e3);let K=H;s.TilingPattern=K},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=Te,s.convertToRGBA=ae,s.grayToRGBA=x;var X=M(1);function ae(ie){switch(ie.kind){case X.ImageKind.GRAYSCALE_1BPP:return Te(ie);case X.ImageKind.RGB_24BPP:return Pe(ie)}return null}function Te({src:ie,srcPos:n=0,dest:w,width:O,height:e,nonBlackColor:t=4294967295,inverseDecode:o=!1}){const K=X.FeatureTest.isLittleEndian?4278190080:255,[H,U]=o?[t,K]:[K,t],P=O>>3,f=O&7,p=ie.length;w=new Uint32Array(w.buffer);let i=0;for(let k=0;k<e;k++){for(const _=n+P;n<_;n++){const C=n<p?ie[n]:255;w[i++]=C&128?U:H,w[i++]=C&64?U:H,w[i++]=C&32?U:H,w[i++]=C&16?U:H,w[i++]=C&8?U:H,w[i++]=C&4?U:H,w[i++]=C&2?U:H,w[i++]=C&1?U:H}if(f===0)continue;const F=n<p?ie[n++]:255;for(let _=0;_<f;_++)w[i++]=F&1<<7-_?U:H}return{srcPos:n,destPos:i}}function Pe({src:ie,srcPos:n=0,dest:w,destPos:O=0,width:e,height:t}){let o=0;const K=ie.length>>2,H=new Uint32Array(ie.buffer,n,K);if(X.FeatureTest.isLittleEndian){for(;o<K-2;o+=3,O+=4){const U=H[o],P=H[o+1],f=H[o+2];w[O]=U|4278190080,w[O+1]=U>>>24|P<<8|4278190080,w[O+2]=P>>>16|f<<16|4278190080,w[O+3]=f>>>8|4278190080}for(let U=o*4,P=ie.length;U<P;U+=3)w[O++]=ie[U]|ie[U+1]<<8|ie[U+2]<<16|4278190080}else{for(;o<K-2;o+=3,O+=4){const U=H[o],P=H[o+1],f=H[o+2];w[O]=U|255,w[O+1]=U<<24|P>>>8|255,w[O+2]=P<<16|f>>>16|255,w[O+3]=f<<8|255}for(let U=o*4,P=ie.length;U<P;U+=3)w[O++]=ie[U]<<24|ie[U+1]<<16|ie[U+2]<<8|255}return{srcPos:n,destPos:O}}function x(ie,n){if(X.FeatureTest.isLittleEndian)for(let w=0,O=ie.length;w<O;w++)n[w]=ie[w]*65793|4278190080;else for(let w=0,O=ie.length;w<O;w++)n[w]=ie[w]*16843008|255}},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const M=Object.create(null);s.GlobalWorkerOptions=M,M.workerPort=null,M.workerSrc=""},(a,s,M)=>{var ie,_h,w,Ph,e,pA;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var X=M(1);const ae={UNKNOWN:0,DATA:1,ERROR:2},Te={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Pe(o){switch(o instanceof Error||typeof o=="object"&&o!==null||(0,X.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),o.name){case"AbortException":return new X.AbortException(o.message);case"MissingPDFException":return new X.MissingPDFException(o.message);case"PasswordException":return new X.PasswordException(o.message,o.code);case"UnexpectedResponseException":return new X.UnexpectedResponseException(o.message,o.status);case"UnknownErrorException":return new X.UnknownErrorException(o.message,o.details);default:return new X.UnknownErrorException(o.message,o.toString())}}class x{constructor(K,H,U){At(this,ie);At(this,w);At(this,e);this.sourceName=K,this.targetName=H,this.comObj=U,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=P=>{const f=P.data;if(f.targetName!==this.sourceName)return;if(f.stream){ht(this,w,Ph).call(this,f);return}if(f.callback){const i=f.callbackId,k=this.callbackCapabilities[i];if(!k)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],f.callback===ae.DATA)k.resolve(f.data);else if(f.callback===ae.ERROR)k.reject(Pe(f.reason));else throw new Error("Unexpected callback case");return}const p=this.actionHandler[f.action];if(!p)throw new Error(`Unknown action from worker: ${f.action}`);if(f.callbackId){const i=this.sourceName,k=f.sourceName;new Promise(function(F){F(p(f.data))}).then(function(F){U.postMessage({sourceName:i,targetName:k,callback:ae.DATA,callbackId:f.callbackId,data:F})},function(F){U.postMessage({sourceName:i,targetName:k,callback:ae.ERROR,callbackId:f.callbackId,reason:Pe(F)})});return}if(f.streamId){ht(this,ie,_h).call(this,f);return}p(f.data)},U.addEventListener("message",this._onComObjOnMessage)}on(K,H){const U=this.actionHandler;if(U[K])throw new Error(`There is already an actionName called "${K}"`);U[K]=H}send(K,H,U){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:K,data:H},U)}sendWithPromise(K,H,U){const P=this.callbackId++,f=new X.PromiseCapability;this.callbackCapabilities[P]=f;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:K,callbackId:P,data:H},U)}catch(p){f.reject(p)}return f.promise}sendWithStream(K,H,U,P){const f=this.streamId++,p=this.sourceName,i=this.targetName,k=this.comObj;return new ReadableStream({start:F=>{const _=new X.PromiseCapability;return this.streamControllers[f]={controller:F,startCall:_,pullCall:null,cancelCall:null,isClosed:!1},k.postMessage({sourceName:p,targetName:i,action:K,streamId:f,data:H,desiredSize:F.desiredSize},P),_.promise},pull:F=>{const _=new X.PromiseCapability;return this.streamControllers[f].pullCall=_,k.postMessage({sourceName:p,targetName:i,stream:Te.PULL,streamId:f,desiredSize:F.desiredSize}),_.promise},cancel:F=>{(0,X.assert)(F instanceof Error,"cancel must have a valid reason");const _=new X.PromiseCapability;return this.streamControllers[f].cancelCall=_,this.streamControllers[f].isClosed=!0,k.postMessage({sourceName:p,targetName:i,stream:Te.CANCEL,streamId:f,reason:Pe(F)}),_.promise}},U)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ie=new WeakSet,_h=function(K){const H=K.streamId,U=this.sourceName,P=K.sourceName,f=this.comObj,p=this,i=this.actionHandler[K.action],k={enqueue(F,_=1,C){if(this.isCancelled)return;const Q=this.desiredSize;this.desiredSize-=_,Q>0&&this.desiredSize<=0&&(this.sinkCapability=new X.PromiseCapability,this.ready=this.sinkCapability.promise),f.postMessage({sourceName:U,targetName:P,stream:Te.ENQUEUE,streamId:H,chunk:F},C)},close(){this.isCancelled||(this.isCancelled=!0,f.postMessage({sourceName:U,targetName:P,stream:Te.CLOSE,streamId:H}),delete p.streamSinks[H])},error(F){(0,X.assert)(F instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:U,targetName:P,stream:Te.ERROR,streamId:H,reason:Pe(F)}))},sinkCapability:new X.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:K.desiredSize,ready:null};k.sinkCapability.resolve(),k.ready=k.sinkCapability.promise,this.streamSinks[H]=k,new Promise(function(F){F(i(K.data,k))}).then(function(){f.postMessage({sourceName:U,targetName:P,stream:Te.START_COMPLETE,streamId:H,success:!0})},function(F){f.postMessage({sourceName:U,targetName:P,stream:Te.START_COMPLETE,streamId:H,reason:Pe(F)})})},w=new WeakSet,Ph=function(K){const H=K.streamId,U=this.sourceName,P=K.sourceName,f=this.comObj,p=this.streamControllers[H],i=this.streamSinks[H];switch(K.stream){case Te.START_COMPLETE:K.success?p.startCall.resolve():p.startCall.reject(Pe(K.reason));break;case Te.PULL_COMPLETE:K.success?p.pullCall.resolve():p.pullCall.reject(Pe(K.reason));break;case Te.PULL:if(!i){f.postMessage({sourceName:U,targetName:P,stream:Te.PULL_COMPLETE,streamId:H,success:!0});break}i.desiredSize<=0&&K.desiredSize>0&&i.sinkCapability.resolve(),i.desiredSize=K.desiredSize,new Promise(function(k){var F;k((F=i.onPull)==null?void 0:F.call(i))}).then(function(){f.postMessage({sourceName:U,targetName:P,stream:Te.PULL_COMPLETE,streamId:H,success:!0})},function(k){f.postMessage({sourceName:U,targetName:P,stream:Te.PULL_COMPLETE,streamId:H,reason:Pe(k)})});break;case Te.ENQUEUE:if((0,X.assert)(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(K.chunk);break;case Te.CLOSE:if((0,X.assert)(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),ht(this,e,pA).call(this,p,H);break;case Te.ERROR:(0,X.assert)(p,"error should have stream controller"),p.controller.error(Pe(K.reason)),ht(this,e,pA).call(this,p,H);break;case Te.CANCEL_COMPLETE:K.success?p.cancelCall.resolve():p.cancelCall.reject(Pe(K.reason)),ht(this,e,pA).call(this,p,H);break;case Te.CANCEL:if(!i)break;new Promise(function(k){var F;k((F=i.onCancel)==null?void 0:F.call(i,Pe(K.reason)))}).then(function(){f.postMessage({sourceName:U,targetName:P,stream:Te.CANCEL_COMPLETE,streamId:H,success:!0})},function(k){f.postMessage({sourceName:U,targetName:P,stream:Te.CANCEL_COMPLETE,streamId:H,reason:Pe(k)})}),i.sinkCapability.reject(Pe(K.reason)),i.isCancelled=!0,delete this.streamSinks[H];break;default:throw new Error("Unexpected stream case")}},e=new WeakSet,pA=async function(K,H){var U,P,f;await Promise.allSettled([(U=K.startCall)==null?void 0:U.promise,(P=K.pullCall)==null?void 0:P.promise,(f=K.cancelCall)==null?void 0:f.promise]),delete this.streamControllers[H]},s.MessageHandler=x},(a,s,M)=>{var Te,Pe;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var X=M(1);class ae{constructor({parsedData:ie,rawData:n}){At(this,Te,void 0);At(this,Pe,void 0);Pt(this,Te,ie),Pt(this,Pe,n)}getRaw(){return Me(this,Pe)}get(ie){return Me(this,Te).get(ie)??null}getAll(){return(0,X.objectFromMap)(Me(this,Te))}has(ie){return Me(this,Te).has(ie)}}Te=new WeakMap,Pe=new WeakMap,s.Metadata=ae},(a,s,M)=>{var ie,n,w,O,e,t,y0;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var X=M(1),ae=M(8);const Te=Symbol("INTERNAL");class Pe{constructor(H,U){At(this,ie,!0);this.name=H,this.intent=U}get visible(){return Me(this,ie)}_setVisible(H,U){H!==Te&&(0,X.unreachable)("Internal method `_setVisible` called."),Pt(this,ie,U)}}ie=new WeakMap;class x{constructor(H){At(this,t);At(this,n,null);At(this,w,new Map);At(this,O,null);At(this,e,null);if(this.name=null,this.creator=null,H!==null){this.name=H.name,this.creator=H.creator,Pt(this,e,H.order);for(const U of H.groups)Me(this,w).set(U.id,new Pe(U.name,U.intent));if(H.baseState==="OFF")for(const U of Me(this,w).values())U._setVisible(Te,!1);for(const U of H.on)Me(this,w).get(U)._setVisible(Te,!0);for(const U of H.off)Me(this,w).get(U)._setVisible(Te,!1);Pt(this,O,this.getHash())}}isVisible(H){if(Me(this,w).size===0)return!0;if(!H)return(0,X.warn)("Optional content group not defined."),!0;if(H.type==="OCG")return Me(this,w).has(H.id)?Me(this,w).get(H.id).visible:((0,X.warn)(`Optional content group not found: ${H.id}`),!0);if(H.type==="OCMD"){if(H.expression)return ht(this,t,y0).call(this,H.expression);if(!H.policy||H.policy==="AnyOn"){for(const U of H.ids){if(!Me(this,w).has(U))return(0,X.warn)(`Optional content group not found: ${U}`),!0;if(Me(this,w).get(U).visible)return!0}return!1}else if(H.policy==="AllOn"){for(const U of H.ids){if(!Me(this,w).has(U))return(0,X.warn)(`Optional content group not found: ${U}`),!0;if(!Me(this,w).get(U).visible)return!1}return!0}else if(H.policy==="AnyOff"){for(const U of H.ids){if(!Me(this,w).has(U))return(0,X.warn)(`Optional content group not found: ${U}`),!0;if(!Me(this,w).get(U).visible)return!0}return!1}else if(H.policy==="AllOff"){for(const U of H.ids){if(!Me(this,w).has(U))return(0,X.warn)(`Optional content group not found: ${U}`),!0;if(Me(this,w).get(U).visible)return!1}return!0}return(0,X.warn)(`Unknown optional content policy ${H.policy}.`),!0}return(0,X.warn)(`Unknown group type ${H.type}.`),!0}setVisibility(H,U=!0){if(!Me(this,w).has(H)){(0,X.warn)(`Optional content group not found: ${H}`);return}Me(this,w).get(H)._setVisible(Te,!!U),Pt(this,n,null)}get hasInitialVisibility(){return Me(this,O)===null||this.getHash()===Me(this,O)}getOrder(){return Me(this,w).size?Me(this,e)?Me(this,e).slice():[...Me(this,w).keys()]:null}getGroups(){return Me(this,w).size>0?(0,X.objectFromMap)(Me(this,w)):null}getGroup(H){return Me(this,w).get(H)||null}getHash(){if(Me(this,n)!==null)return Me(this,n);const H=new ae.MurmurHash3_64;for(const[U,P]of Me(this,w))H.update(`${U}:${P.visible}`);return Pt(this,n,H.hexdigest())}}n=new WeakMap,w=new WeakMap,O=new WeakMap,e=new WeakMap,t=new WeakSet,y0=function(H){const U=H.length;if(U<2)return!0;const P=H[0];for(let f=1;f<U;f++){const p=H[f];let i;if(Array.isArray(p))i=ht(this,t,y0).call(this,p);else if(Me(this,w).has(p))i=Me(this,w).get(p).visible;else return(0,X.warn)(`Optional content group not found: ${p}`),!0;switch(P){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return P==="And"},s.OptionalContentConfig=x},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var X=M(1),ae=M(6);class Te{constructor({length:n,initialData:w,progressiveDone:O=!1,contentDispositionFilename:e=null,disableRange:t=!1,disableStream:o=!1},K){if((0,X.assert)(K,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=O,this._contentDispositionFilename=e,(w==null?void 0:w.length)>0){const H=w instanceof Uint8Array&&w.byteLength===w.buffer.byteLength?w.buffer:new Uint8Array(w).buffer;this._queuedChunks.push(H)}this._pdfDataRangeTransport=K,this._isStreamingSupported=!o,this._isRangeSupported=!t,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((H,U)=>{this._onReceiveData({begin:H,chunk:U})}),this._pdfDataRangeTransport.addProgressListener((H,U)=>{this._onProgress({loaded:H,total:U})}),this._pdfDataRangeTransport.addProgressiveReadListener(H=>{this._onReceiveData({chunk:H})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:n,chunk:w}){const O=w instanceof Uint8Array&&w.byteLength===w.buffer.byteLength?w.buffer:new Uint8Array(w).buffer;if(n===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(O):this._queuedChunks.push(O);else{const e=this._rangeReaders.some(function(t){return t._begin!==n?!1:(t._enqueue(O),!0)});(0,X.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var n;return((n=this._fullRequestReader)==null?void 0:n._loaded)??0}_onProgress(n){var w,O,e,t;n.total===void 0?(O=(w=this._rangeReaders[0])==null?void 0:w.onProgress)==null||O.call(w,{loaded:n.loaded}):(t=(e=this._fullRequestReader)==null?void 0:e.onProgress)==null||t.call(e,{loaded:n.loaded,total:n.total})}_onProgressiveDone(){var n;(n=this._fullRequestReader)==null||n.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(n){const w=this._rangeReaders.indexOf(n);w>=0&&this._rangeReaders.splice(w,1)}getFullReader(){(0,X.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const n=this._queuedChunks;return this._queuedChunks=null,new Pe(this,n,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(n,w){if(w<=this._progressiveDataLength)return null;const O=new x(this,n,w);return this._pdfDataRangeTransport.requestDataRange(n,w),this._rangeReaders.push(O),O}cancelAllRequests(n){var w;(w=this._fullRequestReader)==null||w.cancel(n);for(const O of this._rangeReaders.slice(0))O.cancel(n);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=Te;class Pe{constructor(n,w,O=!1,e=null){this._stream=n,this._done=O||!1,this._filename=(0,ae.isPdfFile)(e)?e:null,this._queuedChunks=w||[],this._loaded=0;for(const t of this._queuedChunks)this._loaded+=t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),n._fullRequestReader=this,this.onProgress=null}_enqueue(n){this._done||(this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunks.push(n),this._loaded+=n.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const n=new X.PromiseCapability;return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class x{constructor(n,w,O){this._stream=n,this._begin=w,this._end=O,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(n){if(!this._done){if(this._requests.length===0)this._queuedChunk=n;else{this._requests.shift().resolve({value:n,done:!1});for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const w=this._queuedChunk;return this._queuedChunk=null,{value:w,done:!1}}if(this._done)return{value:void 0,done:!0};const n=new X.PromiseCapability;return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var X=M(1),ae=M(20);function Te(O,e,t){return{method:"GET",headers:O,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Pe(O){const e=new Headers;for(const t in O){const o=O[t];o!==void 0&&e.append(t,o)}return e}function x(O){return O instanceof Uint8Array?O.buffer:O instanceof ArrayBuffer?O:((0,X.warn)(`getArrayBuffer - unexpected data format: ${O}`),new Uint8Array(O).buffer)}class ie{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return(0,X.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new n(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const o=new w(this,e,t);return this._rangeRequestReaders.push(o),o}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const o of this._rangeRequestReaders.slice(0))o.cancel(e)}}s.PDFFetchStream=ie;class n{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new X.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Pe(this._stream.httpHeaders);const o=t.url;fetch(o,Te(this._headers,this._withCredentials,this._abortController)).then(K=>{if(!(0,ae.validateResponseStatus)(K.status))throw(0,ae.createResponseStatusError)(K.status,o);this._reader=K.body.getReader(),this._headersCapability.resolve();const H=f=>K.headers.get(f),{allowRangeRequests:U,suggestedLength:P}=(0,ae.validateRangeRequestCapabilities)({getResponseHeader:H,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=U,this._contentLength=P||this._contentLength,this._filename=(0,ae.extractFilenameFromHeader)(H),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new X.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded,total:this._contentLength}),{value:x(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class w{constructor(e,t,o){this._stream=e,this._reader=null,this._loaded=0;const K=e.source;this._withCredentials=K.withCredentials||!1,this._readCapability=new X.PromiseCapability,this._isStreamingSupported=!K.disableStream,this._abortController=new AbortController,this._headers=Pe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${o-1}`);const H=K.url;fetch(H,Te(this._headers,this._withCredentials,this._abortController)).then(U=>{if(!(0,ae.validateResponseStatus)(U.status))throw(0,ae.createResponseStatusError)(U.status,H);this._readCapability.resolve(),this._reader=U.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded}),{value:x(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=ie,s.extractFilenameFromHeader=x,s.validateRangeRequestCapabilities=Pe,s.validateResponseStatus=n;var X=M(1),ae=M(21),Te=M(6);function Pe({getResponseHeader:w,isHttp:O,rangeChunkSize:e,disableRange:t}){const o={allowRangeRequests:!1,suggestedLength:void 0},K=parseInt(w("Content-Length"),10);return!Number.isInteger(K)||(o.suggestedLength=K,K<=2*e)||t||!O||w("Accept-Ranges")!=="bytes"||(w("Content-Encoding")||"identity")!=="identity"||(o.allowRangeRequests=!0),o}function x(w){const O=w("Content-Disposition");if(O){let e=(0,ae.getFilenameFromContentDispositionHeader)(O);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,Te.isPdfFile)(e))return e}return null}function ie(w,O){return w===404||w===0&&O.startsWith("file:")?new X.MissingPDFException('Missing PDF "'+O+'".'):new X.UnexpectedResponseException(`Unexpected server response (${w}) while retrieving PDF "${O}".`,w)}function n(w){return w===200||w===206}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=ae;var X=M(1);function ae(Te){let Pe=!0,x=ie("filename\\*","i").exec(Te);if(x){x=x[1];let K=e(x);return K=unescape(K),K=t(K),K=o(K),w(K)}if(x=O(Te),x){const K=o(x);return w(K)}if(x=ie("filename","i").exec(Te),x){x=x[1];let K=e(x);return K=o(K),w(K)}function ie(K,H){return new RegExp("(?:^|;)\\s*"+K+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',H)}function n(K,H){if(K){if(!/^[\x00-\xFF]+$/.test(H))return H;try{const U=new TextDecoder(K,{fatal:!0}),P=(0,X.stringToBytes)(H);H=U.decode(P),Pe=!1}catch{}}return H}function w(K){return Pe&&/[\x80-\xff]/.test(K)&&(K=n("utf-8",K),Pe&&(K=n("iso-8859-1",K))),K}function O(K){const H=[];let U;const P=ie("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(U=P.exec(K))!==null;){let[,p,i,k]=U;if(p=parseInt(p,10),p in H){if(p===0)break;continue}H[p]=[i,k]}const f=[];for(let p=0;p<H.length&&p in H;++p){let[i,k]=H[p];k=e(k),i&&(k=unescape(k),p===0&&(k=t(k))),f.push(k)}return f.join("")}function e(K){if(K.startsWith('"')){const H=K.slice(1).split('\\"');for(let U=0;U<H.length;++U){const P=H[U].indexOf('"');P!==-1&&(H[U]=H[U].slice(0,P),H.length=U+1),H[U]=H[U].replaceAll(/\\(.)/g,"$1")}K=H.join('"')}return K}function t(K){const H=K.indexOf("'");if(H===-1)return K;const U=K.slice(0,H),f=K.slice(H+1).replace(/^[^']*'/,"");return n(U,f)}function o(K){return!K.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(K)?K:K.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(H,U,P,f){if(P==="q"||P==="Q")return f=f.replaceAll("_"," "),f=f.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,i){return String.fromCharCode(parseInt(i,16))}),n(U,f);try{f=atob(f)}catch{}return n(U,f)})}return""}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var X=M(1),ae=M(20);const Te=200,Pe=206;function x(e){const t=e.response;return typeof t!="string"?t:(0,X.stringToBytes)(t).buffer}class ie{constructor(t,o={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&o.httpHeaders||Object.create(null),this.withCredentials=o.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,o,K){const H={begin:t,end:o};for(const U in K)H[U]=K[U];return this.request(H)}requestFull(t){return this.request(t)}request(t){const o=new XMLHttpRequest,K=this.currXhrId++,H=this.pendingRequests[K]={xhr:o};o.open("GET",this.url),o.withCredentials=this.withCredentials;for(const U in this.httpHeaders){const P=this.httpHeaders[U];P!==void 0&&o.setRequestHeader(U,P)}return this.isHttp&&"begin"in t&&"end"in t?(o.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),H.expectedStatus=Pe):H.expectedStatus=Te,o.responseType="arraybuffer",t.onError&&(o.onerror=function(U){t.onError(o.status)}),o.onreadystatechange=this.onStateChange.bind(this,K),o.onprogress=this.onProgress.bind(this,K),H.onHeadersReceived=t.onHeadersReceived,H.onDone=t.onDone,H.onError=t.onError,H.onProgress=t.onProgress,o.send(null),K}onProgress(t,o){var H;const K=this.pendingRequests[t];K&&((H=K.onProgress)==null||H.call(K,o))}onStateChange(t,o){var p,i,k;const K=this.pendingRequests[t];if(!K)return;const H=K.xhr;if(H.readyState>=2&&K.onHeadersReceived&&(K.onHeadersReceived(),delete K.onHeadersReceived),H.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],H.status===0&&this.isHttp){(p=K.onError)==null||p.call(K,H.status);return}const U=H.status||Te;if(!(U===Te&&K.expectedStatus===Pe)&&U!==K.expectedStatus){(i=K.onError)==null||i.call(K,H.status);return}const f=x(H);if(U===Pe){const F=H.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(F);K.onDone({begin:parseInt(_[1],10),chunk:f})}else f?K.onDone({begin:0,chunk:f}):(k=K.onError)==null||k.call(K,H.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const o=this.pendingRequests[t].xhr;delete this.pendingRequests[t],o.abort()}}class n{constructor(t){this._source=t,this._manager=new ie(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const o=this._rangeRequestReaders.indexOf(t);o>=0&&this._rangeRequestReaders.splice(o,1)}getFullReader(){return(0,X.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new w(this._manager,this._source),this._fullRequestReader}getRangeReader(t,o){const K=new O(this._manager,t,o);return K.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(K),K}cancelAllRequests(t){var o;(o=this._fullRequestReader)==null||o.cancel(t);for(const K of this._rangeRequestReaders.slice(0))K.cancel(t)}}s.PDFNetworkStream=n;class w{constructor(t,o){this._manager=t;const K={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=o.url,this._fullRequestId=t.requestFull(K),this._headersReceivedCapability=new X.PromiseCapability,this._disableRange=o.disableRange||!1,this._contentLength=o.length,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,o=this._manager.getRequestXhr(t),K=P=>o.getResponseHeader(P),{allowRangeRequests:H,suggestedLength:U}=(0,ae.validateRangeRequestCapabilities)({getResponseHeader:K,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});H&&(this._isRangeSupported=!0),this._contentLength=U||this._contentLength,this._filename=(0,ae.extractFilenameFromHeader)(K),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,ae.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var o;(o=this.onProgress)==null||o.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=new X.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class O{constructor(t,o,K){this._manager=t;const H={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(o,K,H),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const o=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunk=o,this._done=!0;for(const K of this._requests)K.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,ae.createResponseStatusError)(t,this._url);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var o;this.isStreamingSupported||(o=this.onProgress)==null||o.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const o=this._queuedChunk;return this._queuedChunk=null,{value:o,done:!1}}if(this._done)return{value:void 0,done:!0};const t=new X.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var X=M(1),ae=M(20);const Te=/^file:\/\/\/[a-zA-Z]:\//;function Pe(K){const H=require$$5,U=H.parse(K);return U.protocol==="file:"||U.host?U:/^[a-z]:[/\\]/i.test(K)?H.parse(`file:///${K}`):(U.host||(U.protocol="file:"),U)}class x{constructor(H){this.source=H,this.url=Pe(H.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&H.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var H;return((H=this._fullRequestReader)==null?void 0:H._loaded)??0}getFullReader(){return(0,X.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new t(this):new O(this),this._fullRequestReader}getRangeReader(H,U){if(U<=this._progressiveDataLength)return null;const P=this.isFsUrl?new o(this,H,U):new e(this,H,U);return this._rangeRequestReaders.push(P),P}cancelAllRequests(H){var U;(U=this._fullRequestReader)==null||U.cancel(H);for(const P of this._rangeRequestReaders.slice(0))P.cancel(H)}}s.PDFNodeStream=x;class ie{constructor(H){this._url=H.url,this._done=!1,this._storedError=null,this.onProgress=null;const U=H.source;this._contentLength=U.length,this._loaded=0,this._filename=null,this._disableRange=U.disableRange||!1,this._rangeChunkSize=U.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!U.disableStream,this._isRangeSupported=!U.disableRange,this._readableStream=null,this._readCapability=new X.PromiseCapability,this._headersCapability=new X.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var P;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const H=this._readableStream.read();return H===null?(this._readCapability=new X.PromiseCapability,this.read()):(this._loaded+=H.length,(P=this.onProgress)==null||P.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(H).buffer,done:!1})}cancel(H){if(!this._readableStream){this._error(H);return}this._readableStream.destroy(H)}_error(H){this._storedError=H,this._readCapability.resolve()}_setReadableStream(H){this._readableStream=H,H.on("readable",()=>{this._readCapability.resolve()}),H.on("end",()=>{H.destroy(),this._done=!0,this._readCapability.resolve()}),H.on("error",U=>{this._error(U)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new X.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class n{constructor(H){this._url=H.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new X.PromiseCapability;const U=H.source;this._isStreamingSupported=!U.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var P;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const H=this._readableStream.read();return H===null?(this._readCapability=new X.PromiseCapability,this.read()):(this._loaded+=H.length,(P=this.onProgress)==null||P.call(this,{loaded:this._loaded}),{value:new Uint8Array(H).buffer,done:!1})}cancel(H){if(!this._readableStream){this._error(H);return}this._readableStream.destroy(H)}_error(H){this._storedError=H,this._readCapability.resolve()}_setReadableStream(H){this._readableStream=H,H.on("readable",()=>{this._readCapability.resolve()}),H.on("end",()=>{H.destroy(),this._done=!0,this._readCapability.resolve()}),H.on("error",U=>{this._error(U)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function w(K,H){return{protocol:K.protocol,auth:K.auth,host:K.hostname,port:K.port,path:K.path,method:"GET",headers:H}}class O extends ie{constructor(H){super(H);const U=P=>{if(P.statusCode===404){const k=new X.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=k,this._headersCapability.reject(k);return}this._headersCapability.resolve(),this._setReadableStream(P);const f=k=>this._readableStream.headers[k.toLowerCase()],{allowRangeRequests:p,suggestedLength:i}=(0,ae.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:H.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=p,this._contentLength=i||this._contentLength,this._filename=(0,ae.extractFilenameFromHeader)(f)};if(this._request=null,this._url.protocol==="http:"){const P=require$$5;this._request=P.request(w(this._url,H.httpHeaders),U)}else{const P=require$$5;this._request=P.request(w(this._url,H.httpHeaders),U)}this._request.on("error",P=>{this._storedError=P,this._headersCapability.reject(P)}),this._request.end()}}class e extends n{constructor(H,U,P){super(H),this._httpHeaders={};for(const p in H.httpHeaders){const i=H.httpHeaders[p];i!==void 0&&(this._httpHeaders[p]=i)}this._httpHeaders.Range=`bytes=${U}-${P-1}`;const f=p=>{if(p.statusCode===404){const i=new X.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=i;return}this._setReadableStream(p)};if(this._request=null,this._url.protocol==="http:"){const p=require$$5;this._request=p.request(w(this._url,this._httpHeaders),f)}else{const p=require$$5;this._request=p.request(w(this._url,this._httpHeaders),f)}this._request.on("error",p=>{this._storedError=p}),this._request.end()}}class t extends ie{constructor(H){super(H);let U=decodeURIComponent(this._url.path);Te.test(this._url.href)&&(U=U.replace(/^\//,""));const P=require$$5;P.lstat(U,(f,p)=>{if(f){f.code==="ENOENT"&&(f=new X.MissingPDFException(`Missing PDF "${U}".`)),this._storedError=f,this._headersCapability.reject(f);return}this._contentLength=p.size,this._setReadableStream(P.createReadStream(U)),this._headersCapability.resolve()})}}class o extends n{constructor(H,U,P){super(H);let f=decodeURIComponent(this._url.path);Te.test(this._url.href)&&(f=f.replace(/^\//,""));const p=require$$5;this._setReadableStream(p.createReadStream(f,{start:U,end:P-1}))}}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var X=M(6),ae=M(1);const Te={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Pe="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/1999/xlink",ie=["butt","round","square"],n=["miter","round","bevel"],w=function(p,i="",k=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!k)return URL.createObjectURL(new Blob([p],{type:i}));const F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let _=`data:${i};base64,`;for(let C=0,Q=p.length;C<Q;C+=3){const j=p[C]&255,re=p[C+1]&255,T=p[C+2]&255,R=j>>2,d=(j&3)<<4|re>>4,y=C+1<Q?(re&15)<<2|T>>6:64,W=C+2<Q?T&63:64;_+=F[R]+F[d]+F[y]+F[W]}return _},O=function(){const p=new Uint8Array([137,80,78,71,13,10,26,10]),i=12,k=new Int32Array(256);for(let T=0;T<256;T++){let R=T;for(let d=0;d<8;d++)R=R&1?3988292384^R>>1&2147483647:R>>1&2147483647;k[T]=R}function F(T,R,d){let y=-1;for(let W=R;W<d;W++){const u=(y^T[W])&255,b=k[u];y=y>>>8^b}return y^-1}function _(T,R,d,y){let W=y;const u=R.length;d[W]=u>>24&255,d[W+1]=u>>16&255,d[W+2]=u>>8&255,d[W+3]=u&255,W+=4,d[W]=T.charCodeAt(0)&255,d[W+1]=T.charCodeAt(1)&255,d[W+2]=T.charCodeAt(2)&255,d[W+3]=T.charCodeAt(3)&255,W+=4,d.set(R,W),W+=R.length;const b=F(d,y+4,W);d[W]=b>>24&255,d[W+1]=b>>16&255,d[W+2]=b>>8&255,d[W+3]=b&255}function C(T,R,d){let y=1,W=0;for(let u=R;u<d;++u)y=(y+(T[u]&255))%65521,W=(W+y)%65521;return W<<16|y}function Q(T){if(!ae.isNodeJS)return j(T);try{const R=parseInt(process.versions.node)>=8?T:Buffer.from(T),d=require$$5.deflateSync(R,{level:9});return d instanceof Uint8Array?d:new Uint8Array(d)}catch(R){(0,ae.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+R)}return j(T)}function j(T){let R=T.length;const d=65535,y=Math.ceil(R/d),W=new Uint8Array(2+R+y*5+4);let u=0;W[u++]=120,W[u++]=156;let b=0;for(;R>d;)W[u++]=0,W[u++]=255,W[u++]=255,W[u++]=0,W[u++]=0,W.set(T.subarray(b,b+d),u),u+=d,b+=d,R-=d;W[u++]=1,W[u++]=R&255,W[u++]=R>>8&255,W[u++]=~R&65535&255,W[u++]=(~R&65535)>>8&255,W.set(T.subarray(b),u),u+=T.length-b;const D=C(T,0,T.length);return W[u++]=D>>24&255,W[u++]=D>>16&255,W[u++]=D>>8&255,W[u++]=D&255,W}function re(T,R,d,y){const W=T.width,u=T.height;let b,D,J;const N=T.data;switch(R){case ae.ImageKind.GRAYSCALE_1BPP:D=0,b=1,J=W+7>>3;break;case ae.ImageKind.RGB_24BPP:D=2,b=8,J=W*3;break;case ae.ImageKind.RGBA_32BPP:D=6,b=8,J=W*4;break;default:throw new Error("invalid format")}const v=new Uint8Array((1+J)*u);let S=0,I=0;for(let G=0;G<u;++G)v[S++]=0,v.set(N.subarray(I,I+J),S),I+=J,S+=J;if(R===ae.ImageKind.GRAYSCALE_1BPP&&y){S=0;for(let G=0;G<u;G++){S++;for(let se=0;se<J;se++)v[S++]^=255}}const h=new Uint8Array([W>>24&255,W>>16&255,W>>8&255,W&255,u>>24&255,u>>16&255,u>>8&255,u&255,b,D,0,0,0]),B=Q(v),r=p.length+i*3+h.length+B.length,A=new Uint8Array(r);let E=0;return A.set(p,E),E+=p.length,_("IHDR",h,A,E),E+=i+h.length,_("IDATA",B,A,E),E+=i+B.length,_("IEND",new Uint8Array(0),A,E),w(A,"image/png",d)}return function(R,d,y){const W=R.kind===void 0?ae.ImageKind.GRAYSCALE_1BPP:R.kind;return re(R,W,d,y)}}();class e{constructor(){this.fontSizeScale=1,this.fontWeight=Te.fontWeight,this.fontSize=0,this.textMatrix=ae.IDENTITY_MATRIX,this.fontMatrix=ae.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=ae.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Te.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,k){this.x=i,this.y=k}}function t(p){let i=[];const k=[];for(const F of p){if(F.fn==="save"){i.push({fnId:92,fn:"group",items:[]}),k.push(i),i=i.at(-1).items;continue}F.fn==="restore"?i=k.pop():i.push(F)}return i}function o(p){if(Number.isInteger(p))return p.toString();const i=p.toFixed(10);let k=i.length-1;if(i[k]!=="0")return i;do k--;while(i[k]==="0");return i.substring(0,i[k]==="."?k:k+1)}function K(p){if(p[4]===0&&p[5]===0){if(p[1]===0&&p[2]===0)return p[0]===1&&p[3]===1?"":`scale(${o(p[0])} ${o(p[3])})`;if(p[0]===p[3]&&p[1]===-p[2]){const i=Math.acos(p[0])*180/Math.PI;return`rotate(${o(i)})`}}else if(p[0]===1&&p[1]===0&&p[2]===0&&p[3]===1)return`translate(${o(p[4])} ${o(p[5])})`;return`matrix(${o(p[0])} ${o(p[1])} ${o(p[2])} ${o(p[3])} ${o(p[4])} ${o(p[5])})`}let H=0,U=0,P=0;class f{constructor(i,k,F=!1){(0,X.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new X.DOMSVGFactory,this.current=new e,this.transformMatrix=ae.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=i,this.objs=k,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!F,this._operatorIdMapping=[];for(const _ in ae.OPS)this._operatorIdMapping[ae.OPS[_]]=_}getObject(i,k=null){return typeof i=="string"?i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i):k}save(){this.transformStack.push(this.transformMatrix);const i=this.current;this.extraStack.push(i),this.current=i.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(i){this.save(),this.executeOpTree(i),this.restore()}loadDependencies(i){const k=i.fnArray,F=i.argsArray;for(let _=0,C=k.length;_<C;_++)if(k[_]===ae.OPS.dependency)for(const Q of F[_]){const j=Q.startsWith("g_")?this.commonObjs:this.objs,re=new Promise(T=>{j.get(Q,T)});this.current.dependencies.push(re)}return Promise.all(this.current.dependencies)}transform(i,k,F,_,C,Q){const j=[i,k,F,_,C,Q];this.transformMatrix=ae.Util.transform(this.transformMatrix,j),this.tgrp=null}getSVG(i,k){this.viewport=k;const F=this._initialize(k);return this.loadDependencies(i).then(()=>(this.transformMatrix=ae.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(i)),F))}convertOpList(i){const k=this._operatorIdMapping,F=i.argsArray,_=i.fnArray,C=[];for(let Q=0,j=_.length;Q<j;Q++){const re=_[Q];C.push({fnId:re,fn:k[re],args:F[Q]})}return t(C)}executeOpTree(i){for(const k of i){const F=k.fn,_=k.fnId,C=k.args;switch(_|0){case ae.OPS.beginText:this.beginText();break;case ae.OPS.dependency:break;case ae.OPS.setLeading:this.setLeading(C);break;case ae.OPS.setLeadingMoveText:this.setLeadingMoveText(C[0],C[1]);break;case ae.OPS.setFont:this.setFont(C);break;case ae.OPS.showText:this.showText(C[0]);break;case ae.OPS.showSpacedText:this.showText(C[0]);break;case ae.OPS.endText:this.endText();break;case ae.OPS.moveText:this.moveText(C[0],C[1]);break;case ae.OPS.setCharSpacing:this.setCharSpacing(C[0]);break;case ae.OPS.setWordSpacing:this.setWordSpacing(C[0]);break;case ae.OPS.setHScale:this.setHScale(C[0]);break;case ae.OPS.setTextMatrix:this.setTextMatrix(C[0],C[1],C[2],C[3],C[4],C[5]);break;case ae.OPS.setTextRise:this.setTextRise(C[0]);break;case ae.OPS.setTextRenderingMode:this.setTextRenderingMode(C[0]);break;case ae.OPS.setLineWidth:this.setLineWidth(C[0]);break;case ae.OPS.setLineJoin:this.setLineJoin(C[0]);break;case ae.OPS.setLineCap:this.setLineCap(C[0]);break;case ae.OPS.setMiterLimit:this.setMiterLimit(C[0]);break;case ae.OPS.setFillRGBColor:this.setFillRGBColor(C[0],C[1],C[2]);break;case ae.OPS.setStrokeRGBColor:this.setStrokeRGBColor(C[0],C[1],C[2]);break;case ae.OPS.setStrokeColorN:this.setStrokeColorN(C);break;case ae.OPS.setFillColorN:this.setFillColorN(C);break;case ae.OPS.shadingFill:this.shadingFill(C[0]);break;case ae.OPS.setDash:this.setDash(C[0],C[1]);break;case ae.OPS.setRenderingIntent:this.setRenderingIntent(C[0]);break;case ae.OPS.setFlatness:this.setFlatness(C[0]);break;case ae.OPS.setGState:this.setGState(C[0]);break;case ae.OPS.fill:this.fill();break;case ae.OPS.eoFill:this.eoFill();break;case ae.OPS.stroke:this.stroke();break;case ae.OPS.fillStroke:this.fillStroke();break;case ae.OPS.eoFillStroke:this.eoFillStroke();break;case ae.OPS.clip:this.clip("nonzero");break;case ae.OPS.eoClip:this.clip("evenodd");break;case ae.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case ae.OPS.paintImageXObject:this.paintImageXObject(C[0]);break;case ae.OPS.paintInlineImageXObject:this.paintInlineImageXObject(C[0]);break;case ae.OPS.paintImageMaskXObject:this.paintImageMaskXObject(C[0]);break;case ae.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(C[0],C[1]);break;case ae.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case ae.OPS.closePath:this.closePath();break;case ae.OPS.closeStroke:this.closeStroke();break;case ae.OPS.closeFillStroke:this.closeFillStroke();break;case ae.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case ae.OPS.nextLine:this.nextLine();break;case ae.OPS.transform:this.transform(C[0],C[1],C[2],C[3],C[4],C[5]);break;case ae.OPS.constructPath:this.constructPath(C[0],C[1]);break;case ae.OPS.endPath:this.endPath();break;case 92:this.group(k.items);break;default:(0,ae.warn)(`Unimplemented operator ${F}`);break}}}setWordSpacing(i){this.current.wordSpacing=i}setCharSpacing(i){this.current.charSpacing=i}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(i,k,F,_,C,Q){const j=this.current;j.textMatrix=j.lineMatrix=[i,k,F,_,C,Q],j.textMatrixScale=Math.hypot(i,k),j.x=j.lineX=0,j.y=j.lineY=0,j.xcoords=[],j.ycoords=[],j.tspan=this.svgFactory.createElement("svg:tspan"),j.tspan.setAttributeNS(null,"font-family",j.fontFamily),j.tspan.setAttributeNS(null,"font-size",`${o(j.fontSize)}px`),j.tspan.setAttributeNS(null,"y",o(-j.y)),j.txtElement=this.svgFactory.createElement("svg:text"),j.txtElement.append(j.tspan)}beginText(){const i=this.current;i.x=i.lineX=0,i.y=i.lineY=0,i.textMatrix=ae.IDENTITY_MATRIX,i.lineMatrix=ae.IDENTITY_MATRIX,i.textMatrixScale=1,i.tspan=this.svgFactory.createElement("svg:tspan"),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtgrp=this.svgFactory.createElement("svg:g"),i.xcoords=[],i.ycoords=[]}moveText(i,k){const F=this.current;F.x=F.lineX+=i,F.y=F.lineY+=k,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${o(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",o(-F.y))}showText(i){const k=this.current,F=k.font,_=k.fontSize;if(_===0)return;const C=k.fontSizeScale,Q=k.charSpacing,j=k.wordSpacing,re=k.fontDirection,T=k.textHScale*re,R=F.vertical,d=R?1:-1,y=F.defaultVMetrics,W=_*k.fontMatrix[0];let u=0;for(const J of i){if(J===null){u+=re*j;continue}else if(typeof J=="number"){u+=d*J*_/1e3;continue}const N=(J.isSpace?j:0)+Q,v=J.fontChar;let S,I,h=J.width;if(R){let r;const A=J.vmetric||y;r=J.vmetric?A[1]:h*.5,r=-r*W;const E=A[2]*W;h=A?-A[0]:h,S=r/C,I=(u+E)/C}else S=u/C,I=0;(J.isInFont||F.missingFile)&&(k.xcoords.push(k.x+S),R&&k.ycoords.push(-k.y+I),k.tspan.textContent+=v);const B=R?h*W-N*re:h*W+N*re;u+=B}k.tspan.setAttributeNS(null,"x",k.xcoords.map(o).join(" ")),R?k.tspan.setAttributeNS(null,"y",k.ycoords.map(o).join(" ")):k.tspan.setAttributeNS(null,"y",o(-k.y)),R?k.y-=u:k.x+=u*T,k.tspan.setAttributeNS(null,"font-family",k.fontFamily),k.tspan.setAttributeNS(null,"font-size",`${o(k.fontSize)}px`),k.fontStyle!==Te.fontStyle&&k.tspan.setAttributeNS(null,"font-style",k.fontStyle),k.fontWeight!==Te.fontWeight&&k.tspan.setAttributeNS(null,"font-weight",k.fontWeight);const b=k.textRenderingMode&ae.TextRenderingMode.FILL_STROKE_MASK;if(b===ae.TextRenderingMode.FILL||b===ae.TextRenderingMode.FILL_STROKE?(k.fillColor!==Te.fillColor&&k.tspan.setAttributeNS(null,"fill",k.fillColor),k.fillAlpha<1&&k.tspan.setAttributeNS(null,"fill-opacity",k.fillAlpha)):k.textRenderingMode===ae.TextRenderingMode.ADD_TO_PATH?k.tspan.setAttributeNS(null,"fill","transparent"):k.tspan.setAttributeNS(null,"fill","none"),b===ae.TextRenderingMode.STROKE||b===ae.TextRenderingMode.FILL_STROKE){const J=1/(k.textMatrixScale||1);this._setStrokeAttributes(k.tspan,J)}let D=k.textMatrix;k.textRise!==0&&(D=D.slice(),D[5]+=k.textRise),k.txtElement.setAttributeNS(null,"transform",`${K(D)} scale(${o(T)}, -1)`),k.txtElement.setAttributeNS(Pe,"xml:space","preserve"),k.txtElement.append(k.tspan),k.txtgrp.append(k.txtElement),this._ensureTransformGroup().append(k.txtElement)}setLeadingMoveText(i,k){this.setLeading(-k),this.moveText(i,k)}addFontStyle(i){if(!i.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const k=w(i.data,i.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${i.loadedName}"; src: url(${k}); }
`}setFont(i){const k=this.current,F=this.commonObjs.get(i[0]);let _=i[1];k.font=F,this.embedFonts&&!F.missingFile&&!this.embeddedFonts[F.loadedName]&&(this.addFontStyle(F),this.embeddedFonts[F.loadedName]=F),k.fontMatrix=F.fontMatrix||ae.FONT_IDENTITY_MATRIX;let C="normal";F.black?C="900":F.bold&&(C="bold");const Q=F.italic?"italic":"normal";_<0?(_=-_,k.fontDirection=-1):k.fontDirection=1,k.fontSize=_,k.fontFamily=F.loadedName,k.fontWeight=C,k.fontStyle=Q,k.tspan=this.svgFactory.createElement("svg:tspan"),k.tspan.setAttributeNS(null,"y",o(-k.y)),k.xcoords=[],k.ycoords=[]}endText(){var k;const i=this.current;i.textRenderingMode&ae.TextRenderingMode.ADD_TO_PATH_FLAG&&((k=i.txtElement)!=null&&k.hasChildNodes())&&(i.element=i.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(i){i>0&&(this.current.lineWidth=i)}setLineCap(i){this.current.lineCap=ie[i]}setLineJoin(i){this.current.lineJoin=n[i]}setMiterLimit(i){this.current.miterLimit=i}setStrokeAlpha(i){this.current.strokeAlpha=i}setStrokeRGBColor(i,k,F){this.current.strokeColor=ae.Util.makeHexColor(i,k,F)}setFillAlpha(i){this.current.fillAlpha=i}setFillRGBColor(i,k,F){this.current.fillColor=ae.Util.makeHexColor(i,k,F),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(i){this.current.strokeColor=this._makeColorN_Pattern(i)}setFillColorN(i){this.current.fillColor=this._makeColorN_Pattern(i)}shadingFill(i){const{width:k,height:F}=this.viewport,_=ae.Util.inverseTransform(this.transformMatrix),[C,Q,j,re]=ae.Util.getAxialAlignedBoundingBox([0,0,k,F],_),T=this.svgFactory.createElement("svg:rect");T.setAttributeNS(null,"x",C),T.setAttributeNS(null,"y",Q),T.setAttributeNS(null,"width",j-C),T.setAttributeNS(null,"height",re-Q),T.setAttributeNS(null,"fill",this._makeShadingPattern(i)),this.current.fillAlpha<1&&T.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(T)}_makeColorN_Pattern(i){return i[0]==="TilingPattern"?this._makeTilingPattern(i):this._makeShadingPattern(i)}_makeTilingPattern(i){const k=i[1],F=i[2],_=i[3]||ae.IDENTITY_MATRIX,[C,Q,j,re]=i[4],T=i[5],R=i[6],d=i[7],y=`shading${P++}`,[W,u,b,D]=ae.Util.normalizeRect([...ae.Util.applyTransform([C,Q],_),...ae.Util.applyTransform([j,re],_)]),[J,N]=ae.Util.singularValueDecompose2dScale(_),v=T*J,S=R*N,I=this.svgFactory.createElement("svg:pattern");I.setAttributeNS(null,"id",y),I.setAttributeNS(null,"patternUnits","userSpaceOnUse"),I.setAttributeNS(null,"width",v),I.setAttributeNS(null,"height",S),I.setAttributeNS(null,"x",`${W}`),I.setAttributeNS(null,"y",`${u}`);const h=this.svg,B=this.transformMatrix,r=this.current.fillColor,A=this.current.strokeColor,E=this.svgFactory.create(b-W,D-u);if(this.svg=E,this.transformMatrix=_,d===2){const G=ae.Util.makeHexColor(...k);this.current.fillColor=G,this.current.strokeColor=G}return this.executeOpTree(this.convertOpList(F)),this.svg=h,this.transformMatrix=B,this.current.fillColor=r,this.current.strokeColor=A,I.append(E.childNodes[0]),this.defs.append(I),`url(#${y})`}_makeShadingPattern(i){switch(typeof i=="string"&&(i=this.objs.get(i)),i[0]){case"RadialAxial":const k=`shading${P++}`,F=i[3];let _;switch(i[1]){case"axial":const C=i[4],Q=i[5];_=this.svgFactory.createElement("svg:linearGradient"),_.setAttributeNS(null,"id",k),_.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_.setAttributeNS(null,"x1",C[0]),_.setAttributeNS(null,"y1",C[1]),_.setAttributeNS(null,"x2",Q[0]),_.setAttributeNS(null,"y2",Q[1]);break;case"radial":const j=i[4],re=i[5],T=i[6],R=i[7];_=this.svgFactory.createElement("svg:radialGradient"),_.setAttributeNS(null,"id",k),_.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_.setAttributeNS(null,"cx",re[0]),_.setAttributeNS(null,"cy",re[1]),_.setAttributeNS(null,"r",R),_.setAttributeNS(null,"fx",j[0]),_.setAttributeNS(null,"fy",j[1]),_.setAttributeNS(null,"fr",T);break;default:throw new Error(`Unknown RadialAxial type: ${i[1]}`)}for(const C of F){const Q=this.svgFactory.createElement("svg:stop");Q.setAttributeNS(null,"offset",C[0]),Q.setAttributeNS(null,"stop-color",C[1]),_.append(Q)}return this.defs.append(_),`url(#${k})`;case"Mesh":return(0,ae.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${i[0]}`)}}setDash(i,k){this.current.dashArray=i,this.current.dashPhase=k}constructPath(i,k){const F=this.current;let _=F.x,C=F.y,Q=[],j=0;for(const re of i)switch(re|0){case ae.OPS.rectangle:_=k[j++],C=k[j++];const T=k[j++],R=k[j++],d=_+T,y=C+R;Q.push("M",o(_),o(C),"L",o(d),o(C),"L",o(d),o(y),"L",o(_),o(y),"Z");break;case ae.OPS.moveTo:_=k[j++],C=k[j++],Q.push("M",o(_),o(C));break;case ae.OPS.lineTo:_=k[j++],C=k[j++],Q.push("L",o(_),o(C));break;case ae.OPS.curveTo:_=k[j+4],C=k[j+5],Q.push("C",o(k[j]),o(k[j+1]),o(k[j+2]),o(k[j+3]),o(_),o(C)),j+=6;break;case ae.OPS.curveTo2:Q.push("C",o(_),o(C),o(k[j]),o(k[j+1]),o(k[j+2]),o(k[j+3])),_=k[j+2],C=k[j+3],j+=4;break;case ae.OPS.curveTo3:_=k[j+2],C=k[j+3],Q.push("C",o(k[j]),o(k[j+1]),o(_),o(C),o(_),o(C)),j+=4;break;case ae.OPS.closePath:Q.push("Z");break}Q=Q.join(" "),F.path&&i.length>0&&i[0]!==ae.OPS.rectangle&&i[0]!==ae.OPS.moveTo?Q=F.path.getAttributeNS(null,"d")+Q:(F.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(F.path)),F.path.setAttributeNS(null,"d",Q),F.path.setAttributeNS(null,"fill","none"),F.element=F.path,F.setCurrentPoint(_,C)}endPath(){const i=this.current;if(i.path=null,!this.pendingClip)return;if(!i.element){this.pendingClip=null;return}const k=`clippath${H++}`,F=this.svgFactory.createElement("svg:clipPath");F.setAttributeNS(null,"id",k),F.setAttributeNS(null,"transform",K(this.transformMatrix));const _=i.element.cloneNode(!0);if(this.pendingClip==="evenodd"?_.setAttributeNS(null,"clip-rule","evenodd"):_.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,F.append(_),this.defs.append(F),i.activeClipUrl){i.clipGroup=null;for(const C of this.extraStack)C.clipGroup=null;F.setAttributeNS(null,"clip-path",i.activeClipUrl)}i.activeClipUrl=`url(#${k})`,this.tgrp=null}clip(i){this.pendingClip=i}closePath(){const i=this.current;if(i.path){const k=`${i.path.getAttributeNS(null,"d")}Z`;i.path.setAttributeNS(null,"d",k)}}setLeading(i){this.current.leading=-i}setTextRise(i){this.current.textRise=i}setTextRenderingMode(i){this.current.textRenderingMode=i}setHScale(i){this.current.textHScale=i/100}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[k,F]of i)switch(k){case"LW":this.setLineWidth(F);break;case"LC":this.setLineCap(F);break;case"LJ":this.setLineJoin(F);break;case"ML":this.setMiterLimit(F);break;case"D":this.setDash(F[0],F[1]);break;case"RI":this.setRenderingIntent(F);break;case"FL":this.setFlatness(F);break;case"Font":this.setFont(F);break;case"CA":this.setStrokeAlpha(F);break;case"ca":this.setFillAlpha(F);break;default:(0,ae.warn)(`Unimplemented graphic state operator ${k}`);break}}fill(){const i=this.current;i.element&&(i.element.setAttributeNS(null,"fill",i.fillColor),i.element.setAttributeNS(null,"fill-opacity",i.fillAlpha),this.endPath())}stroke(){const i=this.current;i.element&&(this._setStrokeAttributes(i.element),i.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(i,k=1){const F=this.current;let _=F.dashArray;k!==1&&_.length>0&&(_=_.map(function(C){return k*C})),i.setAttributeNS(null,"stroke",F.strokeColor),i.setAttributeNS(null,"stroke-opacity",F.strokeAlpha),i.setAttributeNS(null,"stroke-miterlimit",o(F.miterLimit)),i.setAttributeNS(null,"stroke-linecap",F.lineCap),i.setAttributeNS(null,"stroke-linejoin",F.lineJoin),i.setAttributeNS(null,"stroke-width",o(k*F.lineWidth)+"px"),i.setAttributeNS(null,"stroke-dasharray",_.map(o).join(" ")),i.setAttributeNS(null,"stroke-dashoffset",o(k*F.dashPhase)+"px")}eoFill(){var i;(i=this.current.element)==null||i.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var i;(i=this.current.element)==null||i.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width","1px"),i.setAttributeNS(null,"height","1px"),i.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(i)}paintImageXObject(i){const k=this.getObject(i);if(!k){(0,ae.warn)(`Dependent image with object ID ${i} is not ready yet`);return}this.paintInlineImageXObject(k)}paintInlineImageXObject(i,k){const F=i.width,_=i.height,C=O(i,this.forceDataSchema,!!k),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y","0"),Q.setAttributeNS(null,"width",o(F)),Q.setAttributeNS(null,"height",o(_)),this.current.element=Q,this.clip("nonzero");const j=this.svgFactory.createElement("svg:image");j.setAttributeNS(x,"xlink:href",C),j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y",o(-_)),j.setAttributeNS(null,"width",o(F)+"px"),j.setAttributeNS(null,"height",o(_)+"px"),j.setAttributeNS(null,"transform",`scale(${o(1/F)} ${o(-1/_)})`),k?k.append(j):this._ensureTransformGroup().append(j)}paintImageMaskXObject(i){const k=this.getObject(i.data,i);if(k.bitmap){(0,ae.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const F=this.current,_=k.width,C=k.height,Q=F.fillColor;F.maskId=`mask${U++}`;const j=this.svgFactory.createElement("svg:mask");j.setAttributeNS(null,"id",F.maskId);const re=this.svgFactory.createElement("svg:rect");re.setAttributeNS(null,"x","0"),re.setAttributeNS(null,"y","0"),re.setAttributeNS(null,"width",o(_)),re.setAttributeNS(null,"height",o(C)),re.setAttributeNS(null,"fill",Q),re.setAttributeNS(null,"mask",`url(#${F.maskId})`),this.defs.append(j),this._ensureTransformGroup().append(re),this.paintInlineImageXObject(k,j)}paintFormXObjectBegin(i,k){if(Array.isArray(i)&&i.length===6&&this.transform(i[0],i[1],i[2],i[3],i[4],i[5]),k){const F=k[2]-k[0],_=k[3]-k[1],C=this.svgFactory.createElement("svg:rect");C.setAttributeNS(null,"x",k[0]),C.setAttributeNS(null,"y",k[1]),C.setAttributeNS(null,"width",o(F)),C.setAttributeNS(null,"height",o(_)),this.current.element=C,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(i){const k=this.svgFactory.create(i.width,i.height),F=this.svgFactory.createElement("svg:defs");k.append(F),this.defs=F;const _=this.svgFactory.createElement("svg:g");return _.setAttributeNS(null,"transform",K(i.transform)),k.append(_),this.svg=_,k}_ensureClipGroup(){if(!this.current.clipGroup){const i=this.svgFactory.createElement("svg:g");i.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(i),this.current.clipGroup=i}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",K(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=f},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class M{static textContent(ae){const Te=[],Pe={items:Te,styles:Object.create(null)};function x(ie){var O;if(!ie)return;let n=null;const w=ie.name;if(w==="#text")n=ie.value;else if(M.shouldBuildText(w))(O=ie==null?void 0:ie.attributes)!=null&&O.textContent?n=ie.attributes.textContent:ie.value&&(n=ie.value);else return;if(n!==null&&Te.push({str:n}),!!ie.children)for(const e of ie.children)x(e)}return x(ae),Pe}static shouldBuildText(ae){return!(ae==="textarea"||ae==="input"||ae==="option"||ae==="select")}}s.XfaText=M},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=K,s.updateTextLayer=H;var X=M(1),ae=M(6);const Te=1e5,Pe=30,x=.8,ie=new Map;function n(U,P){let f;if(P&&X.FeatureTest.isOffscreenCanvasSupported)f=new OffscreenCanvas(U,U).getContext("2d",{alpha:!1});else{const p=document.createElement("canvas");p.width=p.height=U,f=p.getContext("2d",{alpha:!1})}return f}function w(U,P){const f=ie.get(U);if(f)return f;const p=n(Pe,P);p.font=`${Pe}px ${U}`;const i=p.measureText("");let k=i.fontBoundingBoxAscent,F=Math.abs(i.fontBoundingBoxDescent);if(k){const C=k/(k+F);return ie.set(U,C),p.canvas.width=p.canvas.height=0,C}p.strokeStyle="red",p.clearRect(0,0,Pe,Pe),p.strokeText("g",0,0);let _=p.getImageData(0,0,Pe,Pe).data;F=0;for(let C=_.length-1-3;C>=0;C-=4)if(_[C]>0){F=Math.ceil(C/4/Pe);break}p.clearRect(0,0,Pe,Pe),p.strokeText("A",0,Pe),_=p.getImageData(0,0,Pe,Pe).data,k=0;for(let C=0,Q=_.length;C<Q;C+=4)if(_[C]>0){k=Pe-Math.floor(C/4/Pe);break}if(p.canvas.width=p.canvas.height=0,k){const C=k/(k+F);return ie.set(U,C),C}return ie.set(U,x),x}function O(U,P,f){const p=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:P.str!=="",hasEOL:P.hasEOL,fontSize:0};U._textDivs.push(p);const k=X.Util.transform(U._transform,P.transform);let F=Math.atan2(k[1],k[0]);const _=f[P.fontName];_.vertical&&(F+=Math.PI/2);const C=Math.hypot(k[2],k[3]),Q=C*w(_.fontFamily,U._isOffscreenCanvasSupported);let j,re;F===0?(j=k[4],re=k[5]-Q):(j=k[4]+Q*Math.sin(F),re=k[5]-Q*Math.cos(F));const T="calc(var(--scale-factor)*",R=p.style;U._container===U._rootContainer?(R.left=`${(100*j/U._pageWidth).toFixed(2)}%`,R.top=`${(100*re/U._pageHeight).toFixed(2)}%`):(R.left=`${T}${j.toFixed(2)}px)`,R.top=`${T}${re.toFixed(2)}px)`),R.fontSize=`${T}${C.toFixed(2)}px)`,R.fontFamily=_.fontFamily,i.fontSize=C,p.setAttribute("role","presentation"),p.textContent=P.str,p.dir=P.dir,U._fontInspectorEnabled&&(p.dataset.fontName=P.fontName),F!==0&&(i.angle=F*(180/Math.PI));let d=!1;if(P.str.length>1)d=!0;else if(P.str!==" "&&P.transform[0]!==P.transform[3]){const y=Math.abs(P.transform[0]),W=Math.abs(P.transform[3]);y!==W&&Math.max(y,W)/Math.min(y,W)>1.5&&(d=!0)}d&&(i.canvasWidth=_.vertical?P.height:P.width),U._textDivProperties.set(p,i),U._isReadableStream&&U._layoutText(p)}function e(U){const{div:P,scale:f,properties:p,ctx:i,prevFontSize:k,prevFontFamily:F}=U,{style:_}=P;let C="";if(p.canvasWidth!==0&&p.hasText){const{fontFamily:Q}=_,{canvasWidth:j,fontSize:re}=p;(k!==re||F!==Q)&&(i.font=`${re*f}px ${Q}`,U.prevFontSize=re,U.prevFontFamily=Q);const{width:T}=i.measureText(P.textContent);T>0&&(C=`scaleX(${j*f/T})`)}p.angle!==0&&(C=`rotate(${p.angle}deg) ${C}`),C.length>0&&(_.transform=C)}function t(U){if(U._canceled)return;const P=U._textDivs,f=U._capability;if(P.length>Te){f.resolve();return}if(!U._isReadableStream)for(const i of P)U._layoutText(i);f.resolve()}class o{constructor({textContentSource:P,container:f,viewport:p,textDivs:i,textDivProperties:k,textContentItemsStr:F,isOffscreenCanvasSupported:_}){var T;this._textContentSource=P,this._isReadableStream=P instanceof ReadableStream,this._container=this._rootContainer=f,this._textDivs=i||[],this._textContentItemsStr=F||[],this._isOffscreenCanvasSupported=_,this._fontInspectorEnabled=!!((T=globalThis.FontInspector)!=null&&T.enabled),this._reader=null,this._textDivProperties=k||new WeakMap,this._canceled=!1,this._capability=new X.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:p.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:n(0,_)};const{pageWidth:C,pageHeight:Q,pageX:j,pageY:re}=p.rawDims;this._transform=[1,0,0,-1,-j,re+Q],this._pageWidth=C,this._pageHeight=Q,(0,ae.setLayerDimensions)(f,p),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new X.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new X.AbortException("TextLayer task cancelled."))}_processItems(P,f){for(const p of P){if(p.str===void 0){if(p.type==="beginMarkedContentProps"||p.type==="beginMarkedContent"){const i=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),p.id!==null&&this._container.setAttribute("id",`${p.id}`),i.append(this._container)}else p.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(p.str),O(this,p,f)}}_layoutText(P){const f=this._layoutTextParams.properties=this._textDivProperties.get(P);if(this._layoutTextParams.div=P,e(this._layoutTextParams),f.hasText&&this._container.append(P),f.hasEOL){const p=document.createElement("br");p.setAttribute("role","presentation"),this._container.append(p)}}_render(){const P=new X.PromiseCapability;let f=Object.create(null);if(this._isReadableStream){const p=()=>{this._reader.read().then(({value:i,done:k})=>{if(k){P.resolve();return}Object.assign(f,i.styles),this._processItems(i.items,f),p()},P.reject)};this._reader=this._textContentSource.getReader(),p()}else if(this._textContentSource){const{items:p,styles:i}=this._textContentSource;this._processItems(p,i),P.resolve()}else throw new Error('No "textContentSource" parameter specified.');P.promise.then(()=>{f=null,t(this)},this._capability.reject)}}s.TextLayerRenderTask=o;function K(U){!U.textContentSource&&(U.textContent||U.textContentStream)&&((0,ae.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),U.textContentSource=U.textContent||U.textContentStream);const{container:P,viewport:f}=U,p=getComputedStyle(P),i=p.getPropertyValue("visibility"),k=parseFloat(p.getPropertyValue("--scale-factor"));i==="visible"&&(!k||Math.abs(k-f.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const F=new o(U);return F._render(),F}function H({container:U,viewport:P,textDivs:f,textDivProperties:p,isOffscreenCanvasSupported:i,mustRotate:k=!0,mustRescale:F=!0}){if(k&&(0,ae.setLayerDimensions)(U,{rotation:P.rotation}),F){const _=n(0,i),Q={prevFontSize:null,prevFontFamily:null,div:null,scale:P.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_};for(const j of f)Q.properties=p.get(j),Q.div=j,e(Q)}}},(a,s,M)=>{var w,O,e,t,o,K,H,U,P,f,p,C0,k,mA,_,B0,Q,v0;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var X=M(1),ae=M(4),Te=M(28),Pe=M(33),x=M(6),ie=M(34);const re=class re{constructor({uiManager:R,pageIndex:d,div:y,accessibilityManager:W,annotationLayer:u,viewport:b,l10n:D}){At(this,p);At(this,k);At(this,_);At(this,Q);At(this,w,void 0);At(this,O,!1);At(this,e,null);At(this,t,this.pointerup.bind(this));At(this,o,this.pointerdown.bind(this));At(this,K,new Map);At(this,H,!1);At(this,U,!1);At(this,P,!1);At(this,f,void 0);const J=[Te.FreeTextEditor,Pe.InkEditor,ie.StampEditor];if(!re._initialized){re._initialized=!0;for(const N of J)N.initialize(D)}R.registerEditorTypes(J),Pt(this,f,R),this.pageIndex=d,this.div=y,Pt(this,w,W),Pt(this,e,u),this.viewport=b,Me(this,f).addLayer(this)}get isEmpty(){return Me(this,K).size===0}updateToolbar(R){Me(this,f).updateToolbar(R)}updateMode(R=Me(this,f).getMode()){ht(this,Q,v0).call(this),R===X.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),R!==X.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",R===X.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",R===X.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",R===X.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(R){if(!R&&Me(this,f).getMode()!==X.AnnotationEditorType.INK)return;if(!R){for(const y of Me(this,K).values())if(y.isEmpty()){y.setInBackground();return}}ht(this,k,mA).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(R){Me(this,f).setEditingState(R)}addCommands(R){Me(this,f).addCommands(R)}enable(){this.div.style.pointerEvents="auto";const R=new Set;for(const y of Me(this,K).values())y.enableEditing(),y.annotationElementId&&R.add(y.annotationElementId);if(!Me(this,e))return;const d=Me(this,e).getEditableAnnotations();for(const y of d){if(y.hide(),Me(this,f).isDeletedAnnotationElement(y.data.id)||R.has(y.data.id))continue;const W=this.deserialize(y);W&&(this.addOrRebuild(W),W.enableEditing())}}disable(){var d;Pt(this,P,!0),this.div.style.pointerEvents="none";const R=new Set;for(const y of Me(this,K).values()){if(y.disableEditing(),!y.annotationElementId||y.serialize()!==null){R.add(y.annotationElementId);continue}(d=this.getEditableAnnotation(y.annotationElementId))==null||d.show(),y.remove()}if(Me(this,e)){const y=Me(this,e).getEditableAnnotations();for(const W of y){const{id:u}=W.data;R.has(u)||Me(this,f).isDeletedAnnotationElement(u)||W.show()}}ht(this,Q,v0).call(this),this.isEmpty&&(this.div.hidden=!0),Pt(this,P,!1)}getEditableAnnotation(R){var d;return((d=Me(this,e))==null?void 0:d.getEditableAnnotation(R))||null}setActiveEditor(R){Me(this,f).getActive()!==R&&Me(this,f).setActiveEditor(R)}enableClick(){this.div.addEventListener("pointerdown",Me(this,o)),this.div.addEventListener("pointerup",Me(this,t))}disableClick(){this.div.removeEventListener("pointerdown",Me(this,o)),this.div.removeEventListener("pointerup",Me(this,t))}attach(R){Me(this,K).set(R.id,R);const{annotationElementId:d}=R;d&&Me(this,f).isDeletedAnnotationElement(d)&&Me(this,f).removeDeletedAnnotationElement(R)}detach(R){var d;Me(this,K).delete(R.id),(d=Me(this,w))==null||d.removePointerInTextLayer(R.contentDiv),!Me(this,P)&&R.annotationElementId&&Me(this,f).addDeletedAnnotationElement(R)}remove(R){this.detach(R),Me(this,f).removeEditor(R),R.div.contains(document.activeElement)&&setTimeout(()=>{Me(this,f).focusMainContainer()},0),R.div.remove(),R.isAttachedToDOM=!1,Me(this,U)||this.addInkEditorIfNeeded(!1)}changeParent(R){var d;R.parent!==this&&(R.annotationElementId&&(Me(this,f).addDeletedAnnotationElement(R.annotationElementId),ae.AnnotationEditor.deleteAnnotationElement(R),R.annotationElementId=null),this.attach(R),(d=R.parent)==null||d.detach(R),R.setParent(this),R.div&&R.isAttachedToDOM&&(R.div.remove(),this.div.append(R.div)))}add(R){if(this.changeParent(R),Me(this,f).addEditor(R),this.attach(R),!R.isAttachedToDOM){const d=R.render();this.div.append(d),R.isAttachedToDOM=!0}R.fixAndSetPosition(),R.onceAdded(),Me(this,f).addToAnnotationStorage(R)}moveEditorInDOM(R){var y;if(!R.isAttachedToDOM)return;const{activeElement:d}=document;R.div.contains(d)&&(R._focusEventsAllowed=!1,setTimeout(()=>{R.div.contains(document.activeElement)?R._focusEventsAllowed=!0:(R.div.addEventListener("focusin",()=>{R._focusEventsAllowed=!0},{once:!0}),d.focus())},0)),R._structTreeParentId=(y=Me(this,w))==null?void 0:y.moveElementInDOM(this.div,R.div,R.contentDiv,!0)}addOrRebuild(R){R.needsToBeRebuilt()?R.rebuild():this.add(R)}addUndoableEditor(R){const d=()=>R._uiManager.rebuild(R),y=()=>{R.remove()};this.addCommands({cmd:d,undo:y,mustExec:!1})}getNextId(){return Me(this,f).getId()}pasteEditor(R,d){Me(this,f).updateToolbar(R),Me(this,f).updateMode(R);const{offsetX:y,offsetY:W}=ht(this,_,B0).call(this),u=this.getNextId(),b=ht(this,p,C0).call(this,{parent:this,id:u,x:y,y:W,uiManager:Me(this,f),isCentered:!0,...d});b&&this.add(b)}deserialize(R){switch(R.annotationType??R.annotationEditorType){case X.AnnotationEditorType.FREETEXT:return Te.FreeTextEditor.deserialize(R,this,Me(this,f));case X.AnnotationEditorType.INK:return Pe.InkEditor.deserialize(R,this,Me(this,f));case X.AnnotationEditorType.STAMP:return ie.StampEditor.deserialize(R,this,Me(this,f))}return null}addNewEditor(){ht(this,k,mA).call(this,ht(this,_,B0).call(this),!0)}setSelected(R){Me(this,f).setSelected(R)}toggleSelected(R){Me(this,f).toggleSelected(R)}isSelected(R){return Me(this,f).isSelected(R)}unselect(R){Me(this,f).unselect(R)}pointerup(R){const{isMac:d}=X.FeatureTest.platform;if(!(R.button!==0||R.ctrlKey&&d)&&R.target===this.div&&Me(this,H)){if(Pt(this,H,!1),!Me(this,O)){Pt(this,O,!0);return}if(Me(this,f).getMode()===X.AnnotationEditorType.STAMP){Me(this,f).unselectAll();return}ht(this,k,mA).call(this,R,!1)}}pointerdown(R){if(Me(this,H)){Pt(this,H,!1);return}const{isMac:d}=X.FeatureTest.platform;if(R.button!==0||R.ctrlKey&&d||R.target!==this.div)return;Pt(this,H,!0);const y=Me(this,f).getActive();Pt(this,O,!y||y.isEmpty())}findNewParent(R,d,y){const W=Me(this,f).findParent(d,y);return W===null||W===this?!1:(W.changeParent(R),!0)}destroy(){var R,d;((R=Me(this,f).getActive())==null?void 0:R.parent)===this&&(Me(this,f).commitOrRemove(),Me(this,f).setActiveEditor(null));for(const y of Me(this,K).values())(d=Me(this,w))==null||d.removePointerInTextLayer(y.contentDiv),y.setParent(null),y.isAttachedToDOM=!1,y.div.remove();this.div=null,Me(this,K).clear(),Me(this,f).removeLayer(this)}render({viewport:R}){this.viewport=R,(0,x.setLayerDimensions)(this.div,R);for(const d of Me(this,f).getEditors(this.pageIndex))this.add(d);this.updateMode()}update({viewport:R}){Me(this,f).commitOrRemove(),this.viewport=R,(0,x.setLayerDimensions)(this.div,{rotation:R.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:R,pageHeight:d}=this.viewport.rawDims;return[R,d]}};w=new WeakMap,O=new WeakMap,e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,H=new WeakMap,U=new WeakMap,P=new WeakMap,f=new WeakMap,p=new WeakSet,C0=function(R){switch(Me(this,f).getMode()){case X.AnnotationEditorType.FREETEXT:return new Te.FreeTextEditor(R);case X.AnnotationEditorType.INK:return new Pe.InkEditor(R);case X.AnnotationEditorType.STAMP:return new ie.StampEditor(R)}return null},k=new WeakSet,mA=function(R,d){const y=this.getNextId(),W=ht(this,p,C0).call(this,{parent:this,id:y,x:R.offsetX,y:R.offsetY,uiManager:Me(this,f),isCentered:d});return W&&this.add(W),W},_=new WeakSet,B0=function(){const{x:R,y:d,width:y,height:W}=this.div.getBoundingClientRect(),u=Math.max(0,R),b=Math.max(0,d),D=Math.min(window.innerWidth,R+y),J=Math.min(window.innerHeight,d+W),N=(u+D)/2-R,v=(b+J)/2-d,[S,I]=this.viewport.rotation%180===0?[N,v]:[v,N];return{offsetX:S,offsetY:I}},Q=new WeakSet,v0=function(){Pt(this,U,!0);for(const R of Me(this,K).values())R.isEmpty()&&R.remove();Pt(this,U,!1)},yr(re,"_initialized",!1);let n=re;s.AnnotationEditorLayer=n},(a,s,M)=>{var ie,n,w,O,e,t,o,K,H,U,Oh,f,Mh,i,Uh,F,vo,C,S0,j,Dh,T,F0;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var X=M(1),ae=M(5),Te=M(4),Pe=M(29);const d=class d extends Te.AnnotationEditor{constructor(u){super({...u,name:"freeTextEditor"});At(this,U);At(this,f);At(this,i);At(this,F);At(this,C);At(this,j);At(this,T);At(this,ie,this.editorDivBlur.bind(this));At(this,n,this.editorDivFocus.bind(this));At(this,w,this.editorDivInput.bind(this));At(this,O,this.editorDivKeydown.bind(this));At(this,e,void 0);At(this,t,"");At(this,o,`${this.id}-editor`);At(this,K,void 0);At(this,H,null);Pt(this,e,u.color||d._defaultColor||Te.AnnotationEditor._defaultLineColor),Pt(this,K,u.fontSize||d._defaultFontSize)}static get _keyboardManager(){const u=d.prototype,b=N=>N.isEmpty(),D=ae.AnnotationEditorUIManager.TRANSLATE_SMALL,J=ae.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,X.shadow)(this,"_keyboardManager",new ae.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],u.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],u.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],u._translateEmpty,{args:[-D,0],checker:b}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],u._translateEmpty,{args:[-J,0],checker:b}],[["ArrowRight","mac+ArrowRight"],u._translateEmpty,{args:[D,0],checker:b}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],u._translateEmpty,{args:[J,0],checker:b}],[["ArrowUp","mac+ArrowUp"],u._translateEmpty,{args:[0,-D],checker:b}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],u._translateEmpty,{args:[0,-J],checker:b}],[["ArrowDown","mac+ArrowDown"],u._translateEmpty,{args:[0,D],checker:b}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],u._translateEmpty,{args:[0,J],checker:b}]]))}static initialize(u){Te.AnnotationEditor.initialize(u,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const b=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(b.getPropertyValue("--freetext-padding"))}static updateDefaultParams(u,b){switch(u){case X.AnnotationEditorParamsType.FREETEXT_SIZE:d._defaultFontSize=b;break;case X.AnnotationEditorParamsType.FREETEXT_COLOR:d._defaultColor=b;break}}updateParams(u,b){switch(u){case X.AnnotationEditorParamsType.FREETEXT_SIZE:ht(this,U,Oh).call(this,b);break;case X.AnnotationEditorParamsType.FREETEXT_COLOR:ht(this,f,Mh).call(this,b);break}}static get defaultPropertiesToUpdate(){return[[X.AnnotationEditorParamsType.FREETEXT_SIZE,d._defaultFontSize],[X.AnnotationEditorParamsType.FREETEXT_COLOR,d._defaultColor||Te.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[X.AnnotationEditorParamsType.FREETEXT_SIZE,Me(this,K)],[X.AnnotationEditorParamsType.FREETEXT_COLOR,Me(this,e)]]}_translateEmpty(u,b){this._uiManager.translateSelectedEditors(u,b,!0)}getInitialTranslation(){const u=this.parentScale;return[-d._internalPadding*u,-(d._internalPadding+Me(this,K))*u]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(X.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Me(this,O)),this.editorDiv.addEventListener("focus",Me(this,n)),this.editorDiv.addEventListener("blur",Me(this,ie)),this.editorDiv.addEventListener("input",Me(this,w)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Me(this,o)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Me(this,O)),this.editorDiv.removeEventListener("focus",Me(this,n)),this.editorDiv.removeEventListener("blur",Me(this,ie)),this.editorDiv.removeEventListener("input",Me(this,w)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(u){this._focusEventsAllowed&&(super.focusin(u),u.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var u;if(this.width){ht(this,T,F0).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(u=this._initialOptions)!=null&&u.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const u=Me(this,t),b=Pt(this,t,ht(this,i,Uh).call(this).trimEnd());if(u===b)return;const D=J=>{if(Pt(this,t,J),!J){this.remove();return}ht(this,C,S0).call(this),this._uiManager.rebuild(this),ht(this,F,vo).call(this)};this.addCommands({cmd:()=>{D(b)},undo:()=>{D(u)},mustExec:!1}),ht(this,F,vo).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(u){this.enterInEditMode()}keydown(u){u.target===this.div&&u.key==="Enter"&&(this.enterInEditMode(),u.preventDefault())}editorDivKeydown(u){d._keyboardManager.exec(this,u)}editorDivFocus(u){this.isEditing=!0}editorDivBlur(u){this.isEditing=!1}editorDivInput(u){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let u,b;this.width&&(u=this.x,b=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Me(this,o)),this.enableEditing(),Te.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(J=>{var N;return(N=this.editorDiv)==null?void 0:N.setAttribute("aria-label",J)}),Te.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(J=>{var N;return(N=this.editorDiv)==null?void 0:N.setAttribute("default-content",J)}),this.editorDiv.contentEditable=!0;const{style:D}=this.editorDiv;if(D.fontSize=`calc(${Me(this,K)}px * var(--scale-factor))`,D.color=Me(this,e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,ae.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[J,N]=this.parentDimensions;if(this.annotationElementId){const{position:v}=Me(this,H);let[S,I]=this.getInitialTranslation();[S,I]=this.pageTranslationToScreen(S,I);const[h,B]=this.pageDimensions,[r,A]=this.pageTranslation;let E,G;switch(this.rotation){case 0:E=u+(v[0]-r)/h,G=b+this.height-(v[1]-A)/B;break;case 90:E=u+(v[0]-r)/h,G=b-(v[1]-A)/B,[S,I]=[I,-S];break;case 180:E=u-this.width+(v[0]-r)/h,G=b-(v[1]-A)/B,[S,I]=[-S,-I];break;case 270:E=u+(v[0]-r-this.height*B)/h,G=b+(v[1]-A-this.width*h)/B,[S,I]=[-I,S];break}this.setAt(E*J,G*N,S,I)}else this.setAt(u*J,b*N,this.width*J,this.height*N);ht(this,C,S0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(u,b,D){let J=null;if(u instanceof Pe.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:v,fontColor:S},rect:I,rotation:h,id:B},textContent:r,textPosition:A,parent:{page:{pageNumber:E}}}=u;if(!r||r.length===0)return null;J=u={annotationType:X.AnnotationEditorType.FREETEXT,color:Array.from(S),fontSize:v,value:r.join(`
`),position:A,pageIndex:E-1,rect:I,rotation:h,id:B,deleted:!1}}const N=super.deserialize(u,b,D);return Pt(N,K,u.fontSize),Pt(N,e,X.Util.makeHexColor(...u.color)),Pt(N,t,u.value),N.annotationElementId=u.id||null,Pt(N,H,J),N}serialize(u=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const b=d._internalPadding*this.parentScale,D=this.getRect(b,b),J=Te.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Me(this,e)),N={annotationType:X.AnnotationEditorType.FREETEXT,color:J,fontSize:Me(this,K),value:Me(this,t),pageIndex:this.pageIndex,rect:D,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return u?N:this.annotationElementId&&!ht(this,j,Dh).call(this,N)?null:(N.id=this.annotationElementId,N)}};ie=new WeakMap,n=new WeakMap,w=new WeakMap,O=new WeakMap,e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,H=new WeakMap,U=new WeakSet,Oh=function(u){const b=J=>{this.editorDiv.style.fontSize=`calc(${J}px * var(--scale-factor))`,this.translate(0,-(J-Me(this,K))*this.parentScale),Pt(this,K,J),ht(this,F,vo).call(this)},D=Me(this,K);this.addCommands({cmd:()=>{b(u)},undo:()=>{b(D)},mustExec:!0,type:X.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},f=new WeakSet,Mh=function(u){const b=Me(this,e);this.addCommands({cmd:()=>{Pt(this,e,this.editorDiv.style.color=u)},undo:()=>{Pt(this,e,this.editorDiv.style.color=b)},mustExec:!0,type:X.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},i=new WeakSet,Uh=function(){const u=this.editorDiv.getElementsByTagName("div");if(u.length===0)return this.editorDiv.innerText;const b=[];for(const D of u)b.push(D.innerText.replace(/\r\n?|\n/,""));return b.join(`
`)},F=new WeakSet,vo=function(){const[u,b]=this.parentDimensions;let D;if(this.isAttachedToDOM)D=this.div.getBoundingClientRect();else{const{currentLayer:J,div:N}=this,v=N.style.display;N.style.display="hidden",J.div.append(this.div),D=N.getBoundingClientRect(),N.remove(),N.style.display=v}this.rotation%180===this.parentRotation%180?(this.width=D.width/u,this.height=D.height/b):(this.width=D.height/u,this.height=D.width/b),this.fixAndSetPosition()},C=new WeakSet,S0=function(){if(this.editorDiv.replaceChildren(),!!Me(this,t))for(const u of Me(this,t).split(`
`)){const b=document.createElement("div");b.append(u?document.createTextNode(u):document.createElement("br")),this.editorDiv.append(b)}},j=new WeakSet,Dh=function(u){const{value:b,fontSize:D,color:J,rect:N,pageIndex:v}=Me(this,H);return u.value!==b||u.fontSize!==D||u.rect.some((S,I)=>Math.abs(S-N[I])>=1)||u.color.some((S,I)=>S!==J[I])||u.pageIndex!==v},T=new WeakSet,F0=function(u=!1){if(!this.annotationElementId)return;if(ht(this,F,vo).call(this),!u&&(this.width===0||this.height===0)){setTimeout(()=>ht(this,T,F0).call(this,!0),0);return}const b=d._internalPadding*this.parentScale;Me(this,H).rect=this.getRect(b,b)},yr(d,"_freeTextDefaultContent",""),yr(d,"_internalPadding",0),yr(d,"_defaultColor",null),yr(d,"_defaultFontSize",10),yr(d,"_type","freetext");let x=d;s.FreeTextEditor=x},(a,s,M)=>{var I,B,ea,A,Lh,G,se,Ae,ke,de,Ie,ge,Be,ee,te,fe,ue,le,be,Ce,ce,Ee,ve,Rh,Fe,wA,Ne,E0,tt,k0,$e,He,Ve,st,pt,at,Re,I0,gt,rt,Bt,St,Nh,dt,T0;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var X=M(1),ae=M(6),Te=M(3),Pe=M(30),x=M(31),ie=M(32);const n=1e3,w=9,O=new WeakSet;function e(Gt){return{width:Gt[2]-Gt[0],height:Gt[3]-Gt[1]}}class t{static create(Ke){switch(Ke.data.annotationType){case X.AnnotationType.LINK:return new K(Ke);case X.AnnotationType.TEXT:return new H(Ke);case X.AnnotationType.WIDGET:switch(Ke.data.fieldType){case"Tx":return new P(Ke);case"Btn":return Ke.data.radioButton?new i(Ke):Ke.data.checkBox?new p(Ke):new k(Ke);case"Ch":return new F(Ke);case"Sig":return new f(Ke)}return new U(Ke);case X.AnnotationType.POPUP:return new _(Ke);case X.AnnotationType.FREETEXT:return new Q(Ke);case X.AnnotationType.LINE:return new j(Ke);case X.AnnotationType.SQUARE:return new re(Ke);case X.AnnotationType.CIRCLE:return new T(Ke);case X.AnnotationType.POLYLINE:return new R(Ke);case X.AnnotationType.CARET:return new y(Ke);case X.AnnotationType.INK:return new W(Ke);case X.AnnotationType.POLYGON:return new d(Ke);case X.AnnotationType.HIGHLIGHT:return new u(Ke);case X.AnnotationType.UNDERLINE:return new b(Ke);case X.AnnotationType.SQUIGGLY:return new D(Ke);case X.AnnotationType.STRIKEOUT:return new J(Ke);case X.AnnotationType.STAMP:return new N(Ke);case X.AnnotationType.FILEATTACHMENT:return new v(Ke);default:return new o(Ke)}}}const h=class h{constructor(Ke,{isRenderable:Ue=!1,ignoreBorder:ze=!1,createQuadrilaterals:qe=!1}={}){At(this,I,!1);this.isRenderable=Ue,this.data=Ke.data,this.layer=Ke.layer,this.linkService=Ke.linkService,this.downloadManager=Ke.downloadManager,this.imageResourcesPath=Ke.imageResourcesPath,this.renderForms=Ke.renderForms,this.svgFactory=Ke.svgFactory,this.annotationStorage=Ke.annotationStorage,this.enableScripting=Ke.enableScripting,this.hasJSActions=Ke.hasJSActions,this._fieldObjects=Ke.fieldObjects,this.parent=Ke.parent,Ue&&(this.container=this._createContainer(ze)),qe&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ke,contentsObj:Ue,richText:ze}){return!!(Ke!=null&&Ke.str||Ue!=null&&Ue.str||ze!=null&&ze.str)}get hasPopupData(){return h._hasPopupData(this.data)}_createContainer(Ke){const{data:Ue,parent:{page:ze,viewport:qe}}=this,ct=document.createElement("section");ct.setAttribute("data-annotation-id",Ue.id),this instanceof U||(ct.tabIndex=n),ct.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ct.setAttribute("aria-haspopup","dialog"),Ue.noRotate&&ct.classList.add("norotate");const{pageWidth:ft,pageHeight:mt,pageX:$t,pageY:Mt}=qe.rawDims;if(!Ue.rect||this instanceof _){const{rotation:zn}=Ue;return!Ue.hasOwnCanvas&&zn!==0&&this.setRotation(zn,ct),ct}const{width:Dt,height:Xt}=e(Ue.rect),Vt=X.Util.normalizeRect([Ue.rect[0],ze.view[3]-Ue.rect[1]+ze.view[1],Ue.rect[2],ze.view[3]-Ue.rect[3]+ze.view[1]]);if(!Ke&&Ue.borderStyle.width>0){ct.style.borderWidth=`${Ue.borderStyle.width}px`;const zn=Ue.borderStyle.horizontalCornerRadius,tn=Ue.borderStyle.verticalCornerRadius;if(zn>0||tn>0){const fr=`calc(${zn}px * var(--scale-factor)) / calc(${tn}px * var(--scale-factor))`;ct.style.borderRadius=fr}else if(this instanceof i){const fr=`calc(${Dt}px * var(--scale-factor)) / calc(${Xt}px * var(--scale-factor))`;ct.style.borderRadius=fr}switch(Ue.borderStyle.style){case X.AnnotationBorderStyleType.SOLID:ct.style.borderStyle="solid";break;case X.AnnotationBorderStyleType.DASHED:ct.style.borderStyle="dashed";break;case X.AnnotationBorderStyleType.BEVELED:(0,X.warn)("Unimplemented border style: beveled");break;case X.AnnotationBorderStyleType.INSET:(0,X.warn)("Unimplemented border style: inset");break;case X.AnnotationBorderStyleType.UNDERLINE:ct.style.borderBottomStyle="solid";break}const Gi=Ue.borderColor||null;Gi?(Pt(this,I,!0),ct.style.borderColor=X.Util.makeHexColor(Gi[0]|0,Gi[1]|0,Gi[2]|0)):ct.style.borderWidth=0}ct.style.left=`${100*(Vt[0]-$t)/ft}%`,ct.style.top=`${100*(Vt[1]-Mt)/mt}%`;const{rotation:Jt}=Ue;return Ue.hasOwnCanvas||Jt===0?(ct.style.width=`${100*Dt/ft}%`,ct.style.height=`${100*Xt/mt}%`):this.setRotation(Jt,ct),ct}setRotation(Ke,Ue=this.container){if(!this.data.rect)return;const{pageWidth:ze,pageHeight:qe}=this.parent.viewport.rawDims,{width:ct,height:ft}=e(this.data.rect);let mt,$t;Ke%180===0?(mt=100*ct/ze,$t=100*ft/qe):(mt=100*ft/ze,$t=100*ct/qe),Ue.style.width=`${mt}%`,Ue.style.height=`${$t}%`,Ue.setAttribute("data-main-rotation",(360-Ke)%360)}get _commonActions(){const Ke=(Ue,ze,qe)=>{const ct=qe.detail[Ue],ft=ct[0],mt=ct.slice(1);qe.target.style[ze]=Pe.ColorConverters[`${ft}_HTML`](mt),this.annotationStorage.setValue(this.data.id,{[ze]:Pe.ColorConverters[`${ft}_rgb`](mt)})};return(0,X.shadow)(this,"_commonActions",{display:Ue=>{const{display:ze}=Ue.detail,qe=ze%2===1;this.container.style.visibility=qe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:qe,noPrint:ze===1||ze===2})},print:Ue=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Ue.detail.print})},hidden:Ue=>{const{hidden:ze}=Ue.detail;this.container.style.visibility=ze?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ze,noView:ze})},focus:Ue=>{setTimeout(()=>Ue.target.focus({preventScroll:!1}),0)},userName:Ue=>{Ue.target.title=Ue.detail.userName},readonly:Ue=>{Ue.target.disabled=Ue.detail.readonly},required:Ue=>{this._setRequired(Ue.target,Ue.detail.required)},bgColor:Ue=>{Ke("bgColor","backgroundColor",Ue)},fillColor:Ue=>{Ke("fillColor","backgroundColor",Ue)},fgColor:Ue=>{Ke("fgColor","color",Ue)},textColor:Ue=>{Ke("textColor","color",Ue)},borderColor:Ue=>{Ke("borderColor","borderColor",Ue)},strokeColor:Ue=>{Ke("strokeColor","borderColor",Ue)},rotation:Ue=>{const ze=Ue.detail.rotation;this.setRotation(ze),this.annotationStorage.setValue(this.data.id,{rotation:ze})}})}_dispatchEventFromSandbox(Ke,Ue){const ze=this._commonActions;for(const qe of Object.keys(Ue.detail)){const ct=Ke[qe]||ze[qe];ct==null||ct(Ue)}}_setDefaultPropertiesFromJS(Ke){if(!this.enableScripting)return;const Ue=this.annotationStorage.getRawValue(this.data.id);if(!Ue)return;const ze=this._commonActions;for(const[qe,ct]of Object.entries(Ue)){const ft=ze[qe];if(ft){const mt={detail:{[qe]:ct},target:Ke};ft(mt),delete Ue[qe]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ke}=this.data;if(!Ke)return;const[Ue,ze,qe,ct]=this.data.rect;if(Ke.length===1){const[,{x:tn,y:Gi},{x:fr,y:Lt}]=Ke[0];if(qe===tn&&ct===Gi&&Ue===fr&&ze===Lt)return}const{style:ft}=this.container;let mt;if(Me(this,I)){const{borderColor:tn,borderWidth:Gi}=ft;ft.borderWidth=0,mt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${tn}" stroke-width="${Gi}">`],this.container.classList.add("hasBorder")}const $t=qe-Ue,Mt=ct-ze,{svgFactory:Dt}=this,Xt=Dt.createElement("svg");Xt.classList.add("quadrilateralsContainer"),Xt.setAttribute("width",0),Xt.setAttribute("height",0);const Vt=Dt.createElement("defs");Xt.append(Vt);const Jt=Dt.createElement("clipPath"),zn=`clippath_${this.data.id}`;Jt.setAttribute("id",zn),Jt.setAttribute("clipPathUnits","objectBoundingBox"),Vt.append(Jt);for(const[,{x:tn,y:Gi},{x:fr,y:Lt}]of Ke){const Ot=Dt.createElement("rect"),jt=(fr-Ue)/$t,Wt=(ct-Gi)/Mt,bn=(tn-fr)/$t,Ni=(Gi-Lt)/Mt;Ot.setAttribute("x",jt),Ot.setAttribute("y",Wt),Ot.setAttribute("width",bn),Ot.setAttribute("height",Ni),Jt.append(Ot),mt==null||mt.push(`<rect vector-effect="non-scaling-stroke" x="${jt}" y="${Wt}" width="${bn}" height="${Ni}"/>`)}Me(this,I)&&(mt.push("</g></svg>')"),ft.backgroundImage=mt.join("")),this.container.append(Xt),this.container.style.clipPath=`url(#${zn})`}_createPopup(){const{container:Ke,data:Ue}=this;Ke.setAttribute("aria-haspopup","dialog");const ze=new _({data:{color:Ue.color,titleObj:Ue.titleObj,modificationDate:Ue.modificationDate,contentsObj:Ue.contentsObj,richText:Ue.richText,parentRect:Ue.rect,borderStyle:0,id:`popup_${Ue.id}`,rotation:Ue.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ze.render())}render(){(0,X.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ke,Ue=null){const ze=[];if(this._fieldObjects){const qe=this._fieldObjects[Ke];if(qe)for(const{page:ct,id:ft,exportValues:mt}of qe){if(ct===-1||ft===Ue)continue;const $t=typeof mt=="string"?mt:null,Mt=document.querySelector(`[data-element-id="${ft}"]`);if(Mt&&!O.has(Mt)){(0,X.warn)(`_getElementsByName - element not allowed: ${ft}`);continue}ze.push({id:ft,exportValue:$t,domElement:Mt})}return ze}for(const qe of document.getElementsByName(Ke)){const{exportValue:ct}=qe,ft=qe.getAttribute("data-element-id");ft!==Ue&&O.has(qe)&&ze.push({id:ft,exportValue:ct,domElement:qe})}return ze}show(){var Ke;this.container&&(this.container.hidden=!1),(Ke=this.popup)==null||Ke.maybeShow()}hide(){var Ke;this.container&&(this.container.hidden=!0),(Ke=this.popup)==null||Ke.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ke=this.getElementsToTriggerPopup();if(Array.isArray(Ke))for(const Ue of Ke)Ue.classList.add("highlightArea");else Ke.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ke,data:{id:Ue}}=this;this.container.addEventListener("dblclick",()=>{var ze;(ze=this.linkService.eventBus)==null||ze.dispatch("switchannotationeditormode",{source:this,mode:Ke,editId:Ue})})}};I=new WeakMap;let o=h;class K extends o{constructor(Ue,ze=null){super(Ue,{isRenderable:!0,ignoreBorder:!!(ze!=null&&ze.ignoreBorder),createQuadrilaterals:!0});At(this,B);At(this,A);this.isTooltipOnly=Ue.data.isTooltipOnly}render(){const{data:Ue,linkService:ze}=this,qe=document.createElement("a");qe.setAttribute("data-element-id",Ue.id);let ct=!1;return Ue.url?(ze.addLinkAttributes(qe,Ue.url,Ue.newWindow),ct=!0):Ue.action?(this._bindNamedAction(qe,Ue.action),ct=!0):Ue.attachment?(this._bindAttachment(qe,Ue.attachment),ct=!0):Ue.setOCGState?(ht(this,A,Lh).call(this,qe,Ue.setOCGState),ct=!0):Ue.dest?(this._bindLink(qe,Ue.dest),ct=!0):(Ue.actions&&(Ue.actions.Action||Ue.actions["Mouse Up"]||Ue.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(qe,Ue),ct=!0),Ue.resetForm?(this._bindResetFormAction(qe,Ue.resetForm),ct=!0):this.isTooltipOnly&&!ct&&(this._bindLink(qe,""),ct=!0)),this.container.classList.add("linkAnnotation"),ct&&this.container.append(qe),this.container}_bindLink(Ue,ze){Ue.href=this.linkService.getDestinationHash(ze),Ue.onclick=()=>(ze&&this.linkService.goToDestination(ze),!1),(ze||ze==="")&&ht(this,B,ea).call(this)}_bindNamedAction(Ue,ze){Ue.href=this.linkService.getAnchorUrl(""),Ue.onclick=()=>(this.linkService.executeNamedAction(ze),!1),ht(this,B,ea).call(this)}_bindAttachment(Ue,ze){Ue.href=this.linkService.getAnchorUrl(""),Ue.onclick=()=>{var qe;return(qe=this.downloadManager)==null||qe.openOrDownloadData(this.container,ze.content,ze.filename),!1},ht(this,B,ea).call(this)}_bindJSAction(Ue,ze){Ue.href=this.linkService.getAnchorUrl("");const qe=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ct of Object.keys(ze.actions)){const ft=qe.get(ct);ft&&(Ue[ft]=()=>{var mt;return(mt=this.linkService.eventBus)==null||mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ze.id,name:ct}}),!1})}Ue.onclick||(Ue.onclick=()=>!1),ht(this,B,ea).call(this)}_bindResetFormAction(Ue,ze){const qe=Ue.onclick;if(qe||(Ue.href=this.linkService.getAnchorUrl("")),ht(this,B,ea).call(this),!this._fieldObjects){(0,X.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),qe||(Ue.onclick=()=>!1);return}Ue.onclick=()=>{var Xt;qe==null||qe();const{fields:ct,refs:ft,include:mt}=ze,$t=[];if(ct.length!==0||ft.length!==0){const Vt=new Set(ft);for(const Jt of ct){const zn=this._fieldObjects[Jt]||[];for(const{id:tn}of zn)Vt.add(tn)}for(const Jt of Object.values(this._fieldObjects))for(const zn of Jt)Vt.has(zn.id)===mt&&$t.push(zn)}else for(const Vt of Object.values(this._fieldObjects))$t.push(...Vt);const Mt=this.annotationStorage,Dt=[];for(const Vt of $t){const{id:Jt}=Vt;switch(Dt.push(Jt),Vt.type){case"text":{const tn=Vt.defaultValue||"";Mt.setValue(Jt,{value:tn});break}case"checkbox":case"radiobutton":{const tn=Vt.defaultValue===Vt.exportValues;Mt.setValue(Jt,{value:tn});break}case"combobox":case"listbox":{const tn=Vt.defaultValue||"";Mt.setValue(Jt,{value:tn});break}default:continue}const zn=document.querySelector(`[data-element-id="${Jt}"]`);if(zn){if(!O.has(zn)){(0,X.warn)(`_bindResetFormAction - element not allowed: ${Jt}`);continue}}else continue;zn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Xt=this.linkService.eventBus)==null||Xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Dt,name:"ResetForm"}})),!1}}}B=new WeakSet,ea=function(){this.container.setAttribute("data-internal-link","")},A=new WeakSet,Lh=function(Ue,ze){Ue.href=this.linkService.getAnchorUrl(""),Ue.onclick=()=>(this.linkService.executeSetOCGState(ze),!1),ht(this,B,ea).call(this)};class H extends o{constructor(Ke){super(Ke,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ke=document.createElement("img");return Ke.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ke.alt="[{{type}} Annotation]",Ke.dataset.l10nId="text_annotation_type",Ke.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ke),this.container}}class U extends o{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ke){var Ue;this.data.hasOwnCanvas&&(((Ue=Ke.previousSibling)==null?void 0:Ue.nodeName)==="CANVAS"&&(Ke.previousSibling.hidden=!0),Ke.hidden=!1)}_getKeyModifier(Ke){const{isWin:Ue,isMac:ze}=X.FeatureTest.platform;return Ue&&Ke.ctrlKey||ze&&Ke.metaKey}_setEventListener(Ke,Ue,ze,qe,ct){ze.includes("mouse")?Ke.addEventListener(ze,ft=>{var mt;(mt=this.linkService.eventBus)==null||mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:qe,value:ct(ft),shift:ft.shiftKey,modifier:this._getKeyModifier(ft)}})}):Ke.addEventListener(ze,ft=>{var mt;if(ze==="blur"){if(!Ue.focused||!ft.relatedTarget)return;Ue.focused=!1}else if(ze==="focus"){if(Ue.focused)return;Ue.focused=!0}ct&&((mt=this.linkService.eventBus)==null||mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:qe,value:ct(ft)}}))})}_setEventListeners(Ke,Ue,ze,qe){var ct,ft,mt;for(const[$t,Mt]of ze)(Mt==="Action"||(ct=this.data.actions)!=null&&ct[Mt])&&((Mt==="Focus"||Mt==="Blur")&&(Ue||(Ue={focused:!1})),this._setEventListener(Ke,Ue,$t,Mt,qe),Mt==="Focus"&&!((ft=this.data.actions)!=null&&ft.Blur)?this._setEventListener(Ke,Ue,"blur","Blur",null):Mt==="Blur"&&!((mt=this.data.actions)!=null&&mt.Focus)&&this._setEventListener(Ke,Ue,"focus","Focus",null))}_setBackgroundColor(Ke){const Ue=this.data.backgroundColor||null;Ke.style.backgroundColor=Ue===null?"transparent":X.Util.makeHexColor(Ue[0],Ue[1],Ue[2])}_setTextStyle(Ke){const Ue=["left","center","right"],{fontColor:ze}=this.data.defaultAppearanceData,qe=this.data.defaultAppearanceData.fontSize||w,ct=Ke.style;let ft;const mt=2,$t=Mt=>Math.round(10*Mt)/10;if(this.data.multiLine){const Mt=Math.abs(this.data.rect[3]-this.data.rect[1]-mt),Dt=Math.round(Mt/(X.LINE_FACTOR*qe))||1,Xt=Mt/Dt;ft=Math.min(qe,$t(Xt/X.LINE_FACTOR))}else{const Mt=Math.abs(this.data.rect[3]-this.data.rect[1]-mt);ft=Math.min(qe,$t(Mt/X.LINE_FACTOR))}ct.fontSize=`calc(${ft}px * var(--scale-factor))`,ct.color=X.Util.makeHexColor(ze[0],ze[1],ze[2]),this.data.textAlignment!==null&&(ct.textAlign=Ue[this.data.textAlignment])}_setRequired(Ke,Ue){Ue?Ke.setAttribute("required",!0):Ke.removeAttribute("required"),Ke.setAttribute("aria-required",Ue)}}class P extends U{constructor(Ke){const Ue=Ke.renderForms||!Ke.data.hasAppearance&&!!Ke.data.fieldValue;super(Ke,{isRenderable:Ue})}setPropertyOnSiblings(Ke,Ue,ze,qe){const ct=this.annotationStorage;for(const ft of this._getElementsByName(Ke.name,Ke.id))ft.domElement&&(ft.domElement[Ue]=ze),ct.setValue(ft.id,{[qe]:ze})}render(){var qe,ct;const Ke=this.annotationStorage,Ue=this.data.id;this.container.classList.add("textWidgetAnnotation");let ze=null;if(this.renderForms){const ft=Ke.getValue(Ue,{value:this.data.fieldValue});let mt=ft.value||"";const $t=Ke.getValue(Ue,{charLimit:this.data.maxLen}).charLimit;$t&&mt.length>$t&&(mt=mt.slice(0,$t));let Mt=ft.formattedValue||((qe=this.data.textContent)==null?void 0:qe.join(`
`))||null;Mt&&this.data.comb&&(Mt=Mt.replaceAll(/\s+/g,""));const Dt={userValue:mt,formattedValue:Mt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(ze=document.createElement("textarea"),ze.textContent=Mt??mt,this.data.doNotScroll&&(ze.style.overflowY="hidden")):(ze=document.createElement("input"),ze.type="text",ze.setAttribute("value",Mt??mt),this.data.doNotScroll&&(ze.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ze.hidden=!0),O.add(ze),ze.setAttribute("data-element-id",Ue),ze.disabled=this.data.readOnly,ze.name=this.data.fieldName,ze.tabIndex=n,this._setRequired(ze,this.data.required),$t&&(ze.maxLength=$t),ze.addEventListener("input",Vt=>{Ke.setValue(Ue,{value:Vt.target.value}),this.setPropertyOnSiblings(ze,"value",Vt.target.value,"value"),Dt.formattedValue=null}),ze.addEventListener("resetform",Vt=>{const Jt=this.data.defaultFieldValue??"";ze.value=Dt.userValue=Jt,Dt.formattedValue=null});let Xt=Vt=>{const{formattedValue:Jt}=Dt;Jt!=null&&(Vt.target.value=Jt),Vt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ze.addEventListener("focus",Jt=>{if(Dt.focused)return;const{target:zn}=Jt;Dt.userValue&&(zn.value=Dt.userValue),Dt.lastCommittedValue=zn.value,Dt.commitKey=1,Dt.focused=!0}),ze.addEventListener("updatefromsandbox",Jt=>{this.showElementAndHideCanvas(Jt.target);const zn={value(tn){Dt.userValue=tn.detail.value??"",Ke.setValue(Ue,{value:Dt.userValue.toString()}),tn.target.value=Dt.userValue},formattedValue(tn){const{formattedValue:Gi}=tn.detail;Dt.formattedValue=Gi,Gi!=null&&tn.target!==document.activeElement&&(tn.target.value=Gi),Ke.setValue(Ue,{formattedValue:Gi})},selRange(tn){tn.target.setSelectionRange(...tn.detail.selRange)},charLimit:tn=>{var Ot;const{charLimit:Gi}=tn.detail,{target:fr}=tn;if(Gi===0){fr.removeAttribute("maxLength");return}fr.setAttribute("maxLength",Gi);let Lt=Dt.userValue;!Lt||Lt.length<=Gi||(Lt=Lt.slice(0,Gi),fr.value=Dt.userValue=Lt,Ke.setValue(Ue,{value:Lt}),(Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ue,name:"Keystroke",value:Lt,willCommit:!0,commitKey:1,selStart:fr.selectionStart,selEnd:fr.selectionEnd}}))}};this._dispatchEventFromSandbox(zn,Jt)}),ze.addEventListener("keydown",Jt=>{var Gi;Dt.commitKey=1;let zn=-1;if(Jt.key==="Escape"?zn=0:Jt.key==="Enter"&&!this.data.multiLine?zn=2:Jt.key==="Tab"&&(Dt.commitKey=3),zn===-1)return;const{value:tn}=Jt.target;Dt.lastCommittedValue!==tn&&(Dt.lastCommittedValue=tn,Dt.userValue=tn,(Gi=this.linkService.eventBus)==null||Gi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ue,name:"Keystroke",value:tn,willCommit:!0,commitKey:zn,selStart:Jt.target.selectionStart,selEnd:Jt.target.selectionEnd}}))});const Vt=Xt;Xt=null,ze.addEventListener("blur",Jt=>{var tn;if(!Dt.focused||!Jt.relatedTarget)return;Dt.focused=!1;const{value:zn}=Jt.target;Dt.userValue=zn,Dt.lastCommittedValue!==zn&&((tn=this.linkService.eventBus)==null||tn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ue,name:"Keystroke",value:zn,willCommit:!0,commitKey:Dt.commitKey,selStart:Jt.target.selectionStart,selEnd:Jt.target.selectionEnd}})),Vt(Jt)}),(ct=this.data.actions)!=null&&ct.Keystroke&&ze.addEventListener("beforeinput",Jt=>{var Wt;Dt.lastCommittedValue=null;const{data:zn,target:tn}=Jt,{value:Gi,selectionStart:fr,selectionEnd:Lt}=tn;let Ot=fr,jt=Lt;switch(Jt.inputType){case"deleteWordBackward":{const bn=Gi.substring(0,fr).match(/\w*[^\w]*$/);bn&&(Ot-=bn[0].length);break}case"deleteWordForward":{const bn=Gi.substring(fr).match(/^[^\w]*\w*/);bn&&(jt+=bn[0].length);break}case"deleteContentBackward":fr===Lt&&(Ot-=1);break;case"deleteContentForward":fr===Lt&&(jt+=1);break}Jt.preventDefault(),(Wt=this.linkService.eventBus)==null||Wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ue,name:"Keystroke",value:Gi,change:zn||"",willCommit:!1,selStart:Ot,selEnd:jt}})}),this._setEventListeners(ze,Dt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Jt=>Jt.target.value)}if(Xt&&ze.addEventListener("blur",Xt),this.data.comb){const Jt=(this.data.rect[2]-this.data.rect[0])/$t;ze.classList.add("comb"),ze.style.letterSpacing=`calc(${Jt}px * var(--scale-factor) - 1ch)`}}else ze=document.createElement("div"),ze.textContent=this.data.fieldValue,ze.style.verticalAlign="middle",ze.style.display="table-cell";return this._setTextStyle(ze),this._setBackgroundColor(ze),this._setDefaultPropertiesFromJS(ze),this.container.append(ze),this.container}}class f extends U{constructor(Ke){super(Ke,{isRenderable:!!Ke.data.hasOwnCanvas})}}class p extends U{constructor(Ke){super(Ke,{isRenderable:Ke.renderForms})}render(){const Ke=this.annotationStorage,Ue=this.data,ze=Ue.id;let qe=Ke.getValue(ze,{value:Ue.exportValue===Ue.fieldValue}).value;typeof qe=="string"&&(qe=qe!=="Off",Ke.setValue(ze,{value:qe})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ct=document.createElement("input");return O.add(ct),ct.setAttribute("data-element-id",ze),ct.disabled=Ue.readOnly,this._setRequired(ct,this.data.required),ct.type="checkbox",ct.name=Ue.fieldName,qe&&ct.setAttribute("checked",!0),ct.setAttribute("exportValue",Ue.exportValue),ct.tabIndex=n,ct.addEventListener("change",ft=>{const{name:mt,checked:$t}=ft.target;for(const Mt of this._getElementsByName(mt,ze)){const Dt=$t&&Mt.exportValue===Ue.exportValue;Mt.domElement&&(Mt.domElement.checked=Dt),Ke.setValue(Mt.id,{value:Dt})}Ke.setValue(ze,{value:$t})}),ct.addEventListener("resetform",ft=>{const mt=Ue.defaultFieldValue||"Off";ft.target.checked=mt===Ue.exportValue}),this.enableScripting&&this.hasJSActions&&(ct.addEventListener("updatefromsandbox",ft=>{const mt={value($t){$t.target.checked=$t.detail.value!=="Off",Ke.setValue(ze,{value:$t.target.checked})}};this._dispatchEventFromSandbox(mt,ft)}),this._setEventListeners(ct,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ft=>ft.target.checked)),this._setBackgroundColor(ct),this._setDefaultPropertiesFromJS(ct),this.container.append(ct),this.container}}class i extends U{constructor(Ke){super(Ke,{isRenderable:Ke.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ke=this.annotationStorage,Ue=this.data,ze=Ue.id;let qe=Ke.getValue(ze,{value:Ue.fieldValue===Ue.buttonValue}).value;typeof qe=="string"&&(qe=qe!==Ue.buttonValue,Ke.setValue(ze,{value:qe}));const ct=document.createElement("input");if(O.add(ct),ct.setAttribute("data-element-id",ze),ct.disabled=Ue.readOnly,this._setRequired(ct,this.data.required),ct.type="radio",ct.name=Ue.fieldName,qe&&ct.setAttribute("checked",!0),ct.tabIndex=n,ct.addEventListener("change",ft=>{const{name:mt,checked:$t}=ft.target;for(const Mt of this._getElementsByName(mt,ze))Ke.setValue(Mt.id,{value:!1});Ke.setValue(ze,{value:$t})}),ct.addEventListener("resetform",ft=>{const mt=Ue.defaultFieldValue;ft.target.checked=mt!=null&&mt===Ue.buttonValue}),this.enableScripting&&this.hasJSActions){const ft=Ue.buttonValue;ct.addEventListener("updatefromsandbox",mt=>{const $t={value:Mt=>{const Dt=ft===Mt.detail.value;for(const Xt of this._getElementsByName(Mt.target.name)){const Vt=Dt&&Xt.id===ze;Xt.domElement&&(Xt.domElement.checked=Vt),Ke.setValue(Xt.id,{value:Vt})}}};this._dispatchEventFromSandbox($t,mt)}),this._setEventListeners(ct,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],mt=>mt.target.checked)}return this._setBackgroundColor(ct),this._setDefaultPropertiesFromJS(ct),this.container.append(ct),this.container}}class k extends K{constructor(Ke){super(Ke,{ignoreBorder:Ke.data.hasAppearance})}render(){const Ke=super.render();Ke.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ke.title=this.data.alternativeText);const Ue=Ke.lastChild;return this.enableScripting&&this.hasJSActions&&Ue&&(this._setDefaultPropertiesFromJS(Ue),Ue.addEventListener("updatefromsandbox",ze=>{this._dispatchEventFromSandbox({},ze)})),Ke}}class F extends U{constructor(Ke){super(Ke,{isRenderable:Ke.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ke=this.annotationStorage,Ue=this.data.id,ze=Ke.getValue(Ue,{value:this.data.fieldValue}),qe=document.createElement("select");O.add(qe),qe.setAttribute("data-element-id",Ue),qe.disabled=this.data.readOnly,this._setRequired(qe,this.data.required),qe.name=this.data.fieldName,qe.tabIndex=n;let ct=this.data.combo&&this.data.options.length>0;this.data.combo||(qe.size=this.data.options.length,this.data.multiSelect&&(qe.multiple=!0)),qe.addEventListener("resetform",Dt=>{const Xt=this.data.defaultFieldValue;for(const Vt of qe.options)Vt.selected=Vt.value===Xt});for(const Dt of this.data.options){const Xt=document.createElement("option");Xt.textContent=Dt.displayValue,Xt.value=Dt.exportValue,ze.value.includes(Dt.exportValue)&&(Xt.setAttribute("selected",!0),ct=!1),qe.append(Xt)}let ft=null;if(ct){const Dt=document.createElement("option");Dt.value=" ",Dt.setAttribute("hidden",!0),Dt.setAttribute("selected",!0),qe.prepend(Dt),ft=()=>{Dt.remove(),qe.removeEventListener("input",ft),ft=null},qe.addEventListener("input",ft)}const mt=Dt=>{const Xt=Dt?"value":"textContent",{options:Vt,multiple:Jt}=qe;return Jt?Array.prototype.filter.call(Vt,zn=>zn.selected).map(zn=>zn[Xt]):Vt.selectedIndex===-1?null:Vt[Vt.selectedIndex][Xt]};let $t=mt(!1);const Mt=Dt=>{const Xt=Dt.target.options;return Array.prototype.map.call(Xt,Vt=>({displayValue:Vt.textContent,exportValue:Vt.value}))};return this.enableScripting&&this.hasJSActions?(qe.addEventListener("updatefromsandbox",Dt=>{const Xt={value(Vt){ft==null||ft();const Jt=Vt.detail.value,zn=new Set(Array.isArray(Jt)?Jt:[Jt]);for(const tn of qe.options)tn.selected=zn.has(tn.value);Ke.setValue(Ue,{value:mt(!0)}),$t=mt(!1)},multipleSelection(Vt){qe.multiple=!0},remove(Vt){const Jt=qe.options,zn=Vt.detail.remove;Jt[zn].selected=!1,qe.remove(zn),Jt.length>0&&Array.prototype.findIndex.call(Jt,Gi=>Gi.selected)===-1&&(Jt[0].selected=!0),Ke.setValue(Ue,{value:mt(!0),items:Mt(Vt)}),$t=mt(!1)},clear(Vt){for(;qe.length!==0;)qe.remove(0);Ke.setValue(Ue,{value:null,items:[]}),$t=mt(!1)},insert(Vt){const{index:Jt,displayValue:zn,exportValue:tn}=Vt.detail.insert,Gi=qe.children[Jt],fr=document.createElement("option");fr.textContent=zn,fr.value=tn,Gi?Gi.before(fr):qe.append(fr),Ke.setValue(Ue,{value:mt(!0),items:Mt(Vt)}),$t=mt(!1)},items(Vt){const{items:Jt}=Vt.detail;for(;qe.length!==0;)qe.remove(0);for(const zn of Jt){const{displayValue:tn,exportValue:Gi}=zn,fr=document.createElement("option");fr.textContent=tn,fr.value=Gi,qe.append(fr)}qe.options.length>0&&(qe.options[0].selected=!0),Ke.setValue(Ue,{value:mt(!0),items:Mt(Vt)}),$t=mt(!1)},indices(Vt){const Jt=new Set(Vt.detail.indices);for(const zn of Vt.target.options)zn.selected=Jt.has(zn.index);Ke.setValue(Ue,{value:mt(!0)}),$t=mt(!1)},editable(Vt){Vt.target.disabled=!Vt.detail.editable}};this._dispatchEventFromSandbox(Xt,Dt)}),qe.addEventListener("input",Dt=>{var Vt;const Xt=mt(!0);Ke.setValue(Ue,{value:Xt}),Dt.preventDefault(),(Vt=this.linkService.eventBus)==null||Vt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ue,name:"Keystroke",value:$t,changeEx:Xt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(qe,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Dt=>Dt.target.value)):qe.addEventListener("input",function(Dt){Ke.setValue(Ue,{value:mt(!0)})}),this.data.combo&&this._setTextStyle(qe),this._setBackgroundColor(qe),this._setDefaultPropertiesFromJS(qe),this.container.append(qe),this.container}}class _ extends o{constructor(Ke){const{data:Ue,elements:ze}=Ke;super(Ke,{isRenderable:o._hasPopupData(Ue)}),this.elements=ze}render(){this.container.classList.add("popupAnnotation");const Ke=new C({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Ue=[];for(const ze of this.elements)ze.popup=Ke,Ue.push(ze.data.id),ze.addHighlightArea();return this.container.setAttribute("aria-controls",Ue.map(ze=>`${X.AnnotationPrefix}${ze}`).join(",")),this.container}}class C{constructor({container:Ke,color:Ue,elements:ze,titleObj:qe,modificationDate:ct,contentsObj:ft,richText:mt,parent:$t,rect:Mt,parentRect:Dt,open:Xt}){At(this,ve);At(this,Fe);At(this,Ne);At(this,tt);At(this,G,null);At(this,se,ht(this,ve,Rh).bind(this));At(this,Ae,ht(this,tt,k0).bind(this));At(this,ke,ht(this,Ne,E0).bind(this));At(this,de,ht(this,Fe,wA).bind(this));At(this,Ie,null);At(this,ge,null);At(this,Be,null);At(this,ee,null);At(this,te,null);At(this,fe,null);At(this,ue,!1);At(this,le,null);At(this,be,null);At(this,Ce,null);At(this,ce,null);At(this,Ee,!1);var Jt;Pt(this,ge,Ke),Pt(this,ce,qe),Pt(this,Be,ft),Pt(this,Ce,mt),Pt(this,te,$t),Pt(this,Ie,Ue),Pt(this,be,Mt),Pt(this,fe,Dt),Pt(this,ee,ze);const Vt=ae.PDFDateString.toDateObject(ct);Vt&&Pt(this,G,$t.l10n.get("annotation_date_string",{date:Vt.toLocaleDateString(),time:Vt.toLocaleTimeString()})),this.trigger=ze.flatMap(zn=>zn.getElementsToTriggerPopup());for(const zn of this.trigger)zn.addEventListener("click",Me(this,de)),zn.addEventListener("mouseenter",Me(this,ke)),zn.addEventListener("mouseleave",Me(this,Ae)),zn.classList.add("popupTriggerArea");for(const zn of ze)(Jt=zn.container)==null||Jt.addEventListener("keydown",Me(this,se));Me(this,ge).hidden=!0,Xt&&ht(this,Fe,wA).call(this)}render(){if(Me(this,le))return;const{page:{view:Ke},viewport:{rawDims:{pageWidth:Ue,pageHeight:ze,pageX:qe,pageY:ct}}}=Me(this,te),ft=Pt(this,le,document.createElement("div"));if(ft.className="popup",Me(this,Ie)){const Ot=ft.style.outlineColor=X.Util.makeHexColor(...Me(this,Ie));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?ft.style.backgroundColor=`color-mix(in srgb, ${Ot} 30%, white)`:ft.style.backgroundColor=X.Util.makeHexColor(...Me(this,Ie).map(Wt=>Math.floor(.7*(255-Wt)+Wt)))}const mt=document.createElement("span");mt.className="header";const $t=document.createElement("h1");if(mt.append($t),{dir:$t.dir,str:$t.textContent}=Me(this,ce),ft.append(mt),Me(this,G)){const Ot=document.createElement("span");Ot.classList.add("popupDate"),Me(this,G).then(jt=>{Ot.textContent=jt}),mt.append(Ot)}const Mt=Me(this,Be),Dt=Me(this,Ce);if(Dt!=null&&Dt.str&&(!(Mt!=null&&Mt.str)||Mt.str===Dt.str))ie.XfaLayer.render({xfaHtml:Dt.html,intent:"richText",div:ft}),ft.lastChild.classList.add("richText","popupContent");else{const Ot=this._formatContents(Mt);ft.append(Ot)}let Xt=!!Me(this,fe),Vt=Xt?Me(this,fe):Me(this,be);for(const Ot of Me(this,ee))if(!Vt||X.Util.intersect(Ot.data.rect,Vt)!==null){Vt=Ot.data.rect,Xt=!0;break}const Jt=X.Util.normalizeRect([Vt[0],Ke[3]-Vt[1]+Ke[1],Vt[2],Ke[3]-Vt[3]+Ke[1]]),zn=5,tn=Xt?Vt[2]-Vt[0]+zn:0,Gi=Jt[0]+tn,fr=Jt[1],{style:Lt}=Me(this,ge);Lt.left=`${100*(Gi-qe)/Ue}%`,Lt.top=`${100*(fr-ct)/ze}%`,Me(this,ge).append(ft)}_formatContents({str:Ke,dir:Ue}){const ze=document.createElement("p");ze.classList.add("popupContent"),ze.dir=Ue;const qe=Ke.split(/(?:\r\n?|\n)/);for(let ct=0,ft=qe.length;ct<ft;++ct){const mt=qe[ct];ze.append(document.createTextNode(mt)),ct<ft-1&&ze.append(document.createElement("br"))}return ze}forceHide(){Pt(this,Ee,this.isVisible),Me(this,Ee)&&(Me(this,ge).hidden=!0)}maybeShow(){Me(this,Ee)&&(Pt(this,Ee,!1),Me(this,ge).hidden=!1)}get isVisible(){return Me(this,ge).hidden===!1}}G=new WeakMap,se=new WeakMap,Ae=new WeakMap,ke=new WeakMap,de=new WeakMap,Ie=new WeakMap,ge=new WeakMap,Be=new WeakMap,ee=new WeakMap,te=new WeakMap,fe=new WeakMap,ue=new WeakMap,le=new WeakMap,be=new WeakMap,Ce=new WeakMap,ce=new WeakMap,Ee=new WeakMap,ve=new WeakSet,Rh=function(Ke){Ke.altKey||Ke.shiftKey||Ke.ctrlKey||Ke.metaKey||(Ke.key==="Enter"||Ke.key==="Escape"&&Me(this,ue))&&ht(this,Fe,wA).call(this)},Fe=new WeakSet,wA=function(){Pt(this,ue,!Me(this,ue)),Me(this,ue)?(ht(this,Ne,E0).call(this),Me(this,ge).addEventListener("click",Me(this,de)),Me(this,ge).addEventListener("keydown",Me(this,se))):(ht(this,tt,k0).call(this),Me(this,ge).removeEventListener("click",Me(this,de)),Me(this,ge).removeEventListener("keydown",Me(this,se)))},Ne=new WeakSet,E0=function(){Me(this,le)||this.render(),this.isVisible?Me(this,ue)&&Me(this,ge).classList.add("focused"):(Me(this,ge).hidden=!1,Me(this,ge).style.zIndex=parseInt(Me(this,ge).style.zIndex)+1e3)},tt=new WeakSet,k0=function(){Me(this,ge).classList.remove("focused"),!(Me(this,ue)||!this.isVisible)&&(Me(this,ge).hidden=!0,Me(this,ge).style.zIndex=parseInt(Me(this,ge).style.zIndex)-1e3)};class Q extends o{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ke.data.textContent,this.textPosition=Ke.data.textPosition,this.annotationEditorType=X.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ke=document.createElement("div");Ke.classList.add("annotationTextContent"),Ke.setAttribute("role","comment");for(const Ue of this.textContent){const ze=document.createElement("span");ze.textContent=Ue,Ke.append(ze)}this.container.append(Ke)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=Q;class j extends o{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0});At(this,$e,null)}render(){this.container.classList.add("lineAnnotation");const Ue=this.data,{width:ze,height:qe}=e(Ue.rect),ct=this.svgFactory.create(ze,qe,!0),ft=Pt(this,$e,this.svgFactory.createElement("svg:line"));return ft.setAttribute("x1",Ue.rect[2]-Ue.lineCoordinates[0]),ft.setAttribute("y1",Ue.rect[3]-Ue.lineCoordinates[1]),ft.setAttribute("x2",Ue.rect[2]-Ue.lineCoordinates[2]),ft.setAttribute("y2",Ue.rect[3]-Ue.lineCoordinates[3]),ft.setAttribute("stroke-width",Ue.borderStyle.width||1),ft.setAttribute("stroke","transparent"),ft.setAttribute("fill","transparent"),ct.append(ft),this.container.append(ct),!Ue.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Me(this,$e)}addHighlightArea(){this.container.classList.add("highlightArea")}}$e=new WeakMap;class re extends o{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0});At(this,He,null)}render(){this.container.classList.add("squareAnnotation");const Ue=this.data,{width:ze,height:qe}=e(Ue.rect),ct=this.svgFactory.create(ze,qe,!0),ft=Ue.borderStyle.width,mt=Pt(this,He,this.svgFactory.createElement("svg:rect"));return mt.setAttribute("x",ft/2),mt.setAttribute("y",ft/2),mt.setAttribute("width",ze-ft),mt.setAttribute("height",qe-ft),mt.setAttribute("stroke-width",ft||1),mt.setAttribute("stroke","transparent"),mt.setAttribute("fill","transparent"),ct.append(mt),this.container.append(ct),!Ue.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Me(this,He)}addHighlightArea(){this.container.classList.add("highlightArea")}}He=new WeakMap;class T extends o{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0});At(this,Ve,null)}render(){this.container.classList.add("circleAnnotation");const Ue=this.data,{width:ze,height:qe}=e(Ue.rect),ct=this.svgFactory.create(ze,qe,!0),ft=Ue.borderStyle.width,mt=Pt(this,Ve,this.svgFactory.createElement("svg:ellipse"));return mt.setAttribute("cx",ze/2),mt.setAttribute("cy",qe/2),mt.setAttribute("rx",ze/2-ft/2),mt.setAttribute("ry",qe/2-ft/2),mt.setAttribute("stroke-width",ft||1),mt.setAttribute("stroke","transparent"),mt.setAttribute("fill","transparent"),ct.append(mt),this.container.append(ct),!Ue.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Me(this,Ve)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ve=new WeakMap;class R extends o{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0});At(this,st,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Ue=this.data,{width:ze,height:qe}=e(Ue.rect),ct=this.svgFactory.create(ze,qe,!0);let ft=[];for(const $t of Ue.vertices){const Mt=$t.x-Ue.rect[0],Dt=Ue.rect[3]-$t.y;ft.push(Mt+","+Dt)}ft=ft.join(" ");const mt=Pt(this,st,this.svgFactory.createElement(this.svgElementName));return mt.setAttribute("points",ft),mt.setAttribute("stroke-width",Ue.borderStyle.width||1),mt.setAttribute("stroke","transparent"),mt.setAttribute("fill","transparent"),ct.append(mt),this.container.append(ct),!Ue.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Me(this,st)}addHighlightArea(){this.container.classList.add("highlightArea")}}st=new WeakMap;class d extends R{constructor(Ke){super(Ke),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class y extends o{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class W extends o{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0});At(this,pt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=X.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Ue=this.data,{width:ze,height:qe}=e(Ue.rect),ct=this.svgFactory.create(ze,qe,!0);for(const ft of Ue.inkLists){let mt=[];for(const Mt of ft){const Dt=Mt.x-Ue.rect[0],Xt=Ue.rect[3]-Mt.y;mt.push(`${Dt},${Xt}`)}mt=mt.join(" ");const $t=this.svgFactory.createElement(this.svgElementName);Me(this,pt).push($t),$t.setAttribute("points",mt),$t.setAttribute("stroke-width",Ue.borderStyle.width||1),$t.setAttribute("stroke","transparent"),$t.setAttribute("fill","transparent"),!Ue.popupRef&&this.hasPopupData&&this._createPopup(),ct.append($t)}return this.container.append(ct),this.container}getElementsToTriggerPopup(){return Me(this,pt)}addHighlightArea(){this.container.classList.add("highlightArea")}}pt=new WeakMap,s.InkAnnotationElement=W;class u extends o{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class b extends o{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class D extends o{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class J extends o{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class N extends o{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=N;class v extends o{constructor(Ue){var ct;super(Ue,{isRenderable:!0});At(this,Re);At(this,at,null);const{filename:ze,content:qe}=this.data.file;this.filename=(0,ae.getFilenameFromUrl)(ze,!0),this.content=qe,(ct=this.linkService.eventBus)==null||ct.dispatch("fileattachmentannotation",{source:this,filename:ze,content:qe})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Ue,data:ze}=this;let qe;ze.hasAppearance||ze.fillAlpha===0?qe=document.createElement("div"):(qe=document.createElement("img"),qe.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(ze.name)?"paperclip":"pushpin"}.svg`,ze.fillAlpha&&ze.fillAlpha<1&&(qe.style=`filter: opacity(${Math.round(ze.fillAlpha*100)}%);`)),qe.addEventListener("dblclick",ht(this,Re,I0).bind(this)),Pt(this,at,qe);const{isMac:ct}=X.FeatureTest.platform;return Ue.addEventListener("keydown",ft=>{ft.key==="Enter"&&(ct?ft.metaKey:ft.ctrlKey)&&ht(this,Re,I0).call(this)}),!ze.popupRef&&this.hasPopupData?this._createPopup():qe.classList.add("popupTriggerArea"),Ue.append(qe),Ue}getElementsToTriggerPopup(){return Me(this,at)}addHighlightArea(){this.container.classList.add("highlightArea")}}at=new WeakMap,Re=new WeakSet,I0=function(){var Ue;(Ue=this.downloadManager)==null||Ue.openOrDownloadData(this.container,this.content,this.filename)};class S{constructor({div:Ke,accessibilityManager:Ue,annotationCanvasMap:ze,l10n:qe,page:ct,viewport:ft}){At(this,St);At(this,dt);At(this,gt,null);At(this,rt,null);At(this,Bt,new Map);this.div=Ke,Pt(this,gt,Ue),Pt(this,rt,ze),this.l10n=qe,this.page=ct,this.viewport=ft,this.zIndex=0,this.l10n||(this.l10n=x.NullL10n)}async render(Ke){const{annotations:Ue}=Ke,ze=this.div;(0,ae.setLayerDimensions)(ze,this.viewport);const qe=new Map,ct={data:null,layer:ze,linkService:Ke.linkService,downloadManager:Ke.downloadManager,imageResourcesPath:Ke.imageResourcesPath||"",renderForms:Ke.renderForms!==!1,svgFactory:new ae.DOMSVGFactory,annotationStorage:Ke.annotationStorage||new Te.AnnotationStorage,enableScripting:Ke.enableScripting===!0,hasJSActions:Ke.hasJSActions,fieldObjects:Ke.fieldObjects,parent:this,elements:null};for(const ft of Ue){if(ft.noHTML)continue;const mt=ft.annotationType===X.AnnotationType.POPUP;if(mt){const Dt=qe.get(ft.id);if(!Dt)continue;ct.elements=Dt}else{const{width:Dt,height:Xt}=e(ft.rect);if(Dt<=0||Xt<=0)continue}ct.data=ft;const $t=t.create(ct);if(!$t.isRenderable)continue;if(!mt&&ft.popupRef){const Dt=qe.get(ft.popupRef);Dt?Dt.push($t):qe.set(ft.popupRef,[$t])}$t.annotationEditorType>0&&Me(this,Bt).set($t.data.id,$t);const Mt=$t.render();ft.hidden&&(Mt.style.visibility="hidden"),ht(this,St,Nh).call(this,Mt,ft.id)}ht(this,dt,T0).call(this),await this.l10n.translate(ze)}update({viewport:Ke}){const Ue=this.div;this.viewport=Ke,(0,ae.setLayerDimensions)(Ue,{rotation:Ke.rotation}),ht(this,dt,T0).call(this),Ue.hidden=!1}getEditableAnnotations(){return Array.from(Me(this,Bt).values())}getEditableAnnotation(Ke){return Me(this,Bt).get(Ke)}}gt=new WeakMap,rt=new WeakMap,Bt=new WeakMap,St=new WeakSet,Nh=function(Ke,Ue){var qe;const ze=Ke.firstChild||Ke;ze.id=`${X.AnnotationPrefix}${Ue}`,this.div.append(Ke),(qe=Me(this,gt))==null||qe.moveElementInDOM(this.div,Ke,ze,!1)},dt=new WeakSet,T0=function(){if(!Me(this,rt))return;const Ke=this.div;for(const[Ue,ze]of Me(this,rt)){const qe=Ke.querySelector(`[data-annotation-id="${Ue}"]`);if(!qe)continue;const{firstChild:ct}=qe;ct?ct.nodeName==="CANVAS"?ct.replaceWith(ze):ct.before(ze):qe.append(ze)}Me(this,rt).clear()},s.AnnotationLayer=S},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function M(Te){return Math.floor(Math.max(0,Math.min(1,Te))*255).toString(16).padStart(2,"0")}function X(Te){return Math.max(0,Math.min(255,255*Te))}class ae{static CMYK_G([Pe,x,ie,n]){return["G",1-Math.min(1,.3*Pe+.59*ie+.11*x+n)]}static G_CMYK([Pe]){return["CMYK",0,0,0,1-Pe]}static G_RGB([Pe]){return["RGB",Pe,Pe,Pe]}static G_rgb([Pe]){return Pe=X(Pe),[Pe,Pe,Pe]}static G_HTML([Pe]){const x=M(Pe);return`#${x}${x}${x}`}static RGB_G([Pe,x,ie]){return["G",.3*Pe+.59*x+.11*ie]}static RGB_rgb(Pe){return Pe.map(X)}static RGB_HTML(Pe){return`#${Pe.map(M).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Pe,x,ie,n]){return["RGB",1-Math.min(1,Pe+n),1-Math.min(1,ie+n),1-Math.min(1,x+n)]}static CMYK_rgb([Pe,x,ie,n]){return[X(1-Math.min(1,Pe+n)),X(1-Math.min(1,ie+n)),X(1-Math.min(1,x+n))]}static CMYK_HTML(Pe){const x=this.CMYK_RGB(Pe).slice(1);return this.RGB_HTML(x)}static RGB_CMYK([Pe,x,ie]){const n=1-Pe,w=1-x,O=1-ie,e=Math.min(n,w,O);return["CMYK",n,w,O,e]}}s.ColorConverters=ae},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=X;const M={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};M.print_progress_percent="{{progress}}%";function X(Pe,x){switch(Pe){case"find_match_count":Pe=`find_match_count[${x.total===1?"one":"other"}]`;break;case"find_match_count_limit":Pe=`find_match_count_limit[${x.limit===1?"one":"other"}]`;break}return M[Pe]||""}function ae(Pe,x){return x?Pe.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ie,n)=>n in x?x[n]:"{{"+n+"}}"):Pe}const Te={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Pe,x=null,ie=X(Pe,x)){return ae(ie,x)},async translate(Pe){}};s.NullL10n=Te},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var X=M(25);class ae{static setupStorage(Pe,x,ie,n,w){const O=n.getValue(x,{value:null});switch(ie.name){case"textarea":if(O.value!==null&&(Pe.textContent=O.value),w==="print")break;Pe.addEventListener("input",e=>{n.setValue(x,{value:e.target.value})});break;case"input":if(ie.attributes.type==="radio"||ie.attributes.type==="checkbox"){if(O.value===ie.attributes.xfaOn?Pe.setAttribute("checked",!0):O.value===ie.attributes.xfaOff&&Pe.removeAttribute("checked"),w==="print")break;Pe.addEventListener("change",e=>{n.setValue(x,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(O.value!==null&&Pe.setAttribute("value",O.value),w==="print")break;Pe.addEventListener("input",e=>{n.setValue(x,{value:e.target.value})})}break;case"select":if(O.value!==null){Pe.setAttribute("value",O.value);for(const e of ie.children)e.attributes.value===O.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}Pe.addEventListener("input",e=>{const t=e.target.options,o=t.selectedIndex===-1?"":t[t.selectedIndex].value;n.setValue(x,{value:o})});break}}static setAttributes({html:Pe,element:x,storage:ie=null,intent:n,linkService:w}){const{attributes:O}=x,e=Pe instanceof HTMLAnchorElement;O.type==="radio"&&(O.name=`${O.name}-${n}`);for(const[t,o]of Object.entries(O))if(o!=null)switch(t){case"class":o.length&&Pe.setAttribute(t,o.join(" "));break;case"dataId":break;case"id":Pe.setAttribute("data-element-id",o);break;case"style":Object.assign(Pe.style,o);break;case"textContent":Pe.textContent=o;break;default:(!e||t!=="href"&&t!=="newWindow")&&Pe.setAttribute(t,o)}e&&w.addLinkAttributes(Pe,O.href,O.newWindow),ie&&O.dataId&&this.setupStorage(Pe,O.dataId,x,ie)}static render(Pe){var K;const x=Pe.annotationStorage,ie=Pe.linkService,n=Pe.xfaHtml,w=Pe.intent||"display",O=document.createElement(n.name);n.attributes&&this.setAttributes({html:O,element:n,intent:w,linkService:ie});const e=[[n,-1,O]],t=Pe.div;if(t.append(O),Pe.viewport){const H=`matrix(${Pe.viewport.transform.join(",")})`;t.style.transform=H}w!=="richText"&&t.setAttribute("class","xfaLayer xfaFont");const o=[];for(;e.length>0;){const[H,U,P]=e.at(-1);if(U+1===H.children.length){e.pop();continue}const f=H.children[++e.at(-1)[1]];if(f===null)continue;const{name:p}=f;if(p==="#text"){const k=document.createTextNode(f.value);o.push(k),P.append(k);continue}const i=(K=f==null?void 0:f.attributes)!=null&&K.xmlns?document.createElementNS(f.attributes.xmlns,p):document.createElement(p);if(P.append(i),f.attributes&&this.setAttributes({html:i,element:f,storage:x,intent:w,linkService:ie}),f.children&&f.children.length>0)e.push([f,-1,i]);else if(f.value){const k=document.createTextNode(f.value);X.XfaText.shouldBuildText(p)&&o.push(k),i.append(k)}}for(const H of t.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))H.setAttribute("readOnly",!0);return{textDivs:o}}static update(Pe){const x=`matrix(${Pe.viewport.transform.join(",")})`;Pe.div.style.transform=x,Pe.div.hidden=!1}}s.XfaLayer=ae},(a,s,M)=>{var n,w,O,e,t,o,K,H,U,P,f,p,i,k,F,Qh,C,Hh,j,$h,T,jh,d,_0,W,Gh,b,P0,J,Xh,v,Kh,I,Vh,B,Wh,A,zh,G,Ts,Ae,O0,de,yA,ge,CA,ee,Ca,fe,M0,le,BA,Ce,qh,Ee,U0,he,Yh,_e,Jh,Ze,D0,je,vA,He,Ba;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var X=M(1),ae=M(4),Te=M(29),Pe=M(6),x=M(5);const st=class st extends ae.AnnotationEditor{constructor(Re){super({...Re,name:"inkEditor"});At(this,F);At(this,C);At(this,j);At(this,T);At(this,d);At(this,W);At(this,b);At(this,J);At(this,v);At(this,I);At(this,B);At(this,A);At(this,G);At(this,Ae);At(this,de);At(this,ge);At(this,ee);At(this,fe);At(this,le);At(this,_e);At(this,Ze);At(this,je);At(this,He);At(this,n,0);At(this,w,0);At(this,O,this.canvasPointermove.bind(this));At(this,e,this.canvasPointerleave.bind(this));At(this,t,this.canvasPointerup.bind(this));At(this,o,this.canvasPointerdown.bind(this));At(this,K,new Path2D);At(this,H,!1);At(this,U,!1);At(this,P,!1);At(this,f,null);At(this,p,0);At(this,i,0);At(this,k,null);this.color=Re.color||null,this.thickness=Re.thickness||null,this.opacity=Re.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Re){ae.AnnotationEditor.initialize(Re,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Re,Ge){switch(Re){case X.AnnotationEditorParamsType.INK_THICKNESS:st._defaultThickness=Ge;break;case X.AnnotationEditorParamsType.INK_COLOR:st._defaultColor=Ge;break;case X.AnnotationEditorParamsType.INK_OPACITY:st._defaultOpacity=Ge/100;break}}updateParams(Re,Ge){switch(Re){case X.AnnotationEditorParamsType.INK_THICKNESS:ht(this,F,Qh).call(this,Ge);break;case X.AnnotationEditorParamsType.INK_COLOR:ht(this,C,Hh).call(this,Ge);break;case X.AnnotationEditorParamsType.INK_OPACITY:ht(this,j,$h).call(this,Ge);break}}static get defaultPropertiesToUpdate(){return[[X.AnnotationEditorParamsType.INK_THICKNESS,st._defaultThickness],[X.AnnotationEditorParamsType.INK_COLOR,st._defaultColor||ae.AnnotationEditor._defaultLineColor],[X.AnnotationEditorParamsType.INK_OPACITY,Math.round(st._defaultOpacity*100)]]}get propertiesToUpdate(){return[[X.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||st._defaultThickness],[X.AnnotationEditorParamsType.INK_COLOR,this.color||st._defaultColor||ae.AnnotationEditor._defaultLineColor],[X.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??st._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ht(this,de,yA).call(this),ht(this,ge,CA).call(this)),this.isAttachedToDOM||(this.parent.add(this),ht(this,ee,Ca).call(this)),ht(this,He,Ba).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Me(this,f).disconnect(),Pt(this,f,null),super.remove())}setParent(Re){!this.parent&&Re?this._uiManager.removeShouldRescale(this):this.parent&&Re===null&&this._uiManager.addShouldRescale(this),super.setParent(Re)}onScaleChanging(){const[Re,Ge]=this.parentDimensions,gt=this.width*Re,rt=this.height*Ge;this.setDimensions(gt,rt)}enableEditMode(){Me(this,H)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Me(this,o)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Me(this,o)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Me(this,H)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Pt(this,H,!0),this.div.classList.add("disabled"),ht(this,He,Ba).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Re){this._focusEventsAllowed&&(super.focusin(Re),this.enableEditMode())}canvasPointerdown(Re){Re.button!==0||!this.isInEditMode()||Me(this,H)||(this.setInForeground(),Re.preventDefault(),Re.type!=="mouse"&&this.div.focus(),ht(this,W,Gh).call(this,Re.offsetX,Re.offsetY))}canvasPointermove(Re){Re.preventDefault(),ht(this,b,P0).call(this,Re.offsetX,Re.offsetY)}canvasPointerup(Re){Re.preventDefault(),ht(this,Ae,O0).call(this,Re)}canvasPointerleave(Re){ht(this,Ae,O0).call(this,Re)}get isResizable(){return!this.isEmpty()&&Me(this,H)}render(){if(this.div)return this.div;let Re,Ge;this.width&&(Re=this.x,Ge=this.y),super.render(),ae.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(jn=>{var dt;return(dt=this.div)==null?void 0:dt.setAttribute("aria-label",jn)});const[gt,rt,Bt,St]=ht(this,T,jh).call(this);if(this.setAt(gt,rt,0,0),this.setDims(Bt,St),ht(this,de,yA).call(this),this.width){const[jn,dt]=this.parentDimensions;this.setAspectRatio(this.width*jn,this.height*dt),this.setAt(Re*jn,Ge*dt,this.width*jn,this.height*dt),Pt(this,P,!0),ht(this,ee,Ca).call(this),this.setDims(this.width*jn,this.height*dt),ht(this,G,Ts).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ht(this,ge,CA).call(this),this.div}setDimensions(Re,Ge){const gt=Math.round(Re),rt=Math.round(Ge);if(Me(this,p)===gt&&Me(this,i)===rt)return;Pt(this,p,gt),Pt(this,i,rt),this.canvas.style.visibility="hidden";const[Bt,St]=this.parentDimensions;this.width=Re/Bt,this.height=Ge/St,this.fixAndSetPosition(),Me(this,H)&&ht(this,fe,M0).call(this,Re,Ge),ht(this,ee,Ca).call(this),ht(this,G,Ts).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Re,Ge,gt){var ct,ft,mt;if(Re instanceof Te.InkAnnotationElement)return null;const rt=super.deserialize(Re,Ge,gt);rt.thickness=Re.thickness,rt.color=X.Util.makeHexColor(...Re.color),rt.opacity=Re.opacity;const[Bt,St]=rt.pageDimensions,jn=rt.width*Bt,dt=rt.height*St,Zt=rt.parentScale,Gt=Re.thickness/2;Pt(rt,H,!0),Pt(rt,p,Math.round(jn)),Pt(rt,i,Math.round(dt));const{paths:Ke,rect:Ue,rotation:ze}=Re;for(let{bezier:$t}of Ke){$t=ht(ct=st,he,Yh).call(ct,$t,Ue,ze);const Mt=[];rt.paths.push(Mt);let Dt=Zt*($t[0]-Gt),Xt=Zt*($t[1]-Gt);for(let Jt=2,zn=$t.length;Jt<zn;Jt+=6){const tn=Zt*($t[Jt]-Gt),Gi=Zt*($t[Jt+1]-Gt),fr=Zt*($t[Jt+2]-Gt),Lt=Zt*($t[Jt+3]-Gt),Ot=Zt*($t[Jt+4]-Gt),jt=Zt*($t[Jt+5]-Gt);Mt.push([[Dt,Xt],[tn,Gi],[fr,Lt],[Ot,jt]]),Dt=Ot,Xt=jt}const Vt=ht(this,Ce,qh).call(this,Mt);rt.bezierPath2D.push(Vt)}const qe=ht(ft=rt,Ze,D0).call(ft);return Pt(rt,w,Math.max(ae.AnnotationEditor.MIN_SIZE,qe[2]-qe[0])),Pt(rt,n,Math.max(ae.AnnotationEditor.MIN_SIZE,qe[3]-qe[1])),ht(mt=rt,fe,M0).call(mt,jn,dt),rt}serialize(){if(this.isEmpty())return null;const Re=this.getRect(0,0),Ge=ae.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:X.AnnotationEditorType.INK,color:Ge,thickness:this.thickness,opacity:this.opacity,paths:ht(this,_e,Jh).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Re),pageIndex:this.pageIndex,rect:Re,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};n=new WeakMap,w=new WeakMap,O=new WeakMap,e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,H=new WeakMap,U=new WeakMap,P=new WeakMap,f=new WeakMap,p=new WeakMap,i=new WeakMap,k=new WeakMap,F=new WeakSet,Qh=function(Re){const Ge=this.thickness;this.addCommands({cmd:()=>{this.thickness=Re,ht(this,He,Ba).call(this)},undo:()=>{this.thickness=Ge,ht(this,He,Ba).call(this)},mustExec:!0,type:X.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},C=new WeakSet,Hh=function(Re){const Ge=this.color;this.addCommands({cmd:()=>{this.color=Re,ht(this,G,Ts).call(this)},undo:()=>{this.color=Ge,ht(this,G,Ts).call(this)},mustExec:!0,type:X.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},j=new WeakSet,$h=function(Re){Re/=100;const Ge=this.opacity;this.addCommands({cmd:()=>{this.opacity=Re,ht(this,G,Ts).call(this)},undo:()=>{this.opacity=Ge,ht(this,G,Ts).call(this)},mustExec:!0,type:X.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},T=new WeakSet,jh=function(){const{parentRotation:Re,parentDimensions:[Ge,gt]}=this;switch(Re){case 90:return[0,gt,gt,Ge];case 180:return[Ge,gt,Ge,gt];case 270:return[Ge,0,gt,Ge];default:return[0,0,Ge,gt]}},d=new WeakSet,_0=function(){const{ctx:Re,color:Ge,opacity:gt,thickness:rt,parentScale:Bt,scaleFactor:St}=this;Re.lineWidth=rt*Bt/St,Re.lineCap="round",Re.lineJoin="round",Re.miterLimit=10,Re.strokeStyle=`${Ge}${(0,x.opacityToHex)(gt)}`},W=new WeakSet,Gh=function(Re,Ge){this.canvas.addEventListener("contextmenu",Pe.noContextMenu),this.canvas.addEventListener("pointerleave",Me(this,e)),this.canvas.addEventListener("pointermove",Me(this,O)),this.canvas.addEventListener("pointerup",Me(this,t)),this.canvas.removeEventListener("pointerdown",Me(this,o)),this.isEditing=!0,Me(this,P)||(Pt(this,P,!0),ht(this,ee,Ca).call(this),this.thickness||(this.thickness=st._defaultThickness),this.color||(this.color=st._defaultColor||ae.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=st._defaultOpacity)),this.currentPath.push([Re,Ge]),Pt(this,U,!1),ht(this,d,_0).call(this),Pt(this,k,()=>{ht(this,I,Vh).call(this),Me(this,k)&&window.requestAnimationFrame(Me(this,k))}),window.requestAnimationFrame(Me(this,k))},b=new WeakSet,P0=function(Re,Ge){const[gt,rt]=this.currentPath.at(-1);if(this.currentPath.length>1&&Re===gt&&Ge===rt)return;const Bt=this.currentPath;let St=Me(this,K);if(Bt.push([Re,Ge]),Pt(this,U,!0),Bt.length<=2){St.moveTo(...Bt[0]),St.lineTo(Re,Ge);return}Bt.length===3&&(Pt(this,K,St=new Path2D),St.moveTo(...Bt[0])),ht(this,B,Wh).call(this,St,...Bt.at(-3),...Bt.at(-2),Re,Ge)},J=new WeakSet,Xh=function(){if(this.currentPath.length===0)return;const Re=this.currentPath.at(-1);Me(this,K).lineTo(...Re)},v=new WeakSet,Kh=function(Re,Ge){Pt(this,k,null),Re=Math.min(Math.max(Re,0),this.canvas.width),Ge=Math.min(Math.max(Ge,0),this.canvas.height),ht(this,b,P0).call(this,Re,Ge),ht(this,J,Xh).call(this);let gt;if(this.currentPath.length!==1)gt=ht(this,A,zh).call(this);else{const dt=[Re,Ge];gt=[[dt,dt.slice(),dt.slice(),dt]]}const rt=Me(this,K),Bt=this.currentPath;this.currentPath=[],Pt(this,K,new Path2D);const St=()=>{this.allRawPaths.push(Bt),this.paths.push(gt),this.bezierPath2D.push(rt),this.rebuild()},jn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ht(this,de,yA).call(this),ht(this,ge,CA).call(this)),ht(this,He,Ba).call(this))};this.addCommands({cmd:St,undo:jn,mustExec:!0})},I=new WeakSet,Vh=function(){if(!Me(this,U))return;Pt(this,U,!1);const Re=Math.ceil(this.thickness*this.parentScale),Ge=this.currentPath.slice(-3),gt=Ge.map(St=>St[0]),rt=Ge.map(St=>St[1]);Math.min(...gt)-Re,Math.max(...gt)+Re,Math.min(...rt)-Re,Math.max(...rt)+Re;const{ctx:Bt}=this;Bt.save(),Bt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const St of this.bezierPath2D)Bt.stroke(St);Bt.stroke(Me(this,K)),Bt.restore()},B=new WeakSet,Wh=function(Re,Ge,gt,rt,Bt,St,jn){const dt=(Ge+rt)/2,Zt=(gt+Bt)/2,Gt=(rt+St)/2,Ke=(Bt+jn)/2;Re.bezierCurveTo(dt+2*(rt-dt)/3,Zt+2*(Bt-Zt)/3,Gt+2*(rt-Gt)/3,Ke+2*(Bt-Ke)/3,Gt,Ke)},A=new WeakSet,zh=function(){const Re=this.currentPath;if(Re.length<=2)return[[Re[0],Re[0],Re.at(-1),Re.at(-1)]];const Ge=[];let gt,[rt,Bt]=Re[0];for(gt=1;gt<Re.length-2;gt++){const[Ue,ze]=Re[gt],[qe,ct]=Re[gt+1],ft=(Ue+qe)/2,mt=(ze+ct)/2,$t=[rt+2*(Ue-rt)/3,Bt+2*(ze-Bt)/3],Mt=[ft+2*(Ue-ft)/3,mt+2*(ze-mt)/3];Ge.push([[rt,Bt],$t,Mt,[ft,mt]]),[rt,Bt]=[ft,mt]}const[St,jn]=Re[gt],[dt,Zt]=Re[gt+1],Gt=[rt+2*(St-rt)/3,Bt+2*(jn-Bt)/3],Ke=[dt+2*(St-dt)/3,Zt+2*(jn-Zt)/3];return Ge.push([[rt,Bt],Gt,Ke,[dt,Zt]]),Ge},G=new WeakSet,Ts=function(){if(this.isEmpty()){ht(this,le,BA).call(this);return}ht(this,d,_0).call(this);const{canvas:Re,ctx:Ge}=this;Ge.setTransform(1,0,0,1,0,0),Ge.clearRect(0,0,Re.width,Re.height),ht(this,le,BA).call(this);for(const gt of this.bezierPath2D)Ge.stroke(gt)},Ae=new WeakSet,O0=function(Re){this.canvas.removeEventListener("pointerleave",Me(this,e)),this.canvas.removeEventListener("pointermove",Me(this,O)),this.canvas.removeEventListener("pointerup",Me(this,t)),this.canvas.addEventListener("pointerdown",Me(this,o)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Pe.noContextMenu)},10),ht(this,v,Kh).call(this,Re.offsetX,Re.offsetY),this.addToAnnotationStorage(),this.setInBackground()},de=new WeakSet,yA=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ae.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Re=>{var Ge;return(Ge=this.canvas)==null?void 0:Ge.setAttribute("aria-label",Re)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ge=new WeakSet,CA=function(){Pt(this,f,new ResizeObserver(Re=>{const Ge=Re[0].contentRect;Ge.width&&Ge.height&&this.setDimensions(Ge.width,Ge.height)})),Me(this,f).observe(this.div)},ee=new WeakSet,Ca=function(){if(!Me(this,P))return;const[Re,Ge]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Re),this.canvas.height=Math.ceil(this.height*Ge),ht(this,le,BA).call(this)},fe=new WeakSet,M0=function(Re,Ge){const gt=ht(this,je,vA).call(this),rt=(Re-gt)/Me(this,w),Bt=(Ge-gt)/Me(this,n);this.scaleFactor=Math.min(rt,Bt)},le=new WeakSet,BA=function(){const Re=ht(this,je,vA).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Re,this.translationY*this.scaleFactor+Re)},Ce=new WeakSet,qh=function(Re){const Ge=new Path2D;for(let gt=0,rt=Re.length;gt<rt;gt++){const[Bt,St,jn,dt]=Re[gt];gt===0&&Ge.moveTo(...Bt),Ge.bezierCurveTo(St[0],St[1],jn[0],jn[1],dt[0],dt[1])}return Ge},Ee=new WeakSet,U0=function(Re,Ge,gt){const[rt,Bt,St,jn]=Ge;switch(gt){case 0:for(let dt=0,Zt=Re.length;dt<Zt;dt+=2)Re[dt]+=rt,Re[dt+1]=jn-Re[dt+1];break;case 90:for(let dt=0,Zt=Re.length;dt<Zt;dt+=2){const Gt=Re[dt];Re[dt]=Re[dt+1]+rt,Re[dt+1]=Gt+Bt}break;case 180:for(let dt=0,Zt=Re.length;dt<Zt;dt+=2)Re[dt]=St-Re[dt],Re[dt+1]+=Bt;break;case 270:for(let dt=0,Zt=Re.length;dt<Zt;dt+=2){const Gt=Re[dt];Re[dt]=St-Re[dt+1],Re[dt+1]=jn-Gt}break;default:throw new Error("Invalid rotation")}return Re},he=new WeakSet,Yh=function(Re,Ge,gt){const[rt,Bt,St,jn]=Ge;switch(gt){case 0:for(let dt=0,Zt=Re.length;dt<Zt;dt+=2)Re[dt]-=rt,Re[dt+1]=jn-Re[dt+1];break;case 90:for(let dt=0,Zt=Re.length;dt<Zt;dt+=2){const Gt=Re[dt];Re[dt]=Re[dt+1]-Bt,Re[dt+1]=Gt-rt}break;case 180:for(let dt=0,Zt=Re.length;dt<Zt;dt+=2)Re[dt]=St-Re[dt],Re[dt+1]-=Bt;break;case 270:for(let dt=0,Zt=Re.length;dt<Zt;dt+=2){const Gt=Re[dt];Re[dt]=jn-Re[dt+1],Re[dt+1]=St-Gt}break;default:throw new Error("Invalid rotation")}return Re},_e=new WeakSet,Jh=function(Re,Ge,gt,rt){var Zt,Gt;const Bt=[],St=this.thickness/2,jn=Re*Ge+St,dt=Re*gt+St;for(const Ke of this.paths){const Ue=[],ze=[];for(let qe=0,ct=Ke.length;qe<ct;qe++){const[ft,mt,$t,Mt]=Ke[qe],Dt=Re*ft[0]+jn,Xt=Re*ft[1]+dt,Vt=Re*mt[0]+jn,Jt=Re*mt[1]+dt,zn=Re*$t[0]+jn,tn=Re*$t[1]+dt,Gi=Re*Mt[0]+jn,fr=Re*Mt[1]+dt;qe===0&&(Ue.push(Dt,Xt),ze.push(Dt,Xt)),Ue.push(Vt,Jt,zn,tn,Gi,fr),ze.push(Vt,Jt),qe===ct-1&&ze.push(Gi,fr)}Bt.push({bezier:ht(Zt=st,Ee,U0).call(Zt,Ue,rt,this.rotation),points:ht(Gt=st,Ee,U0).call(Gt,ze,rt,this.rotation)})}return Bt},Ze=new WeakSet,D0=function(){let Re=1/0,Ge=-1/0,gt=1/0,rt=-1/0;for(const Bt of this.paths)for(const[St,jn,dt,Zt]of Bt){const Gt=X.Util.bezierBoundingBox(...St,...jn,...dt,...Zt);Re=Math.min(Re,Gt[0]),gt=Math.min(gt,Gt[1]),Ge=Math.max(Ge,Gt[2]),rt=Math.max(rt,Gt[3])}return[Re,gt,Ge,rt]},je=new WeakSet,vA=function(){return Me(this,H)?Math.ceil(this.thickness*this.parentScale):0},He=new WeakSet,Ba=function(Re=!1){if(this.isEmpty())return;if(!Me(this,H)){ht(this,G,Ts).call(this);return}const Ge=ht(this,Ze,D0).call(this),gt=ht(this,je,vA).call(this);Pt(this,w,Math.max(ae.AnnotationEditor.MIN_SIZE,Ge[2]-Ge[0])),Pt(this,n,Math.max(ae.AnnotationEditor.MIN_SIZE,Ge[3]-Ge[1]));const rt=Math.ceil(gt+Me(this,w)*this.scaleFactor),Bt=Math.ceil(gt+Me(this,n)*this.scaleFactor),[St,jn]=this.parentDimensions;this.width=rt/St,this.height=Bt/jn,this.setAspectRatio(rt,Bt);const dt=this.translationX,Zt=this.translationY;this.translationX=-Ge[0],this.translationY=-Ge[1],ht(this,ee,Ca).call(this),ht(this,G,Ts).call(this),Pt(this,p,rt),Pt(this,i,Bt),this.setDims(rt,Bt);const Gt=Re?gt/this.scaleFactor/2:0;this.translate(dt-this.translationX-Gt,Zt-this.translationY-Gt)},At(st,Ce),At(st,Ee),At(st,he),yr(st,"_defaultColor",null),yr(st,"_defaultOpacity",1),yr(st,"_defaultThickness",1),yr(st,"_type","ink");let ie=st;s.InkEditor=ie},(a,s,M)=>{var ie,n,w,O,e,t,o,K,H,U,P,So,p,Fo,k,SA,_,L0,Q,Zh,re,ed,R,R0,y,FA,u,td;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var X=M(1),ae=M(4),Te=M(6),Pe=M(29);const D=class D extends ae.AnnotationEditor{constructor(v){super({...v,name:"stampEditor"});At(this,P);At(this,p);At(this,k);At(this,_);At(this,Q);At(this,re);At(this,R);At(this,y);At(this,u);At(this,ie,null);At(this,n,null);At(this,w,null);At(this,O,null);At(this,e,null);At(this,t,null);At(this,o,null);At(this,K,null);At(this,H,!1);At(this,U,!1);Pt(this,O,v.bitmapUrl),Pt(this,e,v.bitmapFile)}static initialize(v){ae.AnnotationEditor.initialize(v)}static get supportedTypes(){const v=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,X.shadow)(this,"supportedTypes",v.map(S=>`image/${S}`))}static get supportedTypesStr(){return(0,X.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(v){return this.supportedTypes.includes(v)}static paste(v,S){S.pasteEditor(X.AnnotationEditorType.STAMP,{bitmapFile:v.getAsFile()})}remove(){var v,S;Me(this,n)&&(Pt(this,ie,null),this._uiManager.imageManager.deleteId(Me(this,n)),(v=Me(this,t))==null||v.remove(),Pt(this,t,null),(S=Me(this,o))==null||S.disconnect(),Pt(this,o,null)),super.remove()}rebuild(){if(!this.parent){Me(this,n)&&ht(this,k,SA).call(this);return}super.rebuild(),this.div!==null&&(Me(this,n)&&ht(this,k,SA).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Me(this,w)||Me(this,ie)||Me(this,O)||Me(this,e))}get isResizable(){return!0}render(){if(this.div)return this.div;let v,S;if(this.width&&(v=this.x,S=this.y),super.render(),this.div.hidden=!0,Me(this,ie)?ht(this,_,L0).call(this):ht(this,k,SA).call(this),this.width){const[I,h]=this.parentDimensions;this.setAt(v*I,S*h,this.width*I,this.height*h)}return this.div}static deserialize(v,S,I){if(v instanceof Pe.StampAnnotationElement)return null;const h=super.deserialize(v,S,I),{rect:B,bitmapUrl:r,bitmapId:A,isSvg:E,accessibilityData:G}=v;A&&I.imageManager.isValidId(A)?Pt(h,n,A):Pt(h,O,r),Pt(h,H,E);const[se,Ae]=h.pageDimensions;return h.width=(B[2]-B[0])/se,h.height=(B[3]-B[1])/Ae,G&&(h.altTextData=G),h}serialize(v=!1,S=null){if(this.isEmpty())return null;const I={annotationType:X.AnnotationEditorType.STAMP,bitmapId:Me(this,n),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Me(this,H),structTreeParentId:this._structTreeParentId};if(v)return I.bitmapUrl=ht(this,y,FA).call(this,!0),I.accessibilityData=this.altTextData,I;const{decorative:h,altText:B}=this.altTextData;if(!h&&B&&(I.accessibilityData={type:"Figure",alt:B}),S===null)return I;S.stamps||(S.stamps=new Map);const r=Me(this,H)?(I.rect[2]-I.rect[0])*(I.rect[3]-I.rect[1]):null;if(!S.stamps.has(Me(this,n)))S.stamps.set(Me(this,n),{area:r,serialized:I}),I.bitmap=ht(this,y,FA).call(this,!1);else if(Me(this,H)){const A=S.stamps.get(Me(this,n));r>A.area&&(A.area=r,A.serialized.bitmap.close(),A.serialized.bitmap=ht(this,y,FA).call(this,!1))}return I}};ie=new WeakMap,n=new WeakMap,w=new WeakMap,O=new WeakMap,e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,H=new WeakMap,U=new WeakMap,P=new WeakSet,So=function(v,S=!1){if(!v){this.remove();return}Pt(this,ie,v.bitmap),S||(Pt(this,n,v.id),Pt(this,H,v.isSvg)),ht(this,_,L0).call(this)},p=new WeakSet,Fo=function(){Pt(this,w,null),this._uiManager.enableWaiting(!1),Me(this,t)&&this.div.focus()},k=new WeakSet,SA=function(){if(Me(this,n)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Me(this,n)).then(S=>ht(this,P,So).call(this,S,!0)).finally(()=>ht(this,p,Fo).call(this));return}if(Me(this,O)){const S=Me(this,O);Pt(this,O,null),this._uiManager.enableWaiting(!0),Pt(this,w,this._uiManager.imageManager.getFromUrl(S).then(I=>ht(this,P,So).call(this,I)).finally(()=>ht(this,p,Fo).call(this)));return}if(Me(this,e)){const S=Me(this,e);Pt(this,e,null),this._uiManager.enableWaiting(!0),Pt(this,w,this._uiManager.imageManager.getFromFile(S).then(I=>ht(this,P,So).call(this,I)).finally(()=>ht(this,p,Fo).call(this)));return}const v=document.createElement("input");v.type="file",v.accept=D.supportedTypesStr,Pt(this,w,new Promise(S=>{v.addEventListener("change",async()=>{if(!v.files||v.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const I=await this._uiManager.imageManager.getFromFile(v.files[0]);ht(this,P,So).call(this,I)}S()}),v.addEventListener("cancel",()=>{this.remove(),S()})}).finally(()=>ht(this,p,Fo).call(this))),v.click()},_=new WeakSet,L0=function(){const{div:v}=this;let{width:S,height:I}=Me(this,ie);const[h,B]=this.pageDimensions,r=.75;if(this.width)S=this.width*h,I=this.height*B;else if(S>r*h||I>r*B){const se=Math.min(r*h/S,r*B/I);S*=se,I*=se}const[A,E]=this.parentDimensions;this.setDims(S*A/h,I*E/B),this._uiManager.enableWaiting(!1);const G=Pt(this,t,document.createElement("canvas"));v.append(G),v.hidden=!1,ht(this,R,R0).call(this,S,I),ht(this,u,td).call(this),Me(this,U)||(this.parent.addUndoableEditor(this),Pt(this,U,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Q=new WeakSet,Zh=function(v,S){var r;const[I,h]=this.parentDimensions;this.width=v/I,this.height=S/h,this.setDims(v,S),(r=this._initialOptions)!=null&&r.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Me(this,K)!==null&&clearTimeout(Me(this,K)),Pt(this,K,setTimeout(()=>{Pt(this,K,null),ht(this,R,R0).call(this,v,S)},200))},re=new WeakSet,ed=function(v,S){const{width:I,height:h}=Me(this,ie);let B=I,r=h,A=Me(this,ie);for(;B>2*v||r>2*S;){const E=B,G=r;B>2*v&&(B=B>=16384?Math.floor(B/2)-1:Math.ceil(B/2)),r>2*S&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const se=new OffscreenCanvas(B,r);se.getContext("2d").drawImage(A,0,0,E,G,0,0,B,r),A=se.transferToImageBitmap()}return A},R=new WeakSet,R0=function(v,S){v=Math.ceil(v),S=Math.ceil(S);const I=Me(this,t);if(!I||I.width===v&&I.height===S)return;I.width=v,I.height=S;const h=Me(this,H)?Me(this,ie):ht(this,re,ed).call(this,v,S),B=I.getContext("2d");B.filter=this._uiManager.hcmFilter,B.drawImage(h,0,0,h.width,h.height,0,0,v,S)},y=new WeakSet,FA=function(v){if(v){if(Me(this,H)){const h=this._uiManager.imageManager.getSvgUrl(Me(this,n));if(h)return h}const S=document.createElement("canvas");return{width:S.width,height:S.height}=Me(this,ie),S.getContext("2d").drawImage(Me(this,ie),0,0),S.toDataURL()}if(Me(this,H)){const[S,I]=this.pageDimensions,h=Math.round(this.width*S*Te.PixelsPerInch.PDF_TO_CSS_UNITS),B=Math.round(this.height*I*Te.PixelsPerInch.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(h,B);return r.getContext("2d").drawImage(Me(this,ie),0,0,Me(this,ie).width,Me(this,ie).height,0,0,h,B),r.transferToImageBitmap()}return structuredClone(Me(this,ie))},u=new WeakSet,td=function(){Pt(this,o,new ResizeObserver(v=>{const S=v[0].contentRect;S.width&&S.height&&ht(this,Q,Zh).call(this,S.width,S.height)})),Me(this,o).observe(this.div)},yr(D,"_type","stamp");let x=D;s.StampEditor=x}],__webpack_module_cache__={};function __w_pdfjs_require__(a){var s=__webpack_module_cache__[a];if(s!==void 0)return s.exports;var M=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a](M,M.exports,__w_pdfjs_require__),M.exports}var __webpack_exports__={};return(()=>{var a=__webpack_exports__;Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(a,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Te.AnnotationEditorLayer}}),Object.defineProperty(a,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(a,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(a,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Pe.AnnotationEditorUIManager}}),Object.defineProperty(a,"AnnotationLayer",{enumerable:!0,get:function(){return x.AnnotationLayer}}),Object.defineProperty(a,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(a,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(a,"DOMSVGFactory",{enumerable:!0,get:function(){return X.DOMSVGFactory}}),Object.defineProperty(a,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(a,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ie.GlobalWorkerOptions}}),Object.defineProperty(a,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(a,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(a,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(a,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(a,"PDFDataRangeTransport",{enumerable:!0,get:function(){return M.PDFDataRangeTransport}}),Object.defineProperty(a,"PDFDateString",{enumerable:!0,get:function(){return X.PDFDateString}}),Object.defineProperty(a,"PDFWorker",{enumerable:!0,get:function(){return M.PDFWorker}}),Object.defineProperty(a,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(a,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(a,"PixelsPerInch",{enumerable:!0,get:function(){return X.PixelsPerInch}}),Object.defineProperty(a,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(a,"RenderingCancelledException",{enumerable:!0,get:function(){return X.RenderingCancelledException}}),Object.defineProperty(a,"SVGGraphics",{enumerable:!0,get:function(){return M.SVGGraphics}}),Object.defineProperty(a,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(a,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(a,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(a,"XfaLayer",{enumerable:!0,get:function(){return n.XfaLayer}}),Object.defineProperty(a,"build",{enumerable:!0,get:function(){return M.build}}),Object.defineProperty(a,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(a,"getDocument",{enumerable:!0,get:function(){return M.getDocument}}),Object.defineProperty(a,"getFilenameFromUrl",{enumerable:!0,get:function(){return X.getFilenameFromUrl}}),Object.defineProperty(a,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return X.getPdfFilenameFromUrl}}),Object.defineProperty(a,"getXfaPageViewport",{enumerable:!0,get:function(){return X.getXfaPageViewport}}),Object.defineProperty(a,"isDataScheme",{enumerable:!0,get:function(){return X.isDataScheme}}),Object.defineProperty(a,"isPdfFile",{enumerable:!0,get:function(){return X.isPdfFile}}),Object.defineProperty(a,"loadScript",{enumerable:!0,get:function(){return X.loadScript}}),Object.defineProperty(a,"noContextMenu",{enumerable:!0,get:function(){return X.noContextMenu}}),Object.defineProperty(a,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(a,"renderTextLayer",{enumerable:!0,get:function(){return ae.renderTextLayer}}),Object.defineProperty(a,"setLayerDimensions",{enumerable:!0,get:function(){return X.setLayerDimensions}}),Object.defineProperty(a,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(a,"updateTextLayer",{enumerable:!0,get:function(){return ae.updateTextLayer}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return M.version}});var s=__w_pdfjs_require__(1),M=__w_pdfjs_require__(2),X=__w_pdfjs_require__(6),ae=__w_pdfjs_require__(26),Te=__w_pdfjs_require__(27),Pe=__w_pdfjs_require__(5),x=__w_pdfjs_require__(29),ie=__w_pdfjs_require__(14),n=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,pdf_worker$1={exports:{}};(function(a,s){(function(X,ae){a.exports=X.pdfjsWorker=ae()})(globalThis,()=>(()=>{var M=[,(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.WorkerTask=x.WorkerMessageHandler=void 0;var n=ie(2),w=ie(3),O=ie(4),e=ie(6),t=ie(10),o=ie(68),K=ie(73),H=ie(104),U=ie(105),P=ie(72);class f{constructor(F){this.name=F,this.terminated=!1,this._capability=new n.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}x.WorkerTask=f;class p{static setup(F,_){let C=!1;F.on("test",function(Q){C||(C=!0,F.send("test",Q instanceof Uint8Array))}),F.on("configure",function(Q){(0,n.setVerbosityLevel)(Q.verbosity)}),F.on("GetDocRequest",function(Q){return p.createDocumentHandler(Q,_)})}static createDocumentHandler(F,_){let C,Q=!1,j=null;const re=new Set,T=(0,n.getVerbosityLevel)(),{docId:R,apiVersion:d}=F,y="3.11.174";if(d!==y)throw new Error(`The API version "${d}" does not match the Worker version "${y}".`);const W=[];for(const h in[])W.push(h);if(W.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+W.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const u=R+"_worker";let b=new H.MessageHandler(u,R,_);function D(){if(Q)throw new Error("Worker was terminated")}function J(h){re.add(h)}function N(h){h.finish(),re.delete(h)}async function v(h){await C.ensureDoc("checkHeader"),await C.ensureDoc("parseStartXRef"),await C.ensureDoc("parse",[h]),await C.ensureDoc("checkFirstPage",[h]),await C.ensureDoc("checkLastPage",[h]);const B=await C.ensureDoc("isPureXfa");if(B){const G=new f("loadXfaFonts");J(G),await Promise.all([C.loadXfaFonts(b,G).catch(se=>{}).then(()=>N(G)),C.loadXfaImages()])}const[r,A]=await Promise.all([C.ensureDoc("numPages"),C.ensureDoc("fingerprints")]),E=B?await C.ensureDoc("htmlForXfa"):null;return{numPages:r,fingerprints:A,htmlForXfa:E}}function S({data:h,password:B,disableAutoFetch:r,rangeChunkSize:A,length:E,docBaseUrl:G,enableXfa:se,evaluatorOptions:Ae}){const ke={source:null,disableAutoFetch:r,docBaseUrl:G,docId:R,enableXfa:se,evaluatorOptions:Ae,handler:b,length:E,password:B,rangeChunkSize:A},de=new n.PromiseCapability;let Ie;if(h){try{ke.source=h,Ie=new e.LocalPdfManager(ke),de.resolve(Ie)}catch(ue){de.reject(ue)}return de.promise}let ge,Be=[];try{ge=new U.PDFWorkerStream(b)}catch(ue){return de.reject(ue),de.promise}const ee=ge.getFullReader();ee.headersReady.then(function(){if(ee.isRangeSupported){ke.source=ge,ke.length=ee.contentLength,ke.disableAutoFetch||(ke.disableAutoFetch=ee.isStreamingSupported),Ie=new e.NetworkPdfManager(ke);for(const ue of Be)Ie.sendProgressiveData(ue);Be=[],de.resolve(Ie),j=null}}).catch(function(ue){de.reject(ue),j=null});let te=0;const fe=function(){const ue=(0,w.arrayBuffersToBytes)(Be);E&&ue.length!==E&&(0,n.warn)("reported HTTP length is different from actual");try{ke.source=ue,Ie=new e.LocalPdfManager(ke),de.resolve(Ie)}catch(le){de.reject(le)}Be=[]};return new Promise(function(ue,le){const be=function({value:Ce,done:ce}){try{if(D(),ce){Ie||fe(),j=null;return}te+=Ce.byteLength,ee.isStreamingSupported||b.send("DocProgress",{loaded:te,total:Math.max(te,ee.contentLength||0)}),Ie?Ie.sendProgressiveData(Ce):Be.push(Ce),ee.read().then(be,le)}catch(Ee){le(Ee)}};ee.read().then(be,le)}).catch(function(ue){de.reject(ue),j=null}),j=function(ue){ge.cancelAllRequests(ue)},de.promise}function I(h){function B(E){D(),b.send("GetDoc",{pdfInfo:E})}function r(E){if(D(),E instanceof n.PasswordException){const G=new f(`PasswordException: response ${E.code}`);J(G),b.sendWithPromise("PasswordRequest",E).then(function({password:se}){N(G),C.updatePassword(se),A()}).catch(function(){N(G),b.send("DocException",E)})}else E instanceof n.InvalidPDFException||E instanceof n.MissingPDFException||E instanceof n.UnexpectedResponseException||E instanceof n.UnknownErrorException?b.send("DocException",E):b.send("DocException",new n.UnknownErrorException(E.message,E.toString()))}function A(){D(),v(!1).then(B,function(E){if(D(),!(E instanceof w.XRefParseException)){r(E);return}C.requestLoadedStream().then(function(){D(),v(!0).then(B,r)})})}D(),S(h).then(function(E){if(Q)throw E.terminate(new n.AbortException("Worker was terminated.")),new Error("Worker was terminated");C=E,C.requestLoadedStream(!0).then(G=>{b.send("DataLoaded",{length:G.bytes.byteLength})})}).then(A,r)}return b.on("GetPage",function(h){return C.getPage(h.pageIndex).then(function(B){return Promise.all([C.ensure(B,"rotate"),C.ensure(B,"ref"),C.ensure(B,"userUnit"),C.ensure(B,"view")]).then(function([r,A,E,G]){return{rotate:r,ref:A,userUnit:E,view:G}})})}),b.on("GetPageIndex",function(h){const B=O.Ref.get(h.num,h.gen);return C.ensureCatalog("getPageIndex",[B])}),b.on("GetDestinations",function(h){return C.ensureCatalog("destinations")}),b.on("GetDestination",function(h){return C.ensureCatalog("getDestination",[h.id])}),b.on("GetPageLabels",function(h){return C.ensureCatalog("pageLabels")}),b.on("GetPageLayout",function(h){return C.ensureCatalog("pageLayout")}),b.on("GetPageMode",function(h){return C.ensureCatalog("pageMode")}),b.on("GetViewerPreferences",function(h){return C.ensureCatalog("viewerPreferences")}),b.on("GetOpenAction",function(h){return C.ensureCatalog("openAction")}),b.on("GetAttachments",function(h){return C.ensureCatalog("attachments")}),b.on("GetDocJSActions",function(h){return C.ensureCatalog("jsActions")}),b.on("GetPageJSActions",function({pageIndex:h}){return C.getPage(h).then(function(B){return C.ensure(B,"jsActions")})}),b.on("GetOutline",function(h){return C.ensureCatalog("documentOutline")}),b.on("GetOptionalContentConfig",function(h){return C.ensureCatalog("optionalContentConfig")}),b.on("GetPermissions",function(h){return C.ensureCatalog("permissions")}),b.on("GetMetadata",function(h){return Promise.all([C.ensureDoc("documentInfo"),C.ensureCatalog("metadata")])}),b.on("GetMarkInfo",function(h){return C.ensureCatalog("markInfo")}),b.on("GetData",function(h){return C.requestLoadedStream().then(function(B){return B.bytes})}),b.on("GetAnnotations",function({pageIndex:h,intent:B}){return C.getPage(h).then(function(r){const A=new f(`GetAnnotations: page ${h}`);return J(A),r.getAnnotationsData(b,A,B).then(E=>(N(A),E),E=>{throw N(A),E})})}),b.on("GetFieldObjects",function(h){return C.ensureDoc("fieldObjects")}),b.on("HasJSActions",function(h){return C.ensureDoc("hasJSActions")}),b.on("GetCalculationOrderIds",function(h){return C.ensureDoc("calculationOrderIds")}),b.on("SaveDocument",async function({isPureXfa:h,numPages:B,annotationStorage:r,filename:A}){const E=[C.requestLoadedStream(),C.ensureCatalog("acroForm"),C.ensureCatalog("acroFormRef"),C.ensureDoc("startXRef"),C.ensureDoc("xref"),C.ensureDoc("linearization"),C.ensureCatalog("structTreeRoot")],G=[],se=h?null:(0,w.getNewAnnotationsMap)(r),[Ae,ke,de,Ie,ge,Be,ee]=await Promise.all(E),te=ge.trailer.getRaw("Root")||null;let fe;if(se){ee?await ee.canUpdateStructTree({pdfManager:C,newAnnotationsByPage:se})&&(fe=ee):await P.StructTreeRoot.canCreateStructureTree({catalogRef:te,pdfManager:C,newAnnotationsByPage:se})&&(fe=null);const Fe=t.AnnotationFactory.generateImages(r.values(),ge,C.evaluatorOptions.isOffscreenCanvasSupported),_e=fe===void 0?G:[];for(const[Ne,Ze]of se)_e.push(C.getPage(Ne).then(tt=>{const je=new f(`Save (editor): page ${Ne}`);return tt.saveNewAnnotations(b,je,Ze,Fe).finally(function(){N(je)})}));fe===null?G.push(Promise.all(_e).then(async Ne=>(await P.StructTreeRoot.createStructureTree({newAnnotationsByPage:se,xref:ge,catalogRef:te,pdfManager:C,newRefs:Ne}),Ne))):fe&&G.push(Promise.all(_e).then(async Ne=>(await fe.updateStructureTree({newAnnotationsByPage:se,pdfManager:C,newRefs:Ne}),Ne)))}if(h)G.push(C.serializeXfaData(r));else for(let Fe=0;Fe<B;Fe++)G.push(C.getPage(Fe).then(function(_e){const Ne=new f(`Save: page ${Fe}`);return _e.save(b,Ne,r).finally(function(){N(Ne)})}));const ue=await Promise.all(G);let le=[],be=null;if(h){if(be=ue[0],!be)return Ae.bytes}else if(le=ue.flat(2),le.length===0)return Ae.bytes;const Ce=de&&ke instanceof O.Dict&&le.some(Fe=>Fe.needAppearances),ce=ke instanceof O.Dict&&ke.get("XFA")||null;let Ee=null,ve=!1;if(Array.isArray(ce)){for(let Fe=0,_e=ce.length;Fe<_e;Fe+=2)ce[Fe]==="datasets"&&(Ee=ce[Fe+1],ve=!0);Ee===null&&(Ee=ge.getNewTemporaryRef())}else ce&&(0,n.warn)("Unsupported XFA type.");let he=Object.create(null);if(ge.trailer){const Fe=Object.create(null),_e=ge.trailer.get("Info")||null;_e instanceof O.Dict&&_e.forEach((Ne,Ze)=>{typeof Ze=="string"&&(Fe[Ne]=(0,n.stringToPDFString)(Ze))}),he={rootRef:te,encryptRef:ge.trailer.getRaw("Encrypt")||null,newRef:ge.getNewTemporaryRef(),infoRef:ge.trailer.getRaw("Info")||null,info:Fe,fileIds:ge.trailer.get("ID")||null,startXRef:Be?Ie:ge.lastXRefStreamPos??Ie,filename:A}}return(0,K.incrementalUpdate)({originalData:Ae.bytes,xrefInfo:he,newRefs:le,xref:ge,hasXfa:!!ce,xfaDatasetsRef:Ee,hasXfaDatasetsEntry:ve,needAppearances:Ce,acroFormRef:de,acroForm:ke,xfaData:be}).finally(()=>{ge.resetNewTemporaryRef()})}),b.on("GetOperatorList",function(h,B){const r=h.pageIndex;C.getPage(r).then(function(A){const E=new f(`GetOperatorList: page ${r}`);J(E);const G=T>=n.VerbosityLevel.INFOS?Date.now():0;A.getOperatorList({handler:b,sink:B,task:E,intent:h.intent,cacheKey:h.cacheKey,annotationStorage:h.annotationStorage}).then(function(se){N(E),G&&(0,n.info)(`page=${r+1} - getOperatorList: time=${Date.now()-G}ms, len=${se.length}`),B.close()},function(se){N(E),!E.terminated&&B.error(se)})})}),b.on("GetTextContent",function(h,B){const{pageIndex:r,includeMarkedContent:A,disableNormalization:E}=h;C.getPage(r).then(function(G){const se=new f("GetTextContent: page "+r);J(se);const Ae=T>=n.VerbosityLevel.INFOS?Date.now():0;G.extractTextContent({handler:b,task:se,sink:B,includeMarkedContent:A,disableNormalization:E}).then(function(){N(se),Ae&&(0,n.info)(`page=${r+1} - getTextContent: time=${Date.now()-Ae}ms`),B.close()},function(ke){N(se),!se.terminated&&B.error(ke)})})}),b.on("GetStructTree",function(h){return C.getPage(h.pageIndex).then(function(B){return C.ensure(B,"getStructTree")})}),b.on("FontFallback",function(h){return C.fontFallback(h.id,b)}),b.on("Cleanup",function(h){return C.cleanup(!0)}),b.on("Terminate",function(h){Q=!0;const B=[];if(C){C.terminate(new n.AbortException("Worker was terminated."));const r=C.cleanup();B.push(r),C=null}else(0,o.clearGlobalCaches)();j&&j(new n.AbortException("Worker was terminated."));for(const r of re)B.push(r.finished),r.terminate();return Promise.all(B).then(function(){b.destroy(),b=null})}),b.on("Ready",function(h){I(F),F=null}),u}static initializeFromPort(F){const _=new H.MessageHandler("worker","main",F);p.setup(_,F),_.send("ready",null)}}x.WorkerMessageHandler=p;function i(k){return typeof k.postMessage=="function"&&"onmessage"in k}typeof window>"u"&&!n.isNodeJS&&typeof self<"u"&&i(self)&&p.initializeFromPort(self)},(Pe,x)=>{var pt;Object.defineProperty(x,"__esModule",{value:!0}),x.VerbosityLevel=x.Util=x.UnknownErrorException=x.UnexpectedResponseException=x.TextRenderingMode=x.RenderingIntentFlag=x.PromiseCapability=x.PermissionFlag=x.PasswordResponses=x.PasswordException=x.PageActionEventType=x.OPS=x.MissingPDFException=x.MAX_IMAGE_SIZE_TO_CACHE=x.LINE_FACTOR=x.LINE_DESCENT_FACTOR=x.InvalidPDFException=x.ImageKind=x.IDENTITY_MATRIX=x.FormatError=x.FeatureTest=x.FONT_IDENTITY_MATRIX=x.DocumentActionEventType=x.CMapCompressionType=x.BaseException=x.BASELINE_FACTOR=x.AnnotationType=x.AnnotationReplyType=x.AnnotationPrefix=x.AnnotationMode=x.AnnotationFlag=x.AnnotationFieldFlag=x.AnnotationEditorType=x.AnnotationEditorPrefix=x.AnnotationEditorParamsType=x.AnnotationBorderStyleType=x.AnnotationActionEventType=x.AbortException=void 0,x.assert=I,x.bytesToString=ge,x.createValidAbsoluteUrl=B,x.getModificationDate=Ze,x.getUuid=Ve,x.getVerbosityLevel=J,x.info=N,x.isArrayBuffer=_e,x.isArrayEqual=Ne,x.isNodeJS=void 0,x.normalizeUnicode=He,x.objectFromMap=fe,x.objectSize=te,x.setVerbosityLevel=D,x.shadow=r,x.string32=ee,x.stringToBytes=Be,x.stringToPDFString=ve,x.stringToUTF8String=he,x.unreachable=S,x.utf8StringToString=Fe,x.warn=v;const ie=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");x.isNodeJS=ie;const n=[1,0,0,1,0,0];x.IDENTITY_MATRIX=n;const w=[.001,0,0,.001,0,0];x.FONT_IDENTITY_MATRIX=w;const O=1e7;x.MAX_IMAGE_SIZE_TO_CACHE=O;const e=1.35;x.LINE_FACTOR=e;const t=.35;x.LINE_DESCENT_FACTOR=t;const o=t/e;x.BASELINE_FACTOR=o;const K={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};x.RenderingIntentFlag=K;const H={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};x.AnnotationMode=H;const U="pdfjs_internal_editor_";x.AnnotationEditorPrefix=U;const P={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};x.AnnotationEditorType=P;const f={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};x.AnnotationEditorParamsType=f;const p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};x.PermissionFlag=p;const i={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};x.TextRenderingMode=i;const k={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};x.ImageKind=k;const F={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};x.AnnotationType=F;const _={GROUP:"Group",REPLY:"R"};x.AnnotationReplyType=_;const C={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};x.AnnotationFlag=C;const Q={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};x.AnnotationFieldFlag=Q;const j={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};x.AnnotationBorderStyleType=j;const re={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};x.AnnotationActionEventType=re;const T={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};x.DocumentActionEventType=T;const R={O:"PageOpen",C:"PageClose"};x.PageActionEventType=R;const d={ERRORS:0,WARNINGS:1,INFOS:5};x.VerbosityLevel=d;const y={NONE:0,BINARY:1};x.CMapCompressionType=y;const W={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};x.OPS=W;const u={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};x.PasswordResponses=u;let b=d.WARNINGS;function D(at){Number.isInteger(at)&&(b=at)}function J(){return b}function N(at){b>=d.INFOS&&console.log(`Info: ${at}`)}function v(at){b>=d.WARNINGS&&console.log(`Warning: ${at}`)}function S(at){throw new Error(at)}function I(at,Re){at||S(Re)}function h(at){switch(at==null?void 0:at.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function B(at,Re=null,Ge=null){if(!at)return null;try{if(Ge&&typeof at=="string"){if(Ge.addDefaultProtocol&&at.startsWith("www.")){const rt=at.match(/\./g);(rt==null?void 0:rt.length)>=2&&(at=`http://${at}`)}if(Ge.tryConvertEncoding)try{at=he(at)}catch{}}const gt=Re?new URL(at,Re):new URL(at);if(h(gt))return gt}catch{}return null}function r(at,Re,Ge,gt=!1){return Object.defineProperty(at,Re,{value:Ge,enumerable:!gt,configurable:!0,writable:!1}),Ge}const A=function(){function Re(Ge,gt){this.constructor===Re&&S("Cannot initialize BaseException."),this.message=Ge,this.name=gt}return Re.prototype=new Error,Re.constructor=Re,Re}();x.BaseException=A;class E extends A{constructor(Re,Ge){super(Re,"PasswordException"),this.code=Ge}}x.PasswordException=E;class G extends A{constructor(Re,Ge){super(Re,"UnknownErrorException"),this.details=Ge}}x.UnknownErrorException=G;class se extends A{constructor(Re){super(Re,"InvalidPDFException")}}x.InvalidPDFException=se;class Ae extends A{constructor(Re){super(Re,"MissingPDFException")}}x.MissingPDFException=Ae;class ke extends A{constructor(Re,Ge){super(Re,"UnexpectedResponseException"),this.status=Ge}}x.UnexpectedResponseException=ke;class de extends A{constructor(Re){super(Re,"FormatError")}}x.FormatError=de;class Ie extends A{constructor(Re){super(Re,"AbortException")}}x.AbortException=Ie;function ge(at){(typeof at!="object"||(at==null?void 0:at.length)===void 0)&&S("Invalid argument for bytesToString");const Re=at.length,Ge=8192;if(Re<Ge)return String.fromCharCode.apply(null,at);const gt=[];for(let rt=0;rt<Re;rt+=Ge){const Bt=Math.min(rt+Ge,Re),St=at.subarray(rt,Bt);gt.push(String.fromCharCode.apply(null,St))}return gt.join("")}function Be(at){typeof at!="string"&&S("Invalid argument for stringToBytes");const Re=at.length,Ge=new Uint8Array(Re);for(let gt=0;gt<Re;++gt)Ge[gt]=at.charCodeAt(gt)&255;return Ge}function ee(at){return String.fromCharCode(at>>24&255,at>>16&255,at>>8&255,at&255)}function te(at){return Object.keys(at).length}function fe(at){const Re=Object.create(null);for(const[Ge,gt]of at)Re[Ge]=gt;return Re}function ue(){const at=new Uint8Array(4);return at[0]=1,new Uint32Array(at.buffer,0,1)[0]===1}function le(){try{return new Function(""),!0}catch{return!1}}class be{static get isLittleEndian(){return r(this,"isLittleEndian",ue())}static get isEvalSupported(){return r(this,"isEvalSupported",le())}static get isOffscreenCanvasSupported(){return r(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?r(this,"platform",{isWin:!1,isMac:!1}):r(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Re,Ge;return r(this,"isCSSRoundSupported",(Ge=(Re=globalThis.CSS)==null?void 0:Re.supports)==null?void 0:Ge.call(Re,"width: round(1.5px, 1px)"))}}x.FeatureTest=be;const Ce=[...Array(256).keys()].map(at=>at.toString(16).padStart(2,"0"));class ce{static makeHexColor(Re,Ge,gt){return`#${Ce[Re]}${Ce[Ge]}${Ce[gt]}`}static scaleMinMax(Re,Ge){let gt;Re[0]?(Re[0]<0&&(gt=Ge[0],Ge[0]=Ge[1],Ge[1]=gt),Ge[0]*=Re[0],Ge[1]*=Re[0],Re[3]<0&&(gt=Ge[2],Ge[2]=Ge[3],Ge[3]=gt),Ge[2]*=Re[3],Ge[3]*=Re[3]):(gt=Ge[0],Ge[0]=Ge[2],Ge[2]=gt,gt=Ge[1],Ge[1]=Ge[3],Ge[3]=gt,Re[1]<0&&(gt=Ge[2],Ge[2]=Ge[3],Ge[3]=gt),Ge[2]*=Re[1],Ge[3]*=Re[1],Re[2]<0&&(gt=Ge[0],Ge[0]=Ge[1],Ge[1]=gt),Ge[0]*=Re[2],Ge[1]*=Re[2]),Ge[0]+=Re[4],Ge[1]+=Re[4],Ge[2]+=Re[5],Ge[3]+=Re[5]}static transform(Re,Ge){return[Re[0]*Ge[0]+Re[2]*Ge[1],Re[1]*Ge[0]+Re[3]*Ge[1],Re[0]*Ge[2]+Re[2]*Ge[3],Re[1]*Ge[2]+Re[3]*Ge[3],Re[0]*Ge[4]+Re[2]*Ge[5]+Re[4],Re[1]*Ge[4]+Re[3]*Ge[5]+Re[5]]}static applyTransform(Re,Ge){const gt=Re[0]*Ge[0]+Re[1]*Ge[2]+Ge[4],rt=Re[0]*Ge[1]+Re[1]*Ge[3]+Ge[5];return[gt,rt]}static applyInverseTransform(Re,Ge){const gt=Ge[0]*Ge[3]-Ge[1]*Ge[2],rt=(Re[0]*Ge[3]-Re[1]*Ge[2]+Ge[2]*Ge[5]-Ge[4]*Ge[3])/gt,Bt=(-Re[0]*Ge[1]+Re[1]*Ge[0]+Ge[4]*Ge[1]-Ge[5]*Ge[0])/gt;return[rt,Bt]}static getAxialAlignedBoundingBox(Re,Ge){const gt=this.applyTransform(Re,Ge),rt=this.applyTransform(Re.slice(2,4),Ge),Bt=this.applyTransform([Re[0],Re[3]],Ge),St=this.applyTransform([Re[2],Re[1]],Ge);return[Math.min(gt[0],rt[0],Bt[0],St[0]),Math.min(gt[1],rt[1],Bt[1],St[1]),Math.max(gt[0],rt[0],Bt[0],St[0]),Math.max(gt[1],rt[1],Bt[1],St[1])]}static inverseTransform(Re){const Ge=Re[0]*Re[3]-Re[1]*Re[2];return[Re[3]/Ge,-Re[1]/Ge,-Re[2]/Ge,Re[0]/Ge,(Re[2]*Re[5]-Re[4]*Re[3])/Ge,(Re[4]*Re[1]-Re[5]*Re[0])/Ge]}static singularValueDecompose2dScale(Re){const Ge=[Re[0],Re[2],Re[1],Re[3]],gt=Re[0]*Ge[0]+Re[1]*Ge[2],rt=Re[0]*Ge[1]+Re[1]*Ge[3],Bt=Re[2]*Ge[0]+Re[3]*Ge[2],St=Re[2]*Ge[1]+Re[3]*Ge[3],jn=(gt+St)/2,dt=Math.sqrt((gt+St)**2-4*(gt*St-Bt*rt))/2,Zt=jn+dt||1,Gt=jn-dt||1;return[Math.sqrt(Zt),Math.sqrt(Gt)]}static normalizeRect(Re){const Ge=Re.slice(0);return Re[0]>Re[2]&&(Ge[0]=Re[2],Ge[2]=Re[0]),Re[1]>Re[3]&&(Ge[1]=Re[3],Ge[3]=Re[1]),Ge}static intersect(Re,Ge){const gt=Math.max(Math.min(Re[0],Re[2]),Math.min(Ge[0],Ge[2])),rt=Math.min(Math.max(Re[0],Re[2]),Math.max(Ge[0],Ge[2]));if(gt>rt)return null;const Bt=Math.max(Math.min(Re[1],Re[3]),Math.min(Ge[1],Ge[3])),St=Math.min(Math.max(Re[1],Re[3]),Math.max(Ge[1],Ge[3]));return Bt>St?null:[gt,Bt,rt,St]}static bezierBoundingBox(Re,Ge,gt,rt,Bt,St,jn,dt){const Zt=[],Gt=[[],[]];let Ke,Ue,ze,qe,ct,ft,mt,$t;for(let Vt=0;Vt<2;++Vt){if(Vt===0?(Ue=6*Re-12*gt+6*Bt,Ke=-3*Re+9*gt-9*Bt+3*jn,ze=3*gt-3*Re):(Ue=6*Ge-12*rt+6*St,Ke=-3*Ge+9*rt-9*St+3*dt,ze=3*rt-3*Ge),Math.abs(Ke)<1e-12){if(Math.abs(Ue)<1e-12)continue;qe=-ze/Ue,0<qe&&qe<1&&Zt.push(qe);continue}mt=Ue*Ue-4*ze*Ke,$t=Math.sqrt(mt),!(mt<0)&&(ct=(-Ue+$t)/(2*Ke),0<ct&&ct<1&&Zt.push(ct),ft=(-Ue-$t)/(2*Ke),0<ft&&ft<1&&Zt.push(ft))}let Mt=Zt.length,Dt;const Xt=Mt;for(;Mt--;)qe=Zt[Mt],Dt=1-qe,Gt[0][Mt]=Dt*Dt*Dt*Re+3*Dt*Dt*qe*gt+3*Dt*qe*qe*Bt+qe*qe*qe*jn,Gt[1][Mt]=Dt*Dt*Dt*Ge+3*Dt*Dt*qe*rt+3*Dt*qe*qe*St+qe*qe*qe*dt;return Gt[0][Xt]=Re,Gt[1][Xt]=Ge,Gt[0][Xt+1]=jn,Gt[1][Xt+1]=dt,Gt[0].length=Gt[1].length=Xt+2,[Math.min(...Gt[0]),Math.min(...Gt[1]),Math.max(...Gt[0]),Math.max(...Gt[1])]}}x.Util=ce;const Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ve(at){if(at[0]>=""){let Ge;if(at[0]===""&&at[1]===""?Ge="utf-16be":at[0]===""&&at[1]===""?Ge="utf-16le":at[0]===""&&at[1]===""&&at[2]===""&&(Ge="utf-8"),Ge)try{const gt=new TextDecoder(Ge,{fatal:!0}),rt=Be(at);return gt.decode(rt)}catch(gt){v(`stringToPDFString: "${gt}".`)}}const Re=[];for(let Ge=0,gt=at.length;Ge<gt;Ge++){const rt=Ee[at.charCodeAt(Ge)];Re.push(rt?String.fromCharCode(rt):at.charAt(Ge))}return Re.join("")}function he(at){return decodeURIComponent(escape(at))}function Fe(at){return unescape(encodeURIComponent(at))}function _e(at){return typeof at=="object"&&(at==null?void 0:at.byteLength)!==void 0}function Ne(at,Re){if(at.length!==Re.length)return!1;for(let Ge=0,gt=at.length;Ge<gt;Ge++)if(at[Ge]!==Re[Ge])return!1;return!0}function Ze(at=new Date){return[at.getUTCFullYear().toString(),(at.getUTCMonth()+1).toString().padStart(2,"0"),at.getUTCDate().toString().padStart(2,"0"),at.getUTCHours().toString().padStart(2,"0"),at.getUTCMinutes().toString().padStart(2,"0"),at.getUTCSeconds().toString().padStart(2,"0")].join("")}class tt{constructor(){At(this,pt,!1);this.promise=new Promise((Re,Ge)=>{this.resolve=gt=>{Pt(this,pt,!0),Re(gt)},this.reject=gt=>{Pt(this,pt,!0),Ge(gt)}})}get settled(){return Me(this,pt)}}pt=new WeakMap,x.PromiseCapability=tt;let je=null,$e=null;function He(at){return je||(je=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,$e=new Map([["","t"]])),at.replaceAll(je,(Re,Ge,gt)=>Ge?Ge.normalize("NFKC"):$e.get(gt))}function Ve(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const at=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(at);else for(let Re=0;Re<32;Re++)at[Re]=Math.floor(Math.random()*255);return ge(at)}const st="pdfjs_internal_id_";x.AnnotationPrefix=st},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XRefParseException=x.XRefEntryException=x.ParserEOFException=x.PDF_VERSION_REGEXP=x.MissingDataException=void 0,x.arrayBuffersToBytes=P,x.collectActions=d,x.encodeToXmlString=W,x.escapePDFName=re,x.escapeString=T,x.getInheritableProperty=f,x.getLookupTableFactory=t,x.getNewAnnotationsMap=N,x.getRotationMatrix=h,x.isAscii=v,x.isWhiteSpace=Q,x.log2=k,x.numberToString=J,x.parseXFAPath=j,x.readInt8=F,x.readUint16=_,x.readUint32=C,x.recoverJsURL=D,x.stringToUTF16HexString=S,x.stringToUTF16String=I,x.toRomanNumerals=i,x.validateCSSFont=b,x.validateFontName=u;var n=ie(2),w=ie(4),O=ie(5);const e=/^[1-9]\.\d$/;x.PDF_VERSION_REGEXP=e;function t(B){let r;return function(){return B&&(r=Object.create(null),B(r),B=null),r}}class o extends n.BaseException{constructor(r,A){super(`Missing data [${r}, ${A})`,"MissingDataException"),this.begin=r,this.end=A}}x.MissingDataException=o;class K extends n.BaseException{constructor(r){super(r,"ParserEOFException")}}x.ParserEOFException=K;class H extends n.BaseException{constructor(r){super(r,"XRefEntryException")}}x.XRefEntryException=H;class U extends n.BaseException{constructor(r){super(r,"XRefParseException")}}x.XRefParseException=U;function P(B){const r=B.length;if(r===0)return new Uint8Array(0);if(r===1)return new Uint8Array(B[0]);let A=0;for(let se=0;se<r;se++)A+=B[se].byteLength;const E=new Uint8Array(A);let G=0;for(let se=0;se<r;se++){const Ae=new Uint8Array(B[se]);E.set(Ae,G),G+=Ae.byteLength}return E}function f({dict:B,key:r,getArray:A=!1,stopWhenFound:E=!0}){let G;const se=new w.RefSet;for(;B instanceof w.Dict&&!(B.objId&&se.has(B.objId));){B.objId&&se.put(B.objId);const Ae=A?B.getArray(r):B.get(r);if(Ae!==void 0){if(E)return Ae;(G||(G=[])).push(Ae)}B=B.get("Parent")}return G}const p=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function i(B,r=!1){(0,n.assert)(Number.isInteger(B)&&B>0,"The number should be a positive integer.");const A=[];let E;for(;B>=1e3;)B-=1e3,A.push("M");E=B/100|0,B%=100,A.push(p[E]),E=B/10|0,B%=10,A.push(p[10+E]),A.push(p[20+B]);const G=A.join("");return r?G.toLowerCase():G}function k(B){return B<=0?0:Math.ceil(Math.log2(B))}function F(B,r){return B[r]<<24>>24}function _(B,r){return B[r]<<8|B[r+1]}function C(B,r){return(B[r]<<24|B[r+1]<<16|B[r+2]<<8|B[r+3])>>>0}function Q(B){return B===32||B===9||B===13||B===10}function j(B){const r=/(.+)\[(\d+)\]$/;return B.split(".").map(A=>{const E=A.match(r);return E?{name:E[1],pos:parseInt(E[2],10)}:{name:A,pos:0}})}function re(B){const r=[];let A=0;for(let E=0,G=B.length;E<G;E++){const se=B.charCodeAt(E);(se<33||se>126||se===35||se===40||se===41||se===60||se===62||se===91||se===93||se===123||se===125||se===47||se===37)&&(A<E&&r.push(B.substring(A,E)),r.push(`#${se.toString(16)}`),A=E+1)}return r.length===0?B:(A<B.length&&r.push(B.substring(A,B.length)),r.join(""))}function T(B){return B.replaceAll(/([()\\\n\r])/g,r=>r===`
`?"\\n":r==="\r"?"\\r":`\\${r}`)}function R(B,r,A,E){if(!B)return;let G=null;if(B instanceof w.Ref){if(E.has(B))return;G=B,E.put(G),B=r.fetch(B)}if(Array.isArray(B))for(const se of B)R(se,r,A,E);else if(B instanceof w.Dict){if((0,w.isName)(B.get("S"),"JavaScript")){const se=B.get("JS");let Ae;se instanceof O.BaseStream?Ae=se.getString():typeof se=="string"&&(Ae=se),Ae&&(Ae=(0,n.stringToPDFString)(Ae).replaceAll("\0","")),Ae&&A.push(Ae)}R(B.getRaw("Next"),r,A,E)}G&&E.remove(G)}function d(B,r,A){const E=Object.create(null),G=f({dict:r,key:"AA",stopWhenFound:!1});if(G)for(let se=G.length-1;se>=0;se--){const Ae=G[se];if(Ae instanceof w.Dict)for(const ke of Ae.getKeys()){const de=A[ke];if(!de)continue;const Ie=Ae.getRaw(ke),ge=new w.RefSet,Be=[];R(Ie,B,Be,ge),Be.length>0&&(E[de]=Be)}}if(r.has("A")){const se=r.get("A"),Ae=new w.RefSet,ke=[];R(se,B,ke,Ae),ke.length>0&&(E.Action=ke)}return(0,n.objectSize)(E)>0?E:null}const y={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function W(B){const r=[];let A=0;for(let E=0,G=B.length;E<G;E++){const se=B.codePointAt(E);if(32<=se&&se<=126){const Ae=y[se];Ae&&(A<E&&r.push(B.substring(A,E)),r.push(Ae),A=E+1)}else A<E&&r.push(B.substring(A,E)),r.push(`&#x${se.toString(16).toUpperCase()};`),se>55295&&(se<57344||se>65533)&&E++,A=E+1}return r.length===0?B:(A<B.length&&r.push(B.substring(A,B.length)),r.join(""))}function u(B,r=!1){const A=/^("|').*("|')$/.exec(B);if(A&&A[1]===A[2]){if(new RegExp(`[^\\\\]${A[1]}`).test(B.slice(1,-1)))return r&&(0,n.warn)(`FontFamily contains unescaped ${A[1]}: ${B}.`),!1}else for(const E of B.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(E)||!/^[\w-\\]+$/.test(E))return r&&(0,n.warn)(`FontFamily contains invalid <custom-ident>: ${B}.`),!1;return!0}function b(B){const r="14",A="400",E=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:G,fontWeight:se,italicAngle:Ae}=B;if(!u(G,!0))return!1;const ke=se?se.toString():"";B.fontWeight=E.has(ke)?ke:A;const de=parseFloat(Ae);return B.italicAngle=isNaN(de)||de<-90||de>90?r:Ae.toString(),!0}function D(B){const r=["app.launchURL","window.open","xfa.host.gotoURL"],E=new RegExp("^\\s*("+r.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(B);if(E!=null&&E[2]){const G=E[2];let se=!1;return E[3]==="true"&&E[1]==="app.launchURL"&&(se=!0),{url:G,newWindow:se}}return null}function J(B){if(Number.isInteger(B))return B.toString();const r=Math.round(B*100);return r%100===0?(r/100).toString():r%10===0?B.toFixed(1):B.toFixed(2)}function N(B){if(!B)return null;const r=new Map;for(const[A,E]of B){if(!A.startsWith(n.AnnotationEditorPrefix))continue;let G=r.get(E.pageIndex);G||(G=[],r.set(E.pageIndex,G)),G.push(E)}return r.size>0?r:null}function v(B){return/^[\x00-\x7F]*$/.test(B)}function S(B){const r=[];for(let A=0,E=B.length;A<E;A++){const G=B.charCodeAt(A);r.push((G>>8&255).toString(16).padStart(2,"0"),(G&255).toString(16).padStart(2,"0"))}return r.join("")}function I(B,r=!1){const A=[];r&&A.push("");for(let E=0,G=B.length;E<G;E++){const se=B.charCodeAt(E);A.push(String.fromCharCode(se>>8&255),String.fromCharCode(se&255))}return A.join("")}function h(B,r,A){switch(B){case 90:return[0,1,-1,0,r,0];case 180:return[-1,0,0,-1,r,A];case 270:return[0,-1,1,0,0,A];default:throw new Error("Invalid rotation")}}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.RefSetCache=x.RefSet=x.Ref=x.Name=x.EOF=x.Dict=x.Cmd=x.CIRCULAR_REF=void 0,x.clearPrimitiveCaches=K,x.isCmd=_,x.isDict=C,x.isName=F,x.isRefsEqual=Q;var n=ie(2);const w=Symbol("CIRCULAR_REF");x.CIRCULAR_REF=w;const O=Symbol("EOF");x.EOF=O;let e=Object.create(null),t=Object.create(null),o=Object.create(null);function K(){e=Object.create(null),t=Object.create(null),o=Object.create(null)}class H{constructor(re){this.name=re}static get(re){return t[re]||(t[re]=new H(re))}}x.Name=H;class U{constructor(re){this.cmd=re}static get(re){return e[re]||(e[re]=new U(re))}}x.Cmd=U;const P=function(){return P};class f{constructor(re=null){this._map=Object.create(null),this.xref=re,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=P}assignXref(re){this.xref=re}get size(){return Object.keys(this._map).length}get(re,T,R){let d=this._map[re];return d===void 0&&T!==void 0&&(d=this._map[T],d===void 0&&R!==void 0&&(d=this._map[R])),d instanceof p&&this.xref?this.xref.fetch(d,this.suppressEncryption):d}async getAsync(re,T,R){let d=this._map[re];return d===void 0&&T!==void 0&&(d=this._map[T],d===void 0&&R!==void 0&&(d=this._map[R])),d instanceof p&&this.xref?this.xref.fetchAsync(d,this.suppressEncryption):d}getArray(re,T,R){let d=this._map[re];if(d===void 0&&T!==void 0&&(d=this._map[T],d===void 0&&R!==void 0&&(d=this._map[R])),d instanceof p&&this.xref&&(d=this.xref.fetch(d,this.suppressEncryption)),Array.isArray(d)){d=d.slice();for(let y=0,W=d.length;y<W;y++)d[y]instanceof p&&this.xref&&(d[y]=this.xref.fetch(d[y],this.suppressEncryption))}return d}getRaw(re){return this._map[re]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(re,T){this._map[re]=T}has(re){return this._map[re]!==void 0}forEach(re){for(const T in this._map)re(T,this.get(T))}static get empty(){const re=new f(null);return re.set=(T,R)=>{(0,n.unreachable)("Should not call `set` on the empty dictionary.")},(0,n.shadow)(this,"empty",re)}static merge({xref:re,dictArray:T,mergeSubDicts:R=!1}){const d=new f(re),y=new Map;for(const W of T)if(W instanceof f)for(const[u,b]of Object.entries(W._map)){let D=y.get(u);if(D===void 0)D=[],y.set(u,D);else if(!R||!(b instanceof f))continue;D.push(b)}for(const[W,u]of y){if(u.length===1||!(u[0]instanceof f)){d._map[W]=u[0];continue}const b=new f(re);for(const D of u)for(const[J,N]of Object.entries(D._map))b._map[J]===void 0&&(b._map[J]=N);b.size>0&&(d._map[W]=b)}return y.clear(),d.size>0?d:f.empty}clone(){const re=new f(this.xref);for(const T of this.getKeys())re.set(T,this.getRaw(T));return re}}x.Dict=f;class p{constructor(re,T){this.num=re,this.gen=T}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(re){const T=o[re];if(T)return T;const R=/^(\d+)R(\d*)$/.exec(re);return!R||R[1]==="0"?null:o[re]=new p(parseInt(R[1]),R[2]?parseInt(R[2]):0)}static get(re,T){const R=T===0?`${re}R`:`${re}R${T}`;return o[R]||(o[R]=new p(re,T))}}x.Ref=p;class i{constructor(re=null){this._set=new Set(re==null?void 0:re._set)}has(re){return this._set.has(re.toString())}put(re){this._set.add(re.toString())}remove(re){this._set.delete(re.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}x.RefSet=i;class k{constructor(){this._map=new Map}get size(){return this._map.size}get(re){return this._map.get(re.toString())}has(re){return this._map.has(re.toString())}put(re,T){this._map.set(re.toString(),T)}putAlias(re,T){this._map.set(re.toString(),this.get(T))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}x.RefSetCache=k;function F(j,re){return j instanceof H&&(re===void 0||j.name===re)}function _(j,re){return j instanceof U&&(re===void 0||j.cmd===re)}function C(j,re){return j instanceof f&&(re===void 0||F(j.get("Type"),re))}function Q(j,re){return j.num===re.num&&j.gen===re.gen}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.BaseStream=void 0;var n=ie(2);class w{constructor(){this.constructor===w&&(0,n.unreachable)("Cannot initialize BaseStream.")}get length(){(0,n.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,n.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,n.shadow)(this,"isDataLoaded",!0)}getByte(){(0,n.unreachable)("Abstract method `getByte` called")}getBytes(e){(0,n.unreachable)("Abstract method `getBytes` called")}peekByte(){const e=this.getByte();return e!==-1&&this.pos--,e}peekBytes(e){const t=this.getBytes(e);return this.pos-=t.length,t}getUint16(){const e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t}getInt32(){const e=this.getByte(),t=this.getByte(),o=this.getByte(),K=this.getByte();return(e<<24)+(t<<16)+(o<<8)+K}getByteRange(e,t){(0,n.unreachable)("Abstract method `getByteRange` called")}getString(e){return(0,n.bytesToString)(this.getBytes(e))}skip(e){this.pos+=e||1}reset(){(0,n.unreachable)("Abstract method `reset` called")}moveStart(){(0,n.unreachable)("Abstract method `moveStart` called")}makeSubStream(e,t,o=null){(0,n.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}x.BaseStream=w},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.NetworkPdfManager=x.LocalPdfManager=void 0;var n=ie(2),w=ie(7),O=ie(3),e=ie(9),t=ie(8);function o(P){if(P){const f=(0,n.createValidAbsoluteUrl)(P);if(f)return f.href;(0,n.warn)(`Invalid absolute docBaseUrl: "${P}".`)}return null}class K{constructor(f){var p;this.constructor===K&&(0,n.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=o(f.docBaseUrl),this._docId=f.docId,this._password=f.password,this.enableXfa=f.enableXfa,(p=f.evaluatorOptions).isOffscreenCanvasSupported&&(p.isOffscreenCanvasSupported=n.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=f.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(f,p){return this.ensure(this.pdfDocument,f,p)}ensureXRef(f,p){return this.ensure(this.pdfDocument.xref,f,p)}ensureCatalog(f,p){return this.ensure(this.pdfDocument.catalog,f,p)}getPage(f){return this.pdfDocument.getPage(f)}fontFallback(f,p){return this.pdfDocument.fontFallback(f,p)}loadXfaFonts(f,p){return this.pdfDocument.loadXfaFonts(f,p)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(f){return this.pdfDocument.serializeXfaData(f)}cleanup(f=!1){return this.pdfDocument.cleanup(f)}async ensure(f,p,i){(0,n.unreachable)("Abstract method `ensure` called")}requestRange(f,p){(0,n.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(f=!1){(0,n.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(f){(0,n.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(f){this._password=f}terminate(f){(0,n.unreachable)("Abstract method `terminate` called")}}class H extends K{constructor(f){super(f);const p=new t.Stream(f.source);this.pdfDocument=new e.PDFDocument(this,p),this._loadedStreamPromise=Promise.resolve(p)}async ensure(f,p,i){const k=f[p];return typeof k=="function"?k.apply(f,i):k}requestRange(f,p){return Promise.resolve()}requestLoadedStream(f=!1){return this._loadedStreamPromise}terminate(f){}}x.LocalPdfManager=H;class U extends K{constructor(f){super(f),this.streamManager=new w.ChunkedStreamManager(f.source,{msgHandler:f.handler,length:f.length,disableAutoFetch:f.disableAutoFetch,rangeChunkSize:f.rangeChunkSize}),this.pdfDocument=new e.PDFDocument(this,this.streamManager.getStream())}async ensure(f,p,i){try{const k=f[p];return typeof k=="function"?k.apply(f,i):k}catch(k){if(!(k instanceof O.MissingDataException))throw k;return await this.requestRange(k.begin,k.end),this.ensure(f,p,i)}}requestRange(f,p){return this.streamManager.requestRange(f,p)}requestLoadedStream(f=!1){return this.streamManager.requestAllChunks(f)}sendProgressiveData(f){this.streamManager.onReceiveData({chunk:f})}terminate(f){this.streamManager.abort(f)}}x.NetworkPdfManager=U},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ChunkedStreamManager=x.ChunkedStream=void 0;var n=ie(3),w=ie(2),O=ie(8);class e extends O.Stream{constructor(K,H,U){super(new Uint8Array(K),0,K,null),this.chunkSize=H,this._loadedChunks=new Set,this.numChunks=Math.ceil(K/H),this.manager=U,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const K=[];for(let H=0,U=this.numChunks;H<U;++H)this._loadedChunks.has(H)||K.push(H);return K}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(K,H){const U=this.chunkSize;if(K%U!==0)throw new Error(`Bad begin offset: ${K}`);const P=K+H.byteLength;if(P%U!==0&&P!==this.bytes.length)throw new Error(`Bad end offset: ${P}`);this.bytes.set(new Uint8Array(H),K);const f=Math.floor(K/U),p=Math.floor((P-1)/U)+1;for(let i=f;i<p;++i)this._loadedChunks.add(i)}onReceiveProgressiveData(K){let H=this.progressiveDataLength;const U=Math.floor(H/this.chunkSize);this.bytes.set(new Uint8Array(K),H),H+=K.byteLength,this.progressiveDataLength=H;const P=H>=this.end?this.numChunks:Math.floor(H/this.chunkSize);for(let f=U;f<P;++f)this._loadedChunks.add(f)}ensureByte(K){if(K<this.progressiveDataLength)return;const H=Math.floor(K/this.chunkSize);if(!(H>this.numChunks)&&H!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(H))throw new n.MissingDataException(K,K+1);this.lastSuccessfulEnsureByteChunk=H}}ensureRange(K,H){if(K>=H||H<=this.progressiveDataLength)return;const U=Math.floor(K/this.chunkSize);if(U>this.numChunks)return;const P=Math.min(Math.floor((H-1)/this.chunkSize)+1,this.numChunks);for(let f=U;f<P;++f)if(!this._loadedChunks.has(f))throw new n.MissingDataException(K,H)}nextEmptyChunk(K){const H=this.numChunks;for(let U=0;U<H;++U){const P=(K+U)%H;if(!this._loadedChunks.has(P))return P}return null}hasChunk(K){return this._loadedChunks.has(K)}getByte(){const K=this.pos;return K>=this.end?-1:(K>=this.progressiveDataLength&&this.ensureByte(K),this.bytes[this.pos++])}getBytes(K){const H=this.bytes,U=this.pos,P=this.end;if(!K)return P>this.progressiveDataLength&&this.ensureRange(U,P),H.subarray(U,P);let f=U+K;return f>P&&(f=P),f>this.progressiveDataLength&&this.ensureRange(U,f),this.pos=f,H.subarray(U,f)}getByteRange(K,H){return K<0&&(K=0),H>this.end&&(H=this.end),H>this.progressiveDataLength&&this.ensureRange(K,H),this.bytes.subarray(K,H)}makeSubStream(K,H,U=null){H?K+H>this.progressiveDataLength&&this.ensureRange(K,K+H):K>=this.progressiveDataLength&&this.ensureByte(K);function P(){}P.prototype=Object.create(this),P.prototype.getMissingChunks=function(){const p=this.chunkSize,i=Math.floor(this.start/p),k=Math.floor((this.end-1)/p)+1,F=[];for(let _=i;_<k;++_)this._loadedChunks.has(_)||F.push(_);return F},Object.defineProperty(P.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const f=new P;return f.pos=f.start=K,f.end=K+H||this.end,f.dict=U,f}getBaseStreams(){return[this]}}x.ChunkedStream=e;class t{constructor(K,H){this.length=H.length,this.chunkSize=H.rangeChunkSize,this.stream=new e(this.length,this.chunkSize,this),this.pdfNetworkStream=K,this.disableAutoFetch=H.disableAutoFetch,this.msgHandler=H.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new w.PromiseCapability}sendRequest(K,H){const U=this.pdfNetworkStream.getRangeReader(K,H);U.isStreamingSupported||(U.onProgress=this.onProgress.bind(this));let P=[],f=0;return new Promise((p,i)=>{const k=({value:F,done:_})=>{try{if(_){const C=(0,n.arrayBuffersToBytes)(P);P=null,p(C);return}f+=F.byteLength,U.isStreamingSupported&&this.onProgress({loaded:f}),P.push(F),U.read().then(k,i)}catch(C){i(C)}};U.read().then(k,i)}).then(p=>{this.aborted||this.onReceiveData({chunk:p,begin:K})})}requestAllChunks(K=!1){if(!K){const H=this.stream.getMissingChunks();this._requestChunks(H)}return this._loadedStreamCapability.promise}_requestChunks(K){const H=this.currRequestId++,U=new Set;this._chunksNeededByRequest.set(H,U);for(const p of K)this.stream.hasChunk(p)||U.add(p);if(U.size===0)return Promise.resolve();const P=new w.PromiseCapability;this._promisesByRequest.set(H,P);const f=[];for(const p of U){let i=this._requestsByChunk.get(p);i||(i=[],this._requestsByChunk.set(p,i),f.push(p)),i.push(H)}if(f.length>0){const p=this.groupChunks(f);for(const i of p){const k=i.beginChunk*this.chunkSize,F=Math.min(i.endChunk*this.chunkSize,this.length);this.sendRequest(k,F).catch(P.reject)}}return P.promise.catch(p=>{if(!this.aborted)throw p})}getStream(){return this.stream}requestRange(K,H){H=Math.min(H,this.length);const U=this.getBeginChunk(K),P=this.getEndChunk(H),f=[];for(let p=U;p<P;++p)f.push(p);return this._requestChunks(f)}requestRanges(K=[]){const H=[];for(const U of K){const P=this.getBeginChunk(U.begin),f=this.getEndChunk(U.end);for(let p=P;p<f;++p)H.includes(p)||H.push(p)}return H.sort(function(U,P){return U-P}),this._requestChunks(H)}groupChunks(K){const H=[];let U=-1,P=-1;for(let f=0,p=K.length;f<p;++f){const i=K[f];U<0&&(U=i),P>=0&&P+1!==i&&(H.push({beginChunk:U,endChunk:P+1}),U=i),f+1===K.length&&H.push({beginChunk:U,endChunk:i+1}),P=i}return H}onProgress(K){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+K.loaded,total:this.length})}onReceiveData(K){const H=K.chunk,U=K.begin===void 0,P=U?this.progressiveDataLength:K.begin,f=P+H.byteLength,p=Math.floor(P/this.chunkSize),i=f<this.length?Math.floor(f/this.chunkSize):Math.ceil(f/this.chunkSize);U?(this.stream.onReceiveProgressiveData(H),this.progressiveDataLength=f):this.stream.onReceiveData(P,H),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const k=[];for(let F=p;F<i;++F){const _=this._requestsByChunk.get(F);if(_){this._requestsByChunk.delete(F);for(const C of _){const Q=this._chunksNeededByRequest.get(C);Q.has(F)&&Q.delete(F),!(Q.size>0)&&k.push(C)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let F;if(this.stream.numChunksLoaded===1){const _=this.stream.numChunks-1;this.stream.hasChunk(_)||(F=_)}else F=this.stream.nextEmptyChunk(i);Number.isInteger(F)&&this._requestChunks([F])}for(const F of k){const _=this._promisesByRequest.get(F);this._promisesByRequest.delete(F),_.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(K){this._loadedStreamCapability.reject(K)}getBeginChunk(K){return Math.floor(K/this.chunkSize)}getEndChunk(K){return Math.floor((K-1)/this.chunkSize)+1}abort(K){var H;this.aborted=!0,(H=this.pdfNetworkStream)==null||H.cancelAllRequests(K);for(const U of this._promisesByRequest.values())U.reject(K)}}x.ChunkedStreamManager=t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.StringStream=x.Stream=x.NullStream=void 0;var n=ie(5),w=ie(2);class O extends n.BaseStream{constructor(K,H,U,P){super(),this.bytes=K instanceof Uint8Array?K:new Uint8Array(K),this.start=H||0,this.pos=this.start,this.end=H+U||this.bytes.length,this.dict=P}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(K){const H=this.bytes,U=this.pos,P=this.end;if(!K)return H.subarray(U,P);let f=U+K;return f>P&&(f=P),this.pos=f,H.subarray(U,f)}getByteRange(K,H){return K<0&&(K=0),H>this.end&&(H=this.end),this.bytes.subarray(K,H)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(K,H,U=null){return new O(this.bytes.buffer,K,H,U)}}x.Stream=O;class e extends O{constructor(K){super((0,w.stringToBytes)(K))}}x.StringStream=e;class t extends O{constructor(){super(new Uint8Array(0))}}x.NullStream=t},(Pe,x,ie)=>{var v,N0,I,Q0;Object.defineProperty(x,"__esModule",{value:!0}),x.Page=x.PDFDocument=void 0;var n=ie(2),w=ie(10),O=ie(3),e=ie(4),t=ie(51),o=ie(5),K=ie(74),H=ie(66),U=ie(68),P=ie(102),f=ie(16),p=ie(8),i=ie(76),k=ie(64),F=ie(13),_=ie(18),C=ie(72),Q=ie(73),j=ie(77),re=ie(103);const T=1,R=[0,0,612,792];class d{constructor({pdfManager:r,xref:A,pageIndex:E,pageDict:G,ref:se,globalIdFactory:Ae,fontCache:ke,builtInCMapCache:de,standardFontDataCache:Ie,globalImageCache:ge,systemFontCache:Be,nonBlendModesSet:ee,xfaFactory:te}){At(this,v);this.pdfManager=r,this.pageIndex=E,this.pageDict=G,this.xref=A,this.ref=se,this.fontCache=ke,this.builtInCMapCache=de,this.standardFontDataCache=Ie,this.globalImageCache=ge,this.systemFontCache=Be,this.nonBlendModesSet=ee,this.evaluatorOptions=r.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=te;const fe={obj:0};this._localIdFactory=class extends Ae{static createObjId(){return`p${E}_${++fe.obj}`}static getPageObjId(){return`p${se.toString()}`}}}_getInheritableProperty(r,A=!1){const E=(0,O.getInheritableProperty)({dict:this.pageDict,key:r,getArray:A,stopWhenFound:!1});return Array.isArray(E)?E.length===1||!(E[0]instanceof e.Dict)?E[0]:e.Dict.merge({xref:this.xref,dictArray:E}):E}get content(){return this.pageDict.getArray("Contents")}get resources(){const r=this._getInheritableProperty("Resources");return(0,n.shadow)(this,"resources",r instanceof e.Dict?r:e.Dict.empty)}_getBoundingBox(r){if(this.xfaData)return this.xfaData.bbox;let A=this._getInheritableProperty(r,!0);if(Array.isArray(A)&&A.length===4){if(A=n.Util.normalizeRect(A),A[2]-A[0]>0&&A[3]-A[1]>0)return A;(0,n.warn)(`Empty, or invalid, /${r} entry.`)}return null}get mediaBox(){return(0,n.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||R)}get cropBox(){return(0,n.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let r=this.pageDict.get("UserUnit");return(typeof r!="number"||r<=0)&&(r=T),(0,n.shadow)(this,"userUnit",r)}get view(){const{cropBox:r,mediaBox:A}=this;if(r!==A&&!(0,n.isArrayEqual)(r,A)){const E=n.Util.intersect(r,A);if(E&&E[2]-E[0]>0&&E[3]-E[1]>0)return(0,n.shadow)(this,"view",E);(0,n.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,n.shadow)(this,"view",A)}get rotate(){let r=this._getInheritableProperty("Rotate")||0;return r%90!==0?r=0:r>=360?r%=360:r<0&&(r=(r%360+360)%360),(0,n.shadow)(this,"rotate",r)}_onSubStreamError(r,A){if(this.evaluatorOptions.ignoreErrors){(0,n.warn)(`getContentStream - ignoring sub-stream (${A}): "${r}".`);return}throw r}getContentStream(){return this.pdfManager.ensure(this,"content").then(r=>r instanceof o.BaseStream?r:Array.isArray(r)?new _.StreamsSequenceStream(r,this._onSubStreamError.bind(this)):new p.NullStream)}get xfaData(){return(0,n.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(r,A,E,G){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const se=new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),Ae=new e.RefSet,ke=new e.RefSet;ht(this,v,N0).call(this,E,Ae,ke);const de=this.pageDict,Ie=this.annotations.filter(fe=>!(fe instanceof e.Ref&&Ae.has(fe))),ge=await w.AnnotationFactory.saveNewAnnotations(se,A,E,G);for(const{ref:fe}of ge.annotations)fe instanceof e.Ref&&!ke.has(fe)&&Ie.push(fe);const Be=de.get("Annots");de.set("Annots",Ie);const ee=[];await(0,Q.writeObject)(this.ref,de,ee,this.xref),Be&&de.set("Annots",Be);const te=ge.dependencies;return te.push({ref:this.ref,data:ee.join("")},...ge.annotations),te}save(r,A,E){const G=new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(se){const Ae=[];for(const ke of se)ke.mustBePrinted(E)&&Ae.push(ke.save(G,A,E).catch(function(de){return(0,n.warn)(`save - ignoring annotation data during "${A.name}" task: "${de}".`),null}));return Promise.all(Ae).then(function(ke){return ke.filter(de=>!!de)})})}loadResources(r){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new i.ObjectLoader(this.resources,r,this.xref).load())}getOperatorList({handler:r,sink:A,task:E,intent:G,cacheKey:se,annotationStorage:Ae=null}){const ke=this.getContentStream(),de=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),Ie=new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),ge=this.xfaFactory?null:(0,O.getNewAnnotationsMap)(Ae);let Be=null,ee=Promise.resolve(null);if(ge){const ue=ge.get(this.pageIndex);if(ue){const le=this.pdfManager.ensureDoc("annotationGlobals");let be;const Ce=new Set;for(const{bitmapId:Ee,bitmap:ve}of ue)Ee&&!ve&&!Ce.has(Ee)&&Ce.add(Ee);const{isOffscreenCanvasSupported:ce}=this.evaluatorOptions;if(Ce.size>0){const Ee=ue.slice();for(const[ve,he]of Ae)ve.startsWith(n.AnnotationEditorPrefix)&&he.bitmap&&Ce.has(he.bitmapId)&&Ee.push(he);be=w.AnnotationFactory.generateImages(Ee,this.xref,ce)}else be=w.AnnotationFactory.generateImages(ue,this.xref,ce);Be=new e.RefSet,ht(this,v,N0).call(this,ue,Be,null),ee=le.then(Ee=>Ee?w.AnnotationFactory.printNewAnnotations(Ee,Ie,E,ue,be):null)}}const fe=Promise.all([ke,de]).then(([ue])=>{const le=new k.OperatorList(G,A);return r.send("StartRenderPage",{transparency:Ie.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:se}),Ie.getOperatorList({stream:ue,task:E,resources:this.resources,operatorList:le}).then(function(){return le})});return Promise.all([fe,this._parsedAnnotations,ee]).then(function([ue,le,be]){if(be){le=le.filter(Fe=>!(Fe.ref&&Be.has(Fe.ref)));for(let Fe=0,_e=be.length;Fe<_e;Fe++){const Ne=be[Fe];if(Ne.refToReplace){const Ze=le.findIndex(tt=>tt.ref&&(0,e.isRefsEqual)(tt.ref,Ne.refToReplace));Ze>=0&&(le.splice(Ze,1,Ne),be.splice(Fe--,1),_e--)}}le=le.concat(be)}if(le.length===0||G&n.RenderingIntentFlag.ANNOTATIONS_DISABLE)return ue.flush(!0),{length:ue.totalLength};const Ce=!!(G&n.RenderingIntentFlag.ANNOTATIONS_FORMS),ce=!!(G&n.RenderingIntentFlag.ANY),Ee=!!(G&n.RenderingIntentFlag.DISPLAY),ve=!!(G&n.RenderingIntentFlag.PRINT),he=[];for(const Fe of le)(ce||Ee&&Fe.mustBeViewed(Ae,Ce)||ve&&Fe.mustBePrinted(Ae))&&he.push(Fe.getOperatorList(Ie,E,G,Ce,Ae).catch(function(_e){return(0,n.warn)(`getOperatorList - ignoring annotation data during "${E.name}" task: "${_e}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(he).then(function(Fe){let _e=!1,Ne=!1;for(const{opList:Ze,separateForm:tt,separateCanvas:je}of Fe)ue.addOpList(Ze),_e||(_e=tt),Ne||(Ne=je);return ue.flush(!0,{form:_e,canvas:Ne}),{length:ue.totalLength}})})}extractTextContent({handler:r,task:A,includeMarkedContent:E,disableNormalization:G,sink:se}){const Ae=this.getContentStream(),ke=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([Ae,ke]).then(([Ie])=>new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:Ie,task:A,resources:this.resources,includeMarkedContent:E,disableNormalization:G,sink:se,viewBox:this.view}))}async getStructTree(){const r=await this.pdfManager.ensureCatalog("structTreeRoot");return r?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[r])).serializable):null}_parseStructTree(r){const A=new C.StructTreePage(r,this.pageDict);return A.parse(this.ref),A}async getAnnotationsData(r,A,E){const G=await this._parsedAnnotations;if(G.length===0)return G;const se=[],Ae=[];let ke;const de=!!(E&n.RenderingIntentFlag.ANY),Ie=!!(E&n.RenderingIntentFlag.DISPLAY),ge=!!(E&n.RenderingIntentFlag.PRINT);for(const Be of G){const ee=de||Ie&&Be.viewable;(ee||ge&&Be.printable)&&se.push(Be.data),Be.hasTextContent&&ee&&(ke||(ke=new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),Ae.push(Be.extractTextContent(ke,A,[-1/0,-1/0,1/0,1/0]).catch(function(te){(0,n.warn)(`getAnnotationsData - ignoring textContent during "${A.name}" task: "${te}".`)})))}return await Promise.all(Ae),se}get annotations(){const r=this._getInheritableProperty("Annots");return(0,n.shadow)(this,"annotations",Array.isArray(r)?r:[])}get _parsedAnnotations(){const r=this.pdfManager.ensure(this,"annotations").then(async A=>{if(A.length===0)return A;const E=await this.pdfManager.ensureDoc("annotationGlobals");if(!E)return[];const G=[];for(const ke of A)G.push(w.AnnotationFactory.create(this.xref,ke,E,this._localIdFactory,!1,this.ref).catch(function(de){return(0,n.warn)(`_parsedAnnotations: "${de}".`),null}));const se=[];let Ae;for(const ke of await Promise.all(G))if(ke){if(ke instanceof w.PopupAnnotation){(Ae||(Ae=[])).push(ke);continue}se.push(ke)}return Ae&&se.push(...Ae),se});return(0,n.shadow)(this,"_parsedAnnotations",r)}get jsActions(){const r=(0,O.collectActions)(this.xref,this.pageDict,n.PageActionEventType);return(0,n.shadow)(this,"jsActions",r)}}v=new WeakSet,N0=function(r,A,E){for(const G of r)if(G.id){const se=e.Ref.fromString(G.id);if(!se){(0,n.warn)(`A non-linked annotation cannot be modified: ${G.id}`);continue}if(G.deleted){A.put(se);continue}E==null||E.put(se),G.ref=se,delete G.id}},x.Page=d;const y=new Uint8Array([37,80,68,70,45]),W=new Uint8Array([115,116,97,114,116,120,114,101,102]),u=new Uint8Array([101,110,100,111,98,106]),b=1024,D="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function J(B,r,A=1024,E=!1){const G=r.length,se=B.peekBytes(A),Ae=se.length-G;if(Ae<=0)return!1;if(E){const ke=G-1;let de=se.length-1;for(;de>=ke;){let Ie=0;for(;Ie<G&&se[de-Ie]===r[ke-Ie];)Ie++;if(Ie>=G)return B.pos+=de-ke,!0;de--}}else{let ke=0;for(;ke<=Ae;){let de=0;for(;de<G&&se[ke+de]===r[de];)de++;if(de>=G)return B.pos+=ke,!0;ke++}}return!1}class N{constructor(r,A){At(this,I);if(A.length<=0)throw new n.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=r,this.stream=A,this.xref=new re.XRef(A,r),this._pagePromises=new Map,this._version=null;const E={font:0};this._globalIdFactory=class{static getDocId(){return`g_${r.docId}`}static createFontId(){return`f${++E.font}`}static createObjId(){(0,n.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,n.unreachable)("Abstract method `getPageObjId` called.")}}}parse(r){this.xref.parse(r),this.catalog=new H.Catalog(this.pdfManager,this.xref)}get linearization(){let r=null;try{r=f.Linearization.create(this.stream)}catch(A){if(A instanceof O.MissingDataException)throw A;(0,n.info)(A)}return(0,n.shadow)(this,"linearization",r)}get startXRef(){const r=this.stream;let A=0;if(this.linearization)r.reset(),J(r,u)&&(A=r.pos+6-r.start);else{const G=W.length;let se=!1,Ae=r.end;for(;!se&&Ae>0;)Ae-=1024-G,Ae<0&&(Ae=0),r.pos=Ae,se=J(r,W,1024,!0);if(se){r.skip(9);let ke;do ke=r.getByte();while((0,O.isWhiteSpace)(ke));let de="";for(;ke>=32&&ke<=57;)de+=String.fromCharCode(ke),ke=r.getByte();A=parseInt(de,10),isNaN(A)&&(A=0)}}return(0,n.shadow)(this,"startXRef",A)}checkHeader(){const r=this.stream;if(r.reset(),!J(r,y))return;r.moveStart(),r.skip(y.length);let A="",E;for(;(E=r.getByte())>32&&A.length<7;)A+=String.fromCharCode(E);O.PDF_VERSION_REGEXP.test(A)?this._version=A:(0,n.warn)(`Invalid PDF header version: ${A}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let r=0;return this.catalog.hasActualNumPages?r=this.catalog.numPages:this.xfaFactory?r=this.xfaFactory.getNumPages():this.linearization?r=this.linearization.numPages:r=this.catalog.numPages,(0,n.shadow)(this,"numPages",r)}_hasOnlyDocumentSignatures(r,A=0){return Array.isArray(r)?r.every(G=>{if(G=this.xref.fetchIfRef(G),!(G instanceof e.Dict))return!1;if(G.has("Kids"))return++A>10?((0,n.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(G.get("Kids"),A);const se=(0,e.isName)(G.get("FT"),"Sig"),Ae=G.get("Rect"),ke=Array.isArray(Ae)&&Ae.every(de=>de===0);return se&&ke}):!1}get _xfaStreams(){const r=this.catalog.acroForm;if(!r)return null;const A=r.get("XFA"),E={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(A instanceof o.BaseStream&&!A.isEmpty)return E["xdp:xdp"]=A,E;if(!Array.isArray(A)||A.length===0)return null;for(let G=0,se=A.length;G<se;G+=2){let Ae;if(G===0?Ae="xdp:xdp":G===se-2?Ae="/xdp:xdp":Ae=A[G],!E.hasOwnProperty(Ae))continue;const ke=this.xref.fetchIfRef(A[G+1]);!(ke instanceof o.BaseStream)||ke.isEmpty||(E[Ae]=ke)}return E}get xfaDatasets(){const r=this._xfaStreams;if(!r)return(0,n.shadow)(this,"xfaDatasets",null);for(const A of["datasets","xdp:xdp"]){const E=r[A];if(E)try{const G=(0,n.stringToUTF8String)(E.getString()),se={[A]:G};return(0,n.shadow)(this,"xfaDatasets",new P.DatasetReader(se))}catch{(0,n.warn)("XFA - Invalid utf-8 string.");break}}return(0,n.shadow)(this,"xfaDatasets",null)}get xfaData(){const r=this._xfaStreams;if(!r)return null;const A=Object.create(null);for(const[E,G]of Object.entries(r))if(G)try{A[E]=(0,n.stringToUTF8String)(G.getString())}catch{return(0,n.warn)("XFA - Invalid utf-8 string."),null}return A}get xfaFactory(){let r;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(r=this.xfaData),(0,n.shadow)(this,"xfaFactory",r?new j.XFAFactory(r):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const r=await this.pdfManager.ensureCatalog("xfaImages");if(!r)return;const A=r.getKeys();await new i.ObjectLoader(r,A,this.xref).load();const G=new Map;for(const se of A){const Ae=r.get(se);Ae instanceof o.BaseStream&&G.set(se,Ae.getBytes())}this.xfaFactory.setImages(G)}async loadXfaFonts(r,A){const E=await this.pdfManager.ensureCatalog("acroForm");if(!E)return;const G=await E.getAsync("DR");if(!(G instanceof e.Dict))return;await new i.ObjectLoader(G,["Font"],this.xref).load();const Ae=G.get("Font");if(!(Ae instanceof e.Dict))return;const ke=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);ke.useSystemFonts=!1;const de=new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:ke}),Ie=new k.OperatorList,ge=[],Be={get font(){return ge.at(-1)},set font(le){ge.push(le)},clone(){return this}},ee=new Map;Ae.forEach((le,be)=>{ee.set(le,be)});const te=[];for(const[le,be]of ee){const Ce=be.get("FontDescriptor");if(!(Ce instanceof e.Dict))continue;let ce=Ce.get("FontFamily");ce=ce.replaceAll(/[ ]+(\d)/g,"$1");const Ee=Ce.get("FontWeight"),ve=-Ce.get("ItalicAngle"),he={fontFamily:ce,fontWeight:Ee,italicAngle:ve};(0,O.validateCSSFont)(he)&&te.push(de.handleSetFont(G,[e.Name.get(le),1],null,Ie,A,Be,null,he).catch(function(Fe){return(0,n.warn)(`loadXfaFonts: "${Fe}".`),null}))}await Promise.all(te);const fe=this.xfaFactory.setFonts(ge);if(!fe)return;ke.ignoreErrors=!0,te.length=0,ge.length=0;const ue=new Set;for(const le of fe)(0,t.getXfaFontName)(`${le}-Regular`)||ue.add(le);ue.size&&fe.push("PdfJS-Fallback");for(const le of fe)if(!ue.has(le))for(const be of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Ce=`${le}-${be.name}`,ce=(0,t.getXfaFontDict)(Ce);te.push(de.handleSetFont(G,[e.Name.get(Ce),1],null,Ie,A,Be,ce,{fontFamily:le,fontWeight:be.fontWeight,italicAngle:be.italicAngle}).catch(function(Ee){return(0,n.warn)(`loadXfaFonts: "${Ee}".`),null}))}await Promise.all(te),this.xfaFactory.appendFonts(ge,ue)}async serializeXfaData(r){return this.xfaFactory?this.xfaFactory.serializeData(r):null}get version(){return this.catalog.version||this._version}get formInfo(){const r={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},A=this.catalog.acroForm;if(!A)return(0,n.shadow)(this,"formInfo",r);try{const E=A.get("Fields"),G=Array.isArray(E)&&E.length>0;r.hasFields=G;const se=A.get("XFA");r.hasXfa=Array.isArray(se)&&se.length>0||se instanceof o.BaseStream&&!se.isEmpty;const ke=!!(A.get("SigFlags")&1),de=ke&&this._hasOnlyDocumentSignatures(E);r.hasAcroForm=G&&!de,r.hasSignatures=ke}catch(E){if(E instanceof O.MissingDataException)throw E;(0,n.warn)(`Cannot fetch form information: "${E}".`)}return(0,n.shadow)(this,"formInfo",r)}get documentInfo(){const r={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let A;try{A=this.xref.trailer.get("Info")}catch(E){if(E instanceof O.MissingDataException)throw E;(0,n.info)("The document information dictionary is invalid.")}if(!(A instanceof e.Dict))return(0,n.shadow)(this,"documentInfo",r);for(const E of A.getKeys()){const G=A.get(E);switch(E){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof G=="string"){r[E]=(0,n.stringToPDFString)(G);continue}break;case"Trapped":if(G instanceof e.Name){r[E]=G;continue}break;default:let se;switch(typeof G){case"string":se=(0,n.stringToPDFString)(G);break;case"number":case"boolean":se=G;break;default:G instanceof e.Name&&(se=G);break}if(se===void 0){(0,n.warn)(`Bad value, for custom key "${E}", in Info: ${G}.`);continue}r.Custom||(r.Custom=Object.create(null)),r.Custom[E]=se;continue}(0,n.warn)(`Bad value, for key "${E}", in Info: ${G}.`)}return(0,n.shadow)(this,"documentInfo",r)}get fingerprints(){function r(Ae){return typeof Ae=="string"&&Ae.length>0&&Ae!==D}function A(Ae){const ke=[];for(const de of Ae){const Ie=de.toString(16);ke.push(Ie.padStart(2,"0"))}return ke.join("")}const E=this.xref.trailer.get("ID");let G,se;return Array.isArray(E)&&r(E[0])?(G=(0,n.stringToBytes)(E[0]),E[1]!==E[0]&&r(E[1])&&(se=(0,n.stringToBytes)(E[1]))):G=(0,K.calculateMD5)(this.stream.getByteRange(0,b),0,b),(0,n.shadow)(this,"fingerprints",[A(G),se?A(se):null])}async _getLinearizationPage(r){const{catalog:A,linearization:E,xref:G}=this,se=e.Ref.get(E.objectNumberFirst,0);try{const Ae=await G.fetchAsync(se);if(Ae instanceof e.Dict){let ke=Ae.getRaw("Type");if(ke instanceof e.Ref&&(ke=await G.fetchAsync(ke)),(0,e.isName)(ke,"Page")||!Ae.has("Type")&&!Ae.has("Kids"))return A.pageKidsCountCache.has(se)||A.pageKidsCountCache.put(se,1),A.pageIndexCache.has(se)||A.pageIndexCache.put(se,0),[Ae,se]}throw new n.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(Ae){return(0,n.warn)(`_getLinearizationPage: "${Ae.message}".`),A.getPageDict(r)}}getPage(r){const A=this._pagePromises.get(r);if(A)return A;const{catalog:E,linearization:G,xfaFactory:se}=this;let Ae;return se?Ae=Promise.resolve([e.Dict.empty,null]):(G==null?void 0:G.pageFirst)===r?Ae=this._getLinearizationPage(r):Ae=E.getPageDict(r),Ae=Ae.then(([ke,de])=>new d({pdfManager:this.pdfManager,xref:this.xref,pageIndex:r,pageDict:ke,ref:de,globalIdFactory:this._globalIdFactory,fontCache:E.fontCache,builtInCMapCache:E.builtInCMapCache,standardFontDataCache:E.standardFontDataCache,globalImageCache:E.globalImageCache,systemFontCache:E.systemFontCache,nonBlendModesSet:E.nonBlendModesSet,xfaFactory:se})),this._pagePromises.set(r,Ae),Ae}async checkFirstPage(r=!1){if(!r)try{await this.getPage(0)}catch(A){if(A instanceof O.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new O.XRefParseException}}async checkLastPage(r=!1){const{catalog:A,pdfManager:E}=this;A.setActualNumPages();let G;try{if(await Promise.all([E.ensureDoc("xfaFactory"),E.ensureDoc("linearization"),E.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?G=this.linearization.numPages:G=A.numPages,Number.isInteger(G)){if(G<=1)return}else throw new n.FormatError("Page count is not an integer.");await this.getPage(G-1)}catch(se){if(this._pagePromises.delete(G-1),await this.cleanup(),se instanceof O.XRefEntryException&&!r)throw new O.XRefParseException;(0,n.warn)(`checkLastPage - invalid /Pages tree /Count: ${G}.`);let Ae;try{Ae=await A.getAllPageDicts(r)}catch(ke){if(ke instanceof O.XRefEntryException&&!r)throw new O.XRefParseException;A.setActualNumPages(1);return}for(const[ke,[de,Ie]]of Ae){let ge;de instanceof Error?(ge=Promise.reject(de),ge.catch(()=>{})):ge=Promise.resolve(new d({pdfManager:E,xref:this.xref,pageIndex:ke,pageDict:de,ref:Ie,globalIdFactory:this._globalIdFactory,fontCache:A.fontCache,builtInCMapCache:A.builtInCMapCache,standardFontDataCache:A.standardFontDataCache,globalImageCache:A.globalImageCache,systemFontCache:A.systemFontCache,nonBlendModesSet:A.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(ke,ge)}A.setActualNumPages(Ae.size)}}fontFallback(r,A){return this.catalog.fontFallback(r,A)}async cleanup(r=!1){return this.catalog?this.catalog.cleanup(r):(0,U.clearGlobalCaches)()}get fieldObjects(){if(!this.formInfo.hasFields)return(0,n.shadow)(this,"fieldObjects",Promise.resolve(null));const r=this.pdfManager.ensureDoc("annotationGlobals").then(async A=>{if(!A)return null;const E=Object.create(null),G=new Map;for(const Ae of this.catalog.acroForm.get("Fields"))ht(this,I,Q0).call(this,"",Ae,G,A);const se=[];for(const[Ae,ke]of G)se.push(Promise.all(ke).then(de=>{de=de.filter(Ie=>!!Ie),de.length>0&&(E[Ae]=de)}));return await Promise.all(se),E});return(0,n.shadow)(this,"fieldObjects",r)}get hasJSActions(){const r=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,n.shadow)(this,"hasJSActions",r)}async _parseHasJSActions(){const[r,A]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return r?!0:A?Object.values(A).some(E=>E.some(G=>G.actions!==null)):!1}get calculationOrderIds(){const r=this.catalog.acroForm;if(!(r!=null&&r.has("CO")))return(0,n.shadow)(this,"calculationOrderIds",null);const A=r.get("CO");if(!Array.isArray(A)||A.length===0)return(0,n.shadow)(this,"calculationOrderIds",null);const E=[];for(const G of A)G instanceof e.Ref&&E.push(G.toString());return E.length===0?(0,n.shadow)(this,"calculationOrderIds",null):(0,n.shadow)(this,"calculationOrderIds",E)}get annotationGlobals(){return(0,n.shadow)(this,"annotationGlobals",w.AnnotationFactory.createGlobals(this.pdfManager))}}I=new WeakSet,Q0=function(r,A,E,G){const se=this.xref.fetchIfRef(A);if(se.has("T")){const Ae=(0,n.stringToPDFString)(se.get("T"));r=r===""?Ae:`${r}.${Ae}`}if(E.has(r)||E.set(r,[]),E.get(r).push(w.AnnotationFactory.create(this.xref,A,G,this._localIdFactory,!0,null).then(Ae=>Ae==null?void 0:Ae.getFieldObject()).catch(function(Ae){return(0,n.warn)(`#collectFieldObjects: "${Ae}".`),null})),se.has("Kids"))for(const Ae of se.get("Kids"))ht(this,I,Q0).call(this,r,Ae,E,G)},x.PDFDocument=N},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PopupAnnotation=x.MarkupAnnotation=x.AnnotationFactory=x.AnnotationBorderStyle=x.Annotation=void 0,x.getQuadPoints=j;var n=ie(2),w=ie(3),O=ie(11),e=ie(4),t=ie(8),o=ie(5),K=ie(60),H=ie(66),U=ie(12),P=ie(69),f=ie(26),p=ie(76),i=ie(64),k=ie(73),F=ie(77);class _{static createGlobals(ee){return Promise.all([ee.ensureCatalog("acroForm"),ee.ensureDoc("xfaDatasets"),ee.ensureCatalog("structTreeRoot"),ee.ensureCatalog("baseUrl"),ee.ensureCatalog("attachments")]).then(([te,fe,ue,le,be])=>({pdfManager:ee,acroForm:te instanceof e.Dict?te:e.Dict.empty,xfaDatasets:fe,structTreeRoot:ue,baseUrl:le,attachments:be}),te=>((0,n.warn)(`createGlobals: "${te}".`),null))}static async create(ee,te,fe,ue,le,be){const Ce=le?await this._getPageIndex(ee,te,fe.pdfManager):null;return fe.pdfManager.ensure(this,"_create",[ee,te,fe,ue,le,Ce,be])}static _create(ee,te,fe,ue,le=!1,be=null,Ce=null){const ce=ee.fetchIfRef(te);if(!(ce instanceof e.Dict))return;const{acroForm:Ee,pdfManager:ve}=fe,he=te instanceof e.Ref?te.toString():`annot_${ue.createObjId()}`;let Fe=ce.get("Subtype");Fe=Fe instanceof e.Name?Fe.name:null;const _e={xref:ee,ref:te,dict:ce,subtype:Fe,id:he,annotationGlobals:fe,collectFields:le,needAppearances:!le&&Ee.get("NeedAppearances")===!0,pageIndex:be,evaluatorOptions:ve.evaluatorOptions,pageRef:Ce};switch(Fe){case"Link":return new N(_e);case"Text":return new J(_e);case"Widget":let Ne=(0,w.getInheritableProperty)({dict:ce,key:"FT"});switch(Ne=Ne instanceof e.Name?Ne.name:null,Ne){case"Tx":return new W(_e);case"Btn":return new u(_e);case"Ch":return new b(_e);case"Sig":return new D(_e)}return(0,n.warn)(`Unimplemented widget field type "${Ne}", falling back to base field type.`),new y(_e);case"Popup":return new v(_e);case"FreeText":return new S(_e);case"Line":return new I(_e);case"Square":return new h(_e);case"Circle":return new B(_e);case"PolyLine":return new r(_e);case"Polygon":return new A(_e);case"Caret":return new E(_e);case"Ink":return new G(_e);case"Highlight":return new se(_e);case"Underline":return new Ae(_e);case"Squiggly":return new ke(_e);case"StrikeOut":return new de(_e);case"Stamp":return new Ie(_e);case"FileAttachment":return new ge(_e);default:return le||(Fe?(0,n.warn)(`Unimplemented annotation type "${Fe}", falling back to base annotation.`):(0,n.warn)("Annotation is missing the required /Subtype.")),new T(_e)}}static async _getPageIndex(ee,te,fe){try{const ue=await ee.fetchIfRefAsync(te);if(!(ue instanceof e.Dict))return-1;const le=ue.getRaw("P");if(le instanceof e.Ref)try{return await fe.ensureCatalog("getPageIndex",[le])}catch(Ce){(0,n.info)(`_getPageIndex -- not a valid page reference: "${Ce}".`)}if(ue.has("Kids"))return-1;const be=await fe.ensureDoc("numPages");for(let Ce=0;Ce<be;Ce++){const ce=await fe.getPage(Ce),Ee=await fe.ensure(ce,"annotations");for(const ve of Ee)if(ve instanceof e.Ref&&(0,e.isRefsEqual)(ve,te))return Ce}}catch(ue){(0,n.warn)(`_getPageIndex: "${ue}".`)}return-1}static generateImages(ee,te,fe){if(!fe)return(0,n.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let ue;for(const{bitmapId:le,bitmap:be}of ee)be&&(ue||(ue=new Map),ue.set(le,Ie.createImage(be,te)));return ue}static async saveNewAnnotations(ee,te,fe,ue){const le=ee.xref;let be;const Ce=[],ce=[],{isOffscreenCanvasSupported:Ee}=ee.options;for(const ve of fe)if(!ve.deleted)switch(ve.annotationType){case n.AnnotationEditorType.FREETEXT:if(!be){const Fe=new e.Dict(le);Fe.set("BaseFont",e.Name.get("Helvetica")),Fe.set("Type",e.Name.get("Font")),Fe.set("Subtype",e.Name.get("Type1")),Fe.set("Encoding",e.Name.get("WinAnsiEncoding"));const _e=[];be=le.getNewTemporaryRef(),await(0,k.writeObject)(be,Fe,_e,le),Ce.push({ref:be,data:_e.join("")})}ce.push(S.createNewAnnotation(le,ve,Ce,{evaluator:ee,task:te,baseFontRef:be}));break;case n.AnnotationEditorType.INK:ce.push(G.createNewAnnotation(le,ve,Ce));break;case n.AnnotationEditorType.STAMP:if(!Ee)break;const he=await ue.get(ve.bitmapId);if(he.imageStream){const{imageStream:Fe,smaskStream:_e}=he,Ne=[];if(_e){const tt=le.getNewTemporaryRef();await(0,k.writeObject)(tt,_e,Ne,le),Ce.push({ref:tt,data:Ne.join("")}),Fe.dict.set("SMask",tt),Ne.length=0}const Ze=he.imageRef=le.getNewTemporaryRef();await(0,k.writeObject)(Ze,Fe,Ne,le),Ce.push({ref:Ze,data:Ne.join("")}),he.imageStream=he.smaskStream=null}ce.push(Ie.createNewAnnotation(le,ve,Ce,{image:he}));break}return{annotations:await Promise.all(ce),dependencies:Ce}}static async printNewAnnotations(ee,te,fe,ue,le){if(!ue)return null;const{options:be,xref:Ce}=te,ce=[];for(const Ee of ue)if(!Ee.deleted)switch(Ee.annotationType){case n.AnnotationEditorType.FREETEXT:ce.push(S.createNewPrintAnnotation(ee,Ce,Ee,{evaluator:te,task:fe,evaluatorOptions:be}));break;case n.AnnotationEditorType.INK:ce.push(G.createNewPrintAnnotation(ee,Ce,Ee,{evaluatorOptions:be}));break;case n.AnnotationEditorType.STAMP:if(!be.isOffscreenCanvasSupported)break;const ve=await le.get(Ee.bitmapId);if(ve.imageStream){const{imageStream:he,smaskStream:Fe}=ve;Fe&&he.dict.set("SMask",Fe),ve.imageRef=new f.JpegStream(he,he.length),ve.imageStream=ve.smaskStream=null}ce.push(Ie.createNewPrintAnnotation(ee,Ce,Ee,{image:ve,evaluatorOptions:be}));break}return Promise.all(ce)}}x.AnnotationFactory=_;function C(Be,ee=new Uint8ClampedArray(3)){if(!Array.isArray(Be))return ee;const te=ee||new Uint8ClampedArray(3);switch(Be.length){case 0:return null;case 1:return U.ColorSpace.singletons.gray.getRgbItem(Be,0,te,0),te;case 3:return U.ColorSpace.singletons.rgb.getRgbItem(Be,0,te,0),te;case 4:return U.ColorSpace.singletons.cmyk.getRgbItem(Be,0,te,0),te;default:return ee}}function Q(Be){return Array.from(Be,ee=>ee/255)}function j(Be,ee){const te=Be.getArray("QuadPoints");if(!Array.isArray(te)||te.length===0||te.length%8>0)return null;const fe=[];for(let ue=0,le=te.length/8;ue<le;ue++){let be=1/0,Ce=-1/0,ce=1/0,Ee=-1/0;for(let ve=ue*8,he=ue*8+8;ve<he;ve+=2){const Fe=te[ve],_e=te[ve+1];be=Math.min(Fe,be),Ce=Math.max(Fe,Ce),ce=Math.min(_e,ce),Ee=Math.max(_e,Ee)}if(ee!==null&&(be<ee[0]||Ce>ee[2]||ce<ee[1]||Ee>ee[3]))return null;fe.push([{x:be,y:Ee},{x:Ce,y:Ee},{x:be,y:ce},{x:Ce,y:ce}])}return fe}function re(Be,ee,te){const[fe,ue,le,be]=n.Util.getAxialAlignedBoundingBox(ee,te);if(fe===le||ue===be)return[1,0,0,1,Be[0],Be[1]];const Ce=(Be[2]-Be[0])/(le-fe),ce=(Be[3]-Be[1])/(be-ue);return[Ce,0,0,ce,Be[0]-fe*Ce,Be[1]-ue*ce]}class T{constructor(ee){const{dict:te,xref:fe,annotationGlobals:ue}=ee;this.setTitle(te.get("T")),this.setContents(te.get("Contents")),this.setModificationDate(te.get("M")),this.setFlags(te.get("F")),this.setRectangle(te.getArray("Rect")),this.setColor(te.getArray("C")),this.setBorderStyle(te),this.setAppearance(te),this.setOptionalContent(te);const le=te.get("MK");this.setBorderAndBackgroundColors(le),this.setRotation(le,te),this.ref=ee.ref instanceof e.Ref?ee.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const be=!!(this.flags&n.AnnotationFlag.LOCKED),Ce=!!(this.flags&n.AnnotationFlag.LOCKEDCONTENTS);if(ue.structTreeRoot){let ce=te.get("StructParent");ce=Number.isInteger(ce)&&ce>=0?ce:-1,ue.structTreeRoot.addAnnotationIdToPage(ee.pageRef,ce)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:ee.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:ee.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&n.AnnotationFlag.NOROTATE),noHTML:be&&Ce},ee.collectFields){const ce=te.get("Kids");if(Array.isArray(ce)){const Ee=[];for(const ve of ce)ve instanceof e.Ref&&Ee.push(ve.toString());Ee.length!==0&&(this.data.kidIds=Ee)}this.data.actions=(0,w.collectActions)(fe,te,n.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(te),this.data.pageIndex=ee.pageIndex}this._isOffscreenCanvasSupported=ee.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(ee,te){return!!(ee&te)}_isViewable(ee){return!this._hasFlag(ee,n.AnnotationFlag.INVISIBLE)&&!this._hasFlag(ee,n.AnnotationFlag.NOVIEW)}_isPrintable(ee){return this._hasFlag(ee,n.AnnotationFlag.PRINT)&&!this._hasFlag(ee,n.AnnotationFlag.HIDDEN)&&!this._hasFlag(ee,n.AnnotationFlag.INVISIBLE)}mustBeViewed(ee,te){var ue;const fe=(ue=ee==null?void 0:ee.get(this.data.id))==null?void 0:ue.noView;return fe!==void 0?!fe:this.viewable&&!this._hasFlag(this.flags,n.AnnotationFlag.HIDDEN)}mustBePrinted(ee){var fe;const te=(fe=ee==null?void 0:ee.get(this.data.id))==null?void 0:fe.noPrint;return te!==void 0?!te:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(ee){const te=typeof ee=="string"?(0,n.stringToPDFString)(ee):"",fe=te&&(0,K.bidi)(te).dir==="rtl"?"rtl":"ltr";return{str:te,dir:fe}}setDefaultAppearance(ee){const{dict:te,annotationGlobals:fe}=ee,ue=(0,w.getInheritableProperty)({dict:te,key:"DA"})||fe.acroForm.get("DA");this._defaultAppearance=typeof ue=="string"?ue:"",this.data.defaultAppearanceData=(0,O.parseDefaultAppearance)(this._defaultAppearance)}setTitle(ee){this._title=this._parseStringHelper(ee)}setContents(ee){this._contents=this._parseStringHelper(ee)}setModificationDate(ee){this.modificationDate=typeof ee=="string"?ee:null}setFlags(ee){this.flags=Number.isInteger(ee)&&ee>0?ee:0}hasFlag(ee){return this._hasFlag(this.flags,ee)}setRectangle(ee){this.rectangle=Array.isArray(ee)&&ee.length===4?n.Util.normalizeRect(ee):[0,0,0,0]}setColor(ee){this.color=C(ee)}setLineEndings(ee){if(this.lineEndings=["None","None"],Array.isArray(ee)&&ee.length===2)for(let te=0;te<2;te++){const fe=ee[te];if(fe instanceof e.Name)switch(fe.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[te]=fe.name;continue}(0,n.warn)(`Ignoring invalid lineEnding: ${fe}`)}}setRotation(ee,te){this.rotation=0;let fe=ee instanceof e.Dict?ee.get("R")||0:te.get("Rotate")||0;Number.isInteger(fe)&&fe!==0&&(fe%=360,fe<0&&(fe+=360),fe%90===0&&(this.rotation=fe))}setBorderAndBackgroundColors(ee){ee instanceof e.Dict?(this.borderColor=C(ee.getArray("BC"),null),this.backgroundColor=C(ee.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(ee){if(this.borderStyle=new R,ee instanceof e.Dict)if(ee.has("BS")){const te=ee.get("BS"),fe=te.get("Type");(!fe||(0,e.isName)(fe,"Border"))&&(this.borderStyle.setWidth(te.get("W"),this.rectangle),this.borderStyle.setStyle(te.get("S")),this.borderStyle.setDashArray(te.getArray("D")))}else if(ee.has("Border")){const te=ee.getArray("Border");Array.isArray(te)&&te.length>=3&&(this.borderStyle.setHorizontalCornerRadius(te[0]),this.borderStyle.setVerticalCornerRadius(te[1]),this.borderStyle.setWidth(te[2],this.rectangle),te.length===4&&this.borderStyle.setDashArray(te[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(ee){this.appearance=null;const te=ee.get("AP");if(!(te instanceof e.Dict))return;const fe=te.get("N");if(fe instanceof o.BaseStream){this.appearance=fe;return}if(!(fe instanceof e.Dict))return;const ue=ee.get("AS");if(!(ue instanceof e.Name)||!fe.has(ue.name))return;const le=fe.get(ue.name);le instanceof o.BaseStream&&(this.appearance=le)}setOptionalContent(ee){this.oc=null;const te=ee.get("OC");te instanceof e.Name?(0,n.warn)("setOptionalContent: Support for /Name-entry is not implemented."):te instanceof e.Dict&&(this.oc=te)}loadResources(ee,te){return te.dict.getAsync("Resources").then(fe=>fe?new p.ObjectLoader(fe,ee,fe.xref).load().then(function(){return fe}):void 0)}async getOperatorList(ee,te,fe,ue,le){const be=this.data;let Ce=this.appearance;const ce=!!(this.data.hasOwnCanvas&&fe&n.RenderingIntentFlag.DISPLAY);if(!Ce){if(!ce)return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1};Ce=new t.StringStream(""),Ce.dict=new e.Dict}const Ee=Ce.dict,ve=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],Ce),he=Ee.getArray("BBox")||[0,0,1,1],Fe=Ee.getArray("Matrix")||[1,0,0,1,0,0],_e=re(be.rect,he,Fe),Ne=new i.OperatorList;let Ze;return this.oc&&(Ze=await ee.parseMarkedContentProps(this.oc,null)),Ze!==void 0&&Ne.addOp(n.OPS.beginMarkedContentProps,["OC",Ze]),Ne.addOp(n.OPS.beginAnnotation,[be.id,be.rect,_e,Fe,ce]),await ee.getOperatorList({stream:Ce,task:te,resources:ve,operatorList:Ne,fallbackFontDict:this._fallbackFontDict}),Ne.addOp(n.OPS.endAnnotation,[]),Ze!==void 0&&Ne.addOp(n.OPS.endMarkedContent,[]),this.reset(),{opList:Ne,separateForm:!1,separateCanvas:ce}}async save(ee,te,fe){return null}get hasTextContent(){return!1}async extractTextContent(ee,te,fe){if(!this.appearance)return;const ue=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),le=[],be=[];let Ce=null;const ce={desiredSize:Math.Infinity,ready:!0,enqueue(Ee,ve){for(const he of Ee.items)he.str!==void 0&&(Ce||(Ce=he.transform.slice(-2)),be.push(he.str),he.hasEOL&&(le.push(be.join("")),be.length=0))}};if(await ee.getTextContent({stream:this.appearance,task:te,resources:ue,includeMarkedContent:!0,sink:ce,viewBox:fe}),this.reset(),be.length&&le.push(be.join("")),le.length>1||le[0]){const Ee=this.appearance.dict,ve=Ee.getArray("BBox")||[0,0,1,1],he=Ee.getArray("Matrix")||[1,0,0,1,0,0],Fe=this.data.rect,_e=re(Fe,ve,he);_e[4]-=Fe[0],_e[5]-=Fe[1],Ce=n.Util.applyTransform(Ce,_e),Ce=n.Util.applyTransform(Ce,he),this.data.textPosition=Ce,this.data.textContent=le}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const ee of this._streams)ee.reset()}_constructFieldName(ee){if(!ee.has("T")&&!ee.has("Parent"))return(0,n.warn)("Unknown field name, falling back to empty field name."),"";if(!ee.has("Parent"))return(0,n.stringToPDFString)(ee.get("T"));const te=[];ee.has("T")&&te.unshift((0,n.stringToPDFString)(ee.get("T")));let fe=ee;const ue=new e.RefSet;for(ee.objId&&ue.put(ee.objId);fe.has("Parent")&&(fe=fe.get("Parent"),!(!(fe instanceof e.Dict)||fe.objId&&ue.has(fe.objId)));)fe.objId&&ue.put(fe.objId),fe.has("T")&&te.unshift((0,n.stringToPDFString)(fe.get("T")));return te.join(".")}}x.Annotation=T;class R{constructor(){this.width=1,this.style=n.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(ee,te=[0,0,0,0]){if(ee instanceof e.Name){this.width=0;return}if(typeof ee=="number"){if(ee>0){const fe=(te[2]-te[0])/2,ue=(te[3]-te[1])/2;fe>0&&ue>0&&(ee>fe||ee>ue)&&((0,n.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${ee}`),ee=1)}this.width=ee}}setStyle(ee){if(ee instanceof e.Name)switch(ee.name){case"S":this.style=n.AnnotationBorderStyleType.SOLID;break;case"D":this.style=n.AnnotationBorderStyleType.DASHED;break;case"B":this.style=n.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=n.AnnotationBorderStyleType.INSET;break;case"U":this.style=n.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(ee,te=!1){if(Array.isArray(ee)&&ee.length>0){let fe=!0,ue=!0;for(const le of ee)if(+le>=0)le>0&&(ue=!1);else{fe=!1;break}fe&&!ue?(this.dashArray=ee,te&&this.setStyle(e.Name.get("D"))):this.width=0}else ee&&(this.width=0)}setHorizontalCornerRadius(ee){Number.isInteger(ee)&&(this.horizontalCornerRadius=ee)}setVerticalCornerRadius(ee){Number.isInteger(ee)&&(this.verticalCornerRadius=ee)}}x.AnnotationBorderStyle=R;class d extends T{constructor(ee){super(ee);const{dict:te}=ee;if(te.has("IRT")){const ue=te.getRaw("IRT");this.data.inReplyTo=ue instanceof e.Ref?ue.toString():null;const le=te.get("RT");this.data.replyType=le instanceof e.Name?le.name:n.AnnotationReplyType.REPLY}let fe=null;if(this.data.replyType===n.AnnotationReplyType.GROUP){const ue=te.get("IRT");this.setTitle(ue.get("T")),this.data.titleObj=this._title,this.setContents(ue.get("Contents")),this.data.contentsObj=this._contents,ue.has("CreationDate")?(this.setCreationDate(ue.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,ue.has("M")?(this.setModificationDate(ue.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,fe=ue.getRaw("Popup"),ue.has("C")?(this.setColor(ue.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(te.get("CreationDate")),this.data.creationDate=this.creationDate,fe=te.getRaw("Popup"),te.has("C")||(this.data.color=null);this.data.popupRef=fe instanceof e.Ref?fe.toString():null,te.has("RC")&&(this.data.richText=F.XFAFactory.getRichTextAsHtml(te.get("RC")))}setCreationDate(ee){this.creationDate=typeof ee=="string"?ee:null}_setDefaultAppearance({xref:ee,extra:te,strokeColor:fe,fillColor:ue,blendMode:le,strokeAlpha:be,fillAlpha:Ce,pointsCallback:ce}){let Ee=Number.MAX_VALUE,ve=Number.MAX_VALUE,he=Number.MIN_VALUE,Fe=Number.MIN_VALUE;const _e=["q"];te&&_e.push(te),fe&&_e.push(`${fe[0]} ${fe[1]} ${fe[2]} RG`),ue&&_e.push(`${ue[0]} ${ue[1]} ${ue[2]} rg`);let Ne=this.data.quadPoints;Ne||(Ne=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const at of Ne){const[Re,Ge,gt,rt]=ce(_e,at);Ee=Math.min(Ee,Re),he=Math.max(he,Ge),ve=Math.min(ve,gt),Fe=Math.max(Fe,rt)}_e.push("Q");const Ze=new e.Dict(ee),tt=new e.Dict(ee);tt.set("Subtype",e.Name.get("Form"));const je=new t.StringStream(_e.join(" "));je.dict=tt,Ze.set("Fm0",je);const $e=new e.Dict(ee);le&&$e.set("BM",e.Name.get(le)),typeof be=="number"&&$e.set("CA",be),typeof Ce=="number"&&$e.set("ca",Ce);const He=new e.Dict(ee);He.set("GS0",$e);const Ve=new e.Dict(ee);Ve.set("ExtGState",He),Ve.set("XObject",Ze);const st=new e.Dict(ee);st.set("Resources",Ve);const pt=this.data.rect=[Ee,ve,he,Fe];st.set("BBox",pt),this.appearance=new t.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=st,this._streams.push(this.appearance,je)}static async createNewAnnotation(ee,te,fe,ue){const le=te.ref||(te.ref=ee.getNewTemporaryRef()),be=await this.createNewAppearanceStream(te,ee,ue),Ce=[];let ce;if(be){const Ee=ee.getNewTemporaryRef();ce=this.createNewDict(te,ee,{apRef:Ee}),await(0,k.writeObject)(Ee,be,Ce,ee),fe.push({ref:Ee,data:Ce.join("")})}else ce=this.createNewDict(te,ee,{});return Number.isInteger(te.parentTreeId)&&ce.set("StructParent",te.parentTreeId),Ce.length=0,await(0,k.writeObject)(le,ce,Ce,ee),{ref:le,data:Ce.join("")}}static async createNewPrintAnnotation(ee,te,fe,ue){const le=await this.createNewAppearanceStream(fe,te,ue),be=this.createNewDict(fe,te,{ap:le}),Ce=new this.prototype.constructor({dict:be,xref:te,annotationGlobals:ee,evaluatorOptions:ue.evaluatorOptions});return fe.ref&&(Ce.ref=Ce.refToReplace=fe.ref),Ce}}x.MarkupAnnotation=d;class y extends T{constructor(ee){var Fe;super(ee);const{dict:te,xref:fe,annotationGlobals:ue}=ee,le=this.data;this._needAppearances=ee.needAppearances,le.annotationType=n.AnnotationType.WIDGET,le.fieldName===void 0&&(le.fieldName=this._constructFieldName(te)),le.actions===void 0&&(le.actions=(0,w.collectActions)(fe,te,n.AnnotationActionEventType));let be=(0,w.getInheritableProperty)({dict:te,key:"V",getArray:!0});le.fieldValue=this._decodeFormValue(be);const Ce=(0,w.getInheritableProperty)({dict:te,key:"DV",getArray:!0});if(le.defaultFieldValue=this._decodeFormValue(Ce),be===void 0&&ue.xfaDatasets){const _e=this._title.str;_e&&(this._hasValueFromXFA=!0,le.fieldValue=be=ue.xfaDatasets.getValue(_e))}be===void 0&&le.defaultFieldValue!==null&&(le.fieldValue=le.defaultFieldValue),le.alternativeText=(0,n.stringToPDFString)(te.get("TU")||""),this.setDefaultAppearance(ee),le.hasAppearance||(le.hasAppearance=this._needAppearances&&le.fieldValue!==void 0&&le.fieldValue!==null);const ce=(0,w.getInheritableProperty)({dict:te,key:"FT"});le.fieldType=ce instanceof e.Name?ce.name:null;const Ee=(0,w.getInheritableProperty)({dict:te,key:"DR"}),ve=ue.acroForm.get("DR"),he=(Fe=this.appearance)==null?void 0:Fe.dict.get("Resources");this._fieldResources={localResources:Ee,acroFormResources:ve,appearanceResources:he,mergedResources:e.Dict.merge({xref:fe,dictArray:[Ee,he,ve],mergeSubDicts:!0})},le.fieldFlags=(0,w.getInheritableProperty)({dict:te,key:"Ff"}),(!Number.isInteger(le.fieldFlags)||le.fieldFlags<0)&&(le.fieldFlags=0),le.readOnly=this.hasFieldFlag(n.AnnotationFieldFlag.READONLY),le.required=this.hasFieldFlag(n.AnnotationFieldFlag.REQUIRED),le.hidden=this._hasFlag(le.annotationFlags,n.AnnotationFlag.HIDDEN)||this._hasFlag(le.annotationFlags,n.AnnotationFlag.NOVIEW)}_decodeFormValue(ee){return Array.isArray(ee)?ee.filter(te=>typeof te=="string").map(te=>(0,n.stringToPDFString)(te)):ee instanceof e.Name?(0,n.stringToPDFString)(ee.name):typeof ee=="string"?(0,n.stringToPDFString)(ee):null}hasFieldFlag(ee){return!!(this.data.fieldFlags&ee)}_isViewable(ee){return!this._hasFlag(ee,n.AnnotationFlag.INVISIBLE)}mustBeViewed(ee,te){return te?this.viewable:super.mustBeViewed(ee,te)&&!this._hasFlag(this.flags,n.AnnotationFlag.NOVIEW)}getRotationMatrix(ee){var le;let te=(le=ee==null?void 0:ee.get(this.data.id))==null?void 0:le.rotation;if(te===void 0&&(te=this.rotation),te===0)return n.IDENTITY_MATRIX;const fe=this.data.rect[2]-this.data.rect[0],ue=this.data.rect[3]-this.data.rect[1];return(0,w.getRotationMatrix)(te,fe,ue)}getBorderAndBackgroundAppearances(ee){var Ce;let te=(Ce=ee==null?void 0:ee.get(this.data.id))==null?void 0:Ce.rotation;if(te===void 0&&(te=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const fe=this.data.rect[2]-this.data.rect[0],ue=this.data.rect[3]-this.data.rect[1],le=te===0||te===180?`0 0 ${fe} ${ue} re`:`0 0 ${ue} ${fe} re`;let be="";if(this.backgroundColor&&(be=`${(0,O.getPdfColor)(this.backgroundColor,!0)} ${le} f `),this.borderColor){const ce=this.borderStyle.width||1;be+=`${ce} w ${(0,O.getPdfColor)(this.borderColor,!1)} ${le} S `}return be}async getOperatorList(ee,te,fe,ue,le){if(ue&&!(this instanceof D)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new i.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(ee,te,fe,ue,le);const be=await this._getAppearance(ee,te,fe,le);if(this.appearance&&be===null)return super.getOperatorList(ee,te,fe,ue,le);const Ce=new i.OperatorList;if(!this._defaultAppearance||be===null)return{opList:Ce,separateForm:!1,separateCanvas:!1};const ce=!!(this.data.hasOwnCanvas&&fe&n.RenderingIntentFlag.DISPLAY),Ee=[1,0,0,1,0,0],ve=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],he=re(this.data.rect,ve,Ee);let Fe;this.oc&&(Fe=await ee.parseMarkedContentProps(this.oc,null)),Fe!==void 0&&Ce.addOp(n.OPS.beginMarkedContentProps,["OC",Fe]),Ce.addOp(n.OPS.beginAnnotation,[this.data.id,this.data.rect,he,this.getRotationMatrix(le),ce]);const _e=new t.StringStream(be);return await ee.getOperatorList({stream:_e,task:te,resources:this._fieldResources.mergedResources,operatorList:Ce}),Ce.addOp(n.OPS.endAnnotation,[]),Fe!==void 0&&Ce.addOp(n.OPS.endMarkedContent,[]),{opList:Ce,separateForm:!1,separateCanvas:ce}}_getMKDict(ee){const te=new e.Dict(null);return ee&&te.set("R",ee),this.borderColor&&te.set("BC",Q(this.borderColor)),this.backgroundColor&&te.set("BG",Q(this.backgroundColor)),te.size>0?te:null}amendSavedDict(ee,te){}async save(ee,te,fe){const ue=fe==null?void 0:fe.get(this.data.id);let le=ue==null?void 0:ue.value,be=ue==null?void 0:ue.rotation;if(le===this.data.fieldValue||le===void 0){if(!this._hasValueFromXFA&&be===void 0)return null;le||(le=this.data.fieldValue)}if(be===void 0&&!this._hasValueFromXFA&&Array.isArray(le)&&Array.isArray(this.data.fieldValue)&&le.length===this.data.fieldValue.length&&le.every((je,$e)=>je===this.data.fieldValue[$e]))return null;be===void 0&&(be=this.rotation);let Ce=null;if(!this._needAppearances&&(Ce=await this._getAppearance(ee,te,n.RenderingIntentFlag.SAVE,fe),Ce===null))return null;let ce=!1;Ce!=null&&Ce.needAppearances&&(ce=!0,Ce=null);const{xref:Ee}=ee,ve=Ee.fetchIfRef(this.ref);if(!(ve instanceof e.Dict))return null;const he=new e.Dict(Ee);for(const je of ve.getKeys())je!=="AP"&&he.set(je,ve.getRaw(je));const Fe={path:this.data.fieldName,value:le},_e=je=>(0,w.isAscii)(je)?je:(0,w.stringToUTF16String)(je,!0);he.set("V",Array.isArray(le)?le.map(_e):_e(le)),this.amendSavedDict(fe,he);const Ne=this._getMKDict(be);Ne&&he.set("MK",Ne);const Ze=[],tt=[{ref:this.ref,data:"",xfa:Fe,needAppearances:ce}];if(Ce!==null){const je=Ee.getNewTemporaryRef(),$e=new e.Dict(Ee);he.set("AP",$e),$e.set("N",je);const He=this._getSaveFieldResources(Ee),Ve=new t.StringStream(Ce),st=Ve.dict=new e.Dict(Ee);st.set("Subtype",e.Name.get("Form")),st.set("Resources",He),st.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const pt=this.getRotationMatrix(fe);pt!==n.IDENTITY_MATRIX&&st.set("Matrix",pt),await(0,k.writeObject)(je,Ve,Ze,Ee),tt.push({ref:je,data:Ze.join(""),xfa:null,needAppearances:!1}),Ze.length=0}return he.set("M",`D:${(0,n.getModificationDate)()}`),await(0,k.writeObject)(this.ref,he,Ze,Ee),tt[0].data=Ze.join(""),tt}async _getAppearance(ee,te,fe,ue){if(this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD))return null;const be=ue==null?void 0:ue.get(this.data.id);let Ce,ce;if(be&&(Ce=be.formattedValue||be.value,ce=be.rotation),ce===void 0&&Ce===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const Ee=this.getBorderAndBackgroundAppearances(ue);if(Ce===void 0&&(Ce=this.data.fieldValue,!Ce))return`/Tx BMC q ${Ee}Q EMC`;if(Array.isArray(Ce)&&Ce.length===1&&(Ce=Ce[0]),(0,n.assert)(typeof Ce=="string","Expected `value` to be a string."),Ce=Ce.trim(),this.data.combo){const Bt=this.data.options.find(({exportValue:St})=>Ce===St);Ce=(Bt==null?void 0:Bt.displayValue)||Ce}if(Ce==="")return`/Tx BMC q ${Ee}Q EMC`;ce===void 0&&(ce=this.rotation);let ve=-1,he;this.data.multiLine?(he=Ce.split(/\r\n?|\n/).map(Bt=>Bt.normalize("NFC")),ve=he.length):he=[Ce.replace(/\r\n?|\n/,"").normalize("NFC")];const Fe=1,_e=2;let Ne=this.data.rect[3]-this.data.rect[1],Ze=this.data.rect[2]-this.data.rect[0];(ce===90||ce===270)&&([Ze,Ne]=[Ne,Ze]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,O.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let tt=await y._getFontData(ee,te,this.data.defaultAppearanceData,this._fieldResources.mergedResources),je,$e,He;const Ve=[];let st=!1;for(const Bt of he){const St=tt.encodeString(Bt);St.length>1&&(st=!0),Ve.push(St.join(""))}if(st&&fe&n.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(st&&this._isOffscreenCanvasSupported){const Bt=this.data.comb?"monospace":"sans-serif",St=new O.FakeUnicodeFont(ee.xref,Bt),jn=St.createFontResources(he.join("")),dt=jn.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const Ke=this._fieldResources.mergedResources.get("Font");for(const Ue of dt.getKeys())Ke.set(Ue,dt.getRaw(Ue))}else this._fieldResources.mergedResources.set("Font",dt);const Zt=St.fontName.name;tt=await y._getFontData(ee,te,{fontName:Zt,fontSize:0},jn);for(let Ke=0,Ue=Ve.length;Ke<Ue;Ke++)Ve[Ke]=(0,w.stringToUTF16String)(he[Ke]);const Gt=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=Zt,[je,$e,He]=this._computeFontSize(Ne-2*Fe,Ze-2*_e,Ce,tt,ve),this.data.defaultAppearanceData=Gt}else this._isOffscreenCanvasSupported||(0,n.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[je,$e,He]=this._computeFontSize(Ne-2*Fe,Ze-2*_e,Ce,tt,ve);let pt=tt.descent;isNaN(pt)?pt=n.BASELINE_FACTOR*He:pt=Math.max(n.BASELINE_FACTOR*He,Math.abs(pt)*$e);const at=Math.min(Math.floor((Ne-$e)/2),Fe),Re=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(je,Ve,tt,$e,Ze,Ne,Re,_e,at,pt,He,ue);if(this.data.comb)return this._getCombAppearance(je,tt,Ve[0],$e,Ze,Ne,_e,at,pt,He,ue);const Ge=at+pt;if(Re===0||Re>2)return`/Tx BMC q ${Ee}BT `+je+` 1 0 0 1 ${(0,w.numberToString)(_e)} ${(0,w.numberToString)(Ge)} Tm (${(0,w.escapeString)(Ve[0])}) Tj ET Q EMC`;const gt={shift:0},rt=this._renderText(Ve[0],tt,$e,Ze,Re,gt,_e,Ge);return`/Tx BMC q ${Ee}BT `+je+` 1 0 0 1 0 0 Tm ${rt} ET Q EMC`}static async _getFontData(ee,te,fe,ue){const le=new i.OperatorList,be={font:null,clone(){return this}},{fontName:Ce,fontSize:ce}=fe;return await ee.handleSetFont(ue,[Ce&&e.Name.get(Ce),ce],null,le,te,be,null),be.font}_getTextWidth(ee,te){return te.charsToGlyphs(ee).reduce((fe,ue)=>fe+ue.width,0)/1e3}_computeFontSize(ee,te,fe,ue,le){let{fontSize:be}=this.data.defaultAppearanceData,Ce=(be||12)*n.LINE_FACTOR,ce=Math.round(ee/Ce);if(!be){const Ee=Fe=>Math.floor(Fe*100)/100;if(le===-1){const Fe=this._getTextWidth(fe,ue);be=Ee(Math.min(ee/n.LINE_FACTOR,Fe>te?te/Fe:1/0)),ce=1}else{const Fe=fe.split(/\r\n?|\n/),_e=[];for(const Ze of Fe){const tt=ue.encodeString(Ze).join(""),je=ue.charsToGlyphs(tt),$e=ue.getCharPositions(tt);_e.push({line:tt,glyphs:je,positions:$e})}const Ne=Ze=>{let tt=0;for(const je of _e){const $e=this._splitLine(null,ue,Ze,te,je);if(tt+=$e.length*Ze,tt>ee)return!0}return!1};for(ce=Math.max(ce,le);;){if(Ce=ee/ce,be=Ee(Ce/n.LINE_FACTOR),Ne(be)){ce++;continue}break}}const{fontName:ve,fontColor:he}=this.data.defaultAppearanceData;this._defaultAppearance=(0,O.createDefaultAppearance)({fontSize:be,fontName:ve,fontColor:he})}return[this._defaultAppearance,be,ee/ce]}_renderText(ee,te,fe,ue,le,be,Ce,ce){let Ee;if(le===1){const he=this._getTextWidth(ee,te)*fe;Ee=(ue-he)/2}else if(le===2){const he=this._getTextWidth(ee,te)*fe;Ee=ue-he-Ce}else Ee=Ce;const ve=(0,w.numberToString)(Ee-be.shift);return be.shift=Ee,ce=(0,w.numberToString)(ce),`${ve} ${ce} Td (${(0,w.escapeString)(ee)}) Tj`}_getSaveFieldResources(ee){var be;const{localResources:te,appearanceResources:fe,acroFormResources:ue}=this._fieldResources,le=(be=this.data.defaultAppearanceData)==null?void 0:be.fontName;if(!le)return te||e.Dict.empty;for(const Ce of[te,fe])if(Ce instanceof e.Dict){const ce=Ce.get("Font");if(ce instanceof e.Dict&&ce.has(le))return Ce}if(ue instanceof e.Dict){const Ce=ue.get("Font");if(Ce instanceof e.Dict&&Ce.has(le)){const ce=new e.Dict(ee);ce.set(le,Ce.getRaw(le));const Ee=new e.Dict(ee);return Ee.set("Font",ce),e.Dict.merge({xref:ee,dictArray:[Ee,te],mergeSubDicts:!0})}}return te||e.Dict.empty}getFieldObject(){return null}}class W extends y{constructor(ee){super(ee),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const te=ee.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let fe=(0,w.getInheritableProperty)({dict:te,key:"Q"});(!Number.isInteger(fe)||fe<0||fe>2)&&(fe=null),this.data.textAlignment=fe;let ue=(0,w.getInheritableProperty)({dict:te,key:"MaxLen"});(!Number.isInteger(ue)||ue<0)&&(ue=0),this.data.maxLen=ue,this.data.multiLine=this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(n.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(n.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(n.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(ee,te,fe,ue,le,be,Ce,ce,Ee,ve,he){const Fe=le/this.data.maxLen,_e=this.getBorderAndBackgroundAppearances(he),Ne=[],Ze=te.getCharPositions(fe);for(const[je,$e]of Ze)Ne.push(`(${(0,w.escapeString)(fe.substring(je,$e))}) Tj`);const tt=Ne.join(` ${(0,w.numberToString)(Fe)} 0 Td `);return`/Tx BMC q ${_e}BT `+ee+` 1 0 0 1 ${(0,w.numberToString)(Ce)} ${(0,w.numberToString)(ce+Ee)} Tm ${tt} ET Q EMC`}_getMultilineAppearance(ee,te,fe,ue,le,be,Ce,ce,Ee,ve,he,Fe){const _e=[],Ne=le-2*ce,Ze={shift:0};for(let $e=0,He=te.length;$e<He;$e++){const Ve=te[$e],st=this._splitLine(Ve,fe,ue,Ne);for(let pt=0,at=st.length;pt<at;pt++){const Re=st[pt],Ge=$e===0&&pt===0?-Ee-(he-ve):-he;_e.push(this._renderText(Re,fe,ue,le,Ce,Ze,ce,Ge))}}const tt=this.getBorderAndBackgroundAppearances(Fe),je=_e.join(`
`);return`/Tx BMC q ${tt}BT `+ee+` 1 0 0 1 0 ${(0,w.numberToString)(be)} Tm ${je} ET Q EMC`}_splitLine(ee,te,fe,ue,le={}){ee=le.line||ee;const be=le.glyphs||te.charsToGlyphs(ee);if(be.length<=1)return[ee];const Ce=le.positions||te.getCharPositions(ee),ce=fe/1e3,Ee=[];let ve=-1,he=-1,Fe=-1,_e=0,Ne=0;for(let Ze=0,tt=be.length;Ze<tt;Ze++){const[je,$e]=Ce[Ze],He=be[Ze],Ve=He.width*ce;He.unicode===" "?Ne+Ve>ue?(Ee.push(ee.substring(_e,je)),_e=je,Ne=Ve,ve=-1,Fe=-1):(Ne+=Ve,ve=je,he=$e,Fe=Ze):Ne+Ve>ue?ve!==-1?(Ee.push(ee.substring(_e,he)),_e=he,Ze=Fe+1,ve=-1,Ne=0):(Ee.push(ee.substring(_e,je)),_e=je,Ne=Ve):Ne+=Ve}return _e<ee.length&&Ee.push(ee.substring(_e,ee.length)),Ee}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class u extends y{constructor(ee){super(ee),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(ee):this.data.radioButton?this._processRadioButton(ee):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(ee)):(0,n.warn)("Invalid field flags for button widget annotation")}async getOperatorList(ee,te,fe,ue,le){if(this.data.pushButton)return super.getOperatorList(ee,te,fe,!1,le);let be=null,Ce=null;if(le){const Ee=le.get(this.data.id);be=Ee?Ee.value:null,Ce=Ee?Ee.rotation:null}if(be===null&&this.appearance)return super.getOperatorList(ee,te,fe,ue,le);be==null&&(be=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const ce=be?this.checkedAppearance:this.uncheckedAppearance;if(ce){const Ee=this.appearance,ve=ce.dict.getArray("Matrix")||n.IDENTITY_MATRIX;Ce&&ce.dict.set("Matrix",this.getRotationMatrix(le)),this.appearance=ce;const he=super.getOperatorList(ee,te,fe,ue,le);return this.appearance=Ee,ce.dict.set("Matrix",ve),he}return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1}}async save(ee,te,fe){return this.data.checkBox?this._saveCheckbox(ee,te,fe):this.data.radioButton?this._saveRadioButton(ee,te,fe):null}async _saveCheckbox(ee,te,fe){if(!fe)return null;const ue=fe.get(this.data.id);let le=ue==null?void 0:ue.rotation,be=ue==null?void 0:ue.value;if(le===void 0&&(be===void 0||this.data.fieldValue===this.data.exportValue===be))return null;const Ce=ee.xref.fetchIfRef(this.ref);if(!(Ce instanceof e.Dict))return null;le===void 0&&(le=this.rotation),be===void 0&&(be=this.data.fieldValue===this.data.exportValue);const ce={path:this.data.fieldName,value:be?this.data.exportValue:""},Ee=e.Name.get(be?this.data.exportValue:"Off");Ce.set("V",Ee),Ce.set("AS",Ee),Ce.set("M",`D:${(0,n.getModificationDate)()}`);const ve=this._getMKDict(le);ve&&Ce.set("MK",ve);const he=[];return await(0,k.writeObject)(this.ref,Ce,he,ee.xref),[{ref:this.ref,data:he.join(""),xfa:ce}]}async _saveRadioButton(ee,te,fe){if(!fe)return null;const ue=fe.get(this.data.id);let le=ue==null?void 0:ue.rotation,be=ue==null?void 0:ue.value;if(le===void 0&&(be===void 0||this.data.fieldValue===this.data.buttonValue===be))return null;const Ce=ee.xref.fetchIfRef(this.ref);if(!(Ce instanceof e.Dict))return null;be===void 0&&(be=this.data.fieldValue===this.data.buttonValue),le===void 0&&(le=this.rotation);const ce={path:this.data.fieldName,value:be?this.data.buttonValue:""},Ee=e.Name.get(be?this.data.buttonValue:"Off"),ve=[];let he=null;if(be)if(this.parent instanceof e.Ref){const Ne=ee.xref.fetch(this.parent);Ne.set("V",Ee),await(0,k.writeObject)(this.parent,Ne,ve,ee.xref),he=ve.join(""),ve.length=0}else this.parent instanceof e.Dict&&this.parent.set("V",Ee);Ce.set("AS",Ee),Ce.set("M",`D:${(0,n.getModificationDate)()}`);const Fe=this._getMKDict(le);Fe&&Ce.set("MK",Fe),await(0,k.writeObject)(this.ref,Ce,ve,ee.xref);const _e=[{ref:this.ref,data:ve.join(""),xfa:ce}];return he&&_e.push({ref:this.parent,data:he,xfa:null}),_e}_getDefaultCheckedAppearance(ee,te){const fe=this.data.rect[2]-this.data.rect[0],ue=this.data.rect[3]-this.data.rect[1],le=[0,0,fe,ue],be=.8,Ce=Math.min(fe,ue)*be;let ce,Ee;te==="check"?(ce={width:.755*Ce,height:.705*Ce},Ee="3"):te==="disc"?(ce={width:.791*Ce,height:.705*Ce},Ee="l"):(0,n.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${te}`);const ve=(0,w.numberToString)((fe-ce.width)/2),he=(0,w.numberToString)((ue-ce.height)/2),Fe=`q BT /PdfJsZaDb ${Ce} Tf 0 g ${ve} ${he} Td (${Ee}) Tj ET Q`,_e=new e.Dict(ee.xref);_e.set("FormType",1),_e.set("Subtype",e.Name.get("Form")),_e.set("Type",e.Name.get("XObject")),_e.set("BBox",le),_e.set("Matrix",[1,0,0,1,0,0]),_e.set("Length",Fe.length);const Ne=new e.Dict(ee.xref),Ze=new e.Dict(ee.xref);Ze.set("PdfJsZaDb",this.fallbackFontDict),Ne.set("Font",Ze),_e.set("Resources",Ne),this.checkedAppearance=new t.StringStream(Fe),this.checkedAppearance.dict=_e,this._streams.push(this.checkedAppearance)}_processCheckBox(ee){const te=ee.dict.get("AP");if(!(te instanceof e.Dict))return;const fe=te.get("N");if(!(fe instanceof e.Dict))return;const ue=this._decodeFormValue(ee.dict.get("AS"));typeof ue=="string"&&(this.data.fieldValue=ue);const le=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",be=fe.getKeys();if(be.length===0)be.push("Off",le);else if(be.length===1)be[0]==="Off"?be.push(le):be.unshift("Off");else if(be.includes(le))be.length=0,be.push("Off",le);else{const Ee=be.find(ve=>ve!=="Off");be.length=0,be.push("Off",Ee)}be.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=be[1];const Ce=fe.get(this.data.exportValue);this.checkedAppearance=Ce instanceof o.BaseStream?Ce:null;const ce=fe.get("Off");this.uncheckedAppearance=ce instanceof o.BaseStream?ce:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(ee,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(ee){this.data.fieldValue=this.data.buttonValue=null;const te=ee.dict.get("Parent");if(te instanceof e.Dict){this.parent=ee.dict.getRaw("Parent");const Ce=te.get("V");Ce instanceof e.Name&&(this.data.fieldValue=this._decodeFormValue(Ce))}const fe=ee.dict.get("AP");if(!(fe instanceof e.Dict))return;const ue=fe.get("N");if(!(ue instanceof e.Dict))return;for(const Ce of ue.getKeys())if(Ce!=="Off"){this.data.buttonValue=this._decodeFormValue(Ce);break}const le=ue.get(this.data.buttonValue);this.checkedAppearance=le instanceof o.BaseStream?le:null;const be=ue.get("Off");this.uncheckedAppearance=be instanceof o.BaseStream?be:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(ee,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(ee){const{dict:te,annotationGlobals:fe}=ee;if(!te.has("A")&&!te.has("AA")&&!this.data.alternativeText){(0,n.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!te.has("A")&&!te.has("AA"),H.Catalog.parseDestDictionary({destDict:te,resultObj:this.data,docBaseUrl:fe.baseUrl,docAttachments:fe.attachments})}getFieldObject(){let ee="button",te;return this.data.checkBox?(ee="checkbox",te=this.data.exportValue):this.data.radioButton&&(ee="radiobutton",te=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:te,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:ee}}get fallbackFontDict(){const ee=new e.Dict;return ee.set("BaseFont",e.Name.get("ZapfDingbats")),ee.set("Type",e.Name.get("FallbackType")),ee.set("Subtype",e.Name.get("FallbackType")),ee.set("Encoding",e.Name.get("ZapfDingbatsEncoding")),(0,n.shadow)(this,"fallbackFontDict",ee)}}class b extends y{constructor(ee){super(ee);const{dict:te,xref:fe}=ee;this.indices=te.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const ue=(0,w.getInheritableProperty)({dict:te,key:"Opt"});if(Array.isArray(ue))for(let le=0,be=ue.length;le<be;le++){const Ce=fe.fetchIfRef(ue[le]),ce=Array.isArray(Ce);this.data.options[le]={exportValue:this._decodeFormValue(ce?fe.fetchIfRef(Ce[0]):Ce),displayValue:this._decodeFormValue(ce?fe.fetchIfRef(Ce[1]):Ce)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const le=this.data.options.length;for(const be of this.indices)Number.isInteger(be)&&be>=0&&be<le&&this.data.fieldValue.push(this.data.options[be].exportValue)}this.data.combo=this.hasFieldFlag(n.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(n.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const ee=this.data.combo?"combobox":"listbox",te=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:te,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:ee}}amendSavedDict(ee,te){var be;if(!this.hasIndices)return;let fe=(be=ee==null?void 0:ee.get(this.data.id))==null?void 0:be.value;Array.isArray(fe)||(fe=[fe]);const ue=[],{options:le}=this.data;for(let Ce=0,ce=0,Ee=le.length;Ce<Ee;Ce++)le[Ce].exportValue===fe[ce]&&(ue.push(Ce),ce+=1);te.set("I",ue)}async _getAppearance(ee,te,fe,ue){if(this.data.combo)return super._getAppearance(ee,te,fe,ue);let le,be;const Ce=ue==null?void 0:ue.get(this.data.id);if(Ce&&(be=Ce.rotation,le=Ce.value),be===void 0&&le===void 0&&!this._needAppearances)return null;le===void 0?le=this.data.fieldValue:Array.isArray(le)||(le=[le]);const ce=1,Ee=2;let ve=this.data.rect[3]-this.data.rect[1],he=this.data.rect[2]-this.data.rect[0];(be===90||be===270)&&([he,ve]=[ve,he]);const Fe=this.data.options.length,_e=[];for(let Re=0;Re<Fe;Re++){const{exportValue:Ge}=this.data.options[Re];le.includes(Ge)&&_e.push(Re)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,O.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Ne=await y._getFontData(ee,te,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let Ze,{fontSize:tt}=this.data.defaultAppearanceData;if(tt)Ze=this._defaultAppearance;else{const Re=(ve-ce)/Fe;let Ge=-1,gt;for(const{displayValue:rt}of this.data.options){const Bt=this._getTextWidth(rt,Ne);Bt>Ge&&(Ge=Bt,gt=rt)}[Ze,tt]=this._computeFontSize(Re,he-2*Ee,gt,Ne,-1)}const je=tt*n.LINE_FACTOR,$e=(je-tt)/2,He=Math.floor(ve/je);let Ve=0;if(_e.length>0){const Re=Math.min(..._e),Ge=Math.max(..._e);Ve=Math.max(0,Ge-He+1),Ve>Re&&(Ve=Re)}const st=Math.min(Ve+He+1,Fe),pt=["/Tx BMC q",`1 1 ${he} ${ve} re W n`];if(_e.length){pt.push("0.600006 0.756866 0.854904 rg");for(const Re of _e)Ve<=Re&&Re<st&&pt.push(`1 ${ve-(Re-Ve+1)*je} ${he} ${je} re f`)}pt.push("BT",Ze,`1 0 0 1 0 ${ve} Tm`);const at={shift:0};for(let Re=Ve;Re<st;Re++){const{displayValue:Ge}=this.data.options[Re],gt=Re===Ve?$e:0;pt.push(this._renderText(Ge,Ne,tt,he,0,at,Ee,-je+gt))}return pt.push("ET Q EMC"),pt.join(`
`)}}class D extends y{constructor(ee){super(ee),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class J extends d{constructor(ee){super(ee),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:fe}=ee;this.data.annotationType=n.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=fe.has("Name")?fe.get("Name").name:"Note"),fe.has("State")?(this.data.state=fe.get("State")||null,this.data.stateModel=fe.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class N extends T{constructor(ee){var le;super(ee);const{dict:te,annotationGlobals:fe}=ee;this.data.annotationType=n.AnnotationType.LINK;const ue=j(te,this.rectangle);ue&&(this.data.quadPoints=ue),(le=this.data).borderColor||(le.borderColor=this.data.color),H.Catalog.parseDestDictionary({destDict:te,resultObj:this.data,docBaseUrl:fe.baseUrl,docAttachments:fe.attachments})}}class v extends T{constructor(ee){super(ee);const{dict:te}=ee;this.data.annotationType=n.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let fe=te.get("Parent");if(!fe){(0,n.warn)("Popup annotation has a missing or invalid parent annotation.");return}const ue=fe.getArray("Rect");this.data.parentRect=Array.isArray(ue)&&ue.length===4?n.Util.normalizeRect(ue):null;const le=fe.get("RT");if((0,e.isName)(le,n.AnnotationReplyType.GROUP)&&(fe=fe.get("IRT")),fe.has("M")?(this.setModificationDate(fe.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,fe.has("C")?(this.setColor(fe.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const be=fe.get("F");this._isViewable(be)&&this.setFlags(be)}this.setTitle(fe.get("T")),this.data.titleObj=this._title,this.setContents(fe.get("Contents")),this.data.contentsObj=this._contents,fe.has("RC")&&(this.data.richText=F.XFAFactory.getRichTextAsHtml(fe.get("RC"))),this.data.open=!!te.get("Open")}}x.PopupAnnotation=v;class S extends d{constructor(ee){var ue;super(ee),this.data.hasOwnCanvas=!0;const{evaluatorOptions:te,xref:fe}=ee;if(this.data.annotationType=n.AnnotationType.FREETEXT,this.setDefaultAppearance(ee),this.appearance){const{fontColor:le,fontSize:be}=(0,O.parseAppearanceStream)(this.appearance,te,fe);this.data.defaultAppearanceData.fontColor=le,this.data.defaultAppearanceData.fontSize=be||10}else if(this._isOffscreenCanvasSupported){const le=ee.dict.get("CA"),be=new O.FakeUnicodeFont(fe,"sans-serif");(ue=this.data.defaultAppearanceData).fontSize||(ue.fontSize=10);const{fontColor:Ce,fontSize:ce}=this.data.defaultAppearanceData;this.appearance=be.createAppearance(this._contents.str,this.rectangle,this.rotation,ce,Ce,le),this._streams.push(this.appearance,O.FakeUnicodeFont.toUnicodeStream)}else(0,n.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(ee,te,{apRef:fe,ap:ue}){const{color:le,fontSize:be,rect:Ce,rotation:ce,user:Ee,value:ve}=ee,he=new e.Dict(te);he.set("Type",e.Name.get("Annot")),he.set("Subtype",e.Name.get("FreeText")),he.set("CreationDate",`D:${(0,n.getModificationDate)()}`),he.set("Rect",Ce);const Fe=`/Helv ${be} Tf ${(0,O.getPdfColor)(le,!0)}`;if(he.set("DA",Fe),he.set("Contents",(0,w.isAscii)(ve)?ve:(0,w.stringToUTF16String)(ve,!0)),he.set("F",4),he.set("Border",[0,0,0]),he.set("Rotate",ce),Ee&&he.set("T",(0,w.isAscii)(Ee)?Ee:(0,w.stringToUTF16String)(Ee,!0)),fe||ue){const _e=new e.Dict(te);he.set("AP",_e),fe?_e.set("N",fe):_e.set("N",ue)}return he}static async createNewAppearanceStream(ee,te,fe){const{baseFontRef:ue,evaluator:le,task:be}=fe,{color:Ce,fontSize:ce,rect:Ee,rotation:ve,value:he}=ee,Fe=new e.Dict(te),_e=new e.Dict(te);if(ue)_e.set("Helv",ue);else{const mt=new e.Dict(te);mt.set("BaseFont",e.Name.get("Helvetica")),mt.set("Type",e.Name.get("Font")),mt.set("Subtype",e.Name.get("Type1")),mt.set("Encoding",e.Name.get("WinAnsiEncoding")),_e.set("Helv",mt)}Fe.set("Font",_e);const Ne=await y._getFontData(le,be,{fontName:"Helv",fontSize:ce},Fe),[Ze,tt,je,$e]=Ee;let He=je-Ze,Ve=$e-tt;ve%180!==0&&([He,Ve]=[Ve,He]);const st=he.split(`
`),pt=ce/1e3;let at=-1/0;const Re=[];for(let mt of st){const $t=Ne.encodeString(mt);if($t.length>1)return null;mt=$t.join(""),Re.push(mt);let Mt=0;const Dt=Ne.charsToGlyphs(mt);for(const Xt of Dt)Mt+=Xt.width*pt;at=Math.max(at,Mt)}let Ge=1;at>He&&(Ge=He/at);let gt=1;const rt=n.LINE_FACTOR*ce,Bt=(n.LINE_FACTOR-n.LINE_DESCENT_FACTOR)*ce,St=rt*st.length;St>Ve&&(gt=Ve/St);const jn=Math.min(Ge,gt),dt=ce*jn;let Zt,Gt,Ke;switch(ve){case 0:Ke=[1,0,0,1],Gt=[Ee[0],Ee[1],He,Ve],Zt=[Ee[0],Ee[3]-Bt];break;case 90:Ke=[0,1,-1,0],Gt=[Ee[1],-Ee[2],He,Ve],Zt=[Ee[1],-Ee[0]-Bt];break;case 180:Ke=[-1,0,0,-1],Gt=[-Ee[2],-Ee[3],He,Ve],Zt=[-Ee[2],-Ee[1]-Bt];break;case 270:Ke=[0,-1,1,0],Gt=[-Ee[3],Ee[0],He,Ve],Zt=[-Ee[3],Ee[2]-Bt];break}const Ue=["q",`${Ke.join(" ")} 0 0 cm`,`${Gt.join(" ")} re W n`,"BT",`${(0,O.getPdfColor)(Ce,!0)}`,`0 Tc /Helv ${(0,w.numberToString)(dt)} Tf`];Ue.push(`${Zt.join(" ")} Td (${(0,w.escapeString)(Re[0])}) Tj`);const ze=(0,w.numberToString)(rt);for(let mt=1,$t=Re.length;mt<$t;mt++){const Mt=Re[mt];Ue.push(`0 -${ze} Td (${(0,w.escapeString)(Mt)}) Tj`)}Ue.push("ET","Q");const qe=Ue.join(`
`),ct=new e.Dict(te);ct.set("FormType",1),ct.set("Subtype",e.Name.get("Form")),ct.set("Type",e.Name.get("XObject")),ct.set("BBox",Ee),ct.set("Resources",Fe),ct.set("Matrix",[1,0,0,1,-Ee[0],-Ee[1]]);const ft=new t.StringStream(qe);return ft.dict=ct,ft}}class I extends d{constructor(ee){super(ee);const{dict:te,xref:fe}=ee;this.data.annotationType=n.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const ue=te.getArray("L");if(this.data.lineCoordinates=n.Util.normalizeRect(ue),this.setLineEndings(te.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const le=this.color?Q(this.color):[0,0,0],be=te.get("CA"),Ce=C(te.getArray("IC"),null),ce=Ce?Q(Ce):null,Ee=ce?be:null,ve=this.borderStyle.width||1,he=2*ve,Fe=[this.data.lineCoordinates[0]-he,this.data.lineCoordinates[1]-he,this.data.lineCoordinates[2]+he,this.data.lineCoordinates[3]+he];n.Util.intersect(this.rectangle,Fe)||(this.rectangle=Fe),this._setDefaultAppearance({xref:fe,extra:`${ve} w`,strokeColor:le,fillColor:ce,strokeAlpha:be,fillAlpha:Ee,pointsCallback:(_e,Ne)=>(_e.push(`${ue[0]} ${ue[1]} m`,`${ue[2]} ${ue[3]} l`,"S"),[Ne[0].x-ve,Ne[1].x+ve,Ne[3].y-ve,Ne[1].y+ve])})}}}class h extends d{constructor(ee){super(ee);const{dict:te,xref:fe}=ee;if(this.data.annotationType=n.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const ue=this.color?Q(this.color):[0,0,0],le=te.get("CA"),be=C(te.getArray("IC"),null),Ce=be?Q(be):null,ce=Ce?le:null;if(this.borderStyle.width===0&&!Ce)return;this._setDefaultAppearance({xref:fe,extra:`${this.borderStyle.width} w`,strokeColor:ue,fillColor:Ce,strokeAlpha:le,fillAlpha:ce,pointsCallback:(Ee,ve)=>{const he=ve[2].x+this.borderStyle.width/2,Fe=ve[2].y+this.borderStyle.width/2,_e=ve[3].x-ve[2].x-this.borderStyle.width,Ne=ve[1].y-ve[3].y-this.borderStyle.width;return Ee.push(`${he} ${Fe} ${_e} ${Ne} re`),Ce?Ee.push("B"):Ee.push("S"),[ve[0].x,ve[1].x,ve[3].y,ve[1].y]}})}}}class B extends d{constructor(ee){super(ee);const{dict:te,xref:fe}=ee;if(this.data.annotationType=n.AnnotationType.CIRCLE,!this.appearance){const ue=this.color?Q(this.color):[0,0,0],le=te.get("CA"),be=C(te.getArray("IC"),null),Ce=be?Q(be):null,ce=Ce?le:null;if(this.borderStyle.width===0&&!Ce)return;const Ee=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:fe,extra:`${this.borderStyle.width} w`,strokeColor:ue,fillColor:Ce,strokeAlpha:le,fillAlpha:ce,pointsCallback:(ve,he)=>{const Fe=he[0].x+this.borderStyle.width/2,_e=he[0].y-this.borderStyle.width/2,Ne=he[3].x-this.borderStyle.width/2,Ze=he[3].y+this.borderStyle.width/2,tt=Fe+(Ne-Fe)/2,je=_e+(Ze-_e)/2,$e=(Ne-Fe)/2*Ee,He=(Ze-_e)/2*Ee;return ve.push(`${tt} ${Ze} m`,`${tt+$e} ${Ze} ${Ne} ${je+He} ${Ne} ${je} c`,`${Ne} ${je-He} ${tt+$e} ${_e} ${tt} ${_e} c`,`${tt-$e} ${_e} ${Fe} ${je-He} ${Fe} ${je} c`,`${Fe} ${je+He} ${tt-$e} ${Ze} ${tt} ${Ze} c`,"h"),Ce?ve.push("B"):ve.push("S"),[he[0].x,he[1].x,he[3].y,he[1].y]}})}}}class r extends d{constructor(ee){super(ee);const{dict:te,xref:fe}=ee;this.data.annotationType=n.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof A||(this.setLineEndings(te.getArray("LE")),this.data.lineEndings=this.lineEndings);const ue=te.getArray("Vertices");if(Array.isArray(ue)){for(let le=0,be=ue.length;le<be;le+=2)this.data.vertices.push({x:ue[le],y:ue[le+1]});if(!this.appearance){const le=this.color?Q(this.color):[0,0,0],be=te.get("CA"),Ce=this.borderStyle.width||1,ce=2*Ce,Ee=[1/0,1/0,-1/0,-1/0];for(const ve of this.data.vertices)Ee[0]=Math.min(Ee[0],ve.x-ce),Ee[1]=Math.min(Ee[1],ve.y-ce),Ee[2]=Math.max(Ee[2],ve.x+ce),Ee[3]=Math.max(Ee[3],ve.y+ce);n.Util.intersect(this.rectangle,Ee)||(this.rectangle=Ee),this._setDefaultAppearance({xref:fe,extra:`${Ce} w`,strokeColor:le,strokeAlpha:be,pointsCallback:(ve,he)=>{const Fe=this.data.vertices;for(let _e=0,Ne=Fe.length;_e<Ne;_e++)ve.push(`${Fe[_e].x} ${Fe[_e].y} ${_e===0?"m":"l"}`);return ve.push("S"),[he[0].x,he[1].x,he[3].y,he[1].y]}})}}}}class A extends r{constructor(ee){super(ee),this.data.annotationType=n.AnnotationType.POLYGON}}class E extends d{constructor(ee){super(ee),this.data.annotationType=n.AnnotationType.CARET}}class G extends d{constructor(ee){super(ee),this.data.hasOwnCanvas=this.data.noRotate;const{dict:te,xref:fe}=ee;this.data.annotationType=n.AnnotationType.INK,this.data.inkLists=[];const ue=te.getArray("InkList");if(Array.isArray(ue)){for(let le=0,be=ue.length;le<be;++le){this.data.inkLists.push([]);for(let Ce=0,ce=ue[le].length;Ce<ce;Ce+=2)this.data.inkLists[le].push({x:fe.fetchIfRef(ue[le][Ce]),y:fe.fetchIfRef(ue[le][Ce+1])})}if(!this.appearance){const le=this.color?Q(this.color):[0,0,0],be=te.get("CA"),Ce=this.borderStyle.width||1,ce=2*Ce,Ee=[1/0,1/0,-1/0,-1/0];for(const ve of this.data.inkLists)for(const he of ve)Ee[0]=Math.min(Ee[0],he.x-ce),Ee[1]=Math.min(Ee[1],he.y-ce),Ee[2]=Math.max(Ee[2],he.x+ce),Ee[3]=Math.max(Ee[3],he.y+ce);n.Util.intersect(this.rectangle,Ee)||(this.rectangle=Ee),this._setDefaultAppearance({xref:fe,extra:`${Ce} w`,strokeColor:le,strokeAlpha:be,pointsCallback:(ve,he)=>{for(const Fe of this.data.inkLists){for(let _e=0,Ne=Fe.length;_e<Ne;_e++)ve.push(`${Fe[_e].x} ${Fe[_e].y} ${_e===0?"m":"l"}`);ve.push("S")}return[he[0].x,he[1].x,he[3].y,he[1].y]}})}}}static createNewDict(ee,te,{apRef:fe,ap:ue}){const{color:le,opacity:be,paths:Ce,rect:ce,rotation:Ee,thickness:ve}=ee,he=new e.Dict(te);he.set("Type",e.Name.get("Annot")),he.set("Subtype",e.Name.get("Ink")),he.set("CreationDate",`D:${(0,n.getModificationDate)()}`),he.set("Rect",ce),he.set("InkList",Ce.map(Ne=>Ne.points)),he.set("F",4),he.set("Rotate",Ee);const Fe=new e.Dict(te);he.set("BS",Fe),Fe.set("W",ve),he.set("C",Array.from(le,Ne=>Ne/255)),he.set("CA",be);const _e=new e.Dict(te);return he.set("AP",_e),fe?_e.set("N",fe):_e.set("N",ue),he}static async createNewAppearanceStream(ee,te,fe){const{color:ue,rect:le,paths:be,thickness:Ce,opacity:ce}=ee,Ee=[`${Ce} w 1 J 1 j`,`${(0,O.getPdfColor)(ue,!1)}`];ce!==1&&Ee.push("/R0 gs");const ve=[];for(const{bezier:Ne}of be){ve.length=0,ve.push(`${(0,w.numberToString)(Ne[0])} ${(0,w.numberToString)(Ne[1])} m`);for(let Ze=2,tt=Ne.length;Ze<tt;Ze+=6){const je=Ne.slice(Ze,Ze+6).map(w.numberToString).join(" ");ve.push(`${je} c`)}ve.push("S"),Ee.push(ve.join(`
`))}const he=Ee.join(`
`),Fe=new e.Dict(te);if(Fe.set("FormType",1),Fe.set("Subtype",e.Name.get("Form")),Fe.set("Type",e.Name.get("XObject")),Fe.set("BBox",le),Fe.set("Length",he.length),ce!==1){const Ne=new e.Dict(te),Ze=new e.Dict(te),tt=new e.Dict(te);tt.set("CA",ce),tt.set("Type",e.Name.get("ExtGState")),Ze.set("R0",tt),Ne.set("ExtGState",Ze),Fe.set("Resources",Ne)}const _e=new t.StringStream(he);return _e.dict=Fe,_e}}class se extends d{constructor(ee){var le;super(ee);const{dict:te,xref:fe}=ee;if(this.data.annotationType=n.AnnotationType.HIGHLIGHT,this.data.quadPoints=j(te,null)){const be=(le=this.appearance)==null?void 0:le.dict.get("Resources");if(!this.appearance||!(be!=null&&be.has("ExtGState"))){this.appearance&&(0,n.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Ce=this.color?Q(this.color):[1,1,0],ce=te.get("CA");this._setDefaultAppearance({xref:fe,fillColor:Ce,blendMode:"Multiply",fillAlpha:ce,pointsCallback:(Ee,ve)=>(Ee.push(`${ve[0].x} ${ve[0].y} m`,`${ve[1].x} ${ve[1].y} l`,`${ve[3].x} ${ve[3].y} l`,`${ve[2].x} ${ve[2].y} l`,"f"),[ve[0].x,ve[1].x,ve[3].y,ve[1].y])})}}else this.data.popupRef=null}}class Ae extends d{constructor(ee){super(ee);const{dict:te,xref:fe}=ee;if(this.data.annotationType=n.AnnotationType.UNDERLINE,this.data.quadPoints=j(te,null)){if(!this.appearance){const le=this.color?Q(this.color):[0,0,0],be=te.get("CA");this._setDefaultAppearance({xref:fe,extra:"[] 0 d 0.571 w",strokeColor:le,strokeAlpha:be,pointsCallback:(Ce,ce)=>(Ce.push(`${ce[2].x} ${ce[2].y+1.3} m`,`${ce[3].x} ${ce[3].y+1.3} l`,"S"),[ce[0].x,ce[1].x,ce[3].y,ce[1].y])})}}else this.data.popupRef=null}}class ke extends d{constructor(ee){super(ee);const{dict:te,xref:fe}=ee;if(this.data.annotationType=n.AnnotationType.SQUIGGLY,this.data.quadPoints=j(te,null)){if(!this.appearance){const le=this.color?Q(this.color):[0,0,0],be=te.get("CA");this._setDefaultAppearance({xref:fe,extra:"[] 0 d 1 w",strokeColor:le,strokeAlpha:be,pointsCallback:(Ce,ce)=>{const Ee=(ce[0].y-ce[2].y)/6;let ve=Ee,he=ce[2].x;const Fe=ce[2].y,_e=ce[3].x;Ce.push(`${he} ${Fe+ve} m`);do he+=2,ve=ve===0?Ee:0,Ce.push(`${he} ${Fe+ve} l`);while(he<_e);return Ce.push("S"),[ce[2].x,_e,Fe-2*Ee,Fe+2*Ee]}})}}else this.data.popupRef=null}}class de extends d{constructor(ee){super(ee);const{dict:te,xref:fe}=ee;if(this.data.annotationType=n.AnnotationType.STRIKEOUT,this.data.quadPoints=j(te,null)){if(!this.appearance){const le=this.color?Q(this.color):[0,0,0],be=te.get("CA");this._setDefaultAppearance({xref:fe,extra:"[] 0 d 1 w",strokeColor:le,strokeAlpha:be,pointsCallback:(Ce,ce)=>(Ce.push(`${(ce[0].x+ce[2].x)/2} ${(ce[0].y+ce[2].y)/2} m`,`${(ce[1].x+ce[3].x)/2} ${(ce[1].y+ce[3].y)/2} l`,"S"),[ce[0].x,ce[1].x,ce[3].y,ce[1].y])})}}else this.data.popupRef=null}}class Ie extends d{constructor(ee){super(ee),this.data.annotationType=n.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(ee,te){const{width:fe,height:ue}=ee,le=new OffscreenCanvas(fe,ue),be=le.getContext("2d",{alpha:!0});be.drawImage(ee,0,0);const Ce=be.getImageData(0,0,fe,ue).data,ce=new Uint32Array(Ce.buffer),Ee=ce.some(n.FeatureTest.isLittleEndian?tt=>tt>>>24!==255:tt=>(tt&255)!==255);Ee&&(be.fillStyle="white",be.fillRect(0,0,fe,ue),be.drawImage(ee,0,0));const ve=le.convertToBlob({type:"image/jpeg",quality:1}).then(tt=>tt.arrayBuffer()),he=e.Name.get("XObject"),Fe=e.Name.get("Image"),_e=new e.Dict(te);_e.set("Type",he),_e.set("Subtype",Fe),_e.set("BitsPerComponent",8),_e.set("ColorSpace",e.Name.get("DeviceRGB")),_e.set("Filter",e.Name.get("DCTDecode")),_e.set("BBox",[0,0,fe,ue]),_e.set("Width",fe),_e.set("Height",ue);let Ne=null;if(Ee){const tt=new Uint8Array(ce.length);if(n.FeatureTest.isLittleEndian)for(let $e=0,He=ce.length;$e<He;$e++)tt[$e]=ce[$e]>>>24;else for(let $e=0,He=ce.length;$e<He;$e++)tt[$e]=ce[$e]&255;const je=new e.Dict(te);je.set("Type",he),je.set("Subtype",Fe),je.set("BitsPerComponent",8),je.set("ColorSpace",e.Name.get("DeviceGray")),je.set("Width",fe),je.set("Height",ue),Ne=new t.Stream(tt,0,0,je)}return{imageStream:new t.Stream(await ve,0,0,_e),smaskStream:Ne,width:fe,height:ue}}static createNewDict(ee,te,{apRef:fe,ap:ue}){const{rect:le,rotation:be,user:Ce}=ee,ce=new e.Dict(te);if(ce.set("Type",e.Name.get("Annot")),ce.set("Subtype",e.Name.get("Stamp")),ce.set("CreationDate",`D:${(0,n.getModificationDate)()}`),ce.set("Rect",le),ce.set("F",4),ce.set("Border",[0,0,0]),ce.set("Rotate",be),Ce&&ce.set("T",(0,w.isAscii)(Ce)?Ce:(0,w.stringToUTF16String)(Ce,!0)),fe||ue){const Ee=new e.Dict(te);ce.set("AP",Ee),fe?Ee.set("N",fe):Ee.set("N",ue)}return ce}static async createNewAppearanceStream(ee,te,fe){const{rotation:ue}=ee,{imageRef:le,width:be,height:Ce}=fe.image,ce=new e.Dict(te),Ee=new e.Dict(te);ce.set("XObject",Ee),Ee.set("Im0",le);const ve=`q ${be} 0 0 ${Ce} 0 0 cm /Im0 Do Q`,he=new e.Dict(te);if(he.set("FormType",1),he.set("Subtype",e.Name.get("Form")),he.set("Type",e.Name.get("XObject")),he.set("BBox",[0,0,be,Ce]),he.set("Resources",ce),ue){const _e=(0,w.getRotationMatrix)(ue,be,Ce);he.set("Matrix",_e)}const Fe=new t.StringStream(ve);return Fe.dict=he,Fe}}class ge extends d{constructor(ee){super(ee);const{dict:te,xref:fe}=ee,ue=new P.FileSpec(te.get("FS"),fe);this.data.annotationType=n.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=ue.serializable;const le=te.get("Name");this.data.name=le instanceof e.Name?(0,n.stringToPDFString)(le.name):"PushPin";const be=te.get("ca");this.data.fillAlpha=typeof be=="number"&&be>=0&&be<=1?be:null}}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FakeUnicodeFont=void 0,x.createDefaultAppearance=k,x.getPdfColor=i,x.parseAppearanceStream=p,x.parseDefaultAppearance=P;var n=ie(4),w=ie(3),O=ie(2),e=ie(12),t=ie(13),o=ie(59),K=ie(57),H=ie(8);class U extends t.EvaluatorPreprocessor{constructor(C){super(new H.StringStream(C))}parse(){const C={fn:0,args:[]},Q={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;C.args.length=0,!!this.read(C);){if(this.savedStatesDepth!==0)continue;const{fn:j,args:re}=C;switch(j|0){case O.OPS.setFont:const[T,R]=re;T instanceof n.Name&&(Q.fontName=T.name),typeof R=="number"&&R>0&&(Q.fontSize=R);break;case O.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(re,0,Q.fontColor,0);break;case O.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(re,0,Q.fontColor,0);break;case O.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(re,0,Q.fontColor,0);break}}}catch(j){(0,O.warn)(`parseDefaultAppearance - ignoring errors: "${j}".`)}return Q}}function P(_){return new U(_).parse()}class f extends t.EvaluatorPreprocessor{constructor(C,Q,j){var re;super(C),this.stream=C,this.evaluatorOptions=Q,this.xref=j,this.resources=(re=C.dict)==null?void 0:re.get("Resources")}parse(){const C={fn:0,args:[]};let Q={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:e.ColorSpace.singletons.gray},j=!1;const re=[];try{for(;C.args.length=0,!(j||!this.read(C));){const{fn:T,args:R}=C;switch(T|0){case O.OPS.save:re.push({scaleFactor:Q.scaleFactor,fontSize:Q.fontSize,fontName:Q.fontName,fontColor:Q.fontColor.slice(),fillColorSpace:Q.fillColorSpace});break;case O.OPS.restore:Q=re.pop()||Q;break;case O.OPS.setTextMatrix:Q.scaleFactor*=Math.hypot(R[0],R[1]);break;case O.OPS.setFont:const[d,y]=R;d instanceof n.Name&&(Q.fontName=d.name),typeof y=="number"&&y>0&&(Q.fontSize=y*Q.scaleFactor);break;case O.OPS.setFillColorSpace:Q.fillColorSpace=e.ColorSpace.parse({cs:R[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case O.OPS.setFillColor:Q.fillColorSpace.getRgbItem(R,0,Q.fontColor,0);break;case O.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(R,0,Q.fontColor,0);break;case O.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(R,0,Q.fontColor,0);break;case O.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(R,0,Q.fontColor,0);break;case O.OPS.showText:case O.OPS.showSpacedText:case O.OPS.nextLineShowText:case O.OPS.nextLineSetSpacingShowText:j=!0;break}}}catch(T){(0,O.warn)(`parseAppearanceStream - ignoring errors: "${T}".`)}return this.stream.reset(),delete Q.scaleFactor,delete Q.fillColorSpace,Q}get _localColorSpaceCache(){return(0,O.shadow)(this,"_localColorSpaceCache",new o.LocalColorSpaceCache)}get _pdfFunctionFactory(){const C=new K.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,O.shadow)(this,"_pdfFunctionFactory",C)}}function p(_,C,Q){return new f(_,C,Q).parse()}function i(_,C){if(_[0]===_[1]&&_[1]===_[2]){const Q=_[0]/255;return`${(0,w.numberToString)(Q)} ${C?"g":"G"}`}return Array.from(_,Q=>(0,w.numberToString)(Q/255)).join(" ")+` ${C?"rg":"RG"}`}function k({fontSize:_,fontName:C,fontColor:Q}){return`/${(0,w.escapePDFName)(C)} ${_} Tf ${i(Q,!0)}`}class F{constructor(C,Q){this.xref=C,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=Q;const j=new OffscreenCanvas(1,1);this.ctxMeasure=j.getContext("2d"),F._fontNameId||(F._fontNameId=1),this.fontName=n.Name.get(`InvalidPDFjsFont_${Q}_${F._fontNameId++}`)}get toUnicodeRef(){if(!F._toUnicodeRef){const C=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,Q=F.toUnicodeStream=new H.StringStream(C),j=new n.Dict(this.xref);Q.dict=j,j.set("Length",C.length),F._toUnicodeRef=this.xref.getNewPersistentRef(Q)}return F._toUnicodeRef}get fontDescriptorRef(){if(!F._fontDescriptorRef){const C=new n.Dict(this.xref);C.set("Type",n.Name.get("FontDescriptor")),C.set("FontName",this.fontName),C.set("FontFamily","MyriadPro Regular"),C.set("FontBBox",[0,0,0,0]),C.set("FontStretch",n.Name.get("Normal")),C.set("FontWeight",400),C.set("ItalicAngle",0),F._fontDescriptorRef=this.xref.getNewPersistentRef(C)}return F._fontDescriptorRef}get descendantFontRef(){const C=new n.Dict(this.xref);C.set("BaseFont",this.fontName),C.set("Type",n.Name.get("Font")),C.set("Subtype",n.Name.get("CIDFontType0")),C.set("CIDToGIDMap",n.Name.get("Identity")),C.set("FirstChar",this.firstChar),C.set("LastChar",this.lastChar),C.set("FontDescriptor",this.fontDescriptorRef),C.set("DW",1e3);const Q=[],j=[...this.widths.entries()].sort();let re=null,T=null;for(const[d,y]of j){if(!re){re=d,T=[y];continue}d===re+T.length?T.push(y):(Q.push(re,T),re=d,T=[y])}re&&Q.push(re,T),C.set("W",Q);const R=new n.Dict(this.xref);return R.set("Ordering","Identity"),R.set("Registry","Adobe"),R.set("Supplement",0),C.set("CIDSystemInfo",R),this.xref.getNewPersistentRef(C)}get baseFontRef(){const C=new n.Dict(this.xref);return C.set("BaseFont",this.fontName),C.set("Type",n.Name.get("Font")),C.set("Subtype",n.Name.get("Type0")),C.set("Encoding",n.Name.get("Identity-H")),C.set("DescendantFonts",[this.descendantFontRef]),C.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(C)}get resources(){const C=new n.Dict(this.xref),Q=new n.Dict(this.xref);return Q.set(this.fontName.name,this.baseFontRef),C.set("Font",Q),C}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(C){const Q=this._createContext();for(const j of C.split(/\r\n?|\n/))for(const re of j.split("")){const T=re.charCodeAt(0);if(this.widths.has(T))continue;const R=Q.measureText(re),d=Math.ceil(R.width);this.widths.set(T,d),this.firstChar=Math.min(T,this.firstChar),this.lastChar=Math.max(T,this.lastChar)}return this.resources}createAppearance(C,Q,j,re,T,R){const d=this._createContext(),y=[];let W=-1/0;for(const ge of C.split(/\r\n?|\n/)){y.push(ge);const Be=d.measureText(ge).width;W=Math.max(W,Be);for(const ee of ge.split("")){const te=ee.charCodeAt(0);let fe=this.widths.get(te);if(fe===void 0){const ue=d.measureText(ee);fe=Math.ceil(ue.width),this.widths.set(te,fe),this.firstChar=Math.min(te,this.firstChar),this.lastChar=Math.max(te,this.lastChar)}}}W*=re/1e3;const[u,b,D,J]=Q;let N=D-u,v=J-b;j%180!==0&&([N,v]=[v,N]);let S=1;W>N&&(S=N/W);let I=1;const h=O.LINE_FACTOR*re,B=O.LINE_DESCENT_FACTOR*re,r=h*y.length;r>v&&(I=v/r);const A=Math.min(S,I),E=re*A,G=["q",`0 0 ${(0,w.numberToString)(N)} ${(0,w.numberToString)(v)} re W n`,"BT",`1 0 0 1 0 ${(0,w.numberToString)(v+B)} Tm 0 Tc ${i(T,!0)}`,`/${this.fontName.name} ${(0,w.numberToString)(E)} Tf`],{resources:se}=this;if(R=typeof R=="number"&&R>=0&&R<=1?R:1,R!==1){G.push("/R0 gs");const ge=new n.Dict(this.xref),Be=new n.Dict(this.xref);Be.set("ca",R),Be.set("CA",R),Be.set("Type",n.Name.get("ExtGState")),ge.set("R0",Be),se.set("ExtGState",ge)}const Ae=(0,w.numberToString)(h);for(const ge of y)G.push(`0 -${Ae} Td <${(0,w.stringToUTF16HexString)(ge)}> Tj`);G.push("ET","Q");const ke=G.join(`
`),de=new n.Dict(this.xref);if(de.set("Subtype",n.Name.get("Form")),de.set("Type",n.Name.get("XObject")),de.set("BBox",[0,0,N,v]),de.set("Length",ke.length),de.set("Resources",se),j){const ge=(0,w.getRotationMatrix)(j,N,v);de.set("Matrix",ge)}const Ie=new H.StringStream(ke);return Ie.dict=de,Ie}}x.FakeUnicodeFont=F},(Pe,x,ie)=>{var _,H0,Q,$0,re,T,R,d,y,W,u,b,D,Fa,N,nd,S,id,h,EA,r,Ea,E,Ua,se,rd,ke,sd,Ie,ad,Be,j0,fe,kA,le,IA,Ce,G0;Object.defineProperty(x,"__esModule",{value:!0}),x.ColorSpace=void 0;var n=ie(2),w=ie(4),O=ie(5),e=ie(3);function t(Ee,ve,he,Fe,_e,Ne,Ze){Ze=Ze!==1?0:Ze;const je=he/_e,$e=Fe/Ne;let He=0,Ve;const st=new Uint16Array(_e),pt=he*3;for(let at=0;at<_e;at++)st[at]=Math.floor(at*je)*3;for(let at=0;at<Ne;at++){const Re=Math.floor(at*$e)*pt;for(let Ge=0;Ge<_e;Ge++)Ve=Re+st[Ge],ve[He++]=Ee[Ve++],ve[He++]=Ee[Ve++],ve[He++]=Ee[Ve++],He+=Ze}}class o{constructor(ve,he){this.constructor===o&&(0,n.unreachable)("Cannot initialize ColorSpace."),this.name=ve,this.numComps=he}getRgb(ve,he){const Fe=new Uint8ClampedArray(3);return this.getRgbItem(ve,he,Fe,0),Fe}getRgbItem(ve,he,Fe,_e){(0,n.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(ve,he,Fe,_e,Ne,Ze,tt){(0,n.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(ve,he){(0,n.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(ve){return!1}isDefaultDecode(ve,he){return o.isDefaultDecode(ve,this.numComps)}fillRgb(ve,he,Fe,_e,Ne,Ze,tt,je,$e){const He=he*Fe;let Ve=null;const st=1<<tt,pt=Fe!==Ne||he!==_e;if(this.isPassthrough(tt))Ve=je;else if(this.numComps===1&&He>st&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const at=tt<=8?new Uint8Array(st):new Uint16Array(st);for(let Ge=0;Ge<st;Ge++)at[Ge]=Ge;const Re=new Uint8ClampedArray(st*3);if(this.getRgbBuffer(at,0,st,Re,0,tt,0),pt){Ve=new Uint8Array(He*3);let Ge=0;for(let gt=0;gt<He;++gt){const rt=je[gt]*3;Ve[Ge++]=Re[rt],Ve[Ge++]=Re[rt+1],Ve[Ge++]=Re[rt+2]}}else{let Ge=0;for(let gt=0;gt<He;++gt){const rt=je[gt]*3;ve[Ge++]=Re[rt],ve[Ge++]=Re[rt+1],ve[Ge++]=Re[rt+2],Ge+=$e}}}else pt?(Ve=new Uint8ClampedArray(He*3),this.getRgbBuffer(je,0,He,Ve,0,tt,0)):this.getRgbBuffer(je,0,_e*Ze,ve,0,tt,$e);if(Ve)if(pt)t(Ve,ve,he,Fe,_e,Ne,$e);else{let at=0,Re=0;for(let Ge=0,gt=_e*Ze;Ge<gt;Ge++)ve[at++]=Ve[Re++],ve[at++]=Ve[Re++],ve[at++]=Ve[Re++],at+=$e}}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!0)}static _cache(ve,he,Fe,_e){if(!Fe)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!_e)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let Ne,Ze;ve instanceof w.Ref&&(Ze=ve,ve=he.fetch(ve)),ve instanceof w.Name&&(Ne=ve.name),(Ne||Ze)&&Fe.set(Ne,Ze,_e)}static getCached(ve,he,Fe){if(!Fe)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(ve instanceof w.Ref){const _e=Fe.getByRef(ve);if(_e)return _e;try{ve=he.fetch(ve)}catch(Ne){if(Ne instanceof e.MissingDataException)throw Ne}}if(ve instanceof w.Name){const _e=Fe.getByName(ve.name);if(_e)return _e}return null}static async parseAsync({cs:ve,xref:he,resources:Fe=null,pdfFunctionFactory:_e,localColorSpaceCache:Ne}){const Ze=this._parse(ve,he,Fe,_e);return this._cache(ve,he,Ne,Ze),Ze}static parse({cs:ve,xref:he,resources:Fe=null,pdfFunctionFactory:_e,localColorSpaceCache:Ne}){const Ze=this.getCached(ve,he,Ne);if(Ze)return Ze;const tt=this._parse(ve,he,Fe,_e);return this._cache(ve,he,Ne,tt),tt}static _parse(ve,he,Fe=null,_e){if(ve=he.fetchIfRef(ve),ve instanceof w.Name)switch(ve.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new H(null);default:if(Fe instanceof w.Dict){const Ne=Fe.get("ColorSpace");if(Ne instanceof w.Dict){const Ze=Ne.get(ve.name);if(Ze){if(Ze instanceof w.Name)return this._parse(Ze,he,Fe,_e);ve=Ze;break}}}throw new n.FormatError(`Unrecognized ColorSpace: ${ve.name}`)}if(Array.isArray(ve)){const Ne=he.fetchIfRef(ve[0]).name;let Ze,tt,je,$e,He,Ve;switch(Ne){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return Ze=he.fetchIfRef(ve[1]),$e=Ze.getArray("WhitePoint"),He=Ze.getArray("BlackPoint"),Ve=Ze.get("Gamma"),new i($e,He,Ve);case"CalRGB":Ze=he.fetchIfRef(ve[1]),$e=Ze.getArray("WhitePoint"),He=Ze.getArray("BlackPoint"),Ve=Ze.getArray("Gamma");const st=Ze.getArray("Matrix");return new k($e,He,Ve,st);case"ICCBased":const at=he.fetchIfRef(ve[1]).dict;tt=at.get("N");const Re=at.get("Alternate");if(Re){const jn=this._parse(Re,he,Fe,_e);if(jn.numComps===tt)return jn;(0,n.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(tt===1)return this.singletons.gray;if(tt===3)return this.singletons.rgb;if(tt===4)return this.singletons.cmyk;break;case"Pattern":return je=ve[1]||null,je&&(je=this._parse(je,he,Fe,_e)),new H(je);case"I":case"Indexed":je=this._parse(ve[1],he,Fe,_e);const Ge=he.fetchIfRef(ve[2])+1,gt=he.fetchIfRef(ve[3]);return new U(je,Ge,gt);case"Separation":case"DeviceN":const rt=he.fetchIfRef(ve[1]);tt=Array.isArray(rt)?rt.length:1,je=this._parse(ve[2],he,Fe,_e);const Bt=_e.create(ve[3]);return new K(tt,je,Bt);case"Lab":Ze=he.fetchIfRef(ve[1]),$e=Ze.getArray("WhitePoint"),He=Ze.getArray("BlackPoint");const St=Ze.getArray("Range");return new F($e,He,St);default:throw new n.FormatError(`Unimplemented ColorSpace object: ${Ne}`)}}throw new n.FormatError(`Unrecognized ColorSpace object: ${ve}`)}static isDefaultDecode(ve,he){if(!Array.isArray(ve))return!0;if(he*2!==ve.length)return(0,n.warn)("The decode map is not the correct length"),!0;for(let Fe=0,_e=ve.length;Fe<_e;Fe+=2)if(ve[Fe]!==0||ve[Fe+1]!==1)return!1;return!0}static get singletons(){return(0,n.shadow)(this,"singletons",{get gray(){return(0,n.shadow)(this,"gray",new P)},get rgb(){return(0,n.shadow)(this,"rgb",new f)},get cmyk(){return(0,n.shadow)(this,"cmyk",new p)}})}}x.ColorSpace=o;class K extends o{constructor(ve,he,Fe){super("Alternate",ve),this.base=he,this.tintFn=Fe,this.tmpBuf=new Float32Array(he.numComps)}getRgbItem(ve,he,Fe,_e){const Ne=this.tmpBuf;this.tintFn(ve,he,Ne,0),this.base.getRgbItem(Ne,0,Fe,_e)}getRgbBuffer(ve,he,Fe,_e,Ne,Ze,tt){const je=this.tintFn,$e=this.base,He=1/((1<<Ze)-1),Ve=$e.numComps,st=$e.usesZeroToOneRange,pt=($e.isPassthrough(8)||!st)&&tt===0;let at=pt?Ne:0;const Re=pt?_e:new Uint8ClampedArray(Ve*Fe),Ge=this.numComps,gt=new Float32Array(Ge),rt=new Float32Array(Ve);let Bt,St;for(Bt=0;Bt<Fe;Bt++){for(St=0;St<Ge;St++)gt[St]=ve[he++]*He;if(je(gt,0,rt,0),st)for(St=0;St<Ve;St++)Re[at++]=rt[St]*255;else $e.getRgbItem(rt,0,Re,at),at+=Ve}pt||$e.getRgbBuffer(Re,0,Fe,_e,Ne,8,tt)}getOutputLength(ve,he){return this.base.getOutputLength(ve*this.base.numComps/this.numComps,he)}}class H extends o{constructor(ve){super("Pattern",null),this.base=ve}isDefaultDecode(ve,he){(0,n.unreachable)("Should not call PatternCS.isDefaultDecode")}}class U extends o{constructor(ve,he,Fe){super("Indexed",1),this.base=ve,this.highVal=he;const _e=ve.numComps*he;if(this.lookup=new Uint8Array(_e),Fe instanceof O.BaseStream){const Ne=Fe.getBytes(_e);this.lookup.set(Ne)}else if(typeof Fe=="string")for(let Ne=0;Ne<_e;++Ne)this.lookup[Ne]=Fe.charCodeAt(Ne)&255;else throw new n.FormatError(`IndexedCS - unrecognized lookup table: ${Fe}`)}getRgbItem(ve,he,Fe,_e){const Ne=this.base.numComps,Ze=ve[he]*Ne;this.base.getRgbBuffer(this.lookup,Ze,1,Fe,_e,8,0)}getRgbBuffer(ve,he,Fe,_e,Ne,Ze,tt){const je=this.base,$e=je.numComps,He=je.getOutputLength($e,tt),Ve=this.lookup;for(let st=0;st<Fe;++st){const pt=ve[he++]*$e;je.getRgbBuffer(Ve,pt,1,_e,Ne,8,tt),Ne+=He}}getOutputLength(ve,he){return this.base.getOutputLength(ve*this.base.numComps,he)}isDefaultDecode(ve,he){return Array.isArray(ve)?ve.length!==2?((0,n.warn)("Decode map length is not correct"),!0):!Number.isInteger(he)||he<1?((0,n.warn)("Bits per component is not correct"),!0):ve[0]===0&&ve[1]===(1<<he)-1:!0}}class P extends o{constructor(){super("DeviceGray",1)}getRgbItem(ve,he,Fe,_e){const Ne=ve[he]*255;Fe[_e]=Fe[_e+1]=Fe[_e+2]=Ne}getRgbBuffer(ve,he,Fe,_e,Ne,Ze,tt){const je=255/((1<<Ze)-1);let $e=he,He=Ne;for(let Ve=0;Ve<Fe;++Ve){const st=je*ve[$e++];_e[He++]=st,_e[He++]=st,_e[He++]=st,He+=tt}}getOutputLength(ve,he){return ve*(3+he)}}class f extends o{constructor(){super("DeviceRGB",3)}getRgbItem(ve,he,Fe,_e){Fe[_e]=ve[he]*255,Fe[_e+1]=ve[he+1]*255,Fe[_e+2]=ve[he+2]*255}getRgbBuffer(ve,he,Fe,_e,Ne,Ze,tt){if(Ze===8&&tt===0){_e.set(ve.subarray(he,he+Fe*3),Ne);return}const je=255/((1<<Ze)-1);let $e=he,He=Ne;for(let Ve=0;Ve<Fe;++Ve)_e[He++]=je*ve[$e++],_e[He++]=je*ve[$e++],_e[He++]=je*ve[$e++],He+=tt}getOutputLength(ve,he){return ve*(3+he)/3|0}isPassthrough(ve){return ve===8}}class p extends o{constructor(){super("DeviceCMYK",4);At(this,_)}getRgbItem(he,Fe,_e,Ne){ht(this,_,H0).call(this,he,Fe,1,_e,Ne)}getRgbBuffer(he,Fe,_e,Ne,Ze,tt,je){const $e=1/((1<<tt)-1);for(let He=0;He<_e;He++)ht(this,_,H0).call(this,he,Fe,$e,Ne,Ze),Fe+=4,Ze+=3+je}getOutputLength(he,Fe){return he/4*(3+Fe)|0}}_=new WeakSet,H0=function(he,Fe,_e,Ne,Ze){const tt=he[Fe]*_e,je=he[Fe+1]*_e,$e=he[Fe+2]*_e,He=he[Fe+3]*_e;Ne[Ze]=255+tt*(-4.387332384609988*tt+54.48615194189176*je+18.82290502165302*$e+212.25662451639585*He+-285.2331026137004)+je*(1.7149763477362134*je-5.6096736904047315*$e+-17.873870861415444*He-5.497006427196366)+$e*(-2.5217340131683033*$e-21.248923337353073*He+17.5119270841813)+He*(-21.86122147463605*He-189.48180835922747),Ne[Ze+1]=255+tt*(8.841041422036149*tt+60.118027045597366*je+6.871425592049007*$e+31.159100130055922*He+-79.2970844816548)+je*(-15.310361306967817*je+17.575251261109482*$e+131.35250912493976*He-190.9453302588951)+$e*(4.444339102852739*$e+9.8632861493405*He-24.86741582555878)+He*(-20.737325471181034*He-187.80453709719578),Ne[Ze+2]=255+tt*(.8842522430003296*tt+8.078677503112928*je+30.89978309703729*$e-.23883238689178934*He+-14.183576799673286)+je*(10.49593273432072*je+63.02378494754052*$e+50.606957656360734*He-112.23884253719248)+$e*(.03296041114873217*$e+115.60384449646641*He+-193.58209356861505)+He*(-22.33816807309886*He-180.12613974708367)};class i extends o{constructor(he,Fe,_e){super("CalGray",1);At(this,Q);if(!he)throw new n.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=he,[this.XB,this.YB,this.ZB]=Fe||[0,0,0],this.G=_e||1,this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,n.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,n.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(he,Fe,_e,Ne){ht(this,Q,$0).call(this,he,Fe,_e,Ne,1)}getRgbBuffer(he,Fe,_e,Ne,Ze,tt,je){const $e=1/((1<<tt)-1);for(let He=0;He<_e;++He)ht(this,Q,$0).call(this,he,Fe,Ne,Ze,$e),Fe+=1,Ze+=3+je}getOutputLength(he,Fe){return he*(3+Fe)}}Q=new WeakSet,$0=function(he,Fe,_e,Ne,Ze){const je=(he[Fe]*Ze)**this.G,$e=this.YW*je,He=Math.max(295.8*$e**.3333333333333333-40.8,0);_e[Ne]=He,_e[Ne+1]=He,_e[Ne+2]=He};const te=class te extends o{constructor(he,Fe,_e,Ne){super("CalRGB",3);At(this,D);At(this,N);At(this,S);At(this,h);At(this,r);At(this,E);At(this,se);At(this,ke);At(this,Ie);At(this,Be);if(!he)throw new n.FormatError("WhitePoint missing - required for color space CalRGB");const[Ze,tt,je]=this.whitePoint=he,[$e,He,Ve]=this.blackPoint=Fe||new Float32Array(3);if([this.GR,this.GG,this.GB]=_e||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=Ne||new Float32Array([1,0,0,0,1,0,0,0,1]),Ze<0||je<0||tt!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);($e<0||He<0||Ve<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name} [${$e}, ${He}, ${Ve}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,n.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(he,Fe,_e,Ne){ht(this,Be,j0).call(this,he,Fe,_e,Ne,1)}getRgbBuffer(he,Fe,_e,Ne,Ze,tt,je){const $e=1/((1<<tt)-1);for(let He=0;He<_e;++He)ht(this,Be,j0).call(this,he,Fe,Ne,Ze,$e),Fe+=3,Ze+=3+je}getOutputLength(he,Fe){return he*(3+Fe)/3|0}};re=new WeakMap,T=new WeakMap,R=new WeakMap,d=new WeakMap,y=new WeakMap,W=new WeakMap,u=new WeakMap,b=new WeakMap,D=new WeakSet,Fa=function(he,Fe,_e){_e[0]=he[0]*Fe[0]+he[1]*Fe[1]+he[2]*Fe[2],_e[1]=he[3]*Fe[0]+he[4]*Fe[1]+he[5]*Fe[2],_e[2]=he[6]*Fe[0]+he[7]*Fe[1]+he[8]*Fe[2]},N=new WeakSet,nd=function(he,Fe,_e){_e[0]=Fe[0]*1/he[0],_e[1]=Fe[1]*1/he[1],_e[2]=Fe[2]*1/he[2]},S=new WeakSet,id=function(he,Fe,_e){_e[0]=Fe[0]*.95047/he[0],_e[1]=Fe[1]*1/he[1],_e[2]=Fe[2]*1.08883/he[2]},h=new WeakSet,EA=function(he){return he<=.0031308?ht(this,r,Ea).call(this,0,1,12.92*he):he>=.99554525?1:ht(this,r,Ea).call(this,0,1,1.055*he**.4166666666666667-.055)},r=new WeakSet,Ea=function(he,Fe,_e){return Math.max(he,Math.min(Fe,_e))},E=new WeakSet,Ua=function(he){return he<0?-ht(this,E,Ua).call(this,-he):he>8?((he+16)/116)**3:he*Me(te,b)},se=new WeakSet,rd=function(he,Fe,_e){if(he[0]===0&&he[1]===0&&he[2]===0){_e[0]=Fe[0],_e[1]=Fe[1],_e[2]=Fe[2];return}const Ne=ht(this,E,Ua).call(this,0),Ze=Ne,tt=ht(this,E,Ua).call(this,he[0]),je=Ne,$e=ht(this,E,Ua).call(this,he[1]),He=Ne,Ve=ht(this,E,Ua).call(this,he[2]),st=(1-Ze)/(1-tt),pt=1-st,at=(1-je)/(1-$e),Re=1-at,Ge=(1-He)/(1-Ve),gt=1-Ge;_e[0]=Fe[0]*st+pt,_e[1]=Fe[1]*at+Re,_e[2]=Fe[2]*Ge+gt},ke=new WeakSet,sd=function(he,Fe,_e){if(he[0]===1&&he[2]===1){_e[0]=Fe[0],_e[1]=Fe[1],_e[2]=Fe[2];return}const Ne=_e;ht(this,D,Fa).call(this,Me(te,re),Fe,Ne);const Ze=Me(te,y);ht(this,N,nd).call(this,he,Ne,Ze),ht(this,D,Fa).call(this,Me(te,T),Ze,_e)},Ie=new WeakSet,ad=function(he,Fe,_e){const Ne=_e;ht(this,D,Fa).call(this,Me(te,re),Fe,Ne);const Ze=Me(te,y);ht(this,S,id).call(this,he,Ne,Ze),ht(this,D,Fa).call(this,Me(te,T),Ze,_e)},Be=new WeakSet,j0=function(he,Fe,_e,Ne,Ze){const tt=ht(this,r,Ea).call(this,0,1,he[Fe]*Ze),je=ht(this,r,Ea).call(this,0,1,he[Fe+1]*Ze),$e=ht(this,r,Ea).call(this,0,1,he[Fe+2]*Ze),He=tt===1?1:tt**this.GR,Ve=je===1?1:je**this.GG,st=$e===1?1:$e**this.GB,pt=this.MXA*He+this.MXB*Ve+this.MXC*st,at=this.MYA*He+this.MYB*Ve+this.MYC*st,Re=this.MZA*He+this.MZB*Ve+this.MZC*st,Ge=Me(te,W);Ge[0]=pt,Ge[1]=at,Ge[2]=Re;const gt=Me(te,u);ht(this,ke,sd).call(this,this.whitePoint,Ge,gt);const rt=Me(te,W);ht(this,se,rd).call(this,this.blackPoint,gt,rt);const Bt=Me(te,u);ht(this,Ie,ad).call(this,Me(te,d),rt,Bt);const St=Me(te,W);ht(this,D,Fa).call(this,Me(te,R),Bt,St),_e[Ne]=ht(this,h,EA).call(this,St[0])*255,_e[Ne+1]=ht(this,h,EA).call(this,St[1])*255,_e[Ne+2]=ht(this,h,EA).call(this,St[2])*255},At(te,re,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),At(te,T,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),At(te,R,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),At(te,d,new Float32Array([1,1,1])),At(te,y,new Float32Array(3)),At(te,W,new Float32Array(3)),At(te,u,new Float32Array(3)),At(te,b,.0011070564598794539);let k=te;class F extends o{constructor(he,Fe,_e){super("Lab",3);At(this,fe);At(this,le);At(this,Ce);if(!he)throw new n.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=he,[this.amin,this.amax,this.bmin,this.bmax]=_e||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=Fe||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,n.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(he,Fe,_e,Ne){ht(this,Ce,G0).call(this,he,Fe,!1,_e,Ne)}getRgbBuffer(he,Fe,_e,Ne,Ze,tt,je){const $e=(1<<tt)-1;for(let He=0;He<_e;He++)ht(this,Ce,G0).call(this,he,Fe,$e,Ne,Ze),Fe+=3,Ze+=3+je}getOutputLength(he,Fe){return he*(3+Fe)/3|0}isDefaultDecode(he,Fe){return!0}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!1)}}fe=new WeakSet,kA=function(he){return he>=.20689655172413793?he**3:.12841854934601665*(he-.13793103448275862)},le=new WeakSet,IA=function(he,Fe,_e,Ne){return _e+he*(Ne-_e)/Fe},Ce=new WeakSet,G0=function(he,Fe,_e,Ne,Ze){let tt=he[Fe],je=he[Fe+1],$e=he[Fe+2];_e!==!1&&(tt=ht(this,le,IA).call(this,tt,_e,0,100),je=ht(this,le,IA).call(this,je,_e,this.amin,this.amax),$e=ht(this,le,IA).call(this,$e,_e,this.bmin,this.bmax)),je>this.amax?je=this.amax:je<this.amin&&(je=this.amin),$e>this.bmax?$e=this.bmax:$e<this.bmin&&($e=this.bmin);const He=(tt+16)/116,Ve=He+je/500,st=He-$e/200,pt=this.XW*ht(this,fe,kA).call(this,Ve),at=this.YW*ht(this,fe,kA).call(this,He),Re=this.ZW*ht(this,fe,kA).call(this,st);let Ge,gt,rt;this.ZW<1?(Ge=pt*3.1339+at*-1.617+Re*-.4906,gt=pt*-.9785+at*1.916+Re*.0333,rt=pt*.072+at*-.229+Re*1.4057):(Ge=pt*3.2406+at*-1.5372+Re*-.4986,gt=pt*-.9689+at*1.8758+Re*.0415,rt=pt*.0557+at*-.204+Re*1.057),Ne[Ze]=Math.sqrt(Ge)*255,Ne[Ze+1]=Math.sqrt(gt)*255,Ne[Ze+2]=Math.sqrt(rt)*255}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PartialEvaluator=x.EvaluatorPreprocessor=void 0;var n=ie(2),w=ie(14),O=ie(4),e=ie(34),t=ie(37),o=ie(41),K=ie(50),H=ie(51),U=ie(42),P=ie(57),f=ie(16),p=ie(59),i=ie(8),k=ie(5),F=ie(60),_=ie(12),C=ie(18),Q=ie(38),j=ie(61),re=ie(39),T=ie(45),R=ie(40),d=ie(62),y=ie(63),W=ie(64),u=ie(65);const b=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),D={TILING:1,SHADING:2},J=10,N=Promise.resolve();function v(ke,de=!1){if(Array.isArray(ke)){for(const Ie of ke){const ge=v(Ie,!0);if(ge)return ge}return(0,n.warn)(`Unsupported blend mode Array: ${ke}`),"source-over"}if(!(ke instanceof O.Name))return de?null:"source-over";switch(ke.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return de?null:((0,n.warn)(`Unsupported blend mode: ${ke.name}`),"source-over")}function S(ke){var de;ke.fn===n.OPS.paintImageMaskXObject&&((de=ke.args[0])==null?void 0:de.count)>0&&ke.args[0].count++}const se=class se{constructor(){this.reset()}check(){return++this.checked<se.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+se.TIME_SLOT_DURATION_MS,this.checked=0}};yr(se,"TIME_SLOT_DURATION_MS",20),yr(se,"CHECK_TIME_EVERY",100);let I=se;class h{constructor({xref:de,handler:Ie,pageIndex:ge,idFactory:Be,fontCache:ee,builtInCMapCache:te,standardFontDataCache:fe,globalImageCache:ue,systemFontCache:le,options:be=null}){this.xref=de,this.handler=Ie,this.pageIndex=ge,this.idFactory=Be,this.fontCache=ee,this.builtInCMapCache=te,this.standardFontDataCache=fe,this.globalImageCache=ue,this.systemFontCache=le,this.options=be||b,this.parsingType3Font=!1,this._regionalImageCache=new p.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),d.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const de=new P.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,n.shadow)(this,"_pdfFunctionFactory",de)}clone(de=null){const Ie=Object.create(this);return Ie.options=Object.assign(Object.create(null),this.options,de),Ie}hasBlendModes(de,Ie){if(!(de instanceof O.Dict)||de.objId&&Ie.has(de.objId))return!1;const ge=new O.RefSet(Ie);de.objId&&ge.put(de.objId);const Be=[de],ee=this.xref;for(;Be.length;){const te=Be.shift(),fe=te.get("ExtGState");if(fe instanceof O.Dict)for(let le of fe.getRawValues()){if(le instanceof O.Ref){if(ge.has(le))continue;try{le=ee.fetch(le)}catch(Ce){ge.put(le),(0,n.info)(`hasBlendModes - ignoring ExtGState: "${Ce}".`);continue}}if(!(le instanceof O.Dict))continue;le.objId&&ge.put(le.objId);const be=le.get("BM");if(be instanceof O.Name){if(be.name!=="Normal")return!0;continue}if(be!==void 0&&Array.isArray(be)){for(const Ce of be)if(Ce instanceof O.Name&&Ce.name!=="Normal")return!0}}const ue=te.get("XObject");if(ue instanceof O.Dict)for(let le of ue.getRawValues()){if(le instanceof O.Ref){if(ge.has(le))continue;try{le=ee.fetch(le)}catch(Ce){ge.put(le),(0,n.info)(`hasBlendModes - ignoring XObject: "${Ce}".`);continue}}if(!(le instanceof k.BaseStream))continue;le.dict.objId&&ge.put(le.dict.objId);const be=le.dict.get("Resources");be instanceof O.Dict&&(be.objId&&ge.has(be.objId)||(Be.push(be),be.objId&&ge.put(be.objId)))}}for(const te of ge)Ie.put(te);return!1}async fetchBuiltInCMap(de){const Ie=this.builtInCMapCache.get(de);if(Ie)return Ie;let ge;if(this.options.cMapUrl!==null){const Be=`${this.options.cMapUrl}${de}.bcmap`,ee=await fetch(Be);if(!ee.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${Be}" with "${ee.statusText}".`);ge={cMapData:new Uint8Array(await ee.arrayBuffer()),compressionType:n.CMapCompressionType.BINARY}}else ge=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:de});return ge.compressionType!==n.CMapCompressionType.NONE&&this.builtInCMapCache.set(de,ge),ge}async fetchStandardFontData(de){const Ie=this.standardFontDataCache.get(de);if(Ie)return new i.Stream(Ie);if(this.options.useSystemFonts&&de!=="Symbol"&&de!=="ZapfDingbats")return null;const ge=(0,o.getFontNameToFileMap)(),Be=ge[de];let ee;if(this.options.standardFontDataUrl!==null){const te=`${this.options.standardFontDataUrl}${Be}`,fe=await fetch(te);fe.ok?ee=await fe.arrayBuffer():(0,n.warn)(`fetchStandardFontData: failed to fetch file "${te}" with "${fe.statusText}".`)}else try{ee=await this.handler.sendWithPromise("FetchStandardFontData",{filename:Be})}catch(te){(0,n.warn)(`fetchStandardFontData: failed to fetch file "${Be}" with "${te}".`)}return ee?(this.standardFontDataCache.set(de,ee),new i.Stream(ee)):null}async buildFormXObject(de,Ie,ge,Be,ee,te,fe){const ue=Ie.dict,le=ue.getArray("Matrix");let be=ue.getArray("BBox");be=Array.isArray(be)&&be.length===4?n.Util.normalizeRect(be):null;let Ce,ce;ue.has("OC")&&(Ce=await this.parseMarkedContentProps(ue.get("OC"),de)),Ce!==void 0&&Be.addOp(n.OPS.beginMarkedContentProps,["OC",Ce]);const Ee=ue.get("Group");if(Ee){ce={matrix:le,bbox:be,smask:ge,isolated:!1,knockout:!1};const he=Ee.get("S");let Fe=null;if((0,O.isName)(he,"Transparency")&&(ce.isolated=Ee.get("I")||!1,ce.knockout=Ee.get("K")||!1,Ee.has("CS"))){const _e=Ee.getRaw("CS"),Ne=_.ColorSpace.getCached(_e,this.xref,fe);Ne?Fe=Ne:Fe=await this.parseColorSpace({cs:_e,resources:de,localColorSpaceCache:fe})}ge!=null&&ge.backdrop&&(Fe||(Fe=_.ColorSpace.singletons.rgb),ge.backdrop=Fe.getRgb(ge.backdrop,0)),Be.addOp(n.OPS.beginGroup,[ce])}const ve=Ee?[le,null]:[le,be];return Be.addOp(n.OPS.paintFormXObjectBegin,ve),this.getOperatorList({stream:Ie,task:ee,resources:ue.get("Resources")||de,operatorList:Be,initialState:te}).then(function(){Be.addOp(n.OPS.paintFormXObjectEnd,[]),Ee&&Be.addOp(n.OPS.endGroup,[ce]),Ce!==void 0&&Be.addOp(n.OPS.endMarkedContent,[])})}_sendImgData(de,Ie,ge=!1){const Be=Ie?[Ie.bitmap||Ie.data.buffer]:null;return this.parsingType3Font||ge?this.handler.send("commonobj",[de,"Image",Ie],Be):this.handler.send("obj",[de,this.pageIndex,"Image",Ie],Be)}async buildPaintImageXObject({resources:de,image:Ie,isInline:ge=!1,operatorList:Be,cacheKey:ee,localImageCache:te,localColorSpaceCache:fe}){const ue=Ie.dict,le=ue.objId,be=ue.get("W","Width"),Ce=ue.get("H","Height");if(!(be&&typeof be=="number")||!(Ce&&typeof Ce=="number")){(0,n.warn)("Image dimensions are missing, or not numbers.");return}const ce=this.options.maxImageSize;if(ce!==-1&&be*Ce>ce){const tt="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,n.warn)(tt);return}throw new Error(tt)}let Ee;ue.has("OC")&&(Ee=await this.parseMarkedContentProps(ue.get("OC"),de));const ve=ue.get("IM","ImageMask")||!1;let he,Fe;if(ve){const tt=ue.get("I","Interpolate"),je=be+7>>3,$e=Ie.getBytes(je*Ce),He=ue.getArray("D","Decode");if(this.parsingType3Font){if(he=u.PDFImage.createRawMask({imgArray:$e,width:be,height:Ce,imageIsFromDecodeStream:Ie instanceof C.DecodeStream,inverseDecode:(He==null?void 0:He[0])>0,interpolate:tt}),he.cached=!!ee,Fe=[he],Be.addImageOps(n.OPS.paintImageMaskXObject,Fe,Ee),ee){const st={fn:n.OPS.paintImageMaskXObject,args:Fe,optionalContent:Ee};te.set(ee,le,st),le&&this._regionalImageCache.set(null,le,st)}return}if(he=await u.PDFImage.createMask({imgArray:$e,width:be,height:Ce,imageIsFromDecodeStream:Ie instanceof C.DecodeStream,inverseDecode:(He==null?void 0:He[0])>0,interpolate:tt,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),he.isSingleOpaquePixel){if(Be.addImageOps(n.OPS.paintSolidColorImageMask,[],Ee),ee){const st={fn:n.OPS.paintSolidColorImageMask,args:[],optionalContent:Ee};te.set(ee,le,st),le&&this._regionalImageCache.set(null,le,st)}return}const Ve=`mask_${this.idFactory.createObjId()}`;if(Be.addDependency(Ve),this._sendImgData(Ve,he),Fe=[{data:Ve,width:he.width,height:he.height,interpolate:he.interpolate,count:1}],Be.addImageOps(n.OPS.paintImageMaskXObject,Fe,Ee),ee){const st={fn:n.OPS.paintImageMaskXObject,args:Fe,optionalContent:Ee};te.set(ee,le,st),le&&this._regionalImageCache.set(null,le,st)}return}const _e=200;if(ge&&!ue.has("SMask")&&!ue.has("Mask")&&be+Ce<_e){he=await new u.PDFImage({xref:this.xref,res:de,image:Ie,isInline:ge,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:fe}).createImageData(!0,!1),Be.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,Be.addImageOps(n.OPS.paintInlineImageXObject,[he],Ee);return}let Ne=`img_${this.idFactory.createObjId()}`,Ze=!1;if(this.parsingType3Font?Ne=`${this.idFactory.getDocId()}_type3_${Ne}`:le&&(Ze=this.globalImageCache.shouldCache(le,this.pageIndex),Ze&&(Ne=`${this.idFactory.getDocId()}_${Ne}`)),Be.addDependency(Ne),Fe=[Ne,be,Ce],u.PDFImage.buildImage({xref:this.xref,res:de,image:Ie,isInline:ge,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:fe}).then(async tt=>{if(he=await tt.createImageData(!1,this.options.isOffscreenCanvasSupported),ee&&le&&Ze){const je=he.bitmap?he.width*he.height*4:he.data.length;this.globalImageCache.addByteSize(le,je)}return this._sendImgData(Ne,he,Ze)}).catch(tt=>((0,n.warn)(`Unable to decode image "${Ne}": "${tt}".`),this._sendImgData(Ne,null,Ze))),Be.addImageOps(n.OPS.paintImageXObject,Fe,Ee),ee){const tt={fn:n.OPS.paintImageXObject,args:Fe,optionalContent:Ee};te.set(ee,le,tt),le&&(this._regionalImageCache.set(null,le,tt),Ze&&((0,n.assert)(!ge,"Cannot cache an inline image globally."),this.globalImageCache.setData(le,{objId:Ne,fn:n.OPS.paintImageXObject,args:Fe,optionalContent:Ee,byteSize:0})))}}handleSMask(de,Ie,ge,Be,ee,te){const fe=de.get("G"),ue={subtype:de.get("S").name,backdrop:de.get("BC")},le=de.get("TR");if((0,P.isPDFFunction)(le)){const be=this._pdfFunctionFactory.create(le),Ce=new Uint8Array(256),ce=new Float32Array(1);for(let Ee=0;Ee<256;Ee++)ce[0]=Ee/255,be(ce,0,ce,0),Ce[Ee]=ce[0]*255|0;ue.transferMap=Ce}return this.buildFormXObject(Ie,fe,ue,ge,Be,ee.state.clone(),te)}handleTransferFunction(de){let Ie;if(Array.isArray(de))Ie=de;else if((0,P.isPDFFunction)(de))Ie=[de];else return null;const ge=[];let Be=0,ee=0;for(const te of Ie){const fe=this.xref.fetchIfRef(te);if(Be++,(0,O.isName)(fe,"Identity")){ge.push(null);continue}else if(!(0,P.isPDFFunction)(fe))return null;const ue=this._pdfFunctionFactory.create(fe),le=new Uint8Array(256),be=new Float32Array(1);for(let Ce=0;Ce<256;Ce++)be[0]=Ce/255,ue(be,0,be,0),le[Ce]=be[0]*255|0;ge.push(le),ee++}return!(Be===1||Be===4)||ee===0?null:ge}handleTilingType(de,Ie,ge,Be,ee,te,fe,ue){const le=new W.OperatorList,be=O.Dict.merge({xref:this.xref,dictArray:[ee.get("Resources"),ge]});return this.getOperatorList({stream:Be,task:fe,resources:be,operatorList:le}).then(function(){const Ce=le.getIR(),ce=(0,K.getTilingPatternIR)(Ce,ee,Ie);te.addDependencies(le.dependencies),te.addOp(de,ce),ee.objId&&ue.set(null,ee.objId,{operatorListIR:Ce,dict:ee})}).catch(Ce=>{if(!(Ce instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`handleTilingType - ignoring pattern: "${Ce}".`);return}throw Ce}})}handleSetFont(de,Ie,ge,Be,ee,te,fe=null,ue=null){const le=(Ie==null?void 0:Ie[0])instanceof O.Name?Ie[0].name:null;return this.loadFont(le,ge,de,fe,ue).then(be=>be.font.isType3Font?be.loadType3Data(this,de,ee).then(function(){return Be.addDependencies(be.type3Dependencies),be}).catch(Ce=>new B({loadedName:"g_font_error",font:new e.ErrorFont(`Type3 font load error: ${Ce}`),dict:be.font,evaluatorOptions:this.options})):be).then(be=>(te.font=be.font,be.send(this.handler),be.loadedName))}handleText(de,Ie){const ge=Ie.font,Be=ge.charsToGlyphs(de);return ge.data&&(Ie.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG||Ie.fillColorSpace.name==="Pattern"||ge.disableFontFace||this.options.disableFontFace)&&h.buildFontPaths(ge,Be,this.handler,this.options),Be}ensureStateFont(de){if(de.font)return;const Ie=new n.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,n.warn)(`ensureStateFont: "${Ie}".`);return}throw Ie}async setGState({resources:de,gState:Ie,operatorList:ge,cacheKey:Be,task:ee,stateManager:te,localGStateCache:fe,localColorSpaceCache:ue}){const le=Ie.objId;let be=!0;const Ce=[];let ce=Promise.resolve();for(const Ee of Ie.getKeys()){const ve=Ie.get(Ee);switch(Ee){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Ce.push([Ee,ve]);break;case"Font":be=!1,ce=ce.then(()=>this.handleSetFont(de,null,ve[0],ge,ee,te.state).then(function(Fe){ge.addDependency(Fe),Ce.push([Ee,[Fe,ve[1]]])}));break;case"BM":Ce.push([Ee,v(ve)]);break;case"SMask":if((0,O.isName)(ve,"None")){Ce.push([Ee,!1]);break}ve instanceof O.Dict?(be=!1,ce=ce.then(()=>this.handleSMask(ve,de,ge,ee,te,ue)),Ce.push([Ee,!0])):(0,n.warn)("Unsupported SMask type");break;case"TR":const he=this.handleTransferFunction(ve);Ce.push([Ee,he]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,n.info)("graphic state operator "+Ee);break;default:(0,n.info)("Unknown graphic state operator "+Ee);break}}return ce.then(function(){Ce.length>0&&ge.addOp(n.OPS.setGState,[Ce]),be&&fe.set(Be,le,Ce)})}loadFont(de,Ie,ge,Be=null,ee=null){const te=async()=>new B({loadedName:"g_font_error",font:new e.ErrorFont(`Font "${de}" is not available.`),dict:Ie,evaluatorOptions:this.options});let fe;if(Ie)Ie instanceof O.Ref&&(fe=Ie);else{const ve=ge.get("Font");ve&&(fe=ve.getRaw(de))}if(fe){if(this.parsingType3Font&&this.type3FontRefs.has(fe))return te();if(this.fontCache.has(fe))return this.fontCache.get(fe);Ie=this.xref.fetchIfRef(fe)}if(!(Ie instanceof O.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,n.warn)(`Font "${de}" is not available.`),te();(0,n.warn)(`Font "${de}" is not available -- attempting to fallback to a default font.`),Ie=Be||h.fallbackFontDict}if(Ie.cacheKey&&this.fontCache.has(Ie.cacheKey))return this.fontCache.get(Ie.cacheKey);const ue=new n.PromiseCapability;let le;try{le=this.preEvaluateFont(Ie),le.cssFontInfo=ee}catch(ve){return(0,n.warn)(`loadFont - preEvaluateFont failed: "${ve}".`),te()}const{descriptor:be,hash:Ce}=le,ce=fe instanceof O.Ref;let Ee;if(Ce&&be instanceof O.Dict){const ve=be.fontAliases||(be.fontAliases=Object.create(null));if(ve[Ce]){const he=ve[Ce].aliasRef;if(ce&&he&&this.fontCache.has(he))return this.fontCache.putAlias(fe,he),this.fontCache.get(fe)}else ve[Ce]={fontID:this.idFactory.createFontId()};ce&&(ve[Ce].aliasRef=fe),Ee=ve[Ce].fontID}else Ee=this.idFactory.createFontId();return(0,n.assert)(Ee==null?void 0:Ee.startsWith("f"),'The "fontID" must be (correctly) defined.'),ce?this.fontCache.put(fe,ue.promise):(Ie.cacheKey=`cacheKey_${Ee}`,this.fontCache.put(Ie.cacheKey,ue.promise)),Ie.loadedName=`${this.idFactory.getDocId()}_${Ee}`,this.translateFont(le).then(ve=>{ue.resolve(new B({loadedName:Ie.loadedName,font:ve,dict:Ie,evaluatorOptions:this.options}))}).catch(ve=>{(0,n.warn)(`loadFont - translateFont failed: "${ve}".`),ue.resolve(new B({loadedName:Ie.loadedName,font:new e.ErrorFont(ve instanceof Error?ve.message:ve),dict:Ie,evaluatorOptions:this.options}))}),ue.promise}buildPath(de,Ie,ge,Be=!1){const ee=de.length-1;if(ge||(ge=[]),ee<0||de.fnArray[ee]!==n.OPS.constructPath){Be&&((0,n.warn)(`Encountered path operator "${Ie}" inside of a text object.`),de.addOp(n.OPS.save,null));let te;switch(Ie){case n.OPS.rectangle:const fe=ge[0]+ge[2],ue=ge[1]+ge[3];te=[Math.min(ge[0],fe),Math.max(ge[0],fe),Math.min(ge[1],ue),Math.max(ge[1],ue)];break;case n.OPS.moveTo:case n.OPS.lineTo:te=[ge[0],ge[0],ge[1],ge[1]];break;default:te=[1/0,-1/0,1/0,-1/0];break}de.addOp(n.OPS.constructPath,[[Ie],ge,te]),Be&&de.addOp(n.OPS.restore,null)}else{const te=de.argsArray[ee];te[0].push(Ie),te[1].push(...ge);const fe=te[2];switch(Ie){case n.OPS.rectangle:const ue=ge[0]+ge[2],le=ge[1]+ge[3];fe[0]=Math.min(fe[0],ge[0],ue),fe[1]=Math.max(fe[1],ge[0],ue),fe[2]=Math.min(fe[2],ge[1],le),fe[3]=Math.max(fe[3],ge[1],le);break;case n.OPS.moveTo:case n.OPS.lineTo:fe[0]=Math.min(fe[0],ge[0]),fe[1]=Math.max(fe[1],ge[0]),fe[2]=Math.min(fe[2],ge[1]),fe[3]=Math.max(fe[3],ge[1]);break}}}parseColorSpace({cs:de,resources:Ie,localColorSpaceCache:ge}){return _.ColorSpace.parseAsync({cs:de,xref:this.xref,resources:Ie,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:ge}).catch(Be=>{if(Be instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`parseColorSpace - ignoring ColorSpace: "${Be}".`),null;throw Be})}parseShading({shading:de,resources:Ie,localColorSpaceCache:ge,localShadingPatternCache:Be}){let ee=Be.get(de);if(!ee){var te=K.Pattern.parseShading(de,this.xref,Ie,this._pdfFunctionFactory,ge);const fe=te.getIR();ee=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(ee=`${this.idFactory.getDocId()}_type3_${ee}`),Be.set(de,ee),this.parsingType3Font?this.handler.send("commonobj",[ee,"Pattern",fe]):this.handler.send("obj",[ee,this.pageIndex,"Pattern",fe])}return ee}handleColorN(de,Ie,ge,Be,ee,te,fe,ue,le,be){const Ce=ge.pop();if(Ce instanceof O.Name){const ce=ee.getRaw(Ce.name),Ee=ce instanceof O.Ref&&le.getByRef(ce);if(Ee)try{const he=Be.base?Be.base.getRgb(ge,0):null,Fe=(0,K.getTilingPatternIR)(Ee.operatorListIR,Ee.dict,he);de.addOp(Ie,Fe);return}catch{}const ve=this.xref.fetchIfRef(ce);if(ve){const he=ve instanceof k.BaseStream?ve.dict:ve,Fe=he.get("PatternType");if(Fe===D.TILING){const _e=Be.base?Be.base.getRgb(ge,0):null;return this.handleTilingType(Ie,_e,te,ve,he,de,fe,le)}else if(Fe===D.SHADING){const _e=he.get("Shading"),Ne=he.getArray("Matrix"),Ze=this.parseShading({shading:_e,resources:te,localColorSpaceCache:ue,localShadingPatternCache:be});de.addOp(Ie,["Shading",Ze,Ne]);return}throw new n.FormatError(`Unknown PatternType: ${Fe}`)}}throw new n.FormatError(`Unknown PatternName: ${Ce}`)}_parseVisibilityExpression(de,Ie,ge){if(++Ie>10){(0,n.warn)("Visibility expression is too deeply nested");return}const ee=de.length,te=this.xref.fetchIfRef(de[0]);if(ee<2||!(te instanceof O.Name)){(0,n.warn)("Invalid visibility expression");return}switch(te.name){case"And":case"Or":case"Not":ge.push(te.name);break;default:(0,n.warn)(`Invalid operator ${te.name} in visibility expression`);return}for(let fe=1;fe<ee;fe++){const ue=de[fe],le=this.xref.fetchIfRef(ue);if(Array.isArray(le)){const be=[];ge.push(be),this._parseVisibilityExpression(le,Ie,be)}else ue instanceof O.Ref&&ge.push(ue.toString())}}async parseMarkedContentProps(de,Ie){var ee;let ge;if(de instanceof O.Name)ge=Ie.get("Properties").get(de.name);else if(de instanceof O.Dict)ge=de;else throw new n.FormatError("Optional content properties malformed.");const Be=(ee=ge.get("Type"))==null?void 0:ee.name;if(Be==="OCG")return{type:Be,id:ge.objId};if(Be==="OCMD"){const te=ge.get("VE");if(Array.isArray(te)){const ue=[];if(this._parseVisibilityExpression(te,0,ue),ue.length>0)return{type:"OCMD",expression:ue}}const fe=ge.get("OCGs");if(Array.isArray(fe)||fe instanceof O.Dict){const ue=[];if(Array.isArray(fe))for(const le of fe)ue.push(le.toString());else ue.push(fe.objId);return{type:Be,ids:ue,policy:ge.get("P")instanceof O.Name?ge.get("P").name:null,expression:null}}else if(fe instanceof O.Ref)return{type:Be,id:fe.toString()}}return null}getOperatorList({stream:de,task:Ie,resources:ge,operatorList:Be,initialState:ee=null,fallbackFontDict:te=null}){if(ge||(ge=O.Dict.empty),ee||(ee=new E),!Be)throw new Error('getOperatorList: missing "operatorList" parameter');const fe=this,ue=this.xref;let le=!1;const be=new p.LocalImageCache,Ce=new p.LocalColorSpaceCache,ce=new p.LocalGStateCache,Ee=new p.LocalTilingPatternCache,ve=new Map,he=ge.get("XObject")||O.Dict.empty,Fe=ge.get("Pattern")||O.Dict.empty,_e=new r(ee),Ne=new G(de,ue,_e),Ze=new I;function tt(je){for(let $e=0,He=Ne.savedStatesDepth;$e<He;$e++)Be.addOp(n.OPS.restore,[])}return new Promise(function je($e,He){const Ve=function(Ke){Promise.all([Ke,Be.ready]).then(function(){try{je($e,He)}catch(Ue){He(Ue)}},He)};Ie.ensureNotTerminated(),Ze.reset();const st={};let pt,at,Re,Ge,gt,rt;for(;!(pt=Ze.check())&&(st.args=null,!!Ne.read(st));){let Ke=st.args,Ue=st.fn;switch(Ue|0){case n.OPS.paintXObject:if(rt=Ke[0]instanceof O.Name,gt=Ke[0].name,rt){const qe=be.getByName(gt);if(qe){Be.addImageOps(qe.fn,qe.args,qe.optionalContent),S(qe),Ke=null;continue}}Ve(new Promise(function(qe,ct){if(!rt)throw new n.FormatError("XObject must be referred to by name.");let ft=he.getRaw(gt);if(ft instanceof O.Ref){const $t=be.getByRef(ft)||fe._regionalImageCache.getByRef(ft);if($t){Be.addImageOps($t.fn,$t.args,$t.optionalContent),S($t),qe();return}const Mt=fe.globalImageCache.getData(ft,fe.pageIndex);if(Mt){Be.addDependency(Mt.objId),Be.addImageOps(Mt.fn,Mt.args,Mt.optionalContent),qe();return}ft=ue.fetch(ft)}if(!(ft instanceof k.BaseStream))throw new n.FormatError("XObject should be a stream");const mt=ft.dict.get("Subtype");if(!(mt instanceof O.Name))throw new n.FormatError("XObject should have a Name subtype");if(mt.name==="Form"){_e.save(),fe.buildFormXObject(ge,ft,null,Be,Ie,_e.state.clone(),Ce).then(function(){_e.restore(),qe()},ct);return}else if(mt.name==="Image"){fe.buildPaintImageXObject({resources:ge,image:ft,operatorList:Be,cacheKey:gt,localImageCache:be,localColorSpaceCache:Ce}).then(qe,ct);return}else if(mt.name==="PS")(0,n.info)("Ignored XObject subtype PS");else throw new n.FormatError(`Unhandled XObject subtype ${mt.name}`);qe()}).catch(function(qe){if(!(qe instanceof n.AbortException)){if(fe.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring XObject: "${qe}".`);return}throw qe}}));return;case n.OPS.setFont:var Bt=Ke[1];Ve(fe.handleSetFont(ge,Ke,null,Be,Ie,_e.state,te).then(function(qe){Be.addDependency(qe),Be.addOp(n.OPS.setFont,[qe,Bt])}));return;case n.OPS.beginText:le=!0;break;case n.OPS.endText:le=!1;break;case n.OPS.endInlineImage:var St=Ke[0].cacheKey;if(St){const qe=be.getByName(St);if(qe){Be.addImageOps(qe.fn,qe.args,qe.optionalContent),S(qe),Ke=null;continue}}Ve(fe.buildPaintImageXObject({resources:ge,image:Ke[0],isInline:!0,operatorList:Be,cacheKey:St,localImageCache:be,localColorSpaceCache:Ce}));return;case n.OPS.showText:if(!_e.state.font){fe.ensureStateFont(_e.state);continue}Ke[0]=fe.handleText(Ke[0],_e.state);break;case n.OPS.showSpacedText:if(!_e.state.font){fe.ensureStateFont(_e.state);continue}var jn=[],dt=_e.state;for(const qe of Ke[0])typeof qe=="string"?jn.push(...fe.handleText(qe,dt)):typeof qe=="number"&&jn.push(qe);Ke[0]=jn,Ue=n.OPS.showText;break;case n.OPS.nextLineShowText:if(!_e.state.font){fe.ensureStateFont(_e.state);continue}Be.addOp(n.OPS.nextLine),Ke[0]=fe.handleText(Ke[0],_e.state),Ue=n.OPS.showText;break;case n.OPS.nextLineSetSpacingShowText:if(!_e.state.font){fe.ensureStateFont(_e.state);continue}Be.addOp(n.OPS.nextLine),Be.addOp(n.OPS.setWordSpacing,[Ke.shift()]),Be.addOp(n.OPS.setCharSpacing,[Ke.shift()]),Ke[0]=fe.handleText(Ke[0],_e.state),Ue=n.OPS.showText;break;case n.OPS.setTextRenderingMode:_e.state.textRenderingMode=Ke[0];break;case n.OPS.setFillColorSpace:{const qe=_.ColorSpace.getCached(Ke[0],ue,Ce);if(qe){_e.state.fillColorSpace=qe;continue}Ve(fe.parseColorSpace({cs:Ke[0],resources:ge,localColorSpaceCache:Ce}).then(function(ct){ct&&(_e.state.fillColorSpace=ct)}));return}case n.OPS.setStrokeColorSpace:{const qe=_.ColorSpace.getCached(Ke[0],ue,Ce);if(qe){_e.state.strokeColorSpace=qe;continue}Ve(fe.parseColorSpace({cs:Ke[0],resources:ge,localColorSpaceCache:Ce}).then(function(ct){ct&&(_e.state.strokeColorSpace=ct)}));return}case n.OPS.setFillColor:Ge=_e.state.fillColorSpace,Ke=Ge.getRgb(Ke,0),Ue=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColor:Ge=_e.state.strokeColorSpace,Ke=Ge.getRgb(Ke,0),Ue=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillGray:_e.state.fillColorSpace=_.ColorSpace.singletons.gray,Ke=_.ColorSpace.singletons.gray.getRgb(Ke,0),Ue=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeGray:_e.state.strokeColorSpace=_.ColorSpace.singletons.gray,Ke=_.ColorSpace.singletons.gray.getRgb(Ke,0),Ue=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillCMYKColor:_e.state.fillColorSpace=_.ColorSpace.singletons.cmyk,Ke=_.ColorSpace.singletons.cmyk.getRgb(Ke,0),Ue=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeCMYKColor:_e.state.strokeColorSpace=_.ColorSpace.singletons.cmyk,Ke=_.ColorSpace.singletons.cmyk.getRgb(Ke,0),Ue=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillRGBColor:_e.state.fillColorSpace=_.ColorSpace.singletons.rgb,Ke=_.ColorSpace.singletons.rgb.getRgb(Ke,0);break;case n.OPS.setStrokeRGBColor:_e.state.strokeColorSpace=_.ColorSpace.singletons.rgb,Ke=_.ColorSpace.singletons.rgb.getRgb(Ke,0);break;case n.OPS.setFillColorN:if(Ge=_e.state.fillColorSpace,Ge.name==="Pattern"){Ve(fe.handleColorN(Be,n.OPS.setFillColorN,Ke,Ge,Fe,ge,Ie,Ce,Ee,ve));return}Ke=Ge.getRgb(Ke,0),Ue=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColorN:if(Ge=_e.state.strokeColorSpace,Ge.name==="Pattern"){Ve(fe.handleColorN(Be,n.OPS.setStrokeColorN,Ke,Ge,Fe,ge,Ie,Ce,Ee,ve));return}Ke=Ge.getRgb(Ke,0),Ue=n.OPS.setStrokeRGBColor;break;case n.OPS.shadingFill:var Zt=ge.get("Shading");if(!Zt)throw new n.FormatError("No shading resource found");var Gt=Zt.get(Ke[0].name);if(!Gt)throw new n.FormatError("No shading object found");Ke=[fe.parseShading({shading:Gt,resources:ge,localColorSpaceCache:Ce,localShadingPatternCache:ve})],Ue=n.OPS.shadingFill;break;case n.OPS.setGState:if(rt=Ke[0]instanceof O.Name,gt=Ke[0].name,rt){const qe=ce.getByName(gt);if(qe){qe.length>0&&Be.addOp(n.OPS.setGState,[qe]),Ke=null;continue}}Ve(new Promise(function(qe,ct){if(!rt)throw new n.FormatError("GState must be referred to by name.");const ft=ge.get("ExtGState");if(!(ft instanceof O.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const mt=ft.get(gt);if(!(mt instanceof O.Dict))throw new n.FormatError("GState should be a dictionary.");fe.setGState({resources:ge,gState:mt,operatorList:Be,cacheKey:gt,task:Ie,stateManager:_e,localGStateCache:ce,localColorSpaceCache:Ce}).then(qe,ct)}).catch(function(qe){if(!(qe instanceof n.AbortException)){if(fe.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring ExtGState: "${qe}".`);return}throw qe}}));return;case n.OPS.moveTo:case n.OPS.lineTo:case n.OPS.curveTo:case n.OPS.curveTo2:case n.OPS.curveTo3:case n.OPS.closePath:case n.OPS.rectangle:fe.buildPath(Be,Ue,Ke,le);continue;case n.OPS.markPoint:case n.OPS.markPointProps:case n.OPS.beginCompat:case n.OPS.endCompat:continue;case n.OPS.beginMarkedContentProps:if(!(Ke[0]instanceof O.Name)){(0,n.warn)(`Expected name for beginMarkedContentProps arg0=${Ke[0]}`);continue}if(Ke[0].name==="OC"){Ve(fe.parseMarkedContentProps(Ke[1],ge).then(qe=>{Be.addOp(n.OPS.beginMarkedContentProps,["OC",qe])}).catch(qe=>{if(!(qe instanceof n.AbortException)){if(fe.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${qe}".`);return}throw qe}}));return}Ke=[Ke[0].name,Ke[1]instanceof O.Dict?Ke[1].get("MCID"):null];break;case n.OPS.beginMarkedContent:case n.OPS.endMarkedContent:default:if(Ke!==null){for(at=0,Re=Ke.length;at<Re&&!(Ke[at]instanceof O.Dict);at++);if(at<Re){(0,n.warn)("getOperatorList - ignoring operator: "+Ue);continue}}}Be.addOp(Ue,Ke)}if(pt){Ve(N);return}tt(),$e()}).catch(je=>{if(!(je instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring errors during "${Ie.name}" task: "${je}".`),tt();return}throw je}})}getTextContent({stream:de,task:Ie,resources:ge,stateManager:Be=null,includeMarkedContent:ee=!1,sink:te,seenStyles:fe=new Set,viewBox:ue,markedContentData:le=null,disableNormalization:be=!1}){ge||(ge=O.Dict.empty),Be||(Be=new r(new A)),ee&&(le||(le={level:0}));const Ce={items:[],styles:Object.create(null)},ce={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},Ee=[" "," "];let ve=0;function he(Mt){const Dt=(ve+1)%2,Xt=Ee[ve]!==" "&&Ee[Dt]===" ";return Ee[ve]=Mt,ve=Dt,Xt}function Fe(){return Ee[ve]!==" "&&Ee[(ve+1)%2]===" "}function _e(){Ee[0]=Ee[1]=" ",ve=0}const Ne=.102,Ze=.03,tt=-.2,je=.102,$e=.6,He=.25,Ve=this,st=this.xref,pt=[];let at=null;const Re=new p.LocalImageCache,Ge=new p.LocalGStateCache,gt=new G(de,st,Be);let rt;function Bt({width:Mt=0,height:Dt=0,transform:Xt=ce.prevTransform,fontName:Vt=ce.fontName}){Ce.items.push({str:" ",dir:"ltr",width:Mt,height:Dt,transform:Xt,fontName:Vt,hasEOL:!1})}function St(){const Mt=rt.font,Dt=[rt.fontSize*rt.textHScale,0,0,rt.fontSize,0,rt.textRise];if(Mt.isType3Font&&(rt.fontSize<=1||Mt.isCharBBox)&&!(0,n.isArrayEqual)(rt.fontMatrix,n.FONT_IDENTITY_MATRIX)){const Xt=Mt.bbox[3]-Mt.bbox[1];Xt>0&&(Dt[3]*=Xt*rt.fontMatrix[3])}return n.Util.transform(rt.ctm,n.Util.transform(rt.textMatrix,Dt))}function jn(){if(ce.initialized)return ce;const{font:Mt,loadedName:Dt}=rt;fe.has(Dt)||(fe.add(Dt),Ce.styles[Dt]={fontFamily:Mt.fallbackName,ascent:Mt.ascent,descent:Mt.descent,vertical:Mt.vertical}),ce.fontName=Dt;const Xt=ce.transform=St();Mt.vertical?(ce.width=ce.totalWidth=Math.hypot(Xt[0],Xt[1]),ce.height=ce.totalHeight=0,ce.vertical=!0):(ce.width=ce.totalWidth=0,ce.height=ce.totalHeight=Math.hypot(Xt[2],Xt[3]),ce.vertical=!1);const Vt=Math.hypot(rt.textLineMatrix[0],rt.textLineMatrix[1]),Jt=Math.hypot(rt.ctm[0],rt.ctm[1]);ce.textAdvanceScale=Jt*Vt;const{fontSize:zn}=rt;return ce.trackingSpaceMin=zn*Ne,ce.notASpace=zn*Ze,ce.negativeSpaceMax=zn*tt,ce.spaceInFlowMin=zn*je,ce.spaceInFlowMax=zn*$e,ce.hasEOL=!1,ce.initialized=!0,ce}function dt(){if(!ce.initialized)return;const Mt=Math.hypot(rt.textLineMatrix[0],rt.textLineMatrix[1]),Xt=Math.hypot(rt.ctm[0],rt.ctm[1])*Mt;Xt!==ce.textAdvanceScale&&(ce.vertical?(ce.totalHeight+=ce.height*ce.textAdvanceScale,ce.height=0):(ce.totalWidth+=ce.width*ce.textAdvanceScale,ce.width=0),ce.textAdvanceScale=Xt)}function Zt(Mt){let Dt=Mt.str.join("");be||(Dt=(0,n.normalizeUnicode)(Dt));const Xt=(0,F.bidi)(Dt,-1,Mt.vertical);return{str:Xt.str,dir:Xt.dir,width:Math.abs(Mt.totalWidth),height:Math.abs(Mt.totalHeight),transform:Mt.transform,fontName:Mt.fontName,hasEOL:Mt.hasEOL}}function Gt(Mt,Dt){return Ve.loadFont(Mt,Dt,ge).then(function(Xt){return Xt.font.isType3Font?Xt.loadType3Data(Ve,ge,Ie).catch(function(){}).then(function(){return Xt}):Xt}).then(function(Xt){rt.loadedName=Xt.loadedName,rt.font=Xt.font,rt.fontMatrix=Xt.font.fontMatrix||n.FONT_IDENTITY_MATRIX})}function Ke(Mt,Dt,Xt){const Vt=Math.hypot(Xt[0],Xt[1]);return[(Xt[0]*Mt+Xt[1]*Dt)/Vt,(Xt[2]*Mt+Xt[3]*Dt)/Vt]}function Ue(Mt){var Ot;const Dt=St();let Xt=Dt[4],Vt=Dt[5];if((Ot=rt.font)!=null&&Ot.vertical){if(Xt<ue[0]||Xt>ue[2]||Vt+Mt<ue[1]||Vt>ue[3])return!1}else if(Xt+Mt<ue[0]||Xt>ue[2]||Vt<ue[1]||Vt>ue[3])return!1;if(!rt.font||!ce.prevTransform)return!0;let Jt=ce.prevTransform[4],zn=ce.prevTransform[5];if(Jt===Xt&&zn===Vt)return!0;let tn=-1;switch(Dt[0]&&Dt[1]===0&&Dt[2]===0?tn=Dt[0]>0?0:180:Dt[1]&&Dt[0]===0&&Dt[3]===0&&(tn=Dt[1]>0?90:270),tn){case 0:break;case 90:[Xt,Vt]=[Vt,Xt],[Jt,zn]=[zn,Jt];break;case 180:[Xt,Vt,Jt,zn]=[-Xt,-Vt,-Jt,-zn];break;case 270:[Xt,Vt]=[-Vt,-Xt],[Jt,zn]=[-zn,-Jt];break;default:[Xt,Vt]=Ke(Xt,Vt,Dt),[Jt,zn]=Ke(Jt,zn,ce.prevTransform)}if(rt.font.vertical){const jt=(zn-Vt)/ce.textAdvanceScale,Wt=Xt-Jt,bn=Math.sign(ce.height);return jt<bn*ce.negativeSpaceMax?Math.abs(Wt)>.5*ce.width?(qe(),!0):(_e(),ft(),!0):Math.abs(Wt)>ce.width?(qe(),!0):(jt<=bn*ce.notASpace&&_e(),jt<=bn*ce.trackingSpaceMin?Fe()?(_e(),ft(),Bt({height:Math.abs(jt)})):ce.height+=jt:ct(jt,ce.prevTransform,bn)||(ce.str.length===0?(_e(),Bt({height:Math.abs(jt)})):ce.height+=jt),Math.abs(Wt)>ce.width*He&&ft(),!0)}const Gi=(Xt-Jt)/ce.textAdvanceScale,fr=Vt-zn,Lt=Math.sign(ce.width);return Gi<Lt*ce.negativeSpaceMax?Math.abs(fr)>.5*ce.height?(qe(),!0):(_e(),ft(),!0):Math.abs(fr)>ce.height?(qe(),!0):(Gi<=Lt*ce.notASpace&&_e(),Gi<=Lt*ce.trackingSpaceMin?Fe()?(_e(),ft(),Bt({width:Math.abs(Gi)})):ce.width+=Gi:ct(Gi,ce.prevTransform,Lt)||(ce.str.length===0?(_e(),Bt({width:Math.abs(Gi)})):ce.width+=Gi),Math.abs(fr)>ce.height*He&&ft(),!0)}function ze({chars:Mt,extraSpacing:Dt}){const Xt=rt.font;if(!Mt){const zn=rt.charSpacing+Dt;zn&&(Xt.vertical?rt.translateTextMatrix(0,-zn):rt.translateTextMatrix(zn*rt.textHScale,0));return}const Vt=Xt.charsToGlyphs(Mt),Jt=rt.fontMatrix[0]*rt.fontSize;for(let zn=0,tn=Vt.length;zn<tn;zn++){const Gi=Vt[zn],{category:fr}=Gi;if(fr.isInvisibleFormatMark)continue;let Lt=rt.charSpacing+(zn+1===tn?Dt:0),Ot=Gi.width;Xt.vertical&&(Ot=Gi.vmetric?Gi.vmetric[0]:-Ot);let jt=Ot*Jt;if(fr.isWhitespace){Xt.vertical?(Lt+=-jt+rt.wordSpacing,rt.translateTextMatrix(0,-Lt)):(Lt+=jt+rt.wordSpacing,rt.translateTextMatrix(Lt*rt.textHScale,0)),he(" ");continue}if(!fr.isZeroWidthDiacritic&&!Ue(jt)){Xt.vertical?rt.translateTextMatrix(0,jt):rt.translateTextMatrix(jt*rt.textHScale,0);continue}const Wt=jn();fr.isZeroWidthDiacritic&&(jt=0),Xt.vertical?(rt.translateTextMatrix(0,jt),jt=Math.abs(jt),Wt.height+=jt):(jt*=rt.textHScale,rt.translateTextMatrix(jt,0),Wt.width+=jt),jt&&(Wt.prevTransform=St());const bn=Gi.unicode;he(bn)&&Wt.str.push(" "),Wt.str.push(bn),Lt&&(Xt.vertical?rt.translateTextMatrix(0,-Lt):rt.translateTextMatrix(Lt*rt.textHScale,0))}}function qe(){_e(),ce.initialized?(ce.hasEOL=!0,ft()):Ce.items.push({str:"",dir:"ltr",width:0,height:0,transform:St(),fontName:rt.loadedName,hasEOL:!0})}function ct(Mt,Dt,Xt){if(Xt*ce.spaceInFlowMin<=Mt&&Mt<=Xt*ce.spaceInFlowMax)return ce.initialized&&(_e(),ce.str.push(" ")),!1;const Vt=ce.fontName;let Jt=0;return ce.vertical&&(Jt=Mt,Mt=0),ft(),_e(),Bt({width:Math.abs(Mt),height:Math.abs(Jt),transform:Dt||St(),fontName:Vt}),!0}function ft(){!ce.initialized||!ce.str||(ce.vertical?ce.totalHeight+=ce.height*ce.textAdvanceScale:ce.totalWidth+=ce.width*ce.textAdvanceScale,Ce.items.push(Zt(ce)),ce.initialized=!1,ce.str.length=0)}function mt(Mt=!1){const Dt=Ce.items.length;Dt!==0&&(Mt&&Dt<J||(te.enqueue(Ce,Dt),Ce.items=[],Ce.styles=Object.create(null)))}const $t=new I;return new Promise(function Mt(Dt,Xt){const Vt=function(jt){mt(!0),Promise.all([jt,te.ready]).then(function(){try{Mt(Dt,Xt)}catch(Wt){Xt(Wt)}},Xt)};Ie.ensureNotTerminated(),$t.reset();const Jt={};let zn,tn=[];for(;!(zn=$t.check())&&(tn.length=0,Jt.args=tn,!!gt.read(Jt));){const jt=rt;rt=Be.state;const Wt=Jt.fn;switch(tn=Jt.args,Wt|0){case n.OPS.setFont:var Gi=tn[0].name,fr=tn[1];if(rt.font&&Gi===rt.fontName&&fr===rt.fontSize)break;ft(),rt.fontName=Gi,rt.fontSize=fr,Vt(Gt(Gi,null));return;case n.OPS.setTextRise:rt.textRise=tn[0];break;case n.OPS.setHScale:rt.textHScale=tn[0]/100;break;case n.OPS.setLeading:rt.leading=tn[0];break;case n.OPS.moveText:rt.translateTextLineMatrix(tn[0],tn[1]),rt.textMatrix=rt.textLineMatrix.slice();break;case n.OPS.setLeadingMoveText:rt.leading=-tn[1],rt.translateTextLineMatrix(tn[0],tn[1]),rt.textMatrix=rt.textLineMatrix.slice();break;case n.OPS.nextLine:rt.carriageReturn();break;case n.OPS.setTextMatrix:rt.setTextMatrix(tn[0],tn[1],tn[2],tn[3],tn[4],tn[5]),rt.setTextLineMatrix(tn[0],tn[1],tn[2],tn[3],tn[4],tn[5]),dt();break;case n.OPS.setCharSpacing:rt.charSpacing=tn[0];break;case n.OPS.setWordSpacing:rt.wordSpacing=tn[0];break;case n.OPS.beginText:rt.textMatrix=n.IDENTITY_MATRIX.slice(),rt.textLineMatrix=n.IDENTITY_MATRIX.slice();break;case n.OPS.showSpacedText:if(!Be.state.font){Ve.ensureStateFont(Be.state);continue}const bn=(rt.font.vertical?1:-1)*rt.fontSize/1e3,Ni=tn[0];for(let $n=0,zt=Ni.length;$n<zt;$n++){const Oi=Ni[$n];if(typeof Oi=="string")pt.push(Oi);else if(typeof Oi=="number"&&Oi!==0){const zi=pt.join("");pt.length=0,ze({chars:zi,extraSpacing:Oi*bn})}}if(pt.length>0){const $n=pt.join("");pt.length=0,ze({chars:$n,extraSpacing:0})}break;case n.OPS.showText:if(!Be.state.font){Ve.ensureStateFont(Be.state);continue}ze({chars:tn[0],extraSpacing:0});break;case n.OPS.nextLineShowText:if(!Be.state.font){Ve.ensureStateFont(Be.state);continue}rt.carriageReturn(),ze({chars:tn[0],extraSpacing:0});break;case n.OPS.nextLineSetSpacingShowText:if(!Be.state.font){Ve.ensureStateFont(Be.state);continue}rt.wordSpacing=tn[0],rt.charSpacing=tn[1],rt.carriageReturn(),ze({chars:tn[2],extraSpacing:0});break;case n.OPS.paintXObject:ft(),at||(at=ge.get("XObject")||O.Dict.empty);var Lt=tn[0]instanceof O.Name,Ot=tn[0].name;if(Lt&&Re.getByName(Ot))break;Vt(new Promise(function($n,zt){if(!Lt)throw new n.FormatError("XObject must be referred to by name.");let Oi=at.getRaw(Ot);if(Oi instanceof O.Ref){if(Re.getByRef(Oi)){$n();return}if(Ve.globalImageCache.getData(Oi,Ve.pageIndex)){$n();return}Oi=st.fetch(Oi)}if(!(Oi instanceof k.BaseStream))throw new n.FormatError("XObject should be a stream");const zi=Oi.dict.get("Subtype");if(!(zi instanceof O.Name))throw new n.FormatError("XObject should have a Name subtype");if(zi.name!=="Form"){Re.set(Ot,Oi.dict.objId,!0),$n();return}const mr=Be.state.clone(),Ki=new r(mr),Yi=Oi.dict.getArray("Matrix");Array.isArray(Yi)&&Yi.length===6&&Ki.transform(Yi),mt();const gr={enqueueInvoked:!1,enqueue(Pi,qi){this.enqueueInvoked=!0,te.enqueue(Pi,qi)},get desiredSize(){return te.desiredSize},get ready(){return te.ready}};Ve.getTextContent({stream:Oi,task:Ie,resources:Oi.dict.get("Resources")||ge,stateManager:Ki,includeMarkedContent:ee,sink:gr,seenStyles:fe,viewBox:ue,markedContentData:le,disableNormalization:be}).then(function(){gr.enqueueInvoked||Re.set(Ot,Oi.dict.objId,!0),$n()},zt)}).catch(function($n){if(!($n instanceof n.AbortException)){if(Ve.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring XObject: "${$n}".`);return}throw $n}}));return;case n.OPS.setGState:if(Lt=tn[0]instanceof O.Name,Ot=tn[0].name,Lt&&Ge.getByName(Ot))break;Vt(new Promise(function($n,zt){if(!Lt)throw new n.FormatError("GState must be referred to by name.");const Oi=ge.get("ExtGState");if(!(Oi instanceof O.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const zi=Oi.get(Ot);if(!(zi instanceof O.Dict))throw new n.FormatError("GState should be a dictionary.");const mr=zi.get("Font");if(!mr){Ge.set(Ot,zi.objId,!0),$n();return}ft(),rt.fontName=null,rt.fontSize=mr[1],Gt(null,mr[0]).then($n,zt)}).catch(function($n){if(!($n instanceof n.AbortException)){if(Ve.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring ExtGState: "${$n}".`);return}throw $n}}));return;case n.OPS.beginMarkedContent:ft(),ee&&(le.level++,Ce.items.push({type:"beginMarkedContent",tag:tn[0]instanceof O.Name?tn[0].name:null}));break;case n.OPS.beginMarkedContentProps:if(ft(),ee){le.level++;let $n=null;tn[1]instanceof O.Dict&&($n=tn[1].get("MCID")),Ce.items.push({type:"beginMarkedContentProps",id:Number.isInteger($n)?`${Ve.idFactory.getPageObjId()}_mc${$n}`:null,tag:tn[0]instanceof O.Name?tn[0].name:null})}break;case n.OPS.endMarkedContent:if(ft(),ee){if(le.level===0)break;le.level--,Ce.items.push({type:"endMarkedContent"})}break;case n.OPS.restore:jt&&(jt.font!==rt.font||jt.fontSize!==rt.fontSize||jt.fontName!==rt.fontName)&&ft();break}if(Ce.items.length>=te.desiredSize){zn=!0;break}}if(zn){Vt(N);return}ft(),mt(),Dt()}).catch(Mt=>{if(!(Mt instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring errors during "${Ie.name}" task: "${Mt}".`),ft(),mt();return}throw Mt}})}extractDataStructures(de,Ie,ge){const Be=this.xref;let ee;const te=this.readToUnicode(ge.toUnicode||de.get("ToUnicode")||Ie.get("ToUnicode"));if(ge.composite){const ce=de.get("CIDSystemInfo");ce instanceof O.Dict&&(ge.cidSystemInfo={registry:(0,n.stringToPDFString)(ce.get("Registry")),ordering:(0,n.stringToPDFString)(ce.get("Ordering")),supplement:ce.get("Supplement")});try{const Ee=de.get("CIDToGIDMap");Ee instanceof k.BaseStream&&(ee=Ee.getBytes())}catch(Ee){if(!this.options.ignoreErrors)throw Ee;(0,n.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${Ee}".`)}}const fe=[];let ue=null,le;if(de.has("Encoding")){if(le=de.get("Encoding"),le instanceof O.Dict){if(ue=le.get("BaseEncoding"),ue=ue instanceof O.Name?ue.name:null,le.has("Differences")){const ce=le.get("Differences");let Ee=0;for(const ve of ce){const he=Be.fetchIfRef(ve);if(typeof he=="number")Ee=he;else if(he instanceof O.Name)fe[Ee++]=he.name;else throw new n.FormatError(`Invalid entry in 'Differences' array: ${he}`)}}}else if(le instanceof O.Name)ue=le.name;else{const ce="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new n.FormatError(ce);(0,n.warn)(ce)}ue!=="MacRomanEncoding"&&ue!=="MacExpertEncoding"&&ue!=="WinAnsiEncoding"&&(ue=null)}const be=!ge.file||ge.isInternalFont,Ce=(0,o.getSymbolsFonts)()[ge.name];if(ue&&be&&Ce&&(ue=null),ue)ge.defaultEncoding=(0,t.getEncoding)(ue);else{const ce=!!(ge.flags&Q.FontFlags.Symbolic),Ee=!!(ge.flags&Q.FontFlags.Nonsymbolic);le=t.StandardEncoding,ge.type==="TrueType"&&!Ee&&(le=t.WinAnsiEncoding),(ce||Ce)&&(le=t.MacRomanEncoding,be&&(/Symbol/i.test(ge.name)?le=t.SymbolSetEncoding:/Dingbats/i.test(ge.name)?le=t.ZapfDingbatsEncoding:/Wingdings/i.test(ge.name)&&(le=t.WinAnsiEncoding))),ge.defaultEncoding=le}return ge.differences=fe,ge.baseEncodingName=ue,ge.hasEncoding=!!ue||fe.length>0,ge.dict=de,te.then(ce=>(ge.toUnicode=ce,this.buildToUnicode(ge))).then(ce=>(ge.toUnicode=ce,ee&&(ge.cidToGidMap=this.readCidToGidMap(ee,ce)),ge))}_simpleFontToUnicode(de,Ie=!1){(0,n.assert)(!de.composite,"Must be a simple font.");const ge=[],Be=de.defaultEncoding.slice(),ee=de.baseEncodingName,te=de.differences;for(const ue in te){const le=te[ue];le!==".notdef"&&(Be[ue]=le)}const fe=(0,re.getGlyphsUnicode)();for(const ue in Be){let le=Be[ue];if(le==="")continue;let be=fe[le];if(be!==void 0){ge[ue]=String.fromCharCode(be);continue}let Ce=0;switch(le[0]){case"G":le.length===3&&(Ce=parseInt(le.substring(1),16));break;case"g":le.length===5&&(Ce=parseInt(le.substring(1),16));break;case"C":case"c":if(le.length>=3&&le.length<=4){const ce=le.substring(1);if(Ie){Ce=parseInt(ce,16);break}if(Ce=+ce,Number.isNaN(Ce)&&Number.isInteger(parseInt(ce,16)))return this._simpleFontToUnicode(de,!0)}break;case"u":be=(0,R.getUnicodeForGlyph)(le,fe),be!==-1&&(Ce=be);break;default:switch(le){case"f_h":case"f_t":case"T_h":ge[ue]=le.replaceAll("_","");continue}break}if(Ce>0&&Ce<=1114111&&Number.isInteger(Ce)){if(ee&&Ce===+ue){const ce=(0,t.getEncoding)(ee);if(ce&&(le=ce[ue])){ge[ue]=String.fromCharCode(fe[le]);continue}}ge[ue]=String.fromCodePoint(Ce)}}return ge}async buildToUnicode(de){var Ie;if(de.hasIncludedToUnicodeMap=((Ie=de.toUnicode)==null?void 0:Ie.length)>0,de.hasIncludedToUnicodeMap)return!de.composite&&de.hasEncoding&&(de.fallbackToUnicode=this._simpleFontToUnicode(de)),de.toUnicode;if(!de.composite)return new U.ToUnicodeMap(this._simpleFontToUnicode(de));if(de.composite&&(de.cMap.builtInCMap&&!(de.cMap instanceof w.IdentityCMap)||de.cidSystemInfo.registry==="Adobe"&&(de.cidSystemInfo.ordering==="GB1"||de.cidSystemInfo.ordering==="CNS1"||de.cidSystemInfo.ordering==="Japan1"||de.cidSystemInfo.ordering==="Korea1"))){const{registry:ge,ordering:Be}=de.cidSystemInfo,ee=O.Name.get(`${ge}-${Be}-UCS2`),te=await w.CMapFactory.create({encoding:ee,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),fe=[],ue=[];return de.cMap.forEach(function(le,be){if(be>65535)throw new n.FormatError("Max size of CID is 65,535");const Ce=te.lookup(be);if(Ce){ue.length=0;for(let ce=0,Ee=Ce.length;ce<Ee;ce+=2)ue.push((Ce.charCodeAt(ce)<<8)+Ce.charCodeAt(ce+1));fe[le]=String.fromCharCode(...ue)}}),new U.ToUnicodeMap(fe)}return new U.IdentityToUnicodeMap(de.firstChar,de.lastChar)}readToUnicode(de){return de?de instanceof O.Name?w.CMapFactory.create({encoding:de,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Ie){return Ie instanceof w.IdentityCMap?new U.IdentityToUnicodeMap(0,65535):new U.ToUnicodeMap(Ie.getMap())}):de instanceof k.BaseStream?w.CMapFactory.create({encoding:de,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Ie){if(Ie instanceof w.IdentityCMap)return new U.IdentityToUnicodeMap(0,65535);const ge=new Array(Ie.length);return Ie.forEach(function(Be,ee){if(typeof ee=="number"){ge[Be]=String.fromCodePoint(ee);return}const te=[];for(let fe=0;fe<ee.length;fe+=2){const ue=ee.charCodeAt(fe)<<8|ee.charCodeAt(fe+1);if((ue&63488)!==55296){te.push(ue);continue}fe+=2;const le=ee.charCodeAt(fe)<<8|ee.charCodeAt(fe+1);te.push(((ue&1023)<<10)+(le&1023)+65536)}ge[Be]=String.fromCodePoint(...te)}),new U.ToUnicodeMap(ge)},Ie=>{if(Ie instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`readToUnicode - ignoring ToUnicode data: "${Ie}".`),null;throw Ie}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(de,Ie){const ge=[];for(let Be=0,ee=de.length;Be<ee;Be++){const te=de[Be++]<<8|de[Be],fe=Be>>1;te===0&&!Ie.has(fe)||(ge[fe]=te)}return ge}extractWidths(de,Ie,ge){const Be=this.xref;let ee=[],te=0;const fe=[];let ue,le,be,Ce,ce,Ee,ve,he;if(ge.composite){if(te=de.has("DW")?de.get("DW"):1e3,he=de.get("W"),he)for(le=0,be=he.length;le<be;le++)if(Ee=Be.fetchIfRef(he[le++]),ve=Be.fetchIfRef(he[le]),Array.isArray(ve))for(Ce=0,ce=ve.length;Ce<ce;Ce++)ee[Ee++]=Be.fetchIfRef(ve[Ce]);else{const Ne=Be.fetchIfRef(he[++le]);for(Ce=Ee;Ce<=ve;Ce++)ee[Ce]=Ne}if(ge.vertical){let Ne=de.getArray("DW2")||[880,-1e3];if(ue=[Ne[1],te*.5,Ne[0]],Ne=de.get("W2"),Ne)for(le=0,be=Ne.length;le<be;le++)if(Ee=Be.fetchIfRef(Ne[le++]),ve=Be.fetchIfRef(Ne[le]),Array.isArray(ve))for(Ce=0,ce=ve.length;Ce<ce;Ce++)fe[Ee++]=[Be.fetchIfRef(ve[Ce++]),Be.fetchIfRef(ve[Ce++]),Be.fetchIfRef(ve[Ce])];else{const Ze=[Be.fetchIfRef(Ne[++le]),Be.fetchIfRef(Ne[++le]),Be.fetchIfRef(Ne[++le])];for(Ce=Ee;Ce<=ve;Ce++)fe[Ce]=Ze}}}else{const Ne=ge.firstChar;if(he=de.get("Widths"),he){for(Ce=Ne,le=0,be=he.length;le<be;le++)ee[Ce++]=Be.fetchIfRef(he[le]);te=parseFloat(Ie.get("MissingWidth"))||0}else{const Ze=de.get("BaseFont");if(Ze instanceof O.Name){const tt=this.getBaseFontMetrics(Ze.name);ee=this.buildCharCodeToWidth(tt.widths,ge),te=tt.defaultWidth}}}let Fe=!0,_e=te;for(const Ne in ee){const Ze=ee[Ne];if(Ze){if(!_e){_e=Ze;continue}if(_e!==Ze){Fe=!1;break}}}Fe?ge.flags|=Q.FontFlags.FixedPitch:ge.flags&=~Q.FontFlags.FixedPitch,ge.defaultWidth=te,ge.widths=ee,ge.defaultVMetrics=ue,ge.vmetrics=fe}isSerifFont(de){const Ie=de.split("-")[0];return Ie in(0,o.getSerifFonts)()||/serif/gi.test(Ie)}getBaseFontMetrics(de){let Ie=0,ge=Object.create(null),Be=!1,te=(0,o.getStdFontMap)()[de]||de;const fe=(0,T.getMetrics)();te in fe||(te=this.isSerifFont(de)?"Times-Roman":"Helvetica");const ue=fe[te];return typeof ue=="number"?(Ie=ue,Be=!0):ge=ue(),{defaultWidth:Ie,monospace:Be,widths:ge}}buildCharCodeToWidth(de,Ie){const ge=Object.create(null),Be=Ie.differences,ee=Ie.defaultEncoding;for(let te=0;te<256;te++){if(te in Be&&de[Be[te]]){ge[te]=de[Be[te]];continue}if(te in ee&&de[ee[te]]){ge[te]=de[ee[te]];continue}}return ge}preEvaluateFont(de){const Ie=de;let ge=de.get("Subtype");if(!(ge instanceof O.Name))throw new n.FormatError("invalid font Subtype");let Be=!1,ee,te;if(ge.name==="Type0"){const be=de.get("DescendantFonts");if(!be)throw new n.FormatError("Descendant fonts are not specified");if(de=Array.isArray(be)?this.xref.fetchIfRef(be[0]):be,!(de instanceof O.Dict))throw new n.FormatError("Descendant font is not a dictionary.");if(ge=de.get("Subtype"),!(ge instanceof O.Name))throw new n.FormatError("invalid font Subtype");Be=!0}const fe=de.get("FirstChar")||0,ue=de.get("LastChar")||(Be?65535:255),le=de.get("FontDescriptor");if(le){ee=new y.MurmurHash3_64;const be=Ie.getRaw("Encoding");if(be instanceof O.Name)ee.update(be.name);else if(be instanceof O.Ref)ee.update(be.toString());else if(be instanceof O.Dict){for(const ce of be.getRawValues())if(ce instanceof O.Name)ee.update(ce.name);else if(ce instanceof O.Ref)ee.update(ce.toString());else if(Array.isArray(ce)){const Ee=ce.length,ve=new Array(Ee);for(let he=0;he<Ee;he++){const Fe=ce[he];Fe instanceof O.Name?ve[he]=Fe.name:(typeof Fe=="number"||Fe instanceof O.Ref)&&(ve[he]=Fe.toString())}ee.update(ve.join())}}if(ee.update(`${fe}-${ue}`),te=de.get("ToUnicode")||Ie.get("ToUnicode"),te instanceof k.BaseStream){const ce=te.str||te,Ee=ce.buffer?new Uint8Array(ce.buffer.buffer,0,ce.bufferLength):new Uint8Array(ce.bytes.buffer,ce.start,ce.end-ce.start);ee.update(Ee)}else te instanceof O.Name&&ee.update(te.name);const Ce=de.get("Widths")||Ie.get("Widths");if(Array.isArray(Ce)){const ce=[];for(const Ee of Ce)(typeof Ee=="number"||Ee instanceof O.Ref)&&ce.push(Ee.toString());ee.update(ce.join())}if(Be){ee.update("compositeFont");const ce=de.get("W")||Ie.get("W");if(Array.isArray(ce)){const ve=[];for(const he of ce)if(typeof he=="number"||he instanceof O.Ref)ve.push(he.toString());else if(Array.isArray(he)){const Fe=[];for(const _e of he)(typeof _e=="number"||_e instanceof O.Ref)&&Fe.push(_e.toString());ve.push(`[${Fe.join()}]`)}ee.update(ve.join())}const Ee=de.getRaw("CIDToGIDMap")||Ie.getRaw("CIDToGIDMap");Ee instanceof O.Name?ee.update(Ee.name):Ee instanceof O.Ref?ee.update(Ee.toString()):Ee instanceof k.BaseStream&&ee.update(Ee.peekBytes())}}return{descriptor:le,dict:de,baseDict:Ie,composite:Be,type:ge.name,firstChar:fe,lastChar:ue,toUnicode:te,hash:ee?ee.hexdigest():""}}async translateFont({descriptor:de,dict:Ie,baseDict:ge,composite:Be,type:ee,firstChar:te,lastChar:fe,toUnicode:ue,cssFontInfo:le}){const be=ee==="Type3";let Ce;if(!de)if(be)de=new O.Dict(null),de.set("FontName",O.Name.get(ee)),de.set("FontBBox",Ie.getArray("FontBBox")||[0,0,0,0]);else{let Ve=Ie.get("BaseFont");if(!(Ve instanceof O.Name))throw new n.FormatError("Base font is not specified");Ve=Ve.name.replaceAll(/[,_]/g,"-");const st=this.getBaseFontMetrics(Ve),pt=Ve.split("-")[0],at=(this.isSerifFont(pt)?Q.FontFlags.Serif:0)|(st.monospace?Q.FontFlags.FixedPitch:0)|((0,o.getSymbolsFonts)()[pt]?Q.FontFlags.Symbolic:Q.FontFlags.Nonsymbolic);Ce={type:ee,name:Ve,loadedName:ge.loadedName,systemFontInfo:null,widths:st.widths,defaultWidth:st.defaultWidth,isSimulatedFlags:!0,flags:at,firstChar:te,lastChar:fe,toUnicode:ue,xHeight:0,capHeight:0,italicAngle:0,isType3Font:be};const Re=Ie.get("Widths"),Ge=(0,o.getStandardFontName)(Ve);let gt=null;return Ge&&(gt=await this.fetchStandardFontData(Ge),Ce.isInternalFont=!!gt),!Ce.isInternalFont&&this.options.useSystemFonts&&(Ce.systemFontInfo=(0,j.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,Ve,Ge)),this.extractDataStructures(Ie,Ie,Ce).then(rt=>{if(Re){const Bt=[];let St=te;for(const jn of Re)Bt[St++]=this.xref.fetchIfRef(jn);rt.widths=Bt}else rt.widths=this.buildCharCodeToWidth(st.widths,rt);return new e.Font(Ve,gt,rt)})}let ce=de.get("FontName"),Ee=Ie.get("BaseFont");typeof ce=="string"&&(ce=O.Name.get(ce)),typeof Ee=="string"&&(Ee=O.Name.get(Ee));const ve=ce==null?void 0:ce.name,he=Ee==null?void 0:Ee.name;if(!be&&ve!==he&&((0,n.info)(`The FontDescriptor's FontName is "${ve}" but should be the same as the Font's BaseFont "${he}".`),ve&&he&&(he.startsWith(ve)||!(0,o.isKnownFontName)(ve)&&(0,o.isKnownFontName)(he))&&(ce=null)),ce||(ce=Ee),!(ce instanceof O.Name))throw new n.FormatError("invalid font name");let Fe,_e,Ne,Ze,tt;try{Fe=de.get("FontFile","FontFile2","FontFile3")}catch(Ve){if(!this.options.ignoreErrors)throw Ve;(0,n.warn)(`translateFont - fetching "${ce.name}" font file: "${Ve}".`),Fe=new i.NullStream}let je=!1,$e=null,He=null;if(Fe){if(Fe.dict){const Ve=Fe.dict.get("Subtype");Ve instanceof O.Name&&(_e=Ve.name),Ne=Fe.dict.get("Length1"),Ze=Fe.dict.get("Length2"),tt=Fe.dict.get("Length3")}}else if(le){const Ve=(0,H.getXfaFontName)(ce.name);Ve&&(le.fontFamily=`${le.fontFamily}-PdfJS-XFA`,le.metrics=Ve.metrics||null,$e=Ve.factors||null,Fe=await this.fetchStandardFontData(Ve.name),je=!!Fe,ge=Ie=(0,H.getXfaFontDict)(ce.name),Be=!0)}else if(!be){const Ve=(0,o.getStandardFontName)(ce.name);Ve&&(Fe=await this.fetchStandardFontData(Ve),je=!!Fe),!je&&this.options.useSystemFonts&&(He=(0,j.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,ce.name,Ve))}if(Ce={type:ee,name:ce.name,subtype:_e,file:Fe,length1:Ne,length2:Ze,length3:tt,isInternalFont:je,loadedName:ge.loadedName,composite:Be,fixedPitch:!1,fontMatrix:Ie.getArray("FontMatrix")||n.FONT_IDENTITY_MATRIX,firstChar:te,lastChar:fe,toUnicode:ue,bbox:de.getArray("FontBBox")||Ie.getArray("FontBBox"),ascent:de.get("Ascent"),descent:de.get("Descent"),xHeight:de.get("XHeight")||0,capHeight:de.get("CapHeight")||0,flags:de.get("Flags"),italicAngle:de.get("ItalicAngle")||0,isType3Font:be,cssFontInfo:le,scaleFactors:$e,systemFontInfo:He},Be){const Ve=ge.get("Encoding");Ve instanceof O.Name&&(Ce.cidEncoding=Ve.name);const st=await w.CMapFactory.create({encoding:Ve,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Ce.cMap=st,Ce.vertical=Ce.cMap.vertical}return this.extractDataStructures(Ie,ge,Ce).then(Ve=>(this.extractWidths(Ie,de,Ve),new e.Font(ce.name,Fe,Ve)))}static buildFontPaths(de,Ie,ge,Be){function ee(te){const fe=`${de.loadedName}_path_${te}`;try{if(de.renderer.hasBuiltPath(te))return;ge.send("commonobj",[fe,"FontPath",de.renderer.getPathJs(te)])}catch(ue){if(Be.ignoreErrors){(0,n.warn)(`buildFontPaths - ignoring ${fe} glyph: "${ue}".`);return}throw ue}}for(const te of Ie){ee(te.fontChar);const fe=te.accent;fe!=null&&fe.fontChar&&ee(fe.fontChar)}}static get fallbackFontDict(){const de=new O.Dict;return de.set("BaseFont",O.Name.get("Helvetica")),de.set("Type",O.Name.get("FallbackType")),de.set("Subtype",O.Name.get("FallbackType")),de.set("Encoding",O.Name.get("WinAnsiEncoding")),(0,n.shadow)(this,"fallbackFontDict",de)}}x.PartialEvaluator=h;class B{constructor({loadedName:de,font:Ie,dict:ge,evaluatorOptions:Be}){this.loadedName=de,this.font=Ie,this.dict=ge,this._evaluatorOptions=Be||b,this.type3Loaded=null,this.type3Dependencies=Ie.isType3Font?new Set:null,this.sent=!1}send(de){this.sent||(this.sent=!0,de.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(de){this.font.data&&(this.font.disableFontFace=!0,h.buildFontPaths(this.font,this.font.glyphCacheValues,de,this._evaluatorOptions))}loadType3Data(de,Ie,ge){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const Be=de.clone({ignoreErrors:!1});Be.parsingType3Font=!0;const ee=new O.RefSet(de.type3FontRefs);this.dict.objId&&!ee.has(this.dict.objId)&&ee.put(this.dict.objId),Be.type3FontRefs=ee;const te=this.font,fe=this.type3Dependencies;let ue=Promise.resolve();const le=this.dict.get("CharProcs"),be=this.dict.get("Resources")||Ie,Ce=Object.create(null),ce=n.Util.normalizeRect(te.bbox||[0,0,0,0]),Ee=ce[2]-ce[0],ve=ce[3]-ce[1],he=Math.hypot(Ee,ve);for(const Fe of le.getKeys())ue=ue.then(()=>{const _e=le.get(Fe),Ne=new W.OperatorList;return Be.getOperatorList({stream:_e,task:ge,resources:be,operatorList:Ne}).then(()=>{Ne.fnArray[0]===n.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Ne,he),Ce[Fe]=Ne.getIR();for(const Ze of Ne.dependencies)fe.add(Ze)}).catch(function(Ze){(0,n.warn)(`Type3 font resource "${Fe}" is not available.`);const tt=new W.OperatorList;Ce[Fe]=tt.getIR()})});return this.type3Loaded=ue.then(()=>{te.charProcOperatorList=Ce,this._bbox&&(te.isCharBBox=!0,te.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(de,Ie=NaN){const ge=n.Util.normalizeRect(de.argsArray[0].slice(2)),Be=ge[2]-ge[0],ee=ge[3]-ge[1],te=Math.hypot(Be,ee);Be===0||ee===0?(de.fnArray.splice(0,1),de.argsArray.splice(0,1)):(Ie===0||Math.round(te/Ie)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],ge[0]),this._bbox[1]=Math.min(this._bbox[1],ge[1]),this._bbox[2]=Math.max(this._bbox[2],ge[2]),this._bbox[3]=Math.max(this._bbox[3],ge[3]));let fe=0,ue=de.length;for(;fe<ue;){switch(de.fnArray[fe]){case n.OPS.setCharWidthAndBounds:break;case n.OPS.setStrokeColorSpace:case n.OPS.setFillColorSpace:case n.OPS.setStrokeColor:case n.OPS.setStrokeColorN:case n.OPS.setFillColor:case n.OPS.setFillColorN:case n.OPS.setStrokeGray:case n.OPS.setFillGray:case n.OPS.setStrokeRGBColor:case n.OPS.setFillRGBColor:case n.OPS.setStrokeCMYKColor:case n.OPS.setFillCMYKColor:case n.OPS.shadingFill:case n.OPS.setRenderingIntent:de.fnArray.splice(fe,1),de.argsArray.splice(fe,1),ue--;continue;case n.OPS.setGState:const[le]=de.argsArray[fe];let be=0,Ce=le.length;for(;be<Ce;){const[ce]=le[be];switch(ce){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":le.splice(be,1),Ce--;continue}be++}break}fe++}}}class r{constructor(de=new E){this.state=de,this.stateStack=[]}save(){const de=this.state;this.stateStack.push(this.state),this.state=de.clone()}restore(){const de=this.stateStack.pop();de&&(this.state=de)}transform(de){this.state.ctm=n.Util.transform(this.state.ctm,de)}}class A{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.textMatrix=n.IDENTITY_MATRIX.slice(),this.textLineMatrix=n.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(de,Ie,ge,Be,ee,te){const fe=this.textMatrix;fe[0]=de,fe[1]=Ie,fe[2]=ge,fe[3]=Be,fe[4]=ee,fe[5]=te}setTextLineMatrix(de,Ie,ge,Be,ee,te){const fe=this.textLineMatrix;fe[0]=de,fe[1]=Ie,fe[2]=ge,fe[3]=Be,fe[4]=ee,fe[5]=te}translateTextMatrix(de,Ie){const ge=this.textMatrix;ge[4]=ge[0]*de+ge[2]*Ie+ge[4],ge[5]=ge[1]*de+ge[3]*Ie+ge[5]}translateTextLineMatrix(de,Ie){const ge=this.textLineMatrix;ge[4]=ge[0]*de+ge[2]*Ie+ge[4],ge[5]=ge[1]*de+ge[3]*Ie+ge[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const de=Object.create(this);return de.textMatrix=this.textMatrix.slice(),de.textLineMatrix=this.textLineMatrix.slice(),de.fontMatrix=this.fontMatrix.slice(),de}}class E{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=n.TextRenderingMode.FILL,this.fillColorSpace=_.ColorSpace.singletons.gray,this.strokeColorSpace=_.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const Ae=class Ae{static get opMap(){return(0,n.shadow)(this,"opMap",{w:{id:n.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:n.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:n.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:n.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:n.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:n.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:n.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:n.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:n.OPS.save,numArgs:0,variableArgs:!1},Q:{id:n.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:n.OPS.transform,numArgs:6,variableArgs:!1},m:{id:n.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:n.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:n.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:n.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:n.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:n.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:n.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:n.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:n.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:n.OPS.fill,numArgs:0,variableArgs:!1},F:{id:n.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:n.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:n.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:n.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:n.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:n.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:n.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:n.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:n.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:n.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:n.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:n.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:n.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:n.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:n.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:n.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:n.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:n.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:n.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:n.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:n.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:n.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:n.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:n.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:n.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:n.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:n.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:n.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:n.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:n.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:n.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:n.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:n.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:n.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:n.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:n.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:n.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:n.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:n.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:n.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:n.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:n.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:n.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:n.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:n.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:n.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:n.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:n.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:n.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:n.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:n.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:n.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}constructor(de,Ie,ge=new r){this.parser=new f.Parser({lexer:new f.Lexer(de,Ae.opMap),xref:Ie}),this.stateManager=ge,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(de){let Ie=de.args;for(;;){const ge=this.parser.getObj();if(ge instanceof O.Cmd){const Be=ge.cmd,ee=Ae.opMap[Be];if(!ee){(0,n.warn)(`Unknown command "${Be}".`);continue}const te=ee.id,fe=ee.numArgs;let ue=Ie!==null?Ie.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=te>=n.OPS.moveTo&&te<=n.OPS.endPath,ee.variableArgs)ue>fe&&(0,n.info)(`Command ${Be}: expected [0, ${fe}] args, but received ${ue} args.`);else{if(ue!==fe){const le=this.nonProcessedArgs;for(;ue>fe;)le.push(Ie.shift()),ue--;for(;ue<fe&&le.length!==0;)Ie===null&&(Ie=[]),Ie.unshift(le.pop()),ue++}if(ue<fe){const le=`command ${Be}: expected ${fe} args, but received ${ue} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Ae.MAX_INVALID_PATH_OPS)throw new n.FormatError(`Invalid ${le}`);(0,n.warn)(`Skipping ${le}`),Ie!==null&&(Ie.length=0);continue}}return this.preprocessCommand(te,Ie),de.fn=te,de.args=Ie,!0}if(ge===O.EOF)return!1;if(ge!==null&&(Ie===null&&(Ie=[]),Ie.push(ge),Ie.length>33))throw new n.FormatError("Too many arguments")}}preprocessCommand(de,Ie){switch(de|0){case n.OPS.save:this.stateManager.save();break;case n.OPS.restore:this.stateManager.restore();break;case n.OPS.transform:this.stateManager.transform(Ie);break}}};yr(Ae,"MAX_INVALID_PATH_OPS",10);let G=Ae;x.EvaluatorPreprocessor=G},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.IdentityCMap=x.CMapFactory=x.CMap=void 0;var n=ie(2),w=ie(4),O=ie(5),e=ie(15),t=ie(16),o=ie(3),K=ie(8);const H=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],U=2**24-1;class P{constructor(b=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=b}addCodespaceRange(b,D,J){this.codespaceRanges[b-1].push(D,J),this.numCodespaceRanges++}mapCidRange(b,D,J){if(D-b>U)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;b<=D;)this._map[b++]=J++}mapBfRange(b,D,J){if(D-b>U)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const N=J.length-1;for(;b<=D;){this._map[b++]=J;const v=J.charCodeAt(N)+1;if(v>255){J=J.substring(0,N-1)+String.fromCharCode(J.charCodeAt(N-1)+1)+"\0";continue}J=J.substring(0,N)+String.fromCharCode(v)}}mapBfRangeToArray(b,D,J){if(D-b>U)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const N=J.length;let v=0;for(;b<=D&&v<N;)this._map[b]=J[v++],++b}mapOne(b,D){this._map[b]=D}lookup(b){return this._map[b]}contains(b){return this._map[b]!==void 0}forEach(b){const D=this._map,J=D.length;if(J<=65536)for(let N=0;N<J;N++)D[N]!==void 0&&b(N,D[N]);else for(const N in D)b(N,D[N])}charCodeOf(b){const D=this._map;if(D.length<=65536)return D.indexOf(b);for(const J in D)if(D[J]===b)return J|0;return-1}getMap(){return this._map}readCharCode(b,D,J){let N=0;const v=this.codespaceRanges;for(let S=0,I=v.length;S<I;S++){N=(N<<8|b.charCodeAt(D+S))>>>0;const h=v[S];for(let B=0,r=h.length;B<r;){const A=h[B++],E=h[B++];if(N>=A&&N<=E){J.charcode=N,J.length=S+1;return}}}J.charcode=0,J.length=1}getCharCodeLength(b){const D=this.codespaceRanges;for(let J=0,N=D.length;J<N;J++){const v=D[J];for(let S=0,I=v.length;S<I;){const h=v[S++],B=v[S++];if(b>=h&&b<=B)return J+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let b=0;b<65536;b++)if(this._map[b]!==b)return!1;return!0}}x.CMap=P;class f extends P{constructor(b,D){super(),this.vertical=b,this.addCodespaceRange(D,0,65535)}mapCidRange(b,D,J){(0,n.unreachable)("should not call mapCidRange")}mapBfRange(b,D,J){(0,n.unreachable)("should not call mapBfRange")}mapBfRangeToArray(b,D,J){(0,n.unreachable)("should not call mapBfRangeToArray")}mapOne(b,D){(0,n.unreachable)("should not call mapCidOne")}lookup(b){return Number.isInteger(b)&&b<=65535?b:void 0}contains(b){return Number.isInteger(b)&&b<=65535}forEach(b){for(let D=0;D<=65535;D++)b(D,D)}charCodeOf(b){return Number.isInteger(b)&&b<=65535?b:-1}getMap(){const b=new Array(65536);for(let D=0;D<=65535;D++)b[D]=D;return b}get length(){return 65536}get isIdentityCMap(){(0,n.unreachable)("should not access .isIdentityCMap")}}x.IdentityCMap=f;function p(u){let b=0;for(let D=0;D<u.length;D++)b=b<<8|u.charCodeAt(D);return b>>>0}function i(u){if(typeof u!="string")throw new n.FormatError("Malformed CMap: expected string.")}function k(u){if(!Number.isInteger(u))throw new n.FormatError("Malformed CMap: expected int.")}function F(u,b){for(;;){let D=b.getObj();if(D===w.EOF)break;if((0,w.isCmd)(D,"endbfchar"))return;i(D);const J=p(D);D=b.getObj(),i(D);const N=D;u.mapOne(J,N)}}function _(u,b){for(;;){let D=b.getObj();if(D===w.EOF)break;if((0,w.isCmd)(D,"endbfrange"))return;i(D);const J=p(D);D=b.getObj(),i(D);const N=p(D);if(D=b.getObj(),Number.isInteger(D)||typeof D=="string"){const v=Number.isInteger(D)?String.fromCharCode(D):D;u.mapBfRange(J,N,v)}else if((0,w.isCmd)(D,"[")){D=b.getObj();const v=[];for(;!(0,w.isCmd)(D,"]")&&D!==w.EOF;)v.push(D),D=b.getObj();u.mapBfRangeToArray(J,N,v)}else break}throw new n.FormatError("Invalid bf range.")}function C(u,b){for(;;){let D=b.getObj();if(D===w.EOF)break;if((0,w.isCmd)(D,"endcidchar"))return;i(D);const J=p(D);D=b.getObj(),k(D);const N=D;u.mapOne(J,N)}}function Q(u,b){for(;;){let D=b.getObj();if(D===w.EOF)break;if((0,w.isCmd)(D,"endcidrange"))return;i(D);const J=p(D);D=b.getObj(),i(D);const N=p(D);D=b.getObj(),k(D);const v=D;u.mapCidRange(J,N,v)}}function j(u,b){for(;;){let D=b.getObj();if(D===w.EOF)break;if((0,w.isCmd)(D,"endcodespacerange"))return;if(typeof D!="string")break;const J=p(D);if(D=b.getObj(),typeof D!="string")break;const N=p(D);u.addCodespaceRange(D.length,J,N)}throw new n.FormatError("Invalid codespace range.")}function re(u,b){const D=b.getObj();Number.isInteger(D)&&(u.vertical=!!D)}function T(u,b){const D=b.getObj();D instanceof w.Name&&(u.name=D.name)}async function R(u,b,D,J){let N,v;e:for(;;)try{const S=b.getObj();if(S===w.EOF)break;if(S instanceof w.Name)S.name==="WMode"?re(u,b):S.name==="CMapName"&&T(u,b),N=S;else if(S instanceof w.Cmd)switch(S.cmd){case"endcmap":break e;case"usecmap":N instanceof w.Name&&(v=N.name);break;case"begincodespacerange":j(u,b);break;case"beginbfchar":F(u,b);break;case"begincidchar":C(u,b);break;case"beginbfrange":_(u,b);break;case"begincidrange":Q(u,b);break}}catch(S){if(S instanceof o.MissingDataException)throw S;(0,n.warn)("Invalid cMap data: "+S);continue}return!J&&v&&(J=v),J?d(u,D,J):u}async function d(u,b,D){if(u.useCMap=await y(D,b),u.numCodespaceRanges===0){const J=u.useCMap.codespaceRanges;for(let N=0;N<J.length;N++)u.codespaceRanges[N]=J[N].slice();u.numCodespaceRanges=u.useCMap.numCodespaceRanges}return u.useCMap.forEach(function(J,N){u.contains(J)||u.mapOne(J,u.useCMap.lookup(J))}),u}async function y(u,b){if(u==="Identity-H")return new f(!1,2);if(u==="Identity-V")return new f(!0,2);if(!H.includes(u))throw new Error("Unknown CMap name: "+u);if(!b)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:D,compressionType:J}=await b(u),N=new P(!0);if(J===n.CMapCompressionType.BINARY)return new e.BinaryCMapReader().process(D,N,v=>d(N,b,v));if(J===n.CMapCompressionType.NONE){const v=new t.Lexer(new K.Stream(D));return R(N,v,b,null)}throw new Error(`Invalid CMap "compressionType" value: ${J}`)}class W{static async create({encoding:b,fetchBuiltInCMap:D,useCMap:J}){if(b instanceof w.Name)return y(b.name,D);if(b instanceof O.BaseStream){const N=await R(new P,new t.Lexer(b),D,J);return N.isIdentityCMap?y(N.name,D):N}throw new Error("Encoding required.")}}x.CMapFactory=W},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.BinaryCMapReader=void 0;var n=ie(2);function w(P,f){let p=0;for(let i=0;i<=f;i++)p=p<<8|P[i];return p>>>0}function O(P,f){return f===1?String.fromCharCode(P[0],P[1]):f===3?String.fromCharCode(P[0],P[1],P[2],P[3]):String.fromCharCode(...P.subarray(0,f+1))}function e(P,f,p){let i=0;for(let k=p;k>=0;k--)i+=P[k]+f[k],P[k]=i&255,i>>=8}function t(P,f){let p=1;for(let i=f;i>=0&&p>0;i--)p+=P[i],P[i]=p&255,p>>=8}const o=16,K=19;class H{constructor(f){this.buffer=f,this.pos=0,this.end=f.length,this.tmpBuf=new Uint8Array(K)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let f=0,p;do{const i=this.readByte();if(i<0)throw new n.FormatError("unexpected EOF in bcmap");p=!(i&128),f=f<<7|i&127}while(!p);return f}readSigned(){const f=this.readNumber();return f&1?~(f>>>1):f>>>1}readHex(f,p){f.set(this.buffer.subarray(this.pos,this.pos+p+1)),this.pos+=p+1}readHexNumber(f,p){let i;const k=this.tmpBuf;let F=0;do{const j=this.readByte();if(j<0)throw new n.FormatError("unexpected EOF in bcmap");i=!(j&128),k[F++]=j&127}while(!i);let _=p,C=0,Q=0;for(;_>=0;){for(;Q<8&&k.length>0;)C|=k[--F]<<Q,Q+=7;f[_]=C&255,_--,C>>=8,Q-=8}}readHexSigned(f,p){this.readHexNumber(f,p);const i=f[p]&1?255:0;let k=0;for(let F=0;F<=p;F++)k=(k&1)<<8|f[F],f[F]=k>>1^i}readString(){const f=this.readNumber(),p=new Array(f);for(let i=0;i<f;i++)p[i]=this.readNumber();return String.fromCharCode(...p)}}class U{async process(f,p,i){const k=new H(f),F=k.readByte();p.vertical=!!(F&1);let _=null;const C=new Uint8Array(o),Q=new Uint8Array(o),j=new Uint8Array(o),re=new Uint8Array(o),T=new Uint8Array(o);let R,d;for(;(d=k.readByte())>=0;){const y=d>>5;if(y===7){switch(d&31){case 0:k.readString();break;case 1:_=k.readString();break}continue}const W=!!(d&16),u=d&15;if(u+1>o)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const b=1,D=k.readNumber();switch(y){case 0:k.readHex(C,u),k.readHexNumber(Q,u),e(Q,C,u),p.addCodespaceRange(u+1,w(C,u),w(Q,u));for(let J=1;J<D;J++)t(Q,u),k.readHexNumber(C,u),e(C,Q,u),k.readHexNumber(Q,u),e(Q,C,u),p.addCodespaceRange(u+1,w(C,u),w(Q,u));break;case 1:k.readHex(C,u),k.readHexNumber(Q,u),e(Q,C,u),k.readNumber();for(let J=1;J<D;J++)t(Q,u),k.readHexNumber(C,u),e(C,Q,u),k.readHexNumber(Q,u),e(Q,C,u),k.readNumber();break;case 2:k.readHex(j,u),R=k.readNumber(),p.mapOne(w(j,u),R);for(let J=1;J<D;J++)t(j,u),W||(k.readHexNumber(T,u),e(j,T,u)),R=k.readSigned()+(R+1),p.mapOne(w(j,u),R);break;case 3:k.readHex(C,u),k.readHexNumber(Q,u),e(Q,C,u),R=k.readNumber(),p.mapCidRange(w(C,u),w(Q,u),R);for(let J=1;J<D;J++)t(Q,u),W?C.set(Q):(k.readHexNumber(C,u),e(C,Q,u)),k.readHexNumber(Q,u),e(Q,C,u),R=k.readNumber(),p.mapCidRange(w(C,u),w(Q,u),R);break;case 4:k.readHex(j,b),k.readHex(re,u),p.mapOne(w(j,b),O(re,u));for(let J=1;J<D;J++)t(j,b),W||(k.readHexNumber(T,b),e(j,T,b)),t(re,u),k.readHexSigned(T,u),e(re,T,u),p.mapOne(w(j,b),O(re,u));break;case 5:k.readHex(C,b),k.readHexNumber(Q,b),e(Q,C,b),k.readHex(re,u),p.mapBfRange(w(C,b),w(Q,b),O(re,u));for(let J=1;J<D;J++)t(Q,b),W?C.set(Q):(k.readHexNumber(C,b),e(C,Q,b)),k.readHexNumber(Q,b),e(Q,C,b),k.readHex(re,u),p.mapBfRange(w(C,b),w(Q,b),O(re,u));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${y}`)}}return _?i(_):p}}x.BinaryCMapReader=U},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Parser=x.Linearization=x.Lexer=void 0;var n=ie(2),w=ie(4),O=ie(3),e=ie(8),t=ie(17),o=ie(19),K=ie(20),H=ie(22),U=ie(23),P=ie(26),f=ie(29),p=ie(31),i=ie(32),k=ie(33);const F=1e3;function _(R){const d=[],y=R.length;let W=0;for(;W<y-1;)d.push(R[W++]<<8|R[W++]);return W<y&&d.push(R[W]),y+"_"+String.fromCharCode.apply(null,d)}class C{constructor({lexer:d,xref:y,allowStreams:W=!1,recoveryMode:u=!1}){this.lexer=d,this.xref=y,this.allowStreams=W,this.recoveryMode=u,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof w.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(d){if(d instanceof O.MissingDataException)throw d;return!1}}getObj(d=null){const y=this.buf1;if(this.shift(),y instanceof w.Cmd)switch(y.cmd){case"BI":return this.makeInlineImage(d);case"[":const W=[];for(;!(0,w.isCmd)(this.buf1,"]")&&this.buf1!==w.EOF;)W.push(this.getObj(d));if(this.buf1===w.EOF){if(this.recoveryMode)return W;throw new O.ParserEOFException("End of file inside array.")}return this.shift(),W;case"<<":const u=new w.Dict(this.xref);for(;!(0,w.isCmd)(this.buf1,">>")&&this.buf1!==w.EOF;){if(!(this.buf1 instanceof w.Name)){(0,n.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const b=this.buf1.name;if(this.shift(),this.buf1===w.EOF)break;u.set(b,this.getObj(d))}if(this.buf1===w.EOF){if(this.recoveryMode)return u;throw new O.ParserEOFException("End of file inside dictionary.")}return(0,w.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(u,d):u:(this.shift(),u);default:return y}if(Number.isInteger(y)){if(Number.isInteger(this.buf1)&&(0,w.isCmd)(this.buf2,"R")){const W=w.Ref.get(y,this.buf1);return this.shift(),this.shift(),W}return y}return typeof y=="string"&&d?d.decryptString(y):y}findDefaultInlineStreamEnd(d){const{knownCommands:N}=this.lexer,v=d.pos,S=15;let I=0,h,B;for(;(h=d.getByte())!==-1;)if(I===0)I=h===69?1:0;else if(I===1)I=h===73?2:0;else if(h===32||h===10||h===13){B=d.pos;const A=d.peekBytes(S),E=A.length;if(E===0)break;for(let Ae=0;Ae<E;Ae++)if(h=A[Ae],!(h===0&&A[Ae+1]!==0)&&h!==10&&h!==13&&(h<32||h>127)){I=0;break}if(I!==2)continue;if(!N){(0,n.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const G=new re(new e.Stream(A.slice()),N);G._hexStringWarn=()=>{};let se=0;for(;;){const Ae=G.getObj();if(Ae===w.EOF){I=0;break}if(Ae instanceof w.Cmd){const ke=N[Ae.cmd];if(ke){if(ke.variableArgs?se<=ke.numArgs:se===ke.numArgs)break}else{I=0;break}se=0;continue}se++}if(I===2)break}else I=0;h===-1&&((0,n.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),B&&((0,n.warn)('... trying to recover by using the last "EI" occurrence.'),d.skip(-(d.pos-B))));let r=4;return d.skip(-r),h=d.peekByte(),d.skip(r),(0,O.isWhiteSpace)(h)||r--,d.pos-r-v}findDCTDecodeInlineStreamEnd(d){const y=d.pos;let W=!1,u,b;for(;(u=d.getByte())!==-1;)if(u===255){switch(d.getByte()){case 0:break;case 255:d.skip(-1);break;case 217:W=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:b=d.getUint16(),b>2?d.skip(b-2):d.skip(-2);break}if(W)break}const D=d.pos-y;return u===-1?((0,n.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),d.skip(-D),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),D)}findASCII85DecodeInlineStreamEnd(d){const u=d.pos;let b;for(;(b=d.getByte())!==-1;)if(b===126){const J=d.pos;for(b=d.peekByte();(0,O.isWhiteSpace)(b);)d.skip(),b=d.peekByte();if(b===62){d.skip();break}if(d.pos>J){const N=d.peekBytes(2);if(N[0]===69&&N[1]===73)break}}const D=d.pos-u;return b===-1?((0,n.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),d.skip(-D),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),D)}findASCIIHexDecodeInlineStreamEnd(d){const W=d.pos;let u;for(;(u=d.getByte())!==-1&&u!==62;);const b=d.pos-W;return u===-1?((0,n.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),d.skip(-b),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),b)}inlineStreamSkipEI(d){let u=0,b;for(;(b=d.getByte())!==-1;)if(u===0)u=b===69?1:0;else if(u===1)u=b===73?2:0;else if(u===2)break}makeInlineImage(d){const y=this.lexer,W=y.stream,u=Object.create(null);let b;for(;!(0,w.isCmd)(this.buf1,"ID")&&this.buf1!==w.EOF;){if(!(this.buf1 instanceof w.Name))throw new n.FormatError("Dictionary key must be a name object");const B=this.buf1.name;if(this.shift(),this.buf1===w.EOF)break;u[B]=this.getObj(d)}y.beginInlineImagePos!==-1&&(b=W.pos-y.beginInlineImagePos);const D=this.xref.fetchIfRef(u.F||u.Filter);let J;if(D instanceof w.Name)J=D.name;else if(Array.isArray(D)){const B=this.xref.fetchIfRef(D[0]);B instanceof w.Name&&(J=B.name)}const N=W.pos;let v;switch(J){case"DCT":case"DCTDecode":v=this.findDCTDecodeInlineStreamEnd(W);break;case"A85":case"ASCII85Decode":v=this.findASCII85DecodeInlineStreamEnd(W);break;case"AHx":case"ASCIIHexDecode":v=this.findASCIIHexDecodeInlineStreamEnd(W);break;default:v=this.findDefaultInlineStreamEnd(W)}let S;if(v<F&&b>0){const B=W.pos;W.pos=y.beginInlineImagePos,S=_(W.getBytes(b+v)),W.pos=B;const r=this.imageCache[S];if(r!==void 0)return this.buf2=w.Cmd.get("EI"),this.shift(),r.reset(),r}const I=new w.Dict(this.xref);for(const B in u)I.set(B,u[B]);let h=W.makeSubStream(N,v,I);return d&&(h=d.createStream(h,v)),h=this.filter(h,I,v),h.dict=I,S!==void 0&&(h.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[S]=h),this.buf2=w.Cmd.get("EI"),this.shift(),h}_findStreamLength(d,y){const{stream:W}=this.lexer;W.pos=d;const u=2048,b=y.length;for(;W.pos<W.end;){const D=W.peekBytes(u),J=D.length-b;if(J<=0)break;let N=0;for(;N<J;){let v=0;for(;v<b&&D[N+v]===y[v];)v++;if(v>=b)return W.pos+=N,W.pos-d;N++}W.pos+=J}return-1}makeStream(d,y){const W=this.lexer;let u=W.stream;W.skipToNextLine();const b=u.pos-1;let D=d.get("Length");if(Number.isInteger(D)||((0,n.info)(`Bad length "${D&&D.toString()}" in stream.`),D=0),u.pos=b+D,W.nextChar(),this.tryShift()&&(0,w.isCmd)(this.buf2,"endstream"))this.shift();else{const J=new Uint8Array([101,110,100,115,116,114,101,97,109]);let N=this._findStreamLength(b,J);if(N<0){for(let S=1;S<=1;S++){const I=J.length-S,h=J.slice(0,I),B=this._findStreamLength(b,h);if(B>=0){const r=u.peekBytes(I+1)[I];if(!(0,O.isWhiteSpace)(r))break;(0,n.info)(`Found "${(0,n.bytesToString)(h)}" when searching for endstream command.`),N=B;break}}if(N<0)throw new n.FormatError("Missing endstream command.")}D=N,W.nextChar(),this.shift(),this.shift()}return this.shift(),u=u.makeSubStream(b,D,d),y&&(u=y.createStream(u,D)),u=this.filter(u,d,D),u.dict=d,u}filter(d,y,W){let u=y.get("F","Filter"),b=y.get("DP","DecodeParms");if(u instanceof w.Name)return Array.isArray(b)&&(0,n.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(d,u.name,W,b);let D=W;if(Array.isArray(u)){const J=u,N=b;for(let v=0,S=J.length;v<S;++v){if(u=this.xref.fetchIfRef(J[v]),!(u instanceof w.Name))throw new n.FormatError(`Bad filter name "${u}"`);b=null,Array.isArray(N)&&v in N&&(b=this.xref.fetchIfRef(N[v])),d=this.makeFilter(d,u.name,D,b),D=null}}return d}makeFilter(d,y,W,u){if(W===0)return(0,n.warn)(`Empty "${y}" stream.`),new e.NullStream;try{switch(y){case"Fl":case"FlateDecode":return u?new i.PredictorStream(new H.FlateStream(d,W),W,u):new H.FlateStream(d,W);case"LZW":case"LZWDecode":let b=1;return u?(u.has("EarlyChange")&&(b=u.get("EarlyChange")),new i.PredictorStream(new p.LZWStream(d,W,b),W,u)):new p.LZWStream(d,W,b);case"DCT":case"DCTDecode":return new P.JpegStream(d,W,u);case"JPX":case"JPXDecode":return new f.JpxStream(d,W,u);case"A85":case"ASCII85Decode":return new t.Ascii85Stream(d,W);case"AHx":case"ASCIIHexDecode":return new o.AsciiHexStream(d,W);case"CCF":case"CCITTFaxDecode":return new K.CCITTFaxStream(d,W,u);case"RL":case"RunLengthDecode":return new k.RunLengthStream(d,W);case"JBIG2Decode":return new U.Jbig2Stream(d,W,u)}return(0,n.warn)(`Filter "${y}" is not supported.`),d}catch(b){if(b instanceof O.MissingDataException)throw b;return(0,n.warn)(`Invalid stream: "${b}"`),new e.NullStream}}}x.Parser=C;const Q=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function j(R){return R>=48&&R<=57?R&15:R>=65&&R<=70||R>=97&&R<=102?(R&15)+9:-1}class re{constructor(d,y=null){this.stream=d,this.nextChar(),this.strBuf=[],this.knownCommands=y,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let d=this.currentChar,y=!1,W=0,u=1;if(d===45?(u=-1,d=this.nextChar(),d===45&&(d=this.nextChar())):d===43&&(d=this.nextChar()),d===10||d===13)do d=this.nextChar();while(d===10||d===13);if(d===46&&(W=10,d=this.nextChar()),d<48||d>57){const N=`Invalid number: ${String.fromCharCode(d)} (charCode ${d})`;if((0,O.isWhiteSpace)(d)||d===-1)return(0,n.info)(`Lexer.getNumber - "${N}".`),0;throw new n.FormatError(N)}let b=d-48,D=0,J=1;for(;(d=this.nextChar())>=0;)if(d>=48&&d<=57){const N=d-48;y?D=D*10+N:(W!==0&&(W*=10),b=b*10+N)}else if(d===46)if(W===0)W=1;else break;else if(d===45)(0,n.warn)("Badly formatted number: minus sign in the middle");else if(d===69||d===101){if(d=this.peekChar(),d===43||d===45)J=d===45?-1:1,this.nextChar();else if(d<48||d>57)break;y=!0}else break;return W!==0&&(b/=W),y&&(b*=10**(J*D)),u*b}getString(){let d=1,y=!1;const W=this.strBuf;W.length=0;let u=this.nextChar();for(;;){let b=!1;switch(u|0){case-1:(0,n.warn)("Unterminated string"),y=!0;break;case 40:++d,W.push("(");break;case 41:--d===0?(this.nextChar(),y=!0):W.push(")");break;case 92:switch(u=this.nextChar(),u){case-1:(0,n.warn)("Unterminated string"),y=!0;break;case 110:W.push(`
`);break;case 114:W.push("\r");break;case 116:W.push("	");break;case 98:W.push("\b");break;case 102:W.push("\f");break;case 92:case 40:case 41:W.push(String.fromCharCode(u));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let D=u&15;u=this.nextChar(),b=!0,u>=48&&u<=55&&(D=(D<<3)+(u&15),u=this.nextChar(),u>=48&&u<=55&&(b=!1,D=(D<<3)+(u&15))),W.push(String.fromCharCode(D));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:W.push(String.fromCharCode(u));break}break;default:W.push(String.fromCharCode(u));break}if(y)break;b||(u=this.nextChar())}return W.join("")}getName(){let d,y;const W=this.strBuf;for(W.length=0;(d=this.nextChar())>=0&&!Q[d];)if(d===35){if(d=this.nextChar(),Q[d]){(0,n.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),W.push("#");break}const u=j(d);if(u!==-1){y=d,d=this.nextChar();const b=j(d);if(b===-1){if((0,n.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(d)}) in hexadecimal number.`),W.push("#",String.fromCharCode(y)),Q[d])break;W.push(String.fromCharCode(d));continue}W.push(String.fromCharCode(u<<4|b))}else W.push("#",String.fromCharCode(d))}else W.push(String.fromCharCode(d));return W.length>127&&(0,n.warn)(`Name token is longer than allowed by the spec: ${W.length}`),w.Name.get(W.join(""))}_hexStringWarn(d){if(this._hexStringNumWarn++===5){(0,n.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,n.warn)(`getHexString - ignoring invalid character: ${d}`)}getHexString(){const d=this.strBuf;d.length=0;let y=this.currentChar,W=!0,u,b;for(this._hexStringNumWarn=0;;)if(y<0){(0,n.warn)("Unterminated hex string");break}else if(y===62){this.nextChar();break}else if(Q[y]===1){y=this.nextChar();continue}else{if(W){if(u=j(y),u===-1){this._hexStringWarn(y),y=this.nextChar();continue}}else{if(b=j(y),b===-1){this._hexStringWarn(y),y=this.nextChar();continue}d.push(String.fromCharCode(u<<4|b))}W=!W,y=this.nextChar()}return d.join("")}getObj(){let d=!1,y=this.currentChar;for(;;){if(y<0)return w.EOF;if(d)(y===10||y===13)&&(d=!1);else if(y===37)d=!0;else if(Q[y]!==1)break;y=this.nextChar()}switch(y|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),w.Cmd.get("[");case 93:return this.nextChar(),w.Cmd.get("]");case 60:return y=this.nextChar(),y===60?(this.nextChar(),w.Cmd.get("<<")):this.getHexString();case 62:return y=this.nextChar(),y===62?(this.nextChar(),w.Cmd.get(">>")):w.Cmd.get(">");case 123:return this.nextChar(),w.Cmd.get("{");case 125:return this.nextChar(),w.Cmd.get("}");case 41:throw this.nextChar(),new n.FormatError(`Illegal character: ${y}`)}let W=String.fromCharCode(y);if(y<32||y>127){const D=this.peekChar();if(D>=32&&D<=127)return this.nextChar(),w.Cmd.get(W)}const u=this.knownCommands;let b=(u==null?void 0:u[W])!==void 0;for(;(y=this.nextChar())>=0&&!Q[y];){const D=W+String.fromCharCode(y);if(b&&u[D]===void 0)break;if(W.length===128)throw new n.FormatError(`Command token too long: ${W.length}`);W=D,b=(u==null?void 0:u[W])!==void 0}return W==="true"?!0:W==="false"?!1:W==="null"?null:(W==="BI"&&(this.beginInlineImagePos=this.stream.pos),w.Cmd.get(W))}skipToNextLine(){let d=this.currentChar;for(;d>=0;){if(d===13){d=this.nextChar(),d===10&&this.nextChar();break}else if(d===10){this.nextChar();break}d=this.nextChar()}}}x.Lexer=re;class T{static create(d){function y(I,h,B=!1){const r=I.get(h);if(Number.isInteger(r)&&(B?r>=0:r>0))return r;throw new Error(`The "${h}" parameter in the linearization dictionary is invalid.`)}function W(I){const h=I.get("H");let B;if(Array.isArray(h)&&((B=h.length)===2||B===4)){for(let r=0;r<B;r++){const A=h[r];if(!(Number.isInteger(A)&&A>0))throw new Error(`Hint (${r}) in the linearization dictionary is invalid.`)}return h}throw new Error("Hint array in the linearization dictionary is invalid.")}const u=new C({lexer:new re(d),xref:null}),b=u.getObj(),D=u.getObj(),J=u.getObj(),N=u.getObj();let v,S;if(Number.isInteger(b)&&Number.isInteger(D)&&(0,w.isCmd)(J,"obj")&&N instanceof w.Dict&&typeof(v=N.get("Linearized"))=="number"&&v>0){if((S=y(N,"L"))!==d.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:S,hints:W(N),objectNumberFirst:y(N,"O"),endFirst:y(N,"E"),numPages:y(N,"N"),mainXRefEntriesOffset:y(N,"T"),pageFirst:N.has("P")?y(N,"P",!0):0}}}x.Linearization=T},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Ascii85Stream=void 0;var n=ie(18),w=ie(3);class O extends n.DecodeStream{constructor(t,o){o&&(o*=.8),super(o),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const H=this.str;let U=H.getByte();for(;(0,w.isWhiteSpace)(U);)U=H.getByte();if(U===-1||U===126){this.eof=!0;return}const P=this.bufferLength;let f,p;if(U===122){for(f=this.ensureBuffer(P+4),p=0;p<4;++p)f[P+p]=0;this.bufferLength+=4}else{const i=this.input;for(i[0]=U,p=1;p<5;++p){for(U=H.getByte();(0,w.isWhiteSpace)(U);)U=H.getByte();if(i[p]=U,U===-1||U===126)break}if(f=this.ensureBuffer(P+p-1),this.bufferLength+=p-1,p<5){for(;p<5;++p)i[p]=117;this.eof=!0}let k=0;for(p=0;p<5;++p)k=k*85+(i[p]-33);for(p=3;p>=0;--p)f[P+p]=k&255,k>>=8}}}x.Ascii85Stream=O},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.StreamsSequenceStream=x.DecodeStream=void 0;var n=ie(5),w=ie(8);const O=new Uint8Array(0);class e extends n.BaseStream{constructor(K){if(super(),this._rawMinBufferLength=K||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=O,this.minBufferLength=512,K)for(;this.minBufferLength<K;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(K){const H=this.buffer;if(K<=H.byteLength)return H;let U=this.minBufferLength;for(;U<K;)U*=2;const P=new Uint8Array(U);return P.set(H),this.buffer=P}getByte(){const K=this.pos;for(;this.bufferLength<=K;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(K){const H=this.pos;let U;if(K){for(this.ensureBuffer(H+K),U=H+K;!this.eof&&this.bufferLength<U;)this.readBlock();const P=this.bufferLength;U>P&&(U=P)}else{for(;!this.eof;)this.readBlock();U=this.bufferLength}return this.pos=U,this.buffer.subarray(H,U)}reset(){this.pos=0}makeSubStream(K,H,U=null){if(H===void 0)for(;!this.eof;)this.readBlock();else{const P=K+H;for(;this.bufferLength<=P&&!this.eof;)this.readBlock()}return new w.Stream(this.buffer,K,H,U)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}x.DecodeStream=e;class t extends e{constructor(K,H=null){let U=0;for(const P of K)U+=P instanceof e?P._rawMinBufferLength:P.length;super(U),this.streams=K,this._onError=H}readBlock(){var i;const K=this.streams;if(K.length===0){this.eof=!0;return}const H=K.shift();let U;try{U=H.getBytes()}catch(k){if(this._onError){this._onError(k,(i=H.dict)==null?void 0:i.objId);return}throw k}const P=this.bufferLength,f=P+U.length;this.ensureBuffer(f).set(U,P),this.bufferLength=f}getBaseStreams(){const K=[];for(const H of this.streams){const U=H.getBaseStreams();U&&K.push(...U)}return K.length>0?K:null}}x.StreamsSequenceStream=t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.AsciiHexStream=void 0;var n=ie(18);class w extends n.DecodeStream{constructor(e,t){t&&(t*=.5),super(t),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const t=this.str.getBytes(8e3);if(!t.length){this.eof=!0;return}const o=t.length+1>>1,K=this.ensureBuffer(this.bufferLength+o);let H=this.bufferLength,U=this.firstDigit;for(const P of t){let f;if(P>=48&&P<=57)f=P&15;else if(P>=65&&P<=70||P>=97&&P<=102)f=(P&15)+9;else if(P===62){this.eof=!0;break}else continue;U<0?U=f:(K[H++]=U<<4|f,U=-1)}U>=0&&this.eof&&(K[H++]=U<<4,U=-1),this.firstDigit=U,this.bufferLength=H}}x.AsciiHexStream=w},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.CCITTFaxStream=void 0;var n=ie(21),w=ie(18),O=ie(4);class e extends w.DecodeStream{constructor(o,K,H){super(K),this.str=o,this.dict=o.dict,H instanceof O.Dict||(H=O.Dict.empty);const U={next(){return o.getByte()}};this.ccittFaxDecoder=new n.CCITTFaxDecoder(U,{K:H.get("K"),EndOfLine:H.get("EndOfLine"),EncodedByteAlign:H.get("EncodedByteAlign"),Columns:H.get("Columns"),Rows:H.get("Rows"),EndOfBlock:H.get("EndOfBlock"),BlackIs1:H.get("BlackIs1")})}readBlock(){for(;!this.eof;){const o=this.ccittFaxDecoder.readNextChar();if(o===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=o}}}x.CCITTFaxStream=e},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.CCITTFaxDecoder=void 0;var n=ie(2);const w=-2,O=-1,e=0,t=1,o=2,K=3,H=4,U=5,P=6,f=7,p=8,i=[[-1,-1],[-1,-1],[7,p],[7,f],[6,P],[6,P],[6,U],[6,U],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,H],[3,H],[3,H],[3,H],[3,H],[3,H],[3,H],[3,H],[3,H],[3,H],[3,H],[3,H],[3,H],[3,H],[3,H],[3,H],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o]],k=[[-1,-1],[12,w],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],F=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],_=[[-1,-1],[-1,-1],[12,w],[12,w],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],C=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],Q=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class j{constructor(T,R={}){if(!T||typeof T.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=T,this.eof=!1,this.encoding=R.K||0,this.eoline=R.EndOfLine||!1,this.byteAlign=R.EncodedByteAlign||!1,this.columns=R.Columns||1728,this.rows=R.Rows||0,this.eoblock=R.EndOfBlock??!0,this.black=R.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let d;for(;(d=this._lookBits(12))===0;)this._eatBits(1);d===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const T=this.refLine,R=this.codingLine,d=this.columns;let y,W,u,b;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let J,N,v;if(this.nextLine2D){for(b=0;R[b]<d;++b)T[b]=R[b];for(T[b++]=d,T[b]=d,R[0]=0,this.codingPos=0,y=0,W=0;R[this.codingPos]<d;)switch(J=this._getTwoDimCode(),J){case e:this._addPixels(T[y+1],W),T[y+1]<d&&(y+=2);break;case t:if(J=N=0,W){do J+=v=this._getBlackCode();while(v>=64);do N+=v=this._getWhiteCode();while(v>=64)}else{do J+=v=this._getWhiteCode();while(v>=64);do N+=v=this._getBlackCode();while(v>=64)}for(this._addPixels(R[this.codingPos]+J,W),R[this.codingPos]<d&&this._addPixels(R[this.codingPos]+N,W^1);T[y]<=R[this.codingPos]&&T[y]<d;)y+=2;break;case f:if(this._addPixels(T[y]+3,W),W^=1,R[this.codingPos]<d)for(++y;T[y]<=R[this.codingPos]&&T[y]<d;)y+=2;break;case U:if(this._addPixels(T[y]+2,W),W^=1,R[this.codingPos]<d)for(++y;T[y]<=R[this.codingPos]&&T[y]<d;)y+=2;break;case K:if(this._addPixels(T[y]+1,W),W^=1,R[this.codingPos]<d)for(++y;T[y]<=R[this.codingPos]&&T[y]<d;)y+=2;break;case o:if(this._addPixels(T[y],W),W^=1,R[this.codingPos]<d)for(++y;T[y]<=R[this.codingPos]&&T[y]<d;)y+=2;break;case p:if(this._addPixelsNeg(T[y]-3,W),W^=1,R[this.codingPos]<d)for(y>0?--y:++y;T[y]<=R[this.codingPos]&&T[y]<d;)y+=2;break;case P:if(this._addPixelsNeg(T[y]-2,W),W^=1,R[this.codingPos]<d)for(y>0?--y:++y;T[y]<=R[this.codingPos]&&T[y]<d;)y+=2;break;case H:if(this._addPixelsNeg(T[y]-1,W),W^=1,R[this.codingPos]<d)for(y>0?--y:++y;T[y]<=R[this.codingPos]&&T[y]<d;)y+=2;break;case O:this._addPixels(d,0),this.eof=!0;break;default:(0,n.info)("bad 2d code"),this._addPixels(d,0),this.err=!0}}else for(R[0]=0,this.codingPos=0,W=0;R[this.codingPos]<d;){if(J=0,W)do J+=v=this._getBlackCode();while(v>=64);else do J+=v=this._getWhiteCode();while(v>=64);this._addPixels(R[this.codingPos]+J,W),W^=1}let S=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(J=this._lookBits(12),this.eoline)for(;J!==O&&J!==1;)this._eatBits(1),J=this._lookBits(12);else for(;J===0;)this._eatBits(1),J=this._lookBits(12);J===1?(this._eatBits(12),S=!0):J===O&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&S&&this.byteAlign){if(J=this._lookBits(12),J===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(b=0;b<4;++b)J=this._lookBits(12),J!==1&&(0,n.info)("bad rtc code: "+J),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(J=this._lookBits(13),J===O)return this.eof=!0,-1;if(J>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(J&1))}this.outputBits=R[0]>0?R[this.codingPos=0]:R[this.codingPos=1],this.row++}let D;if(this.outputBits>=8)D=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&R[this.codingPos]<d&&(this.codingPos++,this.outputBits=R[this.codingPos]-R[this.codingPos-1]);else{u=8,D=0;do{if(typeof this.outputBits!="number")throw new n.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>u?(D<<=u,this.codingPos&1||(D|=255>>8-u),this.outputBits-=u,u=0):(D<<=this.outputBits,this.codingPos&1||(D|=255>>8-this.outputBits),u-=this.outputBits,this.outputBits=0,R[this.codingPos]<d?(this.codingPos++,this.outputBits=R[this.codingPos]-R[this.codingPos-1]):u>0&&(D<<=u,u=0))}while(u)}return this.black&&(D^=255),D}_addPixels(T,R){const d=this.codingLine;let y=this.codingPos;T>d[y]&&(T>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,T=this.columns),y&1^R&&++y,d[y]=T),this.codingPos=y}_addPixelsNeg(T,R){const d=this.codingLine;let y=this.codingPos;if(T>d[y])T>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,T=this.columns),y&1^R&&++y,d[y]=T;else if(T<d[y]){for(T<0&&((0,n.info)("invalid code"),this.err=!0,T=0);y>0&&T<d[y-1];)--y;d[y]=T}this.codingPos=y}_findTableCode(T,R,d,y){const W=y||0;for(let u=T;u<=R;++u){let b=this._lookBits(u);if(b===O)return[!0,1,!1];if(u<R&&(b<<=R-u),!W||b>=W){const D=d[b-W];if(D[0]===u)return this._eatBits(u),[!0,D[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let T=0,R;if(this.eoblock){if(T=this._lookBits(7),R=i[T],(R==null?void 0:R[0])>0)return this._eatBits(R[0]),R[1]}else{const d=this._findTableCode(1,7,i);if(d[0]&&d[2])return d[1]}return(0,n.info)("Bad two dim code"),O}_getWhiteCode(){let T=0,R;if(this.eoblock){if(T=this._lookBits(12),T===O)return 1;if(R=T>>5?F[T>>3]:k[T],R[0]>0)return this._eatBits(R[0]),R[1]}else{let d=this._findTableCode(1,9,F);if(d[0]||(d=this._findTableCode(11,12,k),d[0]))return d[1]}return(0,n.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let T,R;if(this.eoblock){if(T=this._lookBits(13),T===O)return 1;if(T>>7?!(T>>9)&&T>>7?R=C[(T>>1)-64]:R=Q[T>>7]:R=_[T],R[0]>0)return this._eatBits(R[0]),R[1]}else{let d=this._findTableCode(2,6,Q);if(d[0]||(d=this._findTableCode(7,12,C,64),d[0])||(d=this._findTableCode(10,13,_),d[0]))return d[1]}return(0,n.info)("bad black code"),this._eatBits(1),1}_lookBits(T){let R;for(;this.inputBits<T;){if((R=this.source.next())===-1)return this.inputBits===0?O:this.inputBuf<<T-this.inputBits&65535>>16-T;this.inputBuf=this.inputBuf<<8|R,this.inputBits+=8}return this.inputBuf>>this.inputBits-T&65535>>16-T}_eatBits(T){(this.inputBits-=T)<0&&(this.inputBits=0)}}x.CCITTFaxDecoder=j},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FlateStream=void 0;var n=ie(18),w=ie(2);const O=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),t=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),o=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],K=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class H extends n.DecodeStream{constructor(P,f){super(f),this.str=P,this.dict=P.dict;const p=P.getByte(),i=P.getByte();if(p===-1||i===-1)throw new w.FormatError(`Invalid header in flate stream: ${p}, ${i}`);if((p&15)!==8)throw new w.FormatError(`Unknown compression method in flate stream: ${p}, ${i}`);if(((p<<8)+i)%31!==0)throw new w.FormatError(`Bad FCHECK in flate stream: ${p}, ${i}`);if(i&32)throw new w.FormatError(`FDICT bit set in flate stream: ${p}, ${i}`);this.codeSize=0,this.codeBuf=0}getBits(P){const f=this.str;let p=this.codeSize,i=this.codeBuf,k;for(;p<P;){if((k=f.getByte())===-1)throw new w.FormatError("Bad encoding in flate stream");i|=k<<p,p+=8}return k=i&(1<<P)-1,this.codeBuf=i>>P,this.codeSize=p-=P,k}getCode(P){const f=this.str,p=P[0],i=P[1];let k=this.codeSize,F=this.codeBuf,_;for(;k<i&&(_=f.getByte())!==-1;)F|=_<<k,k+=8;const C=p[F&(1<<i)-1],Q=C>>16,j=C&65535;if(Q<1||k<Q)throw new w.FormatError("Bad encoding in flate stream");return this.codeBuf=F>>Q,this.codeSize=k-Q,j}generateHuffmanTable(P){const f=P.length;let p=0,i;for(i=0;i<f;++i)P[i]>p&&(p=P[i]);const k=1<<p,F=new Int32Array(k);for(let _=1,C=0,Q=2;_<=p;++_,C<<=1,Q<<=1)for(let j=0;j<f;++j)if(P[j]===_){let re=0,T=C;for(i=0;i<_;++i)re=re<<1|T&1,T>>=1;for(i=re;i<k;i+=Q)F[i]=_<<16|j;++C}return[F,p]}readBlock(){let P,f;const p=this.str;let i=this.getBits(3);if(i&1&&(this.eof=!0),i>>=1,i===0){let Q;if((Q=p.getByte())===-1)throw new w.FormatError("Bad block header in flate stream");let j=Q;if((Q=p.getByte())===-1)throw new w.FormatError("Bad block header in flate stream");if(j|=Q<<8,(Q=p.getByte())===-1)throw new w.FormatError("Bad block header in flate stream");let re=Q;if((Q=p.getByte())===-1)throw new w.FormatError("Bad block header in flate stream");if(re|=Q<<8,re!==(~j&65535)&&(j!==0||re!==0))throw new w.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const T=this.bufferLength,R=T+j;if(P=this.ensureBuffer(R),this.bufferLength=R,j===0)p.peekByte()===-1&&(this.eof=!0);else{const d=p.getBytes(j);P.set(d,T),d.length<j&&(this.eof=!0)}return}let k,F;if(i===1)k=o,F=K;else if(i===2){const Q=this.getBits(5)+257,j=this.getBits(5)+1,re=this.getBits(4)+4,T=new Uint8Array(O.length);let R;for(R=0;R<re;++R)T[O[R]]=this.getBits(3);const d=this.generateHuffmanTable(T);f=0,R=0;const y=Q+j,W=new Uint8Array(y);let u,b,D;for(;R<y;){const J=this.getCode(d);if(J===16)u=2,b=3,D=f;else if(J===17)u=3,b=3,D=f=0;else if(J===18)u=7,b=11,D=f=0;else{W[R++]=f=J;continue}let N=this.getBits(u)+b;for(;N-- >0;)W[R++]=D}k=this.generateHuffmanTable(W.subarray(0,Q)),F=this.generateHuffmanTable(W.subarray(Q,y))}else throw new w.FormatError("Unknown block type in flate stream");P=this.buffer;let _=P?P.length:0,C=this.bufferLength;for(;;){let Q=this.getCode(k);if(Q<256){C+1>=_&&(P=this.ensureBuffer(C+1),_=P.length),P[C++]=Q;continue}if(Q===256){this.bufferLength=C;return}Q-=257,Q=e[Q];let j=Q>>16;j>0&&(j=this.getBits(j)),f=(Q&65535)+j,Q=this.getCode(F),Q=t[Q],j=Q>>16,j>0&&(j=this.getBits(j));const re=(Q&65535)+j;C+f>=_&&(P=this.ensureBuffer(C+f),_=P.length);for(let T=0;T<f;++T,++C)P[C]=P[C-re]}}}x.FlateStream=H},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Jbig2Stream=void 0;var n=ie(5),w=ie(18),O=ie(4),e=ie(24),t=ie(2);class o extends w.DecodeStream{constructor(H,U,P){super(U),this.stream=H,this.dict=H.dict,this.maybeLength=U,this.params=P}get bytes(){return(0,t.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(H){}readBlock(){if(this.eof)return;const H=new e.Jbig2Image,U=[];if(this.params instanceof O.Dict){const p=this.params.get("JBIG2Globals");if(p instanceof n.BaseStream){const i=p.getBytes();U.push({data:i,start:0,end:i.length})}}U.push({data:this.bytes,start:0,end:this.bytes.length});const P=H.parseChunks(U),f=P.length;for(let p=0;p<f;p++)P[p]^=255;this.buffer=P,this.bufferLength=f,this.eof=!0}}x.Jbig2Stream=o},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Jbig2Image=void 0;var n=ie(2),w=ie(3),O=ie(25),e=ie(21);class t extends n.BaseException{constructor(Be){super(`JBIG2 error: ${Be}`,"Jbig2Error")}}class o{getContexts(Be){return Be in this?this[Be]:this[Be]=new Int8Array(65536)}}class K{constructor(Be,ee,te){this.data=Be,this.start=ee,this.end=te}get decoder(){const Be=new O.ArithmeticDecoder(this.data,this.start,this.end);return(0,n.shadow)(this,"decoder",Be)}get contextCache(){const Be=new o;return(0,n.shadow)(this,"contextCache",Be)}}const H=2**31-1,U=-(2**31);function P(ge,Be,ee){const te=ge.getContexts(Be);let fe=1;function ue(ce){let Ee=0;for(let ve=0;ve<ce;ve++){const he=ee.readBit(te,fe);fe=fe<256?fe<<1|he:(fe<<1|he)&511|256,Ee=Ee<<1|he}return Ee>>>0}const le=ue(1),be=ue(1)?ue(1)?ue(1)?ue(1)?ue(1)?ue(32)+4436:ue(12)+340:ue(8)+84:ue(6)+20:ue(4)+4:ue(2);let Ce;return le===0?Ce=be:be>0&&(Ce=-be),Ce>=U&&Ce<=H?Ce:null}function f(ge,Be,ee){const te=ge.getContexts("IAID");let fe=1;for(let ue=0;ue<ee;ue++){const le=Be.readBit(te,fe);fe=fe<<1|le}return ee<31?fe&(1<<ee)-1:fe&2147483647}const p=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],i=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],k=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],F=[39717,1941,229,405],_=[32,8];function C(ge,Be,ee){const te=ee.decoder,fe=ee.contextCache.getContexts("GB"),ue=[];let le,be,Ce,ce,Ee,ve,he;const Fe=31735;for(be=0;be<Be;be++)for(Ee=ue[be]=new Uint8Array(ge),ve=be<1?Ee:ue[be-1],he=be<2?Ee:ue[be-2],le=he[0]<<13|he[1]<<12|he[2]<<11|ve[0]<<7|ve[1]<<6|ve[2]<<5|ve[3]<<4,Ce=0;Ce<ge;Ce++)Ee[Ce]=ce=te.readBit(fe,le),le=(le&Fe)<<1|(Ce+3<ge?he[Ce+3]<<11:0)|(Ce+4<ge?ve[Ce+4]<<4:0)|ce;return ue}function Q(ge,Be,ee,te,fe,ue,le,be){if(ge){const ct=new E(be.data,be.start,be.end);return de(ct,Be,ee,!1)}if(te===0&&!ue&&!fe&&le.length===4&&le[0].x===3&&le[0].y===-1&&le[1].x===-3&&le[1].y===-1&&le[2].x===2&&le[2].y===-2&&le[3].x===-2&&le[3].y===-2)return C(Be,ee,be);const Ce=!!ue,ce=i[te].concat(le);ce.sort(function(ct,ft){return ct.y-ft.y||ct.x-ft.x});const Ee=ce.length,ve=new Int8Array(Ee),he=new Int8Array(Ee),Fe=[];let _e=0,Ne=0,Ze=0,tt=0,je,$e;for($e=0;$e<Ee;$e++)ve[$e]=ce[$e].x,he[$e]=ce[$e].y,Ne=Math.min(Ne,ce[$e].x),Ze=Math.max(Ze,ce[$e].x),tt=Math.min(tt,ce[$e].y),$e<Ee-1&&ce[$e].y===ce[$e+1].y&&ce[$e].x===ce[$e+1].x-1?_e|=1<<Ee-1-$e:Fe.push($e);const He=Fe.length,Ve=new Int8Array(He),st=new Int8Array(He),pt=new Uint16Array(He);for(je=0;je<He;je++)$e=Fe[je],Ve[je]=ce[$e].x,st[je]=ce[$e].y,pt[je]=1<<Ee-1-$e;const at=-Ne,Re=-tt,Ge=Be-Ze,gt=F[te];let rt=new Uint8Array(Be);const Bt=[],St=be.decoder,jn=be.contextCache.getContexts("GB");let dt=0,Zt,Gt,Ke,Ue=0,ze,qe;for(let ct=0;ct<ee;ct++){if(fe){const ft=St.readBit(jn,gt);if(dt^=ft,dt){Bt.push(rt);continue}}for(rt=new Uint8Array(rt),Bt.push(rt),Zt=0;Zt<Be;Zt++){if(Ce&&ue[ct][Zt]){rt[Zt]=0;continue}if(Zt>=at&&Zt<Ge&&ct>=Re)for(Ue=Ue<<1&_e,$e=0;$e<He;$e++)Gt=ct+st[$e],Ke=Zt+Ve[$e],ze=Bt[Gt][Ke],ze&&(ze=pt[$e],Ue|=ze);else for(Ue=0,qe=Ee-1,$e=0;$e<Ee;$e++,qe--)Ke=Zt+ve[$e],Ke>=0&&Ke<Be&&(Gt=ct+he[$e],Gt>=0&&(ze=Bt[Gt][Ke],ze&&(Ue|=ze<<qe)));const ft=St.readBit(jn,Ue);rt[Zt]=ft}}return Bt}function j(ge,Be,ee,te,fe,ue,le,be,Ce){let ce=k[ee].coding;ee===0&&(ce=ce.concat([be[0]]));const Ee=ce.length,ve=new Int32Array(Ee),he=new Int32Array(Ee);let Fe;for(Fe=0;Fe<Ee;Fe++)ve[Fe]=ce[Fe].x,he[Fe]=ce[Fe].y;let _e=k[ee].reference;ee===0&&(_e=_e.concat([be[1]]));const Ne=_e.length,Ze=new Int32Array(Ne),tt=new Int32Array(Ne);for(Fe=0;Fe<Ne;Fe++)Ze[Fe]=_e[Fe].x,tt[Fe]=_e[Fe].y;const je=te[0].length,$e=te.length,He=_[ee],Ve=[],st=Ce.decoder,pt=Ce.contextCache.getContexts("GR");let at=0;for(let Re=0;Re<Be;Re++){if(le){const gt=st.readBit(pt,He);if(at^=gt,at)throw new t("prediction is not supported")}const Ge=new Uint8Array(ge);Ve.push(Ge);for(let gt=0;gt<ge;gt++){let rt,Bt,St=0;for(Fe=0;Fe<Ee;Fe++)rt=Re+he[Fe],Bt=gt+ve[Fe],rt<0||Bt<0||Bt>=ge?St<<=1:St=St<<1|Ve[rt][Bt];for(Fe=0;Fe<Ne;Fe++)rt=Re+tt[Fe]-ue,Bt=gt+Ze[Fe]-fe,rt<0||rt>=$e||Bt<0||Bt>=je?St<<=1:St=St<<1|te[rt][Bt];const jn=st.readBit(pt,St);Ge[gt]=jn}}return Ve}function re(ge,Be,ee,te,fe,ue,le,be,Ce,ce,Ee,ve){if(ge&&Be)throw new t("symbol refinement with Huffman is not supported");const he=[];let Fe=0,_e=(0,w.log2)(ee.length+te);const Ne=Ee.decoder,Ze=Ee.contextCache;let tt,je;for(ge&&(tt=A(1),je=[],_e=Math.max(_e,1));he.length<te;){const Re=ge?ue.tableDeltaHeight.decode(ve):P(Ze,"IADH",Ne);Fe+=Re;let Ge=0,gt=0;const rt=ge?je.length:0;for(;;){const Bt=ge?ue.tableDeltaWidth.decode(ve):P(Ze,"IADW",Ne);if(Bt===null)break;Ge+=Bt,gt+=Ge;let St;if(Be){const jn=P(Ze,"IAAI",Ne);if(jn>1)St=T(ge,Be,Ge,Fe,0,jn,1,ee.concat(he),_e,0,0,1,0,ue,Ce,ce,Ee,0,ve);else{const dt=f(Ze,Ne,_e),Zt=P(Ze,"IARDX",Ne),Gt=P(Ze,"IARDY",Ne),Ke=dt<ee.length?ee[dt]:he[dt-ee.length];St=j(Ge,Fe,Ce,Ke,Zt,Gt,!1,ce,Ee)}he.push(St)}else ge?je.push(Ge):(St=Q(!1,Ge,Fe,le,!1,null,be,Ee),he.push(St))}if(ge&&!Be){const Bt=ue.tableBitmapSize.decode(ve);ve.byteAlign();let St;if(Bt===0)St=ke(ve,gt,Fe);else{const dt=ve.end,Zt=ve.position+Bt;ve.end=Zt,St=de(ve,gt,Fe,!1),ve.end=dt,ve.position=Zt}const jn=je.length;if(rt===jn-1)he.push(St);else{let dt,Zt,Gt=0,Ke,Ue,ze;for(dt=rt;dt<jn;dt++){for(Ue=je[dt],Ke=Gt+Ue,ze=[],Zt=0;Zt<Fe;Zt++)ze.push(St[Zt].subarray(Gt,Ke));he.push(ze),Gt=Ke}}}}const $e=[],He=[];let Ve=!1,st,pt;const at=ee.length+te;for(;He.length<at;){let Re=ge?tt.decode(ve):P(Ze,"IAEX",Ne);for(;Re--;)He.push(Ve);Ve=!Ve}for(st=0,pt=ee.length;st<pt;st++)He[st]&&$e.push(ee[st]);for(let Re=0;Re<te;st++,Re++)He[st]&&$e.push(he[Re]);return $e}function T(ge,Be,ee,te,fe,ue,le,be,Ce,ce,Ee,ve,he,Fe,_e,Ne,Ze,tt,je){if(ge&&Be)throw new t("refinement with Huffman is not supported");const $e=[];let He,Ve;for(He=0;He<te;He++){if(Ve=new Uint8Array(ee),fe)for(let Ge=0;Ge<ee;Ge++)Ve[Ge]=fe;$e.push(Ve)}const st=Ze.decoder,pt=Ze.contextCache;let at=ge?-Fe.tableDeltaT.decode(je):-P(pt,"IADT",st),Re=0;for(He=0;He<ue;){const Ge=ge?Fe.tableDeltaT.decode(je):P(pt,"IADT",st);at+=Ge;const gt=ge?Fe.tableFirstS.decode(je):P(pt,"IAFS",st);Re+=gt;let rt=Re;do{let Bt=0;le>1&&(Bt=ge?je.readBits(tt):P(pt,"IAIT",st));const St=le*at+Bt,jn=ge?Fe.symbolIDTable.decode(je):f(pt,st,Ce),dt=Be&&(ge?je.readBit():P(pt,"IARI",st));let Zt=be[jn],Gt=Zt[0].length,Ke=Zt.length;if(dt){const $t=P(pt,"IARDW",st),Mt=P(pt,"IARDH",st),Dt=P(pt,"IARDX",st),Xt=P(pt,"IARDY",st);Gt+=$t,Ke+=Mt,Zt=j(Gt,Ke,_e,Zt,($t>>1)+Dt,(Mt>>1)+Xt,!1,Ne,Ze)}const Ue=St-(ve&1?0:Ke-1),ze=rt-(ve&2?Gt-1:0);let qe,ct,ft;if(ce){for(qe=0;qe<Ke;qe++){if(Ve=$e[ze+qe],!Ve)continue;ft=Zt[qe];const $t=Math.min(ee-Ue,Gt);switch(he){case 0:for(ct=0;ct<$t;ct++)Ve[Ue+ct]|=ft[ct];break;case 2:for(ct=0;ct<$t;ct++)Ve[Ue+ct]^=ft[ct];break;default:throw new t(`operator ${he} is not supported`)}}rt+=Ke-1}else{for(ct=0;ct<Ke;ct++)if(Ve=$e[Ue+ct],!!Ve)switch(ft=Zt[ct],he){case 0:for(qe=0;qe<Gt;qe++)Ve[ze+qe]|=ft[qe];break;case 2:for(qe=0;qe<Gt;qe++)Ve[ze+qe]^=ft[qe];break;default:throw new t(`operator ${he} is not supported`)}rt+=Gt-1}He++;const mt=ge?Fe.tableDeltaS.decode(je):P(pt,"IADS",st);if(mt===null)break;rt+=mt+Ee}while(!0)}return $e}function R(ge,Be,ee,te,fe,ue){const le=[];ge||(le.push({x:-Be,y:0}),fe===0&&le.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const be=(te+1)*Be,Ce=Q(ge,be,ee,fe,!1,null,le,ue),ce=[];for(let Ee=0;Ee<=te;Ee++){const ve=[],he=Be*Ee,Fe=he+Be;for(let _e=0;_e<ee;_e++)ve.push(Ce[_e].subarray(he,Fe));ce.push(ve)}return ce}function d(ge,Be,ee,te,fe,ue,le,be,Ce,ce,Ee,ve,he,Fe,_e){if(le)throw new t("skip is not supported");if(be!==0)throw new t(`operator "${be}" is not supported in halftone region`);const Ze=[];let tt,je,$e;for(tt=0;tt<fe;tt++){if($e=new Uint8Array(te),ue)for(je=0;je<te;je++)$e[je]=ue;Ze.push($e)}const He=Be.length,Ve=Be[0],st=Ve[0].length,pt=Ve.length,at=(0,w.log2)(He),Re=[];ge||(Re.push({x:ee<=1?3:2,y:-1}),ee===0&&Re.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Ge=[];let gt,rt;for(ge&&(gt=new E(_e.data,_e.start,_e.end)),tt=at-1;tt>=0;tt--)ge?rt=de(gt,Ce,ce,!0):rt=Q(!1,Ce,ce,ee,!1,null,Re,_e),Ge[tt]=rt;let Bt,St,jn,dt,Zt,Gt,Ke,Ue,ze;for(Bt=0;Bt<ce;Bt++)for(St=0;St<Ce;St++){for(jn=0,dt=0,je=at-1;je>=0;je--)jn^=Ge[je][Bt][St],dt|=jn<<je;if(Zt=Be[dt],Gt=Ee+Bt*Fe+St*he>>8,Ke=ve+Bt*he-St*Fe>>8,Gt>=0&&Gt+st<=te&&Ke>=0&&Ke+pt<=fe)for(tt=0;tt<pt;tt++)for(ze=Ze[Ke+tt],Ue=Zt[tt],je=0;je<st;je++)ze[Gt+je]|=Ue[je];else{let qe,ct;for(tt=0;tt<pt;tt++)if(ct=Ke+tt,!(ct<0||ct>=fe))for(ze=Ze[ct],Ue=Zt[tt],je=0;je<st;je++)qe=Gt+je,qe>=0&&qe<te&&(ze[qe]|=Ue[je])}}return Ze}function y(ge,Be){const ee={};ee.number=(0,w.readUint32)(ge,Be);const te=ge[Be+4],fe=te&63;if(!p[fe])throw new t("invalid segment type: "+fe);ee.type=fe,ee.typeName=p[fe],ee.deferredNonRetain=!!(te&128);const ue=!!(te&64),le=ge[Be+5];let be=le>>5&7;const Ce=[le&31];let ce=Be+6;if(le===7){be=(0,w.readUint32)(ge,ce-1)&536870911,ce+=3;let _e=be+7>>3;for(Ce[0]=ge[ce++];--_e>0;)Ce.push(ge[ce++])}else if(le===5||le===6)throw new t("invalid referred-to flags");ee.retainBits=Ce;let Ee=4;ee.number<=256?Ee=1:ee.number<=65536&&(Ee=2);const ve=[];let he,Fe;for(he=0;he<be;he++){let _e;Ee===1?_e=ge[ce]:Ee===2?_e=(0,w.readUint16)(ge,ce):_e=(0,w.readUint32)(ge,ce),ve.push(_e),ce+=Ee}if(ee.referredTo=ve,ue?(ee.pageAssociation=(0,w.readUint32)(ge,ce),ce+=4):ee.pageAssociation=ge[ce++],ee.length=(0,w.readUint32)(ge,ce),ce+=4,ee.length===4294967295)if(fe===38){const _e=u(ge,ce),Ze=!!(ge[ce+b]&1),tt=6,je=new Uint8Array(tt);for(Ze||(je[0]=255,je[1]=172),je[2]=_e.height>>>24&255,je[3]=_e.height>>16&255,je[4]=_e.height>>8&255,je[5]=_e.height&255,he=ce,Fe=ge.length;he<Fe;he++){let $e=0;for(;$e<tt&&je[$e]===ge[he+$e];)$e++;if($e===tt){ee.length=he+tt;break}}if(ee.length===4294967295)throw new t("segment end was not found")}else throw new t("invalid unknown segment length");return ee.headerEnd=ce,ee}function W(ge,Be,ee,te){const fe=[];let ue=ee;for(;ue<te;){const le=y(Be,ue);ue=le.headerEnd;const be={header:le,data:Be};if(ge.randomAccess||(be.start=ue,ue+=le.length,be.end=ue),fe.push(be),le.type===51)break}if(ge.randomAccess)for(let le=0,be=fe.length;le<be;le++)fe[le].start=ue,ue+=fe[le].header.length,fe[le].end=ue;return fe}function u(ge,Be){return{width:(0,w.readUint32)(ge,Be),height:(0,w.readUint32)(ge,Be+4),x:(0,w.readUint32)(ge,Be+8),y:(0,w.readUint32)(ge,Be+12),combinationOperator:ge[Be+16]&7}}const b=17;function D(ge,Be){const ee=ge.header,te=ge.data,fe=ge.end;let ue=ge.start,le,be,Ce,ce;switch(ee.type){case 0:const ve={},he=(0,w.readUint16)(te,ue);if(ve.huffman=!!(he&1),ve.refinement=!!(he&2),ve.huffmanDHSelector=he>>2&3,ve.huffmanDWSelector=he>>4&3,ve.bitmapSizeSelector=he>>6&1,ve.aggregationInstancesSelector=he>>7&1,ve.bitmapCodingContextUsed=!!(he&256),ve.bitmapCodingContextRetained=!!(he&512),ve.template=he>>10&3,ve.refinementTemplate=he>>12&1,ue+=2,!ve.huffman){for(ce=ve.template===0?4:1,be=[],Ce=0;Ce<ce;Ce++)be.push({x:(0,w.readInt8)(te,ue),y:(0,w.readInt8)(te,ue+1)}),ue+=2;ve.at=be}if(ve.refinement&&!ve.refinementTemplate){for(be=[],Ce=0;Ce<2;Ce++)be.push({x:(0,w.readInt8)(te,ue),y:(0,w.readInt8)(te,ue+1)}),ue+=2;ve.refinementAt=be}ve.numberOfExportedSymbols=(0,w.readUint32)(te,ue),ue+=4,ve.numberOfNewSymbols=(0,w.readUint32)(te,ue),ue+=4,le=[ve,ee.number,ee.referredTo,te,ue,fe];break;case 6:case 7:const Fe={};Fe.info=u(te,ue),ue+=b;const _e=(0,w.readUint16)(te,ue);if(ue+=2,Fe.huffman=!!(_e&1),Fe.refinement=!!(_e&2),Fe.logStripSize=_e>>2&3,Fe.stripSize=1<<Fe.logStripSize,Fe.referenceCorner=_e>>4&3,Fe.transposed=!!(_e&64),Fe.combinationOperator=_e>>7&3,Fe.defaultPixelValue=_e>>9&1,Fe.dsOffset=_e<<17>>27,Fe.refinementTemplate=_e>>15&1,Fe.huffman){const pt=(0,w.readUint16)(te,ue);ue+=2,Fe.huffmanFS=pt&3,Fe.huffmanDS=pt>>2&3,Fe.huffmanDT=pt>>4&3,Fe.huffmanRefinementDW=pt>>6&3,Fe.huffmanRefinementDH=pt>>8&3,Fe.huffmanRefinementDX=pt>>10&3,Fe.huffmanRefinementDY=pt>>12&3,Fe.huffmanRefinementSizeSelector=!!(pt&16384)}if(Fe.refinement&&!Fe.refinementTemplate){for(be=[],Ce=0;Ce<2;Ce++)be.push({x:(0,w.readInt8)(te,ue),y:(0,w.readInt8)(te,ue+1)}),ue+=2;Fe.refinementAt=be}Fe.numberOfSymbolInstances=(0,w.readUint32)(te,ue),ue+=4,le=[Fe,ee.referredTo,te,ue,fe];break;case 16:const Ne={},Ze=te[ue++];Ne.mmr=!!(Ze&1),Ne.template=Ze>>1&3,Ne.patternWidth=te[ue++],Ne.patternHeight=te[ue++],Ne.maxPatternIndex=(0,w.readUint32)(te,ue),ue+=4,le=[Ne,ee.number,te,ue,fe];break;case 22:case 23:const tt={};tt.info=u(te,ue),ue+=b;const je=te[ue++];tt.mmr=!!(je&1),tt.template=je>>1&3,tt.enableSkip=!!(je&8),tt.combinationOperator=je>>4&7,tt.defaultPixelValue=je>>7&1,tt.gridWidth=(0,w.readUint32)(te,ue),ue+=4,tt.gridHeight=(0,w.readUint32)(te,ue),ue+=4,tt.gridOffsetX=(0,w.readUint32)(te,ue)&4294967295,ue+=4,tt.gridOffsetY=(0,w.readUint32)(te,ue)&4294967295,ue+=4,tt.gridVectorX=(0,w.readUint16)(te,ue),ue+=2,tt.gridVectorY=(0,w.readUint16)(te,ue),ue+=2,le=[tt,ee.referredTo,te,ue,fe];break;case 38:case 39:const $e={};$e.info=u(te,ue),ue+=b;const He=te[ue++];if($e.mmr=!!(He&1),$e.template=He>>1&3,$e.prediction=!!(He&8),!$e.mmr){for(ce=$e.template===0?4:1,be=[],Ce=0;Ce<ce;Ce++)be.push({x:(0,w.readInt8)(te,ue),y:(0,w.readInt8)(te,ue+1)}),ue+=2;$e.at=be}le=[$e,te,ue,fe];break;case 48:const Ve={width:(0,w.readUint32)(te,ue),height:(0,w.readUint32)(te,ue+4),resolutionX:(0,w.readUint32)(te,ue+8),resolutionY:(0,w.readUint32)(te,ue+12)};Ve.height===4294967295&&delete Ve.height;const st=te[ue+16];(0,w.readUint16)(te,ue+17),Ve.lossless=!!(st&1),Ve.refinement=!!(st&2),Ve.defaultPixelValue=st>>2&1,Ve.combinationOperator=st>>3&3,Ve.requiresBuffer=!!(st&32),Ve.combinationOperatorOverride=!!(st&64),le=[Ve];break;case 49:break;case 50:break;case 51:break;case 53:le=[ee.number,te,ue,fe];break;case 62:break;default:throw new t(`segment type ${ee.typeName}(${ee.type}) is not implemented`)}const Ee="on"+ee.typeName;Ee in Be&&Be[Ee].apply(Be,le)}function J(ge,Be){for(let ee=0,te=ge.length;ee<te;ee++)D(ge[ee],Be)}function N(ge){const Be=new v;for(let ee=0,te=ge.length;ee<te;ee++){const fe=ge[ee],ue=W({},fe.data,fe.start,fe.end);J(ue,Be)}return Be.buffer}class v{onPageInformation(Be){this.currentPageInfo=Be;const ee=Be.width+7>>3,te=new Uint8ClampedArray(ee*Be.height);Be.defaultPixelValue&&te.fill(255),this.buffer=te}drawBitmap(Be,ee){const te=this.currentPageInfo,fe=Be.width,ue=Be.height,le=te.width+7>>3,be=te.combinationOperatorOverride?Be.combinationOperator:te.combinationOperator,Ce=this.buffer,ce=128>>(Be.x&7);let Ee=Be.y*le+(Be.x>>3),ve,he,Fe,_e;switch(be){case 0:for(ve=0;ve<ue;ve++){for(Fe=ce,_e=Ee,he=0;he<fe;he++)ee[ve][he]&&(Ce[_e]|=Fe),Fe>>=1,Fe||(Fe=128,_e++);Ee+=le}break;case 2:for(ve=0;ve<ue;ve++){for(Fe=ce,_e=Ee,he=0;he<fe;he++)ee[ve][he]&&(Ce[_e]^=Fe),Fe>>=1,Fe||(Fe=128,_e++);Ee+=le}break;default:throw new t(`operator ${be} is not supported`)}}onImmediateGenericRegion(Be,ee,te,fe){const ue=Be.info,le=new K(ee,te,fe),be=Q(Be.mmr,ue.width,ue.height,Be.template,Be.prediction,null,Be.at,le);this.drawBitmap(ue,be)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(Be,ee,te,fe,ue,le){let be,Ce;Be.huffman&&(be=Ae(Be,te,this.customTables),Ce=new E(fe,ue,le));let ce=this.symbols;ce||(this.symbols=ce={});const Ee=[];for(const he of te){const Fe=ce[he];Fe&&Ee.push(...Fe)}const ve=new K(fe,ue,le);ce[ee]=re(Be.huffman,Be.refinement,Ee,Be.numberOfNewSymbols,Be.numberOfExportedSymbols,be,Be.template,Be.at,Be.refinementTemplate,Be.refinementAt,ve,Ce)}onImmediateTextRegion(Be,ee,te,fe,ue){const le=Be.info;let be,Ce;const ce=this.symbols,Ee=[];for(const _e of ee){const Ne=ce[_e];Ne&&Ee.push(...Ne)}const ve=(0,w.log2)(Ee.length);Be.huffman&&(Ce=new E(te,fe,ue),be=se(Be,ee,this.customTables,Ee.length,Ce));const he=new K(te,fe,ue),Fe=T(Be.huffman,Be.refinement,le.width,le.height,Be.defaultPixelValue,Be.numberOfSymbolInstances,Be.stripSize,Ee,ve,Be.transposed,Be.dsOffset,Be.referenceCorner,Be.combinationOperator,be,Be.refinementTemplate,Be.refinementAt,he,Be.logStripSize,Ce);this.drawBitmap(le,Fe)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(Be,ee,te,fe,ue){let le=this.patterns;le||(this.patterns=le={});const be=new K(te,fe,ue);le[ee]=R(Be.mmr,Be.patternWidth,Be.patternHeight,Be.maxPatternIndex,Be.template,be)}onImmediateHalftoneRegion(Be,ee,te,fe,ue){const le=this.patterns[ee[0]],be=Be.info,Ce=new K(te,fe,ue),ce=d(Be.mmr,le,Be.template,be.width,be.height,Be.defaultPixelValue,Be.enableSkip,Be.combinationOperator,Be.gridWidth,Be.gridHeight,Be.gridOffsetX,Be.gridOffsetY,Be.gridVectorX,Be.gridVectorY,Ce);this.drawBitmap(be,ce)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(Be,ee,te,fe){let ue=this.customTables;ue||(this.customTables=ue={}),ue[Be]=B(ee,te,fe)}}class S{constructor(Be){Be.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=Be[0],this.rangeLength=0,this.prefixCode=Be[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=Be[0],this.prefixLength=Be[1],this.rangeLength=Be[2],this.prefixCode=Be[3],this.isLowerRange=Be[4]==="lower")}}class I{constructor(Be){this.children=[],Be?(this.isLeaf=!0,this.rangeLength=Be.rangeLength,this.rangeLow=Be.rangeLow,this.isLowerRange=Be.isLowerRange,this.isOOB=Be.isOOB):this.isLeaf=!1}buildTree(Be,ee){const te=Be.prefixCode>>ee&1;if(ee<=0)this.children[te]=new I(Be);else{let fe=this.children[te];fe||(this.children[te]=fe=new I(null)),fe.buildTree(Be,ee-1)}}decodeNode(Be){if(this.isLeaf){if(this.isOOB)return null;const te=Be.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-te:te)}const ee=this.children[Be.readBit()];if(!ee)throw new t("invalid Huffman data");return ee.decodeNode(Be)}}class h{constructor(Be,ee){ee||this.assignPrefixCodes(Be),this.rootNode=new I(null);for(let te=0,fe=Be.length;te<fe;te++){const ue=Be[te];ue.prefixLength>0&&this.rootNode.buildTree(ue,ue.prefixLength-1)}}decode(Be){return this.rootNode.decodeNode(Be)}assignPrefixCodes(Be){const ee=Be.length;let te=0;for(let Ee=0;Ee<ee;Ee++)te=Math.max(te,Be[Ee].prefixLength);const fe=new Uint32Array(te+1);for(let Ee=0;Ee<ee;Ee++)fe[Be[Ee].prefixLength]++;let ue=1,le=0,be,Ce,ce;for(fe[0]=0;ue<=te;){for(le=le+fe[ue-1]<<1,be=le,Ce=0;Ce<ee;)ce=Be[Ce],ce.prefixLength===ue&&(ce.prefixCode=be,be++),Ce++;ue++}}}function B(ge,Be,ee){const te=ge[Be],fe=(0,w.readUint32)(ge,Be+1)&4294967295,ue=(0,w.readUint32)(ge,Be+5)&4294967295,le=new E(ge,Be+9,ee),be=(te>>1&7)+1,Ce=(te>>4&7)+1,ce=[];let Ee,ve,he=fe;do Ee=le.readBits(be),ve=le.readBits(Ce),ce.push(new S([he,Ee,ve,0])),he+=1<<ve;while(he<ue);return Ee=le.readBits(be),ce.push(new S([fe-1,Ee,32,0,"lower"])),Ee=le.readBits(be),ce.push(new S([ue,Ee,32,0])),te&1&&(Ee=le.readBits(be),ce.push(new S([Ee,0]))),new h(ce,!1)}const r={};function A(ge){let Be=r[ge];if(Be)return Be;let ee;switch(ge){case 1:ee=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:ee=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:ee=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:ee=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:ee=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:ee=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:ee=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:ee=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:ee=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:ee=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:ee=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:ee=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:ee=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:ee=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:ee=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new t(`standard table B.${ge} does not exist`)}for(let te=0,fe=ee.length;te<fe;te++)ee[te]=new S(ee[te]);return Be=new h(ee,!0),r[ge]=Be,Be}class E{constructor(Be,ee,te){this.data=Be,this.start=ee,this.end=te,this.position=ee,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new t("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const Be=this.currentByte>>this.shift&1;return this.shift--,Be}readBits(Be){let ee=0,te;for(te=Be-1;te>=0;te--)ee|=this.readBit()<<te;return ee}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function G(ge,Be,ee){let te=0;for(let fe=0,ue=Be.length;fe<ue;fe++){const le=ee[Be[fe]];if(le){if(ge===te)return le;te++}}throw new t("can't find custom Huffman table")}function se(ge,Be,ee,te,fe){const ue=[];for(let he=0;he<=34;he++){const Fe=fe.readBits(4);ue.push(new S([he,Fe,0,0]))}const le=new h(ue,!1);ue.length=0;for(let he=0;he<te;){const Fe=le.decode(fe);if(Fe>=32){let _e,Ne,Ze;switch(Fe){case 32:if(he===0)throw new t("no previous value in symbol ID table");Ne=fe.readBits(2)+3,_e=ue[he-1].prefixLength;break;case 33:Ne=fe.readBits(3)+3,_e=0;break;case 34:Ne=fe.readBits(7)+11,_e=0;break;default:throw new t("invalid code length in symbol ID table")}for(Ze=0;Ze<Ne;Ze++)ue.push(new S([he,_e,0,0])),he++}else ue.push(new S([he,Fe,0,0])),he++}fe.byteAlign();const be=new h(ue,!1);let Ce=0,ce,Ee,ve;switch(ge.huffmanFS){case 0:case 1:ce=A(ge.huffmanFS+6);break;case 3:ce=G(Ce,Be,ee),Ce++;break;default:throw new t("invalid Huffman FS selector")}switch(ge.huffmanDS){case 0:case 1:case 2:Ee=A(ge.huffmanDS+8);break;case 3:Ee=G(Ce,Be,ee),Ce++;break;default:throw new t("invalid Huffman DS selector")}switch(ge.huffmanDT){case 0:case 1:case 2:ve=A(ge.huffmanDT+11);break;case 3:ve=G(Ce,Be,ee),Ce++;break;default:throw new t("invalid Huffman DT selector")}if(ge.refinement)throw new t("refinement with Huffman is not supported");return{symbolIDTable:be,tableFirstS:ce,tableDeltaS:Ee,tableDeltaT:ve}}function Ae(ge,Be,ee){let te=0,fe,ue;switch(ge.huffmanDHSelector){case 0:case 1:fe=A(ge.huffmanDHSelector+4);break;case 3:fe=G(te,Be,ee),te++;break;default:throw new t("invalid Huffman DH selector")}switch(ge.huffmanDWSelector){case 0:case 1:ue=A(ge.huffmanDWSelector+2);break;case 3:ue=G(te,Be,ee),te++;break;default:throw new t("invalid Huffman DW selector")}let le,be;return ge.bitmapSizeSelector?(le=G(te,Be,ee),te++):le=A(1),ge.aggregationInstancesSelector?be=G(te,Be,ee):be=A(1),{tableDeltaHeight:fe,tableDeltaWidth:ue,tableBitmapSize:le,tableAggregateInstances:be}}function ke(ge,Be,ee){const te=[];for(let fe=0;fe<ee;fe++){const ue=new Uint8Array(Be);te.push(ue);for(let le=0;le<Be;le++)ue[le]=ge.readBit();ge.byteAlign()}return te}function de(ge,Be,ee,te){const fe={K:-1,Columns:Be,Rows:ee,BlackIs1:!0,EndOfBlock:te},ue=new e.CCITTFaxDecoder(ge,fe),le=[];let be,Ce=!1;for(let ce=0;ce<ee;ce++){const Ee=new Uint8Array(Be);le.push(Ee);let ve=-1;for(let he=0;he<Be;he++)ve<0&&(be=ue.readNextChar(),be===-1&&(be=0,Ce=!0),ve=7),Ee[he]=be>>ve&1,ve--}if(te&&!Ce)for(let Ee=0;Ee<5&&ue.readNextChar()!==-1;Ee++);return le}class Ie{parseChunks(Be){return N(Be)}parse(Be){throw new Error("Not implemented: Jbig2Image.parse")}}x.Jbig2Image=Ie},(Pe,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ArithmeticDecoder=void 0;const ie=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class n{constructor(O,e,t){this.data=O,this.bp=e,this.dataEnd=t,this.chigh=O[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const O=this.data;let e=this.bp;O[e]===255?O[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=O[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?O[e]<<8:65280,this.ct=8,this.bp=e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(O,e){let t=O[e]>>1,o=O[e]&1;const K=ie[t],H=K.qe;let U,P=this.a-H;if(this.chigh<H)P<H?(P=H,U=o,t=K.nmps):(P=H,U=1^o,K.switchFlag===1&&(o=U),t=K.nlps);else{if(this.chigh-=H,P&32768)return this.a=P,o;P<H?(U=1^o,K.switchFlag===1&&(o=U),t=K.nlps):(U=o,t=K.nmps)}do this.ct===0&&this.byteIn(),P<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(P&32768));return this.a=P,O[e]=t<<1|o,U}}x.ArithmeticDecoder=n},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.JpegStream=void 0;var n=ie(18),w=ie(4),O=ie(27),e=ie(2);class t extends n.DecodeStream{constructor(K,H,U){let P;for(;(P=K.getByte())!==-1;)if(P===255){K.skip(-1);break}super(H),this.stream=K,this.dict=K.dict,this.maybeLength=H,this.params=U}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(K){}readBlock(){if(this.eof)return;const K={decodeTransform:void 0,colorTransform:void 0},H=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(H)){const f=this.dict.get("BPC","BitsPerComponent")||8,p=H.length,i=new Int32Array(p);let k=!1;const F=(1<<f)-1;for(let _=0;_<p;_+=2)i[_]=(H[_+1]-H[_])*256|0,i[_+1]=H[_]*F|0,(i[_]!==256||i[_+1]!==0)&&(k=!0);k&&(K.decodeTransform=i)}if(this.params instanceof w.Dict){const f=this.params.get("ColorTransform");Number.isInteger(f)&&(K.colorTransform=f)}const U=new O.JpegImage(K);U.parse(this.bytes);const P=U.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=P,this.bufferLength=P.length,this.eof=!0}}x.JpegStream=t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.JpegImage=void 0;var n=ie(2),w=ie(28),O=ie(3);class e extends n.BaseException{constructor(y){super(`JPEG error: ${y}`,"JpegError")}}class t extends n.BaseException{constructor(y,W){super(y,"DNLMarkerError"),this.scanLines=W}}class o extends n.BaseException{constructor(y){super(y,"EOIMarkerError")}}const K=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),H=4017,U=799,P=3406,f=2276,p=1567,i=3784,k=5793,F=2896;function _(d,y){let W=0,u,b,D=16;for(;D>0&&!d[D-1];)D--;const J=[{children:[],index:0}];let N=J[0],v;for(u=0;u<D;u++){for(b=0;b<d[u];b++){for(N=J.pop(),N.children[N.index]=y[W];N.index>0;)N=J.pop();for(N.index++,J.push(N);J.length<=u;)J.push(v={children:[],index:0}),N.children[N.index]=v.children,N=v;W++}u+1<D&&(J.push(v={children:[],index:0}),N.children[N.index]=v.children,N=v)}return J[0].children}function C(d,y,W){return 64*((d.blocksPerLine+1)*y+W)}function Q(d,y,W,u,b,D,J,N,v,S=!1){const I=W.mcusPerLine,h=W.progressive,B=y;let r=0,A=0;function E(){if(A>0)return A--,r>>A&1;if(r=d[y++],r===255){const He=d[y++];if(He){if(He===220&&S){y+=2;const Ve=(0,O.readUint16)(d,y);if(y+=2,Ve>0&&Ve!==W.scanLines)throw new t("Found DNL marker (0xFFDC) while parsing scan data",Ve)}else if(He===217){if(S){const Ve=ue*(W.precision===8?8:0);if(Ve>0&&Math.round(W.scanLines/Ve)>=5)throw new t("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Ve)}throw new o("Found EOI marker (0xFFD9) while parsing scan data")}throw new e(`unexpected marker ${(r<<8|He).toString(16)}`)}}return A=7,r>>>7}function G(He){let Ve=He;for(;;){switch(Ve=Ve[E()],typeof Ve){case"number":return Ve;case"object":continue}throw new e("invalid huffman sequence")}}function se(He){let Ve=0;for(;He>0;)Ve=Ve<<1|E(),He--;return Ve}function Ae(He){if(He===1)return E()===1?1:-1;const Ve=se(He);return Ve>=1<<He-1?Ve:Ve+(-1<<He)+1}function ke(He,Ve){const st=G(He.huffmanTableDC),pt=st===0?0:Ae(st);He.blockData[Ve]=He.pred+=pt;let at=1;for(;at<64;){const Re=G(He.huffmanTableAC),Ge=Re&15,gt=Re>>4;if(Ge===0){if(gt<15)break;at+=16;continue}at+=gt;const rt=K[at];He.blockData[Ve+rt]=Ae(Ge),at++}}function de(He,Ve){const st=G(He.huffmanTableDC),pt=st===0?0:Ae(st)<<v;He.blockData[Ve]=He.pred+=pt}function Ie(He,Ve){He.blockData[Ve]|=E()<<v}let ge=0;function Be(He,Ve){if(ge>0){ge--;return}let st=D;const pt=J;for(;st<=pt;){const at=G(He.huffmanTableAC),Re=at&15,Ge=at>>4;if(Re===0){if(Ge<15){ge=se(Ge)+(1<<Ge)-1;break}st+=16;continue}st+=Ge;const gt=K[st];He.blockData[Ve+gt]=Ae(Re)*(1<<v),st++}}let ee=0,te;function fe(He,Ve){let st=D;const pt=J;let at=0,Re,Ge;for(;st<=pt;){const gt=Ve+K[st],rt=He.blockData[gt]<0?-1:1;switch(ee){case 0:if(Ge=G(He.huffmanTableAC),Re=Ge&15,at=Ge>>4,Re===0)at<15?(ge=se(at)+(1<<at),ee=4):(at=16,ee=1);else{if(Re!==1)throw new e("invalid ACn encoding");te=Ae(Re),ee=at?2:3}continue;case 1:case 2:He.blockData[gt]?He.blockData[gt]+=rt*(E()<<v):(at--,at===0&&(ee=ee===2?3:0));break;case 3:He.blockData[gt]?He.blockData[gt]+=rt*(E()<<v):(He.blockData[gt]=te<<v,ee=0);break;case 4:He.blockData[gt]&&(He.blockData[gt]+=rt*(E()<<v));break}st++}ee===4&&(ge--,ge===0&&(ee=0))}let ue=0;function le(He,Ve,st,pt,at){const Re=st/I|0,Ge=st%I;ue=Re*He.v+pt;const gt=Ge*He.h+at,rt=C(He,ue,gt);Ve(He,rt)}function be(He,Ve,st){ue=st/He.blocksPerLine|0;const pt=st%He.blocksPerLine,at=C(He,ue,pt);Ve(He,at)}const Ce=u.length;let ce,Ee,ve,he,Fe,_e;h?D===0?_e=N===0?de:Ie:_e=N===0?Be:fe:_e=ke;let Ne=0,Ze;const tt=Ce===1?u[0].blocksPerLine*u[0].blocksPerColumn:I*W.mcusPerColumn;let je,$e;for(;Ne<=tt;){const He=b?Math.min(tt-Ne,b):tt;if(He>0){for(Ee=0;Ee<Ce;Ee++)u[Ee].pred=0;if(ge=0,Ce===1)for(ce=u[0],Fe=0;Fe<He;Fe++)be(ce,_e,Ne),Ne++;else for(Fe=0;Fe<He;Fe++){for(Ee=0;Ee<Ce;Ee++)for(ce=u[Ee],je=ce.h,$e=ce.v,ve=0;ve<$e;ve++)for(he=0;he<je;he++)le(ce,_e,Ne,ve,he);Ne++}}if(A=0,Ze=T(d,y),!Ze)break;if(Ze.invalid){const Ve=He>0?"unexpected":"excessive";(0,n.warn)(`decodeScan - ${Ve} MCU data, current marker is: ${Ze.invalid}`),y=Ze.offset}if(Ze.marker>=65488&&Ze.marker<=65495)y+=2;else break}return y-B}function j(d,y,W){const u=d.quantizationTable,b=d.blockData;let D,J,N,v,S,I,h,B,r,A,E,G,se,Ae,ke,de,Ie;if(!u)throw new e("missing required Quantization Table.");for(let ge=0;ge<64;ge+=8){if(r=b[y+ge],A=b[y+ge+1],E=b[y+ge+2],G=b[y+ge+3],se=b[y+ge+4],Ae=b[y+ge+5],ke=b[y+ge+6],de=b[y+ge+7],r*=u[ge],!(A|E|G|se|Ae|ke|de)){Ie=k*r+512>>10,W[ge]=Ie,W[ge+1]=Ie,W[ge+2]=Ie,W[ge+3]=Ie,W[ge+4]=Ie,W[ge+5]=Ie,W[ge+6]=Ie,W[ge+7]=Ie;continue}A*=u[ge+1],E*=u[ge+2],G*=u[ge+3],se*=u[ge+4],Ae*=u[ge+5],ke*=u[ge+6],de*=u[ge+7],D=k*r+128>>8,J=k*se+128>>8,N=E,v=ke,S=F*(A-de)+128>>8,B=F*(A+de)+128>>8,I=G<<4,h=Ae<<4,D=D+J+1>>1,J=D-J,Ie=N*i+v*p+128>>8,N=N*p-v*i+128>>8,v=Ie,S=S+h+1>>1,h=S-h,B=B+I+1>>1,I=B-I,D=D+v+1>>1,v=D-v,J=J+N+1>>1,N=J-N,Ie=S*f+B*P+2048>>12,S=S*P-B*f+2048>>12,B=Ie,Ie=I*U+h*H+2048>>12,I=I*H-h*U+2048>>12,h=Ie,W[ge]=D+B,W[ge+7]=D-B,W[ge+1]=J+h,W[ge+6]=J-h,W[ge+2]=N+I,W[ge+5]=N-I,W[ge+3]=v+S,W[ge+4]=v-S}for(let ge=0;ge<8;++ge){if(r=W[ge],A=W[ge+8],E=W[ge+16],G=W[ge+24],se=W[ge+32],Ae=W[ge+40],ke=W[ge+48],de=W[ge+56],!(A|E|G|se|Ae|ke|de)){Ie=k*r+8192>>14,Ie<-2040?Ie=0:Ie>=2024?Ie=255:Ie=Ie+2056>>4,b[y+ge]=Ie,b[y+ge+8]=Ie,b[y+ge+16]=Ie,b[y+ge+24]=Ie,b[y+ge+32]=Ie,b[y+ge+40]=Ie,b[y+ge+48]=Ie,b[y+ge+56]=Ie;continue}D=k*r+2048>>12,J=k*se+2048>>12,N=E,v=ke,S=F*(A-de)+2048>>12,B=F*(A+de)+2048>>12,I=G,h=Ae,D=(D+J+1>>1)+4112,J=D-J,Ie=N*i+v*p+2048>>12,N=N*p-v*i+2048>>12,v=Ie,S=S+h+1>>1,h=S-h,B=B+I+1>>1,I=B-I,D=D+v+1>>1,v=D-v,J=J+N+1>>1,N=J-N,Ie=S*f+B*P+2048>>12,S=S*P-B*f+2048>>12,B=Ie,Ie=I*U+h*H+2048>>12,I=I*H-h*U+2048>>12,h=Ie,r=D+B,de=D-B,A=J+h,ke=J-h,E=N+I,Ae=N-I,G=v+S,se=v-S,r<16?r=0:r>=4080?r=255:r>>=4,A<16?A=0:A>=4080?A=255:A>>=4,E<16?E=0:E>=4080?E=255:E>>=4,G<16?G=0:G>=4080?G=255:G>>=4,se<16?se=0:se>=4080?se=255:se>>=4,Ae<16?Ae=0:Ae>=4080?Ae=255:Ae>>=4,ke<16?ke=0:ke>=4080?ke=255:ke>>=4,de<16?de=0:de>=4080?de=255:de>>=4,b[y+ge]=r,b[y+ge+8]=A,b[y+ge+16]=E,b[y+ge+24]=G,b[y+ge+32]=se,b[y+ge+40]=Ae,b[y+ge+48]=ke,b[y+ge+56]=de}}function re(d,y){const W=y.blocksPerLine,u=y.blocksPerColumn,b=new Int16Array(64);for(let D=0;D<u;D++)for(let J=0;J<W;J++){const N=C(y,D,J);j(y,N,b)}return y.blockData}function T(d,y,W=y){const u=d.length-1;let b=W<y?W:y;if(y>=u)return null;const D=(0,O.readUint16)(d,y);if(D>=65472&&D<=65534)return{invalid:null,marker:D,offset:y};let J=(0,O.readUint16)(d,b);for(;!(J>=65472&&J<=65534);){if(++b>=u)return null;J=(0,O.readUint16)(d,b)}return{invalid:D.toString(16),marker:J,offset:b}}class R{constructor({decodeTransform:y=null,colorTransform:W=-1}={}){this._decodeTransform=y,this._colorTransform=W}parse(y,{dnlScanLines:W=null}={}){function u(){const E=(0,O.readUint16)(y,D);D+=2;let G=D+E-2;const se=T(y,G,D);se!=null&&se.invalid&&((0,n.warn)("readDataBlock - incorrect length, current marker is: "+se.invalid),G=se.offset);const Ae=y.subarray(D,G);return D+=Ae.length,Ae}function b(E){const G=Math.ceil(E.samplesPerLine/8/E.maxH),se=Math.ceil(E.scanLines/8/E.maxV);for(const Ae of E.components){const ke=Math.ceil(Math.ceil(E.samplesPerLine/8)*Ae.h/E.maxH),de=Math.ceil(Math.ceil(E.scanLines/8)*Ae.v/E.maxV),Ie=G*Ae.h,Be=64*(se*Ae.v)*(Ie+1);Ae.blockData=new Int16Array(Be),Ae.blocksPerLine=ke,Ae.blocksPerColumn=de}E.mcusPerLine=G,E.mcusPerColumn=se}let D=0,J=null,N=null,v,S,I=0;const h=[],B=[],r=[];let A=(0,O.readUint16)(y,D);if(D+=2,A!==65496)throw new e("SOI not found");A=(0,O.readUint16)(y,D),D+=2;e:for(;A!==65497;){let E,G,se;switch(A){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const Ae=u();A===65504&&Ae[0]===74&&Ae[1]===70&&Ae[2]===73&&Ae[3]===70&&Ae[4]===0&&(J={version:{major:Ae[5],minor:Ae[6]},densityUnits:Ae[7],xDensity:Ae[8]<<8|Ae[9],yDensity:Ae[10]<<8|Ae[11],thumbWidth:Ae[12],thumbHeight:Ae[13],thumbData:Ae.subarray(14,14+3*Ae[12]*Ae[13])}),A===65518&&Ae[0]===65&&Ae[1]===100&&Ae[2]===111&&Ae[3]===98&&Ae[4]===101&&(N={version:Ae[5]<<8|Ae[6],flags0:Ae[7]<<8|Ae[8],flags1:Ae[9]<<8|Ae[10],transformCode:Ae[11]});break;case 65499:const ke=(0,O.readUint16)(y,D);D+=2;const de=ke+D-2;let Ie;for(;D<de;){const he=y[D++],Fe=new Uint16Array(64);if(he>>4)if(he>>4===1)for(G=0;G<64;G++)Ie=K[G],Fe[Ie]=(0,O.readUint16)(y,D),D+=2;else throw new e("DQT - invalid table spec");else for(G=0;G<64;G++)Ie=K[G],Fe[Ie]=y[D++];h[he&15]=Fe}break;case 65472:case 65473:case 65474:if(v)throw new e("Only single frame JPEGs supported");D+=2,v={},v.extended=A===65473,v.progressive=A===65474,v.precision=y[D++];const ge=(0,O.readUint16)(y,D);D+=2,v.scanLines=W||ge,v.samplesPerLine=(0,O.readUint16)(y,D),D+=2,v.components=[],v.componentIds={};const Be=y[D++];let ee=0,te=0;for(E=0;E<Be;E++){const he=y[D],Fe=y[D+1]>>4,_e=y[D+1]&15;ee<Fe&&(ee=Fe),te<_e&&(te=_e);const Ne=y[D+2];se=v.components.push({h:Fe,v:_e,quantizationId:Ne,quantizationTable:null}),v.componentIds[he]=se-1,D+=3}v.maxH=ee,v.maxV=te,b(v);break;case 65476:const fe=(0,O.readUint16)(y,D);for(D+=2,E=2;E<fe;){const he=y[D++],Fe=new Uint8Array(16);let _e=0;for(G=0;G<16;G++,D++)_e+=Fe[G]=y[D];const Ne=new Uint8Array(_e);for(G=0;G<_e;G++,D++)Ne[G]=y[D];E+=17+_e,(he>>4?B:r)[he&15]=_(Fe,Ne)}break;case 65501:D+=2,S=(0,O.readUint16)(y,D),D+=2;break;case 65498:const ue=++I===1&&!W;D+=2;const le=y[D++],be=[];for(E=0;E<le;E++){const he=y[D++],Fe=v.componentIds[he],_e=v.components[Fe];_e.index=he;const Ne=y[D++];_e.huffmanTableDC=r[Ne>>4],_e.huffmanTableAC=B[Ne&15],be.push(_e)}const Ce=y[D++],ce=y[D++],Ee=y[D++];try{const he=Q(y,D,v,be,S,Ce,ce,Ee>>4,Ee&15,ue);D+=he}catch(he){if(he instanceof t)return(0,n.warn)(`${he.message} -- attempting to re-parse the JPEG image.`),this.parse(y,{dnlScanLines:he.scanLines});if(he instanceof o){(0,n.warn)(`${he.message} -- ignoring the rest of the image data.`);break e}throw he}break;case 65500:D+=4;break;case 65535:y[D]!==255&&D--;break;default:const ve=T(y,D-2,D-3);if(ve!=null&&ve.invalid){(0,n.warn)("JpegImage.parse - unexpected data, current marker is: "+ve.invalid),D=ve.offset;break}if(!ve||D>=y.length-1){(0,n.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new e("JpegImage.parse - unknown marker: "+A.toString(16))}A=(0,O.readUint16)(y,D),D+=2}this.width=v.samplesPerLine,this.height=v.scanLines,this.jfif=J,this.adobe=N,this.components=[];for(const E of v.components){const G=h[E.quantizationId];G&&(E.quantizationTable=G),this.components.push({index:E.index,output:re(v,E),scaleX:E.h/v.maxH,scaleY:E.v/v.maxV,blocksPerLine:E.blocksPerLine,blocksPerColumn:E.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(y,W,u=!1){const b=this.width/y,D=this.height/W;let J,N,v,S,I,h,B,r,A,E,G=0,se;const Ae=this.components.length,ke=y*W*Ae,de=new Uint8ClampedArray(ke),Ie=new Uint32Array(y),ge=4294967288;let Be;for(B=0;B<Ae;B++){if(J=this.components[B],N=J.scaleX*b,v=J.scaleY*D,G=B,se=J.output,S=J.blocksPerLine+1<<3,N!==Be){for(I=0;I<y;I++)r=0|I*N,Ie[I]=(r&ge)<<3|r&7;Be=N}for(h=0;h<W;h++)for(r=0|h*v,E=S*(r&ge)|(r&7)<<3,I=0;I<y;I++)de[G]=se[E+Ie[I]],G+=Ae}let ee=this._decodeTransform;if(!u&&Ae===4&&!ee&&(ee=new Int32Array([-256,255,-256,255,-256,255,-256,255])),ee)for(B=0;B<ke;)for(r=0,A=0;r<Ae;r++,B++,A+=2)de[B]=(de[B]*ee[A]>>8)+ee[A+1];return de}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(y){let W,u,b;for(let D=0,J=y.length;D<J;D+=3)W=y[D],u=y[D+1],b=y[D+2],y[D]=W-179.456+1.402*b,y[D+1]=W+135.459-.344*u-.714*b,y[D+2]=W-226.816+1.772*u;return y}_convertYccToRgba(y,W){for(let u=0,b=0,D=y.length;u<D;u+=3,b+=4){const J=y[u],N=y[u+1],v=y[u+2];W[b]=J-179.456+1.402*v,W[b+1]=J+135.459-.344*N-.714*v,W[b+2]=J-226.816+1.772*N,W[b+3]=255}return W}_convertYcckToRgb(y){let W,u,b,D,J=0;for(let N=0,v=y.length;N<v;N+=4)W=y[N],u=y[N+1],b=y[N+2],D=y[N+3],y[J++]=-122.67195406894+u*(-660635669420364e-19*u+.000437130475926232*b-54080610064599e-18*W+.00048449797120281*D-.154362151871126)+b*(-.000957964378445773*b+.000817076911346625*W-.00477271405408747*D+1.53380253221734)+W*(.000961250184130688*W-.00266257332283933*D+.48357088451265)+D*(-.000336197177618394*D+.484791561490776),y[J++]=107.268039397724+u*(219927104525741e-19*u-.000640992018297945*b+.000659397001245577*W+.000426105652938837*D-.176491792462875)+b*(-.000778269941513683*b+.00130872261408275*W+.000770482631801132*D-.151051492775562)+W*(.00126935368114843*W-.00265090189010898*D+.25802910206845)+D*(-.000318913117588328*D-.213742400323665),y[J++]=-20.810012546947+u*(-.000570115196973677*u-263409051004589e-19*b+.0020741088115012*W-.00288260236853442*D+.814272968359295)+b*(-153496057440975e-19*b-.000132689043961446*W+.000560833691242812*D-.195152027534049)+W*(.00174418132927582*W-.00255243321439347*D+.116935020465145)+D*(-.000343531996510555*D+.24165260232407);return y.subarray(0,J)}_convertYcckToRgba(y){for(let W=0,u=y.length;W<u;W+=4){const b=y[W],D=y[W+1],J=y[W+2],N=y[W+3];y[W]=-122.67195406894+D*(-660635669420364e-19*D+.000437130475926232*J-54080610064599e-18*b+.00048449797120281*N-.154362151871126)+J*(-.000957964378445773*J+.000817076911346625*b-.00477271405408747*N+1.53380253221734)+b*(.000961250184130688*b-.00266257332283933*N+.48357088451265)+N*(-.000336197177618394*N+.484791561490776),y[W+1]=107.268039397724+D*(219927104525741e-19*D-.000640992018297945*J+.000659397001245577*b+.000426105652938837*N-.176491792462875)+J*(-.000778269941513683*J+.00130872261408275*b+.000770482631801132*N-.151051492775562)+b*(.00126935368114843*b-.00265090189010898*N+.25802910206845)+N*(-.000318913117588328*N-.213742400323665),y[W+2]=-20.810012546947+D*(-.000570115196973677*D-263409051004589e-19*J+.0020741088115012*b-.00288260236853442*N+.814272968359295)+J*(-153496057440975e-19*J-.000132689043961446*b+.000560833691242812*N-.195152027534049)+b*(.00174418132927582*b-.00255243321439347*N+.116935020465145)+N*(-.000343531996510555*N+.24165260232407),y[W+3]=255}return y}_convertYcckToCmyk(y){let W,u,b;for(let D=0,J=y.length;D<J;D+=4)W=y[D],u=y[D+1],b=y[D+2],y[D]=434.456-W-1.402*b,y[D+1]=119.541-W+.344*u+.714*b,y[D+2]=481.816-W-1.772*u;return y}_convertCmykToRgb(y){let W,u,b,D,J=0;for(let N=0,v=y.length;N<v;N+=4)W=y[N],u=y[N+1],b=y[N+2],D=y[N+3],y[J++]=255+W*(-6747147073602441e-20*W+.0008379262121013727*u+.0002894718188643294*b+.003264231057537806*D-1.1185611867203937)+u*(26374107616089405e-21*u-8626949158638572e-20*b-.0002748769067499491*D-.02155688794978967)+b*(-3878099212869363e-20*b-.0003267808279485286*D+.0686742238595345)-D*(.0003361971776183937*D+.7430659151342254),y[J++]=255+W*(.00013596372813588848*W+.000924537132573585*u+.00010567359618683593*b+.0004791864687436512*D-.3109689587515875)+u*(-.00023545346108370344*u+.0002702845253534714*b+.0020200308977307156*D-.7488052167015494)+b*(6834815998235662e-20*b+.00015168452363460973*D-.09751927774728933)-D*(.0003189131175883281*D+.7364883807733168),y[J++]=255+W*(13598650411385307e-21*W+.00012423956175490851*u+.0004751985097583589*b-36729317476630422e-22*D-.05562186980264034)+u*(.00016141380598724676*u+.0009692239130725186*b+.0007782692450036253*D-.44015232367526463)+b*(5068882914068769e-22*b+.0017778369011375071*D-.7591454649749609)-D*(.0003435319965105553*D+.7063770186160144);return y.subarray(0,J)}_convertCmykToRgba(y){for(let W=0,u=y.length;W<u;W+=4){const b=y[W],D=y[W+1],J=y[W+2],N=y[W+3];y[W]=255+b*(-6747147073602441e-20*b+.0008379262121013727*D+.0002894718188643294*J+.003264231057537806*N-1.1185611867203937)+D*(26374107616089405e-21*D-8626949158638572e-20*J-.0002748769067499491*N-.02155688794978967)+J*(-3878099212869363e-20*J-.0003267808279485286*N+.0686742238595345)-N*(.0003361971776183937*N+.7430659151342254),y[W+1]=255+b*(.00013596372813588848*b+.000924537132573585*D+.00010567359618683593*J+.0004791864687436512*N-.3109689587515875)+D*(-.00023545346108370344*D+.0002702845253534714*J+.0020200308977307156*N-.7488052167015494)+J*(6834815998235662e-20*J+.00015168452363460973*N-.09751927774728933)-N*(.0003189131175883281*N+.7364883807733168),y[W+2]=255+b*(13598650411385307e-21*b+.00012423956175490851*D+.0004751985097583589*J-36729317476630422e-22*N-.05562186980264034)+D*(.00016141380598724676*D+.0009692239130725186*J+.0007782692450036253*N-.44015232367526463)+J*(5068882914068769e-22*J+.0017778369011375071*N-.7591454649749609)-N*(.0003435319965105553*N+.7063770186160144),y[W+3]=255}return y}getData({width:y,height:W,forceRGBA:u=!1,forceRGB:b=!1,isSourcePDF:D=!1}){if(this.numComponents>4)throw new e("Unsupported color mode");const J=this._getLinearizedBlockData(y,W,D);if(this.numComponents===1&&(u||b)){const N=J.length*(u?4:3),v=new Uint8ClampedArray(N);let S=0;if(u)(0,w.grayToRGBA)(J,new Uint32Array(v.buffer));else for(const I of J)v[S++]=I,v[S++]=I,v[S++]=I;return v}else if(this.numComponents===3&&this._isColorConversionNeeded){if(u){const N=new Uint8ClampedArray(J.length/3*4);return this._convertYccToRgba(J,N)}return this._convertYccToRgb(J)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return u?this._convertYcckToRgba(J):b?this._convertYcckToRgb(J):this._convertYcckToCmyk(J);if(u)return this._convertCmykToRgba(J);if(b)return this._convertCmykToRgb(J)}return J}}x.JpegImage=R},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.convertBlackAndWhiteToRGBA=O,x.convertToRGBA=w,x.grayToRGBA=t;var n=ie(2);function w(o){switch(o.kind){case n.ImageKind.GRAYSCALE_1BPP:return O(o);case n.ImageKind.RGB_24BPP:return e(o)}return null}function O({src:o,srcPos:K=0,dest:H,width:U,height:P,nonBlackColor:f=4294967295,inverseDecode:p=!1}){const i=n.FeatureTest.isLittleEndian?4278190080:255,[k,F]=p?[f,i]:[i,f],_=U>>3,C=U&7,Q=o.length;H=new Uint32Array(H.buffer);let j=0;for(let re=0;re<P;re++){for(const R=K+_;K<R;K++){const d=K<Q?o[K]:255;H[j++]=d&128?F:k,H[j++]=d&64?F:k,H[j++]=d&32?F:k,H[j++]=d&16?F:k,H[j++]=d&8?F:k,H[j++]=d&4?F:k,H[j++]=d&2?F:k,H[j++]=d&1?F:k}if(C===0)continue;const T=K<Q?o[K++]:255;for(let R=0;R<C;R++)H[j++]=T&1<<7-R?F:k}return{srcPos:K,destPos:j}}function e({src:o,srcPos:K=0,dest:H,destPos:U=0,width:P,height:f}){let p=0;const i=o.length>>2,k=new Uint32Array(o.buffer,K,i);if(n.FeatureTest.isLittleEndian){for(;p<i-2;p+=3,U+=4){const F=k[p],_=k[p+1],C=k[p+2];H[U]=F|4278190080,H[U+1]=F>>>24|_<<8|4278190080,H[U+2]=_>>>16|C<<16|4278190080,H[U+3]=C>>>8|4278190080}for(let F=p*4,_=o.length;F<_;F+=3)H[U++]=o[F]|o[F+1]<<8|o[F+2]<<16|4278190080}else{for(;p<i-2;p+=3,U+=4){const F=k[p],_=k[p+1],C=k[p+2];H[U]=F|255,H[U+1]=F<<24|_>>>8|255,H[U+2]=_<<16|C>>>16|255,H[U+3]=C<<8|255}for(let F=p*4,_=o.length;F<_;F+=3)H[U++]=o[F]<<24|o[F+1]<<16|o[F+2]<<8|255}return{srcPos:K,destPos:U}}function t(o,K){if(n.FeatureTest.isLittleEndian)for(let H=0,U=o.length;H<U;H++)K[H]=o[H]*65793|4278190080;else for(let H=0,U=o.length;H<U;H++)K[H]=o[H]*16843008|255}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.JpxStream=void 0;var n=ie(18),w=ie(30),O=ie(2);class e extends n.DecodeStream{constructor(o,K,H){super(K),this.stream=o,this.dict=o.dict,this.maybeLength=K,this.params=H}get bytes(){return(0,O.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(o){}readBlock(){if(this.eof)return;const o=new w.JpxImage;o.parse(this.bytes);const K=o.width,H=o.height,U=o.componentsCount,P=o.tiles.length;if(P===1)this.buffer=o.tiles[0].items;else{const f=new Uint8ClampedArray(K*H*U);for(let p=0;p<P;p++){const i=o.tiles[p],k=i.width,F=i.height,_=i.left,C=i.top,Q=i.items;let j=0,re=(K*C+_)*U;const T=K*U,R=k*U;for(let d=0;d<F;d++){const y=Q.subarray(j,j+R);f.set(y,re),j+=R,re+=T}}this.buffer=f}this.bufferLength=this.buffer.length,this.eof=!0}}x.JpxStream=e},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.JpxImage=void 0;var n=ie(2),w=ie(3),O=ie(25);class e extends n.BaseException{constructor(h){super(`JPX error: ${h}`,"JpxError")}}const t={LL:0,LH:1,HL:1,HH:2};class o{constructor(){this.failOnCorruptedImage=!1}parse(h){if((0,w.readUint16)(h,0)===65359){this.parseCodestream(h,0,h.length);return}const r=h.length;let A=0;for(;A<r;){let E=8,G=(0,w.readUint32)(h,A);const se=(0,w.readUint32)(h,A+4);if(A+=E,G===1&&(G=(0,w.readUint32)(h,A)*4294967296+(0,w.readUint32)(h,A+4),A+=8,E+=8),G===0&&(G=r-A+E),G<E)throw new e("Invalid box field size");const Ae=G-E;let ke=!0;switch(se){case 1785737832:ke=!1;break;case 1668246642:const de=h[A];if(de===1){const ge=(0,w.readUint32)(h,A+3);switch(ge){case 16:case 17:case 18:break;default:(0,n.warn)("Unknown colorspace "+ge);break}}else de===2&&(0,n.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(h,A,A+Ae);break;case 1783636e3:(0,w.readUint32)(h,A)!==218793738&&(0,n.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const Ie=String.fromCharCode(se>>24&255,se>>16&255,se>>8&255,se&255);(0,n.warn)(`Unsupported header type ${se} (${Ie}).`);break}ke&&(A+=Ae)}}parseImageProperties(h){let B=h.getByte();for(;B>=0;){const r=B;if(B=h.getByte(),(r<<8|B)===65361){h.skip(4);const E=h.getInt32()>>>0,G=h.getInt32()>>>0,se=h.getInt32()>>>0,Ae=h.getInt32()>>>0;h.skip(16);const ke=h.getUint16();this.width=E-se,this.height=G-Ae,this.componentsCount=ke,this.bitsPerComponent=8;return}}throw new e("No size marker found in JPX stream")}parseCodestream(h,B,r){const A={};let E=!1;try{let G=B;for(;G+1<r;){const se=(0,w.readUint16)(h,G);G+=2;let Ae=0,ke,de,Ie,ge,Be,ee;switch(se){case 65359:A.mainHeader=!0;break;case 65497:break;case 65361:Ae=(0,w.readUint16)(h,G);const te={};te.Xsiz=(0,w.readUint32)(h,G+4),te.Ysiz=(0,w.readUint32)(h,G+8),te.XOsiz=(0,w.readUint32)(h,G+12),te.YOsiz=(0,w.readUint32)(h,G+16),te.XTsiz=(0,w.readUint32)(h,G+20),te.YTsiz=(0,w.readUint32)(h,G+24),te.XTOsiz=(0,w.readUint32)(h,G+28),te.YTOsiz=(0,w.readUint32)(h,G+32);const fe=(0,w.readUint16)(h,G+36);te.Csiz=fe;const ue=[];ke=G+38;for(let Fe=0;Fe<fe;Fe++){const _e={precision:(h[ke]&127)+1,isSigned:!!(h[ke]&128),XRsiz:h[ke+1],YRsiz:h[ke+2]};ke+=3,K(_e,te),ue.push(_e)}A.SIZ=te,A.components=ue,H(A,ue),A.QCC=[],A.COC=[];break;case 65372:Ae=(0,w.readUint16)(h,G);const le={};switch(ke=G+2,de=h[ke++],de&31){case 0:ge=8,Be=!0;break;case 1:ge=16,Be=!1;break;case 2:ge=16,Be=!0;break;default:throw new Error("Invalid SQcd value "+de)}for(le.noQuantization=ge===8,le.scalarExpounded=Be,le.guardBits=de>>5,Ie=[];ke<Ae+G;){const Fe={};ge===8?(Fe.epsilon=h[ke++]>>3,Fe.mu=0):(Fe.epsilon=h[ke]>>3,Fe.mu=(h[ke]&7)<<8|h[ke+1],ke+=2),Ie.push(Fe)}le.SPqcds=Ie,A.mainHeader?A.QCD=le:(A.currentTile.QCD=le,A.currentTile.QCC=[]);break;case 65373:Ae=(0,w.readUint16)(h,G);const be={};ke=G+2;let Ce;switch(A.SIZ.Csiz<257?Ce=h[ke++]:(Ce=(0,w.readUint16)(h,ke),ke+=2),de=h[ke++],de&31){case 0:ge=8,Be=!0;break;case 1:ge=16,Be=!1;break;case 2:ge=16,Be=!0;break;default:throw new Error("Invalid SQcd value "+de)}for(be.noQuantization=ge===8,be.scalarExpounded=Be,be.guardBits=de>>5,Ie=[];ke<Ae+G;){const Fe={};ge===8?(Fe.epsilon=h[ke++]>>3,Fe.mu=0):(Fe.epsilon=h[ke]>>3,Fe.mu=(h[ke]&7)<<8|h[ke+1],ke+=2),Ie.push(Fe)}be.SPqcds=Ie,A.mainHeader?A.QCC[Ce]=be:A.currentTile.QCC[Ce]=be;break;case 65362:Ae=(0,w.readUint16)(h,G);const ce={};ke=G+2;const Ee=h[ke++];ce.entropyCoderWithCustomPrecincts=!!(Ee&1),ce.sopMarkerUsed=!!(Ee&2),ce.ephMarkerUsed=!!(Ee&4),ce.progressionOrder=h[ke++],ce.layersCount=(0,w.readUint16)(h,ke),ke+=2,ce.multipleComponentTransform=h[ke++],ce.decompositionLevelsCount=h[ke++],ce.xcb=(h[ke++]&15)+2,ce.ycb=(h[ke++]&15)+2;const ve=h[ke++];if(ce.selectiveArithmeticCodingBypass=!!(ve&1),ce.resetContextProbabilities=!!(ve&2),ce.terminationOnEachCodingPass=!!(ve&4),ce.verticallyStripe=!!(ve&8),ce.predictableTermination=!!(ve&16),ce.segmentationSymbolUsed=!!(ve&32),ce.reversibleTransformation=h[ke++],ce.entropyCoderWithCustomPrecincts){const Fe=[];for(;ke<Ae+G;){const _e=h[ke++];Fe.push({PPx:_e&15,PPy:_e>>4})}ce.precinctsSizes=Fe}const he=[];ce.selectiveArithmeticCodingBypass&&he.push("selectiveArithmeticCodingBypass"),ce.terminationOnEachCodingPass&&he.push("terminationOnEachCodingPass"),ce.verticallyStripe&&he.push("verticallyStripe"),ce.predictableTermination&&he.push("predictableTermination"),he.length>0&&(E=!0,(0,n.warn)(`JPX: Unsupported COD options (${he.join(", ")}).`)),A.mainHeader?A.COD=ce:(A.currentTile.COD=ce,A.currentTile.COC=[]);break;case 65424:Ae=(0,w.readUint16)(h,G),ee={},ee.index=(0,w.readUint16)(h,G+2),ee.length=(0,w.readUint32)(h,G+4),ee.dataEnd=ee.length+G-2,ee.partIndex=h[G+8],ee.partsCount=h[G+9],A.mainHeader=!1,ee.partIndex===0&&(ee.COD=A.COD,ee.COC=A.COC.slice(0),ee.QCD=A.QCD,ee.QCC=A.QCC.slice(0)),A.currentTile=ee;break;case 65427:ee=A.currentTile,ee.partIndex===0&&(W(A,ee.index),re(A)),Ae=ee.dataEnd-G,T(A,h,G,Ae);break;case 65363:(0,n.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:Ae=(0,w.readUint16)(h,G);break;default:throw new Error("Unknown codestream code: "+se.toString(16))}G+=Ae}}catch(G){if(E||this.failOnCorruptedImage)throw new e(G.message);(0,n.warn)(`JPX: Trying to recover from: "${G.message}".`)}this.tiles=y(A),this.width=A.SIZ.Xsiz-A.SIZ.XOsiz,this.height=A.SIZ.Ysiz-A.SIZ.YOsiz,this.componentsCount=A.SIZ.Csiz}}x.JpxImage=o;function K(I,h){I.x0=Math.ceil(h.XOsiz/I.XRsiz),I.x1=Math.ceil(h.Xsiz/I.XRsiz),I.y0=Math.ceil(h.YOsiz/I.YRsiz),I.y1=Math.ceil(h.Ysiz/I.YRsiz),I.width=I.x1-I.x0,I.height=I.y1-I.y0}function H(I,h){const B=I.SIZ,r=[];let A;const E=Math.ceil((B.Xsiz-B.XTOsiz)/B.XTsiz),G=Math.ceil((B.Ysiz-B.YTOsiz)/B.YTsiz);for(let Ae=0;Ae<G;Ae++)for(let ke=0;ke<E;ke++)A={},A.tx0=Math.max(B.XTOsiz+ke*B.XTsiz,B.XOsiz),A.ty0=Math.max(B.YTOsiz+Ae*B.YTsiz,B.YOsiz),A.tx1=Math.min(B.XTOsiz+(ke+1)*B.XTsiz,B.Xsiz),A.ty1=Math.min(B.YTOsiz+(Ae+1)*B.YTsiz,B.Ysiz),A.width=A.tx1-A.tx0,A.height=A.ty1-A.ty0,A.components=[],r.push(A);I.tiles=r;const se=B.Csiz;for(let Ae=0,ke=se;Ae<ke;Ae++){const de=h[Ae];for(let Ie=0,ge=r.length;Ie<ge;Ie++){const Be={};A=r[Ie],Be.tcx0=Math.ceil(A.tx0/de.XRsiz),Be.tcy0=Math.ceil(A.ty0/de.YRsiz),Be.tcx1=Math.ceil(A.tx1/de.XRsiz),Be.tcy1=Math.ceil(A.ty1/de.YRsiz),Be.width=Be.tcx1-Be.tcx0,Be.height=Be.tcy1-Be.tcy0,A.components[Ae]=Be}}}function U(I,h,B){const r=h.codingStyleParameters,A={};return r.entropyCoderWithCustomPrecincts?(A.PPx=r.precinctsSizes[B].PPx,A.PPy=r.precinctsSizes[B].PPy):(A.PPx=15,A.PPy=15),A.xcb_=B>0?Math.min(r.xcb,A.PPx-1):Math.min(r.xcb,A.PPx),A.ycb_=B>0?Math.min(r.ycb,A.PPy-1):Math.min(r.ycb,A.PPy),A}function P(I,h,B){const r=1<<B.PPx,A=1<<B.PPy,E=h.resLevel===0,G=1<<B.PPx+(E?0:-1),se=1<<B.PPy+(E?0:-1),Ae=h.trx1>h.trx0?Math.ceil(h.trx1/r)-Math.floor(h.trx0/r):0,ke=h.try1>h.try0?Math.ceil(h.try1/A)-Math.floor(h.try0/A):0,de=Ae*ke;h.precinctParameters={precinctWidth:r,precinctHeight:A,numprecinctswide:Ae,numprecinctshigh:ke,numprecincts:de,precinctWidthInSubband:G,precinctHeightInSubband:se}}function f(I,h,B){const r=B.xcb_,A=B.ycb_,E=1<<r,G=1<<A,se=h.tbx0>>r,Ae=h.tby0>>A,ke=h.tbx1+E-1>>r,de=h.tby1+G-1>>A,Ie=h.resolution.precinctParameters,ge=[],Be=[];let ee,te,fe,ue;for(te=Ae;te<de;te++)for(ee=se;ee<ke;ee++){fe={cbx:ee,cby:te,tbx0:E*ee,tby0:G*te,tbx1:E*(ee+1),tby1:G*(te+1)},fe.tbx0_=Math.max(h.tbx0,fe.tbx0),fe.tby0_=Math.max(h.tby0,fe.tby0),fe.tbx1_=Math.min(h.tbx1,fe.tbx1),fe.tby1_=Math.min(h.tby1,fe.tby1);const le=Math.floor((fe.tbx0_-h.tbx0)/Ie.precinctWidthInSubband),be=Math.floor((fe.tby0_-h.tby0)/Ie.precinctHeightInSubband);if(ue=le+be*Ie.numprecinctswide,fe.precinctNumber=ue,fe.subbandType=h.type,fe.Lblock=3,fe.tbx1_<=fe.tbx0_||fe.tby1_<=fe.tby0_)continue;ge.push(fe);let Ce=Be[ue];Ce!==void 0?(ee<Ce.cbxMin?Ce.cbxMin=ee:ee>Ce.cbxMax&&(Ce.cbxMax=ee),te<Ce.cbyMin?Ce.cbxMin=te:te>Ce.cbyMax&&(Ce.cbyMax=te)):Be[ue]=Ce={cbxMin:ee,cbyMin:te,cbxMax:ee,cbyMax:te},fe.precinct=Ce}h.codeblockParameters={codeblockWidth:r,codeblockHeight:A,numcodeblockwide:ke-se+1,numcodeblockhigh:de-Ae+1},h.codeblocks=ge,h.precincts=Be}function p(I,h,B){const r=[],A=I.subbands;for(let E=0,G=A.length;E<G;E++){const Ae=A[E].codeblocks;for(let ke=0,de=Ae.length;ke<de;ke++){const Ie=Ae[ke];Ie.precinctNumber===h&&r.push(Ie)}}return{layerNumber:B,codeblocks:r}}function i(I){const h=I.SIZ,B=I.currentTile.index,r=I.tiles[B],A=r.codingStyleDefaultParameters.layersCount,E=h.Csiz;let G=0;for(let Ie=0;Ie<E;Ie++)G=Math.max(G,r.components[Ie].codingStyleParameters.decompositionLevelsCount);let se=0,Ae=0,ke=0,de=0;this.nextPacket=function(){for(;se<A;se++){for(;Ae<=G;Ae++){for(;ke<E;ke++){const ge=r.components[ke];if(Ae>ge.codingStyleParameters.decompositionLevelsCount)continue;const Be=ge.resolutions[Ae],ee=Be.precinctParameters.numprecincts;for(;de<ee;){const te=p(Be,de,se);return de++,te}de=0}ke=0}Ae=0}throw new e("Out of packets")}}function k(I){const h=I.SIZ,B=I.currentTile.index,r=I.tiles[B],A=r.codingStyleDefaultParameters.layersCount,E=h.Csiz;let G=0;for(let Ie=0;Ie<E;Ie++)G=Math.max(G,r.components[Ie].codingStyleParameters.decompositionLevelsCount);let se=0,Ae=0,ke=0,de=0;this.nextPacket=function(){for(;se<=G;se++){for(;Ae<A;Ae++){for(;ke<E;ke++){const ge=r.components[ke];if(se>ge.codingStyleParameters.decompositionLevelsCount)continue;const Be=ge.resolutions[se],ee=Be.precinctParameters.numprecincts;for(;de<ee;){const te=p(Be,de,Ae);return de++,te}de=0}ke=0}Ae=0}throw new e("Out of packets")}}function F(I){const h=I.SIZ,B=I.currentTile.index,r=I.tiles[B],A=r.codingStyleDefaultParameters.layersCount,E=h.Csiz;let G,se,Ae,ke,de=0;for(Ae=0;Ae<E;Ae++){const ge=r.components[Ae];de=Math.max(de,ge.codingStyleParameters.decompositionLevelsCount)}const Ie=new Int32Array(de+1);for(se=0;se<=de;++se){let ge=0;for(Ae=0;Ae<E;++Ae){const Be=r.components[Ae].resolutions;se<Be.length&&(ge=Math.max(ge,Be[se].precinctParameters.numprecincts))}Ie[se]=ge}G=0,se=0,Ae=0,ke=0,this.nextPacket=function(){for(;se<=de;se++){for(;ke<Ie[se];ke++){for(;Ae<E;Ae++){const Be=r.components[Ae];if(se>Be.codingStyleParameters.decompositionLevelsCount)continue;const ee=Be.resolutions[se],te=ee.precinctParameters.numprecincts;if(!(ke>=te)){for(;G<A;){const fe=p(ee,ke,G);return G++,fe}G=0}}Ae=0}ke=0}throw new e("Out of packets")}}function _(I){const h=I.SIZ,B=I.currentTile.index,r=I.tiles[B],A=r.codingStyleDefaultParameters.layersCount,E=h.Csiz,G=j(r),se=G;let Ae=0,ke=0,de=0,Ie=0,ge=0;this.nextPacket=function(){for(;ge<se.maxNumHigh;ge++){for(;Ie<se.maxNumWide;Ie++){for(;de<E;de++){const ee=r.components[de],te=ee.codingStyleParameters.decompositionLevelsCount;for(;ke<=te;ke++){const fe=ee.resolutions[ke],ue=G.components[de].resolutions[ke],le=Q(Ie,ge,ue,se,fe);if(le!==null){for(;Ae<A;){const be=p(fe,le,Ae);return Ae++,be}Ae=0}}ke=0}de=0}Ie=0}throw new e("Out of packets")}}function C(I){const h=I.SIZ,B=I.currentTile.index,r=I.tiles[B],A=r.codingStyleDefaultParameters.layersCount,E=h.Csiz,G=j(r);let se=0,Ae=0,ke=0,de=0,Ie=0;this.nextPacket=function(){for(;ke<E;++ke){const Be=r.components[ke],ee=G.components[ke],te=Be.codingStyleParameters.decompositionLevelsCount;for(;Ie<ee.maxNumHigh;Ie++){for(;de<ee.maxNumWide;de++){for(;Ae<=te;Ae++){const fe=Be.resolutions[Ae],ue=ee.resolutions[Ae],le=Q(de,Ie,ue,ee,fe);if(le!==null){for(;se<A;){const be=p(fe,le,se);return se++,be}se=0}}Ae=0}de=0}Ie=0}throw new e("Out of packets")}}function Q(I,h,B,r,A){const E=I*r.minWidth,G=h*r.minHeight;if(E%B.width!==0||G%B.height!==0)return null;const se=G/B.width*A.precinctParameters.numprecinctswide;return E/B.height+se}function j(I){const h=I.components.length;let B=Number.MAX_VALUE,r=Number.MAX_VALUE,A=0,E=0;const G=new Array(h);for(let se=0;se<h;se++){const Ae=I.components[se],ke=Ae.codingStyleParameters.decompositionLevelsCount,de=new Array(ke+1);let Ie=Number.MAX_VALUE,ge=Number.MAX_VALUE,Be=0,ee=0,te=1;for(let fe=ke;fe>=0;--fe){const ue=Ae.resolutions[fe],le=te*ue.precinctParameters.precinctWidth,be=te*ue.precinctParameters.precinctHeight;Ie=Math.min(Ie,le),ge=Math.min(ge,be),Be=Math.max(Be,ue.precinctParameters.numprecinctswide),ee=Math.max(ee,ue.precinctParameters.numprecinctshigh),de[fe]={width:le,height:be},te<<=1}B=Math.min(B,Ie),r=Math.min(r,ge),A=Math.max(A,Be),E=Math.max(E,ee),G[se]={resolutions:de,minWidth:Ie,minHeight:ge,maxNumWide:Be,maxNumHigh:ee}}return{components:G,minWidth:B,minHeight:r,maxNumWide:A,maxNumHigh:E}}function re(I){const h=I.SIZ,B=I.currentTile.index,r=I.tiles[B],A=h.Csiz;for(let G=0;G<A;G++){const se=r.components[G],Ae=se.codingStyleParameters.decompositionLevelsCount,ke=[],de=[];for(let Ie=0;Ie<=Ae;Ie++){const ge=U(I,se,Ie),Be={},ee=1<<Ae-Ie;Be.trx0=Math.ceil(se.tcx0/ee),Be.try0=Math.ceil(se.tcy0/ee),Be.trx1=Math.ceil(se.tcx1/ee),Be.try1=Math.ceil(se.tcy1/ee),Be.resLevel=Ie,P(I,Be,ge),ke.push(Be);let te;if(Ie===0)te={},te.type="LL",te.tbx0=Math.ceil(se.tcx0/ee),te.tby0=Math.ceil(se.tcy0/ee),te.tbx1=Math.ceil(se.tcx1/ee),te.tby1=Math.ceil(se.tcy1/ee),te.resolution=Be,f(I,te,ge),de.push(te),Be.subbands=[te];else{const fe=1<<Ae-Ie+1,ue=[];te={},te.type="HL",te.tbx0=Math.ceil(se.tcx0/fe-.5),te.tby0=Math.ceil(se.tcy0/fe),te.tbx1=Math.ceil(se.tcx1/fe-.5),te.tby1=Math.ceil(se.tcy1/fe),te.resolution=Be,f(I,te,ge),de.push(te),ue.push(te),te={},te.type="LH",te.tbx0=Math.ceil(se.tcx0/fe),te.tby0=Math.ceil(se.tcy0/fe-.5),te.tbx1=Math.ceil(se.tcx1/fe),te.tby1=Math.ceil(se.tcy1/fe-.5),te.resolution=Be,f(I,te,ge),de.push(te),ue.push(te),te={},te.type="HH",te.tbx0=Math.ceil(se.tcx0/fe-.5),te.tby0=Math.ceil(se.tcy0/fe-.5),te.tbx1=Math.ceil(se.tcx1/fe-.5),te.tby1=Math.ceil(se.tcy1/fe-.5),te.resolution=Be,f(I,te,ge),de.push(te),ue.push(te),Be.subbands=ue}}se.resolutions=ke,se.subbands=de}const E=r.codingStyleDefaultParameters.progressionOrder;switch(E){case 0:r.packetsIterator=new i(I);break;case 1:r.packetsIterator=new k(I);break;case 2:r.packetsIterator=new F(I);break;case 3:r.packetsIterator=new _(I);break;case 4:r.packetsIterator=new C(I);break;default:throw new e(`Unsupported progression order ${E}`)}}function T(I,h,B,r){let A=0,E,G=0,se=!1;function Ae(le){for(;G<le;){const be=h[B+A];A++,se?(E=E<<7|be,G+=7,se=!1):(E=E<<8|be,G+=8),be===255&&(se=!0)}return G-=le,E>>>G&(1<<le)-1}function ke(le){return h[B+A-1]===255&&h[B+A]===le?(de(1),!0):h[B+A]===255&&h[B+A+1]===le?(de(2),!0):!1}function de(le){A+=le}function Ie(){G=0,se&&(A++,se=!1)}function ge(){if(Ae(1)===0)return 1;if(Ae(1)===0)return 2;let le=Ae(2);return le<3?le+3:(le=Ae(5),le<31?le+6:(le=Ae(7),le+37))}const Be=I.currentTile.index,ee=I.tiles[Be],te=I.COD.sopMarkerUsed,fe=I.COD.ephMarkerUsed,ue=ee.packetsIterator;for(;A<r;){Ie(),te&&ke(145)&&de(4);const le=ue.nextPacket();if(!Ae(1))continue;const be=le.layerNumber,Ce=[];let ce;for(let Ee=0,ve=le.codeblocks.length;Ee<ve;Ee++){ce=le.codeblocks[Ee];let he=ce.precinct;const Fe=ce.cbx-he.cbxMin,_e=ce.cby-he.cbyMin;let Ne=!1,Ze=!1,tt,je;if(ce.included!==void 0)Ne=!!Ae(1);else{he=ce.precinct;let pt;if(he.inclusionTree!==void 0)pt=he.inclusionTree;else{const at=he.cbxMax-he.cbxMin+1,Re=he.cbyMax-he.cbyMin+1;pt=new b(at,Re,be),je=new u(at,Re),he.inclusionTree=pt,he.zeroBitPlanesTree=je;for(let Ge=0;Ge<be;Ge++)if(Ae(1)!==0)throw new e("Invalid tag tree")}if(pt.reset(Fe,_e,be))for(;;)if(Ae(1)){if(tt=!pt.nextLevel(),tt){ce.included=!0,Ne=Ze=!0;break}}else{pt.incrementValue(be);break}}if(!Ne)continue;if(Ze){for(je=he.zeroBitPlanesTree,je.reset(Fe,_e);;)if(Ae(1)){if(tt=!je.nextLevel(),tt)break}else je.incrementValue();ce.zeroBitPlanes=je.value}const $e=ge();for(;Ae(1);)ce.Lblock++;const He=(0,w.log2)($e),Ve=($e<1<<He?He-1:He)+ce.Lblock,st=Ae(Ve);Ce.push({codeblock:ce,codingpasses:$e,dataLength:st})}for(Ie(),fe&&ke(146);Ce.length>0;){const Ee=Ce.shift();ce=Ee.codeblock,ce.data===void 0&&(ce.data=[]),ce.data.push({data:h,start:B+A,end:B+A+Ee.dataLength,codingpasses:Ee.codingpasses}),A+=Ee.dataLength}}return A}function R(I,h,B,r,A,E,G,se,Ae){const ke=r.tbx0,de=r.tby0,Ie=r.tbx1-r.tbx0,ge=r.codeblocks,Be=r.type.charAt(0)==="H"?1:0,ee=r.type.charAt(1)==="H"?h:0;for(let te=0,fe=ge.length;te<fe;++te){const ue=ge[te],le=ue.tbx1_-ue.tbx0_,be=ue.tby1_-ue.tby0_;if(le===0||be===0||ue.data===void 0)continue;const Ce=new D(le,be,ue.subbandType,ue.zeroBitPlanes,E);let ce=2;const Ee=ue.data;let ve=0,he=0,Fe,_e,Ne;for(Fe=0,_e=Ee.length;Fe<_e;Fe++)Ne=Ee[Fe],ve+=Ne.end-Ne.start,he+=Ne.codingpasses;const Ze=new Uint8Array(ve);let tt=0;for(Fe=0,_e=Ee.length;Fe<_e;Fe++){Ne=Ee[Fe];const rt=Ne.data.subarray(Ne.start,Ne.end);Ze.set(rt,tt),tt+=rt.length}const je=new O.ArithmeticDecoder(Ze,0,ve);for(Ce.setDecoder(je),Fe=0;Fe<he;Fe++){switch(ce){case 0:Ce.runSignificancePropagationPass();break;case 1:Ce.runMagnitudeRefinementPass();break;case 2:Ce.runCleanupPass(),se&&Ce.checkSegmentationSymbol();break}Ae&&Ce.reset(),ce=(ce+1)%3}let $e=ue.tbx0_-ke+(ue.tby0_-de)*Ie;const He=Ce.coefficentsSign,Ve=Ce.coefficentsMagnitude,st=Ce.bitsDecoded,pt=G?0:.5;let at,Re,Ge;tt=0;const gt=r.type!=="LL";for(Fe=0;Fe<be;Fe++){const Bt=2*($e/Ie|0)*(h-Ie)+Be+ee;for(at=0;at<le;at++){if(Re=Ve[tt],Re!==0){Re=(Re+pt)*A,He[tt]!==0&&(Re=-Re),Ge=st[tt];const St=gt?Bt+($e<<1):$e;I[St]=G&&Ge>=E?Re:Re*(1<<E-Ge)}$e++,tt++}$e+=Ie-le}}}function d(I,h,B){const r=h.components[B],A=r.codingStyleParameters,E=r.quantizationParameters,G=A.decompositionLevelsCount,se=E.SPqcds,Ae=E.scalarExpounded,ke=E.guardBits,de=A.segmentationSymbolUsed,Ie=A.resetContextProbabilities,ge=I.components[B].precision,Be=A.reversibleTransformation,ee=Be?new v:new N,te=[];let fe=0;for(let le=0;le<=G;le++){const be=r.resolutions[le],Ce=be.trx1-be.trx0,ce=be.try1-be.try0,Ee=new Float32Array(Ce*ce);for(let ve=0,he=be.subbands.length;ve<he;ve++){let Fe,_e;Ae?(Fe=se[fe].mu,_e=se[fe].epsilon,fe++):(Fe=se[0].mu,_e=se[0].epsilon+(le>0?1-le:0));const Ne=be.subbands[ve],Ze=t[Ne.type],tt=Be?1:2**(ge+Ze-_e)*(1+Fe/2048),je=ke+_e-1;R(Ee,Ce,ce,Ne,tt,je,Be,de,Ie)}te.push({width:Ce,height:ce,items:Ee})}const ue=ee.calculate(te,r.tcx0,r.tcy0);return{left:r.tcx0,top:r.tcy0,width:ue.width,height:ue.height,items:ue.items}}function y(I){const h=I.SIZ,B=I.components,r=h.Csiz,A=[];for(let E=0,G=I.tiles.length;E<G;E++){const se=I.tiles[E],Ae=[];for(let Ce=0;Ce<r;Ce++)Ae[Ce]=d(I,se,Ce);const ke=Ae[0],de=new Uint8ClampedArray(ke.items.length*r),Ie={left:ke.left,top:ke.top,width:ke.width,height:ke.height,items:de};let ge,Be,ee=0,te,fe,ue,le,be;if(se.codingStyleDefaultParameters.multipleComponentTransform){const Ce=r===4,ce=Ae[0].items,Ee=Ae[1].items,ve=Ae[2].items,he=Ce?Ae[3].items:null;ge=B[0].precision-8,Be=(128<<ge)+.5;const Fe=se.components[0],_e=r-3;if(fe=ce.length,Fe.codingStyleParameters.reversibleTransformation)for(te=0;te<fe;te++,ee+=_e){ue=ce[te]+Be,le=Ee[te],be=ve[te];const Ne=ue-(be+le>>2);de[ee++]=Ne+be>>ge,de[ee++]=Ne>>ge,de[ee++]=Ne+le>>ge}else for(te=0;te<fe;te++,ee+=_e)ue=ce[te]+Be,le=Ee[te],be=ve[te],de[ee++]=ue+1.402*be>>ge,de[ee++]=ue-.34413*le-.71414*be>>ge,de[ee++]=ue+1.772*le>>ge;if(Ce)for(te=0,ee=3;te<fe;te++,ee+=4)de[ee]=he[te]+Be>>ge}else for(let Ce=0;Ce<r;Ce++){const ce=Ae[Ce].items;for(ge=B[Ce].precision-8,Be=(128<<ge)+.5,ee=Ce,te=0,fe=ce.length;te<fe;te++)de[ee]=ce[te]+Be>>ge,ee+=r}A.push(Ie)}return A}function W(I,h){const r=I.SIZ.Csiz,A=I.tiles[h];for(let E=0;E<r;E++){const G=A.components[E],se=I.currentTile.QCC[E]!==void 0?I.currentTile.QCC[E]:I.currentTile.QCD;G.quantizationParameters=se;const Ae=I.currentTile.COC[E]!==void 0?I.currentTile.COC[E]:I.currentTile.COD;G.codingStyleParameters=Ae}A.codingStyleDefaultParameters=I.currentTile.COD}class u{constructor(h,B){const r=(0,w.log2)(Math.max(h,B))+1;this.levels=[];for(let A=0;A<r;A++){const E={width:h,height:B,items:[]};this.levels.push(E),h=Math.ceil(h/2),B=Math.ceil(B/2)}}reset(h,B){let r=0,A=0,E;for(;r<this.levels.length;){E=this.levels[r];const G=h+B*E.width;if(E.items[G]!==void 0){A=E.items[G];break}E.index=G,h>>=1,B>>=1,r++}r--,E=this.levels[r],E.items[E.index]=A,this.currentLevel=r,delete this.value}incrementValue(){const h=this.levels[this.currentLevel];h.items[h.index]++}nextLevel(){let h=this.currentLevel,B=this.levels[h];const r=B.items[B.index];return h--,h<0?(this.value=r,!1):(this.currentLevel=h,B=this.levels[h],B.items[B.index]=r,!0)}}class b{constructor(h,B,r){const A=(0,w.log2)(Math.max(h,B))+1;this.levels=[];for(let E=0;E<A;E++){const G=new Uint8Array(h*B);for(let Ae=0,ke=G.length;Ae<ke;Ae++)G[Ae]=r;const se={width:h,height:B,items:G};this.levels.push(se),h=Math.ceil(h/2),B=Math.ceil(B/2)}}reset(h,B,r){let A=0;for(;A<this.levels.length;){const E=this.levels[A],G=h+B*E.width;E.index=G;const se=E.items[G];if(se===255)break;if(se>r)return this.currentLevel=A,this.propagateValues(),!1;h>>=1,B>>=1,A++}return this.currentLevel=A-1,!0}incrementValue(h){const B=this.levels[this.currentLevel];B.items[B.index]=h+1,this.propagateValues()}propagateValues(){let h=this.currentLevel,B=this.levels[h];const r=B.items[B.index];for(;--h>=0;)B=this.levels[h],B.items[B.index]=r}nextLevel(){let h=this.currentLevel,B=this.levels[h];const r=B.items[B.index];return B.items[B.index]=255,h--,h<0?!1:(this.currentLevel=h,B=this.levels[h],B.items[B.index]=r,!0)}}const S=class S{constructor(h,B,r,A,E){this.width=h,this.height=B;let G;r==="HH"?G=S.HHContextLabel:r==="HL"?G=S.HLContextLabel:G=S.LLAndLHContextsLabel,this.contextLabelTable=G;const se=h*B;this.neighborsSignificance=new Uint8Array(se),this.coefficentsSign=new Uint8Array(se);let Ae;E>14?Ae=new Uint32Array(se):E>6?Ae=new Uint16Array(se):Ae=new Uint8Array(se),this.coefficentsMagnitude=Ae,this.processingFlags=new Uint8Array(se);const ke=new Uint8Array(se);if(A!==0)for(let de=0;de<se;de++)ke[de]=A;this.bitsDecoded=ke,this.reset()}setDecoder(h){this.decoder=h}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[S.UNIFORM_CONTEXT]=92,this.contexts[S.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(h,B,r){const A=this.neighborsSignificance,E=this.width,G=this.height,se=B>0,Ae=B+1<E;let ke;h>0&&(ke=r-E,se&&(A[ke-1]+=16),Ae&&(A[ke+1]+=16),A[ke]+=4),h+1<G&&(ke=r+E,se&&(A[ke-1]+=16),Ae&&(A[ke+1]+=16),A[ke]+=4),se&&(A[r-1]+=1),Ae&&(A[r+1]+=1),A[r]|=128}runSignificancePropagationPass(){const h=this.decoder,B=this.width,r=this.height,A=this.coefficentsMagnitude,E=this.coefficentsSign,G=this.neighborsSignificance,se=this.processingFlags,Ae=this.contexts,ke=this.contextLabelTable,de=this.bitsDecoded,Ie=-2,ge=1,Be=2;for(let ee=0;ee<r;ee+=4)for(let te=0;te<B;te++){let fe=ee*B+te;for(let ue=0;ue<4;ue++,fe+=B){const le=ee+ue;if(le>=r)break;if(se[fe]&=Ie,A[fe]||!G[fe])continue;const be=ke[G[fe]];if(h.readBit(Ae,be)){const ce=this.decodeSignBit(le,te,fe);E[fe]=ce,A[fe]=1,this.setNeighborsSignificance(le,te,fe),se[fe]|=Be}de[fe]++,se[fe]|=ge}}}decodeSignBit(h,B,r){const A=this.width,E=this.height,G=this.coefficentsMagnitude,se=this.coefficentsSign;let Ae,ke,de,Ie,ge,Be;Ie=B>0&&G[r-1]!==0,B+1<A&&G[r+1]!==0?(de=se[r+1],Ie?(ke=se[r-1],Ae=1-de-ke):Ae=1-de-de):Ie?(ke=se[r-1],Ae=1-ke-ke):Ae=0;const ee=3*Ae;return Ie=h>0&&G[r-A]!==0,h+1<E&&G[r+A]!==0?(de=se[r+A],Ie?(ke=se[r-A],Ae=1-de-ke+ee):Ae=1-de-de+ee):Ie?(ke=se[r-A],Ae=1-ke-ke+ee):Ae=ee,Ae>=0?(ge=9+Ae,Be=this.decoder.readBit(this.contexts,ge)):(ge=9-Ae,Be=this.decoder.readBit(this.contexts,ge)^1),Be}runMagnitudeRefinementPass(){const h=this.decoder,B=this.width,r=this.height,A=this.coefficentsMagnitude,E=this.neighborsSignificance,G=this.contexts,se=this.bitsDecoded,Ae=this.processingFlags,ke=1,de=2,Ie=B*r,ge=B*4;for(let Be=0,ee;Be<Ie;Be=ee){ee=Math.min(Ie,Be+ge);for(let te=0;te<B;te++)for(let fe=Be+te;fe<ee;fe+=B){if(!A[fe]||Ae[fe]&ke)continue;let ue=16;Ae[fe]&de&&(Ae[fe]^=de,ue=(E[fe]&127)===0?15:14);const le=h.readBit(G,ue);A[fe]=A[fe]<<1|le,se[fe]++,Ae[fe]|=ke}}}runCleanupPass(){const h=this.decoder,B=this.width,r=this.height,A=this.neighborsSignificance,E=this.coefficentsMagnitude,G=this.coefficentsSign,se=this.contexts,Ae=this.contextLabelTable,ke=this.bitsDecoded,de=this.processingFlags,Ie=1,ge=2,Be=B,ee=B*2,te=B*3;let fe;for(let ue=0;ue<r;ue=fe){fe=Math.min(ue+4,r);const le=ue*B,be=ue+3<r;for(let Ce=0;Ce<B;Ce++){const ce=le+Ce,Ee=be&&de[ce]===0&&de[ce+Be]===0&&de[ce+ee]===0&&de[ce+te]===0&&A[ce]===0&&A[ce+Be]===0&&A[ce+ee]===0&&A[ce+te]===0;let ve=0,he=ce,Fe=ue,_e;if(Ee){if(!h.readBit(se,S.RUNLENGTH_CONTEXT)){ke[ce]++,ke[ce+Be]++,ke[ce+ee]++,ke[ce+te]++;continue}ve=h.readBit(se,S.UNIFORM_CONTEXT)<<1|h.readBit(se,S.UNIFORM_CONTEXT),ve!==0&&(Fe=ue+ve,he+=ve*B),_e=this.decodeSignBit(Fe,Ce,he),G[he]=_e,E[he]=1,this.setNeighborsSignificance(Fe,Ce,he),de[he]|=ge,he=ce;for(let Ze=ue;Ze<=Fe;Ze++,he+=B)ke[he]++;ve++}for(Fe=ue+ve;Fe<fe;Fe++,he+=B){if(E[he]||de[he]&Ie)continue;const Ne=Ae[A[he]];h.readBit(se,Ne)===1&&(_e=this.decodeSignBit(Fe,Ce,he),G[he]=_e,E[he]=1,this.setNeighborsSignificance(Fe,Ce,he),de[he]|=ge),ke[he]++}}}}checkSegmentationSymbol(){const h=this.decoder,B=this.contexts;if((h.readBit(B,S.UNIFORM_CONTEXT)<<3|h.readBit(B,S.UNIFORM_CONTEXT)<<2|h.readBit(B,S.UNIFORM_CONTEXT)<<1|h.readBit(B,S.UNIFORM_CONTEXT))!==10)throw new e("Invalid segmentation symbol")}};yr(S,"UNIFORM_CONTEXT",17),yr(S,"RUNLENGTH_CONTEXT",18),yr(S,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),yr(S,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),yr(S,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));let D=S;class J{constructor(){this.constructor===J&&(0,n.unreachable)("Cannot initialize Transform.")}calculate(h,B,r){let A=h[0];for(let E=1,G=h.length;E<G;E++)A=this.iterate(A,h[E],B,r);return A}extend(h,B,r){let A=B-1,E=B+1,G=B+r-2,se=B+r;h[A--]=h[E++],h[se++]=h[G--],h[A--]=h[E++],h[se++]=h[G--],h[A--]=h[E++],h[se++]=h[G--],h[A]=h[E],h[se]=h[G]}filter(h,B,r){(0,n.unreachable)("Abstract method `filter` called")}iterate(h,B,r,A){const E=h.width,G=h.height;let se=h.items;const Ae=B.width,ke=B.height,de=B.items;let Ie,ge,Be,ee,te,fe;for(Be=0,Ie=0;Ie<G;Ie++)for(ee=Ie*2*Ae,ge=0;ge<E;ge++,Be++,ee+=2)de[ee]=se[Be];se=h.items=null;const ue=4,le=new Float32Array(Ae+2*ue);if(Ae===1){if(r&1)for(fe=0,Be=0;fe<ke;fe++,Be+=Ae)de[Be]*=.5}else for(fe=0,Be=0;fe<ke;fe++,Be+=Ae)le.set(de.subarray(Be,Be+Ae),ue),this.extend(le,ue,Ae),this.filter(le,ue,Ae),de.set(le.subarray(ue,ue+Ae),Be);let be=16;const Ce=[];for(Ie=0;Ie<be;Ie++)Ce.push(new Float32Array(ke+2*ue));let ce,Ee=0;if(h=ue+ke,ke===1){if(A&1)for(te=0;te<Ae;te++)de[te]*=.5}else for(te=0;te<Ae;te++){if(Ee===0){for(be=Math.min(Ae-te,be),Be=te,ee=ue;ee<h;Be+=Ae,ee++)for(ce=0;ce<be;ce++)Ce[ce][ee]=de[Be+ce];Ee=be}Ee--;const ve=Ce[Ee];if(this.extend(ve,ue,ke),this.filter(ve,ue,ke),Ee===0)for(Be=te-be+1,ee=ue;ee<h;Be+=Ae,ee++)for(ce=0;ce<be;ce++)de[Be+ce]=Ce[ce][ee]}return{width:Ae,height:ke,items:de}}}class N extends J{filter(h,B,r){const A=r>>1;B|=0;let E,G,se,Ae;const ke=-1.586134342059924,de=-.052980118572961,Ie=.882911075530934,ge=.443506852043971,Be=1.230174104914001,ee=1/Be;for(E=B-3,G=A+4;G--;E+=2)h[E]*=ee;for(E=B-2,se=ge*h[E-1],G=A+3;G--&&(Ae=ge*h[E+1],h[E]=Be*h[E]-se-Ae,G--);E+=2)E+=2,se=ge*h[E+1],h[E]=Be*h[E]-se-Ae;for(E=B-1,se=Ie*h[E-1],G=A+2;G--&&(Ae=Ie*h[E+1],h[E]-=se+Ae,G--);E+=2)E+=2,se=Ie*h[E+1],h[E]-=se+Ae;for(E=B,se=de*h[E-1],G=A+1;G--&&(Ae=de*h[E+1],h[E]-=se+Ae,G--);E+=2)E+=2,se=de*h[E+1],h[E]-=se+Ae;if(A!==0)for(E=B+1,se=ke*h[E-1],G=A;G--&&(Ae=ke*h[E+1],h[E]-=se+Ae,G--);E+=2)E+=2,se=ke*h[E+1],h[E]-=se+Ae}}class v extends J{filter(h,B,r){const A=r>>1;B|=0;let E,G;for(E=B,G=A+1;G--;E+=2)h[E]-=h[E-1]+h[E+1]+2>>2;for(E=B+1,G=A;G--;E+=2)h[E]+=h[E-1]+h[E+1]>>1}}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.LZWStream=void 0;var n=ie(18);class w extends n.DecodeStream{constructor(e,t,o){super(t),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const K=4096,H={earlyChange:o,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(K),dictionaryLengths:new Uint16Array(K),dictionaryPrevCodes:new Uint16Array(K),currentSequence:new Uint8Array(K),currentSequenceLength:0};for(let U=0;U<256;++U)H.dictionaryValues[U]=U,H.dictionaryLengths[U]=1;this.lzwState=H}readBits(e){let t=this.bitsCached,o=this.cachedData;for(;t<e;){const K=this.str.getByte();if(K===-1)return this.eof=!0,null;o=o<<8|K,t+=8}return this.bitsCached=t-=e,this.cachedData=o,this.lastCode=null,o>>>t&(1<<e)-1}readBlock(){let o=1024,K,H,U;const P=this.lzwState;if(!P)return;const f=P.earlyChange;let p=P.nextCode;const i=P.dictionaryValues,k=P.dictionaryLengths,F=P.dictionaryPrevCodes;let _=P.codeLength,C=P.prevCode;const Q=P.currentSequence;let j=P.currentSequenceLength,re=0,T=this.bufferLength,R=this.ensureBuffer(this.bufferLength+o);for(K=0;K<512;K++){const d=this.readBits(_),y=j>0;if(d<256)Q[0]=d,j=1;else if(d>=258)if(d<p)for(j=k[d],H=j-1,U=d;H>=0;H--)Q[H]=i[U],U=F[U];else Q[j++]=Q[0];else if(d===256){_=9,p=258,j=0;continue}else{this.eof=!0,delete this.lzwState;break}if(y&&(F[p]=C,k[p]=k[C]+1,i[p]=Q[0],p++,_=p+f&p+f-1?_:Math.min(Math.log(p+f)/.6931471805599453+1,12)|0),C=d,re+=j,o<re){do o+=512;while(o<re);R=this.ensureBuffer(this.bufferLength+o)}for(H=0;H<j;H++)R[T++]=Q[H]}P.nextCode=p,P.codeLength=_,P.prevCode=C,P.currentSequenceLength=j,this.bufferLength=T}}x.LZWStream=w},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PredictorStream=void 0;var n=ie(18),w=ie(4),O=ie(2);class e extends n.DecodeStream{constructor(o,K,H){if(super(K),!(H instanceof w.Dict))return o;const U=this.predictor=H.get("Predictor")||1;if(U<=1)return o;if(U!==2&&(U<10||U>15))throw new O.FormatError(`Unsupported predictor: ${U}`);this.readBlock=U===2?this.readBlockTiff:this.readBlockPng,this.str=o,this.dict=o.dict;const P=this.colors=H.get("Colors")||1,f=this.bits=H.get("BPC","BitsPerComponent")||8,p=this.columns=H.get("Columns")||1;return this.pixBytes=P*f+7>>3,this.rowBytes=p*P*f+7>>3,this}readBlockTiff(){const o=this.rowBytes,K=this.bufferLength,H=this.ensureBuffer(K+o),U=this.bits,P=this.colors,f=this.str.getBytes(o);if(this.eof=!f.length,this.eof)return;let p=0,i=0,k=0,F=0,_=K,C;if(U===1&&P===1)for(C=0;C<o;++C){let Q=f[C]^p;Q^=Q>>1,Q^=Q>>2,Q^=Q>>4,p=(Q&1)<<7,H[_++]=Q}else if(U===8){for(C=0;C<P;++C)H[_++]=f[C];for(;C<o;++C)H[_]=H[_-P]+f[C],_++}else if(U===16){const Q=P*2;for(C=0;C<Q;++C)H[_++]=f[C];for(;C<o;C+=2){const j=((f[C]&255)<<8)+(f[C+1]&255)+((H[_-Q]&255)<<8)+(H[_-Q+1]&255);H[_++]=j>>8&255,H[_++]=j&255}}else{const Q=new Uint8Array(P+1),j=(1<<U)-1;let re=0,T=K;const R=this.columns;for(C=0;C<R;++C)for(let d=0;d<P;++d)k<U&&(p=p<<8|f[re++]&255,k+=8),Q[d]=Q[d]+(p>>k-U)&j,k-=U,i=i<<U|Q[d],F+=U,F>=8&&(H[T++]=i>>F-8&255,F-=8);F>0&&(H[T++]=(i<<8-F)+(p&(1<<8-F)-1))}this.bufferLength+=o}readBlockPng(){const o=this.rowBytes,K=this.pixBytes,H=this.str.getByte(),U=this.str.getBytes(o);if(this.eof=!U.length,this.eof)return;const P=this.bufferLength,f=this.ensureBuffer(P+o);let p=f.subarray(P-o,P);p.length===0&&(p=new Uint8Array(o));let i,k=P,F,_;switch(H){case 0:for(i=0;i<o;++i)f[k++]=U[i];break;case 1:for(i=0;i<K;++i)f[k++]=U[i];for(;i<o;++i)f[k]=f[k-K]+U[i]&255,k++;break;case 2:for(i=0;i<o;++i)f[k++]=p[i]+U[i]&255;break;case 3:for(i=0;i<K;++i)f[k++]=(p[i]>>1)+U[i];for(;i<o;++i)f[k]=(p[i]+f[k-K]>>1)+U[i]&255,k++;break;case 4:for(i=0;i<K;++i)F=p[i],_=U[i],f[k++]=F+_;for(;i<o;++i){F=p[i];const C=p[i-K],Q=f[k-K],j=Q+F-C;let re=j-Q;re<0&&(re=-re);let T=j-F;T<0&&(T=-T);let R=j-C;R<0&&(R=-R),_=U[i],re<=T&&re<=R?f[k++]=Q+_:T<=R?f[k++]=F+_:f[k++]=C+_}break;default:throw new O.FormatError(`Unsupported predictor: ${H}`)}this.bufferLength+=o}}x.PredictorStream=e},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.RunLengthStream=void 0;var n=ie(18);class w extends n.DecodeStream{constructor(e,t){super(t),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}let t,o=this.bufferLength,K=e[0];if(K<128){if(t=this.ensureBuffer(o+K+1),t[o++]=e[1],K>0){const H=this.str.getBytes(K);t.set(H,o),o+=K}}else{K=257-K;const H=e[1];t=this.ensureBuffer(o+K+1);for(let U=0;U<K;U++)t[o++]=H}this.bufferLength=o}}x.RunLengthStream=w},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Font=x.ErrorFont=void 0;var n=ie(2),w=ie(35),O=ie(38),e=ie(40),t=ie(39),o=ie(37),K=ie(41),H=ie(42),U=ie(43),P=ie(44),f=ie(45),p=ie(46),i=ie(14),k=ie(47),F=ie(3),_=ie(8),C=ie(48);const Q=[[57344,63743],[1048576,1114109]],j=1e3,re=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],T=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function R(ce){if(!ce.fontMatrix||ce.fontMatrix[0]===n.FONT_IDENTITY_MATRIX[0])return;const Ee=.001/ce.fontMatrix[0],ve=ce.widths;for(const he in ve)ve[he]*=Ee;ce.defaultWidth*=Ee}function d(ce,Ee,ve){if(ce.isInternalFont||ce.hasIncludedToUnicodeMap||ce.hasEncoding||ce.toUnicode instanceof H.IdentityToUnicodeMap||!Ee||ve.length===0||ce.defaultEncoding===o.WinAnsiEncoding)return;for(const Ne of ve)if(!ke(Ne))return;const he=o.WinAnsiEncoding,Fe=[],_e=(0,t.getGlyphsUnicode)();for(const Ne in he){const Ze=he[Ne];if(Ze==="")continue;const tt=_e[Ze];tt!==void 0&&(Fe[Ne]=String.fromCharCode(tt))}Fe.length>0&&ce.toUnicode.amend(Fe)}function y(ce,Ee){if(ce.isInternalFont||ce.hasIncludedToUnicodeMap||Ee===ce.defaultEncoding||ce.toUnicode instanceof H.IdentityToUnicodeMap)return;const ve=[],he=(0,t.getGlyphsUnicode)();for(const Fe in Ee){if(ce.hasEncoding&&(ce.baseEncodingName||ce.differences[Fe]!==void 0))continue;const _e=Ee[Fe],Ne=(0,e.getUnicodeForGlyph)(_e,he);Ne!==-1&&(ve[Fe]=String.fromCharCode(Ne))}ve.length>0&&ce.toUnicode.amend(ve)}function W(ce){if(!ce.fallbackToUnicode||ce.toUnicode instanceof H.IdentityToUnicodeMap)return;const Ee=[];for(const ve in ce.fallbackToUnicode)ce.toUnicode.has(ve)||(Ee[ve]=ce.fallbackToUnicode[ve]);Ee.length>0&&ce.toUnicode.amend(Ee)}class u{constructor(Ee,ve,he,Fe,_e,Ne,Ze,tt,je){this.originalCharCode=Ee,this.fontChar=ve,this.unicode=he,this.accent=Fe,this.width=_e,this.vmetric=Ne,this.operatorListId=Ze,this.isSpace=tt,this.isInFont=je}get category(){return(0,n.shadow)(this,"category",(0,e.getCharUnicodeCategory)(this.unicode),!0)}}function b(ce,Ee){return(ce<<8)+Ee}function D(ce,Ee,ve){ce[Ee+1]=ve,ce[Ee]=ve>>>8}function J(ce,Ee){const ve=(ce<<8)+Ee;return ve&32768?ve-65536:ve}function N(ce,Ee,ve,he){return(ce<<24)+(Ee<<16)+(ve<<8)+he}function v(ce){return String.fromCharCode(ce>>8&255,ce&255)}function S(ce){return ce>32767?ce=32767:ce<-32768&&(ce=-32768),String.fromCharCode(ce>>8&255,ce&255)}function I(ce){const Ee=ce.peekBytes(4);return(0,F.readUint32)(Ee,0)===65536||(0,n.bytesToString)(Ee)==="true"}function h(ce){const Ee=ce.peekBytes(4);return(0,n.bytesToString)(Ee)==="ttcf"}function B(ce){const Ee=ce.peekBytes(4);return(0,n.bytesToString)(Ee)==="OTTO"}function r(ce){const Ee=ce.peekBytes(2);return Ee[0]===37&&Ee[1]===33||Ee[0]===128&&Ee[1]===1}function A(ce){const Ee=ce.peekBytes(4);return Ee[0]>=1&&Ee[3]>=1&&Ee[3]<=4}function E(ce,{type:Ee,subtype:ve,composite:he}){let Fe,_e;return I(ce)||h(ce)?Fe=he?"CIDFontType2":"TrueType":B(ce)?Fe=he?"CIDFontType2":"OpenType":r(ce)?he?Fe="CIDFontType0":Fe=Ee==="MMType1"?"MMType1":"Type1":A(ce)?he?(Fe="CIDFontType0",_e="CIDFontType0C"):(Fe=Ee==="MMType1"?"MMType1":"Type1",_e="Type1C"):((0,n.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),Fe=Ee,_e=ve),[Fe,_e]}function G(ce,Ee){for(const ve in Ee)ce[+ve]=Ee[ve]}function se(ce,Ee,ve){const he=[];let Fe;for(let _e=0,Ne=ce.length;_e<Ne;_e++)Fe=(0,e.getUnicodeForGlyph)(ce[_e],Ee),Fe!==-1&&(he[_e]=Fe);for(const _e in ve)Fe=(0,e.getUnicodeForGlyph)(ve[_e],Ee),Fe!==-1&&(he[+_e]=Fe);return he}function Ae(ce){return ce.platform===1&&ce.encoding===0&&ce.language===0}function ke(ce){return ce.platform===3&&ce.encoding===1&&ce.language===1033}function de(ce,Ee,ve=!1){switch(Ee.length){case 1:return Ee.charCodeAt(0);case 2:return Ee.charCodeAt(0)<<8|Ee.charCodeAt(1)}const he=`Unsupported CID string (charCode ${ce}): "${Ee}".`;if(ve)throw new n.FormatError(he);return(0,n.warn)(he),Ee}function Ie(ce,Ee,ve,he){const Fe=Object.create(null),_e=new Map,Ne=[],Ze=new Set;let tt=0,$e=Q[tt][0],He=Q[tt][1];const Ve=st=>Q[0][0]<=st&&st<=Q[0][1]||Q[1][0]<=st&&st<=Q[1][1];for(let st in ce){st|=0;let pt=ce[st];if(!Ee(pt))continue;if($e>He){if(tt++,tt>=Q.length){(0,n.warn)("Ran out of space in font private use area.");break}$e=Q[tt][0],He=Q[tt][1]}const at=$e++;pt===0&&(pt=ve);let Re=he.get(st);typeof Re=="string"&&(Re=Re.codePointAt(0)),Re&&!Ve(Re)&&!Ze.has(pt)&&(_e.set(Re,pt),Ze.add(pt)),Fe[at]=pt,Ne[st]=at}return{toFontChar:Ne,charCodeToGlyphId:Fe,toUnicodeExtraMap:_e,nextAvailableFontCharCode:$e}}function ge(ce,Ee,ve){const he=[];for(const Ne in ce)ce[Ne]>=ve||he.push({fontCharCode:Ne|0,glyphId:ce[Ne]});if(Ee)for(const[Ne,Ze]of Ee)Ze>=ve||he.push({fontCharCode:Ne,glyphId:Ze});he.length===0&&he.push({fontCharCode:0,glyphId:0}),he.sort(function(Ze,tt){return Ze.fontCharCode-tt.fontCharCode});const Fe=[],_e=he.length;for(let Ne=0;Ne<_e;){const Ze=he[Ne].fontCharCode,tt=[he[Ne].glyphId];++Ne;let je=Ze;for(;Ne<_e&&je+1===he[Ne].fontCharCode&&(tt.push(he[Ne].glyphId),++je,++Ne,je!==65535););Fe.push([Ze,je,tt])}return Fe}function Be(ce,Ee,ve){const he=ge(ce,Ee,ve),Fe=he.at(-1)[1]>65535?2:1;let _e="\0\0"+v(Fe)+"\0\0"+(0,n.string32)(4+Fe*8),Ne,Ze,tt,je;for(Ne=he.length-1;Ne>=0&&!(he[Ne][0]<=65535);--Ne);const $e=Ne+1;he[Ne][0]<65535&&he[Ne][1]===65535&&(he[Ne][1]=65534);const He=he[Ne][1]<65535?1:0,Ve=$e+He,st=k.OpenTypeFileBuilder.getSearchParams(Ve,2);let pt="",at="",Re="",Ge="",gt="",rt=0,Bt,St,jn,dt;for(Ne=0,Ze=$e;Ne<Ze;Ne++){Bt=he[Ne],St=Bt[0],jn=Bt[1],pt+=v(St),at+=v(jn),dt=Bt[2];let Ue=!0;for(tt=1,je=dt.length;tt<je;++tt)if(dt[tt]!==dt[tt-1]+1){Ue=!1;break}if(Ue){const ze=dt[0];Re+=v(ze-St&65535),Ge+=v(0)}else{const ze=(Ve-Ne)*2+rt*2;for(rt+=jn-St+1,Re+=v(0),Ge+=v(ze),tt=0,je=dt.length;tt<je;++tt)gt+=v(dt[tt])}}He>0&&(at+="",pt+="",Re+="\0",Ge+="\0\0");const Zt="\0\0"+v(2*Ve)+v(st.range)+v(st.entry)+v(st.rangeShift)+at+"\0\0"+pt+Re+Ge+gt;let Gt="",Ke="";if(Fe>1){for(_e+=`\0\0
`+(0,n.string32)(4+Fe*8+4+Zt.length),Gt="",Ne=0,Ze=he.length;Ne<Ze;Ne++){Bt=he[Ne],St=Bt[0],dt=Bt[2];let Ue=dt[0];for(tt=1,je=dt.length;tt<je;++tt)dt[tt]!==dt[tt-1]+1&&(jn=Bt[0]+tt-1,Gt+=(0,n.string32)(St)+(0,n.string32)(jn)+(0,n.string32)(Ue),St=jn+1,Ue=dt[tt]);Gt+=(0,n.string32)(St)+(0,n.string32)(Bt[1])+(0,n.string32)(Ue)}Ke="\0\f\0\0"+(0,n.string32)(Gt.length+16)+"\0\0\0\0"+(0,n.string32)(Gt.length/12)}return _e+"\0"+v(Zt.length+4)+Zt+Ke+Gt}function ee(ce,Ee){Ee.pos=(Ee.start||0)+ce.offset;const ve=Ee.getUint16();Ee.skip(60);const he=Ee.getUint16();if(ve<4&&he&768)return!1;const Fe=Ee.getUint16(),_e=Ee.getUint16();return Fe>_e||(Ee.skip(6),Ee.getUint16()===0)?!1:(ce.data[8]=ce.data[9]=0,!0)}function te(ce,Ee,ve){ve||(ve={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let he=0,Fe=0,_e=0,Ne=0,Ze=null,tt=0,je=-1;if(Ee){for(let Ge in Ee)if(Ge|=0,(Ze>Ge||!Ze)&&(Ze=Ge),tt<Ge&&(tt=Ge),je=(0,e.getUnicodeRangeFor)(Ge,je),je<32)he|=1<<je;else if(je<64)Fe|=1<<je-32;else if(je<96)_e|=1<<je-64;else if(je<123)Ne|=1<<je-96;else throw new n.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");tt>65535&&(tt=65535)}else Ze=0,tt=255;const $e=ce.bbox||[0,0,0,0],He=ve.unitsPerEm||1/(ce.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],Ve=ce.ascentScaled?1:He/j,st=ve.ascent||Math.round(Ve*(ce.ascent||$e[3]));let pt=ve.descent||Math.round(Ve*(ce.descent||$e[1]));pt>0&&ce.descent>0&&$e[1]<0&&(pt=-pt);const at=ve.yMax||st,Re=-ve.yMin||-pt;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(ce.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,n.string32)(he)+(0,n.string32)(Fe)+(0,n.string32)(_e)+(0,n.string32)(Ne)+"*21*"+v(ce.italicAngle?1:0)+v(Ze||ce.firstChar)+v(tt||ce.lastChar)+v(st)+v(pt)+"\0d"+v(at)+v(Re)+"\0\0\0\0\0\0\0\0"+v(ce.xHeight)+v(ce.capHeight)+v(0)+v(Ze||ce.firstChar)+"\0"}function fe(ce){const Ee=Math.floor(ce.italicAngle*65536);return"\0\0\0"+(0,n.string32)(Ee)+"\0\0\0\0"+(0,n.string32)(ce.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function ue(ce){return ce.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function le(ce,Ee){Ee||(Ee=[[],[]]);const ve=[Ee[0][0]||"Original licence",Ee[0][1]||ce,Ee[0][2]||"Unknown",Ee[0][3]||"uniqueID",Ee[0][4]||ce,Ee[0][5]||"Version 0.11",Ee[0][6]||ue(ce),Ee[0][7]||"Unknown",Ee[0][8]||"Unknown",Ee[0][9]||"Unknown"],he=[];let Fe,_e,Ne,Ze,tt;for(Fe=0,_e=ve.length;Fe<_e;Fe++){tt=Ee[1][Fe]||ve[Fe];const Re=[];for(Ne=0,Ze=tt.length;Ne<Ze;Ne++)Re.push(v(tt.charCodeAt(Ne)));he.push(Re.join(""))}const je=[ve,he],$e=["\0","\0"],He=["\0\0","\0"],Ve=["\0\0","	"],st=ve.length*$e.length;let pt="\0\0"+v(st)+v(st*12+6),at=0;for(Fe=0,_e=$e.length;Fe<_e;Fe++){const Re=je[Fe];for(Ne=0,Ze=Re.length;Ne<Ze;Ne++){tt=Re[Ne];const Ge=$e[Fe]+He[Fe]+Ve[Fe]+v(Ne)+v(tt.length)+v(at);pt+=Ge,at+=tt.length}}return pt+=ve.join("")+he.join(""),pt}class be{constructor(Ee,ve,he){var je;this.name=Ee,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=he.loadedName,this.isType3Font=he.isType3Font,this.missingFile=!1,this.cssFontInfo=he.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let Fe=!!(he.flags&O.FontFlags.Serif);if(!Fe&&!he.isSimulatedFlags){const $e=Ee.replaceAll(/[,_]/g,"-").split("-")[0],He=(0,K.getSerifFonts)();for(const Ve of $e.split("+"))if(He[Ve]){Fe=!0;break}}this.isSerifFont=Fe,this.isSymbolicFont=!!(he.flags&O.FontFlags.Symbolic),this.isMonospace=!!(he.flags&O.FontFlags.FixedPitch);let{type:_e,subtype:Ne}=he;this.type=_e,this.subtype=Ne,this.systemFontInfo=he.systemFontInfo;const Ze=Ee.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!Ze,this.isInvalidPDFjsFont?this.fallbackName=Ze[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(je=this.systemFontInfo)!=null&&je.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=he.differences,this.widths=he.widths,this.defaultWidth=he.defaultWidth,this.composite=he.composite,this.cMap=he.cMap,this.capHeight=he.capHeight/j,this.ascent=he.ascent/j,this.descent=he.descent/j,this.lineHeight=this.ascent-this.descent,this.fontMatrix=he.fontMatrix,this.bbox=he.bbox,this.defaultEncoding=he.defaultEncoding,this.toUnicode=he.toUnicode,this.toFontChar=[],he.type==="Type3"){for(let $e=0;$e<256;$e++)this.toFontChar[$e]=this.differences[$e]||he.defaultEncoding[$e];return}if(this.cidEncoding=he.cidEncoding||"",this.vertical=!!he.vertical,this.vertical&&(this.vmetrics=he.vmetrics,this.defaultVMetrics=he.defaultVMetrics),!ve||ve.isEmpty){ve&&(0,n.warn)('Font file is empty in "'+Ee+'" ('+this.loadedName+")"),this.fallbackToSystemFont(he);return}[_e,Ne]=E(ve,he),(_e!==this.type||Ne!==this.subtype)&&(0,n.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${_e}/${Ne}.`);let tt;try{switch(_e){case"MMType1":(0,n.info)("MMType1 font ("+Ee+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const $e=Ne==="Type1C"||Ne==="CIDFontType0C"?new U.CFFFont(ve,he):new C.Type1Font(Ee,ve,he);R(he),tt=this.convert(Ee,$e,he);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",tt=this.checkAndRepair(Ee,ve,he),this.isOpenType&&(R(he),_e="OpenType");break;default:throw new n.FormatError(`Font ${_e} is not supported`)}}catch($e){(0,n.warn)($e),this.fallbackToSystemFont(he);return}W(he),this.data=tt,this.type=_e,this.subtype=Ne,this.fontMatrix=he.fontMatrix,this.widths=he.widths,this.defaultWidth=he.defaultWidth,this.toUnicode=he.toUnicode,this.seacMap=he.seacMap}get renderer(){const Ee=P.FontRendererFactory.create(this,O.SEAC_ANALYSIS_ENABLED);return(0,n.shadow)(this,"renderer",Ee)}exportData(Ee=!1){const ve=Ee?[...re,...T]:re,he=Object.create(null);let Fe,_e;for(Fe of ve)_e=this[Fe],_e!==void 0&&(he[Fe]=_e);return he}fallbackToSystemFont(Ee){this.missingFile=!0;const{name:ve,type:he}=this;let Fe=(0,O.normalizeFontName)(ve);const _e=(0,K.getStdFontMap)(),Ne=(0,K.getNonStdFontMap)(),Ze=!!_e[Fe],tt=!!(Ne[Fe]&&_e[Ne[Fe]]);Fe=_e[Fe]||Ne[Fe]||Fe;const $e=(0,f.getFontBasicMetrics)()[Fe];$e&&(isNaN(this.ascent)&&(this.ascent=$e.ascent/j),isNaN(this.descent)&&(this.descent=$e.descent/j),isNaN(this.capHeight)&&(this.capHeight=$e.capHeight/j)),this.bold=/bold/gi.test(Fe),this.italic=/oblique|italic/gi.test(Fe),this.black=/Black/g.test(ve);const He=/Narrow/g.test(ve);if(this.remeasure=(!Ze||He)&&Object.keys(this.widths).length>0,(Ze||tt)&&he==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const Ve=Ee.cidToGidMap,st=[];if(G(st,(0,K.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(ve)?G(st,(0,K.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(ve)&&G(st,(0,K.getSupplementalGlyphMapForCalibri)()),Ve){for(const pt in st){const at=st[pt];Ve[at]!==void 0&&(st[+pt]=Ve[at])}Ve.length!==this.toUnicode.length&&Ee.hasIncludedToUnicodeMap&&this.toUnicode instanceof H.IdentityToUnicodeMap&&this.toUnicode.forEach(function(pt,at){const Re=st[pt];Ve[Re]===void 0&&(st[+pt]=at)})}this.toUnicode instanceof H.IdentityToUnicodeMap||this.toUnicode.forEach(function(pt,at){st[+pt]=at}),this.toFontChar=st,this.toUnicode=new H.ToUnicodeMap(st)}else if(/Symbol/i.test(Fe))this.toFontChar=se(o.SymbolSetEncoding,(0,t.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(Fe))this.toFontChar=se(o.ZapfDingbatsEncoding,(0,t.getDingbatsGlyphsUnicode)(),this.differences);else if(Ze){const Ve=se(this.defaultEncoding,(0,t.getGlyphsUnicode)(),this.differences);he==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof H.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(st,pt){Ve[+st]=pt}),this.toFontChar=Ve}else{const Ve=(0,t.getGlyphsUnicode)(),st=[];this.toUnicode.forEach((pt,at)=>{if(!this.composite){const Re=this.differences[pt]||this.defaultEncoding[pt],Ge=(0,e.getUnicodeForGlyph)(Re,Ve);Ge!==-1&&(at=Ge)}st[+pt]=at}),this.composite&&this.toUnicode instanceof H.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(ve)&&G(st,(0,K.getGlyphMapForStandardFonts)()),this.toFontChar=st}W(Ee),this.loadedName=Fe.split("-")[0]}checkAndRepair(Ee,ve,he){var tn,Gi,fr;const Fe=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function _e(Lt,Ot){const jt=Object.create(null);jt["OS/2"]=null,jt.cmap=null,jt.head=null,jt.hhea=null,jt.hmtx=null,jt.maxp=null,jt.name=null,jt.post=null;for(let Wt=0;Wt<Ot;Wt++){const bn=Ne(Lt);Fe.includes(bn.tag)&&bn.length!==0&&(jt[bn.tag]=bn)}return jt}function Ne(Lt){const Ot=Lt.getString(4),jt=Lt.getInt32()>>>0,Wt=Lt.getInt32()>>>0,bn=Lt.getInt32()>>>0,Ni=Lt.pos;Lt.pos=Lt.start||0,Lt.skip(Wt);const $n=Lt.getBytes(bn);return Lt.pos=Ni,Ot==="head"&&($n[8]=$n[9]=$n[10]=$n[11]=0,$n[17]|=32),{tag:Ot,checksum:jt,length:bn,offset:Wt,data:$n}}function Ze(Lt){return{version:Lt.getString(4),numTables:Lt.getUint16(),searchRange:Lt.getUint16(),entrySelector:Lt.getUint16(),rangeShift:Lt.getUint16()}}function tt(Lt){const Ot=Lt.getString(4);(0,n.assert)(Ot==="ttcf","Must be a TrueType Collection font.");const jt=Lt.getUint16(),Wt=Lt.getUint16(),bn=Lt.getInt32()>>>0,Ni=[];for(let zt=0;zt<bn;zt++)Ni.push(Lt.getInt32()>>>0);const $n={ttcTag:Ot,majorVersion:jt,minorVersion:Wt,numFonts:bn,offsetTable:Ni};switch(jt){case 1:return $n;case 2:return $n.dsigTag=Lt.getInt32()>>>0,$n.dsigLength=Lt.getInt32()>>>0,$n.dsigOffset=Lt.getInt32()>>>0,$n}throw new n.FormatError(`Invalid TrueType Collection majorVersion: ${jt}.`)}function je(Lt,Ot){var $n;const{numFonts:jt,offsetTable:Wt}=tt(Lt),bn=Ot.split("+");let Ni;for(let zt=0;zt<jt;zt++){Lt.pos=(Lt.start||0)+Wt[zt];const Oi=Ze(Lt),zi=_e(Lt,Oi.numTables);if(!zi.name)throw new n.FormatError('TrueType Collection font must contain a "name" table.');const[mr]=Re(zi.name);for(let Ki=0,Yi=mr.length;Ki<Yi;Ki++)for(let gr=0,Pi=mr[Ki].length;gr<Pi;gr++){const qi=($n=mr[Ki][gr])==null?void 0:$n.replaceAll(/\s/g,"");if(qi){if(qi===Ot)return{header:Oi,tables:zi};if(!(bn.length<2))for(const ki of bn)qi===ki&&(Ni={name:ki,header:Oi,tables:zi})}}}if(Ni)return(0,n.warn)(`TrueType Collection does not contain "${Ot}" font, falling back to "${Ni.name}" font instead.`),{header:Ni.header,tables:Ni.tables};throw new n.FormatError(`TrueType Collection does not contain "${Ot}" font.`)}function $e(Lt,Ot,jt,Wt){if(!Lt)return(0,n.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let bn,Ni=(Ot.start||0)+Lt.offset;Ot.pos=Ni,Ot.skip(2);const $n=Ot.getUint16();let zt,Oi=!1;for(let Pi=0;Pi<$n;Pi++){const qi=Ot.getUint16(),ki=Ot.getUint16(),dr=Ot.getInt32()>>>0;let Zi=!1;if(!((zt==null?void 0:zt.platformId)===qi&&(zt==null?void 0:zt.encodingId)===ki)){if(qi===0&&(ki===0||ki===1||ki===3))Zi=!0;else if(qi===1&&ki===0)Zi=!0;else if(qi===3&&ki===1&&(Wt||!zt))Zi=!0,jt||(Oi=!0);else if(jt&&qi===3&&ki===0){Zi=!0;let jr=!0;if(Pi<$n-1){const nr=Ot.peekBytes(2);b(nr[0],nr[1])<qi&&(jr=!1)}jr&&(Oi=!0)}if(Zi&&(zt={platformId:qi,encodingId:ki,offset:dr}),Oi)break}}if(zt&&(Ot.pos=Ni+zt.offset),!zt||Ot.peekByte()===-1)return(0,n.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const zi=Ot.getUint16();let mr=!1;const Ki=[];let Yi,gr;if(zi===0){for(Ot.skip(4),Yi=0;Yi<256;Yi++){const Pi=Ot.getByte();Pi&&Ki.push({charCode:Yi,glyphId:Pi})}mr=!0}else if(zi===2){Ot.skip(4);const Pi=[];let qi=0;for(let dr=0;dr<256;dr++){const Zi=Ot.getUint16()>>3;Pi.push(Zi),qi=Math.max(Zi,qi)}const ki=[];for(let dr=0;dr<=qi;dr++)ki.push({firstCode:Ot.getUint16(),entryCount:Ot.getUint16(),idDelta:J(Ot.getByte(),Ot.getByte()),idRangePos:Ot.pos+Ot.getUint16()});for(let dr=0;dr<256;dr++)if(Pi[dr]===0)Ot.pos=ki[0].idRangePos+2*dr,gr=Ot.getUint16(),Ki.push({charCode:dr,glyphId:gr});else{const Zi=ki[Pi[dr]];for(Yi=0;Yi<Zi.entryCount;Yi++){const jr=(dr<<8)+Yi+Zi.firstCode;Ot.pos=Zi.idRangePos+2*Yi,gr=Ot.getUint16(),gr!==0&&(gr=(gr+Zi.idDelta)%65536),Ki.push({charCode:jr,glyphId:gr})}}}else if(zi===4){Ot.skip(4);const Pi=Ot.getUint16()>>1;Ot.skip(6);const qi=[];let ki;for(ki=0;ki<Pi;ki++)qi.push({end:Ot.getUint16()});for(Ot.skip(2),ki=0;ki<Pi;ki++)qi[ki].start=Ot.getUint16();for(ki=0;ki<Pi;ki++)qi[ki].delta=Ot.getUint16();let dr=0,Zi;for(ki=0;ki<Pi;ki++){bn=qi[ki];const nr=Ot.getUint16();if(!nr){bn.offsetIndex=-1;continue}Zi=(nr>>1)-(Pi-ki),bn.offsetIndex=Zi,dr=Math.max(dr,Zi+bn.end-bn.start+1)}const jr=[];for(Yi=0;Yi<dr;Yi++)jr.push(Ot.getUint16());for(ki=0;ki<Pi;ki++){bn=qi[ki],Ni=bn.start;const nr=bn.end,hr=bn.delta;for(Zi=bn.offsetIndex,Yi=Ni;Yi<=nr;Yi++)Yi!==65535&&(gr=Zi<0?Yi:jr[Zi+Yi-Ni],gr=gr+hr&65535,Ki.push({charCode:Yi,glyphId:gr}))}}else if(zi===6){Ot.skip(4);const Pi=Ot.getUint16(),qi=Ot.getUint16();for(Yi=0;Yi<qi;Yi++){gr=Ot.getUint16();const ki=Pi+Yi;Ki.push({charCode:ki,glyphId:gr})}}else if(zi===12){Ot.skip(10);const Pi=Ot.getInt32()>>>0;for(Yi=0;Yi<Pi;Yi++){const qi=Ot.getInt32()>>>0,ki=Ot.getInt32()>>>0;let dr=Ot.getInt32()>>>0;for(let Zi=qi;Zi<=ki;Zi++)Ki.push({charCode:Zi,glyphId:dr++})}}else return(0,n.warn)("cmap table has unsupported format: "+zi),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};Ki.sort(function(Pi,qi){return Pi.charCode-qi.charCode});for(let Pi=1;Pi<Ki.length;Pi++)Ki[Pi-1].charCode===Ki[Pi].charCode&&(Ki.splice(Pi,1),Pi--);return{platformId:zt.platformId,encodingId:zt.encodingId,mappings:Ki,hasShortCmap:mr}}function He(Lt,Ot,jt,Wt,bn,Ni){if(!Ot){jt&&(jt.data=null);return}Lt.pos=(Lt.start||0)+Ot.offset,Lt.pos+=4,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2;const $n=Lt.getUint16();Lt.pos+=8,Lt.pos+=2;let zt=Lt.getUint16();$n!==0&&(b(Wt.data[44],Wt.data[45])&2||(Ot.data[22]=0,Ot.data[23]=0)),zt>bn&&((0,n.info)(`The numOfMetrics (${zt}) should not be greater than the numGlyphs (${bn}).`),zt=bn,Ot.data[34]=(zt&65280)>>8,Ot.data[35]=zt&255);const zi=bn-zt-(jt.length-zt*4>>1);if(zi>0){const mr=new Uint8Array(jt.length+zi*2);mr.set(jt.data),Ni&&(mr[jt.length]=jt.data[2],mr[jt.length+1]=jt.data[3]),jt.data=mr}}function Ve(Lt,Ot,jt,Wt,bn,Ni){const $n={length:0,sizeOfInstructions:0};if(Ot<0||Ot>=Lt.length||jt>Lt.length||jt-Ot<=12)return $n;const zt=Lt.subarray(Ot,jt),Oi=J(zt[2],zt[3]),zi=J(zt[4],zt[5]),mr=J(zt[6],zt[7]),Ki=J(zt[8],zt[9]);Oi>mr&&(D(zt,2,mr),D(zt,6,Oi)),zi>Ki&&(D(zt,4,Ki),D(zt,8,zi));const Yi=J(zt[0],zt[1]);if(Yi<0)return Yi<-1||(Wt.set(zt,bn),$n.length=zt.length),$n;let gr,Pi=10,qi=0;for(gr=0;gr<Yi;gr++)qi=(zt[Pi]<<8|zt[Pi+1])+1,Pi+=2;const ki=Pi,dr=zt[Pi]<<8|zt[Pi+1];$n.sizeOfInstructions=dr,Pi+=2+dr;const Zi=Pi;let jr=0;for(gr=0;gr<qi;gr++){const hr=zt[Pi++];hr&192&&(zt[Pi-1]=hr&63);let Er=2;hr&2?Er=1:hr&16&&(Er=0);let Dr=2;hr&4?Dr=1:hr&32&&(Dr=0);const Jr=Er+Dr;if(jr+=Jr,hr&8){const Bs=zt[Pi++];Bs===0&&(zt[Pi-1]^=8),gr+=Bs,jr+=Bs*Jr}}if(jr===0)return $n;let nr=Pi+jr;return nr>zt.length?$n:!Ni&&dr>0?(Wt.set(zt.subarray(0,ki),bn),Wt.set([0,0],bn+ki),Wt.set(zt.subarray(Zi,nr),bn+ki+2),nr-=dr,zt.length-nr>3&&(nr=nr+3&-4),$n.length=nr,$n):zt.length-nr>3?(nr=nr+3&-4,Wt.set(zt.subarray(0,nr),bn),$n.length=nr,$n):(Wt.set(zt,bn),$n.length=zt.length,$n)}function st(Lt,Ot,jt){const Wt=Lt.data,bn=N(Wt[0],Wt[1],Wt[2],Wt[3]);bn>>16!==1&&((0,n.info)("Attempting to fix invalid version in head table: "+bn),Wt[0]=0,Wt[1]=1,Wt[2]=0,Wt[3]=0);const Ni=b(Wt[50],Wt[51]);if(Ni<0||Ni>1){(0,n.info)("Attempting to fix invalid indexToLocFormat in head table: "+Ni);const $n=Ot+1;if(jt===$n<<1)Wt[50]=0,Wt[51]=0;else if(jt===$n<<2)Wt[50]=0,Wt[51]=1;else throw new n.FormatError("Could not fix indexToLocFormat: "+Ni)}}function pt(Lt,Ot,jt,Wt,bn,Ni,$n){let zt,Oi,zi;Wt?(zt=4,Oi=function(Er,Dr){return Er[Dr]<<24|Er[Dr+1]<<16|Er[Dr+2]<<8|Er[Dr+3]},zi=function(Er,Dr,Jr){Er[Dr]=Jr>>>24&255,Er[Dr+1]=Jr>>16&255,Er[Dr+2]=Jr>>8&255,Er[Dr+3]=Jr&255}):(zt=2,Oi=function(Er,Dr){return Er[Dr]<<9|Er[Dr+1]<<1},zi=function(Er,Dr,Jr){Er[Dr]=Jr>>9&255,Er[Dr+1]=Jr>>1&255});const mr=Ni?jt+1:jt,Ki=zt*(1+mr),Yi=new Uint8Array(Ki);Yi.set(Lt.data.subarray(0,Ki)),Lt.data=Yi;const gr=Ot.data,Pi=gr.length,qi=new Uint8Array(Pi);let ki,dr;const Zi=[];for(ki=0,dr=0;ki<jt+1;ki++,dr+=zt){let hr=Oi(Yi,dr);hr>Pi&&(hr=Pi),Zi.push({index:ki,offset:hr,endOffset:0})}for(Zi.sort((hr,Er)=>hr.offset-Er.offset),ki=0;ki<jt;ki++)Zi[ki].endOffset=Zi[ki+1].offset;for(Zi.sort((hr,Er)=>hr.index-Er.index),ki=0;ki<jt;ki++){const{offset:hr,endOffset:Er}=Zi[ki];if(hr!==0||Er!==0)break;const Dr=Zi[ki+1].offset;if(Dr!==0){Zi[ki].endOffset=Dr;break}}const jr=Object.create(null);let nr=0;for(zi(Yi,0,nr),ki=0,dr=zt;ki<jt;ki++,dr+=zt){const hr=Ve(gr,Zi[ki].offset,Zi[ki].endOffset,qi,nr,bn),Er=hr.length;Er===0&&(jr[ki]=!0),hr.sizeOfInstructions>$n&&($n=hr.sizeOfInstructions),nr+=Er,zi(Yi,dr,nr)}if(nr===0){const hr=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(ki=0,dr=zt;ki<mr;ki++,dr+=zt)zi(Yi,dr,hr.length);Ot.data=hr}else if(Ni){const hr=Oi(Yi,zt);qi.length>hr+nr?Ot.data=qi.subarray(0,hr+nr):(Ot.data=new Uint8Array(hr+nr),Ot.data.set(qi.subarray(0,nr))),Ot.data.set(qi.subarray(0,hr),nr),zi(Lt.data,Yi.length-zt,nr+hr)}else Ot.data=qi.subarray(0,nr);return{missingGlyphs:jr,maxSizeOfInstructions:$n}}function at(Lt,Ot,jt){const Wt=(ve.start||0)+Lt.offset;ve.pos=Wt;const bn=Lt.length,Ni=Wt+bn,$n=ve.getInt32();ve.skip(28);let zt,Oi=!0,zi;switch($n){case 65536:zt=O.MacStandardGlyphOrdering;break;case 131072:const mr=ve.getUint16();if(mr!==jt){Oi=!1;break}const Ki=[];for(zi=0;zi<mr;++zi){const Pi=ve.getUint16();if(Pi>=32768){Oi=!1;break}Ki.push(Pi)}if(!Oi)break;const Yi=[],gr=[];for(;ve.pos<Ni;){const Pi=ve.getByte();for(gr.length=Pi,zi=0;zi<Pi;++zi)gr[zi]=String.fromCharCode(ve.getByte());Yi.push(gr.join(""))}for(zt=[],zi=0;zi<mr;++zi){const Pi=Ki[zi];if(Pi<258){zt.push(O.MacStandardGlyphOrdering[Pi]);continue}zt.push(Yi[Pi-258])}break;case 196608:break;default:(0,n.warn)("Unknown/unsupported post table version "+$n),Oi=!1,Ot.defaultEncoding&&(zt=Ot.defaultEncoding);break}return Ot.glyphNames=zt,Oi}function Re(Lt){const Ot=(ve.start||0)+Lt.offset;ve.pos=Ot;const jt=[[],[]],Wt=[],bn=Lt.length,Ni=Ot+bn;if(ve.getUint16()!==0||bn<6)return[jt,Wt];const Oi=ve.getUint16(),zi=ve.getUint16(),mr=12;let Ki,Yi;for(Ki=0;Ki<Oi&&ve.pos+mr<=Ni;Ki++){const gr={platform:ve.getUint16(),encoding:ve.getUint16(),language:ve.getUint16(),name:ve.getUint16(),length:ve.getUint16(),offset:ve.getUint16()};(Ae(gr)||ke(gr))&&Wt.push(gr)}for(Ki=0,Yi=Wt.length;Ki<Yi;Ki++){const gr=Wt[Ki];if(gr.length<=0)continue;const Pi=Ot+zi+gr.offset;if(Pi+gr.length>Ni)continue;ve.pos=Pi;const qi=gr.name;if(gr.encoding){let ki="";for(let dr=0,Zi=gr.length;dr<Zi;dr+=2)ki+=String.fromCharCode(ve.getUint16());jt[1][qi]=ki}else jt[0][qi]=ve.getString(gr.length)}return[jt,Wt]}const Ge=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function gt(Lt,Ot){let jt=Lt.data,Wt=0,bn,Ni,$n,zt,Oi,zi=0,mr=0;const Ki=[],Yi=[],gr=[];let Pi=Ot.tooComplexToFollowFunctions,qi=!1,ki=0,dr=0;for(let jr=jt.length;Wt<jr;){const nr=jt[Wt++];if(nr===64)if(Ni=jt[Wt++],qi||dr)Wt+=Ni;else for(bn=0;bn<Ni;bn++)Ki.push(jt[Wt++]);else if(nr===65)if(Ni=jt[Wt++],qi||dr)Wt+=Ni*2;else for(bn=0;bn<Ni;bn++)$n=jt[Wt++],Ki.push($n<<8|jt[Wt++]);else if((nr&248)===176)if(Ni=nr-176+1,qi||dr)Wt+=Ni;else for(bn=0;bn<Ni;bn++)Ki.push(jt[Wt++]);else if((nr&248)===184)if(Ni=nr-184+1,qi||dr)Wt+=Ni*2;else for(bn=0;bn<Ni;bn++)$n=jt[Wt++],Ki.push($n<<8|jt[Wt++]);else if(nr===43&&!Pi){if(!qi&&!dr){if(zt=Ki.at(-1),isNaN(zt))(0,n.info)("TT: CALL empty stack (or invalid entry).");else if(Ot.functionsUsed[zt]=!0,zt in Ot.functionsStackDeltas){const hr=Ki.length+Ot.functionsStackDeltas[zt];if(hr<0){(0,n.warn)("TT: CALL invalid functions stack delta."),Ot.hintsValid=!1;return}Ki.length=hr}else if(zt in Ot.functionsDefined&&!gr.includes(zt)){if(Yi.push({data:jt,i:Wt,stackTop:Ki.length-1}),gr.push(zt),Oi=Ot.functionsDefined[zt],!Oi){(0,n.warn)("TT: CALL non-existent function"),Ot.hintsValid=!1;return}jt=Oi.data,Wt=Oi.i}}}else if(nr===44&&!Pi)(qi||dr)&&((0,n.warn)("TT: nested FDEFs not allowed"),Pi=!0),qi=!0,mr=Wt,zt=Ki.pop(),Ot.functionsDefined[zt]={data:jt,i:Wt};else if(nr===45)if(qi)qi=!1,zi=Wt;else{if(Oi=Yi.pop(),!Oi){(0,n.warn)("TT: ENDF bad stack"),Ot.hintsValid=!1;return}zt=gr.pop(),jt=Oi.data,Wt=Oi.i,Ot.functionsStackDeltas[zt]=Ki.length-Oi.stackTop}else if(nr===137)(qi||dr)&&((0,n.warn)("TT: nested IDEFs not allowed"),Pi=!0),qi=!0,mr=Wt;else if(nr===88)++ki;else if(nr===27)dr=ki;else if(nr===89)dr===ki&&(dr=0),--ki;else if(nr===28&&!qi&&!dr){const hr=Ki.at(-1);hr>0&&(Wt+=hr-1)}if(!qi&&!dr){let hr=0;for(nr<=142?hr=Ge[nr]:nr>=192&&nr<=223?hr=-1:nr>=224&&(hr=-2),nr>=113&&nr<=117&&(Ni=Ki.pop(),isNaN(Ni)||(hr=-Ni*2));hr<0&&Ki.length>0;)Ki.pop(),hr++;for(;hr>0;)Ki.push(NaN),hr--}}Ot.tooComplexToFollowFunctions=Pi;const Zi=[jt];Wt>jt.length&&Zi.push(new Uint8Array(Wt-jt.length)),mr>zi&&((0,n.warn)("TT: complementing a missing function tail"),Zi.push(new Uint8Array([34,45]))),Bt(Lt,Zi)}function rt(Lt,Ot){if(!Lt.tooComplexToFollowFunctions){if(Lt.functionsDefined.length>Ot){(0,n.warn)("TT: more functions defined than expected"),Lt.hintsValid=!1;return}for(let jt=0,Wt=Lt.functionsUsed.length;jt<Wt;jt++){if(jt>Ot){(0,n.warn)("TT: invalid function id: "+jt),Lt.hintsValid=!1;return}if(Lt.functionsUsed[jt]&&!Lt.functionsDefined[jt]){(0,n.warn)("TT: undefined function: "+jt),Lt.hintsValid=!1;return}}}}function Bt(Lt,Ot){if(Ot.length>1){let jt=0,Wt,bn;for(Wt=0,bn=Ot.length;Wt<bn;Wt++)jt+=Ot[Wt].length;jt=jt+3&-4;const Ni=new Uint8Array(jt);let $n=0;for(Wt=0,bn=Ot.length;Wt<bn;Wt++)Ni.set(Ot[Wt],$n),$n+=Ot[Wt].length;Lt.data=Ni,Lt.length=jt}}function St(Lt,Ot,jt,Wt){const bn={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Lt&&gt(Lt,bn),Ot&&gt(Ot,bn),Lt&&rt(bn,Wt),jt&&jt.length&1){const Ni=new Uint8Array(jt.length+1);Ni.set(jt.data),jt.data=Ni}return bn.hintsValid}ve=new _.Stream(new Uint8Array(ve.getBytes()));let jn,dt;if(h(ve)){const Lt=je(ve,this.name);jn=Lt.header,dt=Lt.tables}else jn=Ze(ve),dt=_e(ve,jn.numTables);let Zt,Gt;const Ke=!dt["CFF "];if(Ke){if(!dt.loca)throw new n.FormatError('Required "loca" table is not found');dt.glyf||((0,n.warn)('Required "glyf" table is not found -- trying to recover.'),dt.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const Lt=he.composite&&(((tn=he.cidToGidMap)==null?void 0:tn.length)>0||!(he.cMap instanceof i.IdentityCMap));if(jn.version==="OTTO"&&!Lt||!dt.head||!dt.hhea||!dt.maxp||!dt.post)return Gt=new _.Stream(dt["CFF "].data),Zt=new U.CFFFont(Gt,he),R(he),this.convert(Ee,Zt,he);delete dt.glyf,delete dt.loca,delete dt.fpgm,delete dt.prep,delete dt["cvt "],this.isOpenType=!0}if(!dt.maxp)throw new n.FormatError('Required "maxp" table is not found');ve.pos=(ve.start||0)+dt.maxp.offset;const Ue=ve.getInt32(),ze=ve.getUint16();if(((Gi=he.scaleFactors)==null?void 0:Gi.length)===ze&&Ke){const{scaleFactors:Lt}=he,Ot=b(dt.head.data[50],dt.head.data[51]),jt=new p.GlyfTable({glyfTable:dt.glyf.data,isGlyphLocationsLong:Ot,locaTable:dt.loca.data,numGlyphs:ze});jt.scale(Lt);const{glyf:Wt,loca:bn,isLocationLong:Ni}=jt.write();dt.glyf.data=Wt,dt.loca.data=bn,Ni!==!!Ot&&(dt.head.data[50]=0,dt.head.data[51]=Ni?1:0);const $n=dt.hmtx.data;for(let zt=0;zt<ze;zt++){const Oi=4*zt,zi=Math.round(Lt[zt]*b($n[Oi],$n[Oi+1]));$n[Oi]=zi>>8&255,$n[Oi+1]=zi&255;const mr=Math.round(Lt[zt]*J($n[Oi+2],$n[Oi+3]));D($n,Oi+2,mr)}}let qe=ze+1,ct=!0;qe>65535&&(ct=!1,qe=ze,(0,n.warn)("Not enough space in glyfs to duplicate first glyph."));let ft=0,mt=0;Ue>=65536&&dt.maxp.length>=22&&(ve.pos+=8,ve.getUint16()>2&&(dt.maxp.data[14]=0,dt.maxp.data[15]=2),ve.pos+=4,ft=ve.getUint16(),ve.pos+=4,mt=ve.getUint16()),dt.maxp.data[4]=qe>>8,dt.maxp.data[5]=qe&255;const $t=St(dt.fpgm,dt.prep,dt["cvt "],ft);if($t||(delete dt.fpgm,delete dt.prep,delete dt["cvt "]),He(ve,dt.hhea,dt.hmtx,dt.head,qe,ct),!dt.head)throw new n.FormatError('Required "head" table is not found');st(dt.head,ze,Ke?dt.loca.length:0);let Mt=Object.create(null);if(Ke){const Lt=b(dt.head.data[50],dt.head.data[51]),Ot=pt(dt.loca,dt.glyf,ze,Lt,$t,ct,mt);Mt=Ot.missingGlyphs,Ue>=65536&&dt.maxp.length>=22&&(dt.maxp.data[26]=Ot.maxSizeOfInstructions>>8,dt.maxp.data[27]=Ot.maxSizeOfInstructions&255)}if(!dt.hhea)throw new n.FormatError('Required "hhea" table is not found');dt.hhea.data[10]===0&&dt.hhea.data[11]===0&&(dt.hhea.data[10]=255,dt.hhea.data[11]=255);const Dt={unitsPerEm:b(dt.head.data[18],dt.head.data[19]),yMax:J(dt.head.data[42],dt.head.data[43]),yMin:J(dt.head.data[38],dt.head.data[39]),ascent:J(dt.hhea.data[4],dt.hhea.data[5]),descent:J(dt.hhea.data[6],dt.hhea.data[7]),lineGap:J(dt.hhea.data[8],dt.hhea.data[9])};this.ascent=Dt.ascent/Dt.unitsPerEm,this.descent=Dt.descent/Dt.unitsPerEm,this.lineGap=Dt.lineGap/Dt.unitsPerEm,(fr=this.cssFontInfo)!=null&&fr.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,dt.post&&at(dt.post,he,ze),dt.post={tag:"post",data:fe(he)};const Xt=[];function Vt(Lt){return!Mt[Lt]}if(he.composite){const Lt=he.cidToGidMap||[],Ot=Lt.length===0;he.cMap.forEach(function(jt,Wt){if(typeof Wt=="string"&&(Wt=de(jt,Wt,!0)),Wt>65535)throw new n.FormatError("Max size of CID is 65,535");let bn=-1;Ot?bn=Wt:Lt[Wt]!==void 0&&(bn=Lt[Wt]),bn>=0&&bn<ze&&Vt(bn)&&(Xt[jt]=bn)})}else{const Lt=$e(dt.cmap,ve,this.isSymbolicFont,he.hasEncoding),Ot=Lt.platformId,jt=Lt.encodingId,Wt=Lt.mappings;let bn=[],Ni=!1;if(he.hasEncoding&&(he.baseEncodingName==="MacRomanEncoding"||he.baseEncodingName==="WinAnsiEncoding")&&(bn=(0,o.getEncoding)(he.baseEncodingName)),he.hasEncoding&&!this.isSymbolicFont&&(Ot===3&&jt===1||Ot===1&&jt===0)){const $n=(0,t.getGlyphsUnicode)();for(let zt=0;zt<256;zt++){let Oi;if(this.differences[zt]!==void 0?Oi=this.differences[zt]:bn.length&&bn[zt]!==""?Oi=bn[zt]:Oi=o.StandardEncoding[zt],!Oi)continue;const zi=(0,O.recoverGlyphName)(Oi,$n);let mr;if(Ot===3&&jt===1?mr=$n[zi]:Ot===1&&jt===0&&(mr=o.MacRomanEncoding.indexOf(zi)),mr===void 0){if(!he.glyphNames&&he.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof H.IdentityToUnicodeMap)){const Ki=this.toUnicode.get(zt);Ki&&(mr=Ki.codePointAt(0))}if(mr===void 0)continue}for(const Ki of Wt)if(Ki.charCode===mr){Xt[zt]=Ki.glyphId;break}}}else if(Ot===0){for(const $n of Wt)Xt[$n.charCode]=$n.glyphId;Ni=!0}else for(const $n of Wt){let zt=$n.charCode;Ot===3&&zt>=61440&&zt<=61695&&(zt&=255),Xt[zt]=$n.glyphId}if(he.glyphNames&&(bn.length||this.differences.length))for(let $n=0;$n<256;++$n){if(!Ni&&Xt[$n]!==void 0)continue;const zt=this.differences[$n]||bn[$n];if(!zt)continue;const Oi=he.glyphNames.indexOf(zt);Oi>0&&Vt(Oi)&&(Xt[$n]=Oi)}}Xt.length===0&&(Xt[0]=0);let Jt=qe-1;if(ct||(Jt=0),!he.cssFontInfo){const Lt=Ie(Xt,Vt,Jt,this.toUnicode);this.toFontChar=Lt.toFontChar,dt.cmap={tag:"cmap",data:Be(Lt.charCodeToGlyphId,Lt.toUnicodeExtraMap,qe)},(!dt["OS/2"]||!ee(dt["OS/2"],ve))&&(dt["OS/2"]={tag:"OS/2",data:te(he,Lt.charCodeToGlyphId,Dt)})}if(!Ke)try{Gt=new _.Stream(dt["CFF "].data),Zt=new w.CFFParser(Gt,he,O.SEAC_ANALYSIS_ENABLED).parse(),Zt.duplicateFirstGlyph();const Ot=new w.CFFCompiler(Zt);dt["CFF "].data=Ot.compile()}catch{(0,n.warn)("Failed to compile font "+he.loadedName)}if(!dt.name)dt.name={tag:"name",data:le(this.name)};else{const[Lt,Ot]=Re(dt.name);dt.name.data=le(Ee,Lt),this.psName=Lt[0][6]||null,he.composite||d(he,this.isSymbolicFont,Ot)}const zn=new k.OpenTypeFileBuilder(jn.version);for(const Lt in dt)zn.addTable(Lt,dt[Lt].data);return zn.toArray()}convert(Ee,ve,he){he.fixedPitch=!1,he.builtInEncoding&&y(he,he.builtInEncoding);let Fe=1;ve instanceof U.CFFFont&&(Fe=ve.numGlyphs-1);const _e=ve.getGlyphMapping(he);let Ne=null,Ze=_e,tt=null;he.cssFontInfo||(Ne=Ie(_e,ve.hasGlyphId.bind(ve),Fe,this.toUnicode),this.toFontChar=Ne.toFontChar,Ze=Ne.charCodeToGlyphId,tt=Ne.toUnicodeExtraMap);const je=ve.numGlyphs;function $e(at,Re){let Ge=null;for(const gt in at)Re===at[gt]&&(Ge||(Ge=[])).push(gt|0);return Ge}function He(at,Re){for(const Ge in at)if(Re===at[Ge])return Ge|0;return Ne.charCodeToGlyphId[Ne.nextAvailableFontCharCode]=Re,Ne.nextAvailableFontCharCode++}const Ve=ve.seacs;if(Ne&&O.SEAC_ANALYSIS_ENABLED&&(Ve!=null&&Ve.length)){const at=he.fontMatrix||n.FONT_IDENTITY_MATRIX,Re=ve.getCharset(),Ge=Object.create(null);for(let gt in Ve){gt|=0;const rt=Ve[gt],Bt=o.StandardEncoding[rt[2]],St=o.StandardEncoding[rt[3]],jn=Re.indexOf(Bt),dt=Re.indexOf(St);if(jn<0||dt<0)continue;const Zt={x:rt[0]*at[0]+rt[1]*at[2]+at[4],y:rt[0]*at[1]+rt[1]*at[3]+at[5]},Gt=$e(_e,gt);if(Gt)for(const Ke of Gt){const Ue=Ne.charCodeToGlyphId,ze=He(Ue,jn),qe=He(Ue,dt);Ge[Ke]={baseFontCharCode:ze,accentFontCharCode:qe,accentOffset:Zt}}}he.seacMap=Ge}const st=1/(he.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],pt=new k.OpenTypeFileBuilder("OTTO");return pt.addTable("CFF ",ve.data),pt.addTable("OS/2",te(he,Ze)),pt.addTable("cmap",Be(Ze,tt,je)),pt.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+S(st)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+S(he.descent)+""+S(he.ascent)+v(he.italicAngle?2:0)+"\0\0\0\0\0\0\0"),pt.addTable("hhea","\0\0\0"+S(he.ascent)+S(he.descent)+"\0\0\0\0\0\0\0\0"+S(he.capHeight)+S(Math.tan(he.italicAngle)*he.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+v(je)),pt.addTable("hmtx",function(){const Re=ve.charstrings,Ge=ve.cff?ve.cff.widths:null;let gt="\0\0\0\0";for(let rt=1,Bt=je;rt<Bt;rt++){let St=0;if(Re){const jn=Re[rt-1];St="width"in jn?jn.width:0}else Ge&&(St=Math.ceil(Ge[rt]||0));gt+=v(St)+v(0)}return gt}()),pt.addTable("maxp","\0\0P\0"+v(je)),pt.addTable("name",le(Ee)),pt.addTable("post",fe(he)),pt.toArray()}get spaceWidth(){const Ee=["space","minus","one","i","I"];let ve;for(const he of Ee){if(he in this.widths){ve=this.widths[he];break}const _e=(0,t.getGlyphsUnicode)()[he];let Ne=0;if(this.composite&&this.cMap.contains(_e)&&(Ne=this.cMap.lookup(_e),typeof Ne=="string"&&(Ne=de(_e,Ne))),!Ne&&this.toUnicode&&(Ne=this.toUnicode.charCodeOf(_e)),Ne<=0&&(Ne=_e),ve=this.widths[Ne],ve)break}return(0,n.shadow)(this,"spaceWidth",ve||this.defaultWidth)}_charToGlyph(Ee,ve=!1){var st,pt,at;let he=this._glyphCache[Ee];if((he==null?void 0:he.isSpace)===ve)return he;let Fe,_e,Ne,Ze=Ee;(st=this.cMap)!=null&&st.contains(Ee)&&(Ze=this.cMap.lookup(Ee),typeof Ze=="string"&&(Ze=de(Ee,Ze))),_e=this.widths[Ze],typeof _e!="number"&&(_e=this.defaultWidth);const tt=(pt=this.vmetrics)==null?void 0:pt[Ze];let je=this.toUnicode.get(Ee)||Ee;typeof je=="number"&&(je=String.fromCharCode(je));let $e=this.toFontChar[Ee]!==void 0;if(Fe=this.toFontChar[Ee]||Ee,this.missingFile){const Re=this.differences[Ee]||this.defaultEncoding[Ee];(Re===".notdef"||Re==="")&&this.type==="Type1"&&(Fe=32),Fe=(0,e.mapSpecialUnicodeValues)(Fe)}this.isType3Font&&(Ne=Fe);let He=null;if((at=this.seacMap)!=null&&at[Ee]){$e=!0;const Re=this.seacMap[Ee];Fe=Re.baseFontCharCode,He={fontChar:String.fromCodePoint(Re.accentFontCharCode),offset:Re.accentOffset}}let Ve="";return typeof Fe=="number"&&(Fe<=1114111?Ve=String.fromCodePoint(Fe):(0,n.warn)(`charToGlyph - invalid fontCharCode: ${Fe}`)),he=new u(Ee,Ve,je,He,_e,tt,Ne,ve,$e),this._glyphCache[Ee]=he}charsToGlyphs(Ee){let ve=this._charsCache[Ee];if(ve)return ve;if(ve=[],this.cMap){const he=Object.create(null),Fe=Ee.length;let _e=0;for(;_e<Fe;){this.cMap.readCharCode(Ee,_e,he);const{charcode:Ne,length:Ze}=he;_e+=Ze;const tt=this._charToGlyph(Ne,Ze===1&&Ee.charCodeAt(_e-1)===32);ve.push(tt)}}else for(let he=0,Fe=Ee.length;he<Fe;++he){const _e=Ee.charCodeAt(he),Ne=this._charToGlyph(_e,_e===32);ve.push(Ne)}return this._charsCache[Ee]=ve}getCharPositions(Ee){const ve=[];if(this.cMap){const he=Object.create(null);let Fe=0;for(;Fe<Ee.length;){this.cMap.readCharCode(Ee,Fe,he);const _e=he.length;ve.push([Fe,Fe+_e]),Fe+=_e}}else for(let he=0,Fe=Ee.length;he<Fe;++he)ve.push([he,he+1]);return ve}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(Ee){const ve=[],he=[],Fe=()=>ve.length%2===1,_e=this.toUnicode instanceof H.IdentityToUnicodeMap?Ne=>this.toUnicode.charCodeOf(Ne):Ne=>this.toUnicode.charCodeOf(String.fromCodePoint(Ne));for(let Ne=0,Ze=Ee.length;Ne<Ze;Ne++){const tt=Ee.codePointAt(Ne);if(tt>55295&&(tt<57344||tt>65533)&&Ne++,this.toUnicode){const je=_e(tt);if(je!==-1){Fe()&&(ve.push(he.join("")),he.length=0);const $e=this.cMap?this.cMap.getCharCodeLength(je):1;for(let He=$e-1;He>=0;He--)he.push(String.fromCharCode(je>>8*He&255));continue}}Fe()||(ve.push(he.join("")),he.length=0),he.push(String.fromCodePoint(tt))}return ve.push(he.join("")),ve}}x.Font=be;class Ce{constructor(Ee){this.error=Ee,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(Ee){return[Ee]}exportData(Ee=!1){return{error:this.error}}}x.ErrorFont=Ce},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.CFFTopDict=x.CFFStrings=x.CFFStandardStrings=x.CFFPrivateDict=x.CFFParser=x.CFFIndex=x.CFFHeader=x.CFFFDSelect=x.CFFCompiler=x.CFFCharset=x.CFF=void 0;var n=ie(2),w=ie(36),O=ie(37);const e=10,t=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];x.CFFStandardStrings=t;const o=391,K=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],H=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(W,u){W[u-2]=W[u-2]+W[u-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(W,u){W[u-2]=W[u-2]-W[u-1]}},{id:"div",min:2,stackDelta:-1,stackFn(W,u){W[u-2]=W[u-2]/W[u-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(W,u){W[u-1]=-W[u-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(W,u){W[u-2]=W[u-2]*W[u-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class U{constructor(u,b,D){this.bytes=u.getBytes(),this.properties=b,this.seacAnalysisEnabled=!!D}parse(){const u=this.properties,b=new P;this.cff=b;const D=this.parseHeader(),J=this.parseIndex(D.endPos),N=this.parseIndex(J.endPos),v=this.parseIndex(N.endPos),S=this.parseIndex(v.endPos),I=this.parseDict(N.obj.get(0)),h=this.createDict(_,I,b.strings);b.header=D.obj,b.names=this.parseNameIndex(J.obj),b.strings=this.parseStringIndex(v.obj),b.topDict=h,b.globalSubrIndex=S.obj,this.parsePrivateDict(b.topDict),b.isCIDFont=h.hasName("ROS");const B=h.getByName("CharStrings"),r=this.parseIndex(B).obj,A=h.getByName("FontMatrix");A&&(u.fontMatrix=A);const E=h.getByName("FontBBox");E&&(u.ascent=Math.max(E[3],E[1]),u.descent=Math.min(E[1],E[3]),u.ascentScaled=!0);let G,se;if(b.isCIDFont){const ke=this.parseIndex(h.getByName("FDArray")).obj;for(let de=0,Ie=ke.count;de<Ie;++de){const ge=ke.get(de),Be=this.createDict(_,this.parseDict(ge),b.strings);this.parsePrivateDict(Be),b.fdArray.push(Be)}se=null,G=this.parseCharsets(h.getByName("charset"),r.count,b.strings,!0),b.fdSelect=this.parseFDSelect(h.getByName("FDSelect"),r.count)}else G=this.parseCharsets(h.getByName("charset"),r.count,b.strings,!1),se=this.parseEncoding(h.getByName("Encoding"),u,b.strings,G.charset);b.charset=G,b.encoding=se;const Ae=this.parseCharStrings({charStrings:r,localSubrIndex:h.privateDict.subrsIndex,globalSubrIndex:S.obj,fdSelect:b.fdSelect,fdArray:b.fdArray,privateDict:h.privateDict});return b.charStrings=Ae.charStrings,b.seacs=Ae.seacs,b.widths=Ae.widths,b}parseHeader(){let u=this.bytes;const b=u.length;let D=0;for(;D<b&&u[D]!==1;)++D;if(D>=b)throw new n.FormatError("Invalid CFF header");D!==0&&((0,n.info)("cff data is shifted"),u=u.subarray(D),this.bytes=u);const J=u[0],N=u[1],v=u[2],S=u[3];return{obj:new f(J,N,v,S),endPos:v}}parseDict(u){let b=0;function D(){let I=u[b++];return I===30?J():I===28?(I=u[b++],I=(I<<24|u[b++]<<16)>>16,I):I===29?(I=u[b++],I=I<<8|u[b++],I=I<<8|u[b++],I=I<<8|u[b++],I):I>=32&&I<=246?I-139:I>=247&&I<=250?(I-247)*256+u[b++]+108:I>=251&&I<=254?-((I-251)*256)-u[b++]-108:((0,n.warn)('CFFParser_parseDict: "'+I+'" is a reserved command.'),NaN)}function J(){let I="";const B=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],r=u.length;for(;b<r;){const A=u[b++],E=A>>4,G=A&15;if(E===15||(I+=B[E],G===15))break;I+=B[G]}return parseFloat(I)}let N=[];const v=[];b=0;const S=u.length;for(;b<S;){let I=u[b];I<=21?(I===12&&(I=I<<8|u[++b]),v.push([I,N]),N=[],++b):N.push(D())}return v}parseIndex(u){const b=new i,D=this.bytes,J=D[u++]<<8|D[u++],N=[];let v=u,S,I;if(J!==0){const h=D[u++],B=u+(J+1)*h-1;for(S=0,I=J+1;S<I;++S){let r=0;for(let A=0;A<h;++A)r<<=8,r+=D[u++];N.push(B+r)}v=N[J]}for(S=0,I=N.length-1;S<I;++S){const h=N[S],B=N[S+1];b.add(D.subarray(h,B))}return{obj:b,endPos:v}}parseNameIndex(u){const b=[];for(let D=0,J=u.count;D<J;++D){const N=u.get(D);b.push((0,n.bytesToString)(N))}return b}parseStringIndex(u){const b=new p;for(let D=0,J=u.count;D<J;++D){const N=u.get(D);b.add((0,n.bytesToString)(N))}return b}createDict(u,b,D){const J=new u(D);for(const[N,v]of b)J.setByKey(N,v);return J}parseCharString(u,b,D,J){if(!b||u.callDepth>e)return!1;let N=u.stackSize;const v=u.stack;let S=b.length;for(let I=0;I<S;){const h=b[I++];let B=null;if(h===12){const r=b[I++];r===0?(b[I-2]=139,b[I-1]=22,N=0):B=H[r]}else if(h===28)v[N]=(b[I]<<24|b[I+1]<<16)>>16,I+=2,N++;else if(h===14){if(N>=4&&(N-=4,this.seacAnalysisEnabled))return u.seac=v.slice(N,N+4),!1;B=K[h]}else if(h>=32&&h<=246)v[N]=h-139,N++;else if(h>=247&&h<=254)v[N]=h<251?(h-247<<8)+b[I]+108:-(h-251<<8)-b[I]-108,I++,N++;else if(h===255)v[N]=(b[I]<<24|b[I+1]<<16|b[I+2]<<8|b[I+3])/65536,I+=4,N++;else if(h===19||h===20){if(u.hints+=N>>1,u.hints===0){b.copyWithin(I-1,I,-1),I-=1,S-=1;continue}I+=u.hints+7>>3,N%=2,B=K[h]}else if(h===10||h===29){const r=h===10?D:J;if(!r)return B=K[h],(0,n.warn)("Missing subrsIndex for "+B.id),!1;let A=32768;r.count<1240?A=107:r.count<33900&&(A=1131);const E=v[--N]+A;if(E<0||E>=r.count||isNaN(E))return B=K[h],(0,n.warn)("Out of bounds subrIndex for "+B.id),!1;if(u.stackSize=N,u.callDepth++,!this.parseCharString(u,r.get(E),D,J))return!1;u.callDepth--,N=u.stackSize;continue}else{if(h===11)return u.stackSize=N,!0;if(h===0&&I===b.length)b[I-1]=14,B=K[14];else if(h===9){b.copyWithin(I-1,I,-1),I-=1,S-=1;continue}else B=K[h]}if(B){if(B.stem&&(u.hints+=N>>1,h===3||h===23?u.hasVStems=!0:u.hasVStems&&(h===1||h===18)&&((0,n.warn)("CFF stem hints are in wrong order"),b[I-1]=h===1?3:23)),"min"in B&&!u.undefStack&&N<B.min)return(0,n.warn)("Not enough parameters for "+B.id+"; actual: "+N+", expected: "+B.min),N===0?(b[I-1]=14,!0):!1;u.firstStackClearing&&B.stackClearing&&(u.firstStackClearing=!1,N-=B.min,N>=2&&B.stem?N%=2:N>1&&(0,n.warn)("Found too many parameters for stack-clearing command"),N>0&&(u.width=v[N-1])),"stackDelta"in B?("stackFn"in B&&B.stackFn(v,N),N+=B.stackDelta):B.stackClearing?N=0:B.resetStack?(N=0,u.undefStack=!1):B.undefStack&&(N=0,u.undefStack=!0,u.firstStackClearing=!1)}}return S<b.length&&b.fill(14,S),u.stackSize=N,!0}parseCharStrings({charStrings:u,localSubrIndex:b,globalSubrIndex:D,fdSelect:J,fdArray:N,privateDict:v}){const S=[],I=[],h=u.count;for(let B=0;B<h;B++){const r=u.get(B),A={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let E=!0,G=null,se=v;if(J&&N.length){const Ae=J.getFDIndex(B);Ae===-1&&((0,n.warn)("Glyph index is not in fd select."),E=!1),Ae>=N.length&&((0,n.warn)("Invalid fd index for glyph index."),E=!1),E&&(se=N[Ae].privateDict,G=se.subrsIndex)}else b&&(G=b);if(E&&(E=this.parseCharString(A,r,G,D)),A.width!==null){const Ae=se.getByName("nominalWidthX");I[B]=Ae+A.width}else{const Ae=se.getByName("defaultWidthX");I[B]=Ae}A.seac!==null&&(S[B]=A.seac),E||u.set(B,new Uint8Array([14]))}return{charStrings:u,seacs:S,widths:I}}emptyPrivateDictionary(u){const b=this.createDict(Q,[],u.strings);u.setByKey(18,[0,0]),u.privateDict=b}parsePrivateDict(u){if(!u.hasName("Private")){this.emptyPrivateDictionary(u);return}const b=u.getByName("Private");if(!Array.isArray(b)||b.length!==2){u.removeByName("Private");return}const D=b[0],J=b[1];if(D===0||J>=this.bytes.length){this.emptyPrivateDictionary(u);return}const N=J+D,v=this.bytes.subarray(J,N),S=this.parseDict(v),I=this.createDict(Q,S,u.strings);if(u.privateDict=I,I.getByName("ExpansionFactor")===0&&I.setByName("ExpansionFactor",.06),!I.getByName("Subrs"))return;const h=I.getByName("Subrs"),B=J+h;if(h===0||B>=this.bytes.length){this.emptyPrivateDictionary(u);return}const r=this.parseIndex(B);I.subrsIndex=r.obj}parseCharsets(u,b,D,J){if(u===0)return new re(!0,j.ISO_ADOBE,w.ISOAdobeCharset);if(u===1)return new re(!0,j.EXPERT,w.ExpertCharset);if(u===2)return new re(!0,j.EXPERT_SUBSET,w.ExpertSubsetCharset);const N=this.bytes,v=u,S=N[u++],I=[J?0:".notdef"];let h,B,r;switch(b-=1,S){case 0:for(r=0;r<b;r++)h=N[u++]<<8|N[u++],I.push(J?h:D.get(h));break;case 1:for(;I.length<=b;)for(h=N[u++]<<8|N[u++],B=N[u++],r=0;r<=B;r++)I.push(J?h++:D.get(h++));break;case 2:for(;I.length<=b;)for(h=N[u++]<<8|N[u++],B=N[u++]<<8|N[u++],r=0;r<=B;r++)I.push(J?h++:D.get(h++));break;default:throw new n.FormatError("Unknown charset format")}const A=u,E=N.subarray(v,A);return new re(!1,S,I,E)}parseEncoding(u,b,D,J){const N=Object.create(null),v=this.bytes;let S=!1,I,h,B,r=null;function A(){const E=v[u++];for(h=0;h<E;h++){const G=v[u++],se=(v[u++]<<8)+(v[u++]&255);N[G]=J.indexOf(D.get(se))}}if(u===0||u===1){S=!0,I=u;const E=u?O.ExpertEncoding:O.StandardEncoding;for(h=0,B=J.length;h<B;h++){const G=E.indexOf(J[h]);G!==-1&&(N[G]=h)}}else{const E=u;switch(I=v[u++],I&127){case 0:const se=v[u++];for(h=1;h<=se;h++)N[v[u++]]=h;break;case 1:const Ae=v[u++];let ke=1;for(h=0;h<Ae;h++){const de=v[u++],Ie=v[u++];for(let ge=de;ge<=de+Ie;ge++)N[ge]=ke++}break;default:throw new n.FormatError(`Unknown encoding format: ${I} in CFF`)}const G=u;I&128&&(v[E]&=127,A()),r=v.subarray(E,G)}return I&=127,new T(S,I,N,r)}parseFDSelect(u,b){const D=this.bytes,J=D[u++],N=[];let v;switch(J){case 0:for(v=0;v<b;++v){const I=D[u++];N.push(I)}break;case 3:const S=D[u++]<<8|D[u++];for(v=0;v<S;++v){let I=D[u++]<<8|D[u++];v===0&&I!==0&&((0,n.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),I=0);const h=D[u++],B=D[u]<<8|D[u+1];for(let r=I;r<B;++r)N.push(h)}u+=2;break;default:throw new n.FormatError(`parseFDSelect: Unknown format "${J}".`)}if(N.length!==b)throw new n.FormatError("parseFDSelect: Invalid font data.");return new R(J,N)}}x.CFFParser=U;class P{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new p,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,n.warn)("Not enough space in charstrings to duplicate first glyph.");return}const u=this.charStrings.get(0);this.charStrings.add(u),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(u){return u<0||u>=this.charStrings.count?!1:this.charStrings.get(u).length>0}}x.CFF=P;class f{constructor(u,b,D,J){this.major=u,this.minor=b,this.hdrSize=D,this.offSize=J}}x.CFFHeader=f;class p{constructor(){this.strings=[]}get(u){return u>=0&&u<=o-1?t[u]:u-o<=this.strings.length?this.strings[u-o]:t[0]}getSID(u){let b=t.indexOf(u);return b!==-1?b:(b=this.strings.indexOf(u),b!==-1?b+o:-1)}add(u){this.strings.push(u)}get count(){return this.strings.length}}x.CFFStrings=p;class i{constructor(){this.objects=[],this.length=0}add(u){this.length+=u.length,this.objects.push(u)}set(u,b){this.length+=b.length-this.objects[u].length,this.objects[u]=b}get(u){return this.objects[u]}get count(){return this.objects.length}}x.CFFIndex=i;class k{constructor(u,b){this.keyToNameMap=u.keyToNameMap,this.nameToKeyMap=u.nameToKeyMap,this.defaults=u.defaults,this.types=u.types,this.opcodes=u.opcodes,this.order=u.order,this.strings=b,this.values=Object.create(null)}setByKey(u,b){if(!(u in this.keyToNameMap))return!1;if(b.length===0)return!0;for(const J of b)if(isNaN(J))return(0,n.warn)(`Invalid CFFDict value: "${b}" for key "${u}".`),!0;const D=this.types[u];return(D==="num"||D==="sid"||D==="offset")&&(b=b[0]),this.values[u]=b,!0}setByName(u,b){if(!(u in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name "${u}"`);this.values[this.nameToKeyMap[u]]=b}hasName(u){return this.nameToKeyMap[u]in this.values}getByName(u){if(!(u in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name ${u}"`);const b=this.nameToKeyMap[u];return b in this.values?this.values[b]:this.defaults[b]}removeByName(u){delete this.values[this.nameToKeyMap[u]]}static createTables(u){const b={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const D of u){const J=Array.isArray(D[0])?(D[0][0]<<8)+D[0][1]:D[0];b.keyToNameMap[J]=D[1],b.nameToKeyMap[D[1]]=J,b.types[J]=D[2],b.defaults[J]=D[3],b.opcodes[J]=Array.isArray(D[0])?D[0]:[D[0]],b.order.push(J)}return b}}const F=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class _ extends k{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(F))}constructor(u){super(_.tables,u),this.privateDict=null}}x.CFFTopDict=_;const C=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class Q extends k{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(C))}constructor(u){super(Q.tables,u),this.subrsIndex=null}}x.CFFPrivateDict=Q;const j={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class re{constructor(u,b,D,J){this.predefined=u,this.format=b,this.charset=D,this.raw=J}}x.CFFCharset=re;class T{constructor(u,b,D,J){this.predefined=u,this.format=b,this.encoding=D,this.raw=J}}class R{constructor(u,b){this.format=u,this.fdSelect=b}getFDIndex(u){return u<0||u>=this.fdSelect.length?-1:this.fdSelect[u]}}x.CFFFDSelect=R;class d{constructor(){this.offsets=Object.create(null)}isTracking(u){return u in this.offsets}track(u,b){if(u in this.offsets)throw new n.FormatError(`Already tracking location of ${u}`);this.offsets[u]=b}offset(u){for(const b in this.offsets)this.offsets[b]+=u}setEntryLocation(u,b,D){if(!(u in this.offsets))throw new n.FormatError(`Not tracking location of ${u}`);const J=D.data,N=this.offsets[u],v=5;for(let S=0,I=b.length;S<I;++S){const h=S*v+N,B=h+1,r=h+2,A=h+3,E=h+4;if(J[h]!==29||J[B]!==0||J[r]!==0||J[A]!==0||J[E]!==0)throw new n.FormatError("writing to an offset that is not empty");const G=b[S];J[h]=29,J[B]=G>>24&255,J[r]=G>>16&255,J[A]=G>>8&255,J[E]=G&255}}}class y{constructor(u){this.cff=u}compile(){const u=this.cff,b={data:[],length:0,add(A){try{this.data.push(...A)}catch{this.data=this.data.concat(A)}this.length=this.data.length}},D=this.compileHeader(u.header);b.add(D);const J=this.compileNameIndex(u.names);if(b.add(J),u.isCIDFont&&u.topDict.hasName("FontMatrix")){const A=u.topDict.getByName("FontMatrix");u.topDict.removeByName("FontMatrix");for(const E of u.fdArray){let G=A.slice(0);E.hasName("FontMatrix")&&(G=n.Util.transform(G,E.getByName("FontMatrix"))),E.setByName("FontMatrix",G)}}const N=u.topDict.getByName("XUID");(N==null?void 0:N.length)>16&&u.topDict.removeByName("XUID"),u.topDict.setByName("charset",0);let v=this.compileTopDicts([u.topDict],b.length,u.isCIDFont);b.add(v.output);const S=v.trackers[0],I=this.compileStringIndex(u.strings.strings);b.add(I);const h=this.compileIndex(u.globalSubrIndex);if(b.add(h),u.encoding&&u.topDict.hasName("Encoding"))if(u.encoding.predefined)S.setEntryLocation("Encoding",[u.encoding.format],b);else{const A=this.compileEncoding(u.encoding);S.setEntryLocation("Encoding",[b.length],b),b.add(A)}const B=this.compileCharset(u.charset,u.charStrings.count,u.strings,u.isCIDFont);S.setEntryLocation("charset",[b.length],b),b.add(B);const r=this.compileCharStrings(u.charStrings);if(S.setEntryLocation("CharStrings",[b.length],b),b.add(r),u.isCIDFont){S.setEntryLocation("FDSelect",[b.length],b);const A=this.compileFDSelect(u.fdSelect);b.add(A),v=this.compileTopDicts(u.fdArray,b.length,!0),S.setEntryLocation("FDArray",[b.length],b),b.add(v.output);const E=v.trackers;this.compilePrivateDicts(u.fdArray,E,b)}return this.compilePrivateDicts([u.topDict],[S],b),b.add([0]),b.data}encodeNumber(u){return Number.isInteger(u)?this.encodeInteger(u):this.encodeFloat(u)}static get EncodeFloatRegExp(){return(0,n.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(u){let b=u.toString();const D=y.EncodeFloatRegExp.exec(b);if(D){const I=parseFloat("1e"+((D[2]?+D[2]:0)+D[1].length));b=(Math.round(u*I)/I).toString()}let J="",N,v;for(N=0,v=b.length;N<v;++N){const I=b[N];I==="e"?J+=b[++N]==="-"?"c":"b":I==="."?J+="a":I==="-"?J+="e":J+=I}J+=J.length&1?"f":"ff";const S=[30];for(N=0,v=J.length;N<v;N+=2)S.push(parseInt(J.substring(N,N+2),16));return S}encodeInteger(u){let b;return u>=-107&&u<=107?b=[u+139]:u>=108&&u<=1131?(u-=108,b=[(u>>8)+247,u&255]):u>=-1131&&u<=-108?(u=-u-108,b=[(u>>8)+251,u&255]):u>=-32768&&u<=32767?b=[28,u>>8&255,u&255]:b=[29,u>>24&255,u>>16&255,u>>8&255,u&255],b}compileHeader(u){return[u.major,u.minor,4,u.offSize]}compileNameIndex(u){const b=new i;for(const D of u){const J=Math.min(D.length,127);let N=new Array(J);for(let v=0;v<J;v++){let S=D[v];(S<"!"||S>"~"||S==="["||S==="]"||S==="("||S===")"||S==="{"||S==="}"||S==="<"||S===">"||S==="/"||S==="%")&&(S="_"),N[v]=S}N=N.join(""),N===""&&(N="Bad_Font_Name"),b.add((0,n.stringToBytes)(N))}return this.compileIndex(b)}compileTopDicts(u,b,D){const J=[];let N=new i;for(const v of u){D&&(v.removeByName("CIDFontVersion"),v.removeByName("CIDFontRevision"),v.removeByName("CIDFontType"),v.removeByName("CIDCount"),v.removeByName("UIDBase"));const S=new d,I=this.compileDict(v,S);J.push(S),N.add(I),S.offset(b)}return N=this.compileIndex(N,J),{trackers:J,output:N}}compilePrivateDicts(u,b,D){for(let J=0,N=u.length;J<N;++J){const v=u[J],S=v.privateDict;if(!S||!v.hasName("Private"))throw new n.FormatError("There must be a private dictionary.");const I=new d,h=this.compileDict(S,I);let B=D.length;if(I.offset(B),h.length||(B=0),b[J].setEntryLocation("Private",[h.length,B],D),D.add(h),S.subrsIndex&&S.hasName("Subrs")){const r=this.compileIndex(S.subrsIndex);I.setEntryLocation("Subrs",[h.length],D),D.add(r)}}}compileDict(u,b){const D=[];for(const J of u.order){if(!(J in u.values))continue;let N=u.values[J],v=u.types[J];if(Array.isArray(v)||(v=[v]),Array.isArray(N)||(N=[N]),N.length!==0){for(let S=0,I=v.length;S<I;++S){const h=v[S],B=N[S];switch(h){case"num":case"sid":D.push(...this.encodeNumber(B));break;case"offset":const r=u.keyToNameMap[J];b.isTracking(r)||b.track(r,D.length),D.push(29,0,0,0,0);break;case"array":case"delta":D.push(...this.encodeNumber(B));for(let A=1,E=N.length;A<E;++A)D.push(...this.encodeNumber(N[A]));break;default:throw new n.FormatError(`Unknown data type of ${h}`)}}D.push(...u.opcodes[J])}}return D}compileStringIndex(u){const b=new i;for(const D of u)b.add((0,n.stringToBytes)(D));return this.compileIndex(b)}compileCharStrings(u){const b=new i;for(let D=0;D<u.count;D++){const J=u.get(D);if(J.length===0){b.add(new Uint8Array([139,14]));continue}b.add(J)}return this.compileIndex(b)}compileCharset(u,b,D,J){let N;const v=b-1;if(J)N=new Uint8Array([2,0,0,v>>8&255,v&255]);else{const S=1+v*2;N=new Uint8Array(S),N[0]=0;let I=0;const h=u.charset.length;let B=!1;for(let r=1;r<N.length;r+=2){let A=0;if(I<h){const E=u.charset[I++];A=D.getSID(E),A===-1&&(A=0,B||(B=!0,(0,n.warn)(`Couldn't find ${E} in CFF strings`)))}N[r]=A>>8&255,N[r+1]=A&255}}return this.compileTypedArray(N)}compileEncoding(u){return this.compileTypedArray(u.raw)}compileFDSelect(u){const b=u.format;let D,J;switch(b){case 0:for(D=new Uint8Array(1+u.fdSelect.length),D[0]=b,J=0;J<u.fdSelect.length;J++)D[J+1]=u.fdSelect[J];break;case 3:const N=0;let v=u.fdSelect[0];const S=[b,0,0,N>>8&255,N&255,v];for(J=1;J<u.fdSelect.length;J++){const h=u.fdSelect[J];h!==v&&(S.push(J>>8&255,J&255,h),v=h)}const I=(S.length-3)/3;S[1]=I>>8&255,S[2]=I&255,S.push(J>>8&255,J&255),D=new Uint8Array(S);break}return this.compileTypedArray(D)}compileTypedArray(u){return Array.from(u)}compileIndex(u,b=[]){const D=u.objects,J=D.length;if(J===0)return[0,0];const N=[J>>8&255,J&255];let v=1,S;for(S=0;S<J;++S)v+=D[S].length;let I;v<256?I=1:v<65536?I=2:v<16777216?I=3:I=4,N.push(I);let h=1;for(S=0;S<J+1;S++)I===1?N.push(h&255):I===2?N.push(h>>8&255,h&255):I===3?N.push(h>>16&255,h>>8&255,h&255):N.push(h>>>24&255,h>>16&255,h>>8&255,h&255),D[S]&&(h+=D[S].length);for(S=0;S<J;S++)b[S]&&b[S].offset(N.length),N.push(...D[S]);return N}}x.CFFCompiler=y},(Pe,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ISOAdobeCharset=x.ExpertSubsetCharset=x.ExpertCharset=void 0;const ie=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];x.ISOAdobeCharset=ie;const n=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];x.ExpertCharset=n;const w=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];x.ExpertSubsetCharset=w},(Pe,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ZapfDingbatsEncoding=x.WinAnsiEncoding=x.SymbolSetEncoding=x.StandardEncoding=x.MacRomanEncoding=x.ExpertEncoding=void 0,x.getEncoding=K;const ie=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];x.ExpertEncoding=ie;const n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],w=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];x.MacRomanEncoding=w;const O=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];x.StandardEncoding=O;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];x.WinAnsiEncoding=e;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];x.SymbolSetEncoding=t;const o=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];x.ZapfDingbatsEncoding=o;function K(H){switch(H){case"WinAnsiEncoding":return e;case"StandardEncoding":return O;case"MacRomanEncoding":return w;case"SymbolSetEncoding":return t;case"ZapfDingbatsEncoding":return o;case"ExpertEncoding":return ie;case"MacExpertEncoding":return n;default:return null}}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.SEAC_ANALYSIS_ENABLED=x.MacStandardGlyphOrdering=x.FontFlags=void 0,x.normalizeFontName=P,x.recoverGlyphName=H,x.type1FontGlyphMapping=U;var n=ie(37),w=ie(39),O=ie(40),e=ie(2);const t=!0;x.SEAC_ANALYSIS_ENABLED=t;const o={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};x.FontFlags=o;const K=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];x.MacStandardGlyphOrdering=K;function H(f,p){if(p[f]!==void 0)return f;const i=(0,O.getUnicodeForGlyph)(f,p);if(i!==-1){for(const k in p)if(p[k]===i)return k}return(0,e.info)("Unable to recover a standard glyph name for: "+f),f}function U(f,p,i){const k=Object.create(null);let F,_,C;const Q=!!(f.flags&o.Symbolic);if(f.isInternalFont)for(C=p,_=0;_<C.length;_++)F=i.indexOf(C[_]),k[_]=F>=0?F:0;else if(f.baseEncodingName)for(C=(0,n.getEncoding)(f.baseEncodingName),_=0;_<C.length;_++)F=i.indexOf(C[_]),k[_]=F>=0?F:0;else if(Q)for(_ in p)k[_]=p[_];else for(C=n.StandardEncoding,_=0;_<C.length;_++)F=i.indexOf(C[_]),k[_]=F>=0?F:0;const j=f.differences;let re;if(j)for(_ in j){const T=j[_];if(F=i.indexOf(T),F===-1){re||(re=(0,w.getGlyphsUnicode)());const R=H(T,re);R!==T&&(F=i.indexOf(R))}k[_]=F>=0?F:0}return k}function P(f){return f.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.getGlyphsUnicode=x.getDingbatsGlyphsUnicode=void 0;var n=ie(3);const w=(0,n.getLookupTableFactory)(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052,e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36,e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.f_f=64256,e.ffi=64259,e.f_f_i=64259,e.ffl=64260,e.f_f_l=64260,e.fi=64257,e.f_i=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.f_l=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222,e.kmonospace=65355,e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.planckover2pi=8463,e.planckover2pi1=8463,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431,e.reviamugrashhebrew=1431,e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657,e.whiterightpointingtriangle=9655,e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[".notdef"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739});x.getGlyphsUnicode=w;const O=(0,n.getLookupTableFactory)(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[".notdef"]=0});x.getDingbatsGlyphsUnicode=O},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.clearUnicodeCaches=P,x.getCharUnicodeCategory=U,x.getUnicodeForGlyph=e,x.getUnicodeRangeFor=o,x.mapSpecialUnicodeValues=O;var n=ie(3);const w=(0,n.getLookupTableFactory)(function(f){f[63721]=169,f[63193]=169,f[63720]=174,f[63194]=174,f[63722]=8482,f[63195]=8482,f[63729]=9127,f[63730]=9128,f[63731]=9129,f[63740]=9131,f[63741]=9132,f[63742]=9133,f[63726]=9121,f[63727]=9122,f[63728]=9123,f[63737]=9124,f[63738]=9125,f[63739]=9126,f[63723]=9115,f[63724]=9116,f[63725]=9117,f[63734]=9118,f[63735]=9119,f[63736]=9120});function O(f){return f>=65520&&f<=65535?0:f>=62976&&f<=63743?w()[f]||f:f===173?45:f}function e(f,p){let i=p[f];if(i!==void 0)return i;if(!f)return-1;if(f[0]==="u"){const k=f.length;let F;if(k===7&&f[1]==="n"&&f[2]==="i")F=f.substring(3);else if(k>=5&&k<=7)F=f.substring(1);else return-1;if(F===F.toUpperCase()&&(i=parseInt(F,16),i>=0))return i}return-1}const t=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function o(f,p=-1){if(p!==-1){const i=t[p];for(let k=0,F=i.length;k<F;k+=2)if(f>=i[k]&&f<=i[k+1])return p}for(let i=0,k=t.length;i<k;i++){const F=t[i];for(let _=0,C=F.length;_<C;_+=2)if(f>=F[_]&&f<=F[_+1])return i}return-1}const K=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),H=new Map;function U(f){const p=H.get(f);if(p)return p;const i=f.match(K),k={isWhitespace:!!(i!=null&&i[1]),isZeroWidthDiacritic:!!(i!=null&&i[2]),isInvisibleFormatMark:!!(i!=null&&i[3])};return H.set(f,k),k}function P(){H.clear()}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.getSerifFonts=x.getNonStdFontMap=x.getGlyphMapForStandardFonts=x.getFontNameToFileMap=void 0,x.getStandardFontName=f,x.getSymbolsFonts=x.getSupplementalGlyphMapForCalibri=x.getSupplementalGlyphMapForArialBlack=x.getStdFontMap=void 0,x.isKnownFontName=p;var n=ie(3),w=ie(38);const O=(0,n.getLookupTableFactory)(function(i){i["Times-Roman"]="Times-Roman",i.Helvetica="Helvetica",i.Courier="Courier",i.Symbol="Symbol",i["Times-Bold"]="Times-Bold",i["Helvetica-Bold"]="Helvetica-Bold",i["Courier-Bold"]="Courier-Bold",i.ZapfDingbats="ZapfDingbats",i["Times-Italic"]="Times-Italic",i["Helvetica-Oblique"]="Helvetica-Oblique",i["Courier-Oblique"]="Courier-Oblique",i["Times-BoldItalic"]="Times-BoldItalic",i["Helvetica-BoldOblique"]="Helvetica-BoldOblique",i["Courier-BoldOblique"]="Courier-BoldOblique",i.ArialNarrow="Helvetica",i["ArialNarrow-Bold"]="Helvetica-Bold",i["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",i["ArialNarrow-Italic"]="Helvetica-Oblique",i.ArialBlack="Helvetica",i["ArialBlack-Bold"]="Helvetica-Bold",i["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",i["ArialBlack-Italic"]="Helvetica-Oblique",i["Arial-Black"]="Helvetica",i["Arial-Black-Bold"]="Helvetica-Bold",i["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Black-Italic"]="Helvetica-Oblique",i.Arial="Helvetica",i["Arial-Bold"]="Helvetica-Bold",i["Arial-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Italic"]="Helvetica-Oblique",i.ArialMT="Helvetica",i["Arial-BoldItalicMT"]="Helvetica-BoldOblique",i["Arial-BoldMT"]="Helvetica-Bold",i["Arial-ItalicMT"]="Helvetica-Oblique",i["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",i["Arial-BoldMT-Bold"]="Helvetica-Bold",i["Arial-ItalicMT-Italic"]="Helvetica-Oblique",i.ArialUnicodeMS="Helvetica",i["ArialUnicodeMS-Bold"]="Helvetica-Bold",i["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",i["ArialUnicodeMS-Italic"]="Helvetica-Oblique",i["Courier-BoldItalic"]="Courier-BoldOblique",i["Courier-Italic"]="Courier-Oblique",i.CourierNew="Courier",i["CourierNew-Bold"]="Courier-Bold",i["CourierNew-BoldItalic"]="Courier-BoldOblique",i["CourierNew-Italic"]="Courier-Oblique",i["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",i["CourierNewPS-BoldMT"]="Courier-Bold",i["CourierNewPS-ItalicMT"]="Courier-Oblique",i.CourierNewPSMT="Courier",i["Helvetica-BoldItalic"]="Helvetica-BoldOblique",i["Helvetica-Italic"]="Helvetica-Oblique",i["Symbol-Bold"]="Symbol",i["Symbol-BoldItalic"]="Symbol",i["Symbol-Italic"]="Symbol",i.TimesNewRoman="Times-Roman",i["TimesNewRoman-Bold"]="Times-Bold",i["TimesNewRoman-BoldItalic"]="Times-BoldItalic",i["TimesNewRoman-Italic"]="Times-Italic",i.TimesNewRomanPS="Times-Roman",i["TimesNewRomanPS-Bold"]="Times-Bold",i["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",i["TimesNewRomanPS-BoldMT"]="Times-Bold",i["TimesNewRomanPS-Italic"]="Times-Italic",i["TimesNewRomanPS-ItalicMT"]="Times-Italic",i.TimesNewRomanPSMT="Times-Roman",i["TimesNewRomanPSMT-Bold"]="Times-Bold",i["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPSMT-Italic"]="Times-Italic"});x.getStdFontMap=O;const e=(0,n.getLookupTableFactory)(function(i){i.Courier="FoxitFixed.pfb",i["Courier-Bold"]="FoxitFixedBold.pfb",i["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",i["Courier-Oblique"]="FoxitFixedItalic.pfb",i.Helvetica="LiberationSans-Regular.ttf",i["Helvetica-Bold"]="LiberationSans-Bold.ttf",i["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",i["Helvetica-Oblique"]="LiberationSans-Italic.ttf",i["Times-Roman"]="FoxitSerif.pfb",i["Times-Bold"]="FoxitSerifBold.pfb",i["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",i["Times-Italic"]="FoxitSerifItalic.pfb",i.Symbol="FoxitSymbol.pfb",i.ZapfDingbats="FoxitDingbats.pfb",i["LiberationSans-Regular"]="LiberationSans-Regular.ttf",i["LiberationSans-Bold"]="LiberationSans-Bold.ttf",i["LiberationSans-Italic"]="LiberationSans-Italic.ttf",i["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});x.getFontNameToFileMap=e;const t=(0,n.getLookupTableFactory)(function(i){i.Calibri="Helvetica",i["Calibri-Bold"]="Helvetica-Bold",i["Calibri-BoldItalic"]="Helvetica-BoldOblique",i["Calibri-Italic"]="Helvetica-Oblique",i.CenturyGothic="Helvetica",i["CenturyGothic-Bold"]="Helvetica-Bold",i["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",i["CenturyGothic-Italic"]="Helvetica-Oblique",i.ComicSansMS="Comic Sans MS",i["ComicSansMS-Bold"]="Comic Sans MS-Bold",i["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",i["ComicSansMS-Italic"]="Comic Sans MS-Italic",i.Impact="Helvetica",i["ItcSymbol-Bold"]="Helvetica-Bold",i["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",i["ItcSymbol-Book"]="Helvetica",i["ItcSymbol-BookItalic"]="Helvetica-Oblique",i["ItcSymbol-Medium"]="Helvetica",i["ItcSymbol-MediumItalic"]="Helvetica-Oblique",i.LucidaConsole="Courier",i["LucidaConsole-Bold"]="Courier-Bold",i["LucidaConsole-BoldItalic"]="Courier-BoldOblique",i["LucidaConsole-Italic"]="Courier-Oblique",i["LucidaSans-Demi"]="Helvetica-Bold",i["MS-Gothic"]="MS Gothic",i["MS-Gothic-Bold"]="MS Gothic-Bold",i["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",i["MS-Gothic-Italic"]="MS Gothic-Italic",i["MS-Mincho"]="MS Mincho",i["MS-Mincho-Bold"]="MS Mincho-Bold",i["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",i["MS-Mincho-Italic"]="MS Mincho-Italic",i["MS-PGothic"]="MS PGothic",i["MS-PGothic-Bold"]="MS PGothic-Bold",i["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",i["MS-PGothic-Italic"]="MS PGothic-Italic",i["MS-PMincho"]="MS PMincho",i["MS-PMincho-Bold"]="MS PMincho-Bold",i["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",i["MS-PMincho-Italic"]="MS PMincho-Italic",i.NuptialScript="Times-Italic",i.SegoeUISymbol="Helvetica"});x.getNonStdFontMap=t;const o=(0,n.getLookupTableFactory)(function(i){i["Adobe Jenson"]=!0,i["Adobe Text"]=!0,i.Albertus=!0,i.Aldus=!0,i.Alexandria=!0,i.Algerian=!0,i["American Typewriter"]=!0,i.Antiqua=!0,i.Apex=!0,i.Arno=!0,i.Aster=!0,i.Aurora=!0,i.Baskerville=!0,i.Bell=!0,i.Bembo=!0,i["Bembo Schoolbook"]=!0,i.Benguiat=!0,i["Berkeley Old Style"]=!0,i["Bernhard Modern"]=!0,i["Berthold City"]=!0,i.Bodoni=!0,i["Bauer Bodoni"]=!0,i["Book Antiqua"]=!0,i.Bookman=!0,i["Bordeaux Roman"]=!0,i["Californian FB"]=!0,i.Calisto=!0,i.Calvert=!0,i.Capitals=!0,i.Cambria=!0,i.Cartier=!0,i.Caslon=!0,i.Catull=!0,i.Centaur=!0,i["Century Old Style"]=!0,i["Century Schoolbook"]=!0,i.Chaparral=!0,i["Charis SIL"]=!0,i.Cheltenham=!0,i["Cholla Slab"]=!0,i.Clarendon=!0,i.Clearface=!0,i.Cochin=!0,i.Colonna=!0,i["Computer Modern"]=!0,i["Concrete Roman"]=!0,i.Constantia=!0,i["Cooper Black"]=!0,i.Corona=!0,i.Ecotype=!0,i.Egyptienne=!0,i.Elephant=!0,i.Excelsior=!0,i.Fairfield=!0,i["FF Scala"]=!0,i.Folkard=!0,i.Footlight=!0,i.FreeSerif=!0,i["Friz Quadrata"]=!0,i.Garamond=!0,i.Gentium=!0,i.Georgia=!0,i.Gloucester=!0,i["Goudy Old Style"]=!0,i["Goudy Schoolbook"]=!0,i["Goudy Pro Font"]=!0,i.Granjon=!0,i["Guardian Egyptian"]=!0,i.Heather=!0,i.Hercules=!0,i["High Tower Text"]=!0,i.Hiroshige=!0,i["Hoefler Text"]=!0,i["Humana Serif"]=!0,i.Imprint=!0,i["Ionic No. 5"]=!0,i.Janson=!0,i.Joanna=!0,i.Korinna=!0,i.Lexicon=!0,i.LiberationSerif=!0,i["Liberation Serif"]=!0,i["Linux Libertine"]=!0,i.Literaturnaya=!0,i.Lucida=!0,i["Lucida Bright"]=!0,i.Melior=!0,i.Memphis=!0,i.Miller=!0,i.Minion=!0,i.Modern=!0,i["Mona Lisa"]=!0,i["Mrs Eaves"]=!0,i["MS Serif"]=!0,i["Museo Slab"]=!0,i["New York"]=!0,i["Nimbus Roman"]=!0,i["NPS Rawlinson Roadway"]=!0,i.NuptialScript=!0,i.Palatino=!0,i.Perpetua=!0,i.Plantin=!0,i["Plantin Schoolbook"]=!0,i.Playbill=!0,i["Poor Richard"]=!0,i["Rawlinson Roadway"]=!0,i.Renault=!0,i.Requiem=!0,i.Rockwell=!0,i.Roman=!0,i["Rotis Serif"]=!0,i.Sabon=!0,i.Scala=!0,i.Seagull=!0,i.Sistina=!0,i.Souvenir=!0,i.STIX=!0,i["Stone Informal"]=!0,i["Stone Serif"]=!0,i.Sylfaen=!0,i.Times=!0,i.Trajan=!0,i.Trinit=!0,i["Trump Mediaeval"]=!0,i.Utopia=!0,i["Vale Type"]=!0,i["Bitstream Vera"]=!0,i["Vera Serif"]=!0,i.Versailles=!0,i.Wanted=!0,i.Weiss=!0,i["Wide Latin"]=!0,i.Windsor=!0,i.XITS=!0});x.getSerifFonts=o;const K=(0,n.getLookupTableFactory)(function(i){i.Dingbats=!0,i.Symbol=!0,i.ZapfDingbats=!0,i.Wingdings=!0,i["Wingdings-Bold"]=!0,i["Wingdings-Regular"]=!0});x.getSymbolsFonts=K;const H=(0,n.getLookupTableFactory)(function(i){i[2]=10,i[3]=32,i[4]=33,i[5]=34,i[6]=35,i[7]=36,i[8]=37,i[9]=38,i[10]=39,i[11]=40,i[12]=41,i[13]=42,i[14]=43,i[15]=44,i[16]=45,i[17]=46,i[18]=47,i[19]=48,i[20]=49,i[21]=50,i[22]=51,i[23]=52,i[24]=53,i[25]=54,i[26]=55,i[27]=56,i[28]=57,i[29]=58,i[30]=894,i[31]=60,i[32]=61,i[33]=62,i[34]=63,i[35]=64,i[36]=65,i[37]=66,i[38]=67,i[39]=68,i[40]=69,i[41]=70,i[42]=71,i[43]=72,i[44]=73,i[45]=74,i[46]=75,i[47]=76,i[48]=77,i[49]=78,i[50]=79,i[51]=80,i[52]=81,i[53]=82,i[54]=83,i[55]=84,i[56]=85,i[57]=86,i[58]=87,i[59]=88,i[60]=89,i[61]=90,i[62]=91,i[63]=92,i[64]=93,i[65]=94,i[66]=95,i[67]=96,i[68]=97,i[69]=98,i[70]=99,i[71]=100,i[72]=101,i[73]=102,i[74]=103,i[75]=104,i[76]=105,i[77]=106,i[78]=107,i[79]=108,i[80]=109,i[81]=110,i[82]=111,i[83]=112,i[84]=113,i[85]=114,i[86]=115,i[87]=116,i[88]=117,i[89]=118,i[90]=119,i[91]=120,i[92]=121,i[93]=122,i[94]=123,i[95]=124,i[96]=125,i[97]=126,i[98]=196,i[99]=197,i[100]=199,i[101]=201,i[102]=209,i[103]=214,i[104]=220,i[105]=225,i[106]=224,i[107]=226,i[108]=228,i[109]=227,i[110]=229,i[111]=231,i[112]=233,i[113]=232,i[114]=234,i[115]=235,i[116]=237,i[117]=236,i[118]=238,i[119]=239,i[120]=241,i[121]=243,i[122]=242,i[123]=244,i[124]=246,i[125]=245,i[126]=250,i[127]=249,i[128]=251,i[129]=252,i[130]=8224,i[131]=176,i[132]=162,i[133]=163,i[134]=167,i[135]=8226,i[136]=182,i[137]=223,i[138]=174,i[139]=169,i[140]=8482,i[141]=180,i[142]=168,i[143]=8800,i[144]=198,i[145]=216,i[146]=8734,i[147]=177,i[148]=8804,i[149]=8805,i[150]=165,i[151]=181,i[152]=8706,i[153]=8721,i[154]=8719,i[156]=8747,i[157]=170,i[158]=186,i[159]=8486,i[160]=230,i[161]=248,i[162]=191,i[163]=161,i[164]=172,i[165]=8730,i[166]=402,i[167]=8776,i[168]=8710,i[169]=171,i[170]=187,i[171]=8230,i[179]=8220,i[180]=8221,i[181]=8216,i[182]=8217,i[200]=193,i[203]=205,i[207]=211,i[210]=218,i[223]=711,i[224]=321,i[225]=322,i[226]=352,i[227]=353,i[228]=381,i[229]=382,i[233]=221,i[234]=253,i[252]=263,i[253]=268,i[254]=269,i[258]=258,i[260]=260,i[261]=261,i[265]=280,i[266]=281,i[267]=282,i[268]=283,i[269]=313,i[275]=323,i[276]=324,i[278]=328,i[283]=344,i[284]=345,i[285]=346,i[286]=347,i[292]=367,i[295]=377,i[296]=378,i[298]=380,i[305]=963,i[306]=964,i[307]=966,i[308]=8215,i[309]=8252,i[310]=8319,i[311]=8359,i[312]=8592,i[313]=8593,i[337]=9552,i[493]=1039,i[494]=1040,i[672]=1488,i[673]=1489,i[674]=1490,i[675]=1491,i[676]=1492,i[677]=1493,i[678]=1494,i[679]=1495,i[680]=1496,i[681]=1497,i[682]=1498,i[683]=1499,i[684]=1500,i[685]=1501,i[686]=1502,i[687]=1503,i[688]=1504,i[689]=1505,i[690]=1506,i[691]=1507,i[692]=1508,i[693]=1509,i[694]=1510,i[695]=1511,i[696]=1512,i[697]=1513,i[698]=1514,i[705]=1524,i[706]=8362,i[710]=64288,i[711]=64298,i[759]=1617,i[761]=1776,i[763]=1778,i[775]=1652,i[777]=1764,i[778]=1780,i[779]=1781,i[780]=1782,i[782]=771,i[783]=64726,i[786]=8363,i[788]=8532,i[790]=768,i[791]=769,i[792]=768,i[795]=803,i[797]=64336,i[798]=64337,i[799]=64342,i[800]=64343,i[801]=64344,i[802]=64345,i[803]=64362,i[804]=64363,i[805]=64364,i[2424]=7821,i[2425]=7822,i[2426]=7823,i[2427]=7824,i[2428]=7825,i[2429]=7826,i[2430]=7827,i[2433]=7682,i[2678]=8045,i[2679]=8046,i[2830]=1552,i[2838]=686,i[2840]=751,i[2842]=753,i[2843]=754,i[2844]=755,i[2846]=757,i[2856]=767,i[2857]=848,i[2858]=849,i[2862]=853,i[2863]=854,i[2864]=855,i[2865]=861,i[2866]=862,i[2906]=7460,i[2908]=7462,i[2909]=7463,i[2910]=7464,i[2912]=7466,i[2913]=7467,i[2914]=7468,i[2916]=7470,i[2917]=7471,i[2918]=7472,i[2920]=7474,i[2921]=7475,i[2922]=7476,i[2924]=7478,i[2925]=7479,i[2926]=7480,i[2928]=7482,i[2929]=7483,i[2930]=7484,i[2932]=7486,i[2933]=7487,i[2934]=7488,i[2936]=7490,i[2937]=7491,i[2938]=7492,i[2940]=7494,i[2941]=7495,i[2942]=7496,i[2944]=7498,i[2946]=7500,i[2948]=7502,i[2950]=7504,i[2951]=7505,i[2952]=7506,i[2954]=7508,i[2955]=7509,i[2956]=7510,i[2958]=7512,i[2959]=7513,i[2960]=7514,i[2962]=7516,i[2963]=7517,i[2964]=7518,i[2966]=7520,i[2967]=7521,i[2968]=7522,i[2970]=7524,i[2971]=7525,i[2972]=7526,i[2974]=7528,i[2975]=7529,i[2976]=7530,i[2978]=1537,i[2979]=1538,i[2980]=1539,i[2982]=1549,i[2983]=1551,i[2984]=1552,i[2986]=1554,i[2987]=1555,i[2988]=1556,i[2990]=1623,i[2991]=1624,i[2995]=1775,i[2999]=1791,i[3002]=64290,i[3003]=64291,i[3004]=64292,i[3006]=64294,i[3007]=64295,i[3008]=64296,i[3011]=1900,i[3014]=8223,i[3015]=8244,i[3017]=7532,i[3018]=7533,i[3019]=7534,i[3075]=7590,i[3076]=7591,i[3079]=7594,i[3080]=7595,i[3083]=7598,i[3084]=7599,i[3087]=7602,i[3088]=7603,i[3091]=7606,i[3092]=7607,i[3095]=7610,i[3096]=7611,i[3099]=7614,i[3100]=7615,i[3103]=7618,i[3104]=7619,i[3107]=8337,i[3108]=8338,i[3116]=1884,i[3119]=1885,i[3120]=1885,i[3123]=1886,i[3124]=1886,i[3127]=1887,i[3128]=1887,i[3131]=1888,i[3132]=1888,i[3135]=1889,i[3136]=1889,i[3139]=1890,i[3140]=1890,i[3143]=1891,i[3144]=1891,i[3147]=1892,i[3148]=1892,i[3153]=580,i[3154]=581,i[3157]=584,i[3158]=585,i[3161]=588,i[3162]=589,i[3165]=891,i[3166]=892,i[3169]=1274,i[3170]=1275,i[3173]=1278,i[3174]=1279,i[3181]=7622,i[3182]=7623,i[3282]=11799,i[3316]=578,i[3379]=42785,i[3393]=1159,i[3416]=8377});x.getGlyphMapForStandardFonts=H;const U=(0,n.getLookupTableFactory)(function(i){i[227]=322,i[264]=261,i[291]=346});x.getSupplementalGlyphMapForArialBlack=U;const P=(0,n.getLookupTableFactory)(function(i){i[1]=32,i[4]=65,i[5]=192,i[6]=193,i[9]=196,i[17]=66,i[18]=67,i[21]=268,i[24]=68,i[28]=69,i[29]=200,i[30]=201,i[32]=282,i[38]=70,i[39]=71,i[44]=72,i[47]=73,i[48]=204,i[49]=205,i[58]=74,i[60]=75,i[62]=76,i[68]=77,i[69]=78,i[75]=79,i[76]=210,i[80]=214,i[87]=80,i[89]=81,i[90]=82,i[92]=344,i[94]=83,i[97]=352,i[100]=84,i[104]=85,i[109]=220,i[115]=86,i[116]=87,i[121]=88,i[122]=89,i[124]=221,i[127]=90,i[129]=381,i[258]=97,i[259]=224,i[260]=225,i[263]=228,i[268]=261,i[271]=98,i[272]=99,i[273]=263,i[275]=269,i[282]=100,i[286]=101,i[287]=232,i[288]=233,i[290]=283,i[295]=281,i[296]=102,i[336]=103,i[346]=104,i[349]=105,i[350]=236,i[351]=237,i[361]=106,i[364]=107,i[367]=108,i[371]=322,i[373]=109,i[374]=110,i[381]=111,i[382]=242,i[383]=243,i[386]=246,i[393]=112,i[395]=113,i[396]=114,i[398]=345,i[400]=115,i[401]=347,i[403]=353,i[410]=116,i[437]=117,i[442]=252,i[448]=118,i[449]=119,i[454]=120,i[455]=121,i[457]=253,i[460]=122,i[462]=382,i[463]=380,i[853]=44,i[855]=58,i[856]=46,i[876]=47,i[878]=45,i[882]=45,i[894]=40,i[895]=41,i[896]=91,i[897]=93,i[923]=64,i[1004]=48,i[1005]=49,i[1006]=50,i[1007]=51,i[1008]=52,i[1009]=53,i[1010]=54,i[1011]=55,i[1012]=56,i[1013]=57,i[1081]=37,i[1085]=43,i[1086]=45});x.getSupplementalGlyphMapForCalibri=P;function f(i){const k=(0,w.normalizeFontName)(i);return O()[k]}function p(i){const k=(0,w.normalizeFontName)(i);return!!(O()[k]||t()[k]||o()[k]||K()[k])}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ToUnicodeMap=x.IdentityToUnicodeMap=void 0;var n=ie(2);class w{constructor(t=[]){this._map=t}get length(){return this._map.length}forEach(t){for(const o in this._map)t(o,this._map[o].charCodeAt(0))}has(t){return this._map[t]!==void 0}get(t){return this._map[t]}charCodeOf(t){const o=this._map;if(o.length<=65536)return o.indexOf(t);for(const K in o)if(o[K]===t)return K|0;return-1}amend(t){for(const o in t)this._map[o]=t[o]}}x.ToUnicodeMap=w;class O{constructor(t,o){this.firstChar=t,this.lastChar=o}get length(){return this.lastChar+1-this.firstChar}forEach(t){for(let o=this.firstChar,K=this.lastChar;o<=K;o++)t(o,o)}has(t){return this.firstChar<=t&&t<=this.lastChar}get(t){if(this.firstChar<=t&&t<=this.lastChar)return String.fromCharCode(t)}charCodeOf(t){return Number.isInteger(t)&&t>=this.firstChar&&t<=this.lastChar?t:-1}amend(t){(0,n.unreachable)("Should not call amend()")}}x.IdentityToUnicodeMap=O},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.CFFFont=void 0;var n=ie(35),w=ie(38),O=ie(2);class e{constructor(o,K){this.properties=K;const H=new n.CFFParser(o,K,w.SEAC_ANALYSIS_ENABLED);this.cff=H.parse(),this.cff.duplicateFirstGlyph();const U=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=U.compile()}catch{(0,O.warn)("Failed to compile font "+K.loadedName),this.data=o}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const o=this.cff,K=this.properties,{cidToGidMap:H,cMap:U}=K,P=o.charset.charset;let f,p;if(K.composite){let k;if((H==null?void 0:H.length)>0){k=Object.create(null);for(let _=0,C=H.length;_<C;_++){const Q=H[_];Q!==void 0&&(k[Q]=_)}}f=Object.create(null);let F;if(o.isCIDFont)for(p=0;p<P.length;p++){const _=P[p];F=U.charCodeOf(_),(k==null?void 0:k[F])!==void 0&&(F=k[F]),f[F]=p}else for(p=0;p<o.charStrings.count;p++)F=U.charCodeOf(p),f[F]=p;return f}let i=o.encoding?o.encoding.encoding:null;return K.isInternalFont&&(i=K.defaultEncoding),f=(0,w.type1FontGlyphMapping)(K,i,P),f}hasGlyphId(o){return this.cff.hasGlyphId(o)}_createBuiltInEncoding(){const{charset:o,encoding:K}=this.cff;if(!o||!K)return;const H=o.charset,U=K.encoding,P=[];for(const f in U){const p=U[f];if(p>=0){const i=H[p];i&&(P[f]=i)}}P.length>0&&(this.properties.builtInEncoding=P)}}x.CFFFont=e},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FontRendererFactory=void 0;var n=ie(2),w=ie(35),O=ie(39),e=ie(37),t=ie(8);function o(d,y){return(d[y]<<24|d[y+1]<<16|d[y+2]<<8|d[y+3])>>>0}function K(d,y){return d[y]<<8|d[y+1]}function H(d,y){return(d[y]<<24|d[y+1]<<16)>>16}function U(d,y){return d[y]<<24>>24}function P(d,y){return H(d,y)/16384}function f(d){const y=d.length;let W=32768;return y<1240?W=107:y<33900&&(W=1131),W}function p(d,y,W){const u=K(d,y+2)===1?o(d,y+8):o(d,y+16),b=K(d,y+u);let D,J,N;if(b===4){K(d,y+u+2);const v=K(d,y+u+6)>>1;for(J=y+u+14,D=[],N=0;N<v;N++,J+=2)D[N]={end:K(d,J)};for(J+=2,N=0;N<v;N++,J+=2)D[N].start=K(d,J);for(N=0;N<v;N++,J+=2)D[N].idDelta=K(d,J);for(N=0;N<v;N++,J+=2){let S=K(d,J);if(S!==0){D[N].ids=[];for(let I=0,h=D[N].end-D[N].start+1;I<h;I++)D[N].ids[I]=K(d,J+S),S+=2}}return D}else if(b===12){const v=o(d,y+u+12);for(J=y+u+16,D=[],N=0;N<v;N++)y=o(d,J),D.push({start:y,end:o(d,J+4),idDelta:o(d,J+8)-y}),J+=12;return D}throw new n.FormatError(`unsupported cmap: ${b}`)}function i(d,y,W,u){var N,v,S;const b={},J=new w.CFFParser(new t.Stream(d,y,W-y),b,u).parse();return{glyphs:J.charStrings.objects,subrs:(v=(N=J.topDict.privateDict)==null?void 0:N.subrsIndex)==null?void 0:v.objects,gsubrs:(S=J.globalSubrIndex)==null?void 0:S.objects,isCFFCIDFont:J.isCIDFont,fdSelect:J.fdSelect,fdArray:J.fdArray}}function k(d,y,W){let u,b;W?(u=4,b=o):(u=2,b=(N,v)=>2*K(N,v));const D=[];let J=b(y,0);for(let N=u;N<y.length;N+=u){const v=b(y,N);D.push(d.subarray(J,v)),J=v}return D}function F(d,y){const W=y.codePointAt(0);let u=0,b=0,D=d.length-1;for(;b<D;){const J=b+D+1>>1;W<d[J].start?D=J-1:b=J}return d[b].start<=W&&W<=d[b].end&&(u=d[b].idDelta+(d[b].ids?d[b].ids[W-d[b].start]:W)&65535),{charCode:W,glyphId:u}}function _(d,y,W){function u(h,B){y.push({cmd:"moveTo",args:[h,B]})}function b(h,B){y.push({cmd:"lineTo",args:[h,B]})}function D(h,B,r,A){y.push({cmd:"quadraticCurveTo",args:[h,B,r,A]})}let J=0;const N=H(d,J);let v,S=0,I=0;if(J+=10,N<0)do{v=K(d,J);const h=K(d,J+2);J+=4;let B,r;v&1?(v&2?(B=H(d,J),r=H(d,J+2)):(B=K(d,J),r=K(d,J+2)),J+=4):v&2?(B=U(d,J++),r=U(d,J++)):(B=d[J++],r=d[J++]),v&2?(S=B,I=r):(S=0,I=0);let A=1,E=1,G=0,se=0;v&8?(A=E=P(d,J),J+=2):v&64?(A=P(d,J),E=P(d,J+2),J+=4):v&128&&(A=P(d,J),G=P(d,J+2),se=P(d,J+4),E=P(d,J+6),J+=8);const Ae=W.glyphs[h];Ae&&(y.push({cmd:"save"},{cmd:"transform",args:[A,G,se,E,S,I]}),_(Ae,y,W),y.push({cmd:"restore"}))}while(v&32);else{const h=[];let B,r;for(B=0;B<N;B++)h.push(K(d,J)),J+=2;const A=K(d,J);J+=2+A;const E=h.at(-1)+1,G=[];for(;G.length<E;){v=d[J++];let Ae=1;for(v&8&&(Ae+=d[J++]);Ae-- >0;)G.push({flags:v})}for(B=0;B<E;B++){switch(G[B].flags&18){case 0:S+=H(d,J),J+=2;break;case 2:S-=d[J++];break;case 18:S+=d[J++];break}G[B].x=S}for(B=0;B<E;B++){switch(G[B].flags&36){case 0:I+=H(d,J),J+=2;break;case 4:I-=d[J++];break;case 36:I+=d[J++];break}G[B].y=I}let se=0;for(J=0;J<N;J++){const Ae=h[J],ke=G.slice(se,Ae+1);if(ke[0].flags&1)ke.push(ke[0]);else if(ke.at(-1).flags&1)ke.unshift(ke.at(-1));else{const de={flags:1,x:(ke[0].x+ke.at(-1).x)/2,y:(ke[0].y+ke.at(-1).y)/2};ke.unshift(de),ke.push(de)}for(u(ke[0].x,ke[0].y),B=1,r=ke.length;B<r;B++)ke[B].flags&1?b(ke[B].x,ke[B].y):ke[B+1].flags&1?(D(ke[B].x,ke[B].y,ke[B+1].x,ke[B+1].y),B++):D(ke[B].x,ke[B].y,(ke[B].x+ke[B+1].x)/2,(ke[B].y+ke[B+1].y)/2);se=Ae+1}}}function C(d,y,W,u){function b(B,r){y.push({cmd:"moveTo",args:[B,r]})}function D(B,r){y.push({cmd:"lineTo",args:[B,r]})}function J(B,r,A,E,G,se){y.push({cmd:"bezierCurveTo",args:[B,r,A,E,G,se]})}const N=[];let v=0,S=0,I=0;function h(B){var A;let r=0;for(;r<B.length;){let E=!1,G=B[r++],se,Ae,ke,de,Ie,ge,Be,ee,te;switch(G){case 1:I+=N.length>>1,E=!0;break;case 3:I+=N.length>>1,E=!0;break;case 4:S+=N.pop(),b(v,S),E=!0;break;case 5:for(;N.length>0;)v+=N.shift(),S+=N.shift(),D(v,S);break;case 6:for(;N.length>0&&(v+=N.shift(),D(v,S),N.length!==0);)S+=N.shift(),D(v,S);break;case 7:for(;N.length>0&&(S+=N.shift(),D(v,S),N.length!==0);)v+=N.shift(),D(v,S);break;case 8:for(;N.length>0;)se=v+N.shift(),ke=S+N.shift(),Ae=se+N.shift(),de=ke+N.shift(),v=Ae+N.shift(),S=de+N.shift(),J(se,ke,Ae,de,v,S);break;case 10:if(ee=N.pop(),te=null,W.isCFFCIDFont){const fe=W.fdSelect.getFDIndex(u);if(fe>=0&&fe<W.fdArray.length){const ue=W.fdArray[fe];let le;(A=ue.privateDict)!=null&&A.subrsIndex&&(le=ue.privateDict.subrsIndex.objects),le&&(ee+=f(le),te=le[ee])}else(0,n.warn)("Invalid fd index for glyph index.")}else te=W.subrs[ee+W.subrsBias];te&&h(te);break;case 11:return;case 12:switch(G=B[r++],G){case 34:se=v+N.shift(),Ae=se+N.shift(),Ie=S+N.shift(),v=Ae+N.shift(),J(se,S,Ae,Ie,v,Ie),se=v+N.shift(),Ae=se+N.shift(),v=Ae+N.shift(),J(se,Ie,Ae,S,v,S);break;case 35:se=v+N.shift(),ke=S+N.shift(),Ae=se+N.shift(),de=ke+N.shift(),v=Ae+N.shift(),S=de+N.shift(),J(se,ke,Ae,de,v,S),se=v+N.shift(),ke=S+N.shift(),Ae=se+N.shift(),de=ke+N.shift(),v=Ae+N.shift(),S=de+N.shift(),J(se,ke,Ae,de,v,S),N.pop();break;case 36:se=v+N.shift(),Ie=S+N.shift(),Ae=se+N.shift(),ge=Ie+N.shift(),v=Ae+N.shift(),J(se,Ie,Ae,ge,v,ge),se=v+N.shift(),Ae=se+N.shift(),Be=ge+N.shift(),v=Ae+N.shift(),J(se,ge,Ae,Be,v,S);break;case 37:const fe=v,ue=S;se=v+N.shift(),ke=S+N.shift(),Ae=se+N.shift(),de=ke+N.shift(),v=Ae+N.shift(),S=de+N.shift(),J(se,ke,Ae,de,v,S),se=v+N.shift(),ke=S+N.shift(),Ae=se+N.shift(),de=ke+N.shift(),v=Ae,S=de,Math.abs(v-fe)>Math.abs(S-ue)?v+=N.shift():S+=N.shift(),J(se,ke,Ae,de,v,S);break;default:throw new n.FormatError(`unknown operator: 12 ${G}`)}break;case 14:if(N.length>=4){const fe=N.pop(),ue=N.pop();S=N.pop(),v=N.pop(),y.push({cmd:"save"},{cmd:"translate",args:[v,S]});let le=F(W.cmap,String.fromCharCode(W.glyphNameMap[e.StandardEncoding[fe]]));C(W.glyphs[le.glyphId],y,W,le.glyphId),y.push({cmd:"restore"}),le=F(W.cmap,String.fromCharCode(W.glyphNameMap[e.StandardEncoding[ue]])),C(W.glyphs[le.glyphId],y,W,le.glyphId)}return;case 18:I+=N.length>>1,E=!0;break;case 19:I+=N.length>>1,r+=I+7>>3,E=!0;break;case 20:I+=N.length>>1,r+=I+7>>3,E=!0;break;case 21:S+=N.pop(),v+=N.pop(),b(v,S),E=!0;break;case 22:v+=N.pop(),b(v,S),E=!0;break;case 23:I+=N.length>>1,E=!0;break;case 24:for(;N.length>2;)se=v+N.shift(),ke=S+N.shift(),Ae=se+N.shift(),de=ke+N.shift(),v=Ae+N.shift(),S=de+N.shift(),J(se,ke,Ae,de,v,S);v+=N.shift(),S+=N.shift(),D(v,S);break;case 25:for(;N.length>6;)v+=N.shift(),S+=N.shift(),D(v,S);se=v+N.shift(),ke=S+N.shift(),Ae=se+N.shift(),de=ke+N.shift(),v=Ae+N.shift(),S=de+N.shift(),J(se,ke,Ae,de,v,S);break;case 26:for(N.length%2&&(v+=N.shift());N.length>0;)se=v,ke=S+N.shift(),Ae=se+N.shift(),de=ke+N.shift(),v=Ae,S=de+N.shift(),J(se,ke,Ae,de,v,S);break;case 27:for(N.length%2&&(S+=N.shift());N.length>0;)se=v+N.shift(),ke=S,Ae=se+N.shift(),de=ke+N.shift(),v=Ae+N.shift(),S=de,J(se,ke,Ae,de,v,S);break;case 28:N.push((B[r]<<24|B[r+1]<<16)>>16),r+=2;break;case 29:ee=N.pop()+W.gsubrsBias,te=W.gsubrs[ee],te&&h(te);break;case 30:for(;N.length>0&&(se=v,ke=S+N.shift(),Ae=se+N.shift(),de=ke+N.shift(),v=Ae+N.shift(),S=de+(N.length===1?N.shift():0),J(se,ke,Ae,de,v,S),N.length!==0);)se=v+N.shift(),ke=S,Ae=se+N.shift(),de=ke+N.shift(),S=de+N.shift(),v=Ae+(N.length===1?N.shift():0),J(se,ke,Ae,de,v,S);break;case 31:for(;N.length>0&&(se=v+N.shift(),ke=S,Ae=se+N.shift(),de=ke+N.shift(),S=de+N.shift(),v=Ae+(N.length===1?N.shift():0),J(se,ke,Ae,de,v,S),N.length!==0);)se=v,ke=S+N.shift(),Ae=se+N.shift(),de=ke+N.shift(),v=Ae+N.shift(),S=de+(N.length===1?N.shift():0),J(se,ke,Ae,de,v,S);break;default:if(G<32)throw new n.FormatError(`unknown operator: ${G}`);G<247?N.push(G-139):G<251?N.push((G-247)*256+B[r++]+108):G<255?N.push(-(G-251)*256-B[r++]-108):(N.push((B[r]<<24|B[r+1]<<16|B[r+2]<<8|B[r+3])/65536),r+=4);break}E&&(N.length=0)}}h(d)}const Q=[];class j{constructor(y){this.constructor===j&&(0,n.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=y,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(y){const{charCode:W,glyphId:u}=F(this.cmap,y);let b=this.compiledGlyphs[u];if(!b)try{b=this.compileGlyph(this.glyphs[u],u),this.compiledGlyphs[u]=b}catch(D){throw this.compiledGlyphs[u]=Q,this.compiledCharCodeToGlyphId[W]===void 0&&(this.compiledCharCodeToGlyphId[W]=u),D}return this.compiledCharCodeToGlyphId[W]===void 0&&(this.compiledCharCodeToGlyphId[W]=u),b}compileGlyph(y,W){if(!y||y.length===0||y[0]===14)return Q;let u=this.fontMatrix;if(this.isCFFCIDFont){const D=this.fdSelect.getFDIndex(W);D>=0&&D<this.fdArray.length?u=this.fdArray[D].getByName("FontMatrix")||n.FONT_IDENTITY_MATRIX:(0,n.warn)("Invalid fd index for glyph index.")}const b=[{cmd:"save"},{cmd:"transform",args:u.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(y,b,W),b.push({cmd:"restore"}),b}compileGlyphImpl(){(0,n.unreachable)("Children classes should implement this.")}hasBuiltPath(y){const{charCode:W,glyphId:u}=F(this.cmap,y);return this.compiledGlyphs[u]!==void 0&&this.compiledCharCodeToGlyphId[W]!==void 0}}class re extends j{constructor(y,W,u){super(u||[488e-6,0,0,488e-6,0,0]),this.glyphs=y,this.cmap=W}compileGlyphImpl(y,W){_(y,W,this)}}class T extends j{constructor(y,W,u,b){super(u||[.001,0,0,.001,0,0]),this.glyphs=y.glyphs,this.gsubrs=y.gsubrs||[],this.subrs=y.subrs||[],this.cmap=W,this.glyphNameMap=b||(0,O.getGlyphsUnicode)(),this.gsubrsBias=f(this.gsubrs),this.subrsBias=f(this.subrs),this.isCFFCIDFont=y.isCFFCIDFont,this.fdSelect=y.fdSelect,this.fdArray=y.fdArray}compileGlyphImpl(y,W,u){C(y,W,this,u)}}class R{static create(y,W){const u=new Uint8Array(y.data);let b,D,J,N,v,S;const I=K(u,4);for(let h=0,B=12;h<I;h++,B+=16){const r=(0,n.bytesToString)(u.subarray(B,B+4)),A=o(u,B+8),E=o(u,B+12);switch(r){case"cmap":b=p(u,A);break;case"glyf":D=u.subarray(A,A+E);break;case"loca":J=u.subarray(A,A+E);break;case"head":S=K(u,A+18),v=K(u,A+50);break;case"CFF ":N=i(u,A,A+E,W);break}}if(D){const h=S?[1/S,0,0,1/S,0,0]:y.fontMatrix;return new re(k(D,J,v),b,h)}return new T(N,b,y.fontMatrix,y.glyphNameMap)}}x.FontRendererFactory=R},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.getMetrics=x.getFontBasicMetrics=void 0;var n=ie(3);const w=(0,n.getLookupTableFactory)(function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-BoldOblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Oblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e.Symbol=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790}),e["Times-Roman"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-BoldItalic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Italic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e.ZapfDingbats=(0,n.getLookupTableFactory)(function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918})});x.getMetrics=w;const O=(0,n.getLookupTableFactory)(function(e){e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});x.getFontBasicMetrics=O},(Pe,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.GlyfTable=void 0;const ie=1,n=2,w=4,O=8,e=16,t=32,o=64,K=1,H=2,U=8,P=32,f=64,p=128,i=256;class k{constructor({glyfTable:T,isGlyphLocationsLong:R,locaTable:d,numGlyphs:y}){this.glyphs=[];const W=new DataView(d.buffer,d.byteOffset,d.byteLength),u=new DataView(T.buffer,T.byteOffset,T.byteLength),b=R?4:2;let D=R?W.getUint32(0):2*W.getUint16(0),J=0;for(let N=0;N<y;N++){J+=b;const v=R?W.getUint32(J):2*W.getUint16(J);if(v===D){this.glyphs.push(new F({}));continue}const S=F.parse(D,u);this.glyphs.push(S),D=v}}getSize(){return this.glyphs.reduce((T,R)=>{const d=R.getSize();return T+(d+3&-4)},0)}write(){const T=this.getSize(),R=new DataView(new ArrayBuffer(T)),d=T>131070,y=d?4:2,W=new DataView(new ArrayBuffer((this.glyphs.length+1)*y));d?W.setUint32(0,0):W.setUint16(0,0);let u=0,b=0;for(const D of this.glyphs)u+=D.write(u,R),u=u+3&-4,b+=y,d?W.setUint32(b,u):W.setUint16(b,u>>1);return{isLocationLong:d,loca:new Uint8Array(W.buffer),glyf:new Uint8Array(R.buffer)}}scale(T){for(let R=0,d=this.glyphs.length;R<d;R++)this.glyphs[R].scale(T[R])}}x.GlyfTable=k;class F{constructor({header:T=null,simple:R=null,composites:d=null}){this.header=T,this.simple=R,this.composites=d}static parse(T,R){const[d,y]=_.parse(T,R);if(T+=d,y.numberOfContours<0){const u=[];for(;;){const[b,D]=j.parse(T,R);if(T+=b,u.push(D),!(D.flags&P))break}return new F({header:y,composites:u})}const W=Q.parse(T,R,y.numberOfContours);return new F({header:y,simple:W})}getSize(){if(!this.header)return 0;const T=this.simple?this.simple.getSize():this.composites.reduce((R,d)=>R+d.getSize(),0);return this.header.getSize()+T}write(T,R){if(!this.header)return 0;const d=T;if(T+=this.header.write(T,R),this.simple)T+=this.simple.write(T,R);else for(const y of this.composites)T+=y.write(T,R);return T-d}scale(T){if(!this.header)return;const R=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(R,T),this.simple)this.simple.scale(R,T);else for(const d of this.composites)d.scale(R,T)}}class _{constructor({numberOfContours:T,xMin:R,yMin:d,xMax:y,yMax:W}){this.numberOfContours=T,this.xMin=R,this.yMin=d,this.xMax=y,this.yMax=W}static parse(T,R){return[10,new _({numberOfContours:R.getInt16(T),xMin:R.getInt16(T+2),yMin:R.getInt16(T+4),xMax:R.getInt16(T+6),yMax:R.getInt16(T+8)})]}getSize(){return 10}write(T,R){return R.setInt16(T,this.numberOfContours),R.setInt16(T+2,this.xMin),R.setInt16(T+4,this.yMin),R.setInt16(T+6,this.xMax),R.setInt16(T+8,this.yMax),10}scale(T,R){this.xMin=Math.round(T+(this.xMin-T)*R),this.xMax=Math.round(T+(this.xMax-T)*R)}}class C{constructor({flags:T,xCoordinates:R,yCoordinates:d}){this.xCoordinates=R,this.yCoordinates=d,this.flags=T}}class Q{constructor({contours:T,instructions:R}){this.contours=T,this.instructions=R}static parse(T,R,d){const y=[];for(let r=0;r<d;r++){const A=R.getUint16(T);T+=2,y.push(A)}const W=y[d-1]+1,u=R.getUint16(T);T+=2;const b=new Uint8Array(R).slice(T,T+u);T+=u;const D=[];for(let r=0;r<W;T++,r++){let A=R.getUint8(T);if(D.push(A),A&O){const E=R.getUint8(++T);A^=O;for(let G=0;G<E;G++)D.push(A);r+=E}}const J=[];let N=[],v=[],S=[];const I=[];let h=0,B=0;for(let r=0;r<W;r++){const A=D[r];if(A&n){const E=R.getUint8(T++);B+=A&e?E:-E,N.push(B)}else A&e||(B+=R.getInt16(T),T+=2),N.push(B);y[h]===r&&(h++,J.push(N),N=[])}B=0,h=0;for(let r=0;r<W;r++){const A=D[r];if(A&w){const E=R.getUint8(T++);B+=A&t?E:-E,v.push(B)}else A&t||(B+=R.getInt16(T),T+=2),v.push(B);S.push(A&ie|A&o),y[h]===r&&(N=J[h],h++,I.push(new C({flags:S,xCoordinates:N,yCoordinates:v})),v=[],S=[])}return new Q({contours:I,instructions:b})}getSize(){let T=this.contours.length*2+2+this.instructions.length,R=0,d=0;for(const y of this.contours){T+=y.flags.length;for(let W=0,u=y.xCoordinates.length;W<u;W++){const b=y.xCoordinates[W],D=y.yCoordinates[W];let J=Math.abs(b-R);J>255?T+=2:J>0&&(T+=1),R=b,J=Math.abs(D-d),J>255?T+=2:J>0&&(T+=1),d=D}}return T}write(T,R){const d=T,y=[],W=[],u=[];let b=0,D=0;for(const J of this.contours){for(let N=0,v=J.xCoordinates.length;N<v;N++){let S=J.flags[N];const I=J.xCoordinates[N];let h=I-b;if(h===0)S|=e,y.push(0);else{const r=Math.abs(h);r<=255?(S|=h>=0?n|e:n,y.push(r)):y.push(h)}b=I;const B=J.yCoordinates[N];if(h=B-D,h===0)S|=t,W.push(0);else{const r=Math.abs(h);r<=255?(S|=h>=0?w|t:w,W.push(r)):W.push(h)}D=B,u.push(S)}R.setUint16(T,y.length-1),T+=2}R.setUint16(T,this.instructions.length),T+=2,this.instructions.length&&(new Uint8Array(R.buffer,0,R.buffer.byteLength).set(this.instructions,T),T+=this.instructions.length);for(const J of u)R.setUint8(T++,J);for(let J=0,N=y.length;J<N;J++){const v=y[J],S=u[J];S&n?R.setUint8(T++,v):S&e||(R.setInt16(T,v),T+=2)}for(let J=0,N=W.length;J<N;J++){const v=W[J],S=u[J];S&w?R.setUint8(T++,v):S&t||(R.setInt16(T,v),T+=2)}return T-d}scale(T,R){for(const d of this.contours)if(d.xCoordinates.length!==0)for(let y=0,W=d.xCoordinates.length;y<W;y++)d.xCoordinates[y]=Math.round(T+(d.xCoordinates[y]-T)*R)}}class j{constructor({flags:T,glyphIndex:R,argument1:d,argument2:y,transf:W,instructions:u}){this.flags=T,this.glyphIndex=R,this.argument1=d,this.argument2=y,this.transf=W,this.instructions=u}static parse(T,R){const d=T,y=[];let W=R.getUint16(T);const u=R.getUint16(T+2);T+=4;let b,D;W&K?(W&H?(b=R.getInt16(T),D=R.getInt16(T+2)):(b=R.getUint16(T),D=R.getUint16(T+2)),T+=4,W^=K):(W&H?(b=R.getInt8(T),D=R.getInt8(T+1)):(b=R.getUint8(T),D=R.getUint8(T+1)),T+=2),W&U?(y.push(R.getUint16(T)),T+=2):W&f?(y.push(R.getUint16(T),R.getUint16(T+2)),T+=4):W&p&&(y.push(R.getUint16(T),R.getUint16(T+2),R.getUint16(T+4),R.getUint16(T+6)),T+=8);let J=null;if(W&i){const N=R.getUint16(T);T+=2,J=new Uint8Array(R).slice(T,T+N),T+=N}return[T-d,new j({flags:W,glyphIndex:u,argument1:b,argument2:D,transf:y,instructions:J})]}getSize(){let T=4+this.transf.length*2;return this.flags&i&&(T+=2+this.instructions.length),T+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(T+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(T+=2),T}write(T,R){const d=T;return this.flags&H?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=K):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=K),R.setUint16(T,this.flags),R.setUint16(T+2,this.glyphIndex),T+=4,this.flags&K?(this.flags&H?(R.setInt16(T,this.argument1),R.setInt16(T+2,this.argument2)):(R.setUint16(T,this.argument1),R.setUint16(T+2,this.argument2)),T+=4):(R.setUint8(T,this.argument1),R.setUint8(T+1,this.argument2),T+=2),this.flags&i&&(R.setUint16(T,this.instructions.length),T+=2,this.instructions.length&&(new Uint8Array(R.buffer,0,R.buffer.byteLength).set(this.instructions,T),T+=this.instructions.length)),T-d}scale(T,R){}}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.OpenTypeFileBuilder=void 0;var n=ie(3),w=ie(2);function O(U,P,f){U[P]=f>>8&255,U[P+1]=f&255}function e(U,P,f){U[P]=f>>24&255,U[P+1]=f>>16&255,U[P+2]=f>>8&255,U[P+3]=f&255}function t(U,P,f){if(f instanceof Uint8Array)U.set(f,P);else if(typeof f=="string")for(let p=0,i=f.length;p<i;p++)U[P++]=f.charCodeAt(p)&255;else for(const p of f)U[P++]=p&255}const o=12,K=16;class H{constructor(P){this.sfnt=P,this.tables=Object.create(null)}static getSearchParams(P,f){let p=1,i=0;for(;(p^P)>p;)p<<=1,i++;const k=p*f;return{range:k,entry:i,rangeShift:f*P-k}}toArray(){let P=this.sfnt;const f=this.tables,p=Object.keys(f);p.sort();const i=p.length;let k,F,_,C,Q,j=o+i*K;const re=[j];for(k=0;k<i;k++){C=f[p[k]];const d=(C.length+3&-4)>>>0;j+=d,re.push(j)}const T=new Uint8Array(j);for(k=0;k<i;k++)C=f[p[k]],t(T,re[k],C);P==="true"&&(P=(0,w.string32)(65536)),T[0]=P.charCodeAt(0)&255,T[1]=P.charCodeAt(1)&255,T[2]=P.charCodeAt(2)&255,T[3]=P.charCodeAt(3)&255,O(T,4,i);const R=H.getSearchParams(i,16);for(O(T,6,R.range),O(T,8,R.entry),O(T,10,R.rangeShift),j=o,k=0;k<i;k++){Q=p[k],T[j]=Q.charCodeAt(0)&255,T[j+1]=Q.charCodeAt(1)&255,T[j+2]=Q.charCodeAt(2)&255,T[j+3]=Q.charCodeAt(3)&255;let d=0;for(F=re[k],_=re[k+1];F<_;F+=4){const y=(0,n.readUint32)(T,F);d=d+y>>>0}e(T,j+4,d),e(T,j+8,re[k]),e(T,j+12,f[Q].length),j+=K}return T}addTable(P,f){if(P in this.tables)throw new Error("Table "+P+" already exists");this.tables[P]=f}}x.OpenTypeFileBuilder=H},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Type1Font=void 0;var n=ie(35),w=ie(2),O=ie(38),e=ie(3),t=ie(8),o=ie(49);function K(f,p,i){const k=f.length,F=p.length,_=k-F;let C=i,Q=!1;for(;C<_;){let j=0;for(;j<F&&f[C+j]===p[j];)j++;if(j>=F){for(C+=j;C<k&&(0,e.isWhiteSpace)(f[C]);)C++;Q=!0;break}C++}return{found:Q,length:C}}function H(f,p){const i=[101,101,120,101,99],k=f.pos;let F,_,C;try{F=f.getBytes(p),_=F.length}catch{}if(_===p&&(C=K(F,i,p-2*i.length),C.found&&C.length===p))return{stream:new t.Stream(F),length:p};(0,w.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),f.pos=k;const Q=2048;let j;for(;;){const re=f.peekBytes(Q);if(C=K(re,i,0),C.length===0)break;if(f.pos+=C.length,C.found){j=f.pos-k;break}}return f.pos=k,j?{stream:new t.Stream(f.getBytes(j)),length:j}:((0,w.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new t.Stream(f.getBytes(p)),length:p})}function U(f,p){const i=f.getBytes();if(i.length===0)throw new w.FormatError("getEexecBlock - no font program found.");return{stream:new t.Stream(i),length:i.length}}class P{constructor(p,i,k){let _=k.length1;k.length2;let C=i.peekBytes(6);const Q=C[0]===128&&C[1]===1;Q&&(i.skip(6),_=C[5]<<24|C[4]<<16|C[3]<<8|C[2]);const j=H(i,_);new o.Type1Parser(j.stream,!1,O.SEAC_ANALYSIS_ENABLED).extractFontHeader(k),Q&&(C=i.getBytes(6),C[5]<<24|C[4]<<16|C[3]<<8|C[2]);const T=U(i),d=new o.Type1Parser(T.stream,!0,O.SEAC_ANALYSIS_ENABLED).extractFontProgram(k);for(const b in d.properties)k[b]=d.properties[b];const y=d.charstrings,W=this.getType2Charstrings(y),u=this.getType2Subrs(d.subrs);this.charstrings=y,this.data=this.wrap(p,W,this.charstrings,u,k),this.seacs=this.getSeacs(d.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const p=[".notdef"];for(const{glyphName:i}of this.charstrings)p.push(i);return p}getGlyphMapping(p){const i=this.charstrings;if(p.composite){const Q=Object.create(null);for(let j=0,re=i.length;j<re;j++){const T=p.cMap.charCodeOf(j);Q[T]=j+1}return Q}const k=[".notdef"];let F,_;for(_=0;_<i.length;_++)k.push(i[_].glyphName);const C=p.builtInEncoding;if(C){F=Object.create(null);for(const Q in C)_=k.indexOf(C[Q]),_>=0&&(F[Q]=_)}return(0,O.type1FontGlyphMapping)(p,F,k)}hasGlyphId(p){return p<0||p>=this.numGlyphs?!1:p===0?!0:this.charstrings[p-1].charstring.length>0}getSeacs(p){const i=[];for(let k=0,F=p.length;k<F;k++){const _=p[k];_.seac&&(i[k+1]=_.seac)}return i}getType2Charstrings(p){const i=[];for(const k of p)i.push(k.charstring);return i}getType2Subrs(p){let i=0;const k=p.length;k<1133?i=107:k<33769?i=1131:i=32768;const F=[];let _;for(_=0;_<i;_++)F.push([11]);for(_=0;_<k;_++)F.push(p[_]);return F}wrap(p,i,k,F,_){const C=new n.CFF;C.header=new n.CFFHeader(1,0,4,4),C.names=[p];const Q=new n.CFFTopDict;Q.setByName("version",391),Q.setByName("Notice",392),Q.setByName("FullName",393),Q.setByName("FamilyName",394),Q.setByName("Weight",395),Q.setByName("Encoding",null),Q.setByName("FontMatrix",_.fontMatrix),Q.setByName("FontBBox",_.bbox),Q.setByName("charset",null),Q.setByName("CharStrings",null),Q.setByName("Private",null),C.topDict=Q;const j=new n.CFFStrings;j.add("Version 0.11"),j.add("See original notice"),j.add(p),j.add(p),j.add("Medium"),C.strings=j,C.globalSubrIndex=new n.CFFIndex;const re=i.length,T=[".notdef"];let R,d;for(R=0;R<re;R++){const J=k[R].glyphName;n.CFFStandardStrings.indexOf(J)===-1&&j.add(J),T.push(J)}C.charset=new n.CFFCharset(!1,0,T);const y=new n.CFFIndex;for(y.add([139,14]),R=0;R<re;R++)y.add(i[R]);C.charStrings=y;const W=new n.CFFPrivateDict;W.setByName("Subrs",null);const u=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(R=0,d=u.length;R<d;R++){const J=u[R];if(!(J in _.privateData))continue;const N=_.privateData[J];if(Array.isArray(N))for(let v=N.length-1;v>0;v--)N[v]-=N[v-1];W.setByName(J,N)}C.topDict.privateDict=W;const b=new n.CFFIndex;for(R=0,d=F.length;R<d;R++)b.add(F[R]);return W.subrsIndex=b,new n.CFFCompiler(C).compile()}}x.Type1Font=P},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Type1Parser=void 0;var n=ie(37),w=ie(3),O=ie(8),e=ie(2);const t=!1,o={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class K{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(_,C,Q){const j=_.length;let re=!1,T,R,d;for(let y=0;y<j;y++){let W=_[y];if(W<32){switch(W===12&&(W=(W<<8)+_[++y]),W){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){re=!0;break}const N=this.stack.pop();this.stack.push(0,N);break}re=this.executeCommand(1,o.vmoveto);break;case 5:re=this.executeCommand(2,o.rlineto);break;case 6:re=this.executeCommand(1,o.hlineto);break;case 7:re=this.executeCommand(1,o.vlineto);break;case 8:re=this.executeCommand(6,o.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){re=!0;break}if(d=this.stack.pop(),!C[d]){re=!0;break}re=this.convert(C[d],C,Q);break;case 11:return re;case 13:if(this.stack.length<2){re=!0;break}T=this.stack.pop(),R=this.stack.pop(),this.lsb=R,this.width=T,this.stack.push(T,R),re=this.executeCommand(2,o.hmoveto);break;case 14:this.output.push(o.endchar[0]);break;case 21:if(this.flexing)break;re=this.executeCommand(2,o.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}re=this.executeCommand(1,o.hmoveto);break;case 30:re=this.executeCommand(4,o.vhcurveto);break;case 31:re=this.executeCommand(4,o.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(Q){const N=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-N,re=this.executeCommand(0,o.endchar)}else re=this.executeCommand(4,o.endchar);break;case 3079:if(this.stack.length<4){re=!0;break}this.stack.pop(),T=this.stack.pop();const u=this.stack.pop();R=this.stack.pop(),this.lsb=R,this.width=T,this.stack.push(T,R,u),re=this.executeCommand(3,o.rmoveto);break;case 3084:if(this.stack.length<2){re=!0;break}const b=this.stack.pop(),D=this.stack.pop();this.stack.push(D/b);break;case 3088:if(this.stack.length<2){re=!0;break}d=this.stack.pop();const J=this.stack.pop();if(d===0&&J===3){const N=this.stack.splice(-17,17);this.stack.push(N[2]+N[0],N[3]+N[1],N[4],N[5],N[6],N[7],N[8],N[9],N[10],N[11],N[12],N[13],N[14]),re=this.executeCommand(13,o.flex,!0),this.flexing=!1,this.stack.push(N[15],N[16])}else d===1&&J===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,e.warn)('Unknown type 1 charstring command of "'+W+'"');break}if(re)break;continue}else W<=246?W-=139:W<=250?W=(W-247)*256+_[++y]+108:W<=254?W=-((W-251)*256)-_[++y]-108:W=(_[++y]&255)<<24|(_[++y]&255)<<16|(_[++y]&255)<<8|(_[++y]&255)<<0;this.stack.push(W)}return re}executeCommand(_,C,Q){const j=this.stack.length;if(_>j)return!0;const re=j-_;for(let T=re;T<j;T++){let R=this.stack[T];Number.isInteger(R)?this.output.push(28,R>>8&255,R&255):(R=65536*R|0,this.output.push(255,R>>24&255,R>>16&255,R>>8&255,R&255))}return this.output.push(...C),Q?this.stack.splice(re,_):this.stack.length=0,!1}}const H=55665,U=4330;function P(F){return F>=48&&F<=57||F>=65&&F<=70||F>=97&&F<=102}function f(F,_,C){if(C>=F.length)return new Uint8Array(0);const Q=52845,j=22719;let re=_|0,T,R;for(T=0;T<C;T++)re=(F[T]+re)*Q+j&65535;const d=F.length-C,y=new Uint8Array(d);for(T=C,R=0;R<d;T++,R++){const W=F[T];y[R]=W^re>>8,re=(W+re)*Q+j&65535}return y}function p(F,_,C){let re=_|0;const T=F.length,R=T>>>1,d=new Uint8Array(R);let y,W;for(y=0,W=0;y<T;y++){const u=F[y];if(!P(u))continue;y++;let b;for(;y<T&&!P(b=F[y]);)y++;if(y<T){const D=parseInt(String.fromCharCode(u,b),16);d[W++]=D^re>>8,re=(D+re)*52845+22719&65535}}return d.slice(C,W)}function i(F){return F===47||F===91||F===93||F===123||F===125||F===40||F===41}class k{constructor(_,C,Q){if(C){const j=_.getBytes(),re=!((P(j[0])||(0,w.isWhiteSpace)(j[0]))&&P(j[1])&&P(j[2])&&P(j[3])&&P(j[4])&&P(j[5])&&P(j[6])&&P(j[7]));_=new O.Stream(re?f(j,H,4):p(j,H,4))}this.seacAnalysisEnabled=!!Q,this.stream=_,this.nextChar()}readNumberArray(){this.getToken();const _=[];for(;;){const C=this.getToken();if(C===null||C==="]"||C==="}")break;_.push(parseFloat(C||0))}return _}readNumber(){const _=this.getToken();return parseFloat(_||0)}readInt(){const _=this.getToken();return parseInt(_||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let _=!1,C=this.currentChar;for(;;){if(C===-1)return null;if(_)(C===10||C===13)&&(_=!1);else if(C===37)_=!0;else if(!(0,w.isWhiteSpace)(C))break;C=this.nextChar()}if(i(C))return this.nextChar(),String.fromCharCode(C);let Q="";do Q+=String.fromCharCode(C),C=this.nextChar();while(C>=0&&!(0,w.isWhiteSpace)(C)&&!i(C));return Q}readCharStrings(_,C){return C===-1?_:f(_,U,C)}extractFontProgram(_){const C=this.stream,Q=[],j=[],re=Object.create(null);re.lenIV=4;const T={subrs:[],charstrings:[],properties:{privateData:re}};let R,d,y,W;for(;(R=this.getToken())!==null;)if(R==="/")switch(R=this.getToken(),R){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();R=this.getToken(),!(R===null||R==="end");){if(R!=="/")continue;const b=this.getToken();d=this.readInt(),this.getToken(),y=d>0?C.getBytes(d):new Uint8Array(0),W=T.properties.privateData.lenIV;const D=this.readCharStrings(y,W);this.nextChar(),R=this.getToken(),R==="noaccess"?this.getToken():R==="/"&&this.prevChar(),j.push({glyph:b,encoded:D})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const b=this.readInt();d=this.readInt(),this.getToken(),y=d>0?C.getBytes(d):new Uint8Array(0),W=T.properties.privateData.lenIV;const D=this.readCharStrings(y,W);this.nextChar(),R=this.getToken(),R==="noaccess"&&this.getToken(),Q[b]=D}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const u=this.readNumberArray();u.length>0&&u.length%2===0&&t&&(T.properties.privateData[R]=u);break;case"StemSnapH":case"StemSnapV":T.properties.privateData[R]=this.readNumberArray();break;case"StdHW":case"StdVW":T.properties.privateData[R]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":T.properties.privateData[R]=this.readNumber();break;case"ExpansionFactor":T.properties.privateData[R]=this.readNumber()||.06;break;case"ForceBold":T.properties.privateData[R]=this.readBoolean();break}for(const{encoded:u,glyph:b}of j){const D=new K,J=D.convert(u,Q,this.seacAnalysisEnabled);let N=D.output;J&&(N=[14]);const v={glyphName:b,charstring:N,width:D.width,lsb:D.lsb,seac:D.seac};if(b===".notdef"?T.charstrings.unshift(v):T.charstrings.push(v),_.builtInEncoding){const S=_.builtInEncoding.indexOf(b);S>-1&&_.widths[S]===void 0&&S>=_.firstChar&&S<=_.lastChar&&(_.widths[S]=D.width)}}return T}extractFontHeader(_){let C;for(;(C=this.getToken())!==null;)if(C==="/")switch(C=this.getToken(),C){case"FontMatrix":const Q=this.readNumberArray();_.fontMatrix=Q;break;case"Encoding":const j=this.getToken();let re;if(!/^\d+$/.test(j))re=(0,n.getEncoding)(j);else{re=[];const R=parseInt(j,10)|0;this.getToken();for(let d=0;d<R;d++){for(C=this.getToken();C!=="dup"&&C!=="def";)if(C=this.getToken(),C===null)return;if(C==="def")break;const y=this.readInt();this.getToken();const W=this.getToken();re[y]=W,this.getToken()}}_.builtInEncoding=re;break;case"FontBBox":const T=this.readNumberArray();_.ascent=Math.max(T[3],T[1]),_.descent=Math.min(T[1],T[3]),_.ascentScaled=!0;break}}}x.Type1Parser=k},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Pattern=void 0,x.clearPatternCaches=i,x.getTilingPatternIR=_;var n=ie(2),w=ie(5),O=ie(12),e=ie(3);const t={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class o{constructor(){(0,n.unreachable)("Cannot initialize Pattern.")}static parseShading(re,T,R,d,y){const W=re instanceof w.BaseStream?re.dict:re,u=W.get("ShadingType");try{switch(u){case t.AXIAL:case t.RADIAL:return new H(W,T,R,d,y);case t.FREE_FORM_MESH:case t.LATTICE_FORM_MESH:case t.COONS_PATCH_MESH:case t.TENSOR_PATCH_MESH:return new k(re,T,R,d,y);default:throw new n.FormatError("Unsupported ShadingType: "+u)}}catch(b){if(b instanceof e.MissingDataException)throw b;return(0,n.warn)(b),new F}}}x.Pattern=o;const C=class C{constructor(){this.constructor===C&&(0,n.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,n.unreachable)("Abstract method `getIR` called.")}};yr(C,"SMALL_NUMBER",1e-6);let K=C;class H extends K{constructor(re,T,R,d,y){super(),this.coordsArr=re.getArray("Coords"),this.shadingType=re.get("ShadingType");const W=O.ColorSpace.parse({cs:re.getRaw("CS")||re.getRaw("ColorSpace"),xref:T,resources:R,pdfFunctionFactory:d,localColorSpaceCache:y}),u=re.getArray("BBox");this.bbox=Array.isArray(u)&&u.length===4?n.Util.normalizeRect(u):null;let b=0,D=1;if(re.has("Domain")){const be=re.getArray("Domain");b=be[0],D=be[1]}let J=!1,N=!1;if(re.has("Extend")){const be=re.getArray("Extend");J=be[0],N=be[1]}if(this.shadingType===t.RADIAL&&(!J||!N)){const[be,Ce,ce,Ee,ve,he]=this.coordsArr,Fe=Math.hypot(be-Ee,Ce-ve);ce<=he+Fe&&he<=ce+Fe&&(0,n.warn)("Unsupported radial gradient.")}this.extendStart=J,this.extendEnd=N;const v=re.getRaw("Function"),S=d.createFromArray(v),I=840,h=(D-b)/I,B=this.colorStops=[];if(b>=D||h<=0){(0,n.info)("Bad shading domain.");return}const r=new Float32Array(W.numComps),A=new Float32Array(1);let E,G=0;A[0]=b,S(A,0,r,0);let se=W.getRgb(r,0);const Ae=n.Util.makeHexColor(se[0],se[1],se[2]);B.push([0,Ae]);let ke=1;A[0]=b+h,S(A,0,r,0);let de=W.getRgb(r,0),Ie=de[0]-se[0]+1,ge=de[1]-se[1]+1,Be=de[2]-se[2]+1,ee=de[0]-se[0]-1,te=de[1]-se[1]-1,fe=de[2]-se[2]-1;for(let be=2;be<I;be++){A[0]=b+be*h,S(A,0,r,0),E=W.getRgb(r,0);const Ce=be-G;if(Ie=Math.min(Ie,(E[0]-se[0]+1)/Ce),ge=Math.min(ge,(E[1]-se[1]+1)/Ce),Be=Math.min(Be,(E[2]-se[2]+1)/Ce),ee=Math.max(ee,(E[0]-se[0]-1)/Ce),te=Math.max(te,(E[1]-se[1]-1)/Ce),fe=Math.max(fe,(E[2]-se[2]-1)/Ce),!(ee<=Ie&&te<=ge&&fe<=Be)){const Ee=n.Util.makeHexColor(de[0],de[1],de[2]);B.push([ke/I,Ee]),Ie=E[0]-de[0]+1,ge=E[1]-de[1]+1,Be=E[2]-de[2]+1,ee=E[0]-de[0]-1,te=E[1]-de[1]-1,fe=E[2]-de[2]-1,G=ke,se=de}ke=be,de=E}const ue=n.Util.makeHexColor(de[0],de[1],de[2]);B.push([1,ue]);let le="transparent";re.has("Background")&&(E=W.getRgb(re.get("Background"),0),le=n.Util.makeHexColor(E[0],E[1],E[2])),J||(B.unshift([0,le]),B[1][0]+=K.SMALL_NUMBER),N||(B.at(-1)[0]-=K.SMALL_NUMBER,B.push([1,le])),this.colorStops=B}getIR(){const re=this.coordsArr,T=this.shadingType;let R,d,y,W,u;return T===t.AXIAL?(d=[re[0],re[1]],y=[re[2],re[3]],W=null,u=null,R="axial"):T===t.RADIAL?(d=[re[0],re[1]],y=[re[3],re[4]],W=re[2],u=re[5],R="radial"):(0,n.unreachable)(`getPattern type unknown: ${T}`),["RadialAxial",R,this.bbox,this.colorStops,d,y,W,u]}}class U{constructor(re,T){this.stream=re,this.context=T,this.buffer=0,this.bufferLength=0;const R=T.numComps;this.tmpCompsBuf=new Float32Array(R);const d=T.colorSpace.numComps;this.tmpCsCompsBuf=T.colorFn?new Float32Array(d):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const re=this.stream.getByte();return re<0?!1:(this.buffer=re,this.bufferLength=8,!0)}readBits(re){let T=this.buffer,R=this.bufferLength;if(re===32){if(R===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;T=T<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const d=this.stream.getByte();return this.buffer=d&(1<<R)-1,(T<<8-R|(d&255)>>R)>>>0}if(re===8&&R===0)return this.stream.getByte();for(;R<re;)T=T<<8|this.stream.getByte(),R+=8;return R-=re,this.bufferLength=R,this.buffer=T&(1<<R)-1,T>>R}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const re=this.context.bitsPerCoordinate,T=this.readBits(re),R=this.readBits(re),d=this.context.decode,y=re<32?1/((1<<re)-1):23283064365386963e-26;return[T*y*(d[1]-d[0])+d[0],R*y*(d[3]-d[2])+d[2]]}readComponents(){const re=this.context.numComps,T=this.context.bitsPerComponent,R=T<32?1/((1<<T)-1):23283064365386963e-26,d=this.context.decode,y=this.tmpCompsBuf;for(let u=0,b=4;u<re;u++,b+=2){const D=this.readBits(T);y[u]=D*R*(d[b+1]-d[b])+d[b]}const W=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(y,0,W,0),this.context.colorSpace.getRgb(W,0)}}let P=Object.create(null);function f(j){const re=[];for(let T=0;T<=j;T++){const R=T/j,d=1-R;re.push(new Float32Array([d**3,3*R*d**2,3*R**2*d,R**3]))}return re}function p(j){return P[j]||(P[j]=f(j))}function i(){P=Object.create(null)}const Q=class Q extends K{constructor(re,T,R,d,y){if(super(),!(re instanceof w.BaseStream))throw new n.FormatError("Mesh data is not a stream");const W=re.dict;this.shadingType=W.get("ShadingType");const u=W.getArray("BBox");this.bbox=Array.isArray(u)&&u.length===4?n.Util.normalizeRect(u):null;const b=O.ColorSpace.parse({cs:W.getRaw("CS")||W.getRaw("ColorSpace"),xref:T,resources:R,pdfFunctionFactory:d,localColorSpaceCache:y});this.background=W.has("Background")?b.getRgb(W.get("Background"),0):null;const D=W.getRaw("Function"),J=D?d.createFromArray(D):null;this.coords=[],this.colors=[],this.figures=[];const N={bitsPerCoordinate:W.get("BitsPerCoordinate"),bitsPerComponent:W.get("BitsPerComponent"),bitsPerFlag:W.get("BitsPerFlag"),decode:W.getArray("Decode"),colorFn:J,colorSpace:b,numComps:J?1:b.numComps},v=new U(re,N);let S=!1;switch(this.shadingType){case t.FREE_FORM_MESH:this._decodeType4Shading(v);break;case t.LATTICE_FORM_MESH:const I=W.get("VerticesPerRow")|0;if(I<2)throw new n.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(v,I);break;case t.COONS_PATCH_MESH:this._decodeType6Shading(v),S=!0;break;case t.TENSOR_PATCH_MESH:this._decodeType7Shading(v),S=!0;break;default:(0,n.unreachable)("Unsupported mesh type.");break}if(S){this._updateBounds();for(let I=0,h=this.figures.length;I<h;I++)this._buildFigureFromPatch(I)}this._updateBounds(),this._packData()}_decodeType4Shading(re){const T=this.coords,R=this.colors,d=[];let y=0;for(;re.hasData;){const W=re.readFlag(),u=re.readCoordinate(),b=re.readComponents();if(y===0){if(!(0<=W&&W<=2))throw new n.FormatError("Unknown type4 flag");switch(W){case 0:y=3;break;case 1:d.push(d.at(-2),d.at(-1)),y=1;break;case 2:d.push(d.at(-3),d.at(-1)),y=1;break}}d.push(T.length),T.push(u),R.push(b),y--,re.align()}this.figures.push({type:"triangles",coords:new Int32Array(d),colors:new Int32Array(d)})}_decodeType5Shading(re,T){const R=this.coords,d=this.colors,y=[];for(;re.hasData;){const W=re.readCoordinate(),u=re.readComponents();y.push(R.length),R.push(W),d.push(u)}this.figures.push({type:"lattice",coords:new Int32Array(y),colors:new Int32Array(y),verticesPerRow:T})}_decodeType6Shading(re){const T=this.coords,R=this.colors,d=new Int32Array(16),y=new Int32Array(4);for(;re.hasData;){const W=re.readFlag();if(!(0<=W&&W<=3))throw new n.FormatError("Unknown type6 flag");const u=T.length;for(let S=0,I=W!==0?8:12;S<I;S++)T.push(re.readCoordinate());const b=R.length;for(let S=0,I=W!==0?2:4;S<I;S++)R.push(re.readComponents());let D,J,N,v;switch(W){case 0:d[12]=u+3,d[13]=u+4,d[14]=u+5,d[15]=u+6,d[8]=u+2,d[11]=u+7,d[4]=u+1,d[7]=u+8,d[0]=u,d[1]=u+11,d[2]=u+10,d[3]=u+9,y[2]=b+1,y[3]=b+2,y[0]=b,y[1]=b+3;break;case 1:D=d[12],J=d[13],N=d[14],v=d[15],d[12]=v,d[13]=u+0,d[14]=u+1,d[15]=u+2,d[8]=N,d[11]=u+3,d[4]=J,d[7]=u+4,d[0]=D,d[1]=u+7,d[2]=u+6,d[3]=u+5,D=y[2],J=y[3],y[2]=J,y[3]=b,y[0]=D,y[1]=b+1;break;case 2:D=d[15],J=d[11],d[12]=d[3],d[13]=u+0,d[14]=u+1,d[15]=u+2,d[8]=d[7],d[11]=u+3,d[4]=J,d[7]=u+4,d[0]=D,d[1]=u+7,d[2]=u+6,d[3]=u+5,D=y[3],y[2]=y[1],y[3]=b,y[0]=D,y[1]=b+1;break;case 3:d[12]=d[0],d[13]=u+0,d[14]=u+1,d[15]=u+2,d[8]=d[1],d[11]=u+3,d[4]=d[2],d[7]=u+4,d[0]=d[3],d[1]=u+7,d[2]=u+6,d[3]=u+5,y[2]=y[0],y[3]=b,y[0]=y[1],y[1]=b+1;break}d[5]=T.length,T.push([(-4*T[d[0]][0]-T[d[15]][0]+6*(T[d[4]][0]+T[d[1]][0])-2*(T[d[12]][0]+T[d[3]][0])+3*(T[d[13]][0]+T[d[7]][0]))/9,(-4*T[d[0]][1]-T[d[15]][1]+6*(T[d[4]][1]+T[d[1]][1])-2*(T[d[12]][1]+T[d[3]][1])+3*(T[d[13]][1]+T[d[7]][1]))/9]),d[6]=T.length,T.push([(-4*T[d[3]][0]-T[d[12]][0]+6*(T[d[2]][0]+T[d[7]][0])-2*(T[d[0]][0]+T[d[15]][0])+3*(T[d[4]][0]+T[d[14]][0]))/9,(-4*T[d[3]][1]-T[d[12]][1]+6*(T[d[2]][1]+T[d[7]][1])-2*(T[d[0]][1]+T[d[15]][1])+3*(T[d[4]][1]+T[d[14]][1]))/9]),d[9]=T.length,T.push([(-4*T[d[12]][0]-T[d[3]][0]+6*(T[d[8]][0]+T[d[13]][0])-2*(T[d[0]][0]+T[d[15]][0])+3*(T[d[11]][0]+T[d[1]][0]))/9,(-4*T[d[12]][1]-T[d[3]][1]+6*(T[d[8]][1]+T[d[13]][1])-2*(T[d[0]][1]+T[d[15]][1])+3*(T[d[11]][1]+T[d[1]][1]))/9]),d[10]=T.length,T.push([(-4*T[d[15]][0]-T[d[0]][0]+6*(T[d[11]][0]+T[d[14]][0])-2*(T[d[12]][0]+T[d[3]][0])+3*(T[d[2]][0]+T[d[8]][0]))/9,(-4*T[d[15]][1]-T[d[0]][1]+6*(T[d[11]][1]+T[d[14]][1])-2*(T[d[12]][1]+T[d[3]][1])+3*(T[d[2]][1]+T[d[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(d),colors:new Int32Array(y)})}}_decodeType7Shading(re){const T=this.coords,R=this.colors,d=new Int32Array(16),y=new Int32Array(4);for(;re.hasData;){const W=re.readFlag();if(!(0<=W&&W<=3))throw new n.FormatError("Unknown type7 flag");const u=T.length;for(let S=0,I=W!==0?12:16;S<I;S++)T.push(re.readCoordinate());const b=R.length;for(let S=0,I=W!==0?2:4;S<I;S++)R.push(re.readComponents());let D,J,N,v;switch(W){case 0:d[12]=u+3,d[13]=u+4,d[14]=u+5,d[15]=u+6,d[8]=u+2,d[9]=u+13,d[10]=u+14,d[11]=u+7,d[4]=u+1,d[5]=u+12,d[6]=u+15,d[7]=u+8,d[0]=u,d[1]=u+11,d[2]=u+10,d[3]=u+9,y[2]=b+1,y[3]=b+2,y[0]=b,y[1]=b+3;break;case 1:D=d[12],J=d[13],N=d[14],v=d[15],d[12]=v,d[13]=u+0,d[14]=u+1,d[15]=u+2,d[8]=N,d[9]=u+9,d[10]=u+10,d[11]=u+3,d[4]=J,d[5]=u+8,d[6]=u+11,d[7]=u+4,d[0]=D,d[1]=u+7,d[2]=u+6,d[3]=u+5,D=y[2],J=y[3],y[2]=J,y[3]=b,y[0]=D,y[1]=b+1;break;case 2:D=d[15],J=d[11],d[12]=d[3],d[13]=u+0,d[14]=u+1,d[15]=u+2,d[8]=d[7],d[9]=u+9,d[10]=u+10,d[11]=u+3,d[4]=J,d[5]=u+8,d[6]=u+11,d[7]=u+4,d[0]=D,d[1]=u+7,d[2]=u+6,d[3]=u+5,D=y[3],y[2]=y[1],y[3]=b,y[0]=D,y[1]=b+1;break;case 3:d[12]=d[0],d[13]=u+0,d[14]=u+1,d[15]=u+2,d[8]=d[1],d[9]=u+9,d[10]=u+10,d[11]=u+3,d[4]=d[2],d[5]=u+8,d[6]=u+11,d[7]=u+4,d[0]=d[3],d[1]=u+7,d[2]=u+6,d[3]=u+5,y[2]=y[0],y[3]=b,y[0]=y[1],y[1]=b+1;break}this.figures.push({type:"patch",coords:new Int32Array(d),colors:new Int32Array(y)})}}_buildFigureFromPatch(re){const T=this.figures[re];(0,n.assert)(T.type==="patch","Unexpected patch mesh figure");const R=this.coords,d=this.colors,y=T.coords,W=T.colors,u=Math.min(R[y[0]][0],R[y[3]][0],R[y[12]][0],R[y[15]][0]),b=Math.min(R[y[0]][1],R[y[3]][1],R[y[12]][1],R[y[15]][1]),D=Math.max(R[y[0]][0],R[y[3]][0],R[y[12]][0],R[y[15]][0]),J=Math.max(R[y[0]][1],R[y[3]][1],R[y[12]][1],R[y[15]][1]);let N=Math.ceil((D-u)*Q.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));N=Math.max(Q.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(Q.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,N));let v=Math.ceil((J-b)*Q.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));v=Math.max(Q.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(Q.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,v));const S=N+1,I=new Int32Array((v+1)*S),h=new Int32Array((v+1)*S);let B=0;const r=new Uint8Array(3),A=new Uint8Array(3),E=d[W[0]],G=d[W[1]],se=d[W[2]],Ae=d[W[3]],ke=p(v),de=p(N);for(let Ie=0;Ie<=v;Ie++){r[0]=(E[0]*(v-Ie)+se[0]*Ie)/v|0,r[1]=(E[1]*(v-Ie)+se[1]*Ie)/v|0,r[2]=(E[2]*(v-Ie)+se[2]*Ie)/v|0,A[0]=(G[0]*(v-Ie)+Ae[0]*Ie)/v|0,A[1]=(G[1]*(v-Ie)+Ae[1]*Ie)/v|0,A[2]=(G[2]*(v-Ie)+Ae[2]*Ie)/v|0;for(let ge=0;ge<=N;ge++,B++){if((Ie===0||Ie===v)&&(ge===0||ge===N))continue;let Be=0,ee=0,te=0;for(let ue=0;ue<=3;ue++)for(let le=0;le<=3;le++,te++){const be=ke[Ie][ue]*de[ge][le];Be+=R[y[te]][0]*be,ee+=R[y[te]][1]*be}I[B]=R.length,R.push([Be,ee]),h[B]=d.length;const fe=new Uint8Array(3);fe[0]=(r[0]*(N-ge)+A[0]*ge)/N|0,fe[1]=(r[1]*(N-ge)+A[1]*ge)/N|0,fe[2]=(r[2]*(N-ge)+A[2]*ge)/N|0,d.push(fe)}}I[0]=y[0],h[0]=W[0],I[N]=y[3],h[N]=W[1],I[S*v]=y[12],h[S*v]=W[2],I[S*v+N]=y[15],h[S*v+N]=W[3],this.figures[re]={type:"lattice",coords:I,colors:h,verticesPerRow:S}}_updateBounds(){let re=this.coords[0][0],T=this.coords[0][1],R=re,d=T;for(let y=1,W=this.coords.length;y<W;y++){const u=this.coords[y][0],b=this.coords[y][1];re=re>u?u:re,T=T>b?b:T,R=R<u?u:R,d=d<b?b:d}this.bounds=[re,T,R,d]}_packData(){let re,T,R,d;const y=this.coords,W=new Float32Array(y.length*2);for(re=0,R=0,T=y.length;re<T;re++){const J=y[re];W[R++]=J[0],W[R++]=J[1]}this.coords=W;const u=this.colors,b=new Uint8Array(u.length*3);for(re=0,R=0,T=u.length;re<T;re++){const J=u[re];b[R++]=J[0],b[R++]=J[1],b[R++]=J[2]}this.colors=b;const D=this.figures;for(re=0,T=D.length;re<T;re++){const J=D[re],N=J.coords,v=J.colors;for(R=0,d=N.length;R<d;R++)N[R]*=2,v[R]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};yr(Q,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),yr(Q,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),yr(Q,"TRIANGLE_DENSITY",20);let k=Q;class F extends K{getIR(){return["Dummy"]}}function _(j,re,T){const R=re.getArray("Matrix"),d=n.Util.normalizeRect(re.getArray("BBox")),y=re.get("XStep"),W=re.get("YStep"),u=re.get("PaintType"),b=re.get("TilingType");if(d[2]-d[0]===0||d[3]-d[1]===0)throw new n.FormatError(`Invalid getTilingPatternIR /BBox array: [${d}].`);return["TilingPattern",T,j,R,d,y,W,u,b]}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.getXfaFontDict=p,x.getXfaFontName=P;var n=ie(52),w=ie(4),O=ie(53),e=ie(54),t=ie(55),o=ie(56),K=ie(3),H=ie(38);const U=(0,K.getLookupTableFactory)(function(i){i["MyriadPro-Regular"]=i["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:t.MyriadProRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:t.MyriadProRegularMetrics},i["MyriadPro-Bold"]=i["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:t.MyriadProBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:t.MyriadProBoldMetrics},i["MyriadPro-It"]=i["MyriadPro-Italic"]=i["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:t.MyriadProItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:t.MyriadProItalicMetrics},i["MyriadPro-BoldIt"]=i["MyriadPro-BoldItalic"]=i["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.MyriadProBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:t.MyriadProBoldItalicMetrics},i.ArialMT=i.Arial=i["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping},i["Arial-BoldMT"]=i["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping},i["Arial-ItalicMT"]=i["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping},i["Arial-BoldItalicMT"]=i["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping},i["Calibri-Regular"]={name:"LiberationSans-Regular",factors:n.CalibriRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:n.CalibriRegularMetrics},i["Calibri-Bold"]={name:"LiberationSans-Bold",factors:n.CalibriBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:n.CalibriBoldMetrics},i["Calibri-Italic"]={name:"LiberationSans-Italic",factors:n.CalibriItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:n.CalibriItalicMetrics},i["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:n.CalibriBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:n.CalibriBoldItalicMetrics},i["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:o.SegoeuiRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:o.SegoeuiRegularMetrics},i["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:o.SegoeuiBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:o.SegoeuiBoldMetrics},i["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:o.SegoeuiItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:o.SegoeuiItalicMetrics},i["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:o.SegoeuiBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:o.SegoeuiBoldItalicMetrics},i["Helvetica-Regular"]=i.Helvetica={name:"LiberationSans-Regular",factors:O.HelveticaRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:O.HelveticaRegularMetrics},i["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:O.HelveticaBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:O.HelveticaBoldMetrics},i["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:O.HelveticaItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:O.HelveticaItalicMetrics},i["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:O.HelveticaBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:O.HelveticaBoldItalicMetrics}});function P(i){const k=(0,H.normalizeFontName)(i);return U()[k]}function f(i){const k=P(i);if(!k)return null;const{baseWidths:F,baseMapping:_,factors:C}=k,Q=C?F.map((R,d)=>R*C[d]):F;let j=-2,re;const T=[];for(const[R,d]of _.map((y,W)=>[y,W]).sort(([y],[W])=>y-W))R!==-1&&(R===j+1?(re.push(Q[d]),j+=1):(j=R,re=[Q[d]],T.push(R,re)));return T}function p(i){const k=f(i),F=new w.Dict(null);F.set("BaseFont",w.Name.get(i)),F.set("Type",w.Name.get("Font")),F.set("Subtype",w.Name.get("CIDFontType2")),F.set("Encoding",w.Name.get("Identity-H")),F.set("CIDToGIDMap",w.Name.get("Identity")),F.set("W",k),F.set("FirstChar",k[0]),F.set("LastChar",k.at(-2)+k.at(-1).length-1);const _=new w.Dict(null);F.set("FontDescriptor",_);const C=new w.Dict(null);return C.set("Ordering","Identity"),C.set("Registry","Adobe"),C.set("Supplement",0),F.set("CIDSystemInfo",C),F}},(Pe,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.CalibriRegularMetrics=x.CalibriRegularFactors=x.CalibriItalicMetrics=x.CalibriItalicFactors=x.CalibriBoldMetrics=x.CalibriBoldItalicMetrics=x.CalibriBoldItalicFactors=x.CalibriBoldFactors=void 0;const ie=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];x.CalibriBoldFactors=ie;const n={lineHeight:1.2207,lineGap:.2207};x.CalibriBoldMetrics=n;const w=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];x.CalibriBoldItalicFactors=w;const O={lineHeight:1.2207,lineGap:.2207};x.CalibriBoldItalicMetrics=O;const e=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];x.CalibriItalicFactors=e;const t={lineHeight:1.2207,lineGap:.2207};x.CalibriItalicMetrics=t;const o=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];x.CalibriRegularFactors=o;const K={lineHeight:1.2207,lineGap:.2207};x.CalibriRegularMetrics=K},(Pe,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.HelveticaRegularMetrics=x.HelveticaRegularFactors=x.HelveticaItalicMetrics=x.HelveticaItalicFactors=x.HelveticaBoldMetrics=x.HelveticaBoldItalicMetrics=x.HelveticaBoldItalicFactors=x.HelveticaBoldFactors=void 0;const ie=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];x.HelveticaBoldFactors=ie;const n={lineHeight:1.2,lineGap:.2};x.HelveticaBoldMetrics=n;const w=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];x.HelveticaBoldItalicFactors=w;const O={lineHeight:1.35,lineGap:.2};x.HelveticaBoldItalicMetrics=O;const e=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];x.HelveticaItalicFactors=e;const t={lineHeight:1.35,lineGap:.2};x.HelveticaItalicMetrics=t;const o=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];x.HelveticaRegularFactors=o;const K={lineHeight:1.2,lineGap:.2};x.HelveticaRegularMetrics=K},(Pe,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.LiberationSansRegularWidths=x.LiberationSansRegularMapping=x.LiberationSansItalicWidths=x.LiberationSansItalicMapping=x.LiberationSansBoldWidths=x.LiberationSansBoldMapping=x.LiberationSansBoldItalicWidths=x.LiberationSansBoldItalicMapping=void 0;const ie=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];x.LiberationSansBoldWidths=ie;const n=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];x.LiberationSansBoldMapping=n;const w=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];x.LiberationSansBoldItalicWidths=w;const O=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];x.LiberationSansBoldItalicMapping=O;const e=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];x.LiberationSansItalicWidths=e;const t=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];x.LiberationSansItalicMapping=t;const o=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];x.LiberationSansRegularWidths=o;const K=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];x.LiberationSansRegularMapping=K},(Pe,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.MyriadProRegularMetrics=x.MyriadProRegularFactors=x.MyriadProItalicMetrics=x.MyriadProItalicFactors=x.MyriadProBoldMetrics=x.MyriadProBoldItalicMetrics=x.MyriadProBoldItalicFactors=x.MyriadProBoldFactors=void 0;const ie=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];x.MyriadProBoldFactors=ie;const n={lineHeight:1.2,lineGap:.2};x.MyriadProBoldMetrics=n;const w=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];x.MyriadProBoldItalicFactors=w;const O={lineHeight:1.2,lineGap:.2};x.MyriadProBoldItalicMetrics=O;const e=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];x.MyriadProItalicFactors=e;const t={lineHeight:1.2,lineGap:.2};x.MyriadProItalicMetrics=t;const o=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];x.MyriadProRegularFactors=o;const K={lineHeight:1.2,lineGap:.2};x.MyriadProRegularMetrics=K},(Pe,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.SegoeuiRegularMetrics=x.SegoeuiRegularFactors=x.SegoeuiItalicMetrics=x.SegoeuiItalicFactors=x.SegoeuiBoldMetrics=x.SegoeuiBoldItalicMetrics=x.SegoeuiBoldItalicFactors=x.SegoeuiBoldFactors=void 0;const ie=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];x.SegoeuiBoldFactors=ie;const n={lineHeight:1.33008,lineGap:0};x.SegoeuiBoldMetrics=n;const w=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];x.SegoeuiBoldItalicFactors=w;const O={lineHeight:1.33008,lineGap:0};x.SegoeuiBoldItalicMetrics=O;const e=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];x.SegoeuiItalicFactors=e;const t={lineHeight:1.33008,lineGap:0};x.SegoeuiItalicMetrics=t;const o=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];x.SegoeuiRegularFactors=o;const K={lineHeight:1.33008,lineGap:0};x.SegoeuiRegularMetrics=K},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PostScriptEvaluator=x.PostScriptCompiler=x.PDFFunctionFactory=void 0,x.isPDFFunction=U;var n=ie(4),w=ie(2),O=ie(58),e=ie(5),t=ie(59);class o{constructor({xref:b,isEvalSupported:D=!0}){this.xref=b,this.isEvalSupported=D!==!1}create(b){const D=this.getCached(b);if(D)return D;const J=H.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:b instanceof n.Ref?this.xref.fetch(b):b});return this._cache(b,J),J}createFromArray(b){const D=this.getCached(b);if(D)return D;const J=H.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:b instanceof n.Ref?this.xref.fetch(b):b});return this._cache(b,J),J}getCached(b){var J;let D;if(b instanceof n.Ref?D=b:b instanceof n.Dict?D=b.objId:b instanceof e.BaseStream&&(D=(J=b.dict)==null?void 0:J.objId),D){const N=this._localFunctionCache.getByRef(D);if(N)return N}return null}_cache(b,D){var N;if(!D)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let J;b instanceof n.Ref?J=b:b instanceof n.Dict?J=b.objId:b instanceof e.BaseStream&&(J=(N=b.dict)==null?void 0:N.objId),J&&this._localFunctionCache.set(null,J,D)}get _localFunctionCache(){return(0,w.shadow)(this,"_localFunctionCache",new t.LocalFunctionCache)}}x.PDFFunctionFactory=o;function K(u){if(!Array.isArray(u))return null;const b=u.length;for(let D=0;D<b;D++)if(typeof u[D]!="number"){const J=new Array(b);for(let N=0;N<b;N++)J[N]=+u[N];return J}return u}class H{static getSampleArray(b,D,J,N){let v,S,I=1;for(v=0,S=b.length;v<S;v++)I*=b[v];I*=D;const h=new Array(I);let B=0,r=0;const A=1/(2**J-1),E=N.getBytes((I*J+7)/8);let G=0;for(v=0;v<I;v++){for(;B<J;)r<<=8,r|=E[G++],B+=8;B-=J,h[v]=(r>>B)*A,r&=(1<<B)-1}return h}static parse({xref:b,isEvalSupported:D,fn:J}){const N=J.dict||J;switch(N.get("FunctionType")){case 0:return this.constructSampled({xref:b,isEvalSupported:D,fn:J,dict:N});case 1:break;case 2:return this.constructInterpolated({xref:b,isEvalSupported:D,dict:N});case 3:return this.constructStiched({xref:b,isEvalSupported:D,dict:N});case 4:return this.constructPostScript({xref:b,isEvalSupported:D,fn:J,dict:N})}throw new w.FormatError("Unknown type of function")}static parseArray({xref:b,isEvalSupported:D,fnObj:J}){if(!Array.isArray(J))return this.parse({xref:b,isEvalSupported:D,fn:J});const N=[];for(const v of J)N.push(this.parse({xref:b,isEvalSupported:D,fn:b.fetchIfRef(v)}));return function(v,S,I,h){for(let B=0,r=N.length;B<r;B++)N[B](v,S,I,h+B)}}static constructSampled({xref:b,isEvalSupported:D,fn:J,dict:N}){function v(de){const Ie=de.length,ge=[];let Be=0;for(let ee=0;ee<Ie;ee+=2)ge[Be++]=[de[ee],de[ee+1]];return ge}function S(de,Ie,ge,Be,ee){return Be+(de-Ie)*((ee-Be)/(ge-Ie))}let I=K(N.getArray("Domain")),h=K(N.getArray("Range"));if(!I||!h)throw new w.FormatError("No domain or range");const B=I.length/2,r=h.length/2;I=v(I),h=v(h);const A=K(N.getArray("Size")),E=N.get("BitsPerSample"),G=N.get("Order")||1;G!==1&&(0,w.info)("No support for cubic spline interpolation: "+G);let se=K(N.getArray("Encode"));if(se)se=v(se);else{se=[];for(let de=0;de<B;++de)se.push([0,A[de]-1])}let Ae=K(N.getArray("Decode"));Ae=Ae?v(Ae):h;const ke=this.getSampleArray(A,r,E,J);return function(Ie,ge,Be,ee){const te=1<<B,fe=new Float64Array(te),ue=new Uint32Array(te);let le,be;for(be=0;be<te;be++)fe[be]=1;let Ce=r,ce=1;for(le=0;le<B;++le){const Ee=I[le][0],ve=I[le][1],he=Math.min(Math.max(Ie[ge+le],Ee),ve);let Fe=S(he,Ee,ve,se[le][0],se[le][1]);const _e=A[le];Fe=Math.min(Math.max(Fe,0),_e-1);const Ne=Fe<_e-1?Math.floor(Fe):Fe-1,Ze=Ne+1-Fe,tt=Fe-Ne,je=Ne*Ce,$e=je+Ce;for(be=0;be<te;be++)be&ce?(fe[be]*=tt,ue[be]+=$e):(fe[be]*=Ze,ue[be]+=je);Ce*=_e,ce<<=1}for(be=0;be<r;++be){let Ee=0;for(le=0;le<te;le++)Ee+=ke[ue[le]+be]*fe[le];Ee=S(Ee,0,1,Ae[be][0],Ae[be][1]),Be[ee+be]=Math.min(Math.max(Ee,h[be][0]),h[be][1])}}}static constructInterpolated({xref:b,isEvalSupported:D,dict:J}){const N=K(J.getArray("C0"))||[0],v=K(J.getArray("C1"))||[1],S=J.get("N"),I=[];for(let B=0,r=N.length;B<r;++B)I.push(v[B]-N[B]);const h=I.length;return function(r,A,E,G){const se=S===1?r[A]:r[A]**S;for(let Ae=0;Ae<h;++Ae)E[G+Ae]=N[Ae]+se*I[Ae]}}static constructStiched({xref:b,isEvalSupported:D,dict:J}){const N=K(J.getArray("Domain"));if(!N)throw new w.FormatError("No domain");if(N.length/2!==1)throw new w.FormatError("Bad domain for stiched function");const S=[];for(const r of J.get("Functions"))S.push(this.parse({xref:b,isEvalSupported:D,fn:b.fetchIfRef(r)}));const I=K(J.getArray("Bounds")),h=K(J.getArray("Encode")),B=new Float32Array(1);return function(A,E,G,se){const ke=function(ue,le,be){return ue>be?ue=be:ue<le&&(ue=le),ue}(A[E],N[0],N[1]),de=I.length;let Ie;for(Ie=0;Ie<de&&!(ke<I[Ie]);++Ie);let ge=N[0];Ie>0&&(ge=I[Ie-1]);let Be=N[1];Ie<I.length&&(Be=I[Ie]);const ee=h[2*Ie],te=h[2*Ie+1];B[0]=ge===Be?ee:ee+(ke-ge)*(te-ee)/(Be-ge),S[Ie](B,0,G,se)}}static constructPostScript({xref:b,isEvalSupported:D,fn:J,dict:N}){const v=K(N.getArray("Domain")),S=K(N.getArray("Range"));if(!v)throw new w.FormatError("No domain.");if(!S)throw new w.FormatError("No range.");const I=new O.PostScriptLexer(J),B=new O.PostScriptParser(I).parse();if(D&&w.FeatureTest.isEvalSupported){const de=new y().compile(B,v,S);if(de)return new Function("src","srcOffset","dest","destOffset",de)}(0,w.info)("Unable to compile PS function");const r=S.length>>1,A=v.length>>1,E=new f(B),G=Object.create(null);let Ae=2048*4;const ke=new Float32Array(A);return function(Ie,ge,Be,ee){let te,fe,ue="";const le=ke;for(te=0;te<A;te++)fe=Ie[ge+te],le[te]=fe,ue+=fe+"_";const be=G[ue];if(be!==void 0){Be.set(be,ee);return}const Ce=new Float32Array(r),ce=E.execute(le),Ee=ce.length-r;for(te=0;te<r;te++){fe=ce[Ee+te];let ve=S[te*2];fe<ve?fe=ve:(ve=S[te*2+1],fe>ve&&(fe=ve)),Ce[te]=fe}Ae>0&&(Ae--,G[ue]=Ce),Be.set(Ce,ee)}}}function U(u){let b;if(u instanceof n.Dict)b=u;else if(u instanceof e.BaseStream)b=u.dict;else return!1;return b.has("FunctionType")}const W=class W{constructor(b){this.stack=b?Array.from(b):[]}push(b){if(this.stack.length>=W.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(b)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(b){if(this.stack.length+b>=W.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const D=this.stack;for(let J=D.length-b,N=b-1;N>=0;N--,J++)D.push(D[J])}index(b){this.push(this.stack[this.stack.length-b-1])}roll(b,D){const J=this.stack,N=J.length-b,v=J.length-1,S=N+(D-Math.floor(D/b)*b);for(let I=N,h=v;I<h;I++,h--){const B=J[I];J[I]=J[h],J[h]=B}for(let I=N,h=S-1;I<h;I++,h--){const B=J[I];J[I]=J[h],J[h]=B}for(let I=S,h=v;I<h;I++,h--){const B=J[I];J[I]=J[h],J[h]=B}}};yr(W,"MAX_STACK_SIZE",100);let P=W;class f{constructor(b){this.operators=b}execute(b){const D=new P(b);let J=0;const N=this.operators,v=N.length;let S,I,h;for(;J<v;){if(S=N[J++],typeof S=="number"){D.push(S);continue}switch(S){case"jz":h=D.pop(),I=D.pop(),I||(J=h);break;case"j":I=D.pop(),J=I;break;case"abs":I=D.pop(),D.push(Math.abs(I));break;case"add":h=D.pop(),I=D.pop(),D.push(I+h);break;case"and":h=D.pop(),I=D.pop(),typeof I=="boolean"&&typeof h=="boolean"?D.push(I&&h):D.push(I&h);break;case"atan":h=D.pop(),I=D.pop(),I=Math.atan2(I,h)/Math.PI*180,I<0&&(I+=360),D.push(I);break;case"bitshift":h=D.pop(),I=D.pop(),I>0?D.push(I<<h):D.push(I>>h);break;case"ceiling":I=D.pop(),D.push(Math.ceil(I));break;case"copy":I=D.pop(),D.copy(I);break;case"cos":I=D.pop(),D.push(Math.cos(I%360/180*Math.PI));break;case"cvi":I=D.pop()|0,D.push(I);break;case"cvr":break;case"div":h=D.pop(),I=D.pop(),D.push(I/h);break;case"dup":D.copy(1);break;case"eq":h=D.pop(),I=D.pop(),D.push(I===h);break;case"exch":D.roll(2,1);break;case"exp":h=D.pop(),I=D.pop(),D.push(I**h);break;case"false":D.push(!1);break;case"floor":I=D.pop(),D.push(Math.floor(I));break;case"ge":h=D.pop(),I=D.pop(),D.push(I>=h);break;case"gt":h=D.pop(),I=D.pop(),D.push(I>h);break;case"idiv":h=D.pop(),I=D.pop(),D.push(I/h|0);break;case"index":I=D.pop(),D.index(I);break;case"le":h=D.pop(),I=D.pop(),D.push(I<=h);break;case"ln":I=D.pop(),D.push(Math.log(I));break;case"log":I=D.pop(),D.push(Math.log10(I));break;case"lt":h=D.pop(),I=D.pop(),D.push(I<h);break;case"mod":h=D.pop(),I=D.pop(),D.push(I%h);break;case"mul":h=D.pop(),I=D.pop(),D.push(I*h);break;case"ne":h=D.pop(),I=D.pop(),D.push(I!==h);break;case"neg":I=D.pop(),D.push(-I);break;case"not":I=D.pop(),typeof I=="boolean"?D.push(!I):D.push(~I);break;case"or":h=D.pop(),I=D.pop(),typeof I=="boolean"&&typeof h=="boolean"?D.push(I||h):D.push(I|h);break;case"pop":D.pop();break;case"roll":h=D.pop(),I=D.pop(),D.roll(I,h);break;case"round":I=D.pop(),D.push(Math.round(I));break;case"sin":I=D.pop(),D.push(Math.sin(I%360/180*Math.PI));break;case"sqrt":I=D.pop(),D.push(Math.sqrt(I));break;case"sub":h=D.pop(),I=D.pop(),D.push(I-h);break;case"true":D.push(!0);break;case"truncate":I=D.pop(),I=I<0?Math.ceil(I):Math.floor(I),D.push(I);break;case"xor":h=D.pop(),I=D.pop(),typeof I=="boolean"&&typeof h=="boolean"?D.push(I!==h):D.push(I^h);break;default:throw new w.FormatError(`Unknown operator ${S}`)}}return D.stack}}x.PostScriptEvaluator=f;class p{constructor(b){this.type=b}visit(b){(0,w.unreachable)("abstract method")}}class i extends p{constructor(b,D,J){super("args"),this.index=b,this.min=D,this.max=J}visit(b){b.visitArgument(this)}}class k extends p{constructor(b){super("literal"),this.number=b,this.min=b,this.max=b}visit(b){b.visitLiteral(this)}}class F extends p{constructor(b,D,J,N,v){super("binary"),this.op=b,this.arg1=D,this.arg2=J,this.min=N,this.max=v}visit(b){b.visitBinaryOperation(this)}}class _ extends p{constructor(b,D){super("max"),this.arg=b,this.min=b.min,this.max=D}visit(b){b.visitMin(this)}}class C extends p{constructor(b,D,J){super("var"),this.index=b,this.min=D,this.max=J}visit(b){b.visitVariable(this)}}class Q extends p{constructor(b,D){super("definition"),this.variable=b,this.arg=D}visit(b){b.visitVariableDefinition(this)}}class j{constructor(){this.parts=[]}visitArgument(b){this.parts.push("Math.max(",b.min,", Math.min(",b.max,", src[srcOffset + ",b.index,"]))")}visitVariable(b){this.parts.push("v",b.index)}visitLiteral(b){this.parts.push(b.number)}visitBinaryOperation(b){this.parts.push("("),b.arg1.visit(this),this.parts.push(" ",b.op," "),b.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(b){this.parts.push("var "),b.variable.visit(this),this.parts.push(" = "),b.arg.visit(this),this.parts.push(";")}visitMin(b){this.parts.push("Math.min("),b.arg.visit(this),this.parts.push(", ",b.max,")")}toString(){return this.parts.join("")}}function re(u,b){return b.type==="literal"&&b.number===0?u:u.type==="literal"&&u.number===0?b:b.type==="literal"&&u.type==="literal"?new k(u.number+b.number):new F("+",u,b,u.min+b.min,u.max+b.max)}function T(u,b){if(b.type==="literal"){if(b.number===0)return new k(0);if(b.number===1)return u;if(u.type==="literal")return new k(u.number*b.number)}if(u.type==="literal"){if(u.number===0)return new k(0);if(u.number===1)return b}const D=Math.min(u.min*b.min,u.min*b.max,u.max*b.min,u.max*b.max),J=Math.max(u.min*b.min,u.min*b.max,u.max*b.min,u.max*b.max);return new F("*",u,b,D,J)}function R(u,b){if(b.type==="literal"){if(b.number===0)return u;if(u.type==="literal")return new k(u.number-b.number)}return b.type==="binary"&&b.op==="-"&&u.type==="literal"&&u.number===1&&b.arg1.type==="literal"&&b.arg1.number===1?b.arg2:new F("-",u,b,u.min-b.max,u.max-b.min)}function d(u,b){return u.min>=b?new k(b):u.max<=b?u:new _(u,b)}class y{compile(b,D,J){const N=[],v=[],S=D.length>>1,I=J.length>>1;let h=0,B,r,A,E,G,se,Ae,ke;for(let Ie=0;Ie<S;Ie++)N.push(new i(Ie,D[Ie*2],D[Ie*2+1]));for(let Ie=0,ge=b.length;Ie<ge;Ie++){if(ke=b[Ie],typeof ke=="number"){N.push(new k(ke));continue}switch(ke){case"add":if(N.length<2)return null;E=N.pop(),A=N.pop(),N.push(re(A,E));break;case"cvr":if(N.length<1)return null;break;case"mul":if(N.length<2)return null;E=N.pop(),A=N.pop(),N.push(T(A,E));break;case"sub":if(N.length<2)return null;E=N.pop(),A=N.pop(),N.push(R(A,E));break;case"exch":if(N.length<2)return null;G=N.pop(),se=N.pop(),N.push(G,se);break;case"pop":if(N.length<1)return null;N.pop();break;case"index":if(N.length<1||(A=N.pop(),A.type!=="literal")||(B=A.number,B<0||!Number.isInteger(B)||N.length<B))return null;if(G=N[N.length-B-1],G.type==="literal"||G.type==="var"){N.push(G);break}Ae=new C(h++,G.min,G.max),N[N.length-B-1]=Ae,N.push(Ae),v.push(new Q(Ae,G));break;case"dup":if(N.length<1)return null;if(typeof b[Ie+1]=="number"&&b[Ie+2]==="gt"&&b[Ie+3]===Ie+7&&b[Ie+4]==="jz"&&b[Ie+5]==="pop"&&b[Ie+6]===b[Ie+1]){A=N.pop(),N.push(d(A,b[Ie+1])),Ie+=6;break}if(G=N.at(-1),G.type==="literal"||G.type==="var"){N.push(G);break}Ae=new C(h++,G.min,G.max),N[N.length-1]=Ae,N.push(Ae),v.push(new Q(Ae,G));break;case"roll":if(N.length<2||(E=N.pop(),A=N.pop(),E.type!=="literal"||A.type!=="literal")||(r=E.number,B=A.number,B<=0||!Number.isInteger(B)||!Number.isInteger(r)||N.length<B))return null;if(r=(r%B+B)%B,r===0)break;N.push(...N.splice(N.length-B,B-r));break;default:return null}}if(N.length!==I)return null;const de=[];for(const Ie of v){const ge=new j;Ie.visit(ge),de.push(ge.toString())}for(let Ie=0,ge=N.length;Ie<ge;Ie++){const Be=N[Ie],ee=new j;Be.visit(ee);const te=J[Ie*2],fe=J[Ie*2+1],ue=[ee.toString()];te>Be.min&&(ue.unshift("Math.max(",te,", "),ue.push(")")),fe<Be.max&&(ue.unshift("Math.min(",fe,", "),ue.push(")")),ue.unshift("dest[destOffset + ",Ie,"] = "),ue.push(";"),de.push(ue.join(""))}return de.join(`
`)}}x.PostScriptCompiler=y},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PostScriptParser=x.PostScriptLexer=void 0;var n=ie(2),w=ie(4),O=ie(3);class e{constructor(U){this.lexer=U,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(U){return this.token.type===U?(this.nextToken(),!0):!1}expect(U){if(this.accept(U))return!0;throw new n.FormatError(`Unexpected symbol: found ${this.token.type} expected ${U}.`)}parse(){return this.nextToken(),this.expect(t.LBRACE),this.parseBlock(),this.expect(t.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(t.NUMBER))this.operators.push(this.prev.value);else if(this.accept(t.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(t.LBRACE))this.parseCondition();else return}parseCondition(){const U=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(t.RBRACE),this.accept(t.IF))this.operators[U]=this.operators.length,this.operators[U+1]="jz";else if(this.accept(t.LBRACE)){const P=this.operators.length;this.operators.push(null,null);const f=this.operators.length;this.parseBlock(),this.expect(t.RBRACE),this.expect(t.IFELSE),this.operators[P]=this.operators.length,this.operators[P+1]="j",this.operators[U]=f,this.operators[U+1]="jz"}else throw new n.FormatError("PS Function: error parsing conditional.")}}x.PostScriptParser=e;const t={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class o{static get opCache(){return(0,n.shadow)(this,"opCache",Object.create(null))}constructor(U,P){this.type=U,this.value=P}static getOperator(U){var P;return(P=o.opCache)[U]||(P[U]=new o(t.OPERATOR,U))}static get LBRACE(){return(0,n.shadow)(this,"LBRACE",new o(t.LBRACE,"{"))}static get RBRACE(){return(0,n.shadow)(this,"RBRACE",new o(t.RBRACE,"}"))}static get IF(){return(0,n.shadow)(this,"IF",new o(t.IF,"IF"))}static get IFELSE(){return(0,n.shadow)(this,"IFELSE",new o(t.IFELSE,"IFELSE"))}}class K{constructor(U){this.stream=U,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let U=!1,P=this.currentChar;for(;;){if(P<0)return w.EOF;if(U)(P===10||P===13)&&(U=!1);else if(P===37)U=!0;else if(!(0,O.isWhiteSpace)(P))break;P=this.nextChar()}switch(P|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new o(t.NUMBER,this.getNumber());case 123:return this.nextChar(),o.LBRACE;case 125:return this.nextChar(),o.RBRACE}const f=this.strBuf;for(f.length=0,f[0]=String.fromCharCode(P);(P=this.nextChar())>=0&&(P>=65&&P<=90||P>=97&&P<=122);)f.push(String.fromCharCode(P));const p=f.join("");switch(p.toLowerCase()){case"if":return o.IF;case"ifelse":return o.IFELSE;default:return o.getOperator(p)}}getNumber(){let U=this.currentChar;const P=this.strBuf;for(P.length=0,P[0]=String.fromCharCode(U);(U=this.nextChar())>=0&&(U>=48&&U<=57||U===45||U===46);)P.push(String.fromCharCode(U));const f=parseFloat(P.join(""));if(isNaN(f))throw new n.FormatError(`Invalid floating point number: ${f}`);return f}}x.PostScriptLexer=K},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.RegionalImageCache=x.LocalTilingPatternCache=x.LocalImageCache=x.LocalGStateCache=x.LocalFunctionCache=x.LocalColorSpaceCache=x.GlobalImageCache=void 0;var n=ie(2),w=ie(4);class O{constructor(i){this.constructor===O&&(0,n.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(i==null?void 0:i.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new w.RefSetCache}getByName(i){this._onlyRefs&&(0,n.unreachable)("Should not call `getByName` method.");const k=this._nameRefMap.get(i);return k?this.getByRef(k):this._imageMap.get(i)||null}getByRef(i){return this._imageCache.get(i)||null}set(i,k,F){(0,n.unreachable)("Abstract method `set` called.")}}class e extends O{set(i,k=null,F){if(typeof i!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(k){if(this._imageCache.has(k))return;this._nameRefMap.set(i,k),this._imageCache.put(k,F);return}this._imageMap.has(i)||this._imageMap.set(i,F)}}x.LocalImageCache=e;class t extends O{set(i=null,k=null,F){if(typeof i!="string"&&!k)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(k){if(this._imageCache.has(k))return;i!==null&&this._nameRefMap.set(i,k),this._imageCache.put(k,F);return}this._imageMap.has(i)||this._imageMap.set(i,F)}}x.LocalColorSpaceCache=t;class o extends O{constructor(i){super({onlyRefs:!0})}set(i=null,k,F){if(!k)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(k)||this._imageCache.put(k,F)}}x.LocalFunctionCache=o;class K extends O{set(i,k=null,F){if(typeof i!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(k){if(this._imageCache.has(k))return;this._nameRefMap.set(i,k),this._imageCache.put(k,F);return}this._imageMap.has(i)||this._imageMap.set(i,F)}}x.LocalGStateCache=K;class H extends O{constructor(i){super({onlyRefs:!0})}set(i=null,k,F){if(!k)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(k)||this._imageCache.put(k,F)}}x.LocalTilingPatternCache=H;class U extends O{constructor(i){super({onlyRefs:!0})}set(i=null,k,F){if(!k)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(k)||this._imageCache.put(k,F)}}x.RegionalImageCache=U;const f=class f{constructor(){this._refCache=new w.RefSetCache,this._imageCache=new w.RefSetCache}get _byteSize(){let i=0;for(const k of this._imageCache)i+=k.byteSize;return i}get _cacheLimitReached(){return!(this._imageCache.size<f.MIN_IMAGES_TO_CACHE||this._byteSize<f.MAX_BYTE_SIZE)}shouldCache(i,k){let F=this._refCache.get(i);return F||(F=new Set,this._refCache.put(i,F)),F.add(k),!(F.size<f.NUM_PAGES_THRESHOLD||!this._imageCache.has(i)&&this._cacheLimitReached)}addByteSize(i,k){const F=this._imageCache.get(i);F&&(F.byteSize||(F.byteSize=k))}getData(i,k){const F=this._refCache.get(i);if(!F||F.size<f.NUM_PAGES_THRESHOLD)return null;const _=this._imageCache.get(i);return _?(F.add(k),_):null}setData(i,k){if(!this._refCache.has(i))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(i)){if(this._cacheLimitReached){(0,n.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(i,k)}}clear(i=!1){i||this._refCache.clear(),this._imageCache.clear()}};yr(f,"NUM_PAGES_THRESHOLD",2),yr(f,"MIN_IMAGES_TO_CACHE",10),yr(f,"MAX_BYTE_SIZE",5*n.MAX_IMAGE_SIZE_TO_CACHE);let P=f;x.GlobalImageCache=P},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.bidi=p;var n=ie(2);const w=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],O=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function e(i){return(i&1)!==0}function t(i){return(i&1)===0}function o(i,k,F){let _,C;for(_=k,C=i.length;_<C;++_)if(i[_]!==F)return _;return _}function K(i,k,F,_){for(let C=k;C<F;++C)i[C]=_}function H(i,k,F){for(let _=k,C=F-1;_<C;++_,--C){const Q=i[_];i[_]=i[C],i[C]=Q}}function U(i,k,F=!1){let _="ltr";return F?_="ttb":k||(_="rtl"),{str:i,dir:_}}const P=[],f=[];function p(i,k=-1,F=!1){let _=!0;const C=i.length;if(C===0||F)return U(i,_,F);P.length=C,f.length=C;let Q=0,j,re;for(j=0;j<C;++j){P[j]=i.charAt(j);const N=i.charCodeAt(j);let v="L";N<=255?v=w[N]:1424<=N&&N<=1524?v="R":1536<=N&&N<=1791?(v=O[N&255],v||(0,n.warn)("Bidi: invalid Unicode character "+N.toString(16))):(1792<=N&&N<=2220||64336<=N&&N<=65023||65136<=N&&N<=65279)&&(v="AL"),(v==="R"||v==="AL"||v==="AN")&&Q++,f[j]=v}if(Q===0)return _=!0,U(i,_);k===-1&&(Q/C<.3&&C>4?(_=!0,k=0):(_=!1,k=1));const T=[];for(j=0;j<C;++j)T[j]=k;const R=e(k)?"R":"L",d=R,y=d;let W=d;for(j=0;j<C;++j)f[j]==="NSM"?f[j]=W:W=f[j];W=d;let u;for(j=0;j<C;++j)u=f[j],u==="EN"?f[j]=W==="AL"?"AN":"EN":(u==="R"||u==="L"||u==="AL")&&(W=u);for(j=0;j<C;++j)u=f[j],u==="AL"&&(f[j]="R");for(j=1;j<C-1;++j)f[j]==="ES"&&f[j-1]==="EN"&&f[j+1]==="EN"&&(f[j]="EN"),f[j]==="CS"&&(f[j-1]==="EN"||f[j-1]==="AN")&&f[j+1]===f[j-1]&&(f[j]=f[j-1]);for(j=0;j<C;++j)if(f[j]==="EN"){for(let N=j-1;N>=0&&f[N]==="ET";--N)f[N]="EN";for(let N=j+1;N<C&&f[N]==="ET";++N)f[N]="EN"}for(j=0;j<C;++j)u=f[j],(u==="WS"||u==="ES"||u==="ET"||u==="CS")&&(f[j]="ON");for(W=d,j=0;j<C;++j)u=f[j],u==="EN"?f[j]=W==="L"?"L":"EN":(u==="R"||u==="L")&&(W=u);for(j=0;j<C;++j)if(f[j]==="ON"){const N=o(f,j+1,"ON");let v=d;j>0&&(v=f[j-1]);let S=y;N+1<C&&(S=f[N+1]),v!=="L"&&(v="R"),S!=="L"&&(S="R"),v===S&&K(f,j,N,v),j=N-1}for(j=0;j<C;++j)f[j]==="ON"&&(f[j]=R);for(j=0;j<C;++j)u=f[j],t(T[j])?u==="R"?T[j]+=1:(u==="AN"||u==="EN")&&(T[j]+=2):(u==="L"||u==="AN"||u==="EN")&&(T[j]+=1);let b=-1,D=99,J;for(j=0,re=T.length;j<re;++j)J=T[j],b<J&&(b=J),D>J&&e(J)&&(D=J);for(J=b;J>=D;--J){let N=-1;for(j=0,re=T.length;j<re;++j)T[j]<J?N>=0&&(H(P,N,j),N=-1):N<0&&(N=j);N>=0&&H(P,N,T.length)}for(j=0,re=P.length;j<re;++j){const N=P[j];(N==="<"||N===">")&&(P[j]="")}return U(P.join(""),_)}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.getFontSubstitution=f;var n=ie(38),w=ie(3);const O={style:"normal",weight:"normal"},e={style:"normal",weight:"bold"},t={style:"italic",weight:"normal"},o={style:"italic",weight:"bold"},K=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:O,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:t,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:o,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:O,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:t,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:o,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:O,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:t,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:o,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:O,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:t,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:o,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:O,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:t,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:o,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:O}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),H=new Map([["Arial-Black","ArialBlack"]]);function U(p){switch(p){case e:return"Bold";case t:return"Italic";case o:return"Bold Italic";default:if((p==null?void 0:p.weight)==="bold")return"Bold";if((p==null?void 0:p.style)==="italic")return"Italic"}return""}function P({alias:p,local:i,path:k,fallback:F,style:_,ultimate:C},Q,j,re=!0,T=!0,R=""){const d={style:null,ultimate:null};if(i){const y=R?` ${R}`:"";for(const W of i)Q.push(`local(${W}${y})`)}if(p){const y=K.get(p),W=R||U(_);Object.assign(d,P(y,Q,j,re&&!F,T&&!k,W))}if(_&&(d.style=_),C&&(d.ultimate=C),re&&F){const y=K.get(F),{ultimate:W}=P(y,Q,j,re,T&&!k,R);d.ultimate||(d.ultimate=W)}return T&&k&&j&&Q.push(`url(${j}${k})`),d}function f(p,i,k,F,_){F=(0,n.normalizeFontName)(F);const C=F;let Q=p.get(C);if(Q)return Q;let j=K.get(F);if(!j){for(const[b,D]of H)if(F.startsWith(b)){F=`${D}${F.substring(b.length)}`,j=K.get(F);break}}let re=!1;j||(j=K.get(_),re=!0);const T=`${i.getDocId()}_s${i.createFontId()}`;if(!j){if(!(0,w.validateFontName)(F))return p.set(C,null),null;const b=/bold/gi.test(F),D=/oblique|italic/gi.test(F),J=b&&D&&o||b&&e||D&&t||O;return Q={css:T,guessFallback:!0,loadedName:T,baseFontName:F,src:`local(${F})`,style:J},p.set(C,Q),Q}const R=[];re&&(0,w.validateFontName)(F)&&R.push(`local(${F})`);const{style:d,ultimate:y}=P(j,R,k),W=y===null,u=W?"":`,${y}`;return Q={css:`${T}${u}`,guessFallback:W,loadedName:T,baseFontName:F,src:R.join(","),style:d},p.set(C,Q),Q}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ImageResizer=void 0;var n=ie(2);const w=2048,O=65537,e=128;class t{constructor(K,H){this._imgData=K,this._isMask=H}static needsToBeResized(K,H){if(K<=this._goodSquareLength&&H<=this._goodSquareLength)return!1;const{MAX_DIM:U}=this;if(K>U||H>U)return!0;const P=K*H;if(this._hasMaxArea)return P>this.MAX_AREA;if(P<this._goodSquareLength**2)return!1;if(this._areGoodDims(K,H))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(K*H))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,U,e,0);const f=this.MAX_AREA=this._goodSquareLength**2;return P>f}static get MAX_DIM(){return(0,n.shadow)(this,"MAX_DIM",this._guessMax(w,O,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",this._guessMax(t._goodSquareLength,this.MAX_DIM,e,0)**2)}static set MAX_AREA(K){K>=0&&(this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",K))}static setMaxArea(K){this._hasMaxArea||(this.MAX_AREA=K>>2)}static _areGoodDims(K,H){try{const U=new OffscreenCanvas(K,H),P=U.getContext("2d");P.fillRect(0,0,1,1);const f=P.getImageData(0,0,1,1).data[3];return U.width=U.height=1,f!==0}catch{return!1}}static _guessMax(K,H,U,P){for(;K+U+1<H;){const f=Math.floor((K+H)/2),p=P||f;this._areGoodDims(f,p)?K=f:H=f}return K}static async createImage(K,H=!1){return new t(K,H)._createImage()}async _createImage(){const K=this._encodeBMP(),H=new Blob([K.buffer],{type:"image/bmp"}),U=createImageBitmap(H),{MAX_AREA:P,MAX_DIM:f}=t,{_imgData:p}=this,{width:i,height:k}=p,F=Math.max(i/f,k/f,Math.sqrt(i*k/P)),_=Math.max(F,2),C=Math.round(10*(F+1.25))/10/_,Q=Math.floor(Math.log2(C)),j=new Array(Q+2).fill(2);j[0]=_,j.splice(-1,1,C/(1<<Q));let re=i,T=k,R=await U;for(const d of j){const y=re,W=T;re=Math.floor(re/d)-1,T=Math.floor(T/d)-1;const u=new OffscreenCanvas(re,T);u.getContext("2d").drawImage(R,0,0,y,W,0,0,re,T),R=u.transferToImageBitmap()}return p.data=null,p.bitmap=R,p.width=re,p.height=T,p}_encodeBMP(){const{width:K,height:H,kind:U}=this._imgData;let P=this._imgData.data,f,p=new Uint8Array(0),i=p,k=0;switch(U){case n.ImageKind.GRAYSCALE_1BPP:{f=1,p=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const T=K+7>>3,R=T+3&-4;if(T!==R){const d=new Uint8Array(R*H);let y=0;for(let W=0,u=H*T;W<u;W+=T,y+=R)d.set(P.subarray(W,W+T),y);P=d}break}case n.ImageKind.RGB_24BPP:{if(f=24,K&3){const T=3*K,R=T+3&-4,d=R-T,y=new Uint8Array(R*H);let W=0;for(let u=0,b=H*T;u<b;u+=T){const D=P.subarray(u,u+T);for(let J=0;J<T;J+=3)y[W++]=D[J+2],y[W++]=D[J+1],y[W++]=D[J];W+=d}P=y}else for(let T=0,R=P.length;T<R;T+=3){const d=P[T];P[T]=P[T+2],P[T+2]=d}break}case n.ImageKind.RGBA_32BPP:f=32,k=3,i=new Uint8Array(68);const re=new DataView(i.buffer);n.FeatureTest.isLittleEndian?(re.setUint32(0,255,!0),re.setUint32(4,65280,!0),re.setUint32(8,16711680,!0),re.setUint32(12,4278190080,!0)):(re.setUint32(0,4278190080,!0),re.setUint32(4,16711680,!0),re.setUint32(8,65280,!0),re.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let F=0;const _=40+i.length,C=14+_+p.length+P.length,Q=new Uint8Array(C),j=new DataView(Q.buffer);return j.setUint16(F,19778,!0),F+=2,j.setUint32(F,C,!0),F+=4,j.setUint32(F,0,!0),F+=4,j.setUint32(F,14+_+p.length,!0),F+=4,j.setUint32(F,_,!0),F+=4,j.setInt32(F,K,!0),F+=4,j.setInt32(F,-H,!0),F+=4,j.setUint16(F,1,!0),F+=2,j.setUint16(F,f,!0),F+=2,j.setUint32(F,k,!0),F+=4,j.setUint32(F,0,!0),F+=4,j.setInt32(F,0,!0),F+=4,j.setInt32(F,0,!0),F+=4,j.setUint32(F,p.length/4,!0),F+=4,j.setUint32(F,0,!0),F+=4,Q.set(i,F),F+=i.length,Q.set(p,F),F+=p.length,Q.set(P,F),Q}}x.ImageResizer=t,t._goodSquareLength=w},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.MurmurHash3_64=void 0;var n=ie(2);const w=3285377520,O=4294901760,e=65535;class t{constructor(K){this.h1=K?K&4294967295:w,this.h2=K?K&4294967295:w}update(K){let H,U;if(typeof K=="string"){H=new Uint8Array(K.length*2),U=0;for(let T=0,R=K.length;T<R;T++){const d=K.charCodeAt(T);d<=255?H[U++]=d:(H[U++]=d>>>8,H[U++]=d&255)}}else if((0,n.isArrayBuffer)(K))H=K.slice(),U=H.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const P=U>>2,f=U-P*4,p=new Uint32Array(H.buffer,0,P);let i=0,k=0,F=this.h1,_=this.h2;const C=3432918353,Q=461845907,j=C&e,re=Q&e;for(let T=0;T<P;T++)T&1?(i=p[T],i=i*C&O|i*j&e,i=i<<15|i>>>17,i=i*Q&O|i*re&e,F^=i,F=F<<13|F>>>19,F=F*5+3864292196):(k=p[T],k=k*C&O|k*j&e,k=k<<15|k>>>17,k=k*Q&O|k*re&e,_^=k,_=_<<13|_>>>19,_=_*5+3864292196);switch(i=0,f){case 3:i^=H[P*4+2]<<16;case 2:i^=H[P*4+1]<<8;case 1:i^=H[P*4],i=i*C&O|i*j&e,i=i<<15|i>>>17,i=i*Q&O|i*re&e,P&1?F^=i:_^=i}this.h1=F,this.h2=_}hexdigest(){let K=this.h1,H=this.h2;return K^=H>>>1,K=K*3981806797&O|K*36045&e,H=H*4283543511&O|((H<<16|K>>>16)*2950163797&O)>>>16,K^=H>>>1,K=K*444984403&O|K*60499&e,H=H*3301882366&O|((H<<16|K>>>16)*3120437893&O)>>>16,K^=H>>>1,(K>>>0).toString(16).padStart(8,"0")+(H>>>0).toString(16).padStart(8,"0")}}x.MurmurHash3_64=t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.OperatorList=void 0;var n=ie(2);function w(H,U,P,f,p){let i=H;for(let k=0,F=U.length-1;k<F;k++){const _=U[k];i=i[_]||(i[_]=[])}i[U.at(-1)]={checkFn:P,iterateFn:f,processFn:p}}const O=[];w(O,[n.OPS.save,n.OPS.transform,n.OPS.paintInlineImageXObject,n.OPS.restore],null,function(U,P){const f=U.fnArray,p=U.iCurr-3,i=(P-p)%4;switch(i){case 0:return f[P]===n.OPS.save;case 1:return f[P]===n.OPS.transform;case 2:return f[P]===n.OPS.paintInlineImageXObject;case 3:return f[P]===n.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${i}`)},function(U,P){const F=U.fnArray,_=U.argsArray,C=U.iCurr,Q=C-3,j=C-2,re=C-1,T=Math.min(Math.floor((P-Q)/4),200);if(T<10)return P-(P-Q)%4;let R=0;const d=[];let y=0,W=1,u=1;for(let S=0;S<T;S++){const I=_[j+(S<<2)],h=_[re+(S<<2)][0];W+h.width>1e3&&(R=Math.max(R,W),u+=y+2,W=0,y=0),d.push({transform:I,x:W,y:u,w:h.width,h:h.height}),W+=h.width+2,y=Math.max(y,h.height)}const b=Math.max(R,W)+1,D=u+y+1,J=new Uint8Array(b*D*4),N=b<<2;for(let S=0;S<T;S++){const I=_[re+(S<<2)][0].data,h=d[S].w<<2;let B=0,r=d[S].x+d[S].y*b<<2;J.set(I.subarray(0,h),r-N);for(let A=0,E=d[S].h;A<E;A++)J.set(I.subarray(B,B+h),r),B+=h,r+=N;for(J.set(I.subarray(B-h,B),r);r>=0;)I[r-4]=I[r],I[r-3]=I[r+1],I[r-2]=I[r+2],I[r-1]=I[r+3],I[r+h]=I[r+h-4],I[r+h+1]=I[r+h-3],I[r+h+2]=I[r+h-2],I[r+h+3]=I[r+h-1],r-=N}const v={width:b,height:D};if(U.isOffscreenCanvasSupported){const S=new OffscreenCanvas(b,D);S.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(J.buffer),b,D),0,0),v.bitmap=S.transferToImageBitmap(),v.data=null}else v.kind=n.ImageKind.RGBA_32BPP,v.data=J;return F.splice(Q,T*4,n.OPS.paintInlineImageXObjectGroup),_.splice(Q,T*4,[v,d]),Q+1}),w(O,[n.OPS.save,n.OPS.transform,n.OPS.paintImageMaskXObject,n.OPS.restore],null,function(U,P){const f=U.fnArray,p=U.iCurr-3,i=(P-p)%4;switch(i){case 0:return f[P]===n.OPS.save;case 1:return f[P]===n.OPS.transform;case 2:return f[P]===n.OPS.paintImageMaskXObject;case 3:return f[P]===n.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${i}`)},function(U,P){const k=U.fnArray,F=U.argsArray,_=U.iCurr,C=_-3,Q=_-2,j=_-1;let re=Math.floor((P-C)/4);if(re<10)return P-(P-C)%4;let T=!1,R,d;const y=F[j][0],W=F[Q][0],u=F[Q][1],b=F[Q][2],D=F[Q][3];if(u===b){T=!0,R=Q+4;let J=j+4;for(let N=1;N<re;N++,R+=4,J+=4)if(d=F[R],F[J][0]!==y||d[0]!==W||d[1]!==u||d[2]!==b||d[3]!==D){N<10?T=!1:re=N;break}}if(T){re=Math.min(re,1e3);const J=new Float32Array(re*2);R=Q;for(let N=0;N<re;N++,R+=4)d=F[R],J[N<<1]=d[4],J[(N<<1)+1]=d[5];k.splice(C,re*4,n.OPS.paintImageMaskXObjectRepeat),F.splice(C,re*4,[y,W,u,b,D,J])}else{re=Math.min(re,100);const J=[];for(let N=0;N<re;N++){d=F[Q+(N<<2)];const v=F[j+(N<<2)][0];J.push({data:v.data,width:v.width,height:v.height,interpolate:v.interpolate,count:v.count,transform:d})}k.splice(C,re*4,n.OPS.paintImageMaskXObjectGroup),F.splice(C,re*4,[J])}return C+1}),w(O,[n.OPS.save,n.OPS.transform,n.OPS.paintImageXObject,n.OPS.restore],function(H){const U=H.argsArray,P=H.iCurr-2;return U[P][1]===0&&U[P][2]===0},function(U,P){const f=U.fnArray,p=U.argsArray,i=U.iCurr-3,k=(P-i)%4;switch(k){case 0:return f[P]===n.OPS.save;case 1:if(f[P]!==n.OPS.transform)return!1;const F=U.iCurr-2,_=p[F][0],C=p[F][3];return!(p[P][0]!==_||p[P][1]!==0||p[P][2]!==0||p[P][3]!==C);case 2:if(f[P]!==n.OPS.paintImageXObject)return!1;const Q=U.iCurr-1,j=p[Q][0];return p[P][0]===j;case 3:return f[P]===n.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${k}`)},function(H,U){const p=H.fnArray,i=H.argsArray,k=H.iCurr,F=k-3,_=k-2,C=k-1,Q=i[C][0],j=i[_][0],re=i[_][3],T=Math.min(Math.floor((U-F)/4),1e3);if(T<3)return U-(U-F)%4;const R=new Float32Array(T*2);let d=_;for(let W=0;W<T;W++,d+=4){const u=i[d];R[W<<1]=u[4],R[(W<<1)+1]=u[5]}const y=[Q,j,re,R];return p.splice(F,T*4,n.OPS.paintImageXObjectRepeat),i.splice(F,T*4,y),F+1}),w(O,[n.OPS.beginText,n.OPS.setFont,n.OPS.setTextMatrix,n.OPS.showText,n.OPS.endText],null,function(U,P){const f=U.fnArray,p=U.argsArray,i=U.iCurr-4,k=(P-i)%5;switch(k){case 0:return f[P]===n.OPS.beginText;case 1:return f[P]===n.OPS.setFont;case 2:return f[P]===n.OPS.setTextMatrix;case 3:if(f[P]!==n.OPS.showText)return!1;const F=U.iCurr-3,_=p[F][0],C=p[F][1];return!(p[P][0]!==_||p[P][1]!==C);case 4:return f[P]===n.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${k}`)},function(H,U){const p=H.fnArray,i=H.argsArray,k=H.iCurr,F=k-4,_=k-3,C=k-2,Q=k-1,j=k,re=i[_][0],T=i[_][1];let R=Math.min(Math.floor((U-F)/5),1e3);if(R<3)return U-(U-F)%5;let d=F;F>=4&&p[F-4]===p[_]&&p[F-3]===p[C]&&p[F-2]===p[Q]&&p[F-1]===p[j]&&i[F-4][0]===re&&i[F-4][1]===T&&(R++,d-=5);let y=d+4;for(let W=1;W<R;W++)p.splice(y,3),i.splice(y,3),y+=2;return y+1});class e{constructor(U){this.queue=U}_optimize(){}push(U,P){this.queue.fnArray.push(U),this.queue.argsArray.push(P),this._optimize()}flush(){}reset(){}}class t extends e{constructor(U){super(U),this.state=null,this.context={iCurr:0,fnArray:U.fnArray,argsArray:U.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(U){this.context.isOffscreenCanvasSupported=U}_optimize(){const U=this.queue.fnArray;let P=this.lastProcessed,f=U.length,p=this.state,i=this.match;if(!p&&!i&&P+1===f&&!O[U[P]]){this.lastProcessed=f;return}const k=this.context;for(;P<f;){if(i){if((0,i.iterateFn)(k,P)){P++;continue}if(P=(0,i.processFn)(k,P+1),f=U.length,i=null,p=null,P>=f)break}if(p=(p||O)[U[P]],!p||Array.isArray(p)){P++;continue}if(k.iCurr=P,P++,p.checkFn&&!(0,p.checkFn)(k)){p=null;continue}i=p,p=null}this.state=p,this.match=i,this.lastProcessed=P}flush(){for(;this.match;){const U=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,U),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const K=class K{constructor(U=0,P){this._streamSink=P,this.fnArray=[],this.argsArray=[],this.optimizer=P&&!(U&n.RenderingIntentFlag.OPLIST)?new t(this):new e(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=P?null:Promise.resolve()}set isOffscreenCanvasSupported(U){this.optimizer.isOffscreenCanvasSupported=U}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(U,P){this.optimizer.push(U,P),this.weight++,this._streamSink&&(this.weight>=K.CHUNK_SIZE?this.flush():this.weight>=K.CHUNK_SIZE_ABOUT&&(U===n.OPS.restore||U===n.OPS.endText)&&this.flush())}addImageOps(U,P,f){f!==void 0&&this.addOp(n.OPS.beginMarkedContentProps,["OC",f]),this.addOp(U,P),f!==void 0&&this.addOp(n.OPS.endMarkedContent,[])}addDependency(U){this.dependencies.has(U)||(this.dependencies.add(U),this.addOp(n.OPS.dependency,[U]))}addDependencies(U){for(const P of U)this.addDependency(P)}addOpList(U){if(!(U instanceof K)){(0,n.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const P of U.dependencies)this.dependencies.add(P);for(let P=0,f=U.length;P<f;P++)this.addOp(U.fnArray[P],U.argsArray[P])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var i;const U=[],{fnArray:P,argsArray:f,length:p}=this;for(let k=0;k<p;k++)switch(P[k]){case n.OPS.paintInlineImageXObject:case n.OPS.paintInlineImageXObjectGroup:case n.OPS.paintImageMaskXObject:const F=f[k][0];!F.cached&&((i=F.data)==null?void 0:i.buffer)instanceof ArrayBuffer&&U.push(F.data.buffer);break}return U}flush(U=!1,P=null){this.optimizer.flush();const f=this.length;this._totalLength+=f,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:U,separateAnnots:P,length:f},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};yr(K,"CHUNK_SIZE",1e3),yr(K,"CHUNK_SIZE_ABOUT",K.CHUNK_SIZE-5);let o=K;x.OperatorList=o},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFImage=void 0;var n=ie(2),w=ie(28),O=ie(5),e=ie(12),t=ie(18),o=ie(62),K=ie(26),H=ie(30),U=ie(4);function P(i,k,F,_){return i=k+i*F,i<0?i=0:i>_&&(i=_),i}function f(i,k,F,_,C,Q){const j=C*Q;let re;k<=8?re=new Uint8Array(j):k<=16?re=new Uint16Array(j):re=new Uint32Array(j);const T=F/C,R=_/Q;let d,y,W,u=0,b;const D=new Uint16Array(C),J=F;for(d=0;d<C;d++)D[d]=Math.floor(d*T);for(d=0;d<Q;d++)for(W=Math.floor(d*R)*J,y=0;y<C;y++)b=W+D[y],re[u++]=i[b];return re}class p{constructor({xref:k,res:F,image:_,isInline:C=!1,smask:Q=null,mask:j=null,isMask:re=!1,pdfFunctionFactory:T,localColorSpaceCache:R}){var J;this.image=_;const d=_.dict,y=d.get("F","Filter");let W;if(y instanceof U.Name)W=y.name;else if(Array.isArray(y)){const N=k.fetchIfRef(y[0]);N instanceof U.Name&&(W=N.name)}switch(W){case"JPXDecode":const N=new H.JpxImage;N.parseImageProperties(_.stream),_.stream.reset(),_.width=N.width,_.height=N.height,_.bitsPerComponent=N.bitsPerComponent,_.numComps=N.componentsCount;break;case"JBIG2Decode":_.bitsPerComponent=1,_.numComps=1;break}let u=d.get("W","Width"),b=d.get("H","Height");if(Number.isInteger(_.width)&&_.width>0&&Number.isInteger(_.height)&&_.height>0&&(_.width!==u||_.height!==b)&&((0,n.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),u=_.width,b=_.height),u<1||b<1)throw new n.FormatError(`Invalid image width: ${u} or height: ${b}`);this.width=u,this.height=b,this.interpolate=d.get("I","Interpolate"),this.imageMask=d.get("IM","ImageMask")||!1,this.matte=d.get("Matte")||!1;let D=_.bitsPerComponent;if(!D&&(D=d.get("BPC","BitsPerComponent"),!D))if(this.imageMask)D=1;else throw new n.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=D,!this.imageMask){let N=d.getRaw("CS")||d.getRaw("ColorSpace");if(!N)switch((0,n.info)("JPX images (which do not require color spaces)"),_.numComps){case 1:N=U.Name.get("DeviceGray");break;case 3:N=U.Name.get("DeviceRGB");break;case 4:N=U.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${_.numComps} color components not supported.`)}this.colorSpace=e.ColorSpace.parse({cs:N,xref:k,resources:C?F:null,pdfFunctionFactory:T,localColorSpaceCache:R}),this.numComps=this.colorSpace.numComps}if(this.decode=d.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,D)||re&&!e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const N=(1<<D)-1;this.decodeCoefficients=[],this.decodeAddends=[];const v=((J=this.colorSpace)==null?void 0:J.name)==="Indexed";for(let S=0,I=0;S<this.decode.length;S+=2,++I){const h=this.decode[S],B=this.decode[S+1];this.decodeCoefficients[I]=v?(B-h)/N:B-h,this.decodeAddends[I]=v?h:N*h}}Q?this.smask=new p({xref:k,res:F,image:Q,isInline:C,pdfFunctionFactory:T,localColorSpaceCache:R}):j&&(j instanceof O.BaseStream?j.dict.get("IM","ImageMask")?this.mask=new p({xref:k,res:F,image:j,isInline:C,isMask:!0,pdfFunctionFactory:T,localColorSpaceCache:R}):(0,n.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=j)}static async buildImage({xref:k,res:F,image:_,isInline:C=!1,pdfFunctionFactory:Q,localColorSpaceCache:j}){const re=_;let T=null,R=null;const d=_.dict.get("SMask"),y=_.dict.get("Mask");return d?d instanceof O.BaseStream?T=d:(0,n.warn)("Unsupported /SMask format."):y&&(y instanceof O.BaseStream||Array.isArray(y)?R=y:(0,n.warn)("Unsupported /Mask format.")),new p({xref:k,res:F,image:re,isInline:C,smask:T,mask:R,pdfFunctionFactory:Q,localColorSpaceCache:j})}static createRawMask({imgArray:k,width:F,height:_,imageIsFromDecodeStream:C,inverseDecode:Q,interpolate:j}){const re=(F+7>>3)*_,T=k.byteLength,R=re===T;let d,y;if(C&&(!Q||R)?d=k:Q?(d=new Uint8Array(re),d.set(k),d.fill(255,T)):d=new Uint8Array(k),Q)for(y=0;y<T;y++)d[y]^=255;return{data:d,width:F,height:_,interpolate:j}}static async createMask({imgArray:k,width:F,height:_,imageIsFromDecodeStream:C,inverseDecode:Q,interpolate:j,isOffscreenCanvasSupported:re=!1}){const T=F===1&&_===1&&Q===(k.length===0||!!(k[0]&128));if(T)return{isSingleOpaquePixel:T};if(re){if(o.ImageResizer.needsToBeResized(F,_)){const u=new Uint8ClampedArray(F*_*4);return(0,w.convertBlackAndWhiteToRGBA)({src:k,dest:u,width:F,height:_,nonBlackColor:0,inverseDecode:Q}),o.ImageResizer.createImage({kind:n.ImageKind.RGBA_32BPP,data:u,width:F,height:_,interpolate:j})}const R=new OffscreenCanvas(F,_),d=R.getContext("2d"),y=d.createImageData(F,_);(0,w.convertBlackAndWhiteToRGBA)({src:k,dest:y.data,width:F,height:_,nonBlackColor:0,inverseDecode:Q}),d.putImageData(y,0,0);const W=R.transferToImageBitmap();return{data:null,width:F,height:_,interpolate:j,bitmap:W}}return this.createRawMask({imgArray:k,width:F,height:_,inverseDecode:Q,imageIsFromDecodeStream:C,interpolate:j})}get drawWidth(){var k,F;return Math.max(this.width,((k=this.smask)==null?void 0:k.width)||0,((F=this.mask)==null?void 0:F.width)||0)}get drawHeight(){var k,F;return Math.max(this.height,((k=this.smask)==null?void 0:k.height)||0,((F=this.mask)==null?void 0:F.height)||0)}decodeBuffer(k){const F=this.bpc,_=this.numComps,C=this.decodeAddends,Q=this.decodeCoefficients,j=(1<<F)-1;let re,T;if(F===1){for(re=0,T=k.length;re<T;re++)k[re]=+!k[re];return}let R=0;for(re=0,T=this.width*this.height;re<T;re++)for(let d=0;d<_;d++)k[R]=P(k[R],C[d],Q[d],j),R++}getComponents(k){const F=this.bpc;if(F===8)return k;const _=this.width,C=this.height,Q=this.numComps,j=_*C*Q;let re=0,T;F<=8?T=new Uint8Array(j):F<=16?T=new Uint16Array(j):T=new Uint32Array(j);const R=_*Q,d=(1<<F)-1;let y=0,W,u;if(F===1){let b,D,J;for(let N=0;N<C;N++){for(D=y+(R&-8),J=y+R;y<D;)u=k[re++],T[y]=u>>7&1,T[y+1]=u>>6&1,T[y+2]=u>>5&1,T[y+3]=u>>4&1,T[y+4]=u>>3&1,T[y+5]=u>>2&1,T[y+6]=u>>1&1,T[y+7]=u&1,y+=8;if(y<J)for(u=k[re++],b=128;y<J;)T[y++]=+!!(u&b),b>>=1}}else{let b=0;for(u=0,y=0,W=j;y<W;++y){for(y%R===0&&(u=0,b=0);b<F;)u=u<<8|k[re++],b+=8;const D=b-F;let J=u>>D;J<0?J=0:J>d&&(J=d),T[y]=J,u&=(1<<D)-1,b=D}}return T}fillOpacity(k,F,_,C,Q){const j=this.smask,re=this.mask;let T,R,d,y,W,u;if(j)R=j.width,d=j.height,T=new Uint8ClampedArray(R*d),j.fillGrayBuffer(T),(R!==F||d!==_)&&(T=f(T,j.bpc,R,d,F,_));else if(re)if(re instanceof p){for(R=re.width,d=re.height,T=new Uint8ClampedArray(R*d),re.numComps=1,re.fillGrayBuffer(T),y=0,W=R*d;y<W;++y)T[y]=255-T[y];(R!==F||d!==_)&&(T=f(T,re.bpc,R,d,F,_))}else if(Array.isArray(re)){T=new Uint8ClampedArray(F*_);const b=this.numComps;for(y=0,W=F*_;y<W;++y){let D=0;const J=y*b;for(u=0;u<b;++u){const N=Q[J+u],v=u*2;if(N<re[v]||N>re[v+1]){D=255;break}}T[y]=D}}else throw new n.FormatError("Unknown mask format.");if(T)for(y=0,u=3,W=F*C;y<W;++y,u+=4)k[u]=T[y];else for(y=0,u=3,W=F*C;y<W;++y,u+=4)k[u]=255}undoPreblend(k,F,_){var d;const C=(d=this.smask)==null?void 0:d.matte;if(!C)return;const Q=this.colorSpace.getRgb(C,0),j=Q[0],re=Q[1],T=Q[2],R=F*_*4;for(let y=0;y<R;y+=4){const W=k[y+3];if(W===0){k[y]=255,k[y+1]=255,k[y+2]=255;continue}const u=255/W;k[y]=(k[y]-j)*u+j,k[y+1]=(k[y+1]-re)*u+re,k[y+2]=(k[y+2]-T)*u+T}}async createImageData(k=!1,F=!1){const _=this.drawWidth,C=this.drawHeight,Q={width:_,height:C,interpolate:this.interpolate,kind:0,data:null},j=this.numComps,re=this.width,T=this.height,R=this.bpc,d=re*j*R+7>>3,y=F&&o.ImageResizer.needsToBeResized(_,C);if(!k){let h;if(this.colorSpace.name==="DeviceGray"&&R===1?h=n.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&R===8&&!this.needsDecode&&(h=n.ImageKind.RGB_24BPP),h&&!this.smask&&!this.mask&&_===re&&C===T){const B=this.getImageBytes(T*d,{});if(F)return y?o.ImageResizer.createImage({data:B,kind:h,width:_,height:C,interpolate:this.interpolate},this.needsDecode):this.createBitmap(h,re,T,B);if(Q.kind=h,Q.data=B,this.needsDecode){(0,n.assert)(h===n.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const r=Q.data;for(let A=0,E=r.length;A<E;A++)r[A]^=255}return Q}if(this.image instanceof K.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let B=T*d;if(F&&!y){let r=!1;switch(this.colorSpace.name){case"DeviceGray":B*=4,r=!0;break;case"DeviceRGB":B=B/3*4,r=!0;break;case"DeviceCMYK":r=!0;break}if(r){const A=this.getImageBytes(B,{drawWidth:_,drawHeight:C,forceRGBA:!0});return this.createBitmap(n.ImageKind.RGBA_32BPP,_,C,A)}}else switch(this.colorSpace.name){case"DeviceGray":B*=3;case"DeviceRGB":case"DeviceCMYK":return Q.kind=n.ImageKind.RGB_24BPP,Q.data=this.getImageBytes(B,{drawWidth:_,drawHeight:C,forceRGB:!0}),y?o.ImageResizer.createImage(Q):Q}}}const W=this.getImageBytes(T*d,{internal:!0}),u=0|W.length/d*C/T,b=this.getComponents(W);let D,J,N,v,S,I;if(F&&!y&&(N=new OffscreenCanvas(_,C),v=N.getContext("2d"),S=v.createImageData(_,C),I=S.data),Q.kind=n.ImageKind.RGBA_32BPP,!k&&!this.smask&&!this.mask?(!F||y?(Q.kind=n.ImageKind.RGB_24BPP,I=new Uint8ClampedArray(_*C*3),D=0):(new Uint32Array(I.buffer).fill(n.FeatureTest.isLittleEndian?4278190080:255),D=1),J=!1):((!F||y)&&(I=new Uint8ClampedArray(_*C*4)),D=1,J=!0,this.fillOpacity(I,_,C,u,b)),this.needsDecode&&this.decodeBuffer(b),this.colorSpace.fillRgb(I,re,T,_,C,u,R,b,D),J&&this.undoPreblend(I,_,u),F&&!y){v.putImageData(S,0,0);const h=N.transferToImageBitmap();return{data:null,width:_,height:C,bitmap:h,interpolate:this.interpolate}}return Q.data=I,y?o.ImageResizer.createImage(Q):Q}fillGrayBuffer(k){const F=this.numComps;if(F!==1)throw new n.FormatError(`Reading gray scale from a color image: ${F}`);const _=this.width,C=this.height,Q=this.bpc,j=_*F*Q+7>>3,re=this.getImageBytes(C*j,{internal:!0}),T=this.getComponents(re);let R,d;if(Q===1){if(d=_*C,this.needsDecode)for(R=0;R<d;++R)k[R]=T[R]-1&255;else for(R=0;R<d;++R)k[R]=-T[R]&255;return}this.needsDecode&&this.decodeBuffer(T),d=_*C;const y=255/((1<<Q)-1);for(R=0;R<d;++R)k[R]=y*T[R]}createBitmap(k,F,_,C){const Q=new OffscreenCanvas(F,_),j=Q.getContext("2d");let re;k===n.ImageKind.RGBA_32BPP?re=new ImageData(C,F,_):(re=j.createImageData(F,_),(0,w.convertToRGBA)({kind:k,src:C,dest:new Uint32Array(re.data.buffer),width:F,height:_,inverseDecode:this.needsDecode})),j.putImageData(re,0,0);const T=Q.transferToImageBitmap();return{data:null,width:F,height:_,bitmap:T,interpolate:this.interpolate}}getImageBytes(k,{drawWidth:F,drawHeight:_,forceRGBA:C=!1,forceRGB:Q=!1,internal:j=!1}){this.image.reset(),this.image.drawWidth=F||this.width,this.image.drawHeight=_||this.height,this.image.forceRGBA=!!C,this.image.forceRGB=!!Q;const re=this.image.getBytes(k);return j||this.image instanceof t.DecodeStream?re:((0,n.assert)(re instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(re))}}x.PDFImage=p},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Catalog=void 0;var n=ie(3),w=ie(2),O=ie(4),e=ie(67),t=ie(5),o=ie(68),K=ie(12),H=ie(69),U=ie(59),P=ie(70),f=ie(72);function p(k){return k instanceof O.Dict&&(k=k.get("D")),Array.isArray(k)?k:null}class i{constructor(F,_){if(this.pdfManager=F,this.xref=_,this._catDict=_.getCatalogObj(),!(this._catDict instanceof O.Dict))throw new w.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new O.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new U.GlobalImageCache,this.pageKidsCountCache=new O.RefSetCache,this.pageIndexCache=new O.RefSetCache,this.nonBlendModesSet=new O.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const F=this._catDict.get("Version");if(F instanceof O.Name){if(n.PDF_VERSION_REGEXP.test(F.name))return(0,w.shadow)(this,"version",F.name);(0,w.warn)(`Invalid PDF catalog version: ${F.name}`)}return(0,w.shadow)(this,"version",null)}get lang(){const F=this._catDict.get("Lang");return(0,w.shadow)(this,"lang",typeof F=="string"?(0,w.stringToPDFString)(F):null)}get needsRendering(){const F=this._catDict.get("NeedsRendering");return(0,w.shadow)(this,"needsRendering",typeof F=="boolean"?F:!1)}get collection(){let F=null;try{const _=this._catDict.get("Collection");_ instanceof O.Dict&&_.size>0&&(F=_)}catch(_){if(_ instanceof n.MissingDataException)throw _;(0,w.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,w.shadow)(this,"collection",F)}get acroForm(){let F=null;try{const _=this._catDict.get("AcroForm");_ instanceof O.Dict&&_.size>0&&(F=_)}catch(_){if(_ instanceof n.MissingDataException)throw _;(0,w.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,w.shadow)(this,"acroForm",F)}get acroFormRef(){const F=this._catDict.getRaw("AcroForm");return(0,w.shadow)(this,"acroFormRef",F instanceof O.Ref?F:null)}get metadata(){var C;const F=this._catDict.getRaw("Metadata");if(!(F instanceof O.Ref))return(0,w.shadow)(this,"metadata",null);let _=null;try{const Q=this.xref.fetch(F,!((C=this.xref.encrypt)!=null&&C.encryptMetadata));if(Q instanceof t.BaseStream&&Q.dict instanceof O.Dict){const j=Q.dict.get("Type"),re=Q.dict.get("Subtype");if((0,O.isName)(j,"Metadata")&&(0,O.isName)(re,"XML")){const T=(0,w.stringToUTF8String)(Q.getString());T&&(_=new P.MetadataParser(T).serializable)}}}catch(Q){if(Q instanceof n.MissingDataException)throw Q;(0,w.info)(`Skipping invalid Metadata: "${Q}".`)}return(0,w.shadow)(this,"metadata",_)}get markInfo(){let F=null;try{F=this._readMarkInfo()}catch(_){if(_ instanceof n.MissingDataException)throw _;(0,w.warn)("Unable to read mark info.")}return(0,w.shadow)(this,"markInfo",F)}_readMarkInfo(){const F=this._catDict.get("MarkInfo");if(!(F instanceof O.Dict))return null;const _={Marked:!1,UserProperties:!1,Suspects:!1};for(const C in _){const Q=F.get(C);typeof Q=="boolean"&&(_[C]=Q)}return _}get structTreeRoot(){let F=null;try{F=this._readStructTreeRoot()}catch(_){if(_ instanceof n.MissingDataException)throw _;(0,w.warn)("Unable read to structTreeRoot info.")}return(0,w.shadow)(this,"structTreeRoot",F)}_readStructTreeRoot(){const F=this._catDict.getRaw("StructTreeRoot"),_=this.xref.fetchIfRef(F);if(!(_ instanceof O.Dict))return null;const C=new f.StructTreeRoot(_,F);return C.init(),C}get toplevelPagesDict(){const F=this._catDict.get("Pages");if(!(F instanceof O.Dict))throw new w.FormatError("Invalid top-level pages dictionary.");return(0,w.shadow)(this,"toplevelPagesDict",F)}get documentOutline(){let F=null;try{F=this._readDocumentOutline()}catch(_){if(_ instanceof n.MissingDataException)throw _;(0,w.warn)("Unable to read document outline.")}return(0,w.shadow)(this,"documentOutline",F)}_readDocumentOutline(){let F=this._catDict.get("Outlines");if(!(F instanceof O.Dict)||(F=F.getRaw("First"),!(F instanceof O.Ref)))return null;const _={items:[]},C=[{obj:F,parent:_}],Q=new O.RefSet;Q.put(F);const j=this.xref,re=new Uint8ClampedArray(3);for(;C.length>0;){const T=C.shift(),R=j.fetchIfRef(T.obj);if(R===null)continue;if(!R.has("Title"))throw new w.FormatError("Invalid outline item encountered.");const d={url:null,dest:null,action:null};i.parseDestDictionary({destDict:R,resultObj:d,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const y=R.get("Title"),W=R.get("F")||0,u=R.getArray("C"),b=R.get("Count");let D=re;Array.isArray(u)&&u.length===3&&(u[0]!==0||u[1]!==0||u[2]!==0)&&(D=K.ColorSpace.singletons.rgb.getRgb(u,0));const J={action:d.action,attachment:d.attachment,dest:d.dest,url:d.url,unsafeUrl:d.unsafeUrl,newWindow:d.newWindow,setOCGState:d.setOCGState,title:(0,w.stringToPDFString)(y),color:D,count:Number.isInteger(b)?b:void 0,bold:!!(W&2),italic:!!(W&1),items:[]};T.parent.items.push(J),F=R.getRaw("First"),F instanceof O.Ref&&!Q.has(F)&&(C.push({obj:F,parent:J}),Q.put(F)),F=R.getRaw("Next"),F instanceof O.Ref&&!Q.has(F)&&(C.push({obj:F,parent:T.parent}),Q.put(F))}return _.items.length>0?_.items:null}get permissions(){let F=null;try{F=this._readPermissions()}catch(_){if(_ instanceof n.MissingDataException)throw _;(0,w.warn)("Unable to read permissions.")}return(0,w.shadow)(this,"permissions",F)}_readPermissions(){const F=this.xref.trailer.get("Encrypt");if(!(F instanceof O.Dict))return null;let _=F.get("P");if(typeof _!="number")return null;_+=4294967296;const C=[];for(const Q in w.PermissionFlag){const j=w.PermissionFlag[Q];_&j&&C.push(j)}return C}get optionalContentConfig(){let F=null;try{const _=this._catDict.get("OCProperties");if(!_)return(0,w.shadow)(this,"optionalContentConfig",null);const C=_.get("D");if(!C)return(0,w.shadow)(this,"optionalContentConfig",null);const Q=_.get("OCGs");if(!Array.isArray(Q))return(0,w.shadow)(this,"optionalContentConfig",null);const j=[],re=[];for(const T of Q){if(!(T instanceof O.Ref))continue;re.push(T);const R=this.xref.fetchIfRef(T);j.push({id:T.toString(),name:typeof R.get("Name")=="string"?(0,w.stringToPDFString)(R.get("Name")):null,intent:typeof R.get("Intent")=="string"?(0,w.stringToPDFString)(R.get("Intent")):null})}F=this._readOptionalContentConfig(C,re),F.groups=j}catch(_){if(_ instanceof n.MissingDataException)throw _;(0,w.warn)(`Unable to read optional content config: ${_}`)}return(0,w.shadow)(this,"optionalContentConfig",F)}_readOptionalContentConfig(F,_){function C(d){const y=[];if(Array.isArray(d))for(const W of d)W instanceof O.Ref&&_.includes(W)&&y.push(W.toString());return y}function Q(d,y=0){if(!Array.isArray(d))return null;const W=[];for(const b of d){if(b instanceof O.Ref&&_.includes(b)){T.put(b),W.push(b.toString());continue}const D=j(b,y);D&&W.push(D)}if(y>0)return W;const u=[];for(const b of _)T.has(b)||u.push(b.toString());return u.length&&W.push({name:null,order:u}),W}function j(d,y){if(++y>R)return(0,w.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const W=re.fetchIfRef(d);if(!Array.isArray(W))return null;const u=re.fetchIfRef(W[0]);if(typeof u!="string")return null;const b=Q(W.slice(1),y);return!b||!b.length?null:{name:(0,w.stringToPDFString)(u),order:b}}const re=this.xref,T=new O.RefSet,R=10;return{name:typeof F.get("Name")=="string"?(0,w.stringToPDFString)(F.get("Name")):null,creator:typeof F.get("Creator")=="string"?(0,w.stringToPDFString)(F.get("Creator")):null,baseState:F.get("BaseState")instanceof O.Name?F.get("BaseState").name:null,on:C(F.get("ON")),off:C(F.get("OFF")),order:Q(F.get("Order")),groups:null}}setActualNumPages(F=null){this._actualNumPages=F}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const F=this.toplevelPagesDict.get("Count");if(!Number.isInteger(F))throw new w.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,w.shadow)(this,"_pagesCount",F)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const F=this._readDests(),_=Object.create(null);if(F instanceof e.NameTree)for(const[C,Q]of F.getAll()){const j=p(Q);j&&(_[(0,w.stringToPDFString)(C)]=j)}else F instanceof O.Dict&&F.forEach(function(C,Q){const j=p(Q);j&&(_[C]=j)});return(0,w.shadow)(this,"destinations",_)}getDestination(F){const _=this._readDests();if(_ instanceof e.NameTree){const C=p(_.get(F));if(C)return C;const Q=this.destinations[F];if(Q)return(0,w.warn)(`Found "${F}" at an incorrect position in the NameTree.`),Q}else if(_ instanceof O.Dict){const C=p(_.get(F));if(C)return C}return null}_readDests(){const F=this._catDict.get("Names");if(F!=null&&F.has("Dests"))return new e.NameTree(F.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let F=null;try{F=this._readPageLabels()}catch(_){if(_ instanceof n.MissingDataException)throw _;(0,w.warn)("Unable to read page labels.")}return(0,w.shadow)(this,"pageLabels",F)}_readPageLabels(){const F=this._catDict.getRaw("PageLabels");if(!F)return null;const _=new Array(this.numPages);let C=null,Q="";const re=new e.NumberTree(F,this.xref).getAll();let T="",R=1;for(let d=0,y=this.numPages;d<y;d++){const W=re.get(d);if(W!==void 0){if(!(W instanceof O.Dict))throw new w.FormatError("PageLabel is not a dictionary.");if(W.has("Type")&&!(0,O.isName)(W.get("Type"),"PageLabel"))throw new w.FormatError("Invalid type in PageLabel dictionary.");if(W.has("S")){const u=W.get("S");if(!(u instanceof O.Name))throw new w.FormatError("Invalid style in PageLabel dictionary.");C=u.name}else C=null;if(W.has("P")){const u=W.get("P");if(typeof u!="string")throw new w.FormatError("Invalid prefix in PageLabel dictionary.");Q=(0,w.stringToPDFString)(u)}else Q="";if(W.has("St")){const u=W.get("St");if(!(Number.isInteger(u)&&u>=1))throw new w.FormatError("Invalid start in PageLabel dictionary.");R=u}else R=1}switch(C){case"D":T=R;break;case"R":case"r":T=(0,n.toRomanNumerals)(R,C==="r");break;case"A":case"a":const u=26,J=C==="a"?97:65,N=R-1;T=String.fromCharCode(J+N%u).repeat(Math.floor(N/u)+1);break;default:if(C)throw new w.FormatError(`Invalid style "${C}" in PageLabel dictionary.`);T=""}_[d]=Q+T,R++}return _}get pageLayout(){const F=this._catDict.get("PageLayout");let _="";if(F instanceof O.Name)switch(F.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":_=F.name}return(0,w.shadow)(this,"pageLayout",_)}get pageMode(){const F=this._catDict.get("PageMode");let _="UseNone";if(F instanceof O.Name)switch(F.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":_=F.name}return(0,w.shadow)(this,"pageMode",_)}get viewerPreferences(){const F=this._catDict.get("ViewerPreferences");if(!(F instanceof O.Dict))return(0,w.shadow)(this,"viewerPreferences",null);let _=null;for(const C of F.getKeys()){const Q=F.get(C);let j;switch(C){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof Q=="boolean"&&(j=Q);break;case"NonFullScreenPageMode":if(Q instanceof O.Name)switch(Q.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":j=Q.name;break;default:j="UseNone"}break;case"Direction":if(Q instanceof O.Name)switch(Q.name){case"L2R":case"R2L":j=Q.name;break;default:j="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(Q instanceof O.Name)switch(Q.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":j=Q.name;break;default:j="CropBox"}break;case"PrintScaling":if(Q instanceof O.Name)switch(Q.name){case"None":case"AppDefault":j=Q.name;break;default:j="AppDefault"}break;case"Duplex":if(Q instanceof O.Name)switch(Q.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":j=Q.name;break;default:j="None"}break;case"PrintPageRange":Array.isArray(Q)&&Q.length%2===0&&Q.every((T,R,d)=>Number.isInteger(T)&&T>0&&(R===0||T>=d[R-1])&&T<=this.numPages)&&(j=Q);break;case"NumCopies":Number.isInteger(Q)&&Q>0&&(j=Q);break;default:(0,w.warn)(`Ignoring non-standard key in ViewerPreferences: ${C}.`);continue}if(j===void 0){(0,w.warn)(`Bad value, for key "${C}", in ViewerPreferences: ${Q}.`);continue}_||(_=Object.create(null)),_[C]=j}return(0,w.shadow)(this,"viewerPreferences",_)}get openAction(){const F=this._catDict.get("OpenAction"),_=Object.create(null);if(F instanceof O.Dict){const C=new O.Dict(this.xref);C.set("A",F);const Q={url:null,dest:null,action:null};i.parseDestDictionary({destDict:C,resultObj:Q}),Array.isArray(Q.dest)?_.dest=Q.dest:Q.action&&(_.action=Q.action)}else Array.isArray(F)&&(_.dest=F);return(0,w.shadow)(this,"openAction",(0,w.objectSize)(_)>0?_:null)}get attachments(){const F=this._catDict.get("Names");let _=null;if(F instanceof O.Dict&&F.has("EmbeddedFiles")){const C=new e.NameTree(F.getRaw("EmbeddedFiles"),this.xref);for(const[Q,j]of C.getAll()){const re=new H.FileSpec(j,this.xref);_||(_=Object.create(null)),_[(0,w.stringToPDFString)(Q)]=re.serializable}}return(0,w.shadow)(this,"attachments",_)}get xfaImages(){const F=this._catDict.get("Names");let _=null;if(F instanceof O.Dict&&F.has("XFAImages")){const C=new e.NameTree(F.getRaw("XFAImages"),this.xref);for(const[Q,j]of C.getAll())_||(_=new O.Dict(this.xref)),_.set((0,w.stringToPDFString)(Q),j)}return(0,w.shadow)(this,"xfaImages",_)}_collectJavaScript(){const F=this._catDict.get("Names");let _=null;function C(j,re){if(!(re instanceof O.Dict)||!(0,O.isName)(re.get("S"),"JavaScript"))return;let T=re.get("JS");if(T instanceof t.BaseStream)T=T.getString();else if(typeof T!="string")return;T=(0,w.stringToPDFString)(T).replaceAll("\0",""),T&&(_||(_=new Map)).set(j,T)}if(F instanceof O.Dict&&F.has("JavaScript")){const j=new e.NameTree(F.getRaw("JavaScript"),this.xref);for(const[re,T]of j.getAll())C((0,w.stringToPDFString)(re),T)}const Q=this._catDict.get("OpenAction");return Q&&C("OpenAction",Q),_}get jsActions(){const F=this._collectJavaScript();let _=(0,n.collectActions)(this.xref,this._catDict,w.DocumentActionEventType);if(F){_||(_=Object.create(null));for(const[C,Q]of F)C in _?_[C].push(Q):_[C]=[Q]}return(0,w.shadow)(this,"jsActions",_)}async fontFallback(F,_){const C=await Promise.all(this.fontCache);for(const Q of C)if(Q.loadedName===F){Q.fallback(_);return}}async cleanup(F=!1){(0,o.clearGlobalCaches)(),this.globalImageCache.clear(F),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const _=await Promise.all(this.fontCache);for(const{dict:C}of _)delete C.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(F){const _=[this.toplevelPagesDict],C=new O.RefSet,Q=this._catDict.getRaw("Pages");Q instanceof O.Ref&&C.put(Q);const j=this.xref,re=this.pageKidsCountCache,T=this.pageIndexCache;let R=0;for(;_.length;){const d=_.pop();if(d instanceof O.Ref){const b=re.get(d);if(b>=0&&R+b<=F){R+=b;continue}if(C.has(d))throw new w.FormatError("Pages tree contains circular reference.");C.put(d);const D=await j.fetchAsync(d);if(D instanceof O.Dict){let J=D.getRaw("Type");if(J instanceof O.Ref&&(J=await j.fetchAsync(J)),(0,O.isName)(J,"Page")||!D.has("Kids")){if(re.has(d)||re.put(d,1),T.has(d)||T.put(d,R),R===F)return[D,d];R++;continue}}_.push(D);continue}if(!(d instanceof O.Dict))throw new w.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:y}=d;let W=d.getRaw("Count");if(W instanceof O.Ref&&(W=await j.fetchAsync(W)),Number.isInteger(W)&&W>=0&&(y&&!re.has(y)&&re.put(y,W),R+W<=F)){R+=W;continue}let u=d.getRaw("Kids");if(u instanceof O.Ref&&(u=await j.fetchAsync(u)),!Array.isArray(u)){let b=d.getRaw("Type");if(b instanceof O.Ref&&(b=await j.fetchAsync(b)),(0,O.isName)(b,"Page")||!d.has("Kids")){if(R===F)return[d,null];R++;continue}throw new w.FormatError("Page dictionary kids object is not an array.")}for(let b=u.length-1;b>=0;b--)_.push(u[b])}throw new Error(`Page index ${F} not found.`)}async getAllPageDicts(F=!1){const{ignoreErrors:_}=this.pdfManager.evaluatorOptions,C=[{currentNode:this.toplevelPagesDict,posInKids:0}],Q=new O.RefSet,j=this._catDict.getRaw("Pages");j instanceof O.Ref&&Q.put(j);const re=new Map,T=this.xref,R=this.pageIndexCache;let d=0;function y(u,b){b&&!R.has(b)&&R.put(b,d),re.set(d++,[u,b])}function W(u){if(u instanceof n.XRefEntryException&&!F)throw u;F&&_&&d===0&&((0,w.warn)(`getAllPageDicts - Skipping invalid first page: "${u}".`),u=O.Dict.empty),re.set(d++,[u,null])}for(;C.length>0;){const u=C.at(-1),{currentNode:b,posInKids:D}=u;let J=b.getRaw("Kids");if(J instanceof O.Ref)try{J=await T.fetchAsync(J)}catch(I){W(I);break}if(!Array.isArray(J)){W(new w.FormatError("Page dictionary kids object is not an array."));break}if(D>=J.length){C.pop();continue}const N=J[D];let v;if(N instanceof O.Ref){if(Q.has(N)){W(new w.FormatError("Pages tree contains circular reference."));break}Q.put(N);try{v=await T.fetchAsync(N)}catch(I){W(I);break}}else v=N;if(!(v instanceof O.Dict)){W(new w.FormatError("Page dictionary kid reference points to wrong type of object."));break}let S=v.getRaw("Type");if(S instanceof O.Ref)try{S=await T.fetchAsync(S)}catch(I){W(I);break}(0,O.isName)(S,"Page")||!v.has("Kids")?y(v,N instanceof O.Ref?N:null):C.push({currentNode:v,posInKids:0}),u.posInKids++}return re}getPageIndex(F){const _=this.pageIndexCache.get(F);if(_!==void 0)return Promise.resolve(_);const C=this.xref;function Q(T){let R=0,d;return C.fetchAsync(T).then(function(y){if((0,O.isRefsEqual)(T,F)&&!(0,O.isDict)(y,"Page")&&!(y instanceof O.Dict&&!y.has("Type")&&y.has("Contents")))throw new w.FormatError("The reference does not point to a /Page dictionary.");if(!y)return null;if(!(y instanceof O.Dict))throw new w.FormatError("Node must be a dictionary.");return d=y.getRaw("Parent"),y.getAsync("Parent")}).then(function(y){if(!y)return null;if(!(y instanceof O.Dict))throw new w.FormatError("Parent must be a dictionary.");return y.getAsync("Kids")}).then(function(y){if(!y)return null;const W=[];let u=!1;for(const b of y){if(!(b instanceof O.Ref))throw new w.FormatError("Kid must be a reference.");if((0,O.isRefsEqual)(b,T)){u=!0;break}W.push(C.fetchAsync(b).then(function(D){if(!(D instanceof O.Dict))throw new w.FormatError("Kid node must be a dictionary.");D.has("Count")?R+=D.get("Count"):R++}))}if(!u)throw new w.FormatError("Kid reference not found in parent's kids.");return Promise.all(W).then(function(){return[R,d]})})}let j=0;const re=T=>Q(T).then(R=>{if(!R)return this.pageIndexCache.put(F,j),j;const[d,y]=R;return j+=d,re(y)});return re(F)}get baseUrl(){const F=this._catDict.get("URI");if(F instanceof O.Dict){const _=F.get("Base");if(typeof _=="string"){const C=(0,w.createValidAbsoluteUrl)(_,null,{tryConvertEncoding:!0});if(C)return(0,w.shadow)(this,"baseUrl",C.href)}}return(0,w.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:F,resultObj:_,docBaseUrl:C=null,docAttachments:Q=null}){if(!(F instanceof O.Dict)){(0,w.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let j=F.get("A"),re,T;if(j instanceof O.Dict||(F.has("Dest")?j=F.get("Dest"):(j=F.get("AA"),j instanceof O.Dict&&(j.has("D")?j=j.get("D"):j.has("U")&&(j=j.get("U"))))),j instanceof O.Dict){const R=j.get("S");if(!(R instanceof O.Name)){(0,w.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const d=R.name;switch(d){case"ResetForm":const y=j.get("Flags"),W=((typeof y=="number"?y:0)&1)===0,u=[],b=[];for(const se of j.get("Fields")||[])se instanceof O.Ref?b.push(se.toString()):typeof se=="string"&&u.push((0,w.stringToPDFString)(se));_.resetForm={fields:u,refs:b,include:W};break;case"URI":re=j.get("URI"),re instanceof O.Name&&(re="/"+re.name);break;case"GoTo":T=j.get("D");break;case"Launch":case"GoToR":const D=j.get("F");D instanceof O.Dict?re=D.get("F")||null:typeof D=="string"&&(re=D);let J=j.get("D");if(J&&(J instanceof O.Name&&(J=J.name),typeof re=="string")){const se=re.split("#")[0];typeof J=="string"?re=se+"#"+J:Array.isArray(J)&&(re=se+"#"+JSON.stringify(J))}const N=j.get("NewWindow");typeof N=="boolean"&&(_.newWindow=N);break;case"GoToE":const v=j.get("T");let S;if(Q&&v instanceof O.Dict){const se=v.get("R"),Ae=v.get("N");(0,O.isName)(se,"C")&&typeof Ae=="string"&&(S=Q[(0,w.stringToPDFString)(Ae)])}S?_.attachment=S:(0,w.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const I=j.get("N");I instanceof O.Name&&(_.action=I.name);break;case"SetOCGState":const h=j.get("State"),B=j.get("PreserveRB");if(!Array.isArray(h)||h.length===0)break;const r=[];for(const se of h)if(se instanceof O.Name)switch(se.name){case"ON":case"OFF":case"Toggle":r.push(se.name);break}else se instanceof O.Ref&&r.push(se.toString());if(r.length!==h.length)break;_.setOCGState={state:r,preserveRB:typeof B=="boolean"?B:!0};break;case"JavaScript":const A=j.get("JS");let E;A instanceof t.BaseStream?E=A.getString():typeof A=="string"&&(E=A);const G=E&&(0,n.recoverJsURL)((0,w.stringToPDFString)(E));if(G){re=G.url,_.newWindow=G.newWindow;break}default:if(d==="JavaScript"||d==="SubmitForm")break;(0,w.warn)(`parseDestDictionary - unsupported action: "${d}".`);break}}else F.has("Dest")&&(T=F.get("Dest"));if(typeof re=="string"){const R=(0,w.createValidAbsoluteUrl)(re,C,{addDefaultProtocol:!0,tryConvertEncoding:!0});R&&(_.url=R.href),_.unsafeUrl=re}T&&(T instanceof O.Name&&(T=T.name),typeof T=="string"?_.dest=(0,w.stringToPDFString)(T):Array.isArray(T)&&(_.dest=T))}}x.Catalog=i},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.NumberTree=x.NameTree=void 0;var n=ie(4),w=ie(2);class O{constructor(K,H,U){this.constructor===O&&(0,w.unreachable)("Cannot initialize NameOrNumberTree."),this.root=K,this.xref=H,this._type=U}getAll(){const K=new Map;if(!this.root)return K;const H=this.xref,U=new n.RefSet;U.put(this.root);const P=[this.root];for(;P.length>0;){const f=H.fetchIfRef(P.shift());if(!(f instanceof n.Dict))continue;if(f.has("Kids")){const i=f.get("Kids");if(!Array.isArray(i))continue;for(const k of i){if(U.has(k))throw new w.FormatError(`Duplicate entry in "${this._type}" tree.`);P.push(k),U.put(k)}continue}const p=f.get(this._type);if(Array.isArray(p))for(let i=0,k=p.length;i<k;i+=2)K.set(H.fetchIfRef(p[i]),H.fetchIfRef(p[i+1]))}return K}get(K){if(!this.root)return null;const H=this.xref;let U=H.fetchIfRef(this.root),P=0;const f=10;for(;U.has("Kids");){if(++P>f)return(0,w.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const i=U.get("Kids");if(!Array.isArray(i))return null;let k=0,F=i.length-1;for(;k<=F;){const _=k+F>>1,C=H.fetchIfRef(i[_]),Q=C.get("Limits");if(K<H.fetchIfRef(Q[0]))F=_-1;else if(K>H.fetchIfRef(Q[1]))k=_+1;else{U=C;break}}if(k>F)return null}const p=U.get(this._type);if(Array.isArray(p)){let i=0,k=p.length-2;for(;i<=k;){const F=i+k>>1,_=F+(F&1),C=H.fetchIfRef(p[_]);if(K<C)k=_-2;else if(K>C)i=_+2;else return H.fetchIfRef(p[_+1])}}return null}}class e extends O{constructor(K,H){super(K,H,"Names")}}x.NameTree=e;class t extends O{constructor(K,H){super(K,H,"Nums")}}x.NumberTree=t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.clearGlobalCaches=e;var n=ie(50),w=ie(4),O=ie(40);function e(){(0,n.clearPatternCaches)(),(0,w.clearPrimitiveCaches)(),(0,O.clearUnicodeCaches)()}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FileSpec=void 0;var n=ie(2),w=ie(5),O=ie(4);function e(o){return o.has("UF")?o.get("UF"):o.has("F")?o.get("F"):o.has("Unix")?o.get("Unix"):o.has("Mac")?o.get("Mac"):o.has("DOS")?o.get("DOS"):null}class t{constructor(K,H){K instanceof O.Dict&&(this.xref=H,this.root=K,K.has("FS")&&(this.fs=K.get("FS")),this.description=K.has("Desc")?(0,n.stringToPDFString)(K.get("Desc")):"",K.has("RF")&&(0,n.warn)("Related file specifications are not supported"),this.contentAvailable=!0,K.has("EF")||(this.contentAvailable=!1,(0,n.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const K=e(this.root)||"unnamed";this._filename=(0,n.stringToPDFString)(K).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=e(this.root.get("EF")));let K=null;if(this.contentRef){const H=this.xref.fetchIfRef(this.contentRef);H instanceof w.BaseStream?K=H.getBytes():(0,n.warn)("Embedded file specification points to non-existing/invalid content")}else(0,n.warn)("Embedded file specification does not have a content");return K}get serializable(){return{filename:this.filename,content:this.content}}}x.FileSpec=t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.MetadataParser=void 0;var n=ie(71);class w{constructor(e){e=this._repair(e);const o=new n.SimpleXMLParser({lowerCaseName:!0}).parseFromString(e);this._metadataMap=new Map,this._data=e,o&&this._parse(o)}_repair(e){return e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(t,o){const K=o.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(U,P,f,p){return String.fromCharCode(P*64+f*8+p*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(U,P){switch(P){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${P} isn't defined.`)}),H=[">"];for(let U=0,P=K.length;U<P;U+=2){const f=K.charCodeAt(U)*256+K.charCodeAt(U+1);f>=32&&f<127&&f!==60&&f!==62&&f!==38?H.push(String.fromCharCode(f)):H.push("&#x"+(65536+f).toString(16).substring(1)+";")}return H.join("")})}_getSequence(e){const t=e.nodeName;return t!=="rdf:bag"&&t!=="rdf:seq"&&t!=="rdf:alt"?null:e.childNodes.filter(o=>o.nodeName==="rdf:li")}_parseArray(e){if(!e.hasChildNodes())return;const[t]=e.childNodes,o=this._getSequence(t)||[];this._metadataMap.set(e.nodeName,o.map(K=>K.textContent.trim()))}_parse(e){let t=e.documentElement;if(t.nodeName!=="rdf:rdf")for(t=t.firstChild;t&&t.nodeName!=="rdf:rdf";)t=t.nextSibling;if(!(!t||t.nodeName!=="rdf:rdf"||!t.hasChildNodes())){for(const o of t.childNodes)if(o.nodeName==="rdf:description")for(const K of o.childNodes){const H=K.nodeName;switch(H){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(K);continue}this._metadataMap.set(H,K.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}x.MetadataParser=w},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XMLParserErrorCode=x.XMLParserBase=x.SimpleXMLParser=x.SimpleDOMNode=void 0;var n=ie(3);const w={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};x.XMLParserErrorCode=w;function O(H,U){const P=H[U];return P===" "||P===`
`||P==="\r"||P==="	"}function e(H){for(let U=0,P=H.length;U<P;U++)if(!O(H,U))return!1;return!0}class t{_resolveEntities(U){return U.replaceAll(/&([^;]+);/g,(P,f)=>{if(f.substring(0,2)==="#x")return String.fromCodePoint(parseInt(f.substring(2),16));if(f.substring(0,1)==="#")return String.fromCodePoint(parseInt(f.substring(1),10));switch(f){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(f)})}_parseContent(U,P){const f=[];let p=P;function i(){for(;p<U.length&&O(U,p);)++p}for(;p<U.length&&!O(U,p)&&U[p]!==">"&&U[p]!=="/";)++p;const k=U.substring(P,p);for(i();p<U.length&&U[p]!==">"&&U[p]!=="/"&&U[p]!=="?";){i();let F="",_="";for(;p<U.length&&!O(U,p)&&U[p]!=="=";)F+=U[p],++p;if(i(),U[p]!=="=")return null;++p,i();const C=U[p];if(C!=='"'&&C!=="'")return null;const Q=U.indexOf(C,++p);if(Q<0)return null;_=U.substring(p,Q),f.push({name:F,value:this._resolveEntities(_)}),p=Q+1,i()}return{name:k,attributes:f,parsed:p-P}}_parseProcessingInstruction(U,P){let f=P;function p(){for(;f<U.length&&O(U,f);)++f}for(;f<U.length&&!O(U,f)&&U[f]!==">"&&U[f]!=="?"&&U[f]!=="/";)++f;const i=U.substring(P,f);p();const k=f;for(;f<U.length&&(U[f]!=="?"||U[f+1]!==">");)++f;const F=U.substring(k,f);return{name:i,value:F,parsed:f-P}}parseXml(U){let P=0;for(;P<U.length;){const f=U[P];let p=P;if(f==="<"){++p;const i=U[p];let k;switch(i){case"/":if(++p,k=U.indexOf(">",p),k<0){this.onError(w.UnterminatedElement);return}this.onEndElement(U.substring(p,k)),p=k+1;break;case"?":++p;const F=this._parseProcessingInstruction(U,p);if(U.substring(p+F.parsed,p+F.parsed+2)!=="?>"){this.onError(w.UnterminatedXmlDeclaration);return}this.onPi(F.name,F.value),p+=F.parsed+2;break;case"!":if(U.substring(p+1,p+3)==="--"){if(k=U.indexOf("-->",p+3),k<0){this.onError(w.UnterminatedComment);return}this.onComment(U.substring(p+3,k)),p=k+3}else if(U.substring(p+1,p+8)==="[CDATA["){if(k=U.indexOf("]]>",p+8),k<0){this.onError(w.UnterminatedCdat);return}this.onCdata(U.substring(p+8,k)),p=k+3}else if(U.substring(p+1,p+8)==="DOCTYPE"){const Q=U.indexOf("[",p+8);let j=!1;if(k=U.indexOf(">",p+8),k<0){this.onError(w.UnterminatedDoctypeDeclaration);return}if(Q>0&&k>Q){if(k=U.indexOf("]>",p+8),k<0){this.onError(w.UnterminatedDoctypeDeclaration);return}j=!0}const re=U.substring(p+8,k+(j?1:0));this.onDoctype(re),p=k+(j?2:1)}else{this.onError(w.MalformedElement);return}break;default:const _=this._parseContent(U,p);if(_===null){this.onError(w.MalformedElement);return}let C=!1;if(U.substring(p+_.parsed,p+_.parsed+2)==="/>")C=!0;else if(U.substring(p+_.parsed,p+_.parsed+1)!==">"){this.onError(w.UnterminatedElement);return}this.onBeginElement(_.name,_.attributes,C),p+=_.parsed+(C?2:1);break}}else{for(;p<U.length&&U[p]!=="<";)p++;const i=U.substring(P,p);this.onText(this._resolveEntities(i))}P=p}}onResolveEntity(U){return`&${U};`}onPi(U,P){}onComment(U){}onCdata(U){}onDoctype(U){}onText(U){}onBeginElement(U,P,f){}onEndElement(U){}onError(U){}}x.XMLParserBase=t;class o{constructor(U,P){this.nodeName=U,this.nodeValue=P,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var U;return(U=this.childNodes)==null?void 0:U[0]}get nextSibling(){const U=this.parentNode.childNodes;if(!U)return;const P=U.indexOf(this);if(P!==-1)return U[P+1]}get textContent(){return this.childNodes?this.childNodes.map(function(U){return U.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var U;return((U=this.childNodes)==null?void 0:U.length)>0}searchNode(U,P){var k;if(P>=U.length)return this;const f=U[P];if(f.name.startsWith("#")&&P<U.length-1)return this.searchNode(U,P+1);const p=[];let i=this;for(;;){if(f.name===i.nodeName)if(f.pos===0){const F=i.searchNode(U,P+1);if(F!==null)return F}else{if(p.length===0)return null;{const[F]=p.pop();let _=0;for(const C of F.childNodes)if(f.name===C.nodeName){if(_===f.pos)return C.searchNode(U,P+1);_++}return i.searchNode(U,P+1)}}if(((k=i.childNodes)==null?void 0:k.length)>0)p.push([i,0]),i=i.childNodes[0];else{if(p.length===0)return null;for(;p.length!==0;){const[F,_]=p.pop(),C=_+1;if(C<F.childNodes.length){p.push([F,C]),i=F.childNodes[C];break}}if(p.length===0)return null}}}dump(U){if(this.nodeName==="#text"){U.push((0,n.encodeToXmlString)(this.nodeValue));return}if(U.push(`<${this.nodeName}`),this.attributes)for(const P of this.attributes)U.push(` ${P.name}="${(0,n.encodeToXmlString)(P.value)}"`);if(this.hasChildNodes()){U.push(">");for(const P of this.childNodes)P.dump(U);U.push(`</${this.nodeName}>`)}else this.nodeValue?U.push(`>${(0,n.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):U.push("/>")}}x.SimpleDOMNode=o;class K extends t{constructor({hasAttributes:U=!1,lowerCaseName:P=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=w.NoError,this._hasAttributes=U,this._lowerCaseName=P}parseFromString(U){if(this._currentFragment=[],this._stack=[],this._errorCode=w.NoError,this.parseXml(U),this._errorCode!==w.NoError)return;const[P]=this._currentFragment;if(P)return{documentElement:P}}onText(U){if(e(U))return;const P=new o("#text",U);this._currentFragment.push(P)}onCdata(U){const P=new o("#text",U);this._currentFragment.push(P)}onBeginElement(U,P,f){this._lowerCaseName&&(U=U.toLowerCase());const p=new o(U);p.childNodes=[],this._hasAttributes&&(p.attributes=P),this._currentFragment.push(p),!f&&(this._stack.push(this._currentFragment),this._currentFragment=p.childNodes)}onEndElement(U){this._currentFragment=this._stack.pop()||[];const P=this._currentFragment.at(-1);if(!P)return null;for(const f of P.childNodes)f.parentNode=P;return P}onError(U){this._errorCode=U}}x.SimpleXMLParser=K},(Pe,x,ie)=>{var f,od,i,X0,F,Ad,C,cd;Object.defineProperty(x,"__esModule",{value:!0}),x.StructTreeRoot=x.StructTreePage=void 0;var n=ie(2),w=ie(4),O=ie(67),e=ie(73);const t=40,o={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5},j=class j{constructor(T,R){At(this,f);this.dict=T,this.ref=R instanceof w.Ref?R:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(T,R){ht(this,f,od).call(this,T,R,o.ANNOTATION)}readRoleMap(){const T=this.dict.get("RoleMap");T instanceof w.Dict&&T.forEach((R,d)=>{d instanceof w.Name&&this.roleMap.set(R,d.name)})}static async canCreateStructureTree({catalogRef:T,pdfManager:R,newAnnotationsByPage:d}){var u;if(!(T instanceof w.Ref))return(0,n.warn)("Cannot save the struct tree: no catalog reference."),!1;let y=0,W=!0;for(const[b,D]of d){const{ref:J}=await R.getPage(b);if(!(J instanceof w.Ref)){(0,n.warn)(`Cannot save the struct tree: page ${b} has no ref.`),W=!0;break}for(const N of D)(u=N.accessibilityData)!=null&&u.type&&(N.parentTreeId=y++,W=!1)}if(W){for(const b of d.values())for(const D of b)delete D.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:T,xref:R,catalogRef:d,pdfManager:y,newRefs:W}){const u=y.catalog.cloneDict(),b=R.getNewTemporaryRef();u.set("StructTreeRoot",b);const D=[];await(0,e.writeObject)(d,u,D,R),W.push({ref:d,data:D.join("")});const J=new w.Dict(R);J.set("Type",w.Name.get("StructTreeRoot"));const N=R.getNewTemporaryRef();J.set("ParentTree",N);const v=[];J.set("K",v);const S=new w.Dict(R),I=[];S.set("Nums",I);const h=await ht(this,i,X0).call(this,{newAnnotationsByPage:T,structTreeRootRef:b,kids:v,nums:I,xref:R,pdfManager:y,newRefs:W,buffer:D});J.set("ParentTreeNextKey",h),D.length=0,await(0,e.writeObject)(N,S,D,R),W.push({ref:N,data:D.join("")}),D.length=0,await(0,e.writeObject)(b,J,D,R),W.push({ref:b,data:D.join("")})}async canUpdateStructTree({pdfManager:T,newAnnotationsByPage:R}){var D,J;if(!this.ref)return(0,n.warn)("Cannot update the struct tree: no root reference."),!1;let d=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(d)||d<0)return(0,n.warn)("Cannot update the struct tree: invalid next key."),!1;const y=this.dict.get("ParentTree");if(!(y instanceof w.Dict))return(0,n.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const W=y.get("Nums");if(!Array.isArray(W))return(0,n.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:u}=T.catalog;for(const N of R.keys()){const{pageDict:v,ref:S}=await T.getPage(N);if(!(S instanceof w.Ref))return(0,n.warn)(`Cannot save the struct tree: page ${N} has no ref.`),!1;const I=v.get("StructParents");if(!Number.isInteger(I)||I<0||I>=u)return(0,n.warn)(`Cannot save the struct tree: page ${N} has no id.`),!1}let b=!0;for(const[N,v]of R){const{pageDict:S}=await T.getPage(N);ht(D=j,F,Ad).call(D,{elements:v,xref:this.dict.xref,pageDict:S,parentTree:y});for(const I of v)(J=I.accessibilityData)!=null&&J.type&&(I.parentTreeId=d++,b=!1)}if(b){for(const N of R.values())for(const v of N)delete v.parentTreeId,delete v.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:T,pdfManager:R,newRefs:d}){var B;const y=this.dict.xref,W=this.dict.clone(),u=this.ref;let b=W.getRaw("ParentTree"),D;b instanceof w.Ref?D=y.fetch(b):(D=b,b=y.getNewTemporaryRef(),W.set("ParentTree",b)),D=D.clone();let J=D.getRaw("Nums"),N=null;J instanceof w.Ref&&(N=J,J=y.fetch(N)),J=J.slice(),N||D.set("Nums",J);let v=W.getRaw("K"),S=null;v instanceof w.Ref?(S=v,v=y.fetch(S)):(S=y.getNewTemporaryRef(),W.set("K",S)),v=Array.isArray(v)?v.slice():[v];const I=[],h=await ht(B=j,i,X0).call(B,{newAnnotationsByPage:T,structTreeRootRef:u,kids:v,nums:J,xref:y,pdfManager:R,newRefs:d,buffer:I});W.set("ParentTreeNextKey",h),I.length=0,await(0,e.writeObject)(S,v,I,y),d.push({ref:S,data:I.join("")}),N&&(I.length=0,await(0,e.writeObject)(N,J,I,y),d.push({ref:N,data:I.join("")})),I.length=0,await(0,e.writeObject)(b,D,I,y),d.push({ref:b,data:I.join("")}),I.length=0,await(0,e.writeObject)(u,W,I,y),d.push({ref:u,data:I.join("")})}};f=new WeakSet,od=function(T,R,d){if(!(T instanceof w.Ref)||R<0)return;this.structParentIds||(this.structParentIds=new w.RefSetCache);let y=this.structParentIds.get(T);y||(y=[],this.structParentIds.put(T,y)),y.push([R,d])},i=new WeakSet,X0=async function({newAnnotationsByPage:T,structTreeRootRef:R,kids:d,nums:y,xref:W,pdfManager:u,newRefs:b,buffer:D}){const J=w.Name.get("OBJR");let N=-1/0;for(const[v,S]of T){const{ref:I}=await u.getPage(v);for(const{accessibilityData:{type:h,title:B,lang:r,alt:A,expanded:E,actualText:G},ref:se,parentTreeId:Ae,structTreeParent:ke}of S){N=Math.max(N,Ae);const de=W.getNewTemporaryRef(),Ie=new w.Dict(W);Ie.set("S",w.Name.get(h)),B&&Ie.set("T",B),r&&Ie.set("Lang",r),A&&Ie.set("Alt",A),E&&Ie.set("E",E),G&&Ie.set("ActualText",G),ke?await ht(this,C,cd).call(this,{structTreeParent:ke,tagDict:Ie,newTagRef:de,fallbackRef:R,xref:W,newRefs:b,buffer:D}):Ie.set("P",R);const ge=new w.Dict(W);Ie.set("K",ge),ge.set("Type",J),ge.set("Pg",I),ge.set("Obj",se),D.length=0,await(0,e.writeObject)(de,Ie,D,W),b.push({ref:de,data:D.join("")}),y.push(Ae,de),d.push(de)}}return N+1},F=new WeakSet,Ad=function({elements:T,xref:R,pageDict:d,parentTree:y}){const W=new Map;for(const N of T)if(N.structTreeParentId){const v=parseInt(N.structTreeParentId.split("_mc")[1],10);W.set(v,N)}const u=d.get("StructParents"),D=new O.NumberTree(y,R).get(u);if(!Array.isArray(D))return;const J=(N,v,S)=>{const I=W.get(N);if(I){const h=v.getRaw("P"),B=R.fetchIfRef(h);return h instanceof w.Ref&&B instanceof w.Dict&&(I.structTreeParent={ref:S,dict:v}),!0}return!1};for(const N of D){if(!(N instanceof w.Ref))continue;const v=R.fetch(N),S=v.get("K");if(Number.isInteger(S)){J(S,v,N);continue}if(Array.isArray(S)){for(let I of S)if(I=R.fetchIfRef(I),Number.isInteger(I)&&J(I,v,N))break}}},C=new WeakSet,cd=async function({structTreeParent:{ref:T,dict:R},tagDict:d,newTagRef:y,fallbackRef:W,xref:u,newRefs:b,buffer:D}){const J=R.getRaw("P");let N=u.fetchIfRef(J);d.set("P",J);let v=!1,S,I=N.getRaw("K");if(I instanceof w.Ref?S=u.fetch(I):(S=I,I=u.getNewTemporaryRef(),N=N.clone(),N.set("K",I),v=!0),Array.isArray(S)){const h=S.indexOf(T);if(h>=0)S=S.slice(),S.splice(h+1,0,y);else{(0,n.warn)("Cannot update the struct tree: parent kid not found."),d.set("P",W);return}}else S instanceof w.Dict&&(S=[I,y],I=u.getNewTemporaryRef(),N.set("K",I),v=!0);D.length=0,await(0,e.writeObject)(I,S,D,u),b.push({ref:I,data:D.join("")}),v&&(D.length=0,await(0,e.writeObject)(J,N,D,u),b.push({ref:J,data:D.join("")}))},At(j,i),At(j,F),At(j,C);let K=j;x.StructTreeRoot=K;class H{constructor(T,R){this.tree=T,this.dict=R,this.kids=[],this.parseKids()}get role(){const T=this.dict.get("S"),R=T instanceof w.Name?T.name:"",{root:d}=this.tree;return d.roleMap.has(R)?d.roleMap.get(R):R}parseKids(){let T=null;const R=this.dict.getRaw("Pg");R instanceof w.Ref&&(T=R.toString());const d=this.dict.get("K");if(Array.isArray(d))for(const y of d){const W=this.parseKid(T,y);W&&this.kids.push(W)}else{const y=this.parseKid(T,d);y&&this.kids.push(y)}}parseKid(T,R){if(Number.isInteger(R))return this.tree.pageDict.objId!==T?null:new U({type:o.PAGE_CONTENT,mcid:R,pageObjId:T});let d=null;if(R instanceof w.Ref?d=this.dict.xref.fetch(R):R instanceof w.Dict&&(d=R),!d)return null;const y=d.getRaw("Pg");y instanceof w.Ref&&(T=y.toString());const W=d.get("Type")instanceof w.Name?d.get("Type").name:null;if(W==="MCR"){if(this.tree.pageDict.objId!==T)return null;const u=d.getRaw("Stm");return new U({type:o.STREAM_CONTENT,refObjId:u instanceof w.Ref?u.toString():null,pageObjId:T,mcid:d.get("MCID")})}if(W==="OBJR"){if(this.tree.pageDict.objId!==T)return null;const u=d.getRaw("Obj");return new U({type:o.OBJECT,refObjId:u instanceof w.Ref?u.toString():null,pageObjId:T})}return new U({type:o.ELEMENT,dict:d})}}class U{constructor({type:T,dict:R=null,mcid:d=null,pageObjId:y=null,refObjId:W=null}){this.type=T,this.dict=R,this.mcid=d,this.pageObjId=y,this.refObjId=W,this.parentNode=null}}class P{constructor(T,R){this.root=T,this.rootDict=T?T.dict:null,this.pageDict=R,this.nodes=[]}parse(T){var b,D;if(!this.root||!this.rootDict)return;const R=this.rootDict.get("ParentTree");if(!R)return;const d=this.pageDict.get("StructParents"),y=T instanceof w.Ref&&((b=this.root.structParentIds)==null?void 0:b.get(T));if(!Number.isInteger(d)&&!y)return;const W=new Map,u=new O.NumberTree(R,this.rootDict.xref);if(Number.isInteger(d)){const J=u.get(d);if(Array.isArray(J))for(const N of J)N instanceof w.Ref&&this.addNode(this.rootDict.xref.fetch(N),W)}if(y)for(const[J,N]of y){const v=u.get(J);if(v){const S=this.addNode(this.rootDict.xref.fetchIfRef(v),W);((D=S==null?void 0:S.kids)==null?void 0:D.length)===1&&S.kids[0].type===o.OBJECT&&(S.kids[0].type=N)}}}addNode(T,R,d=0){if(d>t)return(0,n.warn)("StructTree MAX_DEPTH reached."),null;if(R.has(T))return R.get(T);const y=new H(this,T);R.set(T,y);const W=T.get("P");if(!W||(0,w.isName)(W.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(T,y)||R.delete(T),y;const u=this.addNode(W,R,d+1);if(!u)return y;let b=!1;for(const D of u.kids)D.type===o.ELEMENT&&D.dict===T&&(D.parentNode=y,b=!0);return b||R.delete(T),y}addTopLevelNode(T,R){const d=this.rootDict.get("K");if(!d)return!1;if(d instanceof w.Dict)return d.objId!==T.objId?!1:(this.nodes[0]=R,!0);if(!Array.isArray(d))return!0;let y=!1;for(let W=0;W<d.length;W++){const u=d[W];(u==null?void 0:u.toString())===T.objId&&(this.nodes[W]=R,y=!0)}return y}get serializable(){function T(d,y,W=0){if(W>t){(0,n.warn)("StructTree too deep to be fully serialized.");return}const u=Object.create(null);u.role=d.role,u.children=[],y.children.push(u);const b=d.dict.get("Alt");typeof b=="string"&&(u.alt=(0,n.stringToPDFString)(b));const D=d.dict.get("Lang");typeof D=="string"&&(u.lang=(0,n.stringToPDFString)(D));for(const J of d.kids){const N=J.type===o.ELEMENT?J.parentNode:null;if(N){T(N,u,W+1);continue}else J.type===o.PAGE_CONTENT||J.type===o.STREAM_CONTENT?u.children.push({type:"content",id:`p${J.pageObjId}_mc${J.mcid}`}):J.type===o.OBJECT?u.children.push({type:"object",id:J.refObjId}):J.type===o.ANNOTATION&&u.children.push({type:"annotation",id:`${n.AnnotationPrefix}${J.refObjId}`})}}const R=Object.create(null);R.children=[],R.role="Root";for(const d of this.nodes)d&&T(d,R);return R}}x.StructTreePage=P},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.incrementalUpdate=Q,x.writeDict=H,x.writeObject=K;var n=ie(2),w=ie(4),O=ie(3),e=ie(71),t=ie(5),o=ie(74);async function K(j,re,T,{encrypt:R=null}){const d=R==null?void 0:R.createCipherTransform(j.num,j.gen);T.push(`${j.num} ${j.gen} obj
`),re instanceof w.Dict?await H(re,T,d):re instanceof t.BaseStream?await U(re,T,d):Array.isArray(re)&&await P(re,T,d),T.push(`
endobj
`)}async function H(j,re,T){re.push("<<");for(const R of j.getKeys())re.push(` /${(0,O.escapePDFName)(R)} `),await f(j.getRaw(R),re,T);re.push(">>")}async function U(j,re,T){let R=j.getString();const{dict:d}=j,[y,W]=await Promise.all([d.getAsync("Filter"),d.getAsync("DecodeParms")]),u=Array.isArray(y)?await d.xref.fetchIfRefAsync(y[0]):y,b=(0,w.isName)(u,"FlateDecode"),D=256;if(typeof CompressionStream<"u"&&(R.length>=D||b))try{const J=(0,n.stringToBytes)(R),N=new CompressionStream("deflate"),v=N.writable.getWriter();v.write(J),v.close();const S=await new Response(N.readable).arrayBuffer();R=(0,n.bytesToString)(new Uint8Array(S));let I,h;y?b||(I=Array.isArray(y)?[w.Name.get("FlateDecode"),...y]:[w.Name.get("FlateDecode"),y],W&&(h=Array.isArray(W)?[null,...W]:[null,W])):I=w.Name.get("FlateDecode"),I&&d.set("Filter",I),h&&d.set("DecodeParms",h)}catch(J){(0,n.info)(`writeStream - cannot compress data: "${J}".`)}T&&(R=T.encryptString(R)),d.set("Length",R.length),await H(d,re,T),re.push(` stream
`,R,`
endstream`)}async function P(j,re,T){re.push("[");let R=!0;for(const d of j)R?R=!1:re.push(" "),await f(d,re,T);re.push("]")}async function f(j,re,T){j instanceof w.Name?re.push(`/${(0,O.escapePDFName)(j.name)}`):j instanceof w.Ref?re.push(`${j.num} ${j.gen} R`):Array.isArray(j)?await P(j,re,T):typeof j=="string"?(T&&(j=T.encryptString(j)),re.push(`(${(0,O.escapeString)(j)})`)):typeof j=="number"?re.push((0,O.numberToString)(j)):typeof j=="boolean"?re.push(j.toString()):j instanceof w.Dict?await H(j,re,T):j instanceof t.BaseStream?await U(j,re,T):j===null?re.push("null"):(0,n.warn)(`Unhandled value in writer: ${typeof j}, please file a bug.`)}function p(j,re,T,R){for(let d=re+T-1;d>T-1;d--)R[d]=j&255,j>>=8;return T+re}function i(j,re,T){for(let R=0,d=j.length;R<d;R++)T[re+R]=j.charCodeAt(R)&255}function k(j,re){const T=Math.floor(Date.now()/1e3),R=re.filename||"",d=[T.toString(),R,j.toString()];let y=d.reduce((b,D)=>b+D.length,0);for(const b of Object.values(re.info))d.push(b),y+=b.length;const W=new Uint8Array(y);let u=0;for(const b of d)i(b,u,W),u+=b.length;return(0,n.bytesToString)((0,o.calculateMD5)(W))}function F(j,re){const T=new e.SimpleXMLParser({hasAttributes:!0}).parseFromString(j);for(const{xfa:d}of re){if(!d)continue;const{path:y,value:W}=d;if(!y)continue;const u=(0,O.parseXFAPath)(y);let b=T.documentElement.searchNode(u,0);!b&&u.length>1&&(b=T.documentElement.searchNode([u.at(-1)],0)),b?b.childNodes=Array.isArray(W)?W.map(D=>new e.SimpleDOMNode("value",D)):[new e.SimpleDOMNode("#text",W)]:(0,n.warn)(`Node not found for path: ${y}`)}const R=[];return T.documentElement.dump(R),R.join("")}async function _({xref:j,acroForm:re,acroFormRef:T,hasXfa:R,hasXfaDatasetsEntry:d,xfaDatasetsRef:y,needAppearances:W,newRefs:u}){if(R&&!d&&!y&&(0,n.warn)("XFA - Cannot save it"),!W&&(!R||!y||d))return;const b=re.clone();if(R&&!d){const J=re.get("XFA").slice();J.splice(2,0,"datasets"),J.splice(3,0,y),b.set("XFA",J)}W&&b.set("NeedAppearances",!0);const D=[];await K(T,b,D,j),u.push({ref:T,data:D.join("")})}function C({xfaData:j,xfaDatasetsRef:re,newRefs:T,xref:R}){if(j===null){const W=R.fetchIfRef(re);j=F(W.getString(),T)}const d=R.encrypt;d&&(j=d.createCipherTransform(re.num,re.gen).encryptString(j));const y=`${re.num} ${re.gen} obj
<< /Type /EmbeddedFile /Length ${j.length}>>
stream
`+j+`
endstream
endobj
`;T.push({ref:re,data:y})}async function Q({originalData:j,xrefInfo:re,newRefs:T,xref:R=null,hasXfa:d=!1,xfaDatasetsRef:y=null,hasXfaDatasetsEntry:W=!1,needAppearances:u,acroFormRef:b=null,acroForm:D=null,xfaData:J=null}){await _({xref:R,acroForm:D,acroFormRef:b,hasXfa:d,hasXfaDatasetsEntry:W,xfaDatasetsRef:y,needAppearances:u,newRefs:T}),d&&C({xfaData:J,xfaDatasetsRef:y,newRefs:T,xref:R});const N=new w.Dict(null),v=re.newRef;let S,I;const h=j.at(-1);h===10||h===13?(S=[],I=j.length):(S=[`
`],I=j.length+1),N.set("Size",v.num+1),N.set("Prev",re.startXRef),N.set("Type",w.Name.get("XRef")),re.rootRef!==null&&N.set("Root",re.rootRef),re.infoRef!==null&&N.set("Info",re.infoRef),re.encryptRef!==null&&N.set("Encrypt",re.encryptRef),T.push({ref:v,data:""}),T=T.sort((Be,ee)=>Be.ref.num-ee.ref.num);const B=[[0,1,65535]],r=[0,1];let A=0;for(const{ref:Be,data:ee}of T)A=Math.max(A,I),B.push([1,I,Math.min(Be.gen,65535)]),I+=ee.length,r.push(Be.num,1),S.push(ee);if(N.set("Index",r),Array.isArray(re.fileIds)&&re.fileIds.length>0){const Be=k(I,re);N.set("ID",[re.fileIds[0],Be])}const G=[1,Math.ceil(Math.log2(A)/8),2],Ae=(G[0]+G[1]+G[2])*B.length;N.set("W",G),N.set("Length",Ae),S.push(`${v.num} ${v.gen} obj
`),await H(N,S,null),S.push(` stream
`);const ke=S.reduce((Be,ee)=>Be+ee.length,0),de=`
endstream
endobj
startxref
${I}
%%EOF
`,Ie=new Uint8Array(j.length+ke+Ae+de.length);Ie.set(j);let ge=j.length;for(const Be of S)i(Be,ge,Ie),ge+=Be.length;for(const[Be,ee,te]of B)ge=p(Be,G[0],ge,Ie),ge=p(ee,G[1],ge,Ie),ge=p(te,G[2],ge,Ie);return i(de,ge,Ie),Ie}},(Pe,x,ie)=>{var Q,j,ld,T,K0,d,ud,W,OA,b,V0;Object.defineProperty(x,"__esModule",{value:!0}),x.calculateSHA256=x.calculateMD5=x.PDF20=x.PDF17=x.CipherTransformFactory=x.ARCFourCipher=x.AES256Cipher=x.AES128Cipher=void 0,x.calculateSHA384=U,x.calculateSHA512=void 0;var n=ie(2),w=ie(4),O=ie(75);class e{constructor(v){this.a=0,this.b=0;const S=new Uint8Array(256),I=v.length;for(let h=0;h<256;++h)S[h]=h;for(let h=0,B=0;h<256;++h){const r=S[h];B=B+r+v[h%I]&255,S[h]=S[B],S[B]=r}this.s=S}encryptBlock(v){let S=this.a,I=this.b;const h=this.s,B=v.length,r=new Uint8Array(B);for(let A=0;A<B;++A){S=S+1&255;const E=h[S];I=I+E&255;const G=h[I];h[S]=G,h[I]=E,r[A]=v[A]^h[E+G&255]}return this.a=S,this.b=I,r}decryptBlock(v){return this.encryptBlock(v)}encrypt(v){return this.encryptBlock(v)}}x.ARCFourCipher=e;const t=function(){const v=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),S=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function I(h,B,r){let A=1732584193,E=-271733879,G=-1732584194,se=271733878;const Ae=r+72&-64,ke=new Uint8Array(Ae);let de,Ie;for(de=0;de<r;++de)ke[de]=h[B++];ke[de++]=128;const ge=Ae-8;for(;de<ge;)ke[de++]=0;ke[de++]=r<<3&255,ke[de++]=r>>5&255,ke[de++]=r>>13&255,ke[de++]=r>>21&255,ke[de++]=r>>>29&255,ke[de++]=0,ke[de++]=0,ke[de++]=0;const Be=new Int32Array(16);for(de=0;de<Ae;){for(Ie=0;Ie<16;++Ie,de+=4)Be[Ie]=ke[de]|ke[de+1]<<8|ke[de+2]<<16|ke[de+3]<<24;let ee=A,te=E,fe=G,ue=se,le,be;for(Ie=0;Ie<64;++Ie){Ie<16?(le=te&fe|~te&ue,be=Ie):Ie<32?(le=ue&te|~ue&fe,be=5*Ie+1&15):Ie<48?(le=te^fe^ue,be=3*Ie+5&15):(le=fe^(te|~ue),be=7*Ie&15);const Ce=ue,ce=ee+le+S[Ie]+Be[be]|0,Ee=v[Ie];ue=fe,fe=te,te=te+(ce<<Ee|ce>>>32-Ee)|0,ee=Ce}A=A+ee|0,E=E+te|0,G=G+fe|0,se=se+ue|0}return new Uint8Array([A&255,A>>8&255,A>>16&255,A>>>24&255,E&255,E>>8&255,E>>16&255,E>>>24&255,G&255,G>>8&255,G>>16&255,G>>>24&255,se&255,se>>8&255,se>>16&255,se>>>24&255])}return I}();x.calculateMD5=t;class o{constructor(v,S){this.high=v|0,this.low=S|0}and(v){this.high&=v.high,this.low&=v.low}xor(v){this.high^=v.high,this.low^=v.low}or(v){this.high|=v.high,this.low|=v.low}shiftRight(v){v>=32?(this.low=this.high>>>v-32|0,this.high=0):(this.low=this.low>>>v|this.high<<32-v,this.high=this.high>>>v|0)}shiftLeft(v){v>=32?(this.high=this.low<<v-32,this.low=0):(this.high=this.high<<v|this.low>>>32-v,this.low<<=v)}rotateRight(v){let S,I;v&32?(I=this.low,S=this.high):(S=this.low,I=this.high),v&=31,this.low=S>>>v|I<<32-v,this.high=I>>>v|S<<32-v}not(){this.high=~this.high,this.low=~this.low}add(v){const S=(this.low>>>0)+(v.low>>>0);let I=(this.high>>>0)+(v.high>>>0);S>4294967295&&(I+=1),this.low=S|0,this.high=I|0}copyTo(v,S){v[S]=this.high>>>24&255,v[S+1]=this.high>>16&255,v[S+2]=this.high>>8&255,v[S+3]=this.high&255,v[S+4]=this.low>>>24&255,v[S+5]=this.low>>16&255,v[S+6]=this.low>>8&255,v[S+7]=this.low&255}assign(v){this.high=v.high,this.low=v.low}}const K=function(){function v(se,Ae){return se>>>Ae|se<<32-Ae}function S(se,Ae,ke){return se&Ae^~se&ke}function I(se,Ae,ke){return se&Ae^se&ke^Ae&ke}function h(se){return v(se,2)^v(se,13)^v(se,22)}function B(se){return v(se,6)^v(se,11)^v(se,25)}function r(se){return v(se,7)^v(se,18)^se>>>3}function A(se){return v(se,17)^v(se,19)^se>>>10}const E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function G(se,Ae,ke){let de=1779033703,Ie=3144134277,ge=1013904242,Be=2773480762,ee=1359893119,te=2600822924,fe=528734635,ue=1541459225;const le=Math.ceil((ke+9)/64)*64,be=new Uint8Array(le);let Ce,ce;for(Ce=0;Ce<ke;++Ce)be[Ce]=se[Ae++];be[Ce++]=128;const Ee=le-8;for(;Ce<Ee;)be[Ce++]=0;be[Ce++]=0,be[Ce++]=0,be[Ce++]=0,be[Ce++]=ke>>>29&255,be[Ce++]=ke>>21&255,be[Ce++]=ke>>13&255,be[Ce++]=ke>>5&255,be[Ce++]=ke<<3&255;const ve=new Uint32Array(64);for(Ce=0;Ce<le;){for(ce=0;ce<16;++ce)ve[ce]=be[Ce]<<24|be[Ce+1]<<16|be[Ce+2]<<8|be[Ce+3],Ce+=4;for(ce=16;ce<64;++ce)ve[ce]=A(ve[ce-2])+ve[ce-7]+r(ve[ce-15])+ve[ce-16]|0;let he=de,Fe=Ie,_e=ge,Ne=Be,Ze=ee,tt=te,je=fe,$e=ue,He,Ve;for(ce=0;ce<64;++ce)He=$e+B(Ze)+S(Ze,tt,je)+E[ce]+ve[ce],Ve=h(he)+I(he,Fe,_e),$e=je,je=tt,tt=Ze,Ze=Ne+He|0,Ne=_e,_e=Fe,Fe=he,he=He+Ve|0;de=de+he|0,Ie=Ie+Fe|0,ge=ge+_e|0,Be=Be+Ne|0,ee=ee+Ze|0,te=te+tt|0,fe=fe+je|0,ue=ue+$e|0}return new Uint8Array([de>>24&255,de>>16&255,de>>8&255,de&255,Ie>>24&255,Ie>>16&255,Ie>>8&255,Ie&255,ge>>24&255,ge>>16&255,ge>>8&255,ge&255,Be>>24&255,Be>>16&255,Be>>8&255,Be&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255,te>>24&255,te>>16&255,te>>8&255,te&255,fe>>24&255,fe>>16&255,fe>>8&255,fe&255,ue>>24&255,ue>>16&255,ue>>8&255,ue&255])}return G}();x.calculateSHA256=K;const H=function(){function v(G,se,Ae,ke,de){G.assign(se),G.and(Ae),de.assign(se),de.not(),de.and(ke),G.xor(de)}function S(G,se,Ae,ke,de){G.assign(se),G.and(Ae),de.assign(se),de.and(ke),G.xor(de),de.assign(Ae),de.and(ke),G.xor(de)}function I(G,se,Ae){G.assign(se),G.rotateRight(28),Ae.assign(se),Ae.rotateRight(34),G.xor(Ae),Ae.assign(se),Ae.rotateRight(39),G.xor(Ae)}function h(G,se,Ae){G.assign(se),G.rotateRight(14),Ae.assign(se),Ae.rotateRight(18),G.xor(Ae),Ae.assign(se),Ae.rotateRight(41),G.xor(Ae)}function B(G,se,Ae){G.assign(se),G.rotateRight(1),Ae.assign(se),Ae.rotateRight(8),G.xor(Ae),Ae.assign(se),Ae.shiftRight(7),G.xor(Ae)}function r(G,se,Ae){G.assign(se),G.rotateRight(19),Ae.assign(se),Ae.rotateRight(61),G.xor(Ae),Ae.assign(se),Ae.shiftRight(6),G.xor(Ae)}const A=[new o(1116352408,3609767458),new o(1899447441,602891725),new o(3049323471,3964484399),new o(3921009573,2173295548),new o(961987163,4081628472),new o(1508970993,3053834265),new o(2453635748,2937671579),new o(2870763221,3664609560),new o(3624381080,2734883394),new o(310598401,1164996542),new o(607225278,1323610764),new o(1426881987,3590304994),new o(1925078388,4068182383),new o(2162078206,991336113),new o(2614888103,633803317),new o(3248222580,3479774868),new o(3835390401,2666613458),new o(4022224774,944711139),new o(264347078,2341262773),new o(604807628,2007800933),new o(770255983,1495990901),new o(1249150122,1856431235),new o(1555081692,3175218132),new o(1996064986,2198950837),new o(2554220882,3999719339),new o(2821834349,766784016),new o(2952996808,2566594879),new o(3210313671,3203337956),new o(3336571891,1034457026),new o(3584528711,2466948901),new o(113926993,3758326383),new o(338241895,168717936),new o(666307205,1188179964),new o(773529912,1546045734),new o(1294757372,1522805485),new o(1396182291,2643833823),new o(1695183700,2343527390),new o(1986661051,1014477480),new o(2177026350,1206759142),new o(2456956037,344077627),new o(2730485921,1290863460),new o(2820302411,3158454273),new o(3259730800,3505952657),new o(3345764771,106217008),new o(3516065817,3606008344),new o(3600352804,1432725776),new o(4094571909,1467031594),new o(275423344,851169720),new o(430227734,3100823752),new o(506948616,1363258195),new o(659060556,3750685593),new o(883997877,3785050280),new o(958139571,3318307427),new o(1322822218,3812723403),new o(1537002063,2003034995),new o(1747873779,3602036899),new o(1955562222,1575990012),new o(2024104815,1125592928),new o(2227730452,2716904306),new o(2361852424,442776044),new o(2428436474,593698344),new o(2756734187,3733110249),new o(3204031479,2999351573),new o(3329325298,3815920427),new o(3391569614,3928383900),new o(3515267271,566280711),new o(3940187606,3454069534),new o(4118630271,4000239992),new o(116418474,1914138554),new o(174292421,2731055270),new o(289380356,3203993006),new o(460393269,320620315),new o(685471733,587496836),new o(852142971,1086792851),new o(1017036298,365543100),new o(1126000580,2618297676),new o(1288033470,3409855158),new o(1501505948,4234509866),new o(1607167915,987167468),new o(1816402316,1246189591)];function E(G,se,Ae,ke=!1){let de,Ie,ge,Be,ee,te,fe,ue;ke?(de=new o(3418070365,3238371032),Ie=new o(1654270250,914150663),ge=new o(2438529370,812702999),Be=new o(355462360,4144912697),ee=new o(1731405415,4290775857),te=new o(2394180231,1750603025),fe=new o(3675008525,1694076839),ue=new o(1203062813,3204075428)):(de=new o(1779033703,4089235720),Ie=new o(3144134277,2227873595),ge=new o(1013904242,4271175723),Be=new o(2773480762,1595750129),ee=new o(1359893119,2917565137),te=new o(2600822924,725511199),fe=new o(528734635,4215389547),ue=new o(1541459225,327033209));const le=Math.ceil((Ae+17)/128)*128,be=new Uint8Array(le);let Ce,ce;for(Ce=0;Ce<Ae;++Ce)be[Ce]=G[se++];be[Ce++]=128;const Ee=le-16;for(;Ce<Ee;)be[Ce++]=0;be[Ce++]=0,be[Ce++]=0,be[Ce++]=0,be[Ce++]=0,be[Ce++]=0,be[Ce++]=0,be[Ce++]=0,be[Ce++]=0,be[Ce++]=0,be[Ce++]=0,be[Ce++]=0,be[Ce++]=Ae>>>29&255,be[Ce++]=Ae>>21&255,be[Ce++]=Ae>>13&255,be[Ce++]=Ae>>5&255,be[Ce++]=Ae<<3&255;const ve=new Array(80);for(Ce=0;Ce<80;Ce++)ve[Ce]=new o(0,0);let he=new o(0,0),Fe=new o(0,0),_e=new o(0,0),Ne=new o(0,0),Ze=new o(0,0),tt=new o(0,0),je=new o(0,0),$e=new o(0,0);const He=new o(0,0),Ve=new o(0,0),st=new o(0,0),pt=new o(0,0);let at;for(Ce=0;Ce<le;){for(ce=0;ce<16;++ce)ve[ce].high=be[Ce]<<24|be[Ce+1]<<16|be[Ce+2]<<8|be[Ce+3],ve[ce].low=be[Ce+4]<<24|be[Ce+5]<<16|be[Ce+6]<<8|be[Ce+7],Ce+=8;for(ce=16;ce<80;++ce)at=ve[ce],r(at,ve[ce-2],pt),at.add(ve[ce-7]),B(st,ve[ce-15],pt),at.add(st),at.add(ve[ce-16]);for(he.assign(de),Fe.assign(Ie),_e.assign(ge),Ne.assign(Be),Ze.assign(ee),tt.assign(te),je.assign(fe),$e.assign(ue),ce=0;ce<80;++ce)He.assign($e),h(st,Ze,pt),He.add(st),v(st,Ze,tt,je,pt),He.add(st),He.add(A[ce]),He.add(ve[ce]),I(Ve,he,pt),S(st,he,Fe,_e,pt),Ve.add(st),at=$e,$e=je,je=tt,tt=Ze,Ne.add(He),Ze=Ne,Ne=_e,_e=Fe,Fe=he,at.assign(He),at.add(Ve),he=at;de.add(he),Ie.add(Fe),ge.add(_e),Be.add(Ne),ee.add(Ze),te.add(tt),fe.add(je),ue.add($e)}let Re;return ke?(Re=new Uint8Array(48),de.copyTo(Re,0),Ie.copyTo(Re,8),ge.copyTo(Re,16),Be.copyTo(Re,24),ee.copyTo(Re,32),te.copyTo(Re,40)):(Re=new Uint8Array(64),de.copyTo(Re,0),Ie.copyTo(Re,8),ge.copyTo(Re,16),Be.copyTo(Re,24),ee.copyTo(Re,32),te.copyTo(Re,40),fe.copyTo(Re,48),ue.copyTo(Re,56)),Re}return E}();x.calculateSHA512=H;function U(N,v,S){return H(N,v,S,!0)}class P{decryptBlock(v){return v}encrypt(v){return v}}class f{constructor(){this.constructor===f&&(0,n.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let v=0;v<256;v++)this._mixCol[v]=v<128?v<<1:v<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(v){(0,n.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(v,S){let I,h,B;const r=new Uint8Array(16);r.set(v);for(let A=0,E=this._keySize;A<16;++A,++E)r[A]^=S[E];for(let A=this._cyclesOfRepetition-1;A>=1;--A){I=r[13],r[13]=r[9],r[9]=r[5],r[5]=r[1],r[1]=I,I=r[14],h=r[10],r[14]=r[6],r[10]=r[2],r[6]=I,r[2]=h,I=r[15],h=r[11],B=r[7],r[15]=r[3],r[11]=I,r[7]=h,r[3]=B;for(let E=0;E<16;++E)r[E]=this._inv_s[r[E]];for(let E=0,G=A*16;E<16;++E,++G)r[E]^=S[G];for(let E=0;E<16;E+=4){const G=this._mix[r[E]],se=this._mix[r[E+1]],Ae=this._mix[r[E+2]],ke=this._mix[r[E+3]];I=G^se>>>8^se<<24^Ae>>>16^Ae<<16^ke>>>24^ke<<8,r[E]=I>>>24&255,r[E+1]=I>>16&255,r[E+2]=I>>8&255,r[E+3]=I&255}}I=r[13],r[13]=r[9],r[9]=r[5],r[5]=r[1],r[1]=I,I=r[14],h=r[10],r[14]=r[6],r[10]=r[2],r[6]=I,r[2]=h,I=r[15],h=r[11],B=r[7],r[15]=r[3],r[11]=I,r[7]=h,r[3]=B;for(let A=0;A<16;++A)r[A]=this._inv_s[r[A]],r[A]^=S[A];return r}_encrypt(v,S){const I=this._s;let h,B,r;const A=new Uint8Array(16);A.set(v);for(let E=0;E<16;++E)A[E]^=S[E];for(let E=1;E<this._cyclesOfRepetition;E++){for(let G=0;G<16;++G)A[G]=I[A[G]];r=A[1],A[1]=A[5],A[5]=A[9],A[9]=A[13],A[13]=r,r=A[2],B=A[6],A[2]=A[10],A[6]=A[14],A[10]=r,A[14]=B,r=A[3],B=A[7],h=A[11],A[3]=A[15],A[7]=r,A[11]=B,A[15]=h;for(let G=0;G<16;G+=4){const se=A[G+0],Ae=A[G+1],ke=A[G+2],de=A[G+3];h=se^Ae^ke^de,A[G+0]^=h^this._mixCol[se^Ae],A[G+1]^=h^this._mixCol[Ae^ke],A[G+2]^=h^this._mixCol[ke^de],A[G+3]^=h^this._mixCol[de^se]}for(let G=0,se=E*16;G<16;++G,++se)A[G]^=S[se]}for(let E=0;E<16;++E)A[E]=I[A[E]];r=A[1],A[1]=A[5],A[5]=A[9],A[9]=A[13],A[13]=r,r=A[2],B=A[6],A[2]=A[10],A[6]=A[14],A[10]=r,A[14]=B,r=A[3],B=A[7],h=A[11],A[3]=A[15],A[7]=r,A[11]=B,A[15]=h;for(let E=0,G=this._keySize;E<16;++E,++G)A[E]^=S[G];return A}_decryptBlock2(v,S){const I=v.length;let h=this.buffer,B=this.bufferPosition;const r=[];let A=this.iv;for(let se=0;se<I;++se){if(h[B]=v[se],++B,B<16)continue;const Ae=this._decrypt(h,this._key);for(let ke=0;ke<16;++ke)Ae[ke]^=A[ke];A=h,r.push(Ae),h=new Uint8Array(16),B=0}if(this.buffer=h,this.bufferLength=B,this.iv=A,r.length===0)return new Uint8Array(0);let E=16*r.length;if(S){const se=r.at(-1);let Ae=se[15];if(Ae<=16){for(let ke=15,de=16-Ae;ke>=de;--ke)if(se[ke]!==Ae){Ae=0;break}E-=Ae,r[r.length-1]=se.subarray(0,16-Ae)}}const G=new Uint8Array(E);for(let se=0,Ae=0,ke=r.length;se<ke;++se,Ae+=16)G.set(r[se],Ae);return G}decryptBlock(v,S,I=null){const h=v.length,B=this.buffer;let r=this.bufferPosition;if(I)this.iv=I;else{for(let A=0;r<16&&A<h;++A,++r)B[r]=v[A];if(r<16)return this.bufferLength=r,new Uint8Array(0);this.iv=B,v=v.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(v,S)}encrypt(v,S){const I=v.length;let h=this.buffer,B=this.bufferPosition;const r=[];S||(S=new Uint8Array(16));for(let G=0;G<I;++G){if(h[B]=v[G],++B,B<16)continue;for(let Ae=0;Ae<16;++Ae)h[Ae]^=S[Ae];const se=this._encrypt(h,this._key);S=se,r.push(se),h=new Uint8Array(16),B=0}if(this.buffer=h,this.bufferLength=B,this.iv=S,r.length===0)return new Uint8Array(0);const A=16*r.length,E=new Uint8Array(A);for(let G=0,se=0,Ae=r.length;G<Ae;++G,se+=16)E.set(r[G],se);return E}}class p extends f{constructor(v){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(v)}_expandKey(v){const I=this._s,h=this._rcon,B=new Uint8Array(176);B.set(v);for(let r=16,A=1;r<176;++A){let E=B[r-3],G=B[r-2],se=B[r-1],Ae=B[r-4];E=I[E],G=I[G],se=I[se],Ae=I[Ae],E^=h[A];for(let ke=0;ke<4;++ke)B[r]=E^=B[r-16],r++,B[r]=G^=B[r-16],r++,B[r]=se^=B[r-16],r++,B[r]=Ae^=B[r-16],r++}return B}}x.AES128Cipher=p;class i extends f{constructor(v){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(v)}_expandKey(v){const I=this._s,h=new Uint8Array(240);h.set(v);let B=1,r,A,E,G;for(let se=32,Ae=1;se<240;++Ae){se%32===16?(r=I[r],A=I[A],E=I[E],G=I[G]):se%32===0&&(r=h[se-3],A=h[se-2],E=h[se-1],G=h[se-4],r=I[r],A=I[A],E=I[E],G=I[G],r^=B,(B<<=1)>=256&&(B=(B^27)&255));for(let ke=0;ke<4;++ke)h[se]=r^=h[se-32],se++,h[se]=A^=h[se-32],se++,h[se]=E^=h[se-32],se++,h[se]=G^=h[se-32],se++}return h}}x.AES256Cipher=i;class k{checkOwnerPassword(v,S,I,h){const B=new Uint8Array(v.length+56);B.set(v,0),B.set(S,v.length),B.set(I,v.length+S.length);const r=K(B,0,B.length);return(0,n.isArrayEqual)(r,h)}checkUserPassword(v,S,I){const h=new Uint8Array(v.length+8);h.set(v,0),h.set(S,v.length);const B=K(h,0,h.length);return(0,n.isArrayEqual)(B,I)}getOwnerKey(v,S,I,h){const B=new Uint8Array(v.length+56);B.set(v,0),B.set(S,v.length),B.set(I,v.length+S.length);const r=K(B,0,B.length);return new i(r).decryptBlock(h,!1,new Uint8Array(16))}getUserKey(v,S,I){const h=new Uint8Array(v.length+8);h.set(v,0),h.set(S,v.length);const B=K(h,0,h.length);return new i(B).decryptBlock(I,!1,new Uint8Array(16))}}x.PDF17=k;class F{_hash(v,S,I){let h=K(S,0,S.length).subarray(0,32),B=[0],r=0;for(;r<64||B.at(-1)>r-32;){const A=v.length+h.length+I.length,E=new Uint8Array(A);let G=0;E.set(v,G),G+=v.length,E.set(h,G),G+=h.length,E.set(I,G);const se=new Uint8Array(A*64);for(let de=0,Ie=0;de<64;de++,Ie+=A)se.set(E,Ie);B=new p(h.subarray(0,16)).encrypt(se,h.subarray(16,32));const ke=B.slice(0,16).reduce((de,Ie)=>de+Ie,0)%3;ke===0?h=K(B,0,B.length):ke===1?h=U(B,0,B.length):ke===2&&(h=H(B,0,B.length)),r++}return h.subarray(0,32)}checkOwnerPassword(v,S,I,h){const B=new Uint8Array(v.length+56);B.set(v,0),B.set(S,v.length),B.set(I,v.length+S.length);const r=this._hash(v,B,I);return(0,n.isArrayEqual)(r,h)}checkUserPassword(v,S,I){const h=new Uint8Array(v.length+8);h.set(v,0),h.set(S,v.length);const B=this._hash(v,h,[]);return(0,n.isArrayEqual)(B,I)}getOwnerKey(v,S,I,h){const B=new Uint8Array(v.length+56);B.set(v,0),B.set(S,v.length),B.set(I,v.length+S.length);const r=this._hash(v,B,I);return new i(r).decryptBlock(h,!1,new Uint8Array(16))}getUserKey(v,S,I){const h=new Uint8Array(v.length+8);h.set(v,0),h.set(S,v.length);const B=this._hash(v,h,[]);return new i(B).decryptBlock(I,!1,new Uint8Array(16))}}x.PDF20=F;class _{constructor(v,S){this.StringCipherConstructor=v,this.StreamCipherConstructor=S}createStream(v,S){const I=new this.StreamCipherConstructor;return new O.DecryptStream(v,S,function(B,r){return I.decryptBlock(B,r)})}decryptString(v){const S=new this.StringCipherConstructor;let I=(0,n.stringToBytes)(v);return I=S.decryptBlock(I,!0),(0,n.bytesToString)(I)}encryptString(v){const S=new this.StringCipherConstructor;if(S instanceof f){const B=16-v.length%16;v+=String.fromCharCode(B).repeat(B);const r=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(r);else for(let G=0;G<16;G++)r[G]=Math.floor(256*Math.random());let A=(0,n.stringToBytes)(v);A=S.encrypt(A,r);const E=new Uint8Array(16+A.length);return E.set(r),E.set(A,16),(0,n.bytesToString)(E)}let I=(0,n.stringToBytes)(v);return I=S.encrypt(I),(0,n.bytesToString)(I)}}const J=class J{constructor(v,S,I){At(this,j);At(this,T);At(this,d);At(this,W);At(this,b);const h=v.get("Filter");if(!(0,w.isName)(h,"Standard"))throw new n.FormatError("unknown encryption method");this.filterName=h.name,this.dict=v;const B=v.get("V");if(!Number.isInteger(B)||B!==1&&B!==2&&B!==4&&B!==5)throw new n.FormatError("unsupported encryption algorithm");this.algorithm=B;let r=v.get("Length");if(!r)if(B<=3)r=40;else{const ee=v.get("CF"),te=v.get("StmF");if(ee instanceof w.Dict&&te instanceof w.Name){ee.suppressEncryption=!0;const fe=ee.get(te.name);r=(fe==null?void 0:fe.get("Length"))||128,r<40&&(r<<=3)}}if(!Number.isInteger(r)||r<40||r%8!==0)throw new n.FormatError("invalid key length");const A=(0,n.stringToBytes)(v.get("O")),E=(0,n.stringToBytes)(v.get("U")),G=A.subarray(0,32),se=E.subarray(0,32),Ae=v.get("P"),ke=v.get("R"),de=(B===4||B===5)&&v.get("EncryptMetadata")!==!1;this.encryptMetadata=de;const Ie=(0,n.stringToBytes)(S);let ge;if(I){if(ke===6)try{I=(0,n.utf8StringToString)(I)}catch{(0,n.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}ge=(0,n.stringToBytes)(I)}let Be;if(B!==5)Be=ht(this,T,K0).call(this,Ie,ge,G,se,Ae,ke,r,de);else{const ee=A.subarray(32,40),te=A.subarray(40,48),fe=E.subarray(0,48),ue=E.subarray(32,40),le=E.subarray(40,48),be=(0,n.stringToBytes)(v.get("OE")),Ce=(0,n.stringToBytes)(v.get("UE")),ce=(0,n.stringToBytes)(v.get("Perms"));Be=ht(this,j,ld).call(this,ke,ge,G,ee,te,fe,se,ue,le,be,Ce,ce)}if(!Be&&!I)throw new n.PasswordException("No password given",n.PasswordResponses.NEED_PASSWORD);if(!Be&&I){const ee=ht(this,d,ud).call(this,ge,G,ke,r);Be=ht(this,T,K0).call(this,Ie,ee,G,se,Ae,ke,r,de)}if(!Be)throw new n.PasswordException("Incorrect Password",n.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=Be,B>=4){const ee=v.get("CF");ee instanceof w.Dict&&(ee.suppressEncryption=!0),this.cf=ee,this.stmf=v.get("StmF")||w.Name.get("Identity"),this.strf=v.get("StrF")||w.Name.get("Identity"),this.eff=v.get("EFF")||this.stmf}}createCipherTransform(v,S){if(this.algorithm===4||this.algorithm===5)return new _(ht(this,b,V0).call(this,this.cf,this.strf,v,S,this.encryptionKey),ht(this,b,V0).call(this,this.cf,this.stmf,v,S,this.encryptionKey));const I=ht(this,W,OA).call(this,v,S,this.encryptionKey,!1),h=function(){return new e(I)};return new _(h,h)}};Q=new WeakMap,j=new WeakSet,ld=function(v,S,I,h,B,r,A,E,G,se,Ae,ke){if(S){const Ie=Math.min(127,S.length);S=S.subarray(0,Ie)}else S=[];const de=v===6?new F:new k;return de.checkUserPassword(S,E,A)?de.getUserKey(S,G,Ae):S.length&&de.checkOwnerPassword(S,h,r,I)?de.getOwnerKey(S,B,r,se):null},T=new WeakSet,K0=function(v,S,I,h,B,r,A,E){const G=40+I.length+v.length,se=new Uint8Array(G);let Ae=0,ke,de;if(S)for(de=Math.min(32,S.length);Ae<de;++Ae)se[Ae]=S[Ae];for(ke=0;Ae<32;)se[Ae++]=Me(J,Q)[ke++];for(ke=0,de=I.length;ke<de;++ke)se[Ae++]=I[ke];for(se[Ae++]=B&255,se[Ae++]=B>>8&255,se[Ae++]=B>>16&255,se[Ae++]=B>>>24&255,ke=0,de=v.length;ke<de;++ke)se[Ae++]=v[ke];r>=4&&!E&&(se[Ae++]=255,se[Ae++]=255,se[Ae++]=255,se[Ae++]=255);let Ie=t(se,0,Ae);const ge=A>>3;if(r>=3)for(ke=0;ke<50;++ke)Ie=t(Ie,0,ge);const Be=Ie.subarray(0,ge);let ee,te;if(r>=3){for(Ae=0;Ae<32;++Ae)se[Ae]=Me(J,Q)[Ae];for(ke=0,de=v.length;ke<de;++ke)se[Ae++]=v[ke];ee=new e(Be),te=ee.encryptBlock(t(se,0,Ae)),de=Be.length;const fe=new Uint8Array(de);for(ke=1;ke<=19;++ke){for(let ue=0;ue<de;++ue)fe[ue]=Be[ue]^ke;ee=new e(fe),te=ee.encryptBlock(te)}for(ke=0,de=te.length;ke<de;++ke)if(h[ke]!==te[ke])return null}else for(ee=new e(Be),te=ee.encryptBlock(Me(J,Q)),ke=0,de=te.length;ke<de;++ke)if(h[ke]!==te[ke])return null;return Be},d=new WeakSet,ud=function(v,S,I,h){const B=new Uint8Array(32);let r=0;const A=Math.min(32,v.length);for(;r<A;++r)B[r]=v[r];let E=0;for(;r<32;)B[r++]=Me(J,Q)[E++];let G=t(B,0,r);const se=h>>3;if(I>=3)for(E=0;E<50;++E)G=t(G,0,G.length);let Ae,ke;if(I>=3){ke=S;const de=new Uint8Array(se);for(E=19;E>=0;E--){for(let Ie=0;Ie<se;++Ie)de[Ie]=G[Ie]^E;Ae=new e(de),ke=Ae.encryptBlock(ke)}}else Ae=new e(G.subarray(0,se)),ke=Ae.encryptBlock(S);return ke},W=new WeakSet,OA=function(v,S,I,h=!1){const B=new Uint8Array(I.length+9),r=I.length;let A;for(A=0;A<r;++A)B[A]=I[A];return B[A++]=v&255,B[A++]=v>>8&255,B[A++]=v>>16&255,B[A++]=S&255,B[A++]=S>>8&255,h&&(B[A++]=115,B[A++]=65,B[A++]=108,B[A++]=84),t(B,0,A).subarray(0,Math.min(I.length+5,16))},b=new WeakSet,V0=function(v,S,I,h,B){if(!(S instanceof w.Name))throw new n.FormatError("Invalid crypt filter name.");const r=this,A=v.get(S.name),E=A==null?void 0:A.get("CFM");if(!E||E.name==="None")return function(){return new P};if(E.name==="V2")return function(){var G;return new e(ht(G=r,W,OA).call(G,I,h,B,!1))};if(E.name==="AESV2")return function(){var G;return new p(ht(G=r,W,OA).call(G,I,h,B,!0))};if(E.name==="AESV3")return function(){return new i(B)};throw new n.FormatError("Unknown crypto method")},At(J,Q,new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]));let C=J;x.CipherTransformFactory=C},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.DecryptStream=void 0;var n=ie(18);const w=512;class O extends n.DecodeStream{constructor(t,o,K){super(o),this.str=t,this.dict=t.dict,this.decrypt=K,this.nextChunk=null,this.initialized=!1}readBlock(){var f;let t;if(this.initialized?t=this.nextChunk:(t=this.str.getBytes(w),this.initialized=!0),!t||t.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(w);const o=((f=this.nextChunk)==null?void 0:f.length)>0,K=this.decrypt;t=K(t,!o);const H=this.bufferLength,U=H+t.length;this.ensureBuffer(U).set(t,H),this.bufferLength=U}}x.DecryptStream=O},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ObjectLoader=void 0;var n=ie(4),w=ie(5),O=ie(3),e=ie(2);function t(H){return H instanceof n.Ref||H instanceof n.Dict||H instanceof w.BaseStream||Array.isArray(H)}function o(H,U){if(H instanceof n.Dict)H=H.getRawValues();else if(H instanceof w.BaseStream)H=H.dict.getRawValues();else if(!Array.isArray(H))return;for(const P of H)t(P)&&U.push(P)}class K{constructor(U,P,f){this.dict=U,this.keys=P,this.xref=f,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:U,dict:P}=this;this.refSet=new n.RefSet;const f=[];for(const p of U){const i=P.getRaw(p);i!==void 0&&f.push(i)}return this._walk(f)}async _walk(U){const P=[],f=[];for(;U.length;){let p=U.pop();if(p instanceof n.Ref){if(this.refSet.has(p))continue;try{this.refSet.put(p),p=this.xref.fetch(p)}catch(i){if(!(i instanceof O.MissingDataException)){(0,e.warn)(`ObjectLoader._walk - requesting all data: "${i}".`),this.refSet=null;const{manager:k}=this.xref.stream;return k.requestAllChunks()}P.push(p),f.push({begin:i.begin,end:i.end})}}if(p instanceof w.BaseStream){const i=p.getBaseStreams();if(i){let k=!1;for(const F of i)F.isDataLoaded||(k=!0,f.push({begin:F.start,end:F.end}));k&&P.push(p)}}o(p,U)}if(f.length){await this.xref.stream.manager.requestRanges(f);for(const p of P)p instanceof n.Ref&&this.refSet.remove(p);return this._walk(P)}this.refSet=null}}x.ObjectLoader=K},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XFAFactory=void 0;var n=ie(78),w=ie(79),O=ie(89),e=ie(85),t=ie(84),o=ie(2),K=ie(90),H=ie(100);class U{constructor(f){try{this.root=new K.XFAParser().parse(U._createDocument(f));const p=new w.Binder(this.root);this.form=p.bind(),this.dataHandler=new O.DataHandler(this.root,p.getData()),this.form[n.$globalData].template=this.form}catch(p){(0,o.warn)(`XFA - an error occurred during parsing and binding: ${p}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const f=this.form[n.$toPages]();return new Promise((p,i)=>{const k=()=>{try{const F=f.next();F.done?p(F.value):setTimeout(k,0)}catch(F){i(F)}};setTimeout(k,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(f=>{const{width:p,height:i}=f.attributes.style;return[0,0,parseInt(p),parseInt(i)]})}catch(f){(0,o.warn)(`XFA - an error occurred during layout: ${f}`)}}getBoundingBox(f){return this.dims[f]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(f){this.form[n.$globalData].images=f}setFonts(f){this.form[n.$globalData].fontFinder=new e.FontFinder(f);const p=[];for(let i of this.form[n.$globalData].usedTypefaces)i=(0,t.stripQuotes)(i),this.form[n.$globalData].fontFinder.find(i)||p.push(i);return p.length>0?p:null}appendFonts(f,p){this.form[n.$globalData].fontFinder.add(f,p)}async getPages(){this.pages||await this._createPages();const f=this.pages;return this.pages=null,f}serializeData(f){return this.dataHandler.serialize(f)}static _createDocument(f){return f["/xdp:xdp"]?Object.values(f).join(""):f["xdp:xdp"]}static getRichTextAsHtml(f){if(!f||typeof f!="string")return null;try{let p=new K.XFAParser(H.XhtmlNamespace,!0).parse(f);if(!["body","xhtml"].includes(p[n.$nodeName])){const _=H.XhtmlNamespace.body({});_[n.$appendChild](p),p=_}const i=p[n.$toHTML]();if(!i.success)return null;const{html:k}=i,{attributes:F}=k;return F&&(F.class&&(F.class=F.class.filter(_=>!_.startsWith("xfa"))),F.dir="auto"),{html:k,str:p[n.$text]()}}catch(p){(0,o.warn)(`XFA - an error occurred during parsing of rich text: ${p}`)}return null}}x.XFAFactory=U},(Pe,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.$uid=x.$toStyle=x.$toString=x.$toPages=x.$toHTML=x.$text=x.$tabIndex=x.$setValue=x.$setSetAttributes=x.$setId=x.$searchNode=x.$root=x.$resolvePrototypes=x.$removeChild=x.$pushPara=x.$pushGlyphs=x.$popPara=x.$onText=x.$onChildCheck=x.$onChild=x.$nsAttributes=x.$nodeName=x.$namespaceId=x.$lastAttribute=x.$isUsable=x.$isTransparent=x.$isThereMoreWidth=x.$isSplittable=x.$isNsAgnostic=x.$isDescendent=x.$isDataValue=x.$isCDATAXml=x.$isBindable=x.$insertAt=x.$indexOf=x.$ids=x.$hasSettableValue=x.$globalData=x.$getTemplateRoot=x.$getSubformParent=x.$getRealChildrenByNameIt=x.$getParent=x.$getNextPage=x.$getExtra=x.$getDataValue=x.$getContainedChildren=x.$getChildrenByNameIt=x.$getChildrenByName=x.$getChildrenByClass=x.$getChildren=x.$getAvailableSpace=x.$getAttributes=x.$getAttributeIt=x.$flushHTML=x.$finalize=x.$extra=x.$dump=x.$data=x.$content=x.$consumed=x.$clone=x.$cleanup=x.$cleanPage=x.$clean=x.$childrenToHTML=x.$appendChild=x.$addHTML=x.$acceptWhitespace=void 0;const ie=Symbol();x.$acceptWhitespace=ie;const n=Symbol();x.$addHTML=n;const w=Symbol();x.$appendChild=w;const O=Symbol();x.$childrenToHTML=O;const e=Symbol();x.$clean=e;const t=Symbol();x.$cleanPage=t;const o=Symbol();x.$cleanup=o;const K=Symbol();x.$clone=K;const H=Symbol();x.$consumed=H;const U=Symbol("content");x.$content=U;const P=Symbol("data");x.$data=P;const f=Symbol();x.$dump=f;const p=Symbol("extra");x.$extra=p;const i=Symbol();x.$finalize=i;const k=Symbol();x.$flushHTML=k;const F=Symbol();x.$getAttributeIt=F;const _=Symbol();x.$getAttributes=_;const C=Symbol();x.$getAvailableSpace=C;const Q=Symbol();x.$getChildrenByClass=Q;const j=Symbol();x.$getChildrenByName=j;const re=Symbol();x.$getChildrenByNameIt=re;const T=Symbol();x.$getDataValue=T;const R=Symbol();x.$getExtra=R;const d=Symbol();x.$getRealChildrenByNameIt=d;const y=Symbol();x.$getChildren=y;const W=Symbol();x.$getContainedChildren=W;const u=Symbol();x.$getNextPage=u;const b=Symbol();x.$getSubformParent=b;const D=Symbol();x.$getParent=D;const J=Symbol();x.$getTemplateRoot=J;const N=Symbol();x.$globalData=N;const v=Symbol();x.$hasSettableValue=v;const S=Symbol();x.$ids=S;const I=Symbol();x.$indexOf=I;const h=Symbol();x.$insertAt=h;const B=Symbol();x.$isCDATAXml=B;const r=Symbol();x.$isBindable=r;const A=Symbol();x.$isDataValue=A;const E=Symbol();x.$isDescendent=E;const G=Symbol();x.$isNsAgnostic=G;const se=Symbol();x.$isSplittable=se;const Ae=Symbol();x.$isThereMoreWidth=Ae;const ke=Symbol();x.$isTransparent=ke;const de=Symbol();x.$isUsable=de;const Ie=Symbol();x.$lastAttribute=Ie;const ge=Symbol("namespaceId");x.$namespaceId=ge;const Be=Symbol("nodeName");x.$nodeName=Be;const ee=Symbol();x.$nsAttributes=ee;const te=Symbol();x.$onChild=te;const fe=Symbol();x.$onChildCheck=fe;const ue=Symbol();x.$onText=ue;const le=Symbol();x.$pushGlyphs=le;const be=Symbol();x.$popPara=be;const Ce=Symbol();x.$pushPara=Ce;const ce=Symbol();x.$removeChild=ce;const Ee=Symbol("root");x.$root=Ee;const ve=Symbol();x.$resolvePrototypes=ve;const he=Symbol();x.$searchNode=he;const Fe=Symbol();x.$setId=Fe;const _e=Symbol();x.$setSetAttributes=_e;const Ne=Symbol();x.$setValue=Ne;const Ze=Symbol();x.$tabIndex=Ze;const tt=Symbol();x.$text=tt;const je=Symbol();x.$toPages=je;const $e=Symbol();x.$toHTML=$e;const He=Symbol();x.$toString=He;const Ve=Symbol();x.$toStyle=Ve;const st=Symbol("uid");x.$uid=st},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Binder=void 0;var n=ie(78),w=ie(80),O=ie(88),e=ie(87),t=ie(81),o=ie(2);const K=t.NamespaceIds.datasets.id;function H(P){const f=new w.Text({});return f[n.$content]=P,f}class U{constructor(f){var p;this.root=f,this.datasets=f.datasets,this.data=((p=f.datasets)==null?void 0:p.data)||new e.XmlObject(t.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[n.$getChildren]().length===0,this.root.form=this.form=f.template[n.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(f,p,i){var k,F;if(f[n.$data]=p,f[n.$hasSettableValue]())if(p[n.$isDataValue]()){const _=p[n.$getDataValue]();f[n.$setValue](H(_))}else if(f instanceof w.Field&&((F=(k=f.ui)==null?void 0:k.choiceList)==null?void 0:F.open)==="multiSelect"){const _=p[n.$getChildren]().map(C=>C[n.$content].trim()).join(`
`);f[n.$setValue](H(_))}else this._isConsumeData()&&(0,o.warn)("XFA - Nodes haven't the same type.");else!p[n.$isDataValue]()||this._isMatchTemplate()?this._bindElement(f,p):(0,o.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(f,p,i,k){if(!f)return null;let F,_;for(let C=0;C<3;C++){for(F=i[n.$getRealChildrenByNameIt](f,!1,!0);_=F.next().value,!!_;)if(p===_[n.$isDataValue]())return _;if(i[n.$namespaceId]===t.NamespaceIds.datasets.id&&i[n.$nodeName]==="data")break;i=i[n.$getParent]()}return k?(F=this.data[n.$getRealChildrenByNameIt](f,!0,!1),_=F.next().value,_||(F=this.data[n.$getAttributeIt](f,!0),_=F.next().value,_!=null&&_[n.$isDataValue]())?_:null):null}_setProperties(f,p){if(f.hasOwnProperty("setProperty"))for(const{ref:i,target:k,connection:F}of f.setProperty.children){if(F||!i)continue;const _=(0,O.searchNode)(this.root,p,i,!1,!1);if(!_){(0,o.warn)(`XFA - Invalid reference: ${i}.`);continue}const[C]=_;if(!C[n.$isDescendent](this.data)){(0,o.warn)("XFA - Invalid node: must be a data node.");continue}const Q=(0,O.searchNode)(this.root,f,k,!1,!1);if(!Q){(0,o.warn)(`XFA - Invalid target: ${k}.`);continue}const[j]=Q;if(!j[n.$isDescendent](f)){(0,o.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const re=j[n.$getParent]();if(j instanceof w.SetProperty||re instanceof w.SetProperty){(0,o.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(j instanceof w.BindItems||re instanceof w.BindItems){(0,o.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const T=C[n.$text](),R=j[n.$nodeName];if(j instanceof e.XFAAttribute){const d=Object.create(null);d[R]=T;const y=Reflect.construct(Object.getPrototypeOf(re).constructor,[d]);re[R]=y[R];continue}if(!j.hasOwnProperty(n.$content)){(0,o.warn)("XFA - Invalid node to use in setProperty");continue}j[n.$data]=C,j[n.$content]=T,j[n.$finalize]()}}_bindItems(f,p){if(!f.hasOwnProperty("items")||!f.hasOwnProperty("bindItems")||f.bindItems.isEmpty())return;for(const F of f.items.children)f[n.$removeChild](F);f.items.clear();const i=new w.Items({}),k=new w.Items({});f[n.$appendChild](i),f.items.push(i),f[n.$appendChild](k),f.items.push(k);for(const{ref:F,labelRef:_,valueRef:C,connection:Q}of f.bindItems.children){if(Q||!F)continue;const j=(0,O.searchNode)(this.root,p,F,!1,!1);if(!j){(0,o.warn)(`XFA - Invalid reference: ${F}.`);continue}for(const re of j){if(!re[n.$isDescendent](this.datasets)){(0,o.warn)(`XFA - Invalid ref (${F}): must be a datasets child.`);continue}const T=(0,O.searchNode)(this.root,re,_,!0,!1);if(!T){(0,o.warn)(`XFA - Invalid label: ${_}.`);continue}const[R]=T;if(!R[n.$isDescendent](this.datasets)){(0,o.warn)("XFA - Invalid label: must be a datasets child.");continue}const d=(0,O.searchNode)(this.root,re,C,!0,!1);if(!d){(0,o.warn)(`XFA - Invalid value: ${C}.`);continue}const[y]=d;if(!y[n.$isDescendent](this.datasets)){(0,o.warn)("XFA - Invalid value: must be a datasets child.");continue}const W=H(R[n.$text]()),u=H(y[n.$text]());i[n.$appendChild](W),i.text.push(W),k[n.$appendChild](u),k.text.push(u)}}}_bindOccurrences(f,p,i){let k;if(p.length>1&&(k=f[n.$clone](),k[n.$removeChild](k.occur),k.occur=null),this._bindValue(f,p[0],i),this._setProperties(f,p[0]),this._bindItems(f,p[0]),p.length===1)return;const F=f[n.$getParent](),_=f[n.$nodeName],C=F[n.$indexOf](f);for(let Q=1,j=p.length;Q<j;Q++){const re=p[Q],T=k[n.$clone]();F[_].push(T),F[n.$insertAt](C+Q,T),this._bindValue(T,re,i),this._setProperties(T,re),this._bindItems(T,re)}}_createOccurrences(f){if(!this.emptyMerge)return;const{occur:p}=f;if(!p||p.initial<=1)return;const i=f[n.$getParent](),k=f[n.$nodeName];if(!(i[k]instanceof e.XFAObjectArray))return;let F;f.name?F=i[k].children.filter(Q=>Q.name===f.name).length:F=i[k].children.length;const _=i[n.$indexOf](f)+1,C=p.initial-F;if(C){const Q=f[n.$clone]();Q[n.$removeChild](Q.occur),Q.occur=null,i[k].push(Q),i[n.$insertAt](_,Q);for(let j=1;j<C;j++){const re=Q[n.$clone]();i[k].push(re),i[n.$insertAt](_+j,re)}}}_getOccurInfo(f){const{name:p,occur:i}=f;if(!i||!p)return[1,1];const k=i.max===-1?1/0:i.max;return[i.min,k]}_setAndBind(f,p){this._setProperties(f,p),this._bindItems(f,p),this._bindElement(f,p)}_bindElement(f,p){const i=[];this._createOccurrences(f);for(const k of f[n.$getChildren]()){if(k[n.$data])continue;if(this._mergeMode===void 0&&k[n.$nodeName]==="subform"){this._mergeMode=k.mergeMode==="consumeData";const T=p[n.$getChildren]();if(T.length>0)this._bindOccurrences(k,[T[0]],null);else if(this.emptyMerge){const R=p[n.$namespaceId]===K?-1:p[n.$namespaceId],d=k[n.$data]=new e.XmlObject(R,k.name||"root");p[n.$appendChild](d),this._bindElement(k,d)}continue}if(!k[n.$isBindable]())continue;let F=!1,_=null,C=null,Q=null;if(k.bind){switch(k.bind.match){case"none":this._setAndBind(k,p);continue;case"global":F=!0;break;case"dataRef":if(!k.bind.ref){(0,o.warn)(`XFA - ref is empty in node ${k[n.$nodeName]}.`),this._setAndBind(k,p);continue}C=k.bind.ref;break}k.bind.picture&&(_=k.bind.picture[n.$content])}const[j,re]=this._getOccurInfo(k);if(C)if(Q=(0,O.searchNode)(this.root,p,C,!0,!1),Q===null){if(Q=(0,O.createDataNode)(this.data,p,C),!Q)continue;this._isConsumeData()&&(Q[n.$consumed]=!0),this._setAndBind(k,Q);continue}else this._isConsumeData()&&(Q=Q.filter(T=>!T[n.$consumed])),Q.length>re?Q=Q.slice(0,re):Q.length===0&&(Q=null),Q&&this._isConsumeData()&&Q.forEach(T=>{T[n.$consumed]=!0});else{if(!k.name){this._setAndBind(k,p);continue}if(this._isConsumeData()){const T=[];for(;T.length<re;){const R=this._findDataByNameToConsume(k.name,k[n.$hasSettableValue](),p,F);if(!R)break;R[n.$consumed]=!0,T.push(R)}Q=T.length>0?T:null}else{if(Q=p[n.$getRealChildrenByNameIt](k.name,!1,this.emptyMerge).next().value,!Q){if(j===0){i.push(k);continue}const T=p[n.$namespaceId]===K?-1:p[n.$namespaceId];Q=k[n.$data]=new e.XmlObject(T,k.name),this.emptyMerge&&(Q[n.$consumed]=!0),p[n.$appendChild](Q),this._setAndBind(k,Q);continue}this.emptyMerge&&(Q[n.$consumed]=!0),Q=[Q]}}Q?this._bindOccurrences(k,Q,_):j>0?this._setAndBind(k,p):i.push(k)}i.forEach(k=>k[n.$getParent]()[n.$removeChild](k))}}x.Binder=U},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Value=x.Text=x.TemplateNamespace=x.Template=x.SetProperty=x.Items=x.Field=x.BindItems=void 0;var n=ie(78),w=ie(81),O=ie(82),e=ie(83),t=ie(87),o=ie(84),K=ie(2),H=ie(85),U=ie(3),P=ie(88);const f=w.NamespaceIds.template.id,p="http://www.w3.org/2000/svg",i=2,k=3,F=5e3,_=/^H(\d+)$/,C=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),Q=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function j(_t){if(!_t||!_t.border)return{w:0,h:0};const l=_t.border[n.$getExtra]();return l?{w:l.widths[0]+l.widths[2]+l.insets[0]+l.insets[2],h:l.widths[1]+l.widths[3]+l.insets[1]+l.insets[3]}:{w:0,h:0}}function re(_t){return _t.margin&&(_t.margin.topInset||_t.margin.rightInset||_t.margin.bottomInset||_t.margin.leftInset)}function T(_t,l){if(!_t.value){const we=new vs({});_t[n.$appendChild](we),_t.value=we}_t.value[n.$setValue](l)}function*R(_t){for(const l of _t[n.$getChildren]()){if(l instanceof Ps){yield*l[n.$getContainedChildren]();continue}yield l}}function d(_t){var l;return((l=_t.validate)==null?void 0:l.nullTest)==="error"}function y(_t){for(;_t;){if(!_t.traversal){_t[n.$tabIndex]=_t[n.$getParent]()[n.$tabIndex];return}if(_t[n.$tabIndex])return;let l=null;for(const Nt of _t.traversal[n.$getChildren]())if(Nt.operation==="next"){l=Nt;break}if(!l||!l.ref){_t[n.$tabIndex]=_t[n.$getParent]()[n.$tabIndex];return}const we=_t[n.$getTemplateRoot]();_t[n.$tabIndex]=++we[n.$tabIndex];const wt=we[n.$searchNode](l.ref,_t);if(!wt)return;_t=wt[0]}}function W(_t,l){var wt;const we=_t.assist;if(we){const Nt=we[n.$toHTML]();Nt&&(l.title=Nt);const qn=we.role.match(_);if(qn){const Mi="heading",_i=qn[1];l.role=Mi,l["aria-level"]=_i}}if(_t.layout==="table")l.role="table";else if(_t.layout==="row")l.role="row";else{const Nt=_t[n.$getParent]();Nt.layout==="row"&&(l.role=((wt=Nt.assist)==null?void 0:wt.role)==="TH"?"columnheader":"cell")}}function u(_t){if(!_t.assist)return null;const l=_t.assist;return l.speak&&l.speak[n.$content]!==""?l.speak[n.$content]:l.toolTip?l.toolTip[n.$content]:null}function b(_t){return o.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:_t}]})}function D(_t){const l=_t[n.$getTemplateRoot]();l[n.$extra].firstUnsplittable===null&&(l[n.$extra].firstUnsplittable=_t,l[n.$extra].noLayoutFailure=!0)}function J(_t){const l=_t[n.$getTemplateRoot]();l[n.$extra].firstUnsplittable===_t&&(l[n.$extra].noLayoutFailure=!1)}function N(_t){if(_t[n.$extra]||(_t[n.$extra]=Object.create(null),_t.targetType==="auto"))return!1;const l=_t[n.$getTemplateRoot]();let we=null;if(_t.target){if(we=l[n.$searchNode](_t.target,_t[n.$getParent]()),!we)return!1;we=we[0]}const{currentPageArea:wt,currentContentArea:Nt}=l[n.$extra];if(_t.targetType==="pageArea")return we instanceof Ki||(we=null),_t.startNew?(_t[n.$extra].target=we||wt,!0):we&&we!==wt?(_t[n.$extra].target=we,!0):!1;we instanceof Ee||(we=null);const Kt=we&&we[n.$getParent]();let qn,Mi=Kt;if(_t.startNew)if(we){const _i=Kt.contentArea.children,pr=_i.indexOf(Nt),br=_i.indexOf(we);pr!==-1&&pr<br&&(Mi=null),qn=br-1}else qn=wt.contentArea.children.indexOf(Nt);else if(we&&we!==Nt)qn=Kt.contentArea.children.indexOf(we)-1,Mi=Kt===wt?null:Kt;else return!1;return _t[n.$extra].target=Mi,_t[n.$extra].index=qn,!0}function v(_t,l,we){const wt=_t[n.$getTemplateRoot](),Nt=wt[n.$extra].noLayoutFailure,Kt=l[n.$getSubformParent];l[n.$getSubformParent]=()=>_t,wt[n.$extra].noLayoutFailure=!0;const qn=l[n.$toHTML](we);_t[n.$addHTML](qn.html,qn.bbox),wt[n.$extra].noLayoutFailure=Nt,l[n.$getSubformParent]=Kt}class S extends t.StringObject{constructor(l){super(f,"appearanceFilter"),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||""}}class I extends t.XFAObject{constructor(l){super(f,"arc",!0),this.circular=(0,o.getInteger)({data:l.circular,defaultValue:0,validate:we=>we===1}),this.hand=(0,o.getStringOption)(l.hand,["even","left","right"]),this.id=l.id||"",this.startAngle=(0,o.getFloat)({data:l.startAngle,defaultValue:0,validate:we=>!0}),this.sweepAngle=(0,o.getFloat)({data:l.sweepAngle,defaultValue:360,validate:we=>!0}),this.use=l.use||"",this.usehref=l.usehref||"",this.edge=null,this.fill=null}[n.$toHTML](){var _i;const l=this.edge||new Ve({}),we=l[n.$toStyle](),wt=Object.create(null);((_i=this.fill)==null?void 0:_i.presence)==="visible"?Object.assign(wt,this.fill[n.$toStyle]()):wt.fill="transparent",wt.strokeWidth=(0,e.measureToString)(l.presence==="visible"?l.thickness:0),wt.stroke=we.color;let Nt;const Kt={xmlns:p,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)Nt={name:"ellipse",attributes:{xmlns:p,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:wt}};else{const pr=this.startAngle*Math.PI/180,br=this.sweepAngle*Math.PI/180,Pr=this.sweepAngle>180?1:0,[kr,Mr,Hr,xr]=[50*(1+Math.cos(pr)),50*(1-Math.sin(pr)),50*(1+Math.cos(pr+br)),50*(1-Math.sin(pr+br))];Nt={name:"path",attributes:{xmlns:p,d:`M ${kr} ${Mr} A 50 50 0 ${Pr} 0 ${Hr} ${xr}`,vectorEffect:"non-scaling-stroke",style:wt}},Object.assign(Kt,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const qn={name:"svg",children:[Nt],attributes:Kt},Mi=this[n.$getParent]()[n.$getParent]();return re(Mi)?o.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[qn]}):(qn.attributes.style.position="absolute",o.HTMLResult.success(qn))}}class h extends t.XFAObject{constructor(l){super(f,"area",!0),this.colSpan=(0,o.getInteger)({data:l.colSpan,defaultValue:1,validate:we=>we>=1||we===-1}),this.id=l.id||"",this.name=l.name||"",this.relevant=(0,o.getRelevant)(l.relevant),this.use=l.use||"",this.usehref=l.usehref||"",this.x=(0,o.getMeasurement)(l.x,"0pt"),this.y=(0,o.getMeasurement)(l.y,"0pt"),this.desc=null,this.extras=null,this.area=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[n.$getContainedChildren](){yield*R(this)}[n.$isTransparent](){return!0}[n.$isBindable](){return!0}[n.$addHTML](l,we){const[wt,Nt,Kt,qn]=we;this[n.$extra].width=Math.max(this[n.$extra].width,wt+Kt),this[n.$extra].height=Math.max(this[n.$extra].height,Nt+qn),this[n.$extra].children.push(l)}[n.$getAvailableSpace](){return this[n.$extra].availableSpace}[n.$toHTML](l){const we=(0,e.toStyle)(this,"position"),wt={style:we,id:this[n.$uid],class:["xfaArea"]};(0,e.isPrintOnly)(this)&&wt.class.push("xfaPrintOnly"),this.name&&(wt.xfaName=this.name);const Nt=[];this[n.$extra]={children:Nt,width:0,height:0,availableSpace:l};const Kt=this[n.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Kt.success)return Kt.isBreak()?Kt:(delete this[n.$extra],o.HTMLResult.FAILURE);we.width=(0,e.measureToString)(this[n.$extra].width),we.height=(0,e.measureToString)(this[n.$extra].height);const qn={name:"div",attributes:wt,children:Nt},Mi=[this.x,this.y,this[n.$extra].width,this[n.$extra].height];return delete this[n.$extra],o.HTMLResult.success(qn,Mi)}}class B extends t.XFAObject{constructor(l){super(f,"assist",!0),this.id=l.id||"",this.role=l.role||"",this.use=l.use||"",this.usehref=l.usehref||"",this.speak=null,this.toolTip=null}[n.$toHTML](){var l;return((l=this.toolTip)==null?void 0:l[n.$content])||null}}class r extends t.XFAObject{constructor(l){super(f,"barcode",!0),this.charEncoding=(0,o.getKeyword)({data:l.charEncoding?l.charEncoding.toLowerCase():"",defaultValue:"",validate:we=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(we)||we.match(/iso-8859-\d{2}/)}),this.checksum=(0,o.getStringOption)(l.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,o.getInteger)({data:l.dataColumnCount,defaultValue:-1,validate:we=>we>=0}),this.dataLength=(0,o.getInteger)({data:l.dataLength,defaultValue:-1,validate:we=>we>=0}),this.dataPrep=(0,o.getStringOption)(l.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,o.getInteger)({data:l.dataRowCount,defaultValue:-1,validate:we=>we>=0}),this.endChar=l.endChar||"",this.errorCorrectionLevel=(0,o.getInteger)({data:l.errorCorrectionLevel,defaultValue:-1,validate:we=>we>=0&&we<=8}),this.id=l.id||"",this.moduleHeight=(0,o.getMeasurement)(l.moduleHeight,"5mm"),this.moduleWidth=(0,o.getMeasurement)(l.moduleWidth,"0.25mm"),this.printCheckDigit=(0,o.getInteger)({data:l.printCheckDigit,defaultValue:0,validate:we=>we===1}),this.rowColumnRatio=(0,o.getRatio)(l.rowColumnRatio),this.startChar=l.startChar||"",this.textLocation=(0,o.getStringOption)(l.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,o.getInteger)({data:l.truncate,defaultValue:0,validate:we=>we===1}),this.type=(0,o.getStringOption)(l.type?l.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,o.getStringOption)(l.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=l.use||"",this.usehref=l.usehref||"",this.wideNarrowRatio=(0,o.getRatio)(l.wideNarrowRatio),this.encrypt=null,this.extras=null}}class A extends t.XFAObject{constructor(l){super(f,"bind",!0),this.match=(0,o.getStringOption)(l.match,["once","dataRef","global","none"]),this.ref=l.ref||"",this.picture=null}}class E extends t.XFAObject{constructor(l){super(f,"bindItems"),this.connection=l.connection||"",this.labelRef=l.labelRef||"",this.ref=l.ref||"",this.valueRef=l.valueRef||""}}x.BindItems=E;class G extends t.XFAObject{constructor(l){super(f,"bookend"),this.id=l.id||"",this.leader=l.leader||"",this.trailer=l.trailer||"",this.use=l.use||"",this.usehref=l.usehref||""}}class se extends t.Option01{constructor(l){super(f,"boolean"),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||""}[n.$toHTML](l){return b(this[n.$content]===1?"1":"0")}}class Ae extends t.XFAObject{constructor(l){super(f,"border",!0),this.break=(0,o.getStringOption)(l.break,["close","open"]),this.hand=(0,o.getStringOption)(l.hand,["even","left","right"]),this.id=l.id||"",this.presence=(0,o.getStringOption)(l.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(l.relevant),this.use=l.use||"",this.usehref=l.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[n.$getExtra](){if(!this[n.$extra]){const l=this.edge.children.slice();if(l.length<4){const Nt=l.at(-1)||new Ve({});for(let Kt=l.length;Kt<4;Kt++)l.push(Nt)}const we=l.map(Nt=>Nt.thickness),wt=[0,0,0,0];this.margin&&(wt[0]=this.margin.topInset,wt[1]=this.margin.rightInset,wt[2]=this.margin.bottomInset,wt[3]=this.margin.leftInset),this[n.$extra]={widths:we,insets:wt,edges:l}}return this[n.$extra]}[n.$toStyle](){var Nt;const{edges:l}=this[n.$getExtra](),we=l.map(Kt=>{const qn=Kt[n.$toStyle]();return qn.color||(qn.color="#000000"),qn}),wt=Object.create(null);if(this.margin&&Object.assign(wt,this.margin[n.$toStyle]()),((Nt=this.fill)==null?void 0:Nt.presence)==="visible"&&Object.assign(wt,this.fill[n.$toStyle]()),this.corner.children.some(Kt=>Kt.radius!==0)){const Kt=this.corner.children.map(qn=>qn[n.$toStyle]());if(Kt.length===2||Kt.length===3){const qn=Kt.at(-1);for(let Mi=Kt.length;Mi<4;Mi++)Kt.push(qn)}wt.borderRadius=Kt.map(qn=>qn.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":wt.borderStyle="";break;case"inactive":wt.borderStyle="none";break;default:wt.borderStyle=we.map(Kt=>Kt.style).join(" ");break}return wt.borderWidth=we.map(Kt=>Kt.width).join(" "),wt.borderColor=we.map(Kt=>Kt.color).join(" "),wt}}class ke extends t.XFAObject{constructor(l){super(f,"break",!0),this.after=(0,o.getStringOption)(l.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=l.afterTarget||"",this.before=(0,o.getStringOption)(l.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=l.beforeTarget||"",this.bookendLeader=l.bookendLeader||"",this.bookendTrailer=l.bookendTrailer||"",this.id=l.id||"",this.overflowLeader=l.overflowLeader||"",this.overflowTarget=l.overflowTarget||"",this.overflowTrailer=l.overflowTrailer||"",this.startNew=(0,o.getInteger)({data:l.startNew,defaultValue:0,validate:we=>we===1}),this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null}}class de extends t.XFAObject{constructor(l){super(f,"breakAfter",!0),this.id=l.id||"",this.leader=l.leader||"",this.startNew=(0,o.getInteger)({data:l.startNew,defaultValue:0,validate:we=>we===1}),this.target=l.target||"",this.targetType=(0,o.getStringOption)(l.targetType,["auto","contentArea","pageArea"]),this.trailer=l.trailer||"",this.use=l.use||"",this.usehref=l.usehref||"",this.script=null}}class Ie extends t.XFAObject{constructor(l){super(f,"breakBefore",!0),this.id=l.id||"",this.leader=l.leader||"",this.startNew=(0,o.getInteger)({data:l.startNew,defaultValue:0,validate:we=>we===1}),this.target=l.target||"",this.targetType=(0,o.getStringOption)(l.targetType,["auto","contentArea","pageArea"]),this.trailer=l.trailer||"",this.use=l.use||"",this.usehref=l.usehref||"",this.script=null}[n.$toHTML](l){return this[n.$extra]={},o.HTMLResult.FAILURE}}class ge extends t.XFAObject{constructor(l){super(f,"button",!0),this.highlight=(0,o.getStringOption)(l.highlight,["inverted","none","outline","push"]),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null}[n.$toHTML](l){const wt=this[n.$getParent]()[n.$getParent](),Nt={name:"button",attributes:{id:this[n.$uid],class:["xfaButton"],style:{}},children:[]};for(const Kt of wt.event.children){if(Kt.activity!=="click"||!Kt.script)continue;const qn=(0,U.recoverJsURL)(Kt.script[n.$content]);if(!qn)continue;const Mi=(0,e.fixURL)(qn.url);Mi&&Nt.children.push({name:"a",attributes:{id:"link"+this[n.$uid],href:Mi,newWindow:qn.newWindow,class:["xfaLink"],style:{}},children:[]})}return o.HTMLResult.success(Nt)}}class Be extends t.XFAObject{constructor(l){super(f,"calculate",!0),this.id=l.id||"",this.override=(0,o.getStringOption)(l.override,["disabled","error","ignore","warning"]),this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null,this.message=null,this.script=null}}class ee extends t.XFAObject{constructor(l){super(f,"caption",!0),this.id=l.id||"",this.placement=(0,o.getStringOption)(l.placement,["left","bottom","inline","right","top"]),this.presence=(0,o.getStringOption)(l.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,o.getMeasurement)(l.reserve)),this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[n.$setValue](l){T(this,l)}[n.$getExtra](l){if(!this[n.$extra]){let{width:we,height:wt}=l;switch(this.placement){case"left":case"right":case"inline":we=this.reserve<=0?we:this.reserve;break;case"top":case"bottom":wt=this.reserve<=0?wt:this.reserve;break}this[n.$extra]=(0,e.layoutNode)(this,{width:we,height:wt})}return this[n.$extra]}[n.$toHTML](l){if(!this.value)return o.HTMLResult.EMPTY;this[n.$pushPara]();const we=this.value[n.$toHTML](l).html;if(!we)return this[n.$popPara](),o.HTMLResult.EMPTY;const wt=this.reserve;if(this.reserve<=0){const{w:qn,h:Mi}=this[n.$getExtra](l);switch(this.placement){case"left":case"right":case"inline":this.reserve=qn;break;case"top":case"bottom":this.reserve=Mi;break}}const Nt=[];typeof we=="string"?Nt.push({name:"#text",value:we}):Nt.push(we);const Kt=(0,e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Kt.width=(0,e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Kt.height=(0,e.measureToString)(this.reserve));break}return(0,e.setPara)(this,null,we),this[n.$popPara](),this.reserve=wt,o.HTMLResult.success({name:"div",attributes:{style:Kt,class:["xfaCaption"]},children:Nt})}}class te extends t.StringObject{constructor(l){super(f,"certificate"),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||""}}class fe extends t.XFAObject{constructor(l){super(f,"certificates",!0),this.credentialServerPolicy=(0,o.getStringOption)(l.credentialServerPolicy,["optional","required"]),this.id=l.id||"",this.url=l.url||"",this.urlPolicy=l.urlPolicy||"",this.use=l.use||"",this.usehref=l.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class ue extends t.XFAObject{constructor(l){super(f,"checkButton",!0),this.id=l.id||"",this.mark=(0,o.getStringOption)(l.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,o.getStringOption)(l.shape,["square","round"]),this.size=(0,o.getMeasurement)(l.size,"10pt"),this.use=l.use||"",this.usehref=l.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](l){var Gr,Ur,ns;const we=(0,e.toStyle)("margin"),wt=(0,e.measureToString)(this.size);we.width=we.height=wt;let Nt,Kt,qn;const Mi=this[n.$getParent]()[n.$getParent](),_i=Mi.items.children.length&&Mi.items.children[0][n.$toHTML]().html||[],pr={on:(_i[0]!==void 0?_i[0]:"on").toString(),off:(_i[1]!==void 0?_i[1]:"off").toString()},Pr=(((Gr=Mi.value)==null?void 0:Gr[n.$text]())||"off")===pr.on||void 0,kr=Mi[n.$getSubformParent](),Mr=Mi[n.$uid];let Hr;kr instanceof dt?(qn=kr[n.$uid],Nt="radio",Kt="xfaRadio",Hr=((Ur=kr[n.$data])==null?void 0:Ur[n.$uid])||kr[n.$uid]):(Nt="checkbox",Kt="xfaCheckbox",Hr=((ns=Mi[n.$data])==null?void 0:ns[n.$uid])||Mi[n.$uid]);const xr={name:"input",attributes:{class:[Kt],style:we,fieldId:Mr,dataId:Hr,type:Nt,checked:Pr,xfaOn:pr.on,xfaOff:pr.off,"aria-label":u(Mi),"aria-required":!1}};return qn&&(xr.attributes.name=qn),d(Mi)&&(xr.attributes["aria-required"]=!0,xr.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[xr]})}}class le extends t.XFAObject{constructor(l){super(f,"choiceList",!0),this.commitOn=(0,o.getStringOption)(l.commitOn,["select","exit"]),this.id=l.id||"",this.open=(0,o.getStringOption)(l.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,o.getInteger)({data:l.textEntry,defaultValue:0,validate:we=>we===1}),this.use=l.use||"",this.usehref=l.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](l){var pr,br,Pr;const we=(0,e.toStyle)(this,"border","margin"),Nt=this[n.$getParent]()[n.$getParent](),qn={fontSize:`calc(${((pr=Nt.font)==null?void 0:pr.size)||10}px * var(--scale-factor))`},Mi=[];if(Nt.items.children.length>0){const kr=Nt.items;let Mr=0,Hr=0;kr.children.length===2&&(Mr=kr.children[0].save,Hr=1-Mr);const xr=kr.children[Mr][n.$toHTML]().html,Gr=kr.children[Hr][n.$toHTML]().html;let Ur=!1;const ns=((br=Nt.value)==null?void 0:br[n.$text]())||"";for(let Nr=0,Cr=xr.length;Nr<Cr;Nr++){const $i={name:"option",attributes:{value:Gr[Nr]||xr[Nr],style:qn},value:xr[Nr]};Gr[Nr]===ns&&($i.attributes.selected=Ur=!0),Mi.push($i)}Ur||Mi.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const _i={class:["xfaSelect"],fieldId:Nt[n.$uid],dataId:((Pr=Nt[n.$data])==null?void 0:Pr[n.$uid])||Nt[n.$uid],style:we,"aria-label":u(Nt),"aria-required":!1};return d(Nt)&&(_i["aria-required"]=!0,_i.required=!0),this.open==="multiSelect"&&(_i.multiple=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:Mi,attributes:_i}]})}}class be extends t.XFAObject{constructor(l){super(f,"color",!0),this.cSpace=(0,o.getStringOption)(l.cSpace,["SRGB"]),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.value=l.value?(0,o.getColor)(l.value):"",this.extras=null}[n.$hasSettableValue](){return!1}[n.$toStyle](){return this.value?K.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Ce extends t.XFAObject{constructor(l){super(f,"comb"),this.id=l.id||"",this.numberOfCells=(0,o.getInteger)({data:l.numberOfCells,defaultValue:0,validate:we=>we>=0}),this.use=l.use||"",this.usehref=l.usehref||""}}class ce extends t.XFAObject{constructor(l){super(f,"connect",!0),this.connection=l.connection||"",this.id=l.id||"",this.ref=l.ref||"",this.usage=(0,o.getStringOption)(l.usage,["exportAndImport","exportOnly","importOnly"]),this.use=l.use||"",this.usehref=l.usehref||"",this.picture=null}}class Ee extends t.XFAObject{constructor(l){super(f,"contentArea",!0),this.h=(0,o.getMeasurement)(l.h),this.id=l.id||"",this.name=l.name||"",this.relevant=(0,o.getRelevant)(l.relevant),this.use=l.use||"",this.usehref=l.usehref||"",this.w=(0,o.getMeasurement)(l.w),this.x=(0,o.getMeasurement)(l.x,"0pt"),this.y=(0,o.getMeasurement)(l.y,"0pt"),this.desc=null,this.extras=null}[n.$toHTML](l){const we=(0,e.measureToString)(this.x),wt=(0,e.measureToString)(this.y),Nt={left:we,top:wt,width:(0,e.measureToString)(this.w),height:(0,e.measureToString)(this.h)},Kt=["xfaContentarea"];return(0,e.isPrintOnly)(this)&&Kt.push("xfaPrintOnly"),o.HTMLResult.success({name:"div",children:[],attributes:{style:Nt,class:Kt,id:this[n.$uid]}})}}class ve extends t.XFAObject{constructor(l){super(f,"corner",!0),this.id=l.id||"",this.inverted=(0,o.getInteger)({data:l.inverted,defaultValue:0,validate:we=>we===1}),this.join=(0,o.getStringOption)(l.join,["square","round"]),this.presence=(0,o.getStringOption)(l.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,o.getMeasurement)(l.radius),this.stroke=(0,o.getStringOption)(l.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,o.getMeasurement)(l.thickness,"0.5pt"),this.use=l.use||"",this.usehref=l.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const l=(0,e.toStyle)(this,"visibility");return l.radius=(0,e.measureToString)(this.join==="square"?0:this.radius),l}}class he extends t.ContentObject{constructor(l){super(f,"date"),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||""}[n.$finalize](){const l=this[n.$content].trim();this[n.$content]=l?new Date(l):null}[n.$toHTML](l){return b(this[n.$content]?this[n.$content].toString():"")}}class Fe extends t.ContentObject{constructor(l){super(f,"dateTime"),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||""}[n.$finalize](){const l=this[n.$content].trim();this[n.$content]=l?new Date(l):null}[n.$toHTML](l){return b(this[n.$content]?this[n.$content].toString():"")}}class _e extends t.XFAObject{constructor(l){super(f,"dateTimeEdit",!0),this.hScrollPolicy=(0,o.getStringOption)(l.hScrollPolicy,["auto","off","on"]),this.id=l.id||"",this.picker=(0,o.getStringOption)(l.picker,["host","none"]),this.use=l.use||"",this.usehref=l.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](l){var Kt;const we=(0,e.toStyle)(this,"border","font","margin"),wt=this[n.$getParent]()[n.$getParent](),Nt={name:"input",attributes:{type:"text",fieldId:wt[n.$uid],dataId:((Kt=wt[n.$data])==null?void 0:Kt[n.$uid])||wt[n.$uid],class:["xfaTextfield"],style:we,"aria-label":u(wt),"aria-required":!1}};return d(wt)&&(Nt.attributes["aria-required"]=!0,Nt.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Nt]})}}class Ne extends t.ContentObject{constructor(l){super(f,"decimal"),this.fracDigits=(0,o.getInteger)({data:l.fracDigits,defaultValue:2,validate:we=>!0}),this.id=l.id||"",this.leadDigits=(0,o.getInteger)({data:l.leadDigits,defaultValue:-1,validate:we=>!0}),this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||""}[n.$finalize](){const l=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(l)?null:l}[n.$toHTML](l){return b(this[n.$content]!==null?this[n.$content].toString():"")}}class Ze extends t.XFAObject{constructor(l){super(f,"defaultUi",!0),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null}}class tt extends t.XFAObject{constructor(l){super(f,"desc",!0),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class je extends t.OptionObject{constructor(l){super(f,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||""}}class $e extends t.XFAObject{constructor(l){super(f,"digestMethods",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||"",this.digestMethod=new t.XFAObjectArray}}class He extends t.XFAObject{constructor(l){super(f,"draw",!0),this.anchorType=(0,o.getStringOption)(l.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:l.colSpan,defaultValue:1,validate:we=>we>=1||we===-1}),this.h=l.h?(0,o.getMeasurement)(l.h):"",this.hAlign=(0,o.getStringOption)(l.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=l.id||"",this.locale=l.locale||"",this.maxH=(0,o.getMeasurement)(l.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(l.maxW,"0pt"),this.minH=(0,o.getMeasurement)(l.minH,"0pt"),this.minW=(0,o.getMeasurement)(l.minW,"0pt"),this.name=l.name||"",this.presence=(0,o.getStringOption)(l.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(l.relevant),this.rotate=(0,o.getInteger)({data:l.rotate,defaultValue:0,validate:we=>we%90===0}),this.use=l.use||"",this.usehref=l.usehref||"",this.w=l.w?(0,o.getMeasurement)(l.w):"",this.x=(0,o.getMeasurement)(l.x,"0pt"),this.y=(0,o.getMeasurement)(l.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new t.XFAObjectArray}[n.$setValue](l){T(this,l)}[n.$toHTML](l){if(y(this),this.presence==="hidden"||this.presence==="inactive")return o.HTMLResult.EMPTY;(0,e.fixDimensions)(this),this[n.$pushPara]();const we=this.w,wt=this.h,{w:Nt,h:Kt,isBroken:qn}=(0,e.layoutNode)(this,l);if(Nt&&this.w===""){if(qn&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),o.HTMLResult.FAILURE;this.w=Nt}if(Kt&&this.h===""&&(this.h=Kt),D(this),!(0,O.checkDimensions)(this,l))return this.w=we,this.h=wt,this[n.$popPara](),o.HTMLResult.FAILURE;J(this);const Mi=(0,e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,e.setMinMaxDimensions)(this,Mi),Mi.margin&&(Mi.padding=Mi.margin,delete Mi.margin);const _i=["xfaDraw"];this.font&&_i.push("xfaFont"),(0,e.isPrintOnly)(this)&&_i.push("xfaPrintOnly");const pr={style:Mi,id:this[n.$uid],class:_i};this.name&&(pr.xfaName=this.name);const br={name:"div",attributes:pr,children:[]};W(this,pr);const Pr=(0,e.computeBbox)(this,br,l),kr=this.value?this.value[n.$toHTML](l).html:null;return kr===null?(this.w=we,this.h=wt,this[n.$popPara](),o.HTMLResult.success((0,e.createWrapper)(this,br),Pr)):(br.children.push(kr),(0,e.setPara)(this,Mi,kr),this.w=we,this.h=wt,this[n.$popPara](),o.HTMLResult.success((0,e.createWrapper)(this,br),Pr))}}class Ve extends t.XFAObject{constructor(l){super(f,"edge",!0),this.cap=(0,o.getStringOption)(l.cap,["square","butt","round"]),this.id=l.id||"",this.presence=(0,o.getStringOption)(l.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,o.getStringOption)(l.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,o.getMeasurement)(l.thickness,"0.5pt"),this.use=l.use||"",this.usehref=l.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const l=(0,e.toStyle)(this,"visibility");if(Object.assign(l,{linecap:this.cap,width:(0,e.measureToString)(this.thickness),color:this.color?this.color[n.$toStyle]():"#000000",style:""}),this.presence!=="visible")l.style="none";else switch(this.stroke){case"solid":l.style="solid";break;case"dashDot":l.style="dashed";break;case"dashDotDot":l.style="dashed";break;case"dashed":l.style="dashed";break;case"dotted":l.style="dotted";break;case"embossed":l.style="ridge";break;case"etched":l.style="groove";break;case"lowered":l.style="inset";break;case"raised":l.style="outset";break}return l}}class st extends t.OptionObject{constructor(l){super(f,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||""}}class pt extends t.XFAObject{constructor(l){super(f,"encodings",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||"",this.encoding=new t.XFAObjectArray}}class at extends t.XFAObject{constructor(l){super(f,"encrypt",!0),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.certificate=null}}class Re extends t.XFAObject{constructor(l){super(f,"encryptData",!0),this.id=l.id||"",this.operation=(0,o.getStringOption)(l.operation,["encrypt","decrypt"]),this.target=l.target||"",this.use=l.use||"",this.usehref=l.usehref||"",this.filter=null,this.manifest=null}}class Ge extends t.XFAObject{constructor(l){super(f,"encryption",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||"",this.certificate=new t.XFAObjectArray}}class gt extends t.OptionObject{constructor(l){super(f,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||""}}class rt extends t.XFAObject{constructor(l){super(f,"encryptionMethods",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||"",this.encryptionMethod=new t.XFAObjectArray}}class Bt extends t.XFAObject{constructor(l){super(f,"event",!0),this.activity=(0,o.getStringOption)(l.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=l.id||"",this.listen=(0,o.getStringOption)(l.listen,["refOnly","refAndDescendents"]),this.name=l.name||"",this.ref=l.ref||"",this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class St extends t.ContentObject{constructor(l){super(f,"exData"),this.contentType=l.contentType||"",this.href=l.href||"",this.id=l.id||"",this.maxLength=(0,o.getInteger)({data:l.maxLength,defaultValue:-1,validate:we=>we>=-1}),this.name=l.name||"",this.rid=l.rid||"",this.transferEncoding=(0,o.getStringOption)(l.transferEncoding,["none","base64","package"]),this.use=l.use||"",this.usehref=l.usehref||""}[n.$isCDATAXml](){return this.contentType==="text/html"}[n.$onChild](l){return this.contentType==="text/html"&&l[n.$namespaceId]===w.NamespaceIds.xhtml.id?(this[n.$content]=l,!0):this.contentType==="text/xml"?(this[n.$content]=l,!0):!1}[n.$toHTML](l){return this.contentType!=="text/html"||!this[n.$content]?o.HTMLResult.EMPTY:this[n.$content][n.$toHTML](l)}}class jn extends t.XFAObject{constructor(l){super(f,"exObject",!0),this.archive=l.archive||"",this.classId=l.classId||"",this.codeBase=l.codeBase||"",this.codeType=l.codeType||"",this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null,this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class dt extends t.XFAObject{constructor(l){super(f,"exclGroup",!0),this.access=(0,o.getStringOption)(l.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=l.accessKey||"",this.anchorType=(0,o.getStringOption)(l.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:l.colSpan,defaultValue:1,validate:we=>we>=1||we===-1}),this.h=l.h?(0,o.getMeasurement)(l.h):"",this.hAlign=(0,o.getStringOption)(l.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=l.id||"",this.layout=(0,o.getStringOption)(l.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,o.getMeasurement)(l.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(l.maxW,"0pt"),this.minH=(0,o.getMeasurement)(l.minH,"0pt"),this.minW=(0,o.getMeasurement)(l.minW,"0pt"),this.name=l.name||"",this.presence=(0,o.getStringOption)(l.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(l.relevant),this.use=l.use||"",this.usehref=l.usehref||"",this.w=l.w?(0,o.getMeasurement)(l.w):"",this.x=(0,o.getMeasurement)(l.x,"0pt"),this.y=(0,o.getMeasurement)(l.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[n.$isBindable](){return!0}[n.$hasSettableValue](){return!0}[n.$setValue](l){for(const we of this.field.children){if(!we.value){const wt=new vs({});we[n.$appendChild](wt),we.value=wt}we.value[n.$setValue](l)}}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}[n.$isSplittable](){var we;const l=this[n.$getSubformParent]();return l[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):(we=l.layout)!=null&&we.endsWith("-tb")&&l[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$flushHTML](){return(0,O.flushHTML)(this)}[n.$addHTML](l,we){(0,O.addHTML)(this,l,we)}[n.$getAvailableSpace](){return(0,O.getAvailableSpace)(this)}[n.$toHTML](l){if(y(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return o.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const we=[],wt={id:this[n.$uid],class:[]};(0,e.setAccess)(this,wt.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:we,attributes:wt,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,l.width),height:Math.min(this.h||1/0,l.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Nt=this[n.$isSplittable]();if(Nt||D(this),!(0,O.checkDimensions)(this,l))return o.HTMLResult.FAILURE;const Kt=new Set(["field"]);if(this.layout.includes("row")){const Ur=this[n.$getSubformParent]().columnWidths;Array.isArray(Ur)&&Ur.length>0&&(this[n.$extra].columnWidths=Ur,this[n.$extra].currentColumn=0)}const qn=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Mi=["xfaExclgroup"],_i=(0,e.layoutClass)(this);_i&&Mi.push(_i),(0,e.isPrintOnly)(this)&&Mi.push("xfaPrintOnly"),wt.style=qn,wt.class=Mi,this.name&&(wt.xfaName=this.name),this[n.$pushPara]();const pr=this.layout==="lr-tb"||this.layout==="rl-tb",br=pr?i:1;for(;this[n.$extra].attempt<br;this[n.$extra].attempt++){pr&&this[n.$extra].attempt===i-1&&(this[n.$extra].numberInLine=0);const Ur=this[n.$childrenToHTML]({filter:Kt,include:!0});if(Ur.success)break;if(Ur.isBreak())return this[n.$popPara](),Ur;if(pr&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!this[n.$getTemplateRoot]()[n.$extra].noLayoutFailure){this[n.$extra].attempt=br;break}}if(this[n.$popPara](),Nt||J(this),this[n.$extra].attempt===br)return Nt||delete this[n.$extra],o.HTMLResult.FAILURE;let Pr=0,kr=0;this.margin&&(Pr=this.margin.leftInset+this.margin.rightInset,kr=this.margin.topInset+this.margin.bottomInset);const Mr=Math.max(this[n.$extra].width+Pr,this.w||0),Hr=Math.max(this[n.$extra].height+kr,this.h||0),xr=[this.x,this.y,Mr,Hr];this.w===""&&(qn.width=(0,e.measureToString)(Mr)),this.h===""&&(qn.height=(0,e.measureToString)(Hr));const Gr={name:"div",attributes:wt,children:we};return W(this,wt),delete this[n.$extra],o.HTMLResult.success((0,e.createWrapper)(this,Gr),xr)}}class Zt extends t.XFAObject{constructor(l){super(f,"execute"),this.connection=l.connection||"",this.executeType=(0,o.getStringOption)(l.executeType,["import","remerge"]),this.id=l.id||"",this.runAt=(0,o.getStringOption)(l.runAt,["client","both","server"]),this.use=l.use||"",this.usehref=l.usehref||""}}class Gt extends t.XFAObject{constructor(l){super(f,"extras",!0),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Ke extends t.XFAObject{constructor(l){super(f,"field",!0),this.access=(0,o.getStringOption)(l.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=l.accessKey||"",this.anchorType=(0,o.getStringOption)(l.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:l.colSpan,defaultValue:1,validate:we=>we>=1||we===-1}),this.h=l.h?(0,o.getMeasurement)(l.h):"",this.hAlign=(0,o.getStringOption)(l.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=l.id||"",this.locale=l.locale||"",this.maxH=(0,o.getMeasurement)(l.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(l.maxW,"0pt"),this.minH=(0,o.getMeasurement)(l.minH,"0pt"),this.minW=(0,o.getMeasurement)(l.minW,"0pt"),this.name=l.name||"",this.presence=(0,o.getStringOption)(l.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(l.relevant),this.rotate=(0,o.getInteger)({data:l.rotate,defaultValue:0,validate:we=>we%90===0}),this.use=l.use||"",this.usehref=l.usehref||"",this.w=l.w?(0,o.getMeasurement)(l.w):"",this.x=(0,o.getMeasurement)(l.x,"0pt"),this.y=(0,o.getMeasurement)(l.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new t.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[n.$isBindable](){return!0}[n.$setValue](l){T(this,l)}[n.$toHTML](l){var Ur,ns,Nr;if(y(this),!this.ui){this.ui=new Xs({}),this.ui[n.$globalData]=this[n.$globalData],this[n.$appendChild](this.ui);let Cr;switch(this.items.children.length){case 0:Cr=new ms({}),this.ui.textEdit=Cr;break;case 1:Cr=new ue({}),this.ui.checkButton=Cr;break;case 2:Cr=new le({}),this.ui.choiceList=Cr;break}this.ui[n.$appendChild](Cr)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return o.HTMLResult.EMPTY;this.caption&&delete this.caption[n.$extra],this[n.$pushPara]();const we=this.caption?this.caption[n.$toHTML](l).html:null,wt=this.w,Nt=this.h;let Kt=0,qn=0;this.margin&&(Kt=this.margin.leftInset+this.margin.rightInset,qn=this.margin.topInset+this.margin.bottomInset);let Mi=null;if(this.w===""||this.h===""){let Cr=null,$i=null,As=0,rs=0;if(this.ui.checkButton)As=rs=this.ui.checkButton.size;else{const{w:xs,h:ls}=(0,e.layoutNode)(this,l);xs!==null?(As=xs,rs=ls):rs=(0,H.getMetrics)(this.font,!0).lineNoGap}if(Mi=j(this.ui[n.$getExtra]()),As+=Mi.w,rs+=Mi.h,this.caption){const{w:xs,h:ls,isBroken:Wr}=this.caption[n.$getExtra](l);if(Wr&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),o.HTMLResult.FAILURE;switch(Cr=xs,$i=ls,this.caption.placement){case"left":case"right":case"inline":Cr+=As;break;case"top":case"bottom":$i+=rs;break}}else Cr=As,$i=rs;Cr&&this.w===""&&(Cr+=Kt,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Cr?Cr:this.minW)),$i&&this.h===""&&($i+=qn,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<$i?$i:this.minH))}if(this[n.$popPara](),(0,e.fixDimensions)(this),D(this),!(0,O.checkDimensions)(this,l))return this.w=wt,this.h=Nt,this[n.$popPara](),o.HTMLResult.FAILURE;J(this);const _i=(0,e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,e.setMinMaxDimensions)(this,_i);const pr=["xfaField"];this.font&&pr.push("xfaFont"),(0,e.isPrintOnly)(this)&&pr.push("xfaPrintOnly");const br={style:_i,id:this[n.$uid],class:pr};_i.margin&&(_i.padding=_i.margin,delete _i.margin),(0,e.setAccess)(this,pr),this.name&&(br.xfaName=this.name);const Pr=[],kr={name:"div",attributes:br,children:Pr};W(this,br);const Mr=this.border?this.border[n.$toStyle]():null,Hr=(0,e.computeBbox)(this,kr,l),xr=this.ui[n.$toHTML]().html;if(!xr)return Object.assign(_i,Mr),o.HTMLResult.success((0,e.createWrapper)(this,kr),Hr);this[n.$tabIndex]&&((Ur=xr.children)!=null&&Ur[0]?xr.children[0].attributes.tabindex=this[n.$tabIndex]:xr.attributes.tabindex=this[n.$tabIndex]),xr.attributes.style||(xr.attributes.style=Object.create(null));let Gr=null;if(this.ui.button?(xr.children.length===1&&([Gr]=xr.children.splice(0,1)),Object.assign(xr.attributes.style,Mr)):Object.assign(_i,Mr),Pr.push(xr),this.value){if(this.ui.imageEdit)xr.children.push(this.value[n.$toHTML]().html);else if(!this.ui.button){let Cr="";if(this.value.exData)Cr=this.value.exData[n.$text]();else if(this.value.text)Cr=this.value.text[n.$getExtra]();else{const $i=this.value[n.$toHTML]().html;$i!==null&&(Cr=$i.children[0].value)}this.ui.textEdit&&((ns=this.value.text)!=null&&ns.maxChars)&&(xr.children[0].attributes.maxLength=this.value.text.maxChars),Cr&&(this.ui.numericEdit&&(Cr=parseFloat(Cr),Cr=isNaN(Cr)?"":Cr.toString()),xr.children[0].name==="textarea"?xr.children[0].attributes.textContent=Cr:xr.children[0].attributes.value=Cr)}}if(!this.ui.imageEdit&&((Nr=xr.children)!=null&&Nr[0])&&this.h){Mi=Mi||j(this.ui[n.$getExtra]());let Cr=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Cr=this.caption.reserve,Cr<=0&&(Cr=this.caption[n.$getExtra](l).h);const $i=this.h-Cr-qn-Mi.h;xr.children[0].attributes.style.height=(0,e.measureToString)($i)}else xr.children[0].attributes.style.height="100%"}if(Gr&&xr.children.push(Gr),!we)return xr.attributes.class&&xr.attributes.class.push("xfaLeft"),this.w=wt,this.h=Nt,o.HTMLResult.success((0,e.createWrapper)(this,kr),Hr);if(this.ui.button)return _i.padding&&delete _i.padding,we.name==="div"&&(we.name="span"),xr.children.push(we),o.HTMLResult.success(kr,Hr);switch(this.ui.checkButton&&(we.attributes.class[0]="xfaCaptionForCheckButton"),xr.attributes.class||(xr.attributes.class=[]),xr.children.splice(0,0,we),this.caption.placement){case"left":xr.attributes.class.push("xfaLeft");break;case"right":xr.attributes.class.push("xfaRight");break;case"top":xr.attributes.class.push("xfaTop");break;case"bottom":xr.attributes.class.push("xfaBottom");break;case"inline":xr.attributes.class.push("xfaLeft");break}return this.w=wt,this.h=Nt,o.HTMLResult.success((0,e.createWrapper)(this,kr),Hr)}}x.Field=Ke;class Ue extends t.XFAObject{constructor(l){super(f,"fill",!0),this.id=l.id||"",this.presence=(0,o.getStringOption)(l.presence,["visible","hidden","inactive","invisible"]),this.use=l.use||"",this.usehref=l.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[n.$toStyle](){var Mi;const l=this[n.$getParent](),wt=l[n.$getParent]()[n.$getParent](),Nt=Object.create(null);let Kt="color",qn=Kt;l instanceof Ae&&(Kt="background-color",qn="background",wt instanceof Xs&&(Nt.backgroundColor="white")),(l instanceof hr||l instanceof I)&&(Kt=qn="fill",Nt.fill="white");for(const _i of Object.getOwnPropertyNames(this)){if(_i==="extras"||_i==="color")continue;const pr=this[_i];if(!(pr instanceof t.XFAObject))continue;const br=pr[n.$toStyle](this.color);return br&&(Nt[br.startsWith("#")?Kt:qn]=br),Nt}if((Mi=this.color)!=null&&Mi.value){const _i=this.color[n.$toStyle]();Nt[_i.startsWith("#")?Kt:qn]=_i}return Nt}}class ze extends t.XFAObject{constructor(l){super(f,"filter",!0),this.addRevocationInfo=(0,o.getStringOption)(l.addRevocationInfo,["","required","optional","none"]),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||"",this.version=(0,o.getInteger)({data:this.version,defaultValue:5,validate:we=>we>=1&&we<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class qe extends t.ContentObject{constructor(l){super(f,"float"),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||""}[n.$finalize](){const l=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(l)?null:l}[n.$toHTML](l){return b(this[n.$content]!==null?this[n.$content].toString():"")}}class ct extends t.XFAObject{constructor(l){super(f,"font",!0),this.baselineShift=(0,o.getMeasurement)(l.baselineShift),this.fontHorizontalScale=(0,o.getFloat)({data:l.fontHorizontalScale,defaultValue:100,validate:we=>we>=0}),this.fontVerticalScale=(0,o.getFloat)({data:l.fontVerticalScale,defaultValue:100,validate:we=>we>=0}),this.id=l.id||"",this.kerningMode=(0,o.getStringOption)(l.kerningMode,["none","pair"]),this.letterSpacing=(0,o.getMeasurement)(l.letterSpacing,"0"),this.lineThrough=(0,o.getInteger)({data:l.lineThrough,defaultValue:0,validate:we=>we===1||we===2}),this.lineThroughPeriod=(0,o.getStringOption)(l.lineThroughPeriod,["all","word"]),this.overline=(0,o.getInteger)({data:l.overline,defaultValue:0,validate:we=>we===1||we===2}),this.overlinePeriod=(0,o.getStringOption)(l.overlinePeriod,["all","word"]),this.posture=(0,o.getStringOption)(l.posture,["normal","italic"]),this.size=(0,o.getMeasurement)(l.size,"10pt"),this.typeface=l.typeface||"Courier",this.underline=(0,o.getInteger)({data:l.underline,defaultValue:0,validate:we=>we===1||we===2}),this.underlinePeriod=(0,o.getStringOption)(l.underlinePeriod,["all","word"]),this.use=l.use||"",this.usehref=l.usehref||"",this.weight=(0,o.getStringOption)(l.weight,["normal","bold"]),this.extras=null,this.fill=null}[n.$clean](l){super[n.$clean](l),this[n.$globalData].usedTypefaces.add(this.typeface)}[n.$toStyle](){const l=(0,e.toStyle)(this,"fill"),we=l.color;return we&&(we==="#000000"?delete l.color:we.startsWith("#")||(l.background=we,l.backgroundClip="text",l.color="transparent")),this.baselineShift&&(l.verticalAlign=(0,e.measureToString)(this.baselineShift)),l.fontKerning=this.kerningMode==="none"?"none":"normal",l.letterSpacing=(0,e.measureToString)(this.letterSpacing),this.lineThrough!==0&&(l.textDecoration="line-through",this.lineThrough===2&&(l.textDecorationStyle="double")),this.overline!==0&&(l.textDecoration="overline",this.overline===2&&(l.textDecorationStyle="double")),l.fontStyle=this.posture,l.fontSize=(0,e.measureToString)(.99*this.size),(0,e.setFontFamily)(this,this,this[n.$globalData].fontFinder,l),this.underline!==0&&(l.textDecoration="underline",this.underline===2&&(l.textDecorationStyle="double")),l.fontWeight=this.weight,l}}class ft extends t.XFAObject{constructor(l){super(f,"format",!0),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null,this.picture=null}}class mt extends t.StringObject{constructor(l){super(f,"handler"),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||""}}class $t extends t.XFAObject{constructor(l){super(f,"hyphenation"),this.excludeAllCaps=(0,o.getInteger)({data:l.excludeAllCaps,defaultValue:0,validate:we=>we===1}),this.excludeInitialCap=(0,o.getInteger)({data:l.excludeInitialCap,defaultValue:0,validate:we=>we===1}),this.hyphenate=(0,o.getInteger)({data:l.hyphenate,defaultValue:0,validate:we=>we===1}),this.id=l.id||"",this.pushCharacterCount=(0,o.getInteger)({data:l.pushCharacterCount,defaultValue:3,validate:we=>we>=0}),this.remainCharacterCount=(0,o.getInteger)({data:l.remainCharacterCount,defaultValue:3,validate:we=>we>=0}),this.use=l.use||"",this.usehref=l.usehref||"",this.wordCharacterCount=(0,o.getInteger)({data:l.wordCharacterCount,defaultValue:7,validate:we=>we>=0})}}class Mt extends t.StringObject{constructor(l){super(f,"image"),this.aspect=(0,o.getStringOption)(l.aspect,["fit","actual","height","none","width"]),this.contentType=l.contentType||"",this.href=l.href||"",this.id=l.id||"",this.name=l.name||"",this.transferEncoding=(0,o.getStringOption)(l.transferEncoding,["base64","none","package"]),this.use=l.use||"",this.usehref=l.usehref||""}[n.$toHTML](){if(this.contentType&&!C.has(this.contentType.toLowerCase()))return o.HTMLResult.EMPTY;let l=this[n.$globalData].images&&this[n.$globalData].images.get(this.href);if(!l&&(this.href||!this[n.$content])||(!l&&this.transferEncoding==="base64"&&(l=(0,K.stringToBytes)(atob(this[n.$content]))),!l))return o.HTMLResult.EMPTY;if(!this.contentType){for(const[Kt,qn]of Q)if(l.length>Kt.length&&Kt.every((Mi,_i)=>Mi===l[_i])){this.contentType=qn;break}if(!this.contentType)return o.HTMLResult.EMPTY}const we=new Blob([l],{type:this.contentType});let wt;switch(this.aspect){case"fit":case"actual":break;case"height":wt={height:"100%",objectFit:"fill"};break;case"none":wt={width:"100%",height:"100%",objectFit:"fill"};break;case"width":wt={width:"100%",objectFit:"fill"};break}const Nt=this[n.$getParent]();return o.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:wt,src:URL.createObjectURL(we),alt:Nt?u(Nt[n.$getParent]()):null}})}}class Dt extends t.XFAObject{constructor(l){super(f,"imageEdit",!0),this.data=(0,o.getStringOption)(l.data,["link","embed"]),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](l){return this.data==="embed"?o.HTMLResult.success({name:"div",children:[],attributes:{}}):o.HTMLResult.EMPTY}}class Xt extends t.ContentObject{constructor(l){super(f,"integer"),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||""}[n.$finalize](){const l=parseInt(this[n.$content].trim(),10);this[n.$content]=isNaN(l)?null:l}[n.$toHTML](l){return b(this[n.$content]!==null?this[n.$content].toString():"")}}class Vt extends t.XFAObject{constructor(l){super(f,"issuers",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||"",this.certificate=new t.XFAObjectArray}}class Jt extends t.XFAObject{constructor(l){super(f,"items",!0),this.id=l.id||"",this.name=l.name||"",this.presence=(0,o.getStringOption)(l.presence,["visible","hidden","inactive","invisible"]),this.ref=l.ref||"",this.save=(0,o.getInteger)({data:l.save,defaultValue:0,validate:we=>we===1}),this.use=l.use||"",this.usehref=l.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[n.$toHTML](){const l=[];for(const we of this[n.$getChildren]())l.push(we[n.$text]());return o.HTMLResult.success(l)}}x.Items=Jt;class zn extends t.XFAObject{constructor(l){super(f,"keep",!0),this.id=l.id||"";const we=["none","contentArea","pageArea"];this.intact=(0,o.getStringOption)(l.intact,we),this.next=(0,o.getStringOption)(l.next,we),this.previous=(0,o.getStringOption)(l.previous,we),this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null}}class tn extends t.XFAObject{constructor(l){super(f,"keyUsage");const we=["","yes","no"];this.crlSign=(0,o.getStringOption)(l.crlSign,we),this.dataEncipherment=(0,o.getStringOption)(l.dataEncipherment,we),this.decipherOnly=(0,o.getStringOption)(l.decipherOnly,we),this.digitalSignature=(0,o.getStringOption)(l.digitalSignature,we),this.encipherOnly=(0,o.getStringOption)(l.encipherOnly,we),this.id=l.id||"",this.keyAgreement=(0,o.getStringOption)(l.keyAgreement,we),this.keyCertSign=(0,o.getStringOption)(l.keyCertSign,we),this.keyEncipherment=(0,o.getStringOption)(l.keyEncipherment,we),this.nonRepudiation=(0,o.getStringOption)(l.nonRepudiation,we),this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||""}}class Gi extends t.XFAObject{constructor(l){super(f,"line",!0),this.hand=(0,o.getStringOption)(l.hand,["even","left","right"]),this.id=l.id||"",this.slope=(0,o.getStringOption)(l.slope,["\\","/"]),this.use=l.use||"",this.usehref=l.usehref||"",this.edge=null}[n.$toHTML](){const l=this[n.$getParent]()[n.$getParent](),we=this.edge||new Ve({}),wt=we[n.$toStyle](),Nt=Object.create(null),Kt=we.presence==="visible"?we.thickness:0;Nt.strokeWidth=(0,e.measureToString)(Kt),Nt.stroke=wt.color;let qn,Mi,_i,pr,br="100%",Pr="100%";l.w<=Kt?([qn,Mi,_i,pr]=["50%",0,"50%","100%"],br=Nt.strokeWidth):l.h<=Kt?([qn,Mi,_i,pr]=[0,"50%","100%","50%"],Pr=Nt.strokeWidth):this.slope==="\\"?[qn,Mi,_i,pr]=[0,0,"100%","100%"]:[qn,Mi,_i,pr]=[0,"100%","100%",0];const Mr={name:"svg",children:[{name:"line",attributes:{xmlns:p,x1:qn,y1:Mi,x2:_i,y2:pr,style:Nt}}],attributes:{xmlns:p,width:br,height:Pr,style:{overflow:"visible"}}};return re(l)?o.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Mr]}):(Mr.attributes.style.position="absolute",o.HTMLResult.success(Mr))}}class fr extends t.XFAObject{constructor(l){super(f,"linear",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["toRight","toBottom","toLeft","toTop"]),this.use=l.use||"",this.usehref=l.usehref||"",this.color=null,this.extras=null}[n.$toStyle](l){l=l?l[n.$toStyle]():"#FFFFFF";const we=this.type.replace(/([RBLT])/," $1").toLowerCase(),wt=this.color?this.color[n.$toStyle]():"#000000";return`linear-gradient(${we}, ${l}, ${wt})`}}class Lt extends t.ContentObject{constructor(l){super(f,"lockDocument"),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||""}[n.$finalize](){this[n.$content]=(0,o.getStringOption)(this[n.$content],["auto","0","1"])}}class Ot extends t.XFAObject{constructor(l){super(f,"manifest",!0),this.action=(0,o.getStringOption)(l.action,["include","all","exclude"]),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null,this.ref=new t.XFAObjectArray}}class jt extends t.XFAObject{constructor(l){super(f,"margin",!0),this.bottomInset=(0,o.getMeasurement)(l.bottomInset,"0"),this.id=l.id||"",this.leftInset=(0,o.getMeasurement)(l.leftInset,"0"),this.rightInset=(0,o.getMeasurement)(l.rightInset,"0"),this.topInset=(0,o.getMeasurement)(l.topInset,"0"),this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null}[n.$toStyle](){return{margin:(0,e.measureToString)(this.topInset)+" "+(0,e.measureToString)(this.rightInset)+" "+(0,e.measureToString)(this.bottomInset)+" "+(0,e.measureToString)(this.leftInset)}}}class Wt extends t.XFAObject{constructor(l){super(f,"mdp"),this.id=l.id||"",this.permissions=(0,o.getInteger)({data:l.permissions,defaultValue:2,validate:we=>we===1||we===3}),this.signatureType=(0,o.getStringOption)(l.signatureType,["filler","author"]),this.use=l.use||"",this.usehref=l.usehref||""}}class bn extends t.XFAObject{constructor(l){super(f,"medium"),this.id=l.id||"",this.imagingBBox=(0,o.getBBox)(l.imagingBBox),this.long=(0,o.getMeasurement)(l.long),this.orientation=(0,o.getStringOption)(l.orientation,["portrait","landscape"]),this.short=(0,o.getMeasurement)(l.short),this.stock=l.stock||"",this.trayIn=(0,o.getStringOption)(l.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,o.getStringOption)(l.trayOut,["auto","delegate"]),this.use=l.use||"",this.usehref=l.usehref||""}}class Ni extends t.XFAObject{constructor(l){super(f,"message",!0),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.text=new t.XFAObjectArray}}class $n extends t.XFAObject{constructor(l){super(f,"numericEdit",!0),this.hScrollPolicy=(0,o.getStringOption)(l.hScrollPolicy,["auto","off","on"]),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](l){var Kt;const we=(0,e.toStyle)(this,"border","font","margin"),wt=this[n.$getParent]()[n.$getParent](),Nt={name:"input",attributes:{type:"text",fieldId:wt[n.$uid],dataId:((Kt=wt[n.$data])==null?void 0:Kt[n.$uid])||wt[n.$uid],class:["xfaTextfield"],style:we,"aria-label":u(wt),"aria-required":!1}};return d(wt)&&(Nt.attributes["aria-required"]=!0,Nt.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Nt]})}}class zt extends t.XFAObject{constructor(l){super(f,"occur",!0),this.id=l.id||"",this.initial=l.initial!==""?(0,o.getInteger)({data:l.initial,defaultValue:"",validate:we=>!0}):"",this.max=l.max!==""?(0,o.getInteger)({data:l.max,defaultValue:1,validate:we=>!0}):"",this.min=l.min!==""?(0,o.getInteger)({data:l.min,defaultValue:1,validate:we=>!0}):"",this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null}[n.$clean](){const l=this[n.$getParent](),we=this.min;this.min===""&&(this.min=l instanceof Ki||l instanceof Yi?0:1),this.max===""&&(we===""?this.max=l instanceof Ki||l instanceof Yi?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=l instanceof Gs?1:this.min)}}class Oi extends t.StringObject{constructor(l){super(f,"oid"),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||""}}class zi extends t.XFAObject{constructor(l){super(f,"oids",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||"",this.oid=new t.XFAObjectArray}}class mr extends t.XFAObject{constructor(l){super(f,"overflow"),this.id=l.id||"",this.leader=l.leader||"",this.target=l.target||"",this.trailer=l.trailer||"",this.use=l.use||"",this.usehref=l.usehref||""}[n.$getExtra](){if(!this[n.$extra]){const l=this[n.$getParent](),we=this[n.$getTemplateRoot](),wt=we[n.$searchNode](this.target,l),Nt=we[n.$searchNode](this.leader,l),Kt=we[n.$searchNode](this.trailer,l);this[n.$extra]={target:(wt==null?void 0:wt[0])||null,leader:(Nt==null?void 0:Nt[0])||null,trailer:(Kt==null?void 0:Kt[0])||null,addLeader:!1,addTrailer:!1}}return this[n.$extra]}}class Ki extends t.XFAObject{constructor(l){super(f,"pageArea",!0),this.blankOrNotBlank=(0,o.getStringOption)(l.blankOrNotBlank,["any","blank","notBlank"]),this.id=l.id||"",this.initialNumber=(0,o.getInteger)({data:l.initialNumber,defaultValue:1,validate:we=>!0}),this.name=l.name||"",this.numbered=(0,o.getInteger)({data:l.numbered,defaultValue:1,validate:we=>!0}),this.oddOrEven=(0,o.getStringOption)(l.oddOrEven,["any","even","odd"]),this.pagePosition=(0,o.getStringOption)(l.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,o.getRelevant)(l.relevant),this.use=l.use||"",this.usehref=l.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray}[n.$isUsable](){return this[n.$extra]?!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max:(this[n.$extra]={numberOfUse:0},!0)}[n.$cleanPage](){delete this[n.$extra]}[n.$getNextPage](){this[n.$extra]||(this[n.$extra]={numberOfUse:0});const l=this[n.$getParent]();return l.relation==="orderedOccurrence"&&this[n.$isUsable]()?(this[n.$extra].numberOfUse+=1,this):l[n.$getNextPage]()}[n.$getAvailableSpace](){return this[n.$extra].space||{width:0,height:0}}[n.$toHTML](){this[n.$extra]||(this[n.$extra]={numberOfUse:1});const l=[];this[n.$extra].children=l;const we=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(we.width=(0,e.measureToString)(this.medium.short),we.height=(0,e.measureToString)(this.medium.long),this[n.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const wt=we.width;we.width=we.height,we.height=wt,this[n.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,K.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[n.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[n.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),o.HTMLResult.success({name:"div",children:l,attributes:{class:["xfaPage"],id:this[n.$uid],style:we,xfaName:this.name}})}}class Yi extends t.XFAObject{constructor(l){super(f,"pageSet",!0),this.duplexImposition=(0,o.getStringOption)(l.duplexImposition,["longEdge","shortEdge"]),this.id=l.id||"",this.name=l.name||"",this.relation=(0,o.getStringOption)(l.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,o.getRelevant)(l.relevant),this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null,this.occur=null,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray}[n.$cleanPage](){for(const l of this.pageArea.children)l[n.$cleanPage]();for(const l of this.pageSet.children)l[n.$cleanPage]()}[n.$isUsable](){return!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max}[n.$getNextPage](){if(this[n.$extra]||(this[n.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[n.$extra].pageIndex+1<this.pageArea.children.length)return this[n.$extra].pageIndex+=1,this.pageArea.children[this[n.$extra].pageIndex][n.$getNextPage]();if(this[n.$extra].pageSetIndex+1<this.pageSet.children.length)return this[n.$extra].pageSetIndex+=1,this.pageSet.children[this[n.$extra].pageSetIndex][n.$getNextPage]();if(this[n.$isUsable]())return this[n.$extra].numberOfUse+=1,this[n.$extra].pageIndex=-1,this[n.$extra].pageSetIndex=-1,this[n.$getNextPage]();const Kt=this[n.$getParent]();return Kt instanceof Yi?Kt[n.$getNextPage]():(this[n.$cleanPage](),this[n.$getNextPage]())}const l=this[n.$getTemplateRoot]()[n.$extra].pageNumber,we=l%2===0?"even":"odd",wt=l===0?"first":"rest";let Nt=this.pageArea.children.find(Kt=>Kt.oddOrEven===we&&Kt.pagePosition===wt);return Nt||(Nt=this.pageArea.children.find(Kt=>Kt.oddOrEven==="any"&&Kt.pagePosition===wt),Nt)||(Nt=this.pageArea.children.find(Kt=>Kt.oddOrEven==="any"&&Kt.pagePosition==="any"),Nt)?Nt:this.pageArea.children[0]}}class gr extends t.XFAObject{constructor(l){super(f,"para",!0),this.hAlign=(0,o.getStringOption)(l.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=l.id||"",this.lineHeight=l.lineHeight?(0,o.getMeasurement)(l.lineHeight,"0pt"):"",this.marginLeft=l.marginLeft?(0,o.getMeasurement)(l.marginLeft,"0pt"):"",this.marginRight=l.marginRight?(0,o.getMeasurement)(l.marginRight,"0pt"):"",this.orphans=(0,o.getInteger)({data:l.orphans,defaultValue:0,validate:we=>we>=0}),this.preserve=l.preserve||"",this.radixOffset=l.radixOffset?(0,o.getMeasurement)(l.radixOffset,"0pt"):"",this.spaceAbove=l.spaceAbove?(0,o.getMeasurement)(l.spaceAbove,"0pt"):"",this.spaceBelow=l.spaceBelow?(0,o.getMeasurement)(l.spaceBelow,"0pt"):"",this.tabDefault=l.tabDefault?(0,o.getMeasurement)(this.tabDefault):"",this.tabStops=(l.tabStops||"").trim().split(/\s+/).map((we,wt)=>wt%2===1?(0,o.getMeasurement)(we):we),this.textIndent=l.textIndent?(0,o.getMeasurement)(l.textIndent,"0pt"):"",this.use=l.use||"",this.usehref=l.usehref||"",this.vAlign=(0,o.getStringOption)(l.vAlign,["top","bottom","middle"]),this.widows=(0,o.getInteger)({data:l.widows,defaultValue:0,validate:we=>we>=0}),this.hyphenation=null}[n.$toStyle](){const l=(0,e.toStyle)(this,"hAlign");return this.marginLeft!==""&&(l.paddingLeft=(0,e.measureToString)(this.marginLeft)),this.marginRight!==""&&(l.paddingight=(0,e.measureToString)(this.marginRight)),this.spaceAbove!==""&&(l.paddingTop=(0,e.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(l.paddingBottom=(0,e.measureToString)(this.spaceBelow)),this.textIndent!==""&&(l.textIndent=(0,e.measureToString)(this.textIndent),(0,e.fixTextIndent)(l)),this.lineHeight>0&&(l.lineHeight=(0,e.measureToString)(this.lineHeight)),this.tabDefault!==""&&(l.tabSize=(0,e.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(l,this.hyphenatation[n.$toStyle]()),l}}class Pi extends t.XFAObject{constructor(l){super(f,"passwordEdit",!0),this.hScrollPolicy=(0,o.getStringOption)(l.hScrollPolicy,["auto","off","on"]),this.id=l.id||"",this.passwordChar=l.passwordChar||"*",this.use=l.use||"",this.usehref=l.usehref||"",this.border=null,this.extras=null,this.margin=null}}class qi extends t.XFAObject{constructor(l){super(f,"pattern",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=l.use||"",this.usehref=l.usehref||"",this.color=null,this.extras=null}[n.$toStyle](l){l=l?l[n.$toStyle]():"#FFFFFF";const we=this.color?this.color[n.$toStyle]():"#000000",wt=5,Nt="repeating-linear-gradient",Kt=`${l},${l} ${wt}px,${we} ${wt}px,${we} ${2*wt}px`;switch(this.type){case"crossHatch":return`${Nt}(to top,${Kt}) ${Nt}(to right,${Kt})`;case"crossDiagonal":return`${Nt}(45deg,${Kt}) ${Nt}(-45deg,${Kt})`;case"diagonalLeft":return`${Nt}(45deg,${Kt})`;case"diagonalRight":return`${Nt}(-45deg,${Kt})`;case"horizontal":return`${Nt}(to top,${Kt})`;case"vertical":return`${Nt}(to right,${Kt})`}return""}}class ki extends t.StringObject{constructor(l){super(f,"picture"),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||""}}class dr extends t.XFAObject{constructor(l){super(f,"proto",!0),this.appearanceFilter=new t.XFAObjectArray,this.arc=new t.XFAObjectArray,this.area=new t.XFAObjectArray,this.assist=new t.XFAObjectArray,this.barcode=new t.XFAObjectArray,this.bindItems=new t.XFAObjectArray,this.bookend=new t.XFAObjectArray,this.boolean=new t.XFAObjectArray,this.border=new t.XFAObjectArray,this.break=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.button=new t.XFAObjectArray,this.calculate=new t.XFAObjectArray,this.caption=new t.XFAObjectArray,this.certificate=new t.XFAObjectArray,this.certificates=new t.XFAObjectArray,this.checkButton=new t.XFAObjectArray,this.choiceList=new t.XFAObjectArray,this.color=new t.XFAObjectArray,this.comb=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.corner=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.dateTimeEdit=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.defaultUi=new t.XFAObjectArray,this.desc=new t.XFAObjectArray,this.digestMethod=new t.XFAObjectArray,this.digestMethods=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.edge=new t.XFAObjectArray,this.encoding=new t.XFAObjectArray,this.encodings=new t.XFAObjectArray,this.encrypt=new t.XFAObjectArray,this.encryptData=new t.XFAObjectArray,this.encryption=new t.XFAObjectArray,this.encryptionMethod=new t.XFAObjectArray,this.encryptionMethods=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.execute=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.fill=new t.XFAObjectArray,this.filter=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.font=new t.XFAObjectArray,this.format=new t.XFAObjectArray,this.handler=new t.XFAObjectArray,this.hyphenation=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.imageEdit=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.issuers=new t.XFAObjectArray,this.items=new t.XFAObjectArray,this.keep=new t.XFAObjectArray,this.keyUsage=new t.XFAObjectArray,this.line=new t.XFAObjectArray,this.linear=new t.XFAObjectArray,this.lockDocument=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.margin=new t.XFAObjectArray,this.mdp=new t.XFAObjectArray,this.medium=new t.XFAObjectArray,this.message=new t.XFAObjectArray,this.numericEdit=new t.XFAObjectArray,this.occur=new t.XFAObjectArray,this.oid=new t.XFAObjectArray,this.oids=new t.XFAObjectArray,this.overflow=new t.XFAObjectArray,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray,this.para=new t.XFAObjectArray,this.passwordEdit=new t.XFAObjectArray,this.pattern=new t.XFAObjectArray,this.picture=new t.XFAObjectArray,this.radial=new t.XFAObjectArray,this.reason=new t.XFAObjectArray,this.reasons=new t.XFAObjectArray,this.rectangle=new t.XFAObjectArray,this.ref=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.signData=new t.XFAObjectArray,this.signature=new t.XFAObjectArray,this.signing=new t.XFAObjectArray,this.solid=new t.XFAObjectArray,this.speak=new t.XFAObjectArray,this.stipple=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray,this.subjectDN=new t.XFAObjectArray,this.subjectDNs=new t.XFAObjectArray,this.submit=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.textEdit=new t.XFAObjectArray,this.time=new t.XFAObjectArray,this.timeStamp=new t.XFAObjectArray,this.toolTip=new t.XFAObjectArray,this.traversal=new t.XFAObjectArray,this.traverse=new t.XFAObjectArray,this.ui=new t.XFAObjectArray,this.validate=new t.XFAObjectArray,this.value=new t.XFAObjectArray,this.variables=new t.XFAObjectArray}}class Zi extends t.XFAObject{constructor(l){super(f,"radial",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["toEdge","toCenter"]),this.use=l.use||"",this.usehref=l.usehref||"",this.color=null,this.extras=null}[n.$toStyle](l){l=l?l[n.$toStyle]():"#FFFFFF";const we=this.color?this.color[n.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${l},${we}`:`${we},${l}`})`}}class jr extends t.StringObject{constructor(l){super(f,"reason"),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||""}}class nr extends t.XFAObject{constructor(l){super(f,"reasons",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||"",this.reason=new t.XFAObjectArray}}class hr extends t.XFAObject{constructor(l){super(f,"rectangle",!0),this.hand=(0,o.getStringOption)(l.hand,["even","left","right"]),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.fill=null}[n.$toHTML](){var pr;const l=this.edge.children.length?this.edge.children[0]:new Ve({}),we=l[n.$toStyle](),wt=Object.create(null);((pr=this.fill)==null?void 0:pr.presence)==="visible"?Object.assign(wt,this.fill[n.$toStyle]()):wt.fill="transparent",wt.strokeWidth=(0,e.measureToString)(l.presence==="visible"?l.thickness:0),wt.stroke=we.color;const Kt=(this.corner.children.length?this.corner.children[0]:new ve({}))[n.$toStyle](),Mi={name:"svg",children:[{name:"rect",attributes:{xmlns:p,width:"100%",height:"100%",x:0,y:0,rx:Kt.radius,ry:Kt.radius,style:wt}}],attributes:{xmlns:p,style:{overflow:"visible"},width:"100%",height:"100%"}},_i=this[n.$getParent]()[n.$getParent]();return re(_i)?o.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Mi]}):(Mi.attributes.style.position="absolute",o.HTMLResult.success(Mi))}}class Er extends t.StringObject{constructor(l){super(f,"ref"),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||""}}class Dr extends t.StringObject{constructor(l){super(f,"script"),this.binding=l.binding||"",this.contentType=l.contentType||"",this.id=l.id||"",this.name=l.name||"",this.runAt=(0,o.getStringOption)(l.runAt,["client","both","server"]),this.use=l.use||"",this.usehref=l.usehref||""}}class Jr extends t.XFAObject{constructor(l){super(f,"setProperty"),this.connection=l.connection||"",this.ref=l.ref||"",this.target=l.target||""}}x.SetProperty=Jr;class Bs extends t.XFAObject{constructor(l){super(f,"signData",!0),this.id=l.id||"",this.operation=(0,o.getStringOption)(l.operation,["sign","clear","verify"]),this.ref=l.ref||"",this.target=l.target||"",this.use=l.use||"",this.usehref=l.usehref||"",this.filter=null,this.manifest=null}}class Qa extends t.XFAObject{constructor(l){super(f,"signature",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["PDF1.3","PDF1.6"]),this.use=l.use||"",this.usehref=l.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class _s extends t.XFAObject{constructor(l){super(f,"signing",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||"",this.certificate=new t.XFAObjectArray}}class eo extends t.XFAObject{constructor(l){super(f,"solid",!0),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null}[n.$toStyle](l){return l?l[n.$toStyle]():"#FFFFFF"}}class ta extends t.StringObject{constructor(l){super(f,"speak"),this.disable=(0,o.getInteger)({data:l.disable,defaultValue:0,validate:we=>we===1}),this.id=l.id||"",this.priority=(0,o.getStringOption)(l.priority,["custom","caption","name","toolTip"]),this.rid=l.rid||"",this.use=l.use||"",this.usehref=l.usehref||""}}class to extends t.XFAObject{constructor(l){super(f,"stipple",!0),this.id=l.id||"",this.rate=(0,o.getInteger)({data:l.rate,defaultValue:50,validate:we=>we>=0&&we<=100}),this.use=l.use||"",this.usehref=l.usehref||"",this.color=null,this.extras=null}[n.$toStyle](l){const we=this.rate/100;return K.Util.makeHexColor(Math.round(l.value.r*(1-we)+this.value.r*we),Math.round(l.value.g*(1-we)+this.value.g*we),Math.round(l.value.b*(1-we)+this.value.b*we))}}class na extends t.XFAObject{constructor(l){super(f,"subform",!0),this.access=(0,o.getStringOption)(l.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,o.getInteger)({data:l.allowMacro,defaultValue:0,validate:we=>we===1}),this.anchorType=(0,o.getStringOption)(l.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:l.colSpan,defaultValue:1,validate:we=>we>=1||we===-1}),this.columnWidths=(l.columnWidths||"").trim().split(/\s+/).map(we=>we==="-1"?-1:(0,o.getMeasurement)(we)),this.h=l.h?(0,o.getMeasurement)(l.h):"",this.hAlign=(0,o.getStringOption)(l.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=l.id||"",this.layout=(0,o.getStringOption)(l.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=l.locale||"",this.maxH=(0,o.getMeasurement)(l.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(l.maxW,"0pt"),this.mergeMode=(0,o.getStringOption)(l.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,o.getMeasurement)(l.minH,"0pt"),this.minW=(0,o.getMeasurement)(l.minW,"0pt"),this.name=l.name||"",this.presence=(0,o.getStringOption)(l.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(l.relevant),this.restoreState=(0,o.getStringOption)(l.restoreState,["manual","auto"]),this.scope=(0,o.getStringOption)(l.scope,["name","none"]),this.use=l.use||"",this.usehref=l.usehref||"",this.w=l.w?(0,o.getMeasurement)(l.w):"",this.x=(0,o.getMeasurement)(l.x,"0pt"),this.y=(0,o.getMeasurement)(l.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.proto=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[n.$getSubformParent](){const l=this[n.$getParent]();return l instanceof Ps?l[n.$getSubformParent]():l}[n.$isBindable](){return!0}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}*[n.$getContainedChildren](){yield*R(this)}[n.$flushHTML](){return(0,O.flushHTML)(this)}[n.$addHTML](l,we){(0,O.addHTML)(this,l,we)}[n.$getAvailableSpace](){return(0,O.getAvailableSpace)(this)}[n.$isSplittable](){var we;const l=this[n.$getSubformParent]();return l[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[n.$extra]._isSplittable=!1,!1):(we=l.layout)!=null&&we.endsWith("-tb")&&l[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$toHTML](l){var Cr;if(y(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const $i=new de({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});$i[n.$globalData]=this[n.$globalData],this[n.$appendChild]($i),this.breakAfter.push($i)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const $i=new Ie({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});$i[n.$globalData]=this[n.$globalData],this[n.$appendChild]($i),this.breakBefore.push($i)}if(this.break.overflowTarget!==""){const $i=new mr({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});$i[n.$globalData]=this[n.$globalData],this[n.$appendChild]($i),this.overflow.push($i)}this[n.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return o.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,K.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const $i=this.breakBefore.children[0];if(N($i))return o.HTMLResult.breakNode($i)}if((Cr=this[n.$extra])!=null&&Cr.afterBreakAfter)return o.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const we=[],wt={id:this[n.$uid],class:[]};(0,e.setAccess)(this,wt.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:we,line:null,attributes:wt,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,l.width),height:Math.min(this.h||1/0,l.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Nt=this[n.$getTemplateRoot](),Kt=Nt[n.$extra].noLayoutFailure,qn=this[n.$isSplittable]();if(qn||D(this),!(0,O.checkDimensions)(this,l))return o.HTMLResult.FAILURE;const Mi=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const $i=this[n.$getSubformParent]().columnWidths;Array.isArray($i)&&$i.length>0&&(this[n.$extra].columnWidths=$i,this[n.$extra].currentColumn=0)}const _i=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),pr=["xfaSubform"],br=(0,e.layoutClass)(this);if(br&&pr.push(br),wt.style=_i,wt.class=pr,this.name&&(wt.xfaName=this.name),this.overflow){const $i=this.overflow[n.$getExtra]();$i.addLeader&&($i.addLeader=!1,v(this,$i.leader,l))}this[n.$pushPara]();const Pr=this.layout==="lr-tb"||this.layout==="rl-tb",kr=Pr?i:1;for(;this[n.$extra].attempt<kr;this[n.$extra].attempt++){Pr&&this[n.$extra].attempt===i-1&&(this[n.$extra].numberInLine=0);const $i=this[n.$childrenToHTML]({filter:Mi,include:!0});if($i.success)break;if($i.isBreak())return this[n.$popPara](),$i;if(Pr&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!Nt[n.$extra].noLayoutFailure){this[n.$extra].attempt=kr;break}}if(this[n.$popPara](),qn||J(this),Nt[n.$extra].noLayoutFailure=Kt,this[n.$extra].attempt===kr)return this.overflow&&(this[n.$getTemplateRoot]()[n.$extra].overflowNode=this.overflow),qn||delete this[n.$extra],o.HTMLResult.FAILURE;if(this.overflow){const $i=this.overflow[n.$getExtra]();$i.addTrailer&&($i.addTrailer=!1,v(this,$i.trailer,l))}let Mr=0,Hr=0;this.margin&&(Mr=this.margin.leftInset+this.margin.rightInset,Hr=this.margin.topInset+this.margin.bottomInset);const xr=Math.max(this[n.$extra].width+Mr,this.w||0),Gr=Math.max(this[n.$extra].height+Hr,this.h||0),Ur=[this.x,this.y,xr,Gr];if(this.w===""&&(_i.width=(0,e.measureToString)(xr)),this.h===""&&(_i.height=(0,e.measureToString)(Gr)),(_i.width==="0px"||_i.height==="0px")&&we.length===0)return o.HTMLResult.EMPTY;const ns={name:"div",attributes:wt,children:we};W(this,wt);const Nr=o.HTMLResult.success((0,e.createWrapper)(this,ns),Ur);if(this.breakAfter.children.length>=1){const $i=this.breakAfter.children[0];if(N($i))return this[n.$extra].afterBreakAfter=Nr,o.HTMLResult.breakNode($i)}return delete this[n.$extra],Nr}}class Ps extends t.XFAObject{constructor(l){super(f,"subformSet",!0),this.id=l.id||"",this.name=l.name||"",this.relation=(0,o.getStringOption)(l.relation,["ordered","choice","unordered"]),this.relevant=(0,o.getRelevant)(l.relevant),this.use=l.use||"",this.usehref=l.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[n.$getContainedChildren](){yield*R(this)}[n.$getSubformParent](){let l=this[n.$getParent]();for(;!(l instanceof na);)l=l[n.$getParent]();return l}[n.$isBindable](){return!0}}class js extends t.ContentObject{constructor(l){super(f,"subjectDN"),this.delimiter=l.delimiter||",",this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||""}[n.$finalize](){this[n.$content]=new Map(this[n.$content].split(this.delimiter).map(l=>(l=l.split("=",2),l[0]=l[0].trim(),l)))}}class gs extends t.XFAObject{constructor(l){super(f,"subjectDNs",!0),this.id=l.id||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||"",this.subjectDN=new t.XFAObjectArray}}class no extends t.XFAObject{constructor(l){super(f,"submit",!0),this.embedPDF=(0,o.getInteger)({data:l.embedPDF,defaultValue:0,validate:we=>we===1}),this.format=(0,o.getStringOption)(l.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=l.id||"",this.target=l.target||"",this.textEncoding=(0,o.getKeyword)({data:l.textEncoding?l.textEncoding.toLowerCase():"",defaultValue:"",validate:we=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(we)||we.match(/iso-8859-\d{2}/)}),this.use=l.use||"",this.usehref=l.usehref||"",this.xdpContent=l.xdpContent||"",this.encrypt=null,this.encryptData=new t.XFAObjectArray,this.signData=new t.XFAObjectArray}}class Gs extends t.XFAObject{constructor(l){super(f,"template",!0),this.baseProfile=(0,o.getStringOption)(l.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new t.XFAObjectArray}[n.$finalize](){this.subform.children.length===0&&(0,K.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,K.warn)("XFA - Several subforms in template node: please file a bug."),this[n.$tabIndex]=F}[n.$isSplittable](){return!0}[n.$searchNode](l,we){return l.startsWith("#")?[this[n.$ids].get(l.slice(1))]:(0,P.searchNode)(this,we,l,!0,!0)}*[n.$toPages](){var Hr,xr,Gr;if(!this.subform.children.length)return o.HTMLResult.success({name:"div",children:[]});this[n.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const l=this.subform.children[0];l.pageSet[n.$cleanPage]();const we=l.pageSet.pageArea.children,wt={name:"div",children:[]};let Nt=null,Kt=null,qn=null;if(l.breakBefore.children.length>=1?(Kt=l.breakBefore.children[0],qn=Kt.target):l.subform.children.length>=1&&l.subform.children[0].breakBefore.children.length>=1?(Kt=l.subform.children[0].breakBefore.children[0],qn=Kt.target):(Hr=l.break)!=null&&Hr.beforeTarget?(Kt=l.break,qn=Kt.beforeTarget):l.subform.children.length>=1&&((xr=l.subform.children[0].break)!=null&&xr.beforeTarget)&&(Kt=l.subform.children[0].break,qn=Kt.beforeTarget),Kt){const Ur=this[n.$searchNode](qn,Kt[n.$getParent]());Ur instanceof Ki&&(Nt=Ur,Kt[n.$extra]={})}Nt||(Nt=we[0]),Nt[n.$extra]={numberOfUse:1};const Mi=Nt[n.$getParent]();Mi[n.$extra]={numberOfUse:1,pageIndex:Mi.pageArea.children.indexOf(Nt),pageSetIndex:0};let _i,pr=null,br=null,Pr=!0,kr=0,Mr=0;for(;;){if(Pr)kr=0;else if(wt.children.pop(),++kr===k)return(0,K.warn)("XFA - Something goes wrong: please file a bug."),wt;_i=null,this[n.$extra].currentPageArea=Nt;const Ur=Nt[n.$toHTML]().html;wt.children.push(Ur),pr&&(this[n.$extra].noLayoutFailure=!0,Ur.children.push(pr[n.$toHTML](Nt[n.$extra].space).html),pr=null),br&&(this[n.$extra].noLayoutFailure=!0,Ur.children.push(br[n.$toHTML](Nt[n.$extra].space).html),br=null);const ns=Nt.contentArea.children,Nr=Ur.children.filter($i=>$i.attributes.class.includes("xfaContentarea"));Pr=!1,this[n.$extra].firstUnsplittable=null,this[n.$extra].noLayoutFailure=!1;const Cr=$i=>{var rs;const As=l[n.$flushHTML]();As&&(Pr||(Pr=((rs=As.children)==null?void 0:rs.length)>0),Nr[$i].children.push(As))};for(let $i=Mr,As=ns.length;$i<As;$i++){const rs=this[n.$extra].currentContentArea=ns[$i],xs={width:rs.w,height:rs.h};Mr=0,pr&&(Nr[$i].children.push(pr[n.$toHTML](xs).html),pr=null),br&&(Nr[$i].children.push(br[n.$toHTML](xs).html),br=null);const ls=l[n.$toHTML](xs);if(ls.success)return ls.html?(Pr||(Pr=((Gr=ls.html.children)==null?void 0:Gr.length)>0),Nr[$i].children.push(ls.html)):!Pr&&wt.children.length>1&&wt.children.pop(),wt;if(ls.isBreak()){const Wr=ls.breakNode;if(Cr($i),Wr.targetType==="auto")continue;Wr.leader&&(pr=this[n.$searchNode](Wr.leader,Wr[n.$getParent]()),pr=pr?pr[0]:null),Wr.trailer&&(br=this[n.$searchNode](Wr.trailer,Wr[n.$getParent]()),br=br?br[0]:null),Wr.targetType==="pageArea"?(_i=Wr[n.$extra].target,$i=1/0):Wr[n.$extra].target?(_i=Wr[n.$extra].target,Mr=Wr[n.$extra].index+1,$i=1/0):$i=Wr[n.$extra].index;continue}if(this[n.$extra].overflowNode){const Wr=this[n.$extra].overflowNode;this[n.$extra].overflowNode=null;const Ks=Wr[n.$getExtra](),Os=Ks.target;Ks.addLeader=Ks.leader!==null,Ks.addTrailer=Ks.trailer!==null,Cr($i);const UA=$i;if($i=1/0,Os instanceof Ki)_i=Os;else if(Os instanceof Ee){const sa=ns.indexOf(Os);sa!==-1?sa>UA?$i=sa-1:Mr=sa:(_i=Os[n.$getParent](),Mr=_i.contentArea.children.indexOf(Os))}continue}Cr($i)}this[n.$extra].pageNumber+=1,_i&&(_i[n.$isUsable]()?_i[n.$extra].numberOfUse+=1:_i=null),Nt=_i||Nt[n.$getNextPage](),yield null}}}x.Template=Gs;class ia extends t.ContentObject{constructor(l){super(f,"text"),this.id=l.id||"",this.maxChars=(0,o.getInteger)({data:l.maxChars,defaultValue:0,validate:we=>we>=0}),this.name=l.name||"",this.rid=l.rid||"",this.use=l.use||"",this.usehref=l.usehref||""}[n.$acceptWhitespace](){return!0}[n.$onChild](l){return l[n.$namespaceId]===w.NamespaceIds.xhtml.id?(this[n.$content]=l,!0):((0,K.warn)(`XFA - Invalid content in Text: ${l[n.$nodeName]}.`),!1)}[n.$onText](l){this[n.$content]instanceof t.XFAObject||super[n.$onText](l)}[n.$finalize](){typeof this[n.$content]=="string"&&(this[n.$content]=this[n.$content].replaceAll(`\r
`,`
`))}[n.$getExtra](){return typeof this[n.$content]=="string"?this[n.$content].split(/[\u2029\u2028\n]/).reduce((l,we)=>(we&&l.push(we),l),[]).join(`
`):this[n.$content][n.$text]()}[n.$toHTML](l){if(typeof this[n.$content]=="string"){const we=b(this[n.$content]).html;return this[n.$content].includes("\u2029")?(we.name="div",we.children=[],this[n.$content].split("\u2029").map(wt=>wt.split(/[\u2028\n]/).reduce((Nt,Kt)=>(Nt.push({name:"span",value:Kt},{name:"br"}),Nt),[])).forEach(wt=>{we.children.push({name:"p",children:wt})})):/[\u2028\n]/.test(this[n.$content])&&(we.name="div",we.children=[],this[n.$content].split(/[\u2028\n]/).forEach(wt=>{we.children.push({name:"span",value:wt},{name:"br"})})),o.HTMLResult.success(we)}return this[n.$content][n.$toHTML](l)}}x.Text=ia;class ms extends t.XFAObject{constructor(l){super(f,"textEdit",!0),this.allowRichText=(0,o.getInteger)({data:l.allowRichText,defaultValue:0,validate:we=>we===1}),this.hScrollPolicy=(0,o.getStringOption)(l.hScrollPolicy,["auto","off","on"]),this.id=l.id||"",this.multiLine=(0,o.getInteger)({data:l.multiLine,defaultValue:"",validate:we=>we===0||we===1}),this.use=l.use||"",this.usehref=l.usehref||"",this.vScrollPolicy=(0,o.getStringOption)(l.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](l){var Kt,qn;const we=(0,e.toStyle)(this,"border","font","margin");let wt;const Nt=this[n.$getParent]()[n.$getParent]();return this.multiLine===""&&(this.multiLine=Nt instanceof He?1:0),this.multiLine===1?wt={name:"textarea",attributes:{dataId:((Kt=Nt[n.$data])==null?void 0:Kt[n.$uid])||Nt[n.$uid],fieldId:Nt[n.$uid],class:["xfaTextfield"],style:we,"aria-label":u(Nt),"aria-required":!1}}:wt={name:"input",attributes:{type:"text",dataId:((qn=Nt[n.$data])==null?void 0:qn[n.$uid])||Nt[n.$uid],fieldId:Nt[n.$uid],class:["xfaTextfield"],style:we,"aria-label":u(Nt),"aria-required":!1}},d(Nt)&&(wt.attributes["aria-required"]=!0,wt.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[wt]})}}class io extends t.StringObject{constructor(l){super(f,"time"),this.id=l.id||"",this.name=l.name||"",this.use=l.use||"",this.usehref=l.usehref||""}[n.$finalize](){const l=this[n.$content].trim();this[n.$content]=l?new Date(l):null}[n.$toHTML](l){return b(this[n.$content]?this[n.$content].toString():"")}}class ro extends t.XFAObject{constructor(l){super(f,"timeStamp"),this.id=l.id||"",this.server=l.server||"",this.type=(0,o.getStringOption)(l.type,["optional","required"]),this.use=l.use||"",this.usehref=l.usehref||""}}class so extends t.StringObject{constructor(l){super(f,"toolTip"),this.id=l.id||"",this.rid=l.rid||"",this.use=l.use||"",this.usehref=l.usehref||""}}class ao extends t.XFAObject{constructor(l){super(f,"traversal",!0),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null,this.traverse=new t.XFAObjectArray}}class oo extends t.XFAObject{constructor(l){super(f,"traverse",!0),this.id=l.id||"",this.operation=(0,o.getStringOption)(l.operation,["next","back","down","first","left","right","up"]),this.ref=l.ref||"",this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[n.$isTransparent](){return!1}}class Xs extends t.XFAObject{constructor(l){super(f,"ui",!0),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[n.$getExtra](){if(this[n.$extra]===void 0){for(const l of Object.getOwnPropertyNames(this)){if(l==="extras"||l==="picture")continue;const we=this[l];if(we instanceof t.XFAObject)return this[n.$extra]=we,we}this[n.$extra]=null}return this[n.$extra]}[n.$toHTML](l){const we=this[n.$getExtra]();return we?we[n.$toHTML](l):o.HTMLResult.EMPTY}}class is extends t.XFAObject{constructor(l){super(f,"validate",!0),this.formatTest=(0,o.getStringOption)(l.formatTest,["warning","disabled","error"]),this.id=l.id||"",this.nullTest=(0,o.getStringOption)(l.nullTest,["disabled","error","warning"]),this.scriptTest=(0,o.getStringOption)(l.scriptTest,["error","disabled","warning"]),this.use=l.use||"",this.usehref=l.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class vs extends t.XFAObject{constructor(l){super(f,"value",!0),this.id=l.id||"",this.override=(0,o.getInteger)({data:l.override,defaultValue:0,validate:we=>we===1}),this.relevant=(0,o.getRelevant)(l.relevant),this.use=l.use||"",this.usehref=l.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[n.$setValue](l){var Nt;const we=this[n.$getParent]();if(we instanceof Ke&&(Nt=we.ui)!=null&&Nt.imageEdit){this.image||(this.image=new Mt({}),this[n.$appendChild](this.image)),this.image[n.$content]=l[n.$content];return}const wt=l[n.$nodeName];if(this[wt]!==null){this[wt][n.$content]=l[n.$content];return}for(const Kt of Object.getOwnPropertyNames(this)){const qn=this[Kt];qn instanceof t.XFAObject&&(this[Kt]=null,this[n.$removeChild](qn))}this[l[n.$nodeName]]=l,this[n.$appendChild](l)}[n.$text](){if(this.exData)return typeof this.exData[n.$content]=="string"?this.exData[n.$content].trim():this.exData[n.$content][n.$text]().trim();for(const l of Object.getOwnPropertyNames(this)){if(l==="image")continue;const we=this[l];if(we instanceof t.XFAObject)return(we[n.$content]||"").toString().trim()}return null}[n.$toHTML](l){for(const we of Object.getOwnPropertyNames(this)){const wt=this[we];if(wt instanceof t.XFAObject)return wt[n.$toHTML](l)}return o.HTMLResult.EMPTY}}x.Value=vs;class ra extends t.XFAObject{constructor(l){super(f,"variables",!0),this.id=l.id||"",this.use=l.use||"",this.usehref=l.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[n.$isTransparent](){return!0}}class Ss{static[w.$buildXFAObject](l,we){if(Ss.hasOwnProperty(l)){const wt=Ss[l](we);return wt[n.$setSetAttributes](we),wt}}static appearanceFilter(l){return new S(l)}static arc(l){return new I(l)}static area(l){return new h(l)}static assist(l){return new B(l)}static barcode(l){return new r(l)}static bind(l){return new A(l)}static bindItems(l){return new E(l)}static bookend(l){return new G(l)}static boolean(l){return new se(l)}static border(l){return new Ae(l)}static break(l){return new ke(l)}static breakAfter(l){return new de(l)}static breakBefore(l){return new Ie(l)}static button(l){return new ge(l)}static calculate(l){return new Be(l)}static caption(l){return new ee(l)}static certificate(l){return new te(l)}static certificates(l){return new fe(l)}static checkButton(l){return new ue(l)}static choiceList(l){return new le(l)}static color(l){return new be(l)}static comb(l){return new Ce(l)}static connect(l){return new ce(l)}static contentArea(l){return new Ee(l)}static corner(l){return new ve(l)}static date(l){return new he(l)}static dateTime(l){return new Fe(l)}static dateTimeEdit(l){return new _e(l)}static decimal(l){return new Ne(l)}static defaultUi(l){return new Ze(l)}static desc(l){return new tt(l)}static digestMethod(l){return new je(l)}static digestMethods(l){return new $e(l)}static draw(l){return new He(l)}static edge(l){return new Ve(l)}static encoding(l){return new st(l)}static encodings(l){return new pt(l)}static encrypt(l){return new at(l)}static encryptData(l){return new Re(l)}static encryption(l){return new Ge(l)}static encryptionMethod(l){return new gt(l)}static encryptionMethods(l){return new rt(l)}static event(l){return new Bt(l)}static exData(l){return new St(l)}static exObject(l){return new jn(l)}static exclGroup(l){return new dt(l)}static execute(l){return new Zt(l)}static extras(l){return new Gt(l)}static field(l){return new Ke(l)}static fill(l){return new Ue(l)}static filter(l){return new ze(l)}static float(l){return new qe(l)}static font(l){return new ct(l)}static format(l){return new ft(l)}static handler(l){return new mt(l)}static hyphenation(l){return new $t(l)}static image(l){return new Mt(l)}static imageEdit(l){return new Dt(l)}static integer(l){return new Xt(l)}static issuers(l){return new Vt(l)}static items(l){return new Jt(l)}static keep(l){return new zn(l)}static keyUsage(l){return new tn(l)}static line(l){return new Gi(l)}static linear(l){return new fr(l)}static lockDocument(l){return new Lt(l)}static manifest(l){return new Ot(l)}static margin(l){return new jt(l)}static mdp(l){return new Wt(l)}static medium(l){return new bn(l)}static message(l){return new Ni(l)}static numericEdit(l){return new $n(l)}static occur(l){return new zt(l)}static oid(l){return new Oi(l)}static oids(l){return new zi(l)}static overflow(l){return new mr(l)}static pageArea(l){return new Ki(l)}static pageSet(l){return new Yi(l)}static para(l){return new gr(l)}static passwordEdit(l){return new Pi(l)}static pattern(l){return new qi(l)}static picture(l){return new ki(l)}static proto(l){return new dr(l)}static radial(l){return new Zi(l)}static reason(l){return new jr(l)}static reasons(l){return new nr(l)}static rectangle(l){return new hr(l)}static ref(l){return new Er(l)}static script(l){return new Dr(l)}static setProperty(l){return new Jr(l)}static signData(l){return new Bs(l)}static signature(l){return new Qa(l)}static signing(l){return new _s(l)}static solid(l){return new eo(l)}static speak(l){return new ta(l)}static stipple(l){return new to(l)}static subform(l){return new na(l)}static subformSet(l){return new Ps(l)}static subjectDN(l){return new js(l)}static subjectDNs(l){return new gs(l)}static submit(l){return new no(l)}static template(l){return new Gs(l)}static text(l){return new ia(l)}static textEdit(l){return new ms(l)}static time(l){return new io(l)}static timeStamp(l){return new ro(l)}static toolTip(l){return new so(l)}static traversal(l){return new ao(l)}static traverse(l){return new oo(l)}static ui(l){return new Xs(l)}static validate(l){return new is(l)}static value(l){return new vs(l)}static variables(l){return new ra(l)}}x.TemplateNamespace=Ss},(Pe,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.NamespaceIds=x.$buildXFAObject=void 0;const ie=Symbol();x.$buildXFAObject=ie;const n={config:{id:0,check:w=>w.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:w=>w.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:w=>w.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:w=>w.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:w=>w.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:w=>w==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:w=>w==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:w=>w.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:w=>w==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:w=>w.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:w=>w.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:w=>w==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:w=>w==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:w=>w==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:w=>w==="http://ns.adobe.com/xmpmeta/"}};x.NamespaceIds=n},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.addHTML=t,x.checkDimensions=H,x.flushHTML=e,x.getAvailableSpace=o;var n=ie(78),w=ie(83);function O(U,P){return{name:"div",attributes:{class:[U.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:P}}function e(U){if(!U[n.$extra])return null;const f={name:"div",attributes:U[n.$extra].attributes,children:U[n.$extra].children};if(U[n.$extra].failingNode){const p=U[n.$extra].failingNode[n.$flushHTML]();p&&(U.layout.endsWith("-tb")?f.children.push(O(U,[p])):f.children.push(p))}return f.children.length===0?null:f}function t(U,P,f){const p=U[n.$extra],i=p.availableSpace,[k,F,_,C]=f;switch(U.layout){case"position":{p.width=Math.max(p.width,k+_),p.height=Math.max(p.height,F+C),p.children.push(P);break}case"lr-tb":case"rl-tb":(!p.line||p.attempt===1)&&(p.line=O(U,[]),p.children.push(p.line),p.numberInLine=0),p.numberInLine+=1,p.line.children.push(P),p.attempt===0?(p.currentWidth+=_,p.height=Math.max(p.height,p.prevHeight+C)):(p.currentWidth=_,p.prevHeight=p.height,p.height+=C,p.attempt=0),p.width=Math.max(p.width,p.currentWidth);break;case"rl-row":case"row":{p.children.push(P),p.width+=_,p.height=Math.max(p.height,C);const Q=(0,w.measureToString)(p.height);for(const j of p.children)j.attributes.style.height=Q;break}case"table":{p.width=Math.min(i.width,Math.max(p.width,_)),p.height+=C,p.children.push(P);break}case"tb":{p.width=Math.min(i.width,Math.max(p.width,_)),p.height+=C,p.children.push(P);break}}}function o(U){const P=U[n.$extra].availableSpace,f=U.margin?U.margin.topInset+U.margin.bottomInset:0,p=U.margin?U.margin.leftInset+U.margin.rightInset:0;switch(U.layout){case"lr-tb":case"rl-tb":return U[n.$extra].attempt===0?{width:P.width-p-U[n.$extra].currentWidth,height:P.height-f-U[n.$extra].prevHeight}:{width:P.width-p,height:P.height-f-U[n.$extra].height};case"rl-row":case"row":return{width:U[n.$extra].columnWidths.slice(U[n.$extra].currentColumn).reduce((k,F)=>k+F),height:P.height-p};case"table":case"tb":return{width:P.width-p,height:P.height-f-U[n.$extra].height};case"position":default:return P}}function K(U){let P=U.w===""?NaN:U.w,f=U.h===""?NaN:U.h,[p,i]=[0,0];switch(U.anchorType||""){case"bottomCenter":[p,i]=[P/2,f];break;case"bottomLeft":[p,i]=[0,f];break;case"bottomRight":[p,i]=[P,f];break;case"middleCenter":[p,i]=[P/2,f/2];break;case"middleLeft":[p,i]=[0,f/2];break;case"middleRight":[p,i]=[P,f/2];break;case"topCenter":[p,i]=[P/2,0];break;case"topRight":[p,i]=[P,0];break}let k,F;switch(U.rotate||0){case 0:[k,F]=[-p,-i];break;case 90:[k,F]=[-i,p],[P,f]=[f,-P];break;case 180:[k,F]=[p,i],[P,f]=[-P,-f];break;case 270:[k,F]=[i,-p],[P,f]=[-f,P];break}return[U.x+k+Math.min(0,P),U.y+F+Math.min(0,f),Math.abs(P),Math.abs(f)]}function H(U,P){var C;if(U[n.$getTemplateRoot]()[n.$extra].firstUnsplittable===null||U.w===0||U.h===0)return!0;const f=2,p=U[n.$getSubformParent](),i=((C=p[n.$extra])==null?void 0:C.attempt)||0,[,k,F,_]=K(U);switch(p.layout){case"lr-tb":case"rl-tb":return i===0?U[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?U.w!==""?Math.round(F-P.width)<=f:P.width>f:U.h!==""&&Math.round(_-P.height)>f?!1:U.w!==""?Math.round(F-P.width)<=f?!0:p[n.$extra].numberInLine===0?P.height>f:!1:P.width>f:U[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:U.h!==""&&Math.round(_-P.height)>f?!1:U.w===""||Math.round(F-P.width)<=f?P.height>f:p[n.$isThereMoreWidth]()?!1:P.height>f;case"table":case"tb":return U[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:U.h!==""&&!U[n.$isSplittable]()?Math.round(_-P.height)<=f:U.w===""||Math.round(F-P.width)<=f?P.height>f:p[n.$isThereMoreWidth]()?!1:P.height>f;case"position":if(U[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||U.h===""||Math.round(_+k-P.height)<=f)return!0;const Q=U[n.$getTemplateRoot]()[n.$extra].currentContentArea;return _+k>Q.h;case"rl-row":case"row":return U[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:U.h!==""?Math.round(_-P.height)<=f:!0;default:return!0}}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.computeBbox=p,x.createWrapper=_,x.fixDimensions=i,x.fixTextIndent=C,x.fixURL=d,x.isPrintOnly=j,x.layoutClass=k,x.layoutNode=f,x.measureToString=K,x.setAccess=Q,x.setFontFamily=R,x.setMinMaxDimensions=U,x.setPara=T,x.toStyle=F;var n=ie(78),w=ie(2),O=ie(84),e=ie(85),t=ie(86),o=ie(87);function K(y){return typeof y=="string"?"0px":Number.isInteger(y)?`${y}px`:`${y.toFixed(2)}px`}const H={anchorType(y,W){const u=y[n.$getSubformParent]();if(!(!u||u.layout&&u.layout!=="position"))switch("transform"in W||(W.transform=""),y.anchorType){case"bottomCenter":W.transform+="translate(-50%, -100%)";break;case"bottomLeft":W.transform+="translate(0,-100%)";break;case"bottomRight":W.transform+="translate(-100%,-100%)";break;case"middleCenter":W.transform+="translate(-50%,-50%)";break;case"middleLeft":W.transform+="translate(0,-50%)";break;case"middleRight":W.transform+="translate(-100%,-50%)";break;case"topCenter":W.transform+="translate(-50%,0)";break;case"topRight":W.transform+="translate(-100%,0)";break}},dimensions(y,W){var J;const u=y[n.$getSubformParent]();let b=y.w;const D=y.h;if((J=u.layout)!=null&&J.includes("row")){const N=u[n.$extra],v=y.colSpan;let S;v===-1?(S=N.columnWidths.slice(N.currentColumn).reduce((I,h)=>I+h,0),N.currentColumn=0):(S=N.columnWidths.slice(N.currentColumn,N.currentColumn+v).reduce((I,h)=>I+h,0),N.currentColumn=(N.currentColumn+y.colSpan)%N.columnWidths.length),isNaN(S)||(b=y.w=S)}W.width=b!==""?K(b):"auto",W.height=D!==""?K(D):"auto"},position(y,W){const u=y[n.$getSubformParent]();u!=null&&u.layout&&u.layout!=="position"||(W.position="absolute",W.left=K(y.x),W.top=K(y.y))},rotate(y,W){y.rotate&&("transform"in W||(W.transform=""),W.transform+=`rotate(-${y.rotate}deg)`,W.transformOrigin="top left")},presence(y,W){switch(y.presence){case"invisible":W.visibility="hidden";break;case"hidden":case"inactive":W.display="none";break}},hAlign(y,W){if(y[n.$nodeName]==="para")switch(y.hAlign){case"justifyAll":W.textAlign="justify-all";break;case"radix":W.textAlign="left";break;default:W.textAlign=y.hAlign}else switch(y.hAlign){case"left":W.alignSelf="start";break;case"center":W.alignSelf="center";break;case"right":W.alignSelf="end";break}},margin(y,W){y.margin&&(W.margin=y.margin[n.$toStyle]().margin)}};function U(y,W){y[n.$getSubformParent]().layout==="position"&&(y.minW>0&&(W.minWidth=K(y.minW)),y.maxW>0&&(W.maxWidth=K(y.maxW)),y.minH>0&&(W.minHeight=K(y.minH)),y.maxH>0&&(W.maxHeight=K(y.maxH)))}function P(y,W,u,b,D,J){const N=new t.TextMeasure(W,u,b,D);return typeof y=="string"?N.addString(y):y[n.$pushGlyphs](N),N.compute(J)}function f(y,W){let u=null,b=null,D=!1;if((!y.w||!y.h)&&y.value){let J=0,N=0;y.margin&&(J=y.margin.leftInset+y.margin.rightInset,N=y.margin.topInset+y.margin.bottomInset);let v=null,S=null;y.para&&(S=Object.create(null),v=y.para.lineHeight===""?null:y.para.lineHeight,S.top=y.para.spaceAbove===""?0:y.para.spaceAbove,S.bottom=y.para.spaceBelow===""?0:y.para.spaceBelow,S.left=y.para.marginLeft===""?0:y.para.marginLeft,S.right=y.para.marginRight===""?0:y.para.marginRight);let I=y.font;if(!I){const r=y[n.$getTemplateRoot]();let A=y[n.$getParent]();for(;A&&A!==r;){if(A.font){I=A.font;break}A=A[n.$getParent]()}}const h=(y.w||W.width)-J,B=y[n.$globalData].fontFinder;if(y.value.exData&&y.value.exData[n.$content]&&y.value.exData.contentType==="text/html"){const r=P(y.value.exData[n.$content],I,S,v,B,h);b=r.width,u=r.height,D=r.isBroken}else{const r=y.value[n.$text]();if(r){const A=P(r,I,S,v,B,h);b=A.width,u=A.height,D=A.isBroken}}b!==null&&!y.w&&(b+=J),u!==null&&!y.h&&(u+=N)}return{w:b,h:u,isBroken:D}}function p(y,W,u){let b;if(y.w!==""&&y.h!=="")b=[y.x,y.y,y.w,y.h];else{if(!u)return null;let D=y.w;if(D===""){if(y.maxW===0){const N=y[n.$getSubformParent]();D=N.layout==="position"&&N.w!==""?0:y.minW}else D=Math.min(y.maxW,u.width);W.attributes.style.width=K(D)}let J=y.h;if(J===""){if(y.maxH===0){const N=y[n.$getSubformParent]();J=N.layout==="position"&&N.h!==""?0:y.minH}else J=Math.min(y.maxH,u.height);W.attributes.style.height=K(J)}b=[y.x,y.y,D,J]}return b}function i(y){var u;const W=y[n.$getSubformParent]();if((u=W.layout)!=null&&u.includes("row")){const b=W[n.$extra],D=y.colSpan;let J;D===-1?J=b.columnWidths.slice(b.currentColumn).reduce((N,v)=>N+v,0):J=b.columnWidths.slice(b.currentColumn,b.currentColumn+D).reduce((N,v)=>N+v,0),isNaN(J)||(y.w=J)}W.layout&&W.layout!=="position"&&(y.x=y.y=0),y.layout==="table"&&y.w===""&&Array.isArray(y.columnWidths)&&(y.w=y.columnWidths.reduce((b,D)=>b+D,0))}function k(y){switch(y.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function F(y,...W){const u=Object.create(null);for(const b of W){const D=y[b];if(D!==null){if(H.hasOwnProperty(b)){H[b](y,u);continue}if(D instanceof o.XFAObject){const J=D[n.$toStyle]();J?Object.assign(u,J):(0,w.warn)(`(DEBUG) - XFA - style for ${b} not implemented yet`)}}}return u}function _(y,W){const{attributes:u}=W,{style:b}=u,D={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(u.class.push("xfaWrapped"),y.border){const{widths:J,insets:N}=y.border[n.$extra];let v,S,I=N[0],h=N[3];const B=N[0]+N[2],r=N[1]+N[3];switch(y.border.hand){case"even":I-=J[0]/2,h-=J[3]/2,v=`calc(100% + ${(J[1]+J[3])/2-r}px)`,S=`calc(100% + ${(J[0]+J[2])/2-B}px)`;break;case"left":I-=J[0],h-=J[3],v=`calc(100% + ${J[1]+J[3]-r}px)`,S=`calc(100% + ${J[0]+J[2]-B}px)`;break;case"right":v=r?`calc(100% - ${r}px)`:"100%",S=B?`calc(100% - ${B}px)`:"100%";break}const A=["xfaBorder"];j(y.border)&&A.push("xfaPrintOnly");const E={name:"div",attributes:{class:A,style:{top:`${I}px`,left:`${h}px`,width:v,height:S}},children:[]};for(const G of["border","borderWidth","borderColor","borderRadius","borderStyle"])b[G]!==void 0&&(E.attributes.style[G]=b[G],delete b[G]);D.children.push(E,W)}else D.children.push(W);for(const J of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])b[J]!==void 0&&(D.attributes.style[J]=b[J],delete b[J]);return D.attributes.style.position=b.position==="absolute"?"absolute":"relative",delete b.position,b.alignSelf&&(D.attributes.style.alignSelf=b.alignSelf,delete b.alignSelf),D}function C(y){const W=(0,O.getMeasurement)(y.textIndent,"0px");if(W>=0)return;const b="padding"+((y.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),D=(0,O.getMeasurement)(y[b],"0px");y[b]=`${D-W}px`}function Q(y,W){switch(y.access){case"nonInteractive":W.push("xfaNonInteractive");break;case"readOnly":W.push("xfaReadOnly");break;case"protected":W.push("xfaDisabled");break}}function j(y){return y.relevant.length>0&&!y.relevant[0].excluded&&y.relevant[0].viewname==="print"}function re(y){const W=y[n.$getTemplateRoot]()[n.$extra].paraStack;return W.length?W.at(-1):null}function T(y,W,u){var b;if((b=u.attributes.class)!=null&&b.includes("xfaRich")){W&&(y.h===""&&(W.height="auto"),y.w===""&&(W.width="auto"));const D=re(y);if(D){const J=u.attributes.style;switch(J.display="flex",J.flexDirection="column",D.vAlign){case"top":J.justifyContent="start";break;case"bottom":J.justifyContent="end";break;case"middle":J.justifyContent="center";break}const N=D[n.$toStyle]();for(const[v,S]of Object.entries(N))v in J||(J[v]=S)}}}function R(y,W,u,b){if(!u){delete b.fontFamily;return}const D=(0,O.stripQuotes)(y.typeface);b.fontFamily=`"${D}"`;const J=u.find(D);if(J){const{fontFamily:N}=J.regular.cssFontInfo;N!==D&&(b.fontFamily=`"${N}"`);const v=re(W);if(v&&v.lineHeight!==""||b.lineHeight)return;const S=(0,e.selectFont)(y,J);S&&(b.lineHeight=Math.max(1.2,S.lineHeight))}}function d(y){const W=(0,w.createValidAbsoluteUrl)(y,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return W?W.href:null}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.HTMLResult=void 0,x.getBBox=i,x.getColor=p,x.getFloat=o,x.getInteger=t,x.getKeyword=K,x.getMeasurement=U,x.getRatio=P,x.getRelevant=f,x.getStringOption=H,x.stripQuotes=e;var n=ie(2);const w={pt:F=>F,cm:F=>F/2.54*72,mm:F=>F/(10*2.54)*72,in:F=>F*72,px:F=>F},O=/([+-]?\d+\.?\d*)(.*)/;function e(F){return F.startsWith("'")||F.startsWith('"')?F.slice(1,-1):F}function t({data:F,defaultValue:_,validate:C}){if(!F)return _;F=F.trim();const Q=parseInt(F,10);return!isNaN(Q)&&C(Q)?Q:_}function o({data:F,defaultValue:_,validate:C}){if(!F)return _;F=F.trim();const Q=parseFloat(F);return!isNaN(Q)&&C(Q)?Q:_}function K({data:F,defaultValue:_,validate:C}){return F?(F=F.trim(),C(F)?F:_):_}function H(F,_){return K({data:F,defaultValue:_[0],validate:C=>_.includes(C)})}function U(F,_="0"){if(_||(_="0"),!F)return U(_);const C=F.trim().match(O);if(!C)return U(_);const[,Q,j]=C,re=parseFloat(Q);if(isNaN(re))return U(_);if(re===0)return 0;const T=w[j];return T?T(re):re}function P(F){if(!F)return{num:1,den:1};const _=F.trim().split(/\s*:\s*/).map(j=>parseFloat(j)).filter(j=>!isNaN(j));if(_.length===1&&_.push(1),_.length===0)return{num:1,den:1};const[C,Q]=_;return{num:C,den:Q}}function f(F){return F?F.trim().split(/\s+/).map(_=>({excluded:_[0]==="-",viewname:_.substring(1)})):[]}function p(F,_=[0,0,0]){let[C,Q,j]=_;if(!F)return{r:C,g:Q,b:j};const re=F.trim().split(/\s*,\s*/).map(T=>Math.min(Math.max(0,parseInt(T.trim(),10)),255)).map(T=>isNaN(T)?0:T);return re.length<3?{r:C,g:Q,b:j}:([C,Q,j]=re,{r:C,g:Q,b:j})}function i(F){if(!F)return{x:-1,y:-1,width:-1,height:-1};const C=F.trim().split(/\s*,\s*/).map(R=>U(R,"-1"));if(C.length<4||C[2]<0||C[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[Q,j,re,T]=C;return{x:Q,y:j,width:re,height:T}}class k{static get FAILURE(){return(0,n.shadow)(this,"FAILURE",new k(!1,null,null,null))}static get EMPTY(){return(0,n.shadow)(this,"EMPTY",new k(!0,null,null,null))}constructor(_,C,Q,j){this.success=_,this.html=C,this.bbox=Q,this.breakNode=j}isBreak(){return!!this.breakNode}static breakNode(_){return new k(!1,null,null,_)}static success(_,C=null){return new k(!0,_,C,null)}}x.HTMLResult=k},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FontFinder=void 0,x.getMetrics=o,x.selectFont=t;var n=ie(78),w=ie(84),O=ie(2);class e{constructor(H){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(H)}add(H,U=null){for(const f of H)this.addPdfFont(f);for(const f of this.fonts.values())f.regular||(f.regular=f.italic||f.bold||f.bolditalic);if(!U||U.size===0)return;const P=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const f of U)this.fonts.set(f,P)}addPdfFont(H){var k,F,_;const U=H.cssFontInfo,P=U.fontFamily;let f=this.fonts.get(P);f||(f=Object.create(null),this.fonts.set(P,f),this.defaultFont||(this.defaultFont=f));let p="";const i=parseFloat(U.fontWeight);parseFloat(U.italicAngle)!==0?p=i>=700?"bolditalic":"italic":i>=700&&(p="bold"),p||((H.name.includes("Bold")||(k=H.psName)!=null&&k.includes("Bold"))&&(p="bold"),(H.name.includes("Italic")||H.name.endsWith("It")||(F=H.psName)!=null&&F.includes("Italic")||(_=H.psName)!=null&&_.endsWith("It"))&&(p+="italic")),p||(p="regular"),f[p]=H}getDefault(){return this.defaultFont}find(H,U=!0){var k,F;let P=this.fonts.get(H)||this.cache.get(H);if(P)return P;const f=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let p=H.replaceAll(f,"");if(P=this.fonts.get(p),P)return this.cache.set(H,P),P;p=p.toLowerCase();const i=[];for(const[_,C]of this.fonts.entries())_.replaceAll(f,"").toLowerCase().startsWith(p)&&i.push(C);if(i.length===0)for(const[,_]of this.fonts.entries())(k=_.regular.name)!=null&&k.replaceAll(f,"").toLowerCase().startsWith(p)&&i.push(_);if(i.length===0){p=p.replaceAll(/psmt|mt/gi,"");for(const[_,C]of this.fonts.entries())_.replaceAll(f,"").toLowerCase().startsWith(p)&&i.push(C)}if(i.length===0)for(const _ of this.fonts.values())(F=_.regular.name)!=null&&F.replaceAll(f,"").toLowerCase().startsWith(p)&&i.push(_);return i.length>=1?(i.length!==1&&U&&(0,O.warn)(`XFA - Too many choices to guess the correct font: ${H}`),this.cache.set(H,i[0]),i[0]):(U&&!this.warned.has(H)&&(this.warned.add(H),(0,O.warn)(`XFA - Cannot find the font: ${H}`)),null)}}x.FontFinder=e;function t(K,H){return K.posture==="italic"?K.weight==="bold"?H.bolditalic:H.italic:K.weight==="bold"?H.bold:H.regular}function o(K,H=!1){let U=null;if(K){const i=(0,w.stripQuotes)(K.typeface),k=K[n.$globalData].fontFinder.find(i);U=t(K,k)}if(!U)return{lineHeight:12,lineGap:2,lineNoGap:10};const P=K.size||10,f=U.lineHeight?Math.max(H?0:1.2,U.lineHeight):1.2,p=U.lineGap===void 0?.2:U.lineGap;return{lineHeight:f*P,lineGap:p*P,lineNoGap:Math.max(1,f-p)*P}}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TextMeasure=void 0;var n=ie(85);const w=1.02;class O{constructor(K,H,U,P){if(this.lineHeight=U,this.paraMargin=H||{top:0,bottom:0,left:0,right:0},!K){[this.pdfFont,this.xfaFont]=this.defaultFont(P);return}this.xfaFont={typeface:K.typeface,posture:K.posture,weight:K.weight,size:K.size,letterSpacing:K.letterSpacing};const f=P.find(K.typeface);if(!f){[this.pdfFont,this.xfaFont]=this.defaultFont(P);return}this.pdfFont=(0,n.selectFont)(K,f),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(P))}defaultFont(K){const H=K.find("Helvetica",!1)||K.find("Myriad Pro",!1)||K.find("Arial",!1)||K.getDefault();if(H!=null&&H.regular){const P=H.regular,p={typeface:P.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[P,p]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class e{constructor(K,H,U,P){this.fontFinder=P,this.stack=[new O(K,H,U,P)]}pushData(K,H,U){const P=this.stack.at(-1);for(const p of["typeface","posture","weight","size","letterSpacing"])K[p]||(K[p]=P.xfaFont[p]);for(const p of["top","bottom","left","right"])isNaN(H[p])&&(H[p]=P.paraMargin[p]);const f=new O(K,H,U||P.lineHeight,this.fontFinder);f.pdfFont||(f.pdfFont=P.pdfFont),this.stack.push(f)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class t{constructor(K,H,U,P){this.glyphs=[],this.fontSelector=new e(K,H,U,P),this.extraHeight=0}pushData(K,H,U){this.fontSelector.pushData(K,H,U)}popFont(K){return this.fontSelector.popFont()}addPara(){const K=this.fontSelector.topFont();this.extraHeight+=K.paraMargin.top+K.paraMargin.bottom}addString(K){if(!K)return;const H=this.fontSelector.topFont(),U=H.xfaFont.size;if(H.pdfFont){const P=H.xfaFont.letterSpacing,f=H.pdfFont,p=f.lineHeight||1.2,i=H.lineHeight||Math.max(1.2,p)*U,k=f.lineGap===void 0?.2:f.lineGap,F=p-k,_=Math.max(1,F)*U,C=U/1e3,Q=f.defaultWidth||f.charsToGlyphs(" ")[0].width;for(const j of K.split(/[\u2029\n]/)){const re=f.encodeString(j).join(""),T=f.charsToGlyphs(re);for(const R of T){const d=R.width||Q;this.glyphs.push([d*C+P,i,_,R.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const P of K.split(/[\u2029\n]/)){for(const f of P.split(""))this.glyphs.push([U,1.2*U,U,f,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(K){let H=-1,U=0,P=0,f=0,p=0,i=0,k=!1,F=!0;for(let _=0,C=this.glyphs.length;_<C;_++){const[Q,j,re,T,R]=this.glyphs[_],d=T===" ",y=F?re:j;if(R){P=Math.max(P,p),p=0,f+=i,i=y,H=-1,U=0,F=!1;continue}if(d){p+Q>K?(P=Math.max(P,p),p=0,f+=i,i=y,H=-1,U=0,k=!0,F=!1):(i=Math.max(y,i),U=p,p+=Q,H=_);continue}if(p+Q>K){f+=i,i=y,H!==-1?(_=H,P=Math.max(P,U),p=0,H=-1,U=0):(P=Math.max(P,p),p=Q),k=!0,F=!1;continue}p+=Q,i=Math.max(y,i)}return P=Math.max(P,p),f+=i+this.extraHeight,{width:w*P,height:f,isBroken:k}}}x.TextMeasure=t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XmlObject=x.XFAObjectArray=x.XFAObject=x.XFAAttribute=x.StringObject=x.OptionObject=x.Option10=x.Option01=x.IntegerObject=x.ContentObject=void 0;var n=ie(78),w=ie(84),O=ie(2),e=ie(3),t=ie(81),o=ie(88);const K=Symbol(),H=Symbol(),U=Symbol(),P=Symbol("_children"),f=Symbol(),p=Symbol(),i=Symbol(),k=Symbol(),F=Symbol(),_=Symbol(),C=Symbol(),Q=Symbol(),j=Symbol(),re=Symbol("parent"),T=Symbol(),R=Symbol(),d=Symbol();let y=0;const W=t.NamespaceIds.datasets.id;class u{constructor(A,E,G=!1){this[n.$namespaceId]=A,this[n.$nodeName]=E,this[C]=G,this[re]=null,this[P]=[],this[n.$uid]=`${E}${y++}`,this[n.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(A){let E=this,G=null;for(const{name:se,index:Ae}of A){for(let ke=0,de=isFinite(Ae)?Ae:0;ke<=de;ke++){const Ie=E[n.$namespaceId]===W?-1:E[n.$namespaceId];G=new J(Ie,se),E[n.$appendChild](G)}E=G}return G}[n.$onChild](A){if(!this[C]||!this[n.$onChildCheck](A))return!1;const E=A[n.$nodeName],G=this[E];if(G instanceof b){if(G.push(A))return this[n.$appendChild](A),!0}else return G!==null&&this[n.$removeChild](G),this[E]=A,this[n.$appendChild](A),!0;let se="";return this.id?se=` (id: ${this.id})`:this.name&&(se=` (name: ${this.name} ${this.h.value})`),(0,O.warn)(`XFA - node "${this[n.$nodeName]}"${se} has already enough "${E}"!`),!1}[n.$onChildCheck](A){return this.hasOwnProperty(A[n.$nodeName])&&A[n.$namespaceId]===this[n.$namespaceId]}[n.$isNsAgnostic](){return!1}[n.$acceptWhitespace](){return!1}[n.$isCDATAXml](){return!1}[n.$isBindable](){return!1}[n.$popPara](){this.para&&this[n.$getTemplateRoot]()[n.$extra].paraStack.pop()}[n.$pushPara](){this[n.$getTemplateRoot]()[n.$extra].paraStack.push(this.para)}[n.$setId](A){this.id&&this[n.$namespaceId]===t.NamespaceIds.template.id&&A.set(this.id,this)}[n.$getTemplateRoot](){return this[n.$globalData].template}[n.$isSplittable](){return!1}[n.$isThereMoreWidth](){return!1}[n.$appendChild](A){A[re]=this,this[P].push(A),!A[n.$globalData]&&this[n.$globalData]&&(A[n.$globalData]=this[n.$globalData])}[n.$removeChild](A){const E=this[P].indexOf(A);this[P].splice(E,1)}[n.$hasSettableValue](){return this.hasOwnProperty("value")}[n.$setValue](A){}[n.$onText](A){}[n.$finalize](){}[n.$clean](A){delete this[C],this[n.$cleanup]&&(A.clean(this[n.$cleanup]),delete this[n.$cleanup])}[n.$indexOf](A){return this[P].indexOf(A)}[n.$insertAt](A,E){E[re]=this,this[P].splice(A,0,E),!E[n.$globalData]&&this[n.$globalData]&&(E[n.$globalData]=this[n.$globalData])}[n.$isTransparent](){return!this.name}[n.$lastAttribute](){return""}[n.$text](){return this[P].length===0?this[n.$content]:this[P].map(A=>A[n.$text]()).join("")}get[U](){const A=Object.getPrototypeOf(this);if(!A._attributes){const E=A._attributes=new Set;for(const G of Object.getOwnPropertyNames(this)){if(this[G]===null||this[G]instanceof u||this[G]instanceof b)break;E.add(G)}}return(0,O.shadow)(this,U,A._attributes)}[n.$isDescendent](A){let E=this;for(;E;){if(E===A)return!0;E=E[n.$getParent]()}return!1}[n.$getParent](){return this[re]}[n.$getSubformParent](){return this[n.$getParent]()}[n.$getChildren](A=null){return A?this[A]:this[P]}[n.$dump](){const A=Object.create(null);this[n.$content]&&(A.$content=this[n.$content]);for(const E of Object.getOwnPropertyNames(this)){const G=this[E];G!==null&&(G instanceof u?A[E]=G[n.$dump]():G instanceof b?G.isEmpty()||(A[E]=G.dump()):A[E]=G)}return A}[n.$toStyle](){return null}[n.$toHTML](){return w.HTMLResult.EMPTY}*[n.$getContainedChildren](){for(const A of this[n.$getChildren]())yield A}*[k](A,E){for(const G of this[n.$getContainedChildren]())if(!A||E===A.has(G[n.$nodeName])){const se=this[n.$getAvailableSpace](),Ae=G[n.$toHTML](se);Ae.success||(this[n.$extra].failingNode=G),yield Ae}}[n.$flushHTML](){return null}[n.$addHTML](A,E){this[n.$extra].children.push(A)}[n.$getAvailableSpace](){}[n.$childrenToHTML]({filter:A=null,include:E=!0}){if(!this[n.$extra].generator)this[n.$extra].generator=this[k](A,E);else{const G=this[n.$getAvailableSpace](),se=this[n.$extra].failingNode[n.$toHTML](G);if(!se.success)return se;se.html&&this[n.$addHTML](se.html,se.bbox),delete this[n.$extra].failingNode}for(;;){const G=this[n.$extra].generator.next();if(G.done)break;const se=G.value;if(!se.success)return se;se.html&&this[n.$addHTML](se.html,se.bbox)}return this[n.$extra].generator=null,w.HTMLResult.EMPTY}[n.$setSetAttributes](A){this[R]=new Set(Object.keys(A))}[_](A){const E=this[U],G=this[R];return[...A].filter(se=>E.has(se)&&!G.has(se))}[n.$resolvePrototypes](A,E=new Set){for(const G of this[P])G[T](A,E)}[T](A,E){const G=this[F](A,E);G?this[K](G,A,E):this[n.$resolvePrototypes](A,E)}[F](A,E){const{use:G,usehref:se}=this;if(!G&&!se)return null;let Ae=null,ke=null,de=null,Ie=G;if(se?(Ie=se,se.startsWith("#som(")&&se.endsWith(")")?ke=se.slice(5,-1):se.startsWith(".#som(")&&se.endsWith(")")?ke=se.slice(6,-1):se.startsWith("#")?de=se.slice(1):se.startsWith(".#")&&(de=se.slice(2))):G.startsWith("#")?de=G.slice(1):ke=G,this.use=this.usehref="",de?Ae=A.get(de):(Ae=(0,o.searchNode)(A.get(n.$root),this,ke,!0,!1),Ae&&(Ae=Ae[0])),!Ae)return(0,O.warn)(`XFA - Invalid prototype reference: ${Ie}.`),null;if(Ae[n.$nodeName]!==this[n.$nodeName])return(0,O.warn)(`XFA - Incompatible prototype: ${Ae[n.$nodeName]} !== ${this[n.$nodeName]}.`),null;if(E.has(Ae))return(0,O.warn)("XFA - Cycle detected in prototypes use."),null;E.add(Ae);const ge=Ae[F](A,E);return ge&&Ae[K](ge,A,E),Ae[n.$resolvePrototypes](A,E),E.delete(Ae),Ae}[K](A,E,G){if(G.has(A)){(0,O.warn)("XFA - Cycle detected in prototypes use.");return}!this[n.$content]&&A[n.$content]&&(this[n.$content]=A[n.$content]),new Set(G).add(A);for(const Ae of this[_](A[R]))this[Ae]=A[Ae],this[R]&&this[R].add(Ae);for(const Ae of Object.getOwnPropertyNames(this)){if(this[U].has(Ae))continue;const ke=this[Ae],de=A[Ae];if(ke instanceof b){for(const Ie of ke[P])Ie[T](E,G);for(let Ie=ke[P].length,ge=de[P].length;Ie<ge;Ie++){const Be=A[P][Ie][n.$clone]();if(ke.push(Be))Be[re]=this,this[P].push(Be),Be[T](E,G);else break}continue}if(ke!==null){ke[n.$resolvePrototypes](E,G),de&&ke[K](de,E,G);continue}if(de!==null){const Ie=de[n.$clone]();Ie[re]=this,this[Ae]=Ie,this[P].push(Ie),Ie[T](E,G)}}}static[f](A){return Array.isArray(A)?A.map(E=>u[f](E)):typeof A=="object"&&A!==null?Object.assign({},A):A}[n.$clone](){const A=Object.create(Object.getPrototypeOf(this));for(const E of Object.getOwnPropertySymbols(this))try{A[E]=this[E]}catch{(0,O.shadow)(A,E,this[E])}A[n.$uid]=`${A[n.$nodeName]}${y++}`,A[P]=[];for(const E of Object.getOwnPropertyNames(this)){if(this[U].has(E)){A[E]=u[f](this[E]);continue}const G=this[E];A[E]=G instanceof b?new b(G[Q]):null}for(const E of this[P]){const G=E[n.$nodeName],se=E[n.$clone]();A[P].push(se),se[re]=A,A[G]===null?A[G]=se:A[G][P].push(se)}return A}[n.$getChildren](A=null){return A?this[P].filter(E=>E[n.$nodeName]===A):this[P]}[n.$getChildrenByClass](A){return this[A]}[n.$getChildrenByName](A,E,G=!0){return Array.from(this[n.$getChildrenByNameIt](A,E,G))}*[n.$getChildrenByNameIt](A,E,G=!0){if(A==="parent"){yield this[re];return}for(const se of this[P])se[n.$nodeName]===A&&(yield se),se.name===A&&(yield se),(E||se[n.$isTransparent]())&&(yield*se[n.$getChildrenByNameIt](A,E,!1));G&&this[U].has(A)&&(yield new D(this,A,this[A]))}}x.XFAObject=u;class b{constructor(A=1/0){this[Q]=A,this[P]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(A){return this[P].length<=this[Q]?(this[P].push(A),!0):((0,O.warn)(`XFA - node "${A[n.$nodeName]}" accepts no more than ${this[Q]} children`),!1)}isEmpty(){return this[P].length===0}dump(){return this[P].length===1?this[P][0][n.$dump]():this[P].map(A=>A[n.$dump]())}[n.$clone](){const A=new b(this[Q]);return A[P]=this[P].map(E=>E[n.$clone]()),A}get children(){return this[P]}clear(){this[P].length=0}}x.XFAObjectArray=b;class D{constructor(A,E,G){this[re]=A,this[n.$nodeName]=E,this[n.$content]=G,this[n.$consumed]=!1,this[n.$uid]=`attribute${y++}`}[n.$getParent](){return this[re]}[n.$isDataValue](){return!0}[n.$getDataValue](){return this[n.$content].trim()}[n.$setValue](A){A=A.value||"",this[n.$content]=A.toString()}[n.$text](){return this[n.$content]}[n.$isDescendent](A){return this[re]===A||this[re][n.$isDescendent](A)}}x.XFAAttribute=D;class J extends u{constructor(A,E,G={}){if(super(A,E),this[n.$content]="",this[p]=null,E!=="#text"){const se=new Map;this[H]=se;for(const[Ae,ke]of Object.entries(G))se.set(Ae,new D(this,Ae,ke));if(G.hasOwnProperty(n.$nsAttributes)){const Ae=G[n.$nsAttributes].xfa.dataNode;Ae!==void 0&&(Ae==="dataGroup"?this[p]=!1:Ae==="dataValue"&&(this[p]=!0))}}this[n.$consumed]=!1}[n.$toString](A){const E=this[n.$nodeName];if(E==="#text"){A.push((0,e.encodeToXmlString)(this[n.$content]));return}const G=(0,O.utf8StringToString)(E),se=this[n.$namespaceId]===W?"xfa:":"";A.push(`<${se}${G}`);for(const[Ae,ke]of this[H].entries()){const de=(0,O.utf8StringToString)(Ae);A.push(` ${de}="${(0,e.encodeToXmlString)(ke[n.$content])}"`)}if(this[p]!==null&&(this[p]?A.push(' xfa:dataNode="dataValue"'):A.push(' xfa:dataNode="dataGroup"')),!this[n.$content]&&this[P].length===0){A.push("/>");return}if(A.push(">"),this[n.$content])typeof this[n.$content]=="string"?A.push((0,e.encodeToXmlString)(this[n.$content])):this[n.$content][n.$toString](A);else for(const Ae of this[P])Ae[n.$toString](A);A.push(`</${se}${G}>`)}[n.$onChild](A){if(this[n.$content]){const E=new J(this[n.$namespaceId],"#text");this[n.$appendChild](E),E[n.$content]=this[n.$content],this[n.$content]=""}return this[n.$appendChild](A),!0}[n.$onText](A){this[n.$content]+=A}[n.$finalize](){if(this[n.$content]&&this[P].length>0){const A=new J(this[n.$namespaceId],"#text");this[n.$appendChild](A),A[n.$content]=this[n.$content],delete this[n.$content]}}[n.$toHTML](){return this[n.$nodeName]==="#text"?w.HTMLResult.success({name:"#text",value:this[n.$content]}):w.HTMLResult.EMPTY}[n.$getChildren](A=null){return A?this[P].filter(E=>E[n.$nodeName]===A):this[P]}[n.$getAttributes](){return this[H]}[n.$getChildrenByClass](A){const E=this[H].get(A);return E!==void 0?E:this[n.$getChildren](A)}*[n.$getChildrenByNameIt](A,E){const G=this[H].get(A);G&&(yield G);for(const se of this[P])se[n.$nodeName]===A&&(yield se),E&&(yield*se[n.$getChildrenByNameIt](A,E))}*[n.$getAttributeIt](A,E){const G=this[H].get(A);G&&(!E||!G[n.$consumed])&&(yield G);for(const se of this[P])yield*se[n.$getAttributeIt](A,E)}*[n.$getRealChildrenByNameIt](A,E,G){for(const se of this[P])se[n.$nodeName]===A&&(!G||!se[n.$consumed])&&(yield se),E&&(yield*se[n.$getRealChildrenByNameIt](A,E,G))}[n.$isDataValue](){return this[p]===null?this[P].length===0||this[P][0][n.$namespaceId]===t.NamespaceIds.xhtml.id:this[p]}[n.$getDataValue](){return this[p]===null?this[P].length===0?this[n.$content].trim():this[P][0][n.$namespaceId]===t.NamespaceIds.xhtml.id?this[P][0][n.$text]().trim():null:this[n.$content].trim()}[n.$setValue](A){A=A.value||"",this[n.$content]=A.toString()}[n.$dump](A=!1){const E=Object.create(null);A&&(E.$ns=this[n.$namespaceId]),this[n.$content]&&(E.$content=this[n.$content]),E.$name=this[n.$nodeName],E.children=[];for(const G of this[P])E.children.push(G[n.$dump](A));E.attributes=Object.create(null);for(const[G,se]of this[H])E.attributes[G]=se[n.$content];return E}}x.XmlObject=J;class N extends u{constructor(A,E){super(A,E),this[n.$content]=""}[n.$onText](A){this[n.$content]+=A}[n.$finalize](){}}x.ContentObject=N;class v extends N{constructor(A,E,G){super(A,E),this[j]=G}[n.$finalize](){this[n.$content]=(0,w.getKeyword)({data:this[n.$content],defaultValue:this[j][0],validate:A=>this[j].includes(A)})}[n.$clean](A){super[n.$clean](A),delete this[j]}}x.OptionObject=v;class S extends N{[n.$finalize](){this[n.$content]=this[n.$content].trim()}}x.StringObject=S;class I extends N{constructor(A,E,G,se){super(A,E),this[i]=G,this[d]=se}[n.$finalize](){this[n.$content]=(0,w.getInteger)({data:this[n.$content],defaultValue:this[i],validate:this[d]})}[n.$clean](A){super[n.$clean](A),delete this[i],delete this[d]}}x.IntegerObject=I;class h extends I{constructor(A,E){super(A,E,0,G=>G===1)}}x.Option01=h;class B extends I{constructor(A,E){super(A,E,1,G=>G===0)}}x.Option10=B},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.createDataNode=f,x.searchNode=P;var n=ie(78),w=ie(2);const O=/^[^.[]+/,e=/^[^\]]+/,t={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},o=new Map([["$data",(p,i)=>p.datasets?p.datasets.data:p],["$record",(p,i)=>(p.datasets?p.datasets.data:p)[n.$getChildren]()[0]],["$template",(p,i)=>p.template],["$connectionSet",(p,i)=>p.connectionSet],["$form",(p,i)=>p.form],["$layout",(p,i)=>p.layout],["$host",(p,i)=>p.host],["$dataWindow",(p,i)=>p.dataWindow],["$event",(p,i)=>p.event],["!",(p,i)=>p.datasets],["$xfa",(p,i)=>p],["xfa",(p,i)=>p],["$",(p,i)=>i]]),K=new WeakMap;function H(p){return p=p.trim(),p==="*"?1/0:parseInt(p,10)||0}function U(p,i,k=!0){let F=p.match(O);if(!F)return null;let[_]=F;const C=[{name:_,cacheName:"."+_,index:0,js:null,formCalc:null,operator:t.dot}];let Q=_.length;for(;Q<p.length;){const j=Q;if(p.charAt(Q++)==="["){if(F=p.slice(Q).match(e),!F)return(0,w.warn)("XFA - Invalid index in SOM expression"),null;C.at(-1).index=H(F[0]),Q+=F[0].length+1;continue}let T;switch(p.charAt(Q)){case".":if(!i)return null;Q++,T=t.dotDot;break;case"#":Q++,T=t.dotHash;break;case"[":if(k)return(0,w.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;T=t.dotBracket;break;case"(":if(k)return(0,w.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;T=t.dotParen;break;default:T=t.dot;break}if(F=p.slice(Q).match(O),!F)break;[_]=F,Q+=_.length,C.push({name:_,cacheName:p.slice(j,Q),operator:T,index:0,js:null,formCalc:null})}return C}function P(p,i,k,F=!0,_=!0){const C=U(k,F);if(!C)return null;const Q=o.get(C[0].name);let j=0,re;Q?(re=!0,p=[Q(p,i)],j=1):(re=i===null,p=[i||p]);for(let T=C.length;j<T;j++){const{name:R,cacheName:d,operator:y,index:W}=C[j],u=[];for(const b of p){if(!b.isXFAObject)continue;let D,J;if(_&&(J=K.get(b),J||(J=new Map,K.set(b,J)),D=J.get(d)),!D){switch(y){case t.dot:D=b[n.$getChildrenByName](R,!1);break;case t.dotDot:D=b[n.$getChildrenByName](R,!0);break;case t.dotHash:D=b[n.$getChildrenByClass](R),D=D.isXFAObjectArray?D.children:[D];break}_&&J.set(d,D)}D.length>0&&u.push(D)}if(u.length===0&&!re&&j===0){if(i=i[n.$getParent](),!i)return null;j=-1,p=[i];continue}p=isFinite(W)?u.filter(b=>W<b.length).map(b=>b[W]):u.flat()}return p.length===0?null:p}function f(p,i,k){const F=U(k);if(!F||F.some(Q=>Q.operator===t.dotDot))return null;const _=o.get(F[0].name);let C=0;_?(p=_(p,i),C=1):p=i||p;for(let Q=F.length;C<Q;C++){const{name:j,operator:re,index:T}=F[C];if(!isFinite(T))return F[C].index=0,p.createNodes(F.slice(C));let R;switch(re){case t.dot:R=p[n.$getChildrenByName](j,!1);break;case t.dotDot:R=p[n.$getChildrenByName](j,!0);break;case t.dotHash:R=p[n.$getChildrenByClass](j),R=R.isXFAObjectArray?R.children:[R];break}if(R.length===0)return p.createNodes(F.slice(C));if(T<R.length){const d=R[T];if(!d.isXFAObject)return(0,w.warn)("XFA - Cannot create a node."),null;p=d}else return F[C].index=T-R.length,p.createNodes(F.slice(C))}return null}},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.DataHandler=void 0;var n=ie(78);class w{constructor(e,t){this.data=t,this.dataset=e.datasets||null}serialize(e){const t=[[-1,this.data[n.$getChildren]()]];for(;t.length>0;){const K=t.at(-1),[H,U]=K;if(H+1===U.length){t.pop();continue}const P=U[++K[0]],f=e.get(P[n.$uid]);if(f)P[n.$setValue](f);else{const i=P[n.$getAttributes]();for(const k of i.values()){const F=e.get(k[n.$uid]);if(F){k[n.$setValue](F);break}}}const p=P[n.$getChildren]();p.length>0&&t.push([-1,p])}const o=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const K of this.dataset[n.$getChildren]())K[n.$nodeName]!=="data"&&K[n.$toString](o);return this.data[n.$toString](o),o.push("</xfa:datasets>"),o.join("")}}x.DataHandler=w},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XFAParser=void 0;var n=ie(78),w=ie(71),O=ie(91),e=ie(2);class t extends w.XMLParserBase{constructor(K=null,H=!1){super(),this._builder=new O.Builder(K),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=w.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=H}parse(K){if(this.parseXml(K),this._errorCode===w.XMLParserErrorCode.NoError)return this._current[n.$finalize](),this._current.element}onText(K){if(K=K.replace(this._nbsps,H=>H.slice(1)+" "),this._richText||this._current[n.$acceptWhitespace]()){this._current[n.$onText](K,this._richText);return}this._whiteRegex.test(K)||this._current[n.$onText](K.trim())}onCdata(K){this._current[n.$onText](K)}_mkAttributes(K,H){let U=null,P=null;const f=Object.create({});for(const{name:p,value:i}of K)if(p==="xmlns")U?(0,e.warn)(`XFA - multiple namespace definition in <${H}>`):U=i;else if(p.startsWith("xmlns:")){const k=p.substring(6);P||(P=[]),P.push({prefix:k,value:i})}else{const k=p.indexOf(":");if(k===-1)f[p]=i;else{let F=f[n.$nsAttributes];F||(F=f[n.$nsAttributes]=Object.create(null));const[_,C]=[p.slice(0,k),p.slice(k+1)],Q=F[_]||(F[_]=Object.create(null));Q[C]=i}}return[U,P,f]}_getNameAndPrefix(K,H){const U=K.indexOf(":");return U===-1?[K,null]:[K.substring(U+1),H?"":K.substring(0,U)]}onBeginElement(K,H,U){const[P,f,p]=this._mkAttributes(H,K),[i,k]=this._getNameAndPrefix(K,this._builder.isNsAgnostic()),F=this._builder.build({nsPrefix:k,name:i,attributes:p,namespace:P,prefixes:f});if(F[n.$globalData]=this._globalData,U){F[n.$finalize](),this._current[n.$onChild](F)&&F[n.$setId](this._ids),F[n.$clean](this._builder);return}this._stack.push(this._current),this._current=F}onEndElement(K){const H=this._current;if(H[n.$isCDATAXml]()&&typeof H[n.$content]=="string"){const U=new t;U._globalData=this._globalData;const P=U.parse(H[n.$content]);H[n.$content]=null,H[n.$onChild](P)}H[n.$finalize](),this._current=this._stack.pop(),this._current[n.$onChild](H)&&H[n.$setId](this._ids),H[n.$clean](this._builder)}onError(K){this._errorCode=K}}x.XFAParser=t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Builder=void 0;var n=ie(81),w=ie(78),O=ie(92),e=ie(80),t=ie(101),o=ie(2),K=ie(87);class H extends K.XFAObject{constructor(p){super(-1,"root",Object.create(null)),this.element=null,this[w.$ids]=p}[w.$onChild](p){return this.element=p,!0}[w.$finalize](){super[w.$finalize](),this.element.template instanceof e.Template&&(this[w.$ids].set(w.$root,this.element),this.element.template[w.$resolvePrototypes](this[w.$ids]),this.element.template[w.$ids]=this[w.$ids])}}class U extends K.XFAObject{constructor(){super(-1,"",Object.create(null))}[w.$onChild](p){return!1}}class P{constructor(p=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(n.NamespaceIds).map(({id:i})=>i)),this._currentNamespace=p||new t.UnknownNamespace(++this._nextNsId)}buildRoot(p){return new H(p)}build({nsPrefix:p,name:i,attributes:k,namespace:F,prefixes:_}){const C=F!==null;if(C&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(F)),_&&this._addNamespacePrefix(_),k.hasOwnProperty(w.$nsAttributes)){const re=O.NamespaceSetUp.datasets,T=k[w.$nsAttributes];let R=null;for(const[d,y]of Object.entries(T))if(this._getNamespaceToUse(d)===re){R={xfa:y};break}R?k[w.$nsAttributes]=R:delete k[w.$nsAttributes]}const Q=this._getNamespaceToUse(p),j=(Q==null?void 0:Q[n.$buildXFAObject](i,k))||new U;return j[w.$isNsAgnostic]()&&this._nsAgnosticLevel++,(C||_||j[w.$isNsAgnostic]())&&(j[w.$cleanup]={hasNamespace:C,prefixes:_,nsAgnostic:j[w.$isNsAgnostic]()}),j}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(p){let i=this._namespaces.get(p);if(i)return i;for(const[k,{check:F}]of Object.entries(n.NamespaceIds))if(F(p)){if(i=O.NamespaceSetUp[k],i)return this._namespaces.set(p,i),i;break}return i=new t.UnknownNamespace(++this._nextNsId),this._namespaces.set(p,i),i}_addNamespacePrefix(p){for(const{prefix:i,value:k}of p){const F=this._searchNamespace(k);let _=this._namespacePrefixes.get(i);_||(_=[],this._namespacePrefixes.set(i,_)),_.push(F)}}_getNamespaceToUse(p){if(!p)return this._currentNamespace;const i=this._namespacePrefixes.get(p);return(i==null?void 0:i.length)>0?i.at(-1):((0,o.warn)(`Unknown namespace prefix: ${p}.`),null)}clean(p){const{hasNamespace:i,prefixes:k,nsAgnostic:F}=p;i&&(this._currentNamespace=this._namespaceStack.pop()),k&&k.forEach(({prefix:_})=>{this._namespacePrefixes.get(_).pop()}),F&&this._nsAgnosticLevel--}}x.Builder=P},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.NamespaceSetUp=void 0;var n=ie(93),w=ie(94),O=ie(95),e=ie(96),t=ie(97),o=ie(98),K=ie(80),H=ie(99),U=ie(100);const P={config:n.ConfigNamespace,connection:w.ConnectionSetNamespace,datasets:O.DatasetsNamespace,localeSet:e.LocaleSetNamespace,signature:t.SignatureNamespace,stylesheet:o.StylesheetNamespace,template:K.TemplateNamespace,xdp:H.XdpNamespace,xhtml:U.XhtmlNamespace};x.NamespaceSetUp=P},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ConfigNamespace=void 0;var n=ie(81),w=ie(78),O=ie(87),e=ie(84),t=ie(2);const o=n.NamespaceIds.config.id;class K extends O.XFAObject{constructor(we){super(o,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new O.XFAObjectArray}}class H extends O.XFAObject{constructor(we){super(o,"acrobat7",!0),this.dynamicRender=null}}class U extends O.OptionObject{constructor(we){super(o,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class P extends O.OptionObject{constructor(we){super(o,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class f extends O.Option01{constructor(we){super(o,"addSilentPrint")}}class p extends O.Option01{constructor(we){super(o,"addViewerPreferences")}}class i extends O.Option10{constructor(we){super(o,"adjustData")}}class k extends O.IntegerObject{constructor(we){super(o,"adobeExtensionLevel",0,wt=>wt>=1&&wt<=8)}}class F extends O.XFAObject{constructor(we){super(o,"agent",!0),this.name=we.name?we.name.trim():"",this.common=new O.XFAObjectArray}}class _ extends O.ContentObject{constructor(we){super(o,"alwaysEmbed")}}class C extends O.StringObject{constructor(we){super(o,"amd")}}class Q extends O.XFAObject{constructor(we){super(o,"area"),this.level=(0,e.getInteger)({data:we.level,defaultValue:0,validate:wt=>wt>=1&&wt<=3}),this.name=(0,e.getStringOption)(we.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class j extends O.OptionObject{constructor(we){super(o,"attributes",["preserve","delegate","ignore"])}}class re extends O.OptionObject{constructor(we){super(o,"autoSave",["disabled","enabled"])}}class T extends O.StringObject{constructor(we){super(o,"base")}}class R extends O.XFAObject{constructor(we){super(o,"batchOutput"),this.format=(0,e.getStringOption)(we.format,["none","concat","zip","zipCompress"])}}class d extends O.ContentObject{constructor(we){super(o,"behaviorOverride")}[w.$finalize](){this[w.$content]=new Map(this[w.$content].trim().split(/\s+/).filter(we=>we.includes(":")).map(we=>we.split(":",2)))}}class y extends O.XFAObject{constructor(we){super(o,"cache",!0),this.templateCache=null}}class W extends O.Option01{constructor(we){super(o,"change")}}class u extends O.XFAObject{constructor(we){super(o,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new O.XFAObjectArray}}class b extends O.XFAObject{constructor(we){super(o,"compress"),this.scope=(0,e.getStringOption)(we.scope,["imageOnly","document"])}}class D extends O.Option01{constructor(we){super(o,"compressLogicalStructure")}}class J extends O.Option10{constructor(we){super(o,"compressObjectStream")}}class N extends O.XFAObject{constructor(we){super(o,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class v extends O.XFAObject{constructor(we){super(o,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new O.XFAObjectArray}}class S extends O.OptionObject{constructor(we){super(o,"conformance",["A","B"])}}class I extends O.Option01{constructor(we){super(o,"contentCopy")}}class h extends O.IntegerObject{constructor(we){super(o,"copies",1,wt=>wt>=1)}}class B extends O.StringObject{constructor(we){super(o,"creator")}}class r extends O.IntegerObject{constructor(we){super(o,"currentPage",0,wt=>wt>=0)}}class A extends O.XFAObject{constructor(we){super(o,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new O.XFAObjectArray,this.transform=new O.XFAObjectArray}}class E extends O.XFAObject{constructor(we){super(o,"debug",!0),this.uri=null}}class G extends O.ContentObject{constructor(we){super(o,"defaultTypeface"),this.writingScript=(0,e.getStringOption)(we.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class se extends O.OptionObject{constructor(we){super(o,"destination",["pdf","pcl","ps","webClient","zpl"])}}class Ae extends O.Option01{constructor(we){super(o,"documentAssembly")}}class ke extends O.XFAObject{constructor(we){super(o,"driver",!0),this.name=we.name?we.name.trim():"",this.fontInfo=null,this.xdc=null}}class de extends O.OptionObject{constructor(we){super(o,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class Ie extends O.OptionObject{constructor(we){super(o,"dynamicRender",["forbidden","required"])}}class ge extends O.Option01{constructor(we){super(o,"embed")}}class Be extends O.Option01{constructor(we){super(o,"encrypt")}}class ee extends O.XFAObject{constructor(we){super(o,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class te extends O.OptionObject{constructor(we){super(o,"encryptionLevel",["40bit","128bit"])}}class fe extends O.StringObject{constructor(we){super(o,"enforce")}}class ue extends O.XFAObject{constructor(we){super(o,"equate"),this.force=(0,e.getInteger)({data:we.force,defaultValue:1,validate:wt=>wt===0}),this.from=we.from||"",this.to=we.to||""}}class le extends O.XFAObject{constructor(we){super(o,"equateRange"),this.from=we.from||"",this.to=we.to||"",this._unicodeRange=we.unicodeRange||""}get unicodeRange(){const we=[],wt=/U\+([0-9a-fA-F]+)/,Nt=this._unicodeRange;for(let Kt of Nt.split(",").map(qn=>qn.trim()).filter(qn=>!!qn))Kt=Kt.split("-",2).map(qn=>{const Mi=qn.match(wt);return Mi?parseInt(Mi[1],16):0}),Kt.length===1&&Kt.push(Kt[0]),we.push(Kt);return(0,t.shadow)(this,"unicodeRange",we)}}class be extends O.ContentObject{constructor(we){super(o,"exclude")}[w.$finalize](){this[w.$content]=this[w.$content].trim().split(/\s+/).filter(we=>we&&["calculate","close","enter","exit","initialize","ready","validate"].includes(we))}}class Ce extends O.StringObject{constructor(we){super(o,"excludeNS")}}class ce extends O.OptionObject{constructor(we){super(o,"flipLabel",["usePrinterSetting","on","off"])}}class Ee extends O.XFAObject{constructor(we){super(o,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new O.XFAObjectArray,this.defaultTypeface=new O.XFAObjectArray,this.neverEmbed=new O.XFAObjectArray}}class ve extends O.Option01{constructor(we){super(o,"formFieldFilling")}}class he extends O.StringObject{constructor(we){super(o,"groupParent")}}class Fe extends O.OptionObject{constructor(we){super(o,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class _e extends O.StringObject{constructor(we){super(o,"includeXDPContent")}}class Ne extends O.OptionObject{constructor(we){super(o,"incrementalLoad",["none","forwardOnly"])}}class Ze extends O.Option01{constructor(we){super(o,"incrementalMerge")}}class tt extends O.Option01{constructor(we){super(o,"interactive")}}class je extends O.OptionObject{constructor(we){super(o,"jog",["usePrinterSetting","none","pageSet"])}}class $e extends O.XFAObject{constructor(we){super(o,"labelPrinter",!0),this.name=(0,e.getStringOption)(we.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class He extends O.OptionObject{constructor(we){super(o,"layout",["paginate","panel"])}}class Ve extends O.IntegerObject{constructor(we){super(o,"level",0,wt=>wt>0)}}class st extends O.Option01{constructor(we){super(o,"linearized")}}class pt extends O.StringObject{constructor(we){super(o,"locale")}}class at extends O.StringObject{constructor(we){super(o,"localeSet")}}class Re extends O.XFAObject{constructor(we){super(o,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Ge extends O.XFAObject{constructor(we){super(o,"map",!0),this.equate=new O.XFAObjectArray,this.equateRange=new O.XFAObjectArray}}class gt extends O.XFAObject{constructor(we){super(o,"mediumInfo",!0),this.map=null}}class rt extends O.XFAObject{constructor(we){super(o,"message",!0),this.msgId=null,this.severity=null}}class Bt extends O.XFAObject{constructor(we){super(o,"messaging",!0),this.message=new O.XFAObjectArray}}class St extends O.OptionObject{constructor(we){super(o,"mode",["append","overwrite"])}}class jn extends O.Option01{constructor(we){super(o,"modifyAnnots")}}class dt extends O.IntegerObject{constructor(we){super(o,"msgId",1,wt=>wt>=1)}}class Zt extends O.StringObject{constructor(we){super(o,"nameAttr")}}class Gt extends O.ContentObject{constructor(we){super(o,"neverEmbed")}}class Ke extends O.IntegerObject{constructor(we){super(o,"numberOfCopies",null,wt=>wt>=2&&wt<=5)}}class Ue extends O.XFAObject{constructor(we){super(o,"openAction",!0),this.destination=null}}class ze extends O.XFAObject{constructor(we){super(o,"output",!0),this.to=null,this.type=null,this.uri=null}}class qe extends O.StringObject{constructor(we){super(o,"outputBin")}}class ct extends O.XFAObject{constructor(we){super(o,"outputXSL",!0),this.uri=null}}class ft extends O.OptionObject{constructor(we){super(o,"overprint",["none","both","draw","field"])}}class mt extends O.StringObject{constructor(we){super(o,"packets")}[w.$finalize](){this[w.$content]!=="*"&&(this[w.$content]=this[w.$content].trim().split(/\s+/).filter(we=>["config","datasets","template","xfdf","xslt"].includes(we)))}}class $t extends O.XFAObject{constructor(we){super(o,"pageOffset"),this.x=(0,e.getInteger)({data:we.x,defaultValue:"useXDCSetting",validate:wt=>!0}),this.y=(0,e.getInteger)({data:we.y,defaultValue:"useXDCSetting",validate:wt=>!0})}}class Mt extends O.StringObject{constructor(we){super(o,"pageRange")}[w.$finalize](){const we=this[w.$content].trim().split(/\s+/).map(Nt=>parseInt(Nt,10)),wt=[];for(let Nt=0,Kt=we.length;Nt<Kt;Nt+=2)wt.push(we.slice(Nt,Nt+2));this[w.$content]=wt}}class Dt extends O.OptionObject{constructor(we){super(o,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Xt extends O.OptionObject{constructor(we){super(o,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Vt extends O.IntegerObject{constructor(we){super(o,"part",1,wt=>!1)}}class Jt extends O.XFAObject{constructor(we){super(o,"pcl",!0),this.name=we.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class zn extends O.XFAObject{constructor(we){super(o,"pdf",!0),this.name=we.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class tn extends O.XFAObject{constructor(we){super(o,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Gi extends O.XFAObject{constructor(we){super(o,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class fr extends O.Option01{constructor(we){super(o,"pickTrayByPDFSize")}}class Lt extends O.StringObject{constructor(we){super(o,"picture")}}class Ot extends O.Option01{constructor(we){super(o,"plaintextMetadata")}}class jt extends O.OptionObject{constructor(we){super(o,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Wt extends O.XFAObject{constructor(we){super(o,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new O.XFAObjectArray,this.labelPrinter=new O.XFAObjectArray,this.pcl=new O.XFAObjectArray,this.pdf=new O.XFAObjectArray,this.ps=new O.XFAObjectArray,this.submitUrl=new O.XFAObjectArray,this.webClient=new O.XFAObjectArray,this.zpl=new O.XFAObjectArray}}class bn extends O.Option01{constructor(we){super(o,"print")}}class Ni extends O.Option01{constructor(we){super(o,"printHighQuality")}}class $n extends O.OptionObject{constructor(we){super(o,"printScaling",["appdefault","noScaling"])}}class zt extends O.StringObject{constructor(we){super(o,"printerName")}}class Oi extends O.StringObject{constructor(we){super(o,"producer")}}class zi extends O.XFAObject{constructor(we){super(o,"ps",!0),this.name=we.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class mr extends O.ContentObject{constructor(we){super(o,"range")}[w.$finalize](){this[w.$content]=this[w.$content].trim().split(/\s*,\s*/,2).map(we=>we.split("-").map(wt=>parseInt(wt.trim(),10))).filter(we=>we.every(wt=>!isNaN(wt))).map(we=>(we.length===1&&we.push(we[0]),we))}}class Ki extends O.ContentObject{constructor(we){super(o,"record")}[w.$finalize](){this[w.$content]=this[w.$content].trim();const we=parseInt(this[w.$content],10);!isNaN(we)&&we>=0&&(this[w.$content]=we)}}class Yi extends O.ContentObject{constructor(we){super(o,"relevant")}[w.$finalize](){this[w.$content]=this[w.$content].trim().split(/\s+/)}}class gr extends O.ContentObject{constructor(we){super(o,"rename")}[w.$finalize](){this[w.$content]=this[w.$content].trim(),(this[w.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[w.$content]))&&(0,t.warn)("XFA - Rename: invalid XFA name")}}class Pi extends O.OptionObject{constructor(we){super(o,"renderPolicy",["server","client"])}}class qi extends O.OptionObject{constructor(we){super(o,"runScripts",["both","client","none","server"])}}class ki extends O.XFAObject{constructor(we){super(o,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class dr extends O.OptionObject{constructor(we){super(o,"scriptModel",["XFA","none"])}}class Zi extends O.OptionObject{constructor(we){super(o,"severity",["ignore","error","information","trace","warning"])}}class jr extends O.XFAObject{constructor(we){super(o,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class nr extends O.XFAObject{constructor(we){super(o,"staple"),this.mode=(0,e.getStringOption)(we.mode,["usePrinterSetting","on","off"])}}class hr extends O.StringObject{constructor(we){super(o,"startNode")}}class Er extends O.IntegerObject{constructor(we){super(o,"startPage",0,wt=>!0)}}class Dr extends O.OptionObject{constructor(we){super(o,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class Jr extends O.StringObject{constructor(we){super(o,"submitUrl")}}class Bs extends O.IntegerObject{constructor(we){super(o,"subsetBelow",100,wt=>wt>=0&&wt<=100)}}class Qa extends O.Option01{constructor(we){super(o,"suppressBanner")}}class _s extends O.Option01{constructor(we){super(o,"tagged")}}class eo extends O.XFAObject{constructor(we){super(o,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class ta extends O.OptionObject{constructor(we){super(o,"threshold",["trace","error","information","warning"])}}class to extends O.OptionObject{constructor(we){super(o,"to",["null","memory","stderr","stdout","system","uri"])}}class na extends O.XFAObject{constructor(we){super(o,"templateCache"),this.maxEntries=(0,e.getInteger)({data:we.maxEntries,defaultValue:5,validate:wt=>wt>=0})}}class Ps extends O.XFAObject{constructor(we){super(o,"trace",!0),this.area=new O.XFAObjectArray}}class js extends O.XFAObject{constructor(we){super(o,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class gs extends O.OptionObject{constructor(we){super(o,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class no extends O.StringObject{constructor(we){super(o,"uri")}}class Gs extends O.OptionObject{constructor(we){super(o,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class ia extends O.ContentObject{constructor(we){super(o,"validateApprovalSignatures")}[w.$finalize](){this[w.$content]=this[w.$content].trim().split(/\s+/).filter(we=>["docReady","postSign"].includes(we))}}class ms extends O.OptionObject{constructor(we){super(o,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class io extends O.OptionObject{constructor(we){super(o,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class ro extends O.XFAObject{constructor(we){super(o,"VersionControl"),this.outputBelow=(0,e.getStringOption)(we.outputBelow,["warn","error","update"]),this.sourceAbove=(0,e.getStringOption)(we.sourceAbove,["warn","error"]),this.sourceBelow=(0,e.getStringOption)(we.sourceBelow,["update","maintain"])}}class so extends O.XFAObject{constructor(we){super(o,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class ao extends O.XFAObject{constructor(we){super(o,"webClient",!0),this.name=we.name?we.name.trim():"",this.fontInfo=null,this.xdc=null}}class oo extends O.OptionObject{constructor(we){super(o,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Xs extends O.ContentObject{constructor(we){super(o,"window")}[w.$finalize](){const we=this[w.$content].trim().split(/\s*,\s*/,2).map(wt=>parseInt(wt,10));if(we.some(wt=>isNaN(wt))){this[w.$content]=[0,0];return}we.length===1&&we.push(we[0]),this[w.$content]=we}}class is extends O.XFAObject{constructor(we){super(o,"xdc",!0),this.uri=new O.XFAObjectArray,this.xsl=new O.XFAObjectArray}}class vs extends O.XFAObject{constructor(we){super(o,"xdp",!0),this.packets=null}}class ra extends O.XFAObject{constructor(we){super(o,"xsl",!0),this.debug=null,this.uri=null}}class Ss extends O.XFAObject{constructor(we){super(o,"zpl",!0),this.name=we.name?we.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class _t{static[n.$buildXFAObject](we,wt){if(_t.hasOwnProperty(we))return _t[we](wt)}static acrobat(we){return new K(we)}static acrobat7(we){return new H(we)}static ADBE_JSConsole(we){return new U(we)}static ADBE_JSDebugger(we){return new P(we)}static addSilentPrint(we){return new f(we)}static addViewerPreferences(we){return new p(we)}static adjustData(we){return new i(we)}static adobeExtensionLevel(we){return new k(we)}static agent(we){return new F(we)}static alwaysEmbed(we){return new _(we)}static amd(we){return new C(we)}static area(we){return new Q(we)}static attributes(we){return new j(we)}static autoSave(we){return new re(we)}static base(we){return new T(we)}static batchOutput(we){return new R(we)}static behaviorOverride(we){return new d(we)}static cache(we){return new y(we)}static change(we){return new W(we)}static common(we){return new u(we)}static compress(we){return new b(we)}static compressLogicalStructure(we){return new D(we)}static compressObjectStream(we){return new J(we)}static compression(we){return new N(we)}static config(we){return new v(we)}static conformance(we){return new S(we)}static contentCopy(we){return new I(we)}static copies(we){return new h(we)}static creator(we){return new B(we)}static currentPage(we){return new r(we)}static data(we){return new A(we)}static debug(we){return new E(we)}static defaultTypeface(we){return new G(we)}static destination(we){return new se(we)}static documentAssembly(we){return new Ae(we)}static driver(we){return new ke(we)}static duplexOption(we){return new de(we)}static dynamicRender(we){return new Ie(we)}static embed(we){return new ge(we)}static encrypt(we){return new Be(we)}static encryption(we){return new ee(we)}static encryptionLevel(we){return new te(we)}static enforce(we){return new fe(we)}static equate(we){return new ue(we)}static equateRange(we){return new le(we)}static exclude(we){return new be(we)}static excludeNS(we){return new Ce(we)}static flipLabel(we){return new ce(we)}static fontInfo(we){return new Ee(we)}static formFieldFilling(we){return new ve(we)}static groupParent(we){return new he(we)}static ifEmpty(we){return new Fe(we)}static includeXDPContent(we){return new _e(we)}static incrementalLoad(we){return new Ne(we)}static incrementalMerge(we){return new Ze(we)}static interactive(we){return new tt(we)}static jog(we){return new je(we)}static labelPrinter(we){return new $e(we)}static layout(we){return new He(we)}static level(we){return new Ve(we)}static linearized(we){return new st(we)}static locale(we){return new pt(we)}static localeSet(we){return new at(we)}static log(we){return new Re(we)}static map(we){return new Ge(we)}static mediumInfo(we){return new gt(we)}static message(we){return new rt(we)}static messaging(we){return new Bt(we)}static mode(we){return new St(we)}static modifyAnnots(we){return new jn(we)}static msgId(we){return new dt(we)}static nameAttr(we){return new Zt(we)}static neverEmbed(we){return new Gt(we)}static numberOfCopies(we){return new Ke(we)}static openAction(we){return new Ue(we)}static output(we){return new ze(we)}static outputBin(we){return new qe(we)}static outputXSL(we){return new ct(we)}static overprint(we){return new ft(we)}static packets(we){return new mt(we)}static pageOffset(we){return new $t(we)}static pageRange(we){return new Mt(we)}static pagination(we){return new Dt(we)}static paginationOverride(we){return new Xt(we)}static part(we){return new Vt(we)}static pcl(we){return new Jt(we)}static pdf(we){return new zn(we)}static pdfa(we){return new tn(we)}static permissions(we){return new Gi(we)}static pickTrayByPDFSize(we){return new fr(we)}static picture(we){return new Lt(we)}static plaintextMetadata(we){return new Ot(we)}static presence(we){return new jt(we)}static present(we){return new Wt(we)}static print(we){return new bn(we)}static printHighQuality(we){return new Ni(we)}static printScaling(we){return new $n(we)}static printerName(we){return new zt(we)}static producer(we){return new Oi(we)}static ps(we){return new zi(we)}static range(we){return new mr(we)}static record(we){return new Ki(we)}static relevant(we){return new Yi(we)}static rename(we){return new gr(we)}static renderPolicy(we){return new Pi(we)}static runScripts(we){return new qi(we)}static script(we){return new ki(we)}static scriptModel(we){return new dr(we)}static severity(we){return new Zi(we)}static silentPrint(we){return new jr(we)}static staple(we){return new nr(we)}static startNode(we){return new hr(we)}static startPage(we){return new Er(we)}static submitFormat(we){return new Dr(we)}static submitUrl(we){return new Jr(we)}static subsetBelow(we){return new Bs(we)}static suppressBanner(we){return new Qa(we)}static tagged(we){return new _s(we)}static template(we){return new eo(we)}static templateCache(we){return new na(we)}static threshold(we){return new ta(we)}static to(we){return new to(we)}static trace(we){return new Ps(we)}static transform(we){return new js(we)}static type(we){return new gs(we)}static uri(we){return new no(we)}static validate(we){return new Gs(we)}static validateApprovalSignatures(we){return new ia(we)}static validationMessaging(we){return new ms(we)}static version(we){return new io(we)}static versionControl(we){return new ro(we)}static viewerPreferences(we){return new so(we)}static webClient(we){return new ao(we)}static whitespace(we){return new oo(we)}static window(we){return new Xs(we)}static xdc(we){return new is(we)}static xdp(we){return new vs(we)}static xsl(we){return new ra(we)}static zpl(we){return new Ss(we)}}x.ConfigNamespace=_t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ConnectionSetNamespace=void 0;var n=ie(81),w=ie(87);const O=n.NamespaceIds.connectionSet.id;class e extends w.XFAObject{constructor(Q){super(O,"connectionSet",!0),this.wsdlConnection=new w.XFAObjectArray,this.xmlConnection=new w.XFAObjectArray,this.xsdConnection=new w.XFAObjectArray}}class t extends w.XFAObject{constructor(Q){super(O,"effectiveInputPolicy"),this.id=Q.id||"",this.name=Q.name||"",this.use=Q.use||"",this.usehref=Q.usehref||""}}class o extends w.XFAObject{constructor(Q){super(O,"effectiveOutputPolicy"),this.id=Q.id||"",this.name=Q.name||"",this.use=Q.use||"",this.usehref=Q.usehref||""}}class K extends w.StringObject{constructor(Q){super(O,"operation"),this.id=Q.id||"",this.input=Q.input||"",this.name=Q.name||"",this.output=Q.output||"",this.use=Q.use||"",this.usehref=Q.usehref||""}}class H extends w.StringObject{constructor(Q){super(O,"rootElement"),this.id=Q.id||"",this.name=Q.name||"",this.use=Q.use||"",this.usehref=Q.usehref||""}}class U extends w.StringObject{constructor(Q){super(O,"soapAction"),this.id=Q.id||"",this.name=Q.name||"",this.use=Q.use||"",this.usehref=Q.usehref||""}}class P extends w.StringObject{constructor(Q){super(O,"soapAddress"),this.id=Q.id||"",this.name=Q.name||"",this.use=Q.use||"",this.usehref=Q.usehref||""}}class f extends w.StringObject{constructor(Q){super(O,"uri"),this.id=Q.id||"",this.name=Q.name||"",this.use=Q.use||"",this.usehref=Q.usehref||""}}class p extends w.StringObject{constructor(Q){super(O,"wsdlAddress"),this.id=Q.id||"",this.name=Q.name||"",this.use=Q.use||"",this.usehref=Q.usehref||""}}class i extends w.XFAObject{constructor(Q){super(O,"wsdlConnection",!0),this.dataDescription=Q.dataDescription||"",this.name=Q.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class k extends w.XFAObject{constructor(Q){super(O,"xmlConnection",!0),this.dataDescription=Q.dataDescription||"",this.name=Q.name||"",this.uri=null}}class F extends w.XFAObject{constructor(Q){super(O,"xsdConnection",!0),this.dataDescription=Q.dataDescription||"",this.name=Q.name||"",this.rootElement=null,this.uri=null}}class _{static[n.$buildXFAObject](Q,j){if(_.hasOwnProperty(Q))return _[Q](j)}static connectionSet(Q){return new e(Q)}static effectiveInputPolicy(Q){return new t(Q)}static effectiveOutputPolicy(Q){return new o(Q)}static operation(Q){return new K(Q)}static rootElement(Q){return new H(Q)}static soapAction(Q){return new U(Q)}static soapAddress(Q){return new P(Q)}static uri(Q){return new f(Q)}static wsdlAddress(Q){return new p(Q)}static wsdlConnection(Q){return new i(Q)}static xmlConnection(Q){return new k(Q)}static xsdConnection(Q){return new F(Q)}}x.ConnectionSetNamespace=_},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.DatasetsNamespace=void 0;var n=ie(78),w=ie(81),O=ie(87);const e=w.NamespaceIds.datasets.id;class t extends O.XmlObject{constructor(U){super(e,"data",U)}[n.$isNsAgnostic](){return!0}}class o extends O.XFAObject{constructor(U){super(e,"datasets",!0),this.data=null,this.Signature=null}[n.$onChild](U){const P=U[n.$nodeName];(P==="data"&&U[n.$namespaceId]===e||P==="Signature"&&U[n.$namespaceId]===w.NamespaceIds.signature.id)&&(this[P]=U),this[n.$appendChild](U)}}class K{static[w.$buildXFAObject](U,P){if(K.hasOwnProperty(U))return K[U](P)}static datasets(U){return new o(U)}static data(U){return new t(U)}}x.DatasetsNamespace=K},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.LocaleSetNamespace=void 0;var n=ie(81),w=ie(87),O=ie(84);const e=n.NamespaceIds.localeSet.id;class t extends w.XFAObject{constructor(v){super(e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new w.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new w.XFAObjectArray(2)}}class o extends w.StringObject{constructor(v){super(e,"currencySymbol"),this.name=(0,O.getStringOption)(v.name,["symbol","isoname","decimal"])}}class K extends w.XFAObject{constructor(v){super(e,"currencySymbols",!0),this.currencySymbol=new w.XFAObjectArray(3)}}class H extends w.StringObject{constructor(v){super(e,"datePattern"),this.name=(0,O.getStringOption)(v.name,["full","long","med","short"])}}class U extends w.XFAObject{constructor(v){super(e,"datePatterns",!0),this.datePattern=new w.XFAObjectArray(4)}}class P extends w.ContentObject{constructor(v){super(e,"dateTimeSymbols")}}class f extends w.StringObject{constructor(v){super(e,"day")}}class p extends w.XFAObject{constructor(v){super(e,"dayNames",!0),this.abbr=(0,O.getInteger)({data:v.abbr,defaultValue:0,validate:S=>S===1}),this.day=new w.XFAObjectArray(7)}}class i extends w.StringObject{constructor(v){super(e,"era")}}class k extends w.XFAObject{constructor(v){super(e,"eraNames",!0),this.era=new w.XFAObjectArray(2)}}class F extends w.XFAObject{constructor(v){super(e,"locale",!0),this.desc=v.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class _ extends w.XFAObject{constructor(v){super(e,"localeSet",!0),this.locale=new w.XFAObjectArray}}class C extends w.StringObject{constructor(v){super(e,"meridiem")}}class Q extends w.XFAObject{constructor(v){super(e,"meridiemNames",!0),this.meridiem=new w.XFAObjectArray(2)}}class j extends w.StringObject{constructor(v){super(e,"month")}}class re extends w.XFAObject{constructor(v){super(e,"monthNames",!0),this.abbr=(0,O.getInteger)({data:v.abbr,defaultValue:0,validate:S=>S===1}),this.month=new w.XFAObjectArray(12)}}class T extends w.StringObject{constructor(v){super(e,"numberPattern"),this.name=(0,O.getStringOption)(v.name,["full","long","med","short"])}}class R extends w.XFAObject{constructor(v){super(e,"numberPatterns",!0),this.numberPattern=new w.XFAObjectArray(4)}}class d extends w.StringObject{constructor(v){super(e,"numberSymbol"),this.name=(0,O.getStringOption)(v.name,["decimal","grouping","percent","minus","zero"])}}class y extends w.XFAObject{constructor(v){super(e,"numberSymbols",!0),this.numberSymbol=new w.XFAObjectArray(5)}}class W extends w.StringObject{constructor(v){super(e,"timePattern"),this.name=(0,O.getStringOption)(v.name,["full","long","med","short"])}}class u extends w.XFAObject{constructor(v){super(e,"timePatterns",!0),this.timePattern=new w.XFAObjectArray(4)}}class b extends w.XFAObject{constructor(v){super(e,"typeFace",!0),this.name=v.name|""}}class D extends w.XFAObject{constructor(v){super(e,"typeFaces",!0),this.typeFace=new w.XFAObjectArray}}class J{static[n.$buildXFAObject](v,S){if(J.hasOwnProperty(v))return J[v](S)}static calendarSymbols(v){return new t(v)}static currencySymbol(v){return new o(v)}static currencySymbols(v){return new K(v)}static datePattern(v){return new H(v)}static datePatterns(v){return new U(v)}static dateTimeSymbols(v){return new P(v)}static day(v){return new f(v)}static dayNames(v){return new p(v)}static era(v){return new i(v)}static eraNames(v){return new k(v)}static locale(v){return new F(v)}static localeSet(v){return new _(v)}static meridiem(v){return new C(v)}static meridiemNames(v){return new Q(v)}static month(v){return new j(v)}static monthNames(v){return new re(v)}static numberPattern(v){return new T(v)}static numberPatterns(v){return new R(v)}static numberSymbol(v){return new d(v)}static numberSymbols(v){return new y(v)}static timePattern(v){return new W(v)}static timePatterns(v){return new u(v)}static typeFace(v){return new b(v)}static typeFaces(v){return new D(v)}}x.LocaleSetNamespace=J},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.SignatureNamespace=void 0;var n=ie(81),w=ie(87);const O=n.NamespaceIds.signature.id;class e extends w.XFAObject{constructor(K){super(O,"signature",!0)}}class t{static[n.$buildXFAObject](K,H){if(t.hasOwnProperty(K))return t[K](H)}static signature(K){return new e(K)}}x.SignatureNamespace=t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.StylesheetNamespace=void 0;var n=ie(81),w=ie(87);const O=n.NamespaceIds.stylesheet.id;class e extends w.XFAObject{constructor(K){super(O,"stylesheet",!0)}}class t{static[n.$buildXFAObject](K,H){if(t.hasOwnProperty(K))return t[K](H)}static stylesheet(K){return new e(K)}}x.StylesheetNamespace=t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XdpNamespace=void 0;var n=ie(81),w=ie(78),O=ie(87);const e=n.NamespaceIds.xdp.id;class t extends O.XFAObject{constructor(H){super(e,"xdp",!0),this.uuid=H.uuid||"",this.timeStamp=H.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new O.XFAObjectArray,this.template=null}[w.$onChildCheck](H){const U=n.NamespaceIds[H[w.$nodeName]];return U&&H[w.$namespaceId]===U.id}}class o{static[n.$buildXFAObject](H,U){if(o.hasOwnProperty(H))return o[H](U)}static xdp(H){return new t(H)}}x.XdpNamespace=o},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XhtmlNamespace=void 0;var n=ie(78),w=ie(81),O=ie(83),e=ie(84),t=ie(87);const o=w.NamespaceIds.xhtml.id,K=Symbol(),H=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),U=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",v=>v==="none"?"none":"normal"],["xfa-font-horizontal-scale",v=>`scaleX(${Math.max(0,Math.min(parseInt(v)/100)).toFixed(2)})`],["xfa-font-vertical-scale",v=>`scaleY(${Math.max(0,Math.min(parseInt(v)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(v,S)=>(v=S.fontSize=(0,e.getMeasurement)(v),(0,O.measureToString)(.99*v))],["letter-spacing",v=>(0,O.measureToString)((0,e.getMeasurement)(v))],["line-height",v=>(0,O.measureToString)((0,e.getMeasurement)(v))],["margin",v=>(0,O.measureToString)((0,e.getMeasurement)(v))],["margin-bottom",v=>(0,O.measureToString)((0,e.getMeasurement)(v))],["margin-left",v=>(0,O.measureToString)((0,e.getMeasurement)(v))],["margin-right",v=>(0,O.measureToString)((0,e.getMeasurement)(v))],["margin-top",v=>(0,O.measureToString)((0,e.getMeasurement)(v))],["text-indent",v=>(0,O.measureToString)((0,e.getMeasurement)(v))],["font-family",v=>v],["vertical-align",v=>(0,O.measureToString)((0,e.getMeasurement)(v))]]),P=/\s+/g,f=/[\r\n]+/g,p=/\r\n?/g;function i(v,S,I){const h=Object.create(null);if(!v)return h;const B=Object.create(null);for(const[r,A]of v.split(";").map(E=>E.split(":",2))){const E=U.get(r);if(E==="")continue;let G=A;E&&(G=typeof E=="string"?E:E(A,B)),r.endsWith("scale")?h.transform=h.transform?`${h[r]} ${G}`:G:h[r.replaceAll(/-([a-zA-Z])/g,(se,Ae)=>Ae.toUpperCase())]=G}if(h.fontFamily&&(0,O.setFontFamily)({typeface:h.fontFamily,weight:h.fontWeight||"normal",posture:h.fontStyle||"normal",size:B.fontSize||0},S,S[n.$globalData].fontFinder,h),I&&h.verticalAlign&&h.verticalAlign!=="0px"&&h.fontSize){const E=(0,e.getMeasurement)(h.fontSize);h.fontSize=(0,O.measureToString)(E*.583),h.verticalAlign=(0,O.measureToString)(Math.sign((0,e.getMeasurement)(h.verticalAlign))*E*.333)}return I&&h.fontSize&&(h.fontSize=`calc(${h.fontSize} * var(--scale-factor))`),(0,O.fixTextIndent)(h),h}function k(v){return v.style?v.style.trim().split(/\s*;\s*/).filter(S=>!!S).map(S=>S.split(/\s*:\s*/,2)).filter(([S,I])=>(S==="font-family"&&v[n.$globalData].usedTypefaces.add(I),H.has(S))).map(S=>S.join(":")).join(";"):""}const F=new Set(["body","html"]);class _ extends t.XmlObject{constructor(S,I){super(o,I),this[K]=!1,this.style=S.style||""}[n.$clean](S){super[n.$clean](S),this.style=k(this)}[n.$acceptWhitespace](){return!F.has(this[n.$nodeName])}[n.$onText](S,I=!1){I?this[K]=!0:(S=S.replaceAll(f,""),this.style.includes("xfa-spacerun:yes")||(S=S.replaceAll(P," "))),S&&(this[n.$content]+=S)}[n.$pushGlyphs](S,I=!0){const h=Object.create(null),B={top:NaN,bottom:NaN,left:NaN,right:NaN};let r=null;for(const[A,E]of this.style.split(";").map(G=>G.split(":",2)))switch(A){case"font-family":h.typeface=(0,e.stripQuotes)(E);break;case"font-size":h.size=(0,e.getMeasurement)(E);break;case"font-weight":h.weight=E;break;case"font-style":h.posture=E;break;case"letter-spacing":h.letterSpacing=(0,e.getMeasurement)(E);break;case"margin":const G=E.split(/ \t/).map(se=>(0,e.getMeasurement)(se));switch(G.length){case 1:B.top=B.bottom=B.left=B.right=G[0];break;case 2:B.top=B.bottom=G[0],B.left=B.right=G[1];break;case 3:B.top=G[0],B.bottom=G[2],B.left=B.right=G[1];break;case 4:B.top=G[0],B.left=G[1],B.bottom=G[2],B.right=G[3];break}break;case"margin-top":B.top=(0,e.getMeasurement)(E);break;case"margin-bottom":B.bottom=(0,e.getMeasurement)(E);break;case"margin-left":B.left=(0,e.getMeasurement)(E);break;case"margin-right":B.right=(0,e.getMeasurement)(E);break;case"line-height":r=(0,e.getMeasurement)(E);break}if(S.pushData(h,B,r),this[n.$content])S.addString(this[n.$content]);else for(const A of this[n.$getChildren]()){if(A[n.$nodeName]==="#text"){S.addString(A[n.$content]);continue}A[n.$pushGlyphs](S)}I&&S.popFont()}[n.$toHTML](S){const I=[];if(this[n.$extra]={children:I},this[n.$childrenToHTML]({}),I.length===0&&!this[n.$content])return e.HTMLResult.EMPTY;let h;return this[K]?h=this[n.$content]?this[n.$content].replaceAll(p,`
`):void 0:h=this[n.$content]||void 0,e.HTMLResult.success({name:this[n.$nodeName],attributes:{href:this.href,style:i(this.style,this,this[K])},children:I,value:h})}}class C extends _{constructor(S){super(S,"a"),this.href=(0,O.fixURL)(S.href)||""}}class Q extends _{constructor(S){super(S,"b")}[n.$pushGlyphs](S){S.pushFont({weight:"bold"}),super[n.$pushGlyphs](S),S.popFont()}}class j extends _{constructor(S){super(S,"body")}[n.$toHTML](S){const I=super[n.$toHTML](S),{html:h}=I;return h?(h.name="div",h.attributes.class=["xfaRich"],I):e.HTMLResult.EMPTY}}class re extends _{constructor(S){super(S,"br")}[n.$text](){return`
`}[n.$pushGlyphs](S){S.addString(`
`)}[n.$toHTML](S){return e.HTMLResult.success({name:"br"})}}class T extends _{constructor(S){super(S,"html")}[n.$toHTML](S){var h;const I=[];if(this[n.$extra]={children:I},this[n.$childrenToHTML]({}),I.length===0)return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[n.$content]||""});if(I.length===1){const B=I[0];if((h=B.attributes)!=null&&h.class.includes("xfaRich"))return e.HTMLResult.success(B)}return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:I})}}class R extends _{constructor(S){super(S,"i")}[n.$pushGlyphs](S){S.pushFont({posture:"italic"}),super[n.$pushGlyphs](S),S.popFont()}}class d extends _{constructor(S){super(S,"li")}}class y extends _{constructor(S){super(S,"ol")}}class W extends _{constructor(S){super(S,"p")}[n.$pushGlyphs](S){super[n.$pushGlyphs](S,!1),S.addString(`
`),S.addPara(),S.popFont()}[n.$text](){return this[n.$getParent]()[n.$getChildren]().at(-1)===this?super[n.$text]():super[n.$text]()+`
`}}class u extends _{constructor(S){super(S,"span")}}class b extends _{constructor(S){super(S,"sub")}}class D extends _{constructor(S){super(S,"sup")}}class J extends _{constructor(S){super(S,"ul")}}class N{static[w.$buildXFAObject](S,I){if(N.hasOwnProperty(S))return N[S](I)}static a(S){return new C(S)}static b(S){return new Q(S)}static body(S){return new j(S)}static br(S){return new re(S)}static html(S){return new T(S)}static i(S){return new R(S)}static li(S){return new d(S)}static ol(S){return new y(S)}static p(S){return new W(S)}static span(S){return new u(S)}static sub(S){return new b(S)}static sup(S){return new D(S)}static ul(S){return new J(S)}}x.XhtmlNamespace=N},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.UnknownNamespace=void 0;var n=ie(81),w=ie(87);class O{constructor(t){this.namespaceId=t}[n.$buildXFAObject](t,o){return new w.XmlObject(this.namespaceId,t,o)}}x.UnknownNamespace=O},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.DatasetReader=void 0;var n=ie(2),w=ie(3),O=ie(71);function e(K){try{return(0,n.stringToUTF8String)(K)}catch(H){return(0,n.warn)(`UTF-8 decoding failed: "${H}".`),K}}class t extends O.SimpleXMLParser{constructor(H){super(H),this.node=null}onEndElement(H){const U=super.onEndElement(H);if(U&&H==="xfa:datasets")throw this.node=U,new Error("Aborting DatasetXMLParser.")}}class o{constructor(H){if(H.datasets)this.node=new O.SimpleXMLParser({hasAttributes:!0}).parseFromString(H.datasets).documentElement;else{const U=new t({hasAttributes:!0});try{U.parseFromString(H["xdp:xdp"])}catch{}this.node=U.node}}getValue(H){if(!this.node||!H)return"";const U=this.node.searchNode((0,w.parseXFAPath)(H),0);if(!U)return"";const P=U.firstChild;return(P==null?void 0:P.nodeName)==="value"?U.children.map(f=>e(f.textContent)):e(U.textContent)}}x.DatasetReader=o},(Pe,x,ie)=>{var H;Object.defineProperty(x,"__esModule",{value:!0}),x.XRef=void 0;var n=ie(2),w=ie(4),O=ie(16),e=ie(3),t=ie(5),o=ie(74);class K{constructor(P,f){At(this,H,null);this.stream=P,this.pdfManager=f,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new w.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(P){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const f=this._newPersistentRefNum++;return this._cacheMap.set(f,P),w.Ref.get(f,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),w.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(P){this.startXRefQueue=[P]}parse(P=!1){let f;P?((0,n.warn)("Indexing all PDF objects"),f=this.indexObjects()):f=this.readXRef(),f.assignXref(this),this.trailer=f;let p;try{p=f.get("Encrypt")}catch(k){if(k instanceof e.MissingDataException)throw k;(0,n.warn)(`XRef.parse - Invalid "Encrypt" reference: "${k}".`)}if(p instanceof w.Dict){const k=f.get("ID"),F=k!=null&&k.length?k[0]:"";p.suppressEncryption=!0,this.encrypt=new o.CipherTransformFactory(p,F,this.pdfManager.password)}let i;try{i=f.get("Root")}catch(k){if(k instanceof e.MissingDataException)throw k;(0,n.warn)(`XRef.parse - Invalid "Root" reference: "${k}".`)}if(i instanceof w.Dict)try{if(i.get("Pages")instanceof w.Dict){this.root=i;return}}catch(k){if(k instanceof e.MissingDataException)throw k;(0,n.warn)(`XRef.parse - Invalid "Pages" reference: "${k}".`)}throw P?new n.InvalidPDFException("Invalid Root reference."):new e.XRefParseException}processXRefTable(P){"tableState"in this||(this.tableState={entryNum:0,streamPos:P.lexer.stream.pos,parserBuf1:P.buf1,parserBuf2:P.buf2});const f=this.readXRefTable(P);if(!(0,w.isCmd)(f,"trailer"))throw new n.FormatError("Invalid XRef table: could not find trailer dictionary");let p=P.getObj();if(!(p instanceof w.Dict)&&p.dict&&(p=p.dict),!(p instanceof w.Dict))throw new n.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,p}readXRefTable(P){const f=P.lexer.stream,p=this.tableState;f.pos=p.streamPos,P.buf1=p.parserBuf1,P.buf2=p.parserBuf2;let i;for(;;){if(!("firstEntryNum"in p)||!("entryCount"in p)){if((0,w.isCmd)(i=P.getObj(),"trailer"))break;p.firstEntryNum=i,p.entryCount=P.getObj()}let k=p.firstEntryNum;const F=p.entryCount;if(!Number.isInteger(k)||!Number.isInteger(F))throw new n.FormatError("Invalid XRef table: wrong types in subsection header");for(let _=p.entryNum;_<F;_++){p.streamPos=f.pos,p.entryNum=_,p.parserBuf1=P.buf1,p.parserBuf2=P.buf2;const C={};C.offset=P.getObj(),C.gen=P.getObj();const Q=P.getObj();if(Q instanceof w.Cmd)switch(Q.cmd){case"f":C.free=!0;break;case"n":C.uncompressed=!0;break}if(!Number.isInteger(C.offset)||!Number.isInteger(C.gen)||!(C.free||C.uncompressed))throw new n.FormatError(`Invalid entry in XRef subsection: ${k}, ${F}`);_===0&&C.free&&k===1&&(k=0),this.entries[_+k]||(this.entries[_+k]=C)}p.entryNum=0,p.streamPos=f.pos,p.parserBuf1=P.buf1,p.parserBuf2=P.buf2,delete p.firstEntryNum,delete p.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new n.FormatError("Invalid XRef table: unexpected first object");return i}processXRefStream(P){if(!("streamState"in this)){const f=P.dict,p=f.get("W");let i=f.get("Index");i||(i=[0,f.get("Size")]),this.streamState={entryRanges:i,byteWidths:p,entryNum:0,streamPos:P.pos}}return this.readXRefStream(P),delete this.streamState,P.dict}readXRefStream(P){const f=this.streamState;P.pos=f.streamPos;const[p,i,k]=f.byteWidths,F=f.entryRanges;for(;F.length>0;){const[_,C]=F;if(!Number.isInteger(_)||!Number.isInteger(C))throw new n.FormatError(`Invalid XRef range fields: ${_}, ${C}`);if(!Number.isInteger(p)||!Number.isInteger(i)||!Number.isInteger(k))throw new n.FormatError(`Invalid XRef entry fields length: ${_}, ${C}`);for(let Q=f.entryNum;Q<C;++Q){f.entryNum=Q,f.streamPos=P.pos;let j=0,re=0,T=0;for(let d=0;d<p;++d){const y=P.getByte();if(y===-1)throw new n.FormatError("Invalid XRef byteWidths 'type'.");j=j<<8|y}p===0&&(j=1);for(let d=0;d<i;++d){const y=P.getByte();if(y===-1)throw new n.FormatError("Invalid XRef byteWidths 'offset'.");re=re<<8|y}for(let d=0;d<k;++d){const y=P.getByte();if(y===-1)throw new n.FormatError("Invalid XRef byteWidths 'generation'.");T=T<<8|y}const R={};switch(R.offset=re,R.gen=T,j){case 0:R.free=!0;break;case 1:R.uncompressed=!0;break;case 2:break;default:throw new n.FormatError(`Invalid XRef entry type: ${j}`)}this.entries[_+Q]||(this.entries[_+Q]=R)}f.entryNum=0,f.streamPos=P.pos,F.splice(0,2)}}indexObjects(){function _(B,r){let A="",E=B[r];for(;E!==10&&E!==13&&E!==60&&!(++r>=B.length);)A+=String.fromCharCode(E),E=B[r];return A}function C(B,r,A){const E=A.length,G=B.length;let se=0;for(;r<G;){let Ae=0;for(;Ae<E&&B[r+Ae]===A[Ae];)++Ae;if(Ae>=E)break;r++,se++}return se}const Q=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,j=/\b(startxref|\d+\s+\d+\s+obj)\b/g,re=/^(\d+)\s+(\d+)\s+obj\b/,T=new Uint8Array([116,114,97,105,108,101,114]),R=new Uint8Array([115,116,97,114,116,120,114,101,102]),d=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const y=this.stream;y.pos=0;const W=y.getBytes(),u=(0,n.bytesToString)(W),b=W.length;let D=y.start;const J=[],N=[];for(;D<b;){let B=W[D];if(B===9||B===10||B===13||B===32){++D;continue}if(B===37){do{if(++D,D>=b)break;B=W[D]}while(B!==10&&B!==13);continue}const r=_(W,D);let A;if(r.startsWith("xref")&&(r.length===4||/\s/.test(r[4])))D+=C(W,D,T),J.push(D),D+=C(W,D,R);else if(A=re.exec(r)){const E=A[1]|0,G=A[2]|0,se=D+r.length;let Ae,ke=!1;if(!this.entries[E])ke=!0;else if(this.entries[E].gen===G)try{new O.Parser({lexer:new O.Lexer(y.makeSubStream(se))}).getObj(),ke=!0}catch(Be){Be instanceof e.ParserEOFException?(0,n.warn)(`indexObjects -- checking object (${r}): "${Be}".`):ke=!0}ke&&(this.entries[E]={offset:D-y.start,gen:G,uncompressed:!0}),Q.lastIndex=se;const de=Q.exec(u);de?(Ae=Q.lastIndex+1-D,de[1]!=="endobj"&&((0,n.warn)(`indexObjects: Found "${de[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),Ae-=de[1].length+1)):Ae=b-D;const Ie=W.subarray(D,D+Ae),ge=C(Ie,0,d);ge<Ae&&Ie[ge+5]<64&&(N.push(D-y.start),this._xrefStms.add(D-y.start)),D+=Ae}else if(r.startsWith("trailer")&&(r.length===7||/\s/.test(r[7]))){J.push(D);const E=D+r.length;let G;j.lastIndex=E;const se=j.exec(u);se?(G=j.lastIndex+1-D,se[1]!=="startxref"&&((0,n.warn)(`indexObjects: Found "${se[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),G-=se[1].length+1)):G=b-D,D+=G}else D+=r.length+1}for(const B of N)this.startXRefQueue.push(B),this.readXRef(!0);const v=[];let S=!1;for(const B of J){y.pos=B;const r=new O.Parser({lexer:new O.Lexer(y),xref:this,allowStreams:!0,recoveryMode:!0}),A=r.getObj();if(!(0,w.isCmd)(A,"trailer"))continue;const E=r.getObj();E instanceof w.Dict&&(v.push(E),E.has("Encrypt")&&(S=!0))}let I,h;for(const B of[...v,"genFallback",...v]){if(B==="genFallback"){if(!h)break;this._generationFallback=!0;continue}let r=!1;try{const A=B.get("Root");if(!(A instanceof w.Dict))continue;const E=A.get("Pages");if(!(E instanceof w.Dict))continue;const G=E.get("Count");Number.isInteger(G)&&(r=!0)}catch(A){h=A;continue}if(r&&(!S||B.has("Encrypt"))&&B.has("ID"))return B;I=B}if(I)return I;if(this.topDict)return this.topDict;throw new n.InvalidPDFException("Invalid PDF structure.")}readXRef(P=!1){const f=this.stream,p=new Set;for(;this.startXRefQueue.length;){try{const i=this.startXRefQueue[0];if(p.has(i)){(0,n.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}p.add(i),f.pos=i+f.start;const k=new O.Parser({lexer:new O.Lexer(f),xref:this,allowStreams:!0});let F=k.getObj(),_;if((0,w.isCmd)(F,"xref"))_=this.processXRefTable(k),this.topDict||(this.topDict=_),F=_.get("XRefStm"),Number.isInteger(F)&&!this._xrefStms.has(F)&&(this._xrefStms.add(F),this.startXRefQueue.push(F),Me(this,H)??Pt(this,H,F));else if(Number.isInteger(F)){if(!Number.isInteger(k.getObj())||!(0,w.isCmd)(k.getObj(),"obj")||!((F=k.getObj())instanceof t.BaseStream))throw new n.FormatError("Invalid XRef stream");if(_=this.processXRefStream(F),this.topDict||(this.topDict=_),!_)throw new n.FormatError("Failed to read XRef stream")}else throw new n.FormatError("Invalid XRef stream header");F=_.get("Prev"),Number.isInteger(F)?this.startXRefQueue.push(F):F instanceof w.Ref&&this.startXRefQueue.push(F.num)}catch(i){if(i instanceof e.MissingDataException)throw i;(0,n.info)("(while reading XRef): "+i)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!P)throw new e.XRefParseException}get lastXRefStreamPos(){return Me(this,H)??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(P){const f=this.entries[P];return f&&!f.free&&f.offset?f:null}fetchIfRef(P,f=!1){return P instanceof w.Ref?this.fetch(P,f):P}fetch(P,f=!1){if(!(P instanceof w.Ref))throw new Error("ref object is not a reference");const p=P.num,i=this._cacheMap.get(p);if(i!==void 0)return i instanceof w.Dict&&!i.objId&&(i.objId=P.toString()),i;let k=this.getEntry(p);if(k===null)return this._cacheMap.set(p,k),k;if(this._pendingRefs.has(P))return this._pendingRefs.remove(P),(0,n.warn)(`Ignoring circular reference: ${P}.`),w.CIRCULAR_REF;this._pendingRefs.put(P);try{k=k.uncompressed?this.fetchUncompressed(P,k,f):this.fetchCompressed(P,k,f),this._pendingRefs.remove(P)}catch(F){throw this._pendingRefs.remove(P),F}return k instanceof w.Dict?k.objId=P.toString():k instanceof t.BaseStream&&(k.dict.objId=P.toString()),k}fetchUncompressed(P,f,p=!1){const i=P.gen;let k=P.num;if(f.gen!==i){const re=`Inconsistent generation in XRef: ${P}`;if(this._generationFallback&&f.gen<i)return(0,n.warn)(re),this.fetchUncompressed(w.Ref.get(k,f.gen),f,p);throw new e.XRefEntryException(re)}const F=this.stream.makeSubStream(f.offset+this.stream.start),_=new O.Parser({lexer:new O.Lexer(F),xref:this,allowStreams:!0}),C=_.getObj(),Q=_.getObj(),j=_.getObj();if(C!==k||Q!==i||!(j instanceof w.Cmd))throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${P}`);if(j.cmd!=="obj"){if(j.cmd.startsWith("obj")&&(k=parseInt(j.cmd.substring(3),10),!Number.isNaN(k)))return k;throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${P}`)}return f=this.encrypt&&!p?_.getObj(this.encrypt.createCipherTransform(k,i)):_.getObj(),f instanceof t.BaseStream||this._cacheMap.set(k,f),f}fetchCompressed(P,f,p=!1){const i=f.offset,k=this.fetch(w.Ref.get(i,0));if(!(k instanceof t.BaseStream))throw new n.FormatError("bad ObjStm stream");const F=k.dict.get("First"),_=k.dict.get("N");if(!Number.isInteger(F)||!Number.isInteger(_))throw new n.FormatError("invalid first and n parameters for ObjStm stream");let C=new O.Parser({lexer:new O.Lexer(k),xref:this,allowStreams:!0});const Q=new Array(_),j=new Array(_);for(let R=0;R<_;++R){const d=C.getObj();if(!Number.isInteger(d))throw new n.FormatError(`invalid object number in the ObjStm stream: ${d}`);const y=C.getObj();if(!Number.isInteger(y))throw new n.FormatError(`invalid object offset in the ObjStm stream: ${y}`);Q[R]=d,j[R]=y}const re=(k.start||0)+F,T=new Array(_);for(let R=0;R<_;++R){const d=R<_-1?j[R+1]-j[R]:void 0;if(d<0)throw new n.FormatError("Invalid offset in the ObjStm stream.");C=new O.Parser({lexer:new O.Lexer(k.makeSubStream(re+j[R],d,k.dict)),xref:this,allowStreams:!0});const y=C.getObj();if(T[R]=y,y instanceof t.BaseStream)continue;const W=Q[R],u=this.entries[W];u&&u.offset===i&&u.gen===R&&this._cacheMap.set(W,y)}if(f=T[f.gen],f===void 0)throw new e.XRefEntryException(`Bad (compressed) XRef entry: ${P}`);return f}async fetchIfRefAsync(P,f){return P instanceof w.Ref?this.fetchAsync(P,f):P}async fetchAsync(P,f){try{return this.fetch(P,f)}catch(p){if(!(p instanceof e.MissingDataException))throw p;return await this.pdfManager.requestRange(p.begin,p.end),this.fetchAsync(P,f)}}getCatalogObj(){return this.root}}H=new WeakMap,x.XRef=K},(Pe,x,ie)=>{var o,hd,H,dd,P,MA;Object.defineProperty(x,"__esModule",{value:!0}),x.MessageHandler=void 0;var n=ie(2);const w={UNKNOWN:0,DATA:1,ERROR:2},O={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function e(p){switch(p instanceof Error||typeof p=="object"&&p!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),p.name){case"AbortException":return new n.AbortException(p.message);case"MissingPDFException":return new n.MissingPDFException(p.message);case"PasswordException":return new n.PasswordException(p.message,p.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(p.message,p.status);case"UnknownErrorException":return new n.UnknownErrorException(p.message,p.details);default:return new n.UnknownErrorException(p.message,p.toString())}}class t{constructor(i,k,F){At(this,o);At(this,H);At(this,P);this.sourceName=i,this.targetName=k,this.comObj=F,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=_=>{const C=_.data;if(C.targetName!==this.sourceName)return;if(C.stream){ht(this,H,dd).call(this,C);return}if(C.callback){const j=C.callbackId,re=this.callbackCapabilities[j];if(!re)throw new Error(`Cannot resolve callback ${j}`);if(delete this.callbackCapabilities[j],C.callback===w.DATA)re.resolve(C.data);else if(C.callback===w.ERROR)re.reject(e(C.reason));else throw new Error("Unexpected callback case");return}const Q=this.actionHandler[C.action];if(!Q)throw new Error(`Unknown action from worker: ${C.action}`);if(C.callbackId){const j=this.sourceName,re=C.sourceName;new Promise(function(T){T(Q(C.data))}).then(function(T){F.postMessage({sourceName:j,targetName:re,callback:w.DATA,callbackId:C.callbackId,data:T})},function(T){F.postMessage({sourceName:j,targetName:re,callback:w.ERROR,callbackId:C.callbackId,reason:e(T)})});return}if(C.streamId){ht(this,o,hd).call(this,C);return}Q(C.data)},F.addEventListener("message",this._onComObjOnMessage)}on(i,k){const F=this.actionHandler;if(F[i])throw new Error(`There is already an actionName called "${i}"`);F[i]=k}send(i,k,F){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,data:k},F)}sendWithPromise(i,k,F){const _=this.callbackId++,C=new n.PromiseCapability;this.callbackCapabilities[_]=C;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,callbackId:_,data:k},F)}catch(Q){C.reject(Q)}return C.promise}sendWithStream(i,k,F,_){const C=this.streamId++,Q=this.sourceName,j=this.targetName,re=this.comObj;return new ReadableStream({start:T=>{const R=new n.PromiseCapability;return this.streamControllers[C]={controller:T,startCall:R,pullCall:null,cancelCall:null,isClosed:!1},re.postMessage({sourceName:Q,targetName:j,action:i,streamId:C,data:k,desiredSize:T.desiredSize},_),R.promise},pull:T=>{const R=new n.PromiseCapability;return this.streamControllers[C].pullCall=R,re.postMessage({sourceName:Q,targetName:j,stream:O.PULL,streamId:C,desiredSize:T.desiredSize}),R.promise},cancel:T=>{(0,n.assert)(T instanceof Error,"cancel must have a valid reason");const R=new n.PromiseCapability;return this.streamControllers[C].cancelCall=R,this.streamControllers[C].isClosed=!0,re.postMessage({sourceName:Q,targetName:j,stream:O.CANCEL,streamId:C,reason:e(T)}),R.promise}},F)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}o=new WeakSet,hd=function(i){const k=i.streamId,F=this.sourceName,_=i.sourceName,C=this.comObj,Q=this,j=this.actionHandler[i.action],re={enqueue(T,R=1,d){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=R,y>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),C.postMessage({sourceName:F,targetName:_,stream:O.ENQUEUE,streamId:k,chunk:T},d)},close(){this.isCancelled||(this.isCancelled=!0,C.postMessage({sourceName:F,targetName:_,stream:O.CLOSE,streamId:k}),delete Q.streamSinks[k])},error(T){(0,n.assert)(T instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,C.postMessage({sourceName:F,targetName:_,stream:O.ERROR,streamId:k,reason:e(T)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:i.desiredSize,ready:null};re.sinkCapability.resolve(),re.ready=re.sinkCapability.promise,this.streamSinks[k]=re,new Promise(function(T){T(j(i.data,re))}).then(function(){C.postMessage({sourceName:F,targetName:_,stream:O.START_COMPLETE,streamId:k,success:!0})},function(T){C.postMessage({sourceName:F,targetName:_,stream:O.START_COMPLETE,streamId:k,reason:e(T)})})},H=new WeakSet,dd=function(i){const k=i.streamId,F=this.sourceName,_=i.sourceName,C=this.comObj,Q=this.streamControllers[k],j=this.streamSinks[k];switch(i.stream){case O.START_COMPLETE:i.success?Q.startCall.resolve():Q.startCall.reject(e(i.reason));break;case O.PULL_COMPLETE:i.success?Q.pullCall.resolve():Q.pullCall.reject(e(i.reason));break;case O.PULL:if(!j){C.postMessage({sourceName:F,targetName:_,stream:O.PULL_COMPLETE,streamId:k,success:!0});break}j.desiredSize<=0&&i.desiredSize>0&&j.sinkCapability.resolve(),j.desiredSize=i.desiredSize,new Promise(function(re){var T;re((T=j.onPull)==null?void 0:T.call(j))}).then(function(){C.postMessage({sourceName:F,targetName:_,stream:O.PULL_COMPLETE,streamId:k,success:!0})},function(re){C.postMessage({sourceName:F,targetName:_,stream:O.PULL_COMPLETE,streamId:k,reason:e(re)})});break;case O.ENQUEUE:if((0,n.assert)(Q,"enqueue should have stream controller"),Q.isClosed)break;Q.controller.enqueue(i.chunk);break;case O.CLOSE:if((0,n.assert)(Q,"close should have stream controller"),Q.isClosed)break;Q.isClosed=!0,Q.controller.close(),ht(this,P,MA).call(this,Q,k);break;case O.ERROR:(0,n.assert)(Q,"error should have stream controller"),Q.controller.error(e(i.reason)),ht(this,P,MA).call(this,Q,k);break;case O.CANCEL_COMPLETE:i.success?Q.cancelCall.resolve():Q.cancelCall.reject(e(i.reason)),ht(this,P,MA).call(this,Q,k);break;case O.CANCEL:if(!j)break;new Promise(function(re){var T;re((T=j.onCancel)==null?void 0:T.call(j,e(i.reason)))}).then(function(){C.postMessage({sourceName:F,targetName:_,stream:O.CANCEL_COMPLETE,streamId:k,success:!0})},function(re){C.postMessage({sourceName:F,targetName:_,stream:O.CANCEL_COMPLETE,streamId:k,reason:e(re)})}),j.sinkCapability.reject(e(i.reason)),j.isCancelled=!0,delete this.streamSinks[k];break;default:throw new Error("Unexpected stream case")}},P=new WeakSet,MA=async function(i,k){var F,_,C;await Promise.allSettled([(F=i.startCall)==null?void 0:F.promise,(_=i.pullCall)==null?void 0:_.promise,(C=i.cancelCall)==null?void 0:C.promise]),delete this.streamControllers[k]},x.MessageHandler=t},(Pe,x,ie)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFWorkerStream=void 0;var n=ie(2);class w{constructor(o){this._msgHandler=o,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new O(this._msgHandler),this._fullRequestReader}getRangeReader(o,K){const H=new e(o,K,this._msgHandler);return this._rangeRequestReaders.push(H),H}cancelAllRequests(o){var K;(K=this._fullRequestReader)==null||K.cancel(o);for(const H of this._rangeRequestReaders.slice(0))H.cancel(o)}}x.PDFWorkerStream=w;class O{constructor(o){this._msgHandler=o,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const K=this._msgHandler.sendWithStream("GetReader");this._reader=K.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(H=>{this._isStreamingSupported=H.isStreamingSupported,this._isRangeSupported=H.isRangeSupported,this._contentLength=H.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:o,done:K}=await this._reader.read();return K?{value:void 0,done:!0}:{value:o.buffer,done:!1}}cancel(o){this._reader.cancel(o)}}class e{constructor(o,K,H){this._msgHandler=H,this.onProgress=null;const U=this._msgHandler.sendWithStream("GetRangeReader",{begin:o,end:K});this._reader=U.getReader()}get isStreamingSupported(){return!1}async read(){const{value:o,done:K}=await this._reader.read();return K?{value:void 0,done:!0}:{value:o.buffer,done:!1}}cancel(o){this._reader.cancel(o)}}}],X={};function ae(Pe){var x=X[Pe];if(x!==void 0)return x.exports;var ie=X[Pe]={exports:{}};return M[Pe](ie,ie.exports,ae),ie.exports}var Te={};return(()=>{var Pe=Te;Object.defineProperty(Pe,"__esModule",{value:!0}),Object.defineProperty(Pe,"WorkerMessageHandler",{enumerable:!0,get:function(){return x.WorkerMessageHandler}});var x=ae(1)})(),Te})())})(pdf_worker$1);var pdf_workerExports=pdf_worker$1.exports;const pdf_worker=getDefaultExportFromCjs(pdf_workerExports),hw=_mergeNamespaces({__proto__:null,default:pdf_worker},[pdf_workerExports]);var ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof global<"u"?ws=global.WebSocket||global.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);const Zw=ws;var va=Object.defineProperty,Xd=Object.defineProperties,Yd=Object.getOwnPropertyDescriptors,ya=Object.getOwnPropertySymbols,Zd=Object.prototype.hasOwnProperty,jd=Object.prototype.propertyIsEnumerable,Ia=(a,s,M)=>s in a?va(a,s,{enumerable:!0,configurable:!0,writable:!0,value:M}):a[s]=M,Ct=(a,s)=>{for(var M in s||(s={}))Zd.call(s,M)&&Ia(a,M,s[M]);if(ya)for(var M of ya(s))jd.call(s,M)&&Ia(a,M,s[M]);return a},Ha=(a,s)=>Xd(a,Yd(s)),V=(a,s)=>()=>(a&&(s=a(a=0)),s),We=(a,s)=>{for(var M in s)va(a,M,{get:s[M],enumerable:!0})},m=(a,s,M)=>new Promise((X,ae)=>{var Te=ie=>{try{x(M.next(ie))}catch(n){ae(n)}},Pe=ie=>{try{x(M.throw(ie))}catch(n){ae(n)}},x=ie=>ie.done?X(ie.value):Promise.resolve(ie.value).then(Te,Pe);x((M=M.apply(a,s)).next())});function oA(a,s=!1){return new Promise(M=>{chrome.storage.local.get(a,function(X){M(s?X[a]:X)})})}function Y(a,s){return new Promise(M=>{chrome.storage.local.set({[a]:s},function(){M(!0)})})}function ba(a){return new Promise(s=>{chrome.storage.local.remove(a,function(){s(!0)})})}var _A=V(()=>{});function No(a){return m(this,null,function*(){return new Promise(s=>{oA("mllwtl_identifier").then(M=>{M.mllwtl_identifier&&M.mllwtl_identifier.startsWith(`mllwtl_${a}`)?s(M.mllwtl_identifier):M.mllwtl_identifier&&M.mllwtl_identifier.startsWith("mllwtl_")?Ta(a,!0,M.mllwtl_identifier).then(X=>{s(X)}):Ta(a).then(X=>{s(X)})})})})}function Ta(a,s=!1,M=""){return m(this,null,function*(){return new Promise(X=>{let ae=s?M.split("_")[1]:zd(10),Te=`mllwtl_${a}_${ae}`;Y("mllwtl_identifier",Te).then(Pe=>{X(Te)})})})}function zd(a){return Math.random().toString(36).substring(2,a+2)}function bA(){return new Promise(a=>{oA("mllwtl_identifier").then(s=>{s.mllwtl_identifier?a(s.mllwtl_identifier):setTimeout(()=>{bA().then(M=>{a(M)})},200)})})}function ZA(){return new Promise(a=>{try{a(chrome.runtime.id)}catch{a("identifier_not_found")}})}function La(){return new Promise(a=>{try{a(chrome.runtime.getManifest().name)}catch{a("extension_name_not_found")}})}var me=V(()=>{_A()});function TA(a,s){return m(this,null,function*(){return new Promise(M=>{s.target="contentScriptM";try{chrome.tabs.sendMessage(a,s,function(X){chrome.runtime.lastError&&M(null),M(X)})}catch{M(null)}})})}function z(a){return m(this,null,function*(){return new Promise(s=>{chrome.runtime.sendMessage(a,M=>{s(M)})})})}var xA=V(()=>{}),c,eA=V(()=>{c=class{static info(a,...s){this.disableLogs||console.info(a,...s)}static log(a,...s){this.disableLogs||console.log(a,...s)}static warn(a,...s){this.disableLogs||console.warn(a,...s)}static error(a,...s){this.disableLogs||console.error(a,...s)}},c.disableLogs=!0}),Je,pe,qr,Da,Xe,qt,ko,xa,Vo,Oa,An,Ma,PA=V(()=>{Je="1.6.3",pe="data-mllwtl-frame-crwl-ml",qr="data-mllwtl-frame-batch-crwl-ml",Da="data-mllwtl-frame",Xe="mllwtl-cereal-frame-id",qt=27502,ko="#4CAF50",xa=7,Vo=5*1e3,Oa=3*1e3,An=1e3*60*60*24,Ma=1e3*60*60*12});function Qt(a){return document.querySelectorAll(`[data-id=${a?qr:pe}]`).length}function Ka(a,s,M,X){return new Promise(ae=>{let Te=screen.width/2-M/2,Pe=screen.height/2-X/2-150;window.open(a,s,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${M}, height=${X}, top=${Pe}, left=${Te}`),ae(!0)})}function ne(){if(typeof navigator>"u")return"unknown";var a=navigator.userAgent;return a.indexOf("Edg")>-1?"edge":a.indexOf("OPR")>-1?"opera":a.indexOf("Chrome")>-1?"chrome":a.indexOf("Firefox")>-1?"firefox":a.indexOf("Safari")>-1?"safari":a.indexOf("Trident")>-1||a.indexOf("MSIE")>-1?"ie":"unknown"}function WA(){return new Promise(a=>{try{chrome.declarativeNetRequest.getSessionRules(s=>{chrome.runtime.lastError?a(!1):a(!0)})}catch{a(!1)}})}function en(){return chrome.runtime.getManifest().manifest_version}function ye(a){return a.replace(/^\/+/,"")}var $A=V(()=>{PA()});function rn(a,s){return new Promise(function(M){if(s)M(!1);else{let X=Pa();on().then(ae=>{ae?z({intent:"disableXFrameHeaders",hostname:a,skipHeaders:s}).then(()=>{M(!0)}):(chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[X],addRules:[{id:X,priority:1,action:{type:"modifyHeaders",responseHeaders:[{header:"x-frame-options",operation:"remove"},{header:"content-security-policy",operation:"remove"},{header:"cross-origin-embedder-policy",operation:"remove"},{header:"cross-origin-opener-policy",operation:"remove"},{header:"cross-origin-resource-policy",operation:"remove"},{header:"content-security-policy-report-only",operation:"remove"}]},condition:{resourceTypes:["sub_frame"],urlFilter:"*://*/*"}}]}),M(!0))})}})}function Ar(a){return new Promise(function(s){let M=Pa();on().then(X=>{X?z({intent:"enableXFrameHeaders",hostname:a}).then(()=>{s(!0)}):(chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[M]}),s(!0))})})}function Ra(){return new Promise(function(a){let s={id:80050,priority:1,action:{type:"modifyHeaders",requestHeaders:[{header:"Origin",operation:"remove"}],responseHeaders:[{header:"Access-Control-Allow-Origin",operation:"set",value:"*"},{header:"Access-Control-Allow-Methods",operation:"set",value:"GET, POST, PUT, DELETE, OPTIONS"},{header:"Access-Control-Allow-Headers",operation:"set",value:"Content-Type"}]},condition:{urlFilter:"*://*/*",resourceTypes:["image"]}};chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80050],addRules:[s]},()=>{chrome.runtime.lastError?(c.log("Error adding rule:",chrome.runtime.lastError),a(!1)):(c.log("Rule added successfully"),a(!0))})})}function _a(){return new Promise(function(a){chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80050]}),a(!0)})}function nn(){return new Promise(function(a){chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80049],addRules:[{id:80049,priority:1,action:{type:"modifyHeaders",requestHeaders:[{header:"Origin",operation:"remove"}],responseHeaders:[{header:"Access-Control-Allow-Origin",operation:"set",value:"*"},{header:"Access-Control-Allow-Methods",operation:"set",value:"GET, POST, PUT, DELETE, OPTIONS"},{header:"Access-Control-Allow-Headers",operation:"set",value:"Content-Type"}]},condition:{urlFilter:"*://*/*",resourceTypes:["xmlhttprequest"]}}]}),a(!0)})}function Le(){return new Promise(function(a){chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80049]}),a(!0)})}function Pa(a){return 80045}function on(){return new Promise(a=>{try{chrome.declarativeNetRequest.getSessionRules(s=>{chrome.runtime.lastError?a(!0):a(!1)})}catch{a(!0)}})}function sn(){return m(this,null,function*(){let a=[80049];(yield WA())?yield chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:a}):yield z({intent:"cleanUpDNRRules"})})}var Se=V(()=>{xA(),PA(),eA(),$A()});function Na(a){return new Promise(s=>{let M=document.getElementById(a);s(!!M)})}function ka(a,s){return m(this,null,function*(){return new Promise(function(M){chrome.storage.local.set({[a]:s},function(){M("done")})})})}function Va(a){return m(this,null,function*(){return new Promise(function(s){chrome.tabs.query({},function(M){let X=M.length,ae=0,Te=!1;for(let Pe=0;Pe<X;Pe++)TA(M[Pe].id,{intent:"getSharedMemoryDOM",key:a}).then(function(x){ae++,x&&(Te=!0),ae===X&&s(Te)})})})})}var Wo=V(()=>{xA()});function Ft(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsRequestInfo"],function(M){let X=M.recordsRequestInfo||[],ae=!1;for(let Te=0;Te<X.length;Te++)if(X[Te].recordID===a.recordID){X[Te]=a,ae=!0;break}ae||X.push(a),chrome.storage.local.set({recordsRequestInfo:X},function(){c.log("[addToRequestInfoStorage]: added record",a),s("done")})})}catch(M){c.log("addToRequestInfoStorage error",M),s("done")}})}function Ga(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsRequestInfo"],function(M){let X=M.recordsRequestInfo||[],ae=[];for(let Te=0;Te<X.length;Te++)X[Te].recordID!==a&&ae.push(X[Te]);chrome.storage.local.set({recordsRequestInfo:ae},function(){s("done")})})}catch(M){c.log("deleteFromRequestInfoStorage error",M),s("done")}})}function Ye(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsRequestInfo"],function(M){let X=M.recordsRequestInfo||[];for(let ae=0;ae<X.length;ae++)if(X[ae].recordID===a){s(X[ae]);return}s({statusCode:1e3,isPDF:!1})})}catch(M){c.log("getFromRequestInfoStorage error",M),s({})}})}var De=V(()=>{eA()});function Ja(){return m(this,null,function*(){try{let a=Date.now(),s=yield Y(Wa,a);return c.log("[saveTriggerTimestamp] Saved timestamp:",a),s}catch(a){return c.error("[saveTriggerTimestamp] Error saving timestamp:",a),!1}})}function ew(){return m(this,null,function*(){try{let a=yield oA(Wa,!0);return c.log("[getTriggerTimestamp] Retrieved timestamp:",a),a||0}catch(a){return c.error("[getTriggerTimestamp] Error retrieving timestamp:",a),0}})}function tw(){return m(this,null,function*(){let a=yield ew();if(a===0)return!0;let s=Date.now()-a,M=s>=qd;return c.log("[shouldResetTriggers] Time elapsed:",s,"ms"),c.log("[shouldResetTriggers] Should reset:",M),M})}function Jo(){return m(this,null,function*(){return new Promise(a=>{let s=()=>m(this,null,function*(){(yield tw())?(c.log("[waitForResetInterval] Minimum interval reached, proceeding with reset"),a()):(c.log("[waitForResetInterval] Minimum interval not reached, retrying in 15 seconds"),setTimeout(s,Aw))});s()})})}var Wa,qd,Aw,Xo=V(()=>{eA(),_A(),Wa="mllwtl_trigger_rules_timestamp",qd=1e4,Aw=3e3});function Xa(a,s,M,X){return m(this,null,function*(){return new Promise(function(ae){M?ae(!1):z({intent:"seeIfTriggersDownload",url:a,triggersDownload:s,recordID:X}).then(Te=>{ae(Te)})})})}function Ya(a,s,M){return m(this,null,function*(){return new Promise(function(X){if(!s)X("done");else{let ae=[],Te={resourceTypes:["sub_frame"],urlFilter:"*://*/*"};rw(a).then(function(Pe){return m(this,null,function*(){c.log("@@ fetchAndProcessHeaders @@ =>",Pe);let x=Pe.isPDF,ie=Pe.statusCode,n=Pe.isOfficeDoc;if(yield Ft({recordID:M,isPDF:x,isOfficeDoc:n,statusCode:ie}),Pe.error)X("error");else if(n)X("done");else{Pe.removeContentDisposition&&ae.push({id:80046,priority:1,action:{type:"modifyHeaders",responseHeaders:[{header:"content-disposition",operation:"remove"}]},condition:Te}),Pe.modifyContentType&&Pe.valueToModifyContentTypeTo&&(ae.push({id:80047,priority:1,action:{type:"modifyHeaders",responseHeaders:[{header:"content-type",operation:"remove"}]},condition:Te}),ae.push({id:80048,priority:2,action:{type:"modifyHeaders",responseHeaders:[{header:"content-type",operation:"set",value:Pe.valueToModifyContentTypeTo},{header:"x-content-type-options",operation:"set",value:"nosniff"}]},condition:Te}));try{yield chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80046,80047,80048],addRules:ae}),yield Ja(),c.log("Updated session rules successfully:",ae),X("done")}catch(w){c.error("Failed to update session rules:",w),X("error")}}})}).catch(Pe=>{c.error("Fetch error:",Pe),X("error")})}})})}function er(){return m(this,null,function*(){return new Promise(function(a){on().then(s=>{s?z({intent:"resetTriggersDownload"}).then(()=>{a("done")}):(chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80046,80047,80048]}),a("done"))})})})}function rw(a){return m(this,null,function*(){var s;let M=new Response;try{c.log("[fetchAndProcessHeaders] => Fetching URL:",a),M=yield fetch(a)}catch(X){return c.log("[fetchAndProcessHeaders] => Fetch error:",X),{error:!0,isPDF:!1,isOfficeDoc:!1,statusCode:599}}try{let X=M.status,ae=(s=M.headers.get("content-type"))==null?void 0:s.toLowerCase();c.log("Content-Type:",ae);let Te=ae==="application/pdf",Pe=nw(ae);c.log("isPDF:",Te,"isOfficeDoc:",Pe);let x=!1,ie=!1,n="",w=M.headers.get("content-disposition");if(c.log("## Content-Disposition:",w),w){let O=w.toLowerCase();(O.includes("attachment")||O.includes("inline")&&O.includes("filename"))&&(x=!0)}if(ae&&(ae==="application/octet-stream"||ae==="application/x-download")){let O=a.substring(a.lastIndexOf(".")+1).toLowerCase();c.log("Detected file type:",O);let e=["exe","dmg","deb","rpm","apk","msi","pkg","zip","rar","7z","gz","tar","xz","bz2"],t=["pdf","json","xml","ogg"],o=["gif","jpg","jpeg","png","tiff"];e.includes(O)||(ie=!0,t.includes(O)?n="application/"+O:o.includes(O)?n="image/"+O:n="text/plain")}return{error:!1,isPDF:Te,isOfficeDoc:Pe,statusCode:X,removeContentDisposition:x,modifyContentType:ie,valueToModifyContentTypeTo:n}}catch(X){return c.error("Fetch error:",X),{error:!0,isPDF:!1,isOfficeDoc:!1,statusCode:599}}})}function nw(a){return a?["application/vnd.openxmlformats-officedocument.","application/vnd.ms-","application/msword","application/vnd.oasis.opendocument."].some(s=>a.includes(s)):!1}var an=V(()=>{eA(),PA(),Se(),xA(),De(),Xo()});function zA(a,s,M=500){return new Promise(X=>m(this,null,function*(){try{c.log("[tellToDeleteIframe] : recordID => "+a),c.log("[tellToDeleteIframe] : BATCH_execution => "+s),(yield WA())?(c.log("[tellToDeleteIframe] : isInSW => true"),chrome.tabs.query({},function(ae){return m(this,null,function*(){var Te;for(let Pe=0;Pe<ae.length&&(yield TA((Te=ae[Pe])==null?void 0:Te.id,{intent:"deleteIframeM",recordID:a,BATCH_execution:s,delayBetweenExecutions:M}))===null;Pe++);})}),X(!0)):z({intent:"deleteIframeM",recordID:a,BATCH_execution:s,delayBetweenExecutions:M}).then(ae=>{X(ae)})}catch(ae){c.error("[tellToDeleteIframe] : error => "+ae),X(!1)}}))}var Ut=V(()=>{xA(),eA(),$A()});function Za(a,s,M,X,ae,Te,Pe,x,ie,n,w,O,e,t,o,K=500,H=!1,U=!1,P=!0,f=!0,p="{}",i=""){return new Promise(function(k){return m(this,null,function*(){yield nn();let F={method:"POST",credentials:"omit"};if(s!=="no_payload")try{s=JSON.parse(s),F.body=JSON.stringify(s)}catch{}if(M!=="no_headers")try{M=JSON.parse(M),F.headers=M}catch{}let _=1e3;fetch(a,F).then(C=>(_=C.status,C.text())).then(C=>m(this,null,function*(){try{JSON.parse(C),yield zo(Te,JSON.parse(C),ae,X,a,e,t,_),yield zA(Te,e,K),k(C)}catch{c.log("[handlePostRequest]: Not JSON"),yield Ft({recordID:Te,isPDF:!1,statusCode:_}),chrome.tabs.query({},function(j){return m(this,null,function*(){for(let re=0;re<j.length&&(yield TA(j[re].id,{intent:"processCrawl",recordID:Te,fastLane:X,orgId:ae,htmlVisualizer:Pe,htmlContained:x,html_string:C,method_endpoint:a,removeImages:ie,removeCSSselectors:n,classNamesToBeRemoved:w,htmlTransformer:O,BATCH_execution:e,batch_id:t,statusCode:_,actions:o,openTab:H,openTabOnlyIfMust:U,saveHtml:P,saveMarkdown:f,cerealObject:p}))===null;re++);})})}})).catch(C=>m(this,null,function*(){yield Le(),c.log("Error:",C)}))})})}function zo(a,s,M,X,ae,Te,Pe,x){return m(this,null,function*(){return new Promise(function(ie){return m(this,null,function*(){try{let n="https://afcha2nmzsir4rr4zbta4tyy6e0fxjix.lambda-url.us-east-1.on.aws/",w={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({recordID:a,json:JSON.stringify(s),fastLane:X,url:ae,htmlTransformer:"none",orgId:M,saveText:!1,BATCH_execution:Te,batch_id:Pe,statusCode:x})};c.log("[saveJSON] : Request options => "),c.log(w),fetch(n,w).then(O=>m(this,null,function*(){if(!O.ok)throw yield Le(),new Error("Network response was not ok");return O.json()})).then(O=>m(this,null,function*(){c.log("[saveJSON]: Response from server:",O),yield Le()})).catch(O=>m(this,null,function*(){c.log("[saveJSON] : Error:",O),yield Le()}))}catch(n){c.error("[saveJSON] : Error:",n),yield Le()}})})})}var $o=V(()=>{eA(),Se(),xA(),De(),Ut()});function tr(){return new Promise(a=>{try{chrome.tabs.query({},function(s){chrome.runtime.lastError?a(!0):a(!1)})}catch(s){c.error("Error in shouldDelegateTabsApi",s),a(!0)}})}var ja=V(()=>{eA()});function Al(a="optIn"){return m(this,null,function*(){return new Promise(s=>{Y(a==="optIn"?ln:cn,"true").then(()=>{s(!0)})})})}function el(a="optIn"){return m(this,null,function*(){return new Promise(s=>{let M=a==="optIn";oA(M?ln:cn).then(X=>{if(X===void 0||!X.hasOwnProperty(M?ln:cn))s(!1);else{let ae=X[M?ln:cn].toString().toLowerCase()==="true";s(ae)}})})})}function gn(){return new Promise(a=>m(this,null,function*(){if(yield tr()){let s=yield z({intent:"openOptInLink"});a(s)}if(yield el("optIn"))a("");else{let s=yield ZA();bA().then(M=>m(this,null,function*(){let X=M.split("_")[1],ae=`${za}?extension_id=${encodeURIComponent(s)}&configuration_key=${X}&browser=${ne()}`;yield Al("optIn"),chrome.tabs.create({url:ae}),a(ae)}))}}))}function un(){return new Promise(a=>m(this,null,function*(){if(yield tr()){let s=yield z({intent:"openUpdateLink"});a(s)}if(yield el("update"))a("");else{let s=yield ZA();bA().then(M=>m(this,null,function*(){let X=M.split("_")[1],ae=`${$a}?extension_id=${encodeURIComponent(s)}&configuration_key=${X}&browser=${ne()}`;yield Al("update"),chrome.tabs.create({url:ae,pinned:!0,active:!0},Te=>{a(ae)})}))}}))}function tl(){return new Promise(a=>m(this,null,function*(){let s=yield ZA();bA().then(M=>{let X=M.split("_")[1];a(`${za}?extension_id=${encodeURIComponent(s)}&configuration_key=${X}&browser=${ne()}`)})}))}function rl(){return new Promise(a=>m(this,null,function*(){let s=yield ZA();bA().then(M=>{let X=M.split("_")[1];a(`${$a}?extension_id=${encodeURIComponent(s)}&configuration_key=${X}&browser=${ne()}`)})}))}function rr(){return new Promise(a=>m(this,null,function*(){let s=yield ZA();bA().then(M=>{let X=M.split("_")[1];a(`${ow}?extension_id=${encodeURIComponent(s)}&configuration_key=${X}&browser=${ne()}`)})}))}function nl(){return new Promise(a=>m(this,null,function*(){let s=yield rr(),M=!(yield tr()),X=en();M&&X!==2&&(c.log("openUserSettingsInPopupWindow: Method not supported in background script"),a(!1)),yield Ka(s,"Settings",768,400),a(!0)}))}function fn(){return new Promise(a=>m(this,null,function*(){if(yield tr()){let M=yield z({intent:"openFeedbackLink"});a(M)}let s=yield ZA();bA().then(M=>m(this,null,function*(){let X=M.split("_")[1],ae=`${qa}?extension_id=${encodeURIComponent(s)}&configuration_key=${X}`;chrome.tabs.create({url:ae},Te=>{a(ae)})}))}))}function ol(){return new Promise(a=>m(this,null,function*(){let s=yield ZA();bA().then(M=>{let X=M.split("_")[1];a(`${qa}?extension_id=${encodeURIComponent(s)}&configuration_key=${X}`)})}))}var Bn,ow,za,$a,qa,ln,cn,dn=V(()=>{me(),_A(),ja(),xA(),$A(),eA(),Bn="https://www.mellow.tel/",ow=Bn+"settings/",za=Bn+"opt-in/",$a=Bn+"update/",qa=Bn+"uninstall-feedback/",ln="mellowtelOptInOpened",cn="mUpdateOpened"});function wn(){return new Promise(a=>m(this,null,function*(){let s=yield sw(),M=s.speedMbps,X=s.speedTestTimestamp;M===void 0||aw(X)?(c.log("[MeasureConnectionSpeed]: Running speed test..."),ll().then(ae=>{if(ae)z({intent:"measureConnectionSpeed"}).then(Te=>m(this,null,function*(){Te?(yield il(Te),a(Te)):(c.log("Speed test failed. Could not get bandwidth"),a(0))}));else{let Te=new LoggingMeasurementEngine({autoStart:!1,measurements:[{type:"download",bytes:1e7,count:1}]});Te.onFinish=Pe=>m(this,null,function*(){let x=Pe.getDownloadBandwidth();if(!x)c.log("Speed test failed. Could not get bandwidth"),a(0);else{let ie=(x/1e6).toFixed(2);c.log(`Speed test finished. Download bandwidth: ${ie} Mbps`),yield il(parseFloat(ie)),a(parseFloat(ie))}}),Te.play()}})):(c.log("[MeasureConnectionSpeed]: Using saved speed test results =>",M),c.log("[MeasureConnectionSpeed]: Speed test timestamp =>",X),a(M))}))}function il(a){return new Promise(s=>m(this,null,function*(){let M=new Date().getTime();yield Y("speedMbps",a),yield Y("speedTestTimestamp",M),s(!0)}))}function sw(){return new Promise(a=>m(this,null,function*(){let s=yield oA("speedMbps");s===void 0||!s.hasOwnProperty("speedMbps")?s=void 0:s=s.speedMbps;let M=yield oA("speedTestTimestamp");M===void 0||!M.hasOwnProperty("speedTestTimestamp")?M=void 0:M=M.speedTestTimestamp,a({speedMbps:s,speedTestTimestamp:M})}))}function aw(a){return a===void 0?!0:new Date().getTime()-a>Ma}function sl(){return new Promise(a=>{try{a(navigator.connection.effectiveType||"unknown")}catch{a("unknown")}})}var al,qo=V(()=>{eA(),xA(),Ai(),_A(),PA(),al=["4g","3g","unknown"]});function cl(a,s){return new Promise(M=>{fetch(a,{method:"PUT",body:s,headers:{"Content-Type":"text/html","x-amz-acl":"public-read"}}).then(X=>{if(!X.ok)throw new Error("[putHTMLToSigned]: Network response was not ok");return X}).then(X=>{c.log("[putHTMLToSigned]: Response from server:",X),M(X)})})}function Bl(a,s){return new Promise(M=>{fetch(a,{method:"PUT",body:s,headers:{"Content-Type":"text/markdown","x-amz-acl":"public-read"}}).then(X=>{if(!X.ok)throw new Error("[putMarkdownToSigned]: Network response was not ok");return X}).then(X=>{c.log("[putMarkdownToSigned]: Response from server:",X),M(X)})})}function gl(a,s){return new Promise(M=>{let X=atob(s.split(",")[1]),ae=new Array(X.length);for(let Pe=0;Pe<X.length;Pe++)ae[Pe]=X.charCodeAt(Pe);let Te=new Uint8Array(ae);fetch(a,{method:"PUT",body:Te,headers:{"Content-Type":"image/png","Content-Encoding":"base64","x-amz-acl":"public-read"}}).then(Pe=>{if(!Pe.ok)throw new Error("[putHTMLVisualizerToSigned]: Network response was not ok");return Pe}).then(Pe=>{c.log("[putHTMLVisualizerToSigned]: Response from server:",Pe),M(Pe)})})}function ul(a,s){return new Promise(M=>{fetch(a,{method:"PUT",body:s,headers:{"Content-Type":"text/html","x-amz-acl":"public-read"}}).then(X=>{if(!X.ok)throw new Error("[putHTMLContainedToSigned]: Network response was not ok");return X}).then(X=>{c.log("[putHTMLContainedToSigned]: Response from server:",X),M(X)})})}var fl=V(()=>{eA()});function dl(){return m(this,null,function*(){return new Promise(function(a){chrome.tabs.query({},function(s){let M=s.length,X=0,ae=!1;for(let Te=0;Te<M;Te++)TA(s[Te].id,{intent:"getSharedMemoryDOM",key:"webSocketConnected"}).then(function(Pe){X++,Pe&&(ae=!0),X===M&&a(ae)})})})})}function wl(){return new Promise(a=>{let s=document.querySelector(`[id^=${Da}]`);a(!!s)})}var ei=V(()=>{xA(),PA()});function ti(){return new Promise(a=>{chrome.action||z({intent:"getBadgeProperties"}).then(s=>{a(s)}),chrome.action.getBadgeText({},s=>{chrome.action.getBadgeTextColor({},M=>{chrome.action.getBadgeBackgroundColor({},X=>{c.log("[getBadgeProperties]:",s,M,X),a({text:s,textColor:M,backgroundColor:X})})})})})}function ri(){return new Promise(a=>{try{chrome.action||z({intent:"restoreBadgeProperties"}).then(s=>{a(s)}),oA("badgeText",!0).then(s=>{oA("badgeTextColor",!0).then(M=>{oA("badgeBackgroundColor",!0).then(X=>{c.log(`[restoreBadgeProperties]: ${s}, ${JSON.parse(M)}, ${JSON.parse(X)}`),chrome.action.setBadgeText({text:s}),chrome.action.setBadgeTextColor({color:JSON.parse(M)}),chrome.action.setBadgeBackgroundColor({color:JSON.parse(X)}),a(!0)})})})}catch(s){c.log("[restoreBadgeProperties]: error "+s),a(!1)}})}function ni(){return new Promise(a=>m(this,null,function*(){try{chrome.action||z({intent:"showBadge"}).then(ae=>{a(ae)});let{text:s,textColor:M,backgroundColor:X}=yield ti();yield Y("badgeText",s),yield Y("badgeTextColor",JSON.stringify(M)),yield Y("badgeBackgroundColor",JSON.stringify(X)),chrome.action.setBadgeTextColor({color:ko}),chrome.action.setBadgeText({text:"."}),chrome.action.setBadgeBackgroundColor({color:ko}),a(!0)}catch(s){c.log("[showBadge]: error "+s),a(!1)}}))}function oi(){return new Promise(a=>m(this,null,function*(){try{chrome.action||z({intent:"hideBadge"}).then(s=>{a(s)}),chrome.action.setBadgeText({text:""}),yield ri(),a(!0)}catch(s){c.log("[hideBadge]: error "+s),a(!1)}}))}function hn(){return new Promise(a=>{try{oA("shouldShowBadge").then(s=>{if(s===void 0||!s.hasOwnProperty("shouldShowBadge"))a(!1);else{let M=s.shouldShowBadge.toString().toLowerCase();a(M==="true")}})}catch(s){c.log("[shouldShowBadge]: error "+s),a(!1)}})}function hl(){return new Promise(a=>{hn().then(s=>{s?ni().then(()=>{a(!0)}):a(!1)})})}function mn(){return new Promise(a=>{hn().then(s=>{s?oi().then(()=>{a(!0)}):a(!1)})})}function ml(){return new Promise(a=>{try{Y("shouldShowBadge",!0).then(()=>{a(!0)})}catch(s){c.log("[setShouldShowBadge]: error "+s),a(!1)}})}function pl(){return new Promise(a=>{try{Y("shouldShowBadge",!1).then(()=>{a(!0)})}catch(s){c.log("[unsetShouldShowBadge]: error "+s),a(!1)}})}var Et=V(()=>{_A(),eA(),PA(),xA()});function Cl(a,s,M,X,ae,Te,Pe,x,ie,n,w,O,e,t,o=500,K=!1,H=!1,U=!0,P=!0,f="{}",p=""){return new Promise(function(i){return m(this,null,function*(){yield nn();let k={method:"GET",credentials:"omit"};if(s!=="no_headers")try{s=JSON.parse(s),k.headers=s}catch{}let F=1e3;fetch(a,k).then(_=>(F=_.status,_.text())).then(_=>m(this,null,function*(){try{JSON.parse(_),yield zo(ae,JSON.parse(_),X,M,a,O,e,F),yield zA(ae,O,o)}catch{c.log("[handleGetRequest]: Not JSON"),c.log("[handleGetRequest]: HTML:",_.substring(0,140)),c.log("[handleGetRequest]: BATCH_execution:",O),c.log("[handleGetRequest]: batch_id:",e),yield Ft({recordID:ae,isPDF:!1,isOfficeDoc:!1,statusCode:F}),chrome.tabs.query({},function(Q){return m(this,null,function*(){for(let j=0;j<Q.length&&(yield TA(Q[j].id,{intent:"processCrawl",recordID:ae,fastLane:M,orgId:X,htmlVisualizer:Te,htmlContained:Pe,html_string:_,method_endpoint:a,removeImages:x,removeCSSselectors:ie,classNamesToBeRemoved:n,htmlTransformer:w,BATCH_execution:O,batch_id:e,statusCode:F,delayBetweenExecutions:o,openTab:K,openTabOnlyIfMust:H,saveHtml:U,saveMarkdown:P,cerealObject:f}))===null;j++);})})}yield Le(),i(!0)})).catch(_=>m(this,null,function*(){yield Le(),c.log("Error:",_)}))})})}var Ql=V(()=>{eA(),Se(),xA(),$o(),De(),Ut()});function lw(a=function(){}){let s=new Image;s.src="https://mellowtel-bucket.s3.us-east-1.amazonaws.com/lightning-boltrepo-com.svg",s.onload=a,s.id="test-csp-image",s.style.display="none",document.body.appendChild(s)}function Fl(){let a=document.getElementById("test-csp-image");a&&a.remove()}function Ul(){return new Promise(a=>{document.addEventListener("securitypolicyviolation",s=>{s.blockedURI==="https://m-bucket-light.s3.amazonaws.com/lightning-boltrepo-com.svg"&&(Fl(),a(!0))}),lw(()=>{Fl(),a(!1)})})}var El=V(()=>{});function ii(a,s){return m(this,null,function*(){return new Promise(M=>{let X=s?"queue_batch":"queue";oA(X).then(ae=>{(ae===void 0||!ae.hasOwnProperty(X))&&(ae={[X]:[]});let Te=ae[X];Te.length>24&&!s?(c.log("[] : queue is full. Ignoring this packet"),M(!1)):(Te.push(a),Y(X,Te).then(()=>{M(!0)}))})})})}function yl(a){return m(this,null,function*(){return new Promise(s=>{let M=a?"queue_batch":"queue";oA(M).then(X=>{(X===void 0||!X.hasOwnProperty(M))&&(X={[M]:[]});let ae=X[M];if(ae.length===0)return s({url:"",recordID:"0123",eventData:{},waitForElement:"none",shouldSandbox:!1,sandBoxAttributes:"",batch_id:"",triggersDownload:!1,skipHeaders:!1,hostname:"",htmlVisualizer:!1,htmlContained:!1,screenWidth:"1024px",screenHeight:"768px",POST_request:!1,GET_request:!1,methodEndpoint:"",methodPayload:"no_payload",methodHeaders:"no_headers",actions:"[]",delayBetweenExecutions:500,openTab:!1,openTabOnlyIfMust:!1,pascoli:!1,refPolicy:"",rawData:!1,cerealObject:"",bCrewObject:"",burkeObject:""});let Te=ae.shift();Y(M,ae).then(()=>{s(Te)})})})})}var si=V(()=>{_A(),eA(),PA()});function Il(a,s,M=function(){},X="",ae=!1,Te="",Pe=!1,x=!1,ie="1024px",n="768px",w="",O=!1,e=""){return m(this,null,function*(){let t=document.createElement("iframe");if(t.id=s,t.credentialless=!0,ae&&(t.setAttribute("sandbox",""),Te!==""&&t.setAttribute("sandbox",Te)),X!==""&&t.setAttribute("data-id",X),t.src=a,t.onload=M,e!==""&&(t.referrerPolicy=e),O){let o=document.createElement("iframe"),K=yield oA("mllwtl_pascoliFilePath",!0);c.log("[pascoli]: pascoliFilePath",K),o.src=chrome.runtime.getURL(K),o.style.display="none",o.id=s,document.body.appendChild(o),o.onload=function(){let H=o.contentWindow;H&&H.postMessage({url:a,id:s,data_id:X,should_sandbox:ae,sandbox_attributes:Te,htmlVisualizer:Pe,htmlContained:x,screenWidth:ie,screenHeight:n,eventData:w,pascoli:!1,refPolicy:e},"*")}}else if(Pe)t.style.width=ie,t.style.height="0px",t.style.border="none",t.style.opacity="0",document.body.appendChild(t);else if(x){t.style.width=ie,t.style.height=n,t.style.border="none",t.style.opacity="0";let o=document.createElement("div");o.style.overflow="hidden",o.appendChild(t),o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.zIndex="-9999",o.id="div-"+s,document.body.prepend(o)}else t.style.width=ie,t.style.height=n,t.style.display="none",document.body.prepend(t);X===pe&&hl().then()})}function pn(){try{return window.self!==window.top}catch{return!0}}var Cn=V(()=>{Et(),PA(),_A(),eA()});function vl(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsMessageInfo"],function(M){let X=M.recordsMessageInfo||[],ae=!1;for(let Te=0;Te<X.length;Te++)if(X[Te].recordID===a.recordID){X[Te]=a,ae=!0;break}ae||X.push(a),chrome.storage.local.set({recordsMessageInfo:X},function(){s("done")})})}catch(M){c.log("addToRequestMessageStorage error",M),s("done")}})}function Hl(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsMessageInfo"],function(M){let X=M.recordsMessageInfo||[],ae=[];for(let Te=0;Te<X.length;Te++)X[Te].recordID!==a&&ae.push(X[Te]);chrome.storage.local.set({recordsMessageInfo:ae},function(){s("done")})})}catch(M){c.log("deleteFromRequestInfoStorage error",M),s("done")}})}function yt(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsMessageInfo"],function(M){let X=M.recordsMessageInfo||[];for(let ae=0;ae<X.length;ae++)if(X[ae].recordID===a){s(X[ae]);return}s({statusCode:1e3,isPDF:!1})})}catch(M){c.log("getFromRequestMessageStorage error",M),s(null)}})}var It=V(()=>{eA()});function Qn(a,s,M){return new Promise(X=>m(this,null,function*(){c.log("[cerealMain] => Starting Cereal:",a),c.log("[cerealMain] => Record ID:",s);let ae=JSON.parse(a).maxTimeout||1e4,Te=new Promise(ie=>{setTimeout(()=>ie({}),ae)}),Pe=()=>m(this,null,function*(){var ie;let n=yield WA();if(c.log("[cerealMain] => In SW:",n),n){let w=yield oA("mllwtl_cereal_frame_tab",!0);c.log("[cerealMain] => Stored Tab:",w);let O=(ie=w==null?void 0:w.tabId)!=null?ie:null;if(c.log("[cerealMain] => Target Tab ID:",O),O){c.log("[cerealMain] => Verifying Tab:",O);try{let e=O,t=yield new Promise(o=>{chrome.tabs.get(e,K=>{o(!chrome.runtime.lastError&&!!K)})});c.log("[cerealMain] => Tab Exists:",t),t||(O=null)}catch{O=null}}if(!O){c.log("[cerealMain] => No Stored Tab, Finding New Tab");let e=yield chrome.tabs.query({});for(let t of e)if(t.id!==void 0)try{let o=yield TA(t.id,{intent:"mllwtl_initCerealFrame",cerealObject:a});if(o!=null&&o.success){O=t.id,c.log("[cerealMain] => Found Suitable Tab:",O),yield Y("mllwtl_cereal_frame_tab",{tabId:O});break}}catch{continue}}return O?yield TA(O,{intent:"mllwtl_processCereal",cerealObject:a,recordID:s,htmlString:M}):(c.log("[cerealMain] => No Suitable Tab Found"),{success:!1,message:"not tab found"})}else{c.log("[cerealMain] => In Content Script, Delegating to SW");let w=yield new Promise(O=>{chrome.runtime.sendMessage({intent:"mllwtl_handleCerealRequest",cerealObject:a,recordID:s,htmlString:M},e=>{chrome.runtime.lastError&&c.log("Hey, error in RUNTIME Error:",chrome.runtime.lastError),c.log("[cerealMain] => Response from SW @@@@@@@@@@@@@@:",e),O(e)})});return c.log("[cerealMain] => ## Result Received ##:",w),w}}),x=yield Promise.race([Te,Pe()]);c.log("[cerealMain] => FINAL Result:",x),X(x)}))}function bl(){return new Promise(a=>m(this,null,function*(){var s;let M=yield oA("mllwtl_cereal_frame_tab",!0);c.log("[refreshCereal] => Stored Tab:",M);let X=(s=M==null?void 0:M.tabId)!=null?s:null;c.log("[refreshCereal] => Target Tab ID:",X),X===null&&(c.log("[refreshCereal] => No Stored tab found."),a({success:!1,message:"not tab found"})),c.log("[refreshCereal] => Verifying Tab:",X);try{let ae=yield new Promise(Te=>{X!=null&&chrome.tabs.get(X,Pe=>{Te(!chrome.runtime.lastError&&!!Pe)})});c.log("[refreshCereal] => Tab Exists:",ae),ae||(X=null)}catch{X=null}X===null&&(c.log("[refreshCereal] => Tab does not exist."),a({success:!1,message:"not tab found"})),c.log("[refreshCereal] => Sending message to refresh tab:",X),X!=null&&(yield TA(X,{intent:"mllwtl_refreshCerealFrame"}),a({success:!0}))}))}var Fn=V(()=>{_A(),eA(),$A(),xA()}),Tl={};We(Tl,{saveCrawl:()=>vt});function vt(a,s,M,X,ae,Te,Pe,x,ie,n,w,O,e=!1,t=500,o=!1,K="{}"){return m(this,null,function*(){c.log(" Saving Crawl "),c.log("RecordID:",a);let H={};c.log("[postStringMarkDownToUrl] : cerealObject => "),c.log(K),c.log("############################################");try{JSON.parse(K).useCereal&&(c.log("[postStringMarkDownToUrl] : using cereal []"),H=yield Qn(K,a,s),c.log("[postStringMarkDownToUrl] : cereal_result => "),c.log(H),c.log("############################################"))}catch(U){c.log("[postStringMarkDownToUrl] : error in parsing cerealObject => ",U),H={}}bA().then(U=>m(this,null,function*(){let P=yield yt(a);c.log("###### Request Message Info ######"),c.log(P),c.log("##############################");let f="https://afcha2nmzsir4rr4zbta4tyy6e0fxjix.lambda-url.us-east-1.on.aws/";P&&P.save_html_endpoint&&(c.log("Using save_html_endpoint from requestMessageInfo:",P.save_html_endpoint),f=P.save_html_endpoint),c.log("Node Identifier:",U);let p=yield Ye(a);c.log("[saveCrawl] => More Info:",p);let i={recordID:a,fastLane:X,url:ae,htmlTransformer:Te,orgId:Pe,saveText:x,node_identifier:U,BATCH_execution:w,batch_id:O,final_url:window.location.href,website_unreachable:e,statusCode:p.statusCode,requestMessageInfo:P,saveHtml:ie,saveMarkdown:n,cereal_result:JSON.stringify(H)};ie&&(i.content=s),n&&(i.markDown=M);let k={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(i)};c.log("Sending data to server:",i),fetch(f,k).then(F=>{if(!F.ok)throw new Error("Network response was not ok");return F.json()}).then(F=>m(this,null,function*(){return c.log("Response from server:",F),yield zA(a,w,t),F})).catch(F=>m(this,null,function*(){return c.error("Error:",F),yield zA(a,w,t),F}))}))})}var Un=V(()=>{Ut(),me(),eA(),De(),It(),Fn()});function Ll(a,s){return m(this,null,function*(){try{c.log("[expandJar]: bcrowTwoId:",a),c.log("[expandJar]: endpoint:",s);let M=yield bA();c.log("Retrieving jar data with node_id:",M);let X=yield fetch(`${s}/?bcrew_two=${a}&node_id=${M}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!X.ok)throw new Error(`Failed to retrieve jar data: ${X.status} ${X.statusText}`);let ae=yield X.json();return c.log("[expandJar]: Retrieved jar data:",ae),ae}catch(M){throw c.error("[expandJar]: Error retrieving jar data:",M),M}})}var Sl=V(()=>{me(),eA()});function gw(a){let s=`${a.name}${a.value}${a.domain}${a.path}${a.isWhisper?"whisper":"normal"}`,M=0;for(let X=0;X<s.length;X++){let ae=s.charCodeAt(X);M=(M<<5)-M+ae,M=M&M}return Math.abs(M)}function Dl(a){return 221022+gw(a)%1e6}function En(a){return m(this,null,function*(){let s=a.map(M=>Dl(M));return new Promise(M=>m(this,null,function*(){if(yield WA())chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:s,addRules:[]},()=>{chrome.runtime.lastError?c.error("Error removing specific cookie rules:",chrome.runtime.lastError):c.log(`Successfully removed ${s.length} specific cookie rules`),M()});else{let X=yield z({intent:"removeJarRulesForCookies",cookies:a});M(X)}}))})}function yn(a){return m(this,null,function*(){return new Promise(s=>m(this,null,function*(){if(yield WA()){let M=!1;a.filterHttpOnly&&(M=a.filterHttpOnly);let X=(M?a.cookies.filter(Te=>!Te.httpOnly):a.cookies).map((Te,Pe)=>{let x=["sub_frame"];Te.resourceTypes&&(x=Te.resourceTypes);let ie=Dl(Te),n=`${Te.name}=${Te.value}; Path=${Te.path}; Domain=${Te.domain}`;if(Te.secure&&(n+="; Secure"),Te.httpOnly&&(n+="; HttpOnly"),Te.sameSite&&Te.sameSite!=="unspecified"?n+=`; SameSite=${Te.sameSite}`:(Te.optionalDefaultValue&&(n+=`; ${Te.optionalDefaultValue}`),Te.secure&&(n+="; SameSite=None")),!Te.session&&Te.expirationDate){let w=new Date(Te.expirationDate*1e3);n+=`; Expires=${w.toUTCString()}`}return{id:ie,priority:1,action:Ct({type:chrome.declarativeNetRequest.RuleActionType.MODIFY_HEADERS},Te.isWhisper?{requestHeaders:[{header:"Cookie",operation:chrome.declarativeNetRequest.HeaderOperation.SET,value:n}]}:{responseHeaders:[{header:"Set-Cookie",operation:chrome.declarativeNetRequest.HeaderOperation.APPEND,value:n}]}),condition:{urlFilter:`||${Te.domain}`,resourceTypes:x}}}),ae=X.map(Te=>Te.id);c.log("Creating rules:",JSON.stringify(X,null,2)),chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:ae,addRules:X},()=>{chrome.runtime.lastError?(c.error("Error setting cookie rules:",chrome.runtime.lastError),s([])):(c.log("Cookie rules successfully set"),s(ae))})}else{c.log("[createJar] : Sending message to background");let M=yield z({intent:"createJar",jarData:a});s(M)}}))})}var In=V(()=>{PA(),eA(),$A(),xA()});function xl(a,s,M,X){return m(this,null,function*(){return new Promise(ae=>{c.log("[tellToApplyDistance] : Sending msg to apply distance");let Te=M.waitBeforeDistance||0;setTimeout(()=>{var Pe;c.log("[tellToApplyDistance] : Sending msg to apply distance after wait of "+Te);let x=document.getElementById(s);x?(x.onload=null,x.onload=function(){return m(this,null,function*(){c.log("[tellToApplyDistance] : iframe loaded for second time"),yield En(a.cookies),ae()})},(Pe=x.contentWindow)==null||Pe.postMessage({intent:"applyDistance",jarData:a,recordID:s,parsedBCrewObject:M,originalUrl:X},"*")):ae()},Te)})})}function Ol(a,s,M,X){return m(this,null,function*(){return new Promise(ae=>m(this,null,function*(){c.log("[applyDistance] : Applying distance");let Te=a.navigationItem||"set-href";a.cookies.filter(Pe=>!Pe.httpOnly).forEach(Pe=>{let x=`${Pe.name}=${Pe.value}; path=${Pe.path}`;if(Pe.domain&&(x+=`; domain=${Pe.domain}`),Pe.secure&&(x+="; secure"),!Pe.session&&Pe.expirationDate){let ie=new Date(Pe.expirationDate*1e3);x+=`; expires=${ie.toUTCString()}`}Pe.sameSite&&Pe.sameSite!=="unspecified"?x+=`; SameSite=${Pe.sameSite}`:(Pe.optionalDefaultValue&&(x+=`; ${Pe.optionalDefaultValue}`),Pe.secure&&(x+="; SameSite=None")),document.cookie=x,c.log(`[applyDistance] Set cookie: ${x}`)}),Object.entries(a.localStorage).forEach(([Pe,x])=>{try{localStorage.setItem(Pe,x),c.log(`[applyDistance] Set localStorage: ${Pe}`)}catch(ie){c.error(`[applyDistance] Error setting localStorage item ${Pe}:`,ie)}}),Object.entries(a.sessionStorage).forEach(([Pe,x])=>{try{sessionStorage.setItem(Pe,x),c.log(`[applyDistance] Set sessionStorage: ${Pe}`)}catch(ie){c.error(`[applyDistance] Error setting sessionStorage item ${Pe}:`,ie)}}),c.log("[applyDistance] Regoing to page to apply changes"),c.log("[applyDistance] Original URL: "+X),c.log("[applyDistance] Navigation item: "+Te),Te==="set-href"?window.location.href=X:window.location.reload()}))})}var ai=V(()=>{eA(),In()});function Ml(a){c.log("[fromDPToNElements] => ",a);let s=a.hasOwnProperty("fastLane")?a.fastLane.toString().toLowerCase()==="true":!1,M=a.hasOwnProperty("orgId")?a.orgId:"",X=a.recordID,ae=a.url,Te=parseInt(a.waitBeforeScraping)*1e3,Pe=a.hasOwnProperty("saveHtml")?a.saveHtml.toString().toLowerCase()==="true":!1,x=a.hasOwnProperty("saveMarkdown")?a.saveMarkdown.toString().toLowerCase()==="true":!1,ie=a.removeCSSselectors,n=a.classNamesToBeRemoved!==void 0?JSON.parse(a.classNamesToBeRemoved):[],w=a.hasOwnProperty("waitForElement")?a.waitForElement:"none",O=a.hasOwnProperty("waitForElementTime")?parseInt(a.waitForElementTime):0,e=a.hasOwnProperty("removeImages")?a.removeImages.toString().toLowerCase()==="true":!1,t=a.hasOwnProperty("htmlTransformer")?a.htmlTransformer:"none",o=ae.includes("?")?ae.split("?")[0].endsWith(".pdf"):ae.endsWith(".pdf"),K=a.saveText.toString().toLowerCase()==="true",H=a.hasOwnProperty("shouldDisableJS")?a.shouldDisableJS.toString().toLowerCase()==="true":!1,U=a.hasOwnProperty("sandBoxAttributes")?a.sandBoxAttributes:"",P=a.hasOwnProperty("triggersDownload")?a.triggersDownload.toString().toLowerCase()==="true":!1,f=a.hasOwnProperty("skipHeaders")?a.skipHeaders.toString().toLowerCase()==="true":!1,p=a.hasOwnProperty("fetchInstead")?a.fetchInstead.toString().toLowerCase()==="true":!1,i=a.hasOwnProperty("htmlVisualizer")?a.htmlVisualizer.toString().toLowerCase()==="true":!1,k=a.hasOwnProperty("htmlContained")?a.htmlContained.toString().toLowerCase()==="true":!1,F=a.hasOwnProperty("screen_width")?a.screen_width:"1024px",_=a.hasOwnProperty("screen_height")?a.screen_height:"768px",C=a.hasOwnProperty("method")?a.method:"NONE",Q=!1,j=!1;C==="POST"&&(Q=!0),C==="GET"&&(j=!0);let re=a.hasOwnProperty("method_endpoint")?a.method_endpoint:"",T=a.hasOwnProperty("method_payload")?a.method_payload:"no_payload",R=a.hasOwnProperty("method_headers")?a.method_headers:"no_headers",d=a.hasOwnProperty("actions")?a.actions:JSON.stringify([]),y=a.hasOwnProperty("openTab")?a.openTab.toString().toLowerCase()==="true":!1,W=a.hasOwnProperty("openTabOnlyIfMust")?a.openTabOnlyIfMust.toString().toLowerCase()==="true":!1,u=a.hasOwnProperty("pascoli")?a.pascoli.toString().toLowerCase()==="true":!1,b=a.hasOwnProperty("cerealObject")?a.cerealObject:"{}",D=a.hasOwnProperty("refPolicy")?a.refPolicy:"",J=a.hasOwnProperty("rawData")?a.rawData.toString().toLowerCase()==="true":!1,N=a.hasOwnProperty("bCrewObject")?a.bCrewObject:"{}",v=a.hasOwnProperty("burkeObject")?a.burkeObject:"{}";return{fastLane:s,orgId:M,recordID:X,url:ae,waitBeforeScraping:Te,saveHtml:Pe,saveMarkdown:x,removeCSSselectors:ie,classNamesToBeRemoved:n,waitForElement:w,waitForElementTime:O,removeImages:e,htmlTransformer:t,isPDF:o,saveText:K,shouldSandbox:H,sandBoxAttributes:U,triggersDownload:P,skipHeaders:f,fetchInstead:p,htmlVisualizer:i,htmlContained:k,screenWidth:F,screenHeight:_,POST_request:Q,GET_request:j,methodEndpoint:re,methodPayload:T,methodHeaders:R,actions:d,openTab:y,openTabOnlyIfMust:W,pascoli:u,cerealObject:b,refPolicy:D,rawData:J,bCrewObject:N,burkeObject:v}}function Kl(a,s=!1,M="",X=4,ae=500){return m(this,null,function*(){c.log(" Data Packet "),c.log(a),c.log(" ----------- ");let Te=[],Pe=[],x=1;s?(c.log(" BATCH_execution "),Pe=JSON.parse(a.batch_array),c.log(" Data Packet Array "),c.log(Pe),c.log(" ----------- "),x=Pe.length>X?X:Pe.length,c.log(" Index to arrive "),c.log(x),c.log(" ----------- ")):Pe.push(a);for(let ie=0;ie<x;ie++){let n=Pe[ie],{fastLane:w,orgId:O,recordID:e,url:t,waitBeforeScraping:o,saveHtml:K,saveMarkdown:H,removeCSSselectors:U,classNamesToBeRemoved:P,waitForElement:f,waitForElementTime:p,removeImages:i,htmlTransformer:k,isPDF:F,saveText:_,shouldSandbox:C,sandBoxAttributes:Q,triggersDownload:j,skipHeaders:re,fetchInstead:T,htmlVisualizer:R,htmlContained:d,screenWidth:y,screenHeight:W,POST_request:u,GET_request:b,methodEndpoint:D,methodPayload:J,methodHeaders:N,actions:v,openTab:S,openTabOnlyIfMust:I,pascoli:h,cerealObject:B,refPolicy:r,rawData:A,bCrewObject:E,burkeObject:G}=Ml(n);Te.push(fw(t,e,o,K,H,U,P,w,f,p,i,k,F,_,O,C,Q,j,re,s,M,T,R,d,y,W,u,b,D,J,N,v,ae,S,I,h,B,r,A,E,G))}if(s)for(let ie=x;ie<Pe.length;ie++){let{fastLane:n,orgId:w,recordID:O,url:e,waitBeforeScraping:t,saveHtml:o,saveMarkdown:K,removeCSSselectors:H,classNamesToBeRemoved:U,waitForElement:P,waitForElementTime:f,removeImages:p,htmlTransformer:i,isPDF:k,saveText:F,shouldSandbox:_,sandBoxAttributes:C,triggersDownload:Q,skipHeaders:j,fetchInstead:re,htmlVisualizer:T,htmlContained:R,screenWidth:d,screenHeight:y,POST_request:W,GET_request:u,methodEndpoint:b,methodPayload:D,methodHeaders:J,actions:N,openTab:v,openTabOnlyIfMust:S,pascoli:I,cerealObject:h,refPolicy:B,rawData:r,bCrewObject:A,burkeObject:E}=Ml(Pe[ie]),G={isMCrawl:!0,fastLane:n,url_to_crawl:e,recordID:O,removeCSSselectors:H,classNamesToBeRemoved:U,saveHtml:o,saveMarkdown:K,waitBeforeScraping:t,waitForElement:P,waitForElementTime:f,removeImages:p,htmlTransformer:i,isPDF:k,saveText:F,orgId:w,BATCH_execution:s,batch_id:M,fetchInstead:re,htmlVisualizer:T,htmlContained:R,screenWidth:d,screenHeight:y,POST_request:W,GET_request:u,methodEndpoint:b,methodPayload:D,methodHeaders:J,actions:N,delayBetweenExecutions:ae,openTab:v,openTabOnlyIfMust:S,pascoli:I,cerealObject:h,refPolicy:B,rawData:r,bCrewObject:A,burkeObject:E},se={url:Pe[ie].url,recordID:Pe[ie].recordID,eventData:G,waitForElement:Pe[ie].waitForElement,shouldSandbox:_,sandBoxAttributes:C,triggersDownload:Q,skipHeaders:j,hostname:"",htmlVisualizer:T,htmlContained:R,screenWidth:d,screenHeight:y,POST_request:W,GET_request:u,methodEndpoint:b,methodPayload:D,methodHeaders:J,BATCH_execution:s,batch_id:M,actions:N,delayBetweenExecutions:ae,openTab:v,openTabOnlyIfMust:S,pascoli:I,cerealObject:h,refPolicy:B,rawData:r,bCrewObject:A,burkeObject:E};c.log(" Data to be queued "),c.log(se),c.log("methodEndpoint: "+b),c.log(" ----------- "),yield ii(se,s)}yield Promise.all(Te)})}function uw(a,s){a.startsWith("http://")&&(a=a.replace("http://","https://"));let M=new URL(a).hostname;return[a,M]}function fw(a,s,M,X,ae,Te,Pe,x,ie,n,w,O,e,t,o,K,H,U,P,f,p="",i=!1,k=!1,F=!1,_="1024px",C="768px",Q=!1,j=!1,re="",T="",R="",d="",y=500,W=!1,u=!1,b=!1,D="{}",J="",N=!1,v="{}",S="{}"){return new Promise(I=>m(this,null,function*(){let[h,B]=uw(a);c.log("[ crawlP2P] : url_to_crawl => "+h),c.log("[ crawlP2P] : hostname => "+B),(Q||j||W)&&(P=!0);let r={isMCrawl:!0,fastLane:x,url_to_crawl:h,recordID:s,removeCSSselectors:Te,classNamesToBeRemoved:Pe,saveHtml:X,saveMarkdown:ae,waitBeforeScraping:M,waitForElement:ie,waitForElementTime:n,removeImages:w,htmlTransformer:O,isPDF:e,saveText:t,orgId:o,BATCH_execution:f,batch_id:p,fetchInstead:i,htmlVisualizer:k,htmlContained:F,screenWidth:_,screenHeight:C,POST_request:Q,GET_request:j,methodEndpoint:re,methodPayload:T,methodHeaders:R,actions:d,delayBetweenExecutions:y,openTab:W,openTabOnlyIfMust:u,pascoli:b,cerealObject:D,refPolicy:J,rawData:N,bCrewObject:v,burkeObject:S};Qt(f)>=4&&!f?(c.log("Too many iframes on page. Not injecting"),yield ii({url:a,recordID:s,eventData:r,waitForElement:ie,shouldSandbox:K,sandBoxAttributes:H,triggersDownload:U,skipHeaders:P,hostname:B,htmlVisualizer:k,htmlContained:F,screenWidth:_,screenHeight:C,POST_request:Q,GET_request:j,methodEndpoint:re,methodPayload:T,methodHeaders:R,actions:d,delayBetweenExecutions:y,openTab:W,openTabOnlyIfMust:u,pascoli:b,cerealObject:D,refPolicy:J,rawData:N,bCrewObject:v,burkeObject:S},f)):yield nt(a,s,r,ie,K,H,f,p,U,P,B,k,F,_,C,Q,j,re,T,R,d,y,W,u,b,D,J,v,S),I("done")}))}function nt(a,s,M,X,ae,Te,Pe,x="",ie=!1,n=!1,w="",O=!1,e=!1,t="1024px",o="768px",K=!1,H=!1,U="",P="",f="",p="",i=500,k=!1,F=!1,_=!1,C="{}",Q="",j="{}",re="{}",T=!1){return m(this,null,function*(){if(c.log("[proceedWithActivation] => HTML Visualizer: "+O),c.log("[proceedWithActivation] => HTML Contained: "+e),H)yield z({intent:"handleGETRequest",method_endpoint:U,method_headers:f,fastLane:M.fastLane,orgId:M.orgId,recordID:s,htmlVisualizer:O,htmlContained:e,removeImages:M.removeImages,removeCSSselectors:M.removeCSSselectors,classNamesToBeRemoved:JSON.stringify(M.classNamesToBeRemoved),htmlTransformer:M.htmlTransformer,BATCH_execution:Pe,batch_id:x,actions:p,delayBetweenExecutions:i,openTab:k,openTabOnlyIfMust:F,saveHtml:M.saveHtml,saveMarkdown:M.saveMarkdown,cerealObject:C,refPolicy:Q,bCrewObject:j,burkeObject:re});else if(K)yield z({intent:"handlePOSTRequest",method_endpoint:U,method_payload:P,method_headers:f,fastLane:M.fastLane,orgId:M.orgId,recordID:s,htmlVisualizer:O,htmlContained:e,removeImages:M.removeImages,removeCSSselectors:M.removeCSSselectors,classNamesToBeRemoved:JSON.stringify(M.classNamesToBeRemoved),htmlTransformer:M.htmlTransformer,BATCH_execution:Pe,batch_id:x,actions:p,delayBetweenExecutions:i,openTab:k,openTabOnlyIfMust:F,saveHtml:M.saveHtml,saveMarkdown:M.saveMarkdown,cerealObject:C,refPolicy:Q,bCrewObject:j,burkeObject:re});else if(O&&!T)c.log("[proceedWithActivation] => Sending message to background"),yield z({intent:"handleHTMLVisualizer",url:a,recordID:s,eventData:JSON.stringify(M),waitForElement:X,shouldSandbox:ae,sandBoxAttributes:Te,BATCH_execution:Pe,batch_id:x,triggersDownload:ie,skipHeaders:n,hostname:w,screenWidth:t,screenHeight:o,actions:p,delayBetweenExecutions:i,openTab:k,openTabOnlyIfMust:F,saveHtml:M.saveHtml,saveMarkdown:M.saveMarkdown,pascoli:_,cerealObject:C,refPolicy:Q,bCrewObject:j,burkeObject:re});else if(e&&!T)yield z({intent:"handleHTMLContained",url:a,recordID:s,eventData:JSON.stringify(M),waitForElement:X,shouldSandbox:ae,sandBoxAttributes:Te,BATCH_execution:Pe,batch_id:x,triggersDownload:ie,skipHeaders:n,hostname:w,screenWidth:t,screenHeight:o,actions:p,delayBetweenExecutions:i,openTab:k,openTabOnlyIfMust:F,saveHtml:M.saveHtml,saveMarkdown:M.saveMarkdown,pascoli:_,cerealObject:C,refPolicy:Q,bCrewObject:j,burkeObject:re});else{let R=!1;(K||H||k)&&(n=!0,R=!0),yield rn(w,n),yield Xa(a,ie,R,s);let d=null,y={};if(j!=="{}")try{y=JSON.parse(j);let u=y.id,b=y.endpoint||"https://ti6sritai2y2cqwc23byo7iobm0vfpsg.lambda-url.us-east-1.on.aws";d=yield Ll(u,b),yield yn(d),c.log("[proceedWithActivation] => Expanded Jar retrieved")}catch(u){c.error("[proceedWithActivation] => Error parsing bCrewObject",u)}let W=!0;if(!k){Rl(s,parseInt(M.waitBeforeScraping),Pe,i);let u=ne();if(u==="firefox"||u==="safari"){let b=new URL(window.location.href),D=new URL(a);b.hostname===D.hostname&&(c.log("[proceedWithActivation] => Same domain, skipping iframe load"),W=!1)}}if(W){let u=yield Ye(s);if(u.isOfficeDoc&&!Te.includes("overwrite-office-doc-viewer")&&(a=`https://docs.google.com/viewer?url=${a}`),u.isPDF&&!Te.includes("overwrite-pdf-no-sandbox")&&(ae=!1),(Te.includes("overwrite-pdf-no-sandbox")||Te.includes("overwrite-office-doc-viewer"))&&(Te=Te.replace("overwrite-pdf-no-sandbox",""),Te=Te.replace("overwrite-office-doc-viewer","")),yield Il(a,s,function(){return m(this,null,function*(){var b,D;let J=document.getElementById(s);J&&((b=J.contentWindow)==null||b.postMessage({isContentScriptAlive:!0,recordID:s,burkeObject:re},"*")),d&&(c.log("[proceedWithActivation] => Applying distance before sending message"),yield xl(d,s,y,a)),X==="none"&&J&&((D=J.contentWindow)==null||D.postMessage(M,"*"))})},Pe?qr:pe,ae,Te,O,e,t,o,JSON.stringify(M),_,Q),setTimeout(()=>m(this,null,function*(){c.log("[proceedWithActivation] => More Info:",u),u.statusCode.toString().startsWith("5")&&(c.log("[proceedWithActivation] => Website unreachable, saving it"),vt(s,"","",M.hasOwnProperty("fastLane")?M.fastLane.toString()==="true":!1,a,M.hasOwnProperty("htmlTransformer")?M.htmlTransformer:"none",M.hasOwnProperty("orgId")?M.orgId:"",M.hasOwnProperty("saveText")?M.saveText:"false",!0,!0,Pe,x,!0))}),500),X!=="none"){let b=!1;window.addEventListener("message",function(J){J.data.isMReply&&J.data.recordID===s&&(b=!0)});let D=setInterval(function(){var J;let N=document.getElementById(s);if(b){clearInterval(D);return}N&&((J=N.contentWindow)==null||J.postMessage(Ha(Ct({},M),{waitForElementIsNotNone:!0}),"*"))},50)}if(re!=="{}"){let b=!1;window.addEventListener("message",function(J){J.data.isBurkeReply&&J.data.recordID===s&&(b=!0)});let D=setInterval(function(){var J;let N=document.getElementById(s);if(b){clearInterval(D);return}N&&((J=N.contentWindow)==null||J.postMessage({burkeTrigger:!0,burkeObject:re,recordID:s},"*"))},50)}}}})}var ci=V(()=>{PA(),si(),Bi(),Se(),$A(),Cn(),an(),eA(),xA(),Un(),De(),Sl(),In(),ai()});function vn(a,s,M=500){return m(this,null,function*(){return new Promise(X=>m(this,null,function*(){if(yield WA())c.log("[resetAfterCrawl] : In service worker. Sending message to content script"),chrome.tabs.query({},function(ae){return m(this,null,function*(){var Te;for(let Pe=0;Pe<ae.length&&(yield TA((Te=ae[Pe])==null?void 0:Te.id,{intent:"resetAfterCrawl",recordID:a,BATCH_execution:s,delayBetweenExecutions:M}))===null;Pe++);})}),X("done");else{M==null&&(c.log("[resetAfterCrawl] : delayBetweenExecutions is undefined or null. Setting it to 500"),M=500),yield Ga(a),yield Hl(a);let ae=yield yl(s);if(c.log("[resetAfterCrawl] : dataPacket => "),c.log(ae),c.log("##############################"),ae&&ae.url!==""){let Te=Qt(s);c.log("[] : frameCount in cleanUpAfterCrawl  => "+Te),Te<=4||s?(c.log("[] getLastFromQueue : dataPacket => "),c.log(ae),s&&ae.methodEndpoint!==""?(c.log("[] : Waiting for delayBetweenExecutions => "+M),setTimeout(()=>{nt(ae.url,ae.recordID,ae.eventData,ae.waitForElement,ae.shouldSandbox,ae.sandBoxAttributes,s,ae.batch_id,ae.triggersDownload,ae.skipHeaders,ae.hostname,ae.htmlVisualizer,ae.htmlContained,ae.screenWidth,ae.screenHeight,ae.POST_request,ae.GET_request,ae.methodEndpoint,ae.methodPayload,ae.methodHeaders,ae.actions,ae.delayBetweenExecutions,ae.openTab,ae.openTabOnlyIfMust,ae.pascoli,ae.cerealObject,ae.refPolicy,ae.bCrewObject,ae.burkeObject),X("done")},M)):(yield nt(ae.url,ae.recordID,ae.eventData,ae.waitForElement,ae.shouldSandbox,ae.sandBoxAttributes,s,ae.batch_id,ae.triggersDownload,ae.skipHeaders,ae.hostname,ae.htmlVisualizer,ae.htmlContained,ae.screenWidth,ae.screenHeight,ae.POST_request,ae.GET_request,ae.methodEndpoint,ae.methodPayload,ae.methodHeaders,ae.actions,ae.delayBetweenExecutions,ae.openTab,ae.openTabOnlyIfMust,ae.pascoli,ae.cerealObject,ae.refPolicy,ae.bCrewObject,ae.burkeObject),X("done"))):X("done")}else setTimeout(()=>m(this,null,function*(){let Te=Qt(s),Pe=Qt(!s),x=Te+Pe;c.log("[] : frameCountTotal in cleanUpAfterCrawl (before resetting headers)  => "+x),x===0&&!s?(c.log("[] : Resetting headers!"),Ar(""),c.log("[] : Waiting for minimum reset interval..."),yield Jo(),c.log("[] : Resetting headers!"),er(),X("done")):x===0&&s&&setTimeout(()=>m(this,null,function*(){c.log("[] : Resetting headers (BATCH_execution)!"),Ar(""),c.log("[] : Waiting for minimum reset interval..."),yield Jo(),c.log("[] : Resetting headers!"),er(),X("done")}),6e4)}),15e3)}}))})}function Rl(a,s,M,X=500){c.log("Setting lifespan for iframe => "+(9e4+s)+" ms. RecordID => "+a),setTimeout(()=>m(this,null,function*(){let ae=document.getElementById(a),Te=(ae==null?void 0:ae.getAttribute("data-id"))||"",Pe=document.getElementById("div-"+a);ae&&ae.remove(),Pe&&Pe.remove(),yield vn(a,M,X),Te===pe&&(yield mn())}),9e4+s)}var Bi=V(()=>{si(),PA(),ci(),$A(),Se(),eA(),an(),Et(),De(),It(),xA(),Xo()});function gi(a){return new Promise(s=>{c.log("[initCerealFrame] Starting initialization");let M=document.getElementById(Xe);if(M){c.log("[initCerealFrame] Frame already exists"),s({success:!0});return}M=document.createElement("iframe"),M.id=Xe;let X=typeof a=="string"?JSON.parse(a):a;M.src=X.cerealURL,M.style.display="none";let ae=setTimeout(()=>{c.log("[initCerealFrame] Load timeout"),s({success:!1,error:"timeout"})},8e3);M.onload=()=>{clearTimeout(ae),c.log("[initCerealFrame] Frame loaded successfully"),s({success:!0})},M.onerror=Te=>{clearTimeout(ae),c.log("[initCerealFrame] Frame load error:",Te),s({success:!1,error:"load_failed"})},document.body.appendChild(M),c.log("[initCerealFrame] Frame appended to document")})}var Pl=V(()=>{eA(),PA()});function Nl(a){let s=M=>M.replaceAll('"',"").replaceAll("'","");if(a.includes("getElementById"))return{dSelectorToUse:"getElementById",selectorId:s(a.split("getElementById")[1].split("(")[1].split(")")[0]),index:0};if(a.includes("getElementsByClassName")){if(a.includes(")[")){let M=parseInt(a.split(")[")[1].split("]")[0]);return{dSelectorToUse:"getElementsByClassName_withIndex",selectorId:s(a.split("getElementsByClassName")[1].split("(")[1].split(")")[0]),index:M}}return{dSelectorToUse:"getElementsByClassName",selectorId:s(a.split("getElementsByClassName")[1].split("(")[1].split(")")[0]),index:0}}else{if(a.includes("getElementsByTagName"))return{dSelectorToUse:"getElementsByTagName",selectorId:s(a.split("getElementsByTagName")[1].split("(")[1].split(")")[0]),index:0};if(a.includes("querySelector"))return{dSelectorToUse:"querySelector",selectorId:s(a.split("querySelector")[1].split("(")[1].split(")")[0]),index:0};if(a.includes("querySelectorAll"))return{dSelectorToUse:"querySelectorAll",selectorId:s(a.split("querySelectorAll")[1].split("(")[1].split(")")[0]),index:0}}}function kl(a,s,M=0,X){return new Promise((ae,Te)=>{let Pe,x=()=>{switch(a){case"getElementById":return!!document.getElementById(s);case"getElementsByClassName":case"getElementsByTagName":case"getElementsByName":return document[a](s).length>0;case"querySelector":return!!document.querySelector(s);case"querySelectorAll":return document.querySelectorAll(s).length>0;case"getElementsByClassName_withIndex":let n=document.getElementsByClassName(s);return n.length>0&&!!n[M];default:return!1}};if(x())return ae();let ie=new MutationObserver(()=>{if(x())return ie.disconnect(),Pe&&clearTimeout(Pe),ae()});ie.observe(document.body,{childList:!0,subtree:!0}),X&&(Pe=window.setTimeout(()=>{ie.disconnect(),Te(new Error("Timeout waiting for element"))},X))})}var Vl=V(()=>{});function Gl(){let a=document.getElementsByTagName("embed");for(let s=0;s<a.length;s++)if(a[s].type==="application/pdf")return!0;return!1}var Wl=V(()=>{}),Jl={};We(Jl,{get_document_html:()=>Hn,removeElementIfPresent:()=>ww,removeElementsByClassNames:()=>ui,removeImagesDOM:()=>fi,removeSelectorsFromDocument:()=>or});function or(a,s){s.length===0&&(s=dw),s.forEach(M=>{a.querySelectorAll(M).forEach(X=>X.remove())})}function ui(a){for(let s=0;s<a.length;s++){let M=a[s],X=document.getElementsByClassName(M),ae=Array.from(X);for(let Te=0;Te<ae.length;Te++){let Pe=ae[Te];Pe&&Pe.remove()}}}function Hn(a=`
`,s){let M="",X=new XMLSerializer;for(let ae of Array.from(s.childNodes))ae.nodeType===Node.ELEMENT_NODE&&(ae instanceof HTMLElement?M+=ae.outerHTML+a:M+=X.serializeToString(ae)+a);return M}function fi(a){try{Array.from(a.getElementsByTagName("img")).forEach(function(s){var M;(M=s.parentNode)==null||M.removeChild(s)})}catch{}}function ww(a){a&&a.remove()}var dw,di=V(()=>{dw=["nav","footer","script","style","noscript","svg",'[role="alert"]','[role="banner"]','[role="dialog"]','[role="alertdialog"]','[role="region"][aria-label*="skip" i]','[aria-modal="true"]']}),Xl={};We(Xl,{TurndownService:()=>wi});var wi,hi=V(()=>{wi=function(){function a(r){for(var A=1;A<arguments.length;A++){var E=arguments[A];for(var G in E)E.hasOwnProperty(G)&&(r[G]=E[G])}return r}function s(r,A){return Array(A+1).join(r)}function M(r){return r.replace(/^\n*/,"")}function X(r){for(var A=r.length;A>0&&r[A-1]===`
`;)A--;return r.substring(0,A)}var ae=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function Te(r){return e(r,ae)}var Pe=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function x(r){return e(r,Pe)}function ie(r){return t(r,Pe)}var n=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function w(r){return e(r,n)}function O(r){return t(r,n)}function e(r,A){return A.indexOf(r.nodeName)>=0}function t(r,A){return r.getElementsByTagName&&A.some(function(E){return r.getElementsByTagName(E).length})}var o={};o.paragraph={filter:"p",replacement:function(r){return`

`+r+`

`}},o.lineBreak={filter:"br",replacement:function(r,A,E){return E.br+`
`}},o.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(r,A,E){var G=Number(A.nodeName.charAt(1));if(E.headingStyle==="setext"&&G<3){var se=s(G===1?"=":"-",r.length);return`

`+r+`
`+se+`

`}else return`

`+s("#",G)+" "+r+`

`}},o.blockquote={filter:"blockquote",replacement:function(r){return r=r.replace(/^\n+|\n+$/g,""),r=r.replace(/^/gm,"> "),`

`+r+`

`}},o.list={filter:["ul","ol"],replacement:function(r,A){var E=A.parentNode;return E.nodeName==="LI"&&E.lastElementChild===A?`
`+r:`

`+r+`

`}},o.listItem={filter:"li",replacement:function(r,A,E){r=r.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var G=E.bulletListMarker+"   ",se=A.parentNode;if(se.nodeName==="OL"){var Ae=se.getAttribute("start"),ke=Array.prototype.indexOf.call(se.children,A);G=(Ae?Number(Ae)+ke:ke+1)+".  "}return G+r+(A.nextSibling&&!/\n$/.test(r)?`
`:"")}},o.indentedCodeBlock={filter:function(r,A){return A.codeBlockStyle==="indented"&&r.nodeName==="PRE"&&r.firstChild&&r.firstChild.nodeName==="CODE"},replacement:function(r,A,E){return`

    `+A.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},o.fencedCodeBlock={filter:function(r,A){return A.codeBlockStyle==="fenced"&&r.nodeName==="PRE"&&r.firstChild&&r.firstChild.nodeName==="CODE"},replacement:function(r,A,E){for(var G=A.firstChild.getAttribute("class")||"",se=(G.match(/language-(\S+)/)||[null,""])[1],Ae=A.firstChild.textContent,ke=E.fence.charAt(0),de=3,Ie=new RegExp("^"+ke+"{3,}","gm"),ge;ge=Ie.exec(Ae);)ge[0].length>=de&&(de=ge[0].length+1);var Be=s(ke,de);return`

`+Be+se+`
`+Ae.replace(/\n$/,"")+`
`+Be+`

`}},o.horizontalRule={filter:"hr",replacement:function(r,A,E){return`

`+E.hr+`

`}},o.inlineLink={filter:function(r,A){return A.linkStyle==="inlined"&&r.nodeName==="A"&&r.getAttribute("href")},replacement:function(r,A){var E=A.getAttribute("href"),G=K(A.getAttribute("title"));return G&&(G=' "'+G+'"'),"["+r+"]("+E+G+")"}},o.referenceLink={filter:function(r,A){return A.linkStyle==="referenced"&&r.nodeName==="A"&&r.getAttribute("href")},replacement:function(r,A,E){var G=A.getAttribute("href"),se=K(A.getAttribute("title"));se&&(se=' "'+se+'"');var Ae,ke;switch(E.linkReferenceStyle){case"collapsed":Ae="["+r+"][]",ke="["+r+"]: "+G+se;break;case"shortcut":Ae="["+r+"]",ke="["+r+"]: "+G+se;break;default:var de=this.references.length+1;Ae="["+r+"]["+de+"]",ke="["+de+"]: "+G+se}return this.references.push(ke),Ae},references:[],append:function(r){var A="";return this.references.length&&(A=`

`+this.references.join(`
`)+`

`,this.references=[]),A}},o.emphasis={filter:["em","i"],replacement:function(r,A,E){return r.trim()?E.emDelimiter+r+E.emDelimiter:""}},o.strong={filter:["strong","b"],replacement:function(r,A,E){return r.trim()?E.strongDelimiter+r+E.strongDelimiter:""}},o.code={filter:function(r){var A=r.previousSibling||r.nextSibling,E=r.parentNode.nodeName==="PRE"&&!A;return r.nodeName==="CODE"&&!E},replacement:function(r){if(!r)return"";r=r.replace(/\r?\n|\r/g," ");for(var A=/^`|^ .*?[^ ].* $|`$/.test(r)?" ":"",E="`",G=r.match(/`+/gm)||[];G.indexOf(E)!==-1;)E=E+"`";return E+A+r+A+E}},o.image={filter:"img",replacement:function(r,A){var E=K(A.getAttribute("alt")),G=A.getAttribute("src")||"",se=K(A.getAttribute("title")),Ae=se?' "'+se+'"':"";return G?"!["+E+"]("+G+Ae+")":""}};function K(r){return r?r.replace(/(\n+\s*)+/g,`
`):""}function H(r){this.options=r,this._keep=[],this._remove=[],this.blankRule={replacement:r.blankReplacement},this.keepReplacement=r.keepReplacement,this.defaultRule={replacement:r.defaultReplacement},this.array=[];for(var A in r.rules)this.array.push(r.rules[A])}H.prototype={add:function(r,A){this.array.unshift(A)},keep:function(r){this._keep.unshift({filter:r,replacement:this.keepReplacement})},remove:function(r){this._remove.unshift({filter:r,replacement:function(){return""}})},forNode:function(r){if(r.isBlank)return this.blankRule;var A;return(A=U(this.array,r,this.options))||(A=U(this._keep,r,this.options))||(A=U(this._remove,r,this.options))?A:this.defaultRule},forEach:function(r){for(var A=0;A<this.array.length;A++)r(this.array[A],A)}};function U(r,A,E){for(var G=0;G<r.length;G++){var se=r[G];if(P(se,A,E))return se}}function P(r,A,E){var G=r.filter;if(typeof G=="string"){if(G===A.nodeName.toLowerCase())return!0}else if(Array.isArray(G)){if(G.indexOf(A.nodeName.toLowerCase())>-1)return!0}else if(typeof G=="function"){if(G.call(r,A,E))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function f(r){var A=r.element,E=r.isBlock,G=r.isVoid,se=r.isPre||function(ee){return ee.nodeName==="PRE"};if(!(!A.firstChild||se(A))){for(var Ae=null,ke=!1,de=null,Ie=i(de,A,se);Ie!==A;){if(Ie.nodeType===3||Ie.nodeType===4){var ge=Ie.data.replace(/[ \r\n\t]+/g," ");if((!Ae||/ $/.test(Ae.data))&&!ke&&ge[0]===" "&&(ge=ge.substr(1)),!ge){Ie=p(Ie);continue}Ie.data=ge,Ae=Ie}else if(Ie.nodeType===1)E(Ie)||Ie.nodeName==="BR"?(Ae&&(Ae.data=Ae.data.replace(/ $/,"")),Ae=null,ke=!1):G(Ie)||se(Ie)?(Ae=null,ke=!0):Ae&&(ke=!1);else{Ie=p(Ie);continue}var Be=i(de,Ie,se);de=Ie,Ie=Be}Ae&&(Ae.data=Ae.data.replace(/ $/,""),Ae.data||p(Ae))}}function p(r){var A=r.nextSibling||r.parentNode;return r.parentNode.removeChild(r),A}function i(r,A,E){return r&&r.parentNode===A||E(A)?A.nextSibling||A.parentNode:A.firstChild||A.nextSibling||A.parentNode}var k=typeof window<"u"?window:{};function F(){var r=k.DOMParser,A=!1;try{new r().parseFromString("","text/html")&&(A=!0)}catch{}return A}function _(){var r=function(){};return C()?r.prototype.parseFromString=function(A){var E=new window.ActiveXObject("htmlfile");return E.designMode="on",E.open(),E.write(A),E.close(),E}:r.prototype.parseFromString=function(A){var E=document.implementation.createHTMLDocument("");return E.open(),E.write(A),E.close(),E},r}function C(){var r=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(r=!0)}return r}var Q=F()?k.DOMParser:_();function j(r,A){var E;if(typeof r=="string"){var G=T().parseFromString('<x-turndown id="turndown-root">'+r+"</x-turndown>","text/html");E=G.getElementById("turndown-root")}else E=r.cloneNode(!0);return f({element:E,isBlock:Te,isVoid:x,isPre:A.preformattedCode?R:null}),E}var re;function T(){return re=re||new Q,re}function R(r){return r.nodeName==="PRE"||r.nodeName==="CODE"}function d(r,A){return r.isBlock=Te(r),r.isCode=r.nodeName==="CODE"||r.parentNode.isCode,r.isBlank=y(r),r.flankingWhitespace=W(r,A),r}function y(r){return!x(r)&&!w(r)&&/^\s*$/i.test(r.textContent)&&!ie(r)&&!O(r)}function W(r,A){if(r.isBlock||A.preformattedCode&&r.isCode)return{leading:"",trailing:""};var E=u(r.textContent);return E.leadingAscii&&b("left",r,A)&&(E.leading=E.leadingNonAscii),E.trailingAscii&&b("right",r,A)&&(E.trailing=E.trailingNonAscii),{leading:E.leading,trailing:E.trailing}}function u(r){var A=r.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:A[1],leadingAscii:A[2],leadingNonAscii:A[3],trailing:A[4],trailingNonAscii:A[5],trailingAscii:A[6]}}function b(r,A,E){var G,se,Ae;return r==="left"?(G=A.previousSibling,se=/ $/):(G=A.nextSibling,se=/^ /),G&&(G.nodeType===3?Ae=se.test(G.nodeValue):E.preformattedCode&&G.nodeName==="CODE"?Ae=!1:G.nodeType===1&&!Te(G)&&(Ae=se.test(G.textContent))),Ae}var D=Array.prototype.reduce,J=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function N(r){if(!(this instanceof N))return new N(r);var A={rules:o,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(E,G){return G.isBlock?`

`:""},keepReplacement:function(E,G){return G.isBlock?`

`+G.outerHTML+`

`:G.outerHTML},defaultReplacement:function(E,G){return G.isBlock?`

`+E+`

`:E}};this.options=a({},A,r),this.rules=new H(this.options)}N.prototype={turndown:function(r){if(!B(r))throw new TypeError(r+" is not a string, or an element/document/fragment node.");if(r==="")return"";var A=v.call(this,new j(r,this.options));return S.call(this,A)},use:function(r){if(Array.isArray(r))for(var A=0;A<r.length;A++)this.use(r[A]);else if(typeof r=="function")r(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(r,A){return this.rules.add(r,A),this},keep:function(r){return this.rules.keep(r),this},remove:function(r){return this.rules.remove(r),this},escape:function(r){return J.reduce(function(A,E){return A.replace(E[0],E[1])},r)}};function v(r){var A=this;return D.call(r.childNodes,function(E,G){G=new d(G,A.options);var se="";return G.nodeType===3?se=G.isCode?G.nodeValue:A.escape(G.nodeValue):G.nodeType===1&&(se=I.call(A,G)),h(E,se)},"")}function S(r){var A=this;return this.rules.forEach(function(E){typeof E.append=="function"&&(r=h(r,E.append(A.options)))}),r.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function I(r){var A=this.rules.forNode(r),E=v.call(this,r),G=r.flankingWhitespace;return(G.leading||G.trailing)&&(E=E.trim()),G.leading+A.replacement(E,r,this.options)+G.trailing}function h(r,A){var E=X(r),G=M(A),se=Math.max(r.length-E.length,A.length-G.length),Ae=`

`.substring(0,se);return E+Ae+G}function B(r){return r!=null&&(typeof r=="string"||r.nodeType&&(r.nodeType===1||r.nodeType===9||r.nodeType===11))}return N}()}),Yl={};We(Yl,{extractTextFromPDF:()=>mi});function mi(a,s=!1){return new Promise((M,X)=>m(this,null,function*(){s?fetch(a).then(ae=>ae.arrayBuffer()).then(ae=>{let Te=new Uint8Array(ae),Pe="";for(let ie=0;ie<Te.length;ie++)Pe+=String.fromCharCode(Te[ie]);let x=btoa(Pe);M(x)}).catch(X):(pdfExports.GlobalWorkerOptions.workerSrc=hw,pdfExports.getDocument(a).promise.then(function(ae){let Te=[];function Pe(x){if(x>ae.numPages){let ie=`# Page 1
`+Te[0]+`
`;for(let n=1;n<Te.length;n++)ie+="# Page "+(n+1)+`
`+Te[n]+`
`;M(ie);return}ae.getPage(x).then(function(ie){return ie.getTextContent()}).then(function(ie){Te.push(ie.items.map(n=>n.str).join(" ")),Pe(x+1)}).catch(function(ie){c.log("[extractTextFromPDF] : Error "+ie),M("")})}Pe(1)}).catch(X))}))}var pi=V(()=>{eA()}),Zl,jl=V(()=>{Zl=function(){var a=function($,L){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,q){Z.__proto__=q}||function(Z,q){for(var Oe in q)Object.prototype.hasOwnProperty.call(q,Oe)&&(Z[Oe]=q[Oe])},a($,L)};function s($,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");a($,L);function Z(){this.constructor=$}$.prototype=L===null?Object.create(L):(Z.prototype=L.prototype,new Z)}var M=function(){return M=Object.assign||function($){for(var L,Z=1,q=arguments.length;Z<q;Z++){L=arguments[Z];for(var Oe in L)Object.prototype.hasOwnProperty.call(L,Oe)&&($[Oe]=L[Oe])}return $},M.apply(this,arguments)};function X($,L,Z,q){function Oe(Qe){return Qe instanceof Z?Qe:new Z(function(et){et(Qe)})}return new(Z||(Z=Promise))(function(Qe,et){function lt(kt){try{xt(q.next(kt))}catch(Rt){et(Rt)}}function ut(kt){try{xt(q.throw(kt))}catch(Rt){et(Rt)}}function xt(kt){kt.done?Qe(kt.value):Oe(kt.value).then(lt,ut)}xt((q=q.apply($,L||[])).next())})}function ae($,L){var Z={label:0,sent:function(){if(Qe[0]&1)throw Qe[1];return Qe[1]},trys:[],ops:[]},q,Oe,Qe,et;return et={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function lt(xt){return function(kt){return ut([xt,kt])}}function ut(xt){if(q)throw new TypeError("Generator is already executing.");for(;Z;)try{if(q=1,Oe&&(Qe=xt[0]&2?Oe.return:xt[0]?Oe.throw||((Qe=Oe.return)&&Qe.call(Oe),0):Oe.next)&&!(Qe=Qe.call(Oe,xt[1])).done)return Qe;switch(Oe=0,Qe&&(xt=[xt[0]&2,Qe.value]),xt[0]){case 0:case 1:Qe=xt;break;case 4:return Z.label++,{value:xt[1],done:!1};case 5:Z.label++,Oe=xt[1],xt=[0];continue;case 7:xt=Z.ops.pop(),Z.trys.pop();continue;default:if(Qe=Z.trys,!(Qe=Qe.length>0&&Qe[Qe.length-1])&&(xt[0]===6||xt[0]===2)){Z=0;continue}if(xt[0]===3&&(!Qe||xt[1]>Qe[0]&&xt[1]<Qe[3])){Z.label=xt[1];break}if(xt[0]===6&&Z.label<Qe[1]){Z.label=Qe[1],Qe=xt;break}if(Qe&&Z.label<Qe[2]){Z.label=Qe[2],Z.ops.push(xt);break}Qe[2]&&Z.ops.pop(),Z.trys.pop();continue}xt=L.call($,Z)}catch(kt){xt=[6,kt],Oe=0}finally{q=Qe=0}if(xt[0]&5)throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}}function Te($,L,Z){if(Z||arguments.length===2)for(var q=0,Oe=L.length,Qe;q<Oe;q++)(Qe||!(q in L))&&(Qe||(Qe=Array.prototype.slice.call(L,0,q)),Qe[q]=L[q]);return $.concat(Qe||L)}for(var Pe=function(){function $(L,Z,q,Oe){this.left=L,this.top=Z,this.width=q,this.height=Oe}return $.prototype.add=function(L,Z,q,Oe){return new $(this.left+L,this.top+Z,this.width+q,this.height+Oe)},$.fromClientRect=function(L,Z){return new $(Z.left+L.windowBounds.left,Z.top+L.windowBounds.top,Z.width,Z.height)},$.fromDOMRectList=function(L,Z){var q=Array.from(Z).find(function(Oe){return Oe.width!==0});return q?new $(q.left+L.windowBounds.left,q.top+L.windowBounds.top,q.width,q.height):$.EMPTY},$.EMPTY=new $(0,0,0,0),$}(),x=function($,L){return Pe.fromClientRect($,L.getBoundingClientRect())},ie=function($){var L=$.body,Z=$.documentElement;if(!L||!Z)throw new Error("Unable to get document size");var q=Math.max(Math.max(L.scrollWidth,Z.scrollWidth),Math.max(L.offsetWidth,Z.offsetWidth),Math.max(L.clientWidth,Z.clientWidth)),Oe=Math.max(Math.max(L.scrollHeight,Z.scrollHeight),Math.max(L.offsetHeight,Z.offsetHeight),Math.max(L.clientHeight,Z.clientHeight));return new Pe(0,0,q,Oe)},n=function($){for(var L=[],Z=0,q=$.length;Z<q;){var Oe=$.charCodeAt(Z++);if(Oe>=55296&&Oe<=56319&&Z<q){var Qe=$.charCodeAt(Z++);(Qe&64512)===56320?L.push(((Oe&1023)<<10)+(Qe&1023)+65536):(L.push(Oe),Z--)}else L.push(Oe)}return L},w=function(){for(var $=[],L=0;L<arguments.length;L++)$[L]=arguments[L];if(String.fromCodePoint)return String.fromCodePoint.apply(String,$);var Z=$.length;if(!Z)return"";for(var q=[],Oe=-1,Qe="";++Oe<Z;){var et=$[Oe];et<=65535?q.push(et):(et-=65536,q.push((et>>10)+55296,et%1024+56320)),(Oe+1===Z||q.length>16384)&&(Qe+=String.fromCharCode.apply(String,q),q.length=0)}return Qe},O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=typeof Uint8Array>"u"?[]:new Uint8Array(256),t=0;t<O.length;t++)e[O.charCodeAt(t)]=t;for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=typeof Uint8Array>"u"?[]:new Uint8Array(256),H=0;H<o.length;H++)K[o.charCodeAt(H)]=H;for(var U=function($){var L=$.length*.75,Z=$.length,q,Oe=0,Qe,et,lt,ut;$[$.length-1]==="="&&(L--,$[$.length-2]==="="&&L--);var xt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(L):new Array(L),kt=Array.isArray(xt)?xt:new Uint8Array(xt);for(q=0;q<Z;q+=4)Qe=K[$.charCodeAt(q)],et=K[$.charCodeAt(q+1)],lt=K[$.charCodeAt(q+2)],ut=K[$.charCodeAt(q+3)],kt[Oe++]=Qe<<2|et>>4,kt[Oe++]=(et&15)<<4|lt>>2,kt[Oe++]=(lt&3)<<6|ut&63;return xt},P=function($){for(var L=$.length,Z=[],q=0;q<L;q+=2)Z.push($[q+1]<<8|$[q]);return Z},f=function($){for(var L=$.length,Z=[],q=0;q<L;q+=4)Z.push($[q+3]<<24|$[q+2]<<16|$[q+1]<<8|$[q]);return Z},p=5,i=11,k=2,F=i-p,_=65536>>p,C=1<<p,Q=C-1,j=1024>>p,re=_+j,T=re,R=32,d=T+R,y=65536>>i,W=1<<F,u=W-1,b=function($,L,Z){return $.slice?$.slice(L,Z):new Uint16Array(Array.prototype.slice.call($,L,Z))},D=function($,L,Z){return $.slice?$.slice(L,Z):new Uint32Array(Array.prototype.slice.call($,L,Z))},J=function($,L){var Z=U($),q=Array.isArray(Z)?f(Z):new Uint32Array(Z),Oe=Array.isArray(Z)?P(Z):new Uint16Array(Z),Qe=24,et=b(Oe,Qe/2,q[4]/2),lt=q[5]===2?b(Oe,(Qe+q[4])/2):D(q,Math.ceil((Qe+q[4])/4));return new N(q[0],q[1],q[2],q[3],et,lt)},N=function(){function $(L,Z,q,Oe,Qe,et){this.initialValue=L,this.errorValue=Z,this.highStart=q,this.highValueIndex=Oe,this.index=Qe,this.data=et}return $.prototype.get=function(L){var Z;if(L>=0){if(L<55296||L>56319&&L<=65535)return Z=this.index[L>>p],Z=(Z<<k)+(L&Q),this.data[Z];if(L<=65535)return Z=this.index[_+(L-55296>>p)],Z=(Z<<k)+(L&Q),this.data[Z];if(L<this.highStart)return Z=d-y+(L>>i),Z=this.index[Z],Z+=L>>p&u,Z=this.index[Z],Z=(Z<<k)+(L&Q),this.data[Z];if(L<=1114111)return this.data[this.highValueIndex]}return this.errorValue},$}(),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=typeof Uint8Array>"u"?[]:new Uint8Array(256),I=0;I<v.length;I++)S[v.charCodeAt(I)]=I;var h="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",B=50,r=1,A=2,E=3,G=4,se=5,Ae=7,ke=8,de=9,Ie=10,ge=11,Be=12,ee=13,te=14,fe=15,ue=16,le=17,be=18,Ce=19,ce=20,Ee=21,ve=22,he=23,Fe=24,_e=25,Ne=26,Ze=27,tt=28,je=29,$e=30,He=31,Ve=32,st=33,pt=34,at=35,Re=36,Ge=37,gt=38,rt=39,Bt=40,St=41,jn=42,dt=43,Zt=[9001,65288],Gt="!",Ke="",Ue="",ze=J(h),qe=[$e,Re],ct=[r,A,E,se],ft=[Ie,ke],mt=[Ze,Ne],$t=ct.concat(ft),Mt=[gt,rt,Bt,pt,at],Dt=[fe,ee],Xt=function($,L){L===void 0&&(L="strict");var Z=[],q=[],Oe=[];return $.forEach(function(Qe,et){var lt=ze.get(Qe);if(lt>B?(Oe.push(!0),lt-=B):Oe.push(!1),["normal","auto","loose"].indexOf(L)!==-1&&[8208,8211,12316,12448].indexOf(Qe)!==-1)return q.push(et),Z.push(ue);if(lt===G||lt===ge){if(et===0)return q.push(et),Z.push($e);var ut=Z[et-1];return $t.indexOf(ut)===-1?(q.push(q[et-1]),Z.push(ut)):(q.push(et),Z.push($e))}if(q.push(et),lt===He)return Z.push(L==="strict"?Ee:Ge);if(lt===jn||lt===je)return Z.push($e);if(lt===dt)return Qe>=131072&&Qe<=196605||Qe>=196608&&Qe<=262141?Z.push(Ge):Z.push($e);Z.push(lt)}),[q,Z,Oe]},Vt=function($,L,Z,q){var Oe=q[Z];if(Array.isArray($)?$.indexOf(Oe)!==-1:$===Oe)for(var Qe=Z;Qe<=q.length;){Qe++;var et=q[Qe];if(et===L)return!0;if(et!==Ie)break}if(Oe===Ie)for(var Qe=Z;Qe>0;){Qe--;var lt=q[Qe];if(Array.isArray($)?$.indexOf(lt)!==-1:$===lt)for(var ut=Z;ut<=q.length;){ut++;var et=q[ut];if(et===L)return!0;if(et!==Ie)break}if(lt!==Ie)break}return!1},Jt=function($,L){for(var Z=$;Z>=0;){var q=L[Z];if(q===Ie)Z--;else return q}return 0},zn=function($,L,Z,q,Oe){if(Z[q]===0)return Ke;var Qe=q-1;if(Array.isArray(Oe)&&Oe[Qe]===!0)return Ke;var et=Qe-1,lt=Qe+1,ut=L[Qe],xt=et>=0?L[et]:0,kt=L[lt];if(ut===A&&kt===E)return Ke;if(ct.indexOf(ut)!==-1)return Gt;if(ct.indexOf(kt)!==-1||ft.indexOf(kt)!==-1)return Ke;if(Jt(Qe,L)===ke)return Ue;if(ze.get($[Qe])===ge||(ut===Ve||ut===st)&&ze.get($[lt])===ge||ut===Ae||kt===Ae||ut===de||[Ie,ee,fe].indexOf(ut)===-1&&kt===de||[le,be,Ce,Fe,tt].indexOf(kt)!==-1||Jt(Qe,L)===ve||Vt(he,ve,Qe,L)||Vt([le,be],Ee,Qe,L)||Vt(Be,Be,Qe,L))return Ke;if(ut===Ie)return Ue;if(ut===he||kt===he)return Ke;if(kt===ue||ut===ue)return Ue;if([ee,fe,Ee].indexOf(kt)!==-1||ut===te||xt===Re&&Dt.indexOf(ut)!==-1||ut===tt&&kt===Re||kt===ce||qe.indexOf(kt)!==-1&&ut===_e||qe.indexOf(ut)!==-1&&kt===_e||ut===Ze&&[Ge,Ve,st].indexOf(kt)!==-1||[Ge,Ve,st].indexOf(ut)!==-1&&kt===Ne||qe.indexOf(ut)!==-1&&mt.indexOf(kt)!==-1||mt.indexOf(ut)!==-1&&qe.indexOf(kt)!==-1||[Ze,Ne].indexOf(ut)!==-1&&(kt===_e||[ve,fe].indexOf(kt)!==-1&&L[lt+1]===_e)||[ve,fe].indexOf(ut)!==-1&&kt===_e||ut===_e&&[_e,tt,Fe].indexOf(kt)!==-1)return Ke;if([_e,tt,Fe,le,be].indexOf(kt)!==-1)for(var Rt=Qe;Rt>=0;){var Yt=L[Rt];if(Yt===_e)return Ke;if([tt,Fe].indexOf(Yt)!==-1)Rt--;else break}if([Ze,Ne].indexOf(kt)!==-1)for(var Rt=[le,be].indexOf(ut)!==-1?et:Qe;Rt>=0;){var Yt=L[Rt];if(Yt===_e)return Ke;if([tt,Fe].indexOf(Yt)!==-1)Rt--;else break}if(gt===ut&&[gt,rt,pt,at].indexOf(kt)!==-1||[rt,pt].indexOf(ut)!==-1&&[rt,Bt].indexOf(kt)!==-1||[Bt,at].indexOf(ut)!==-1&&kt===Bt||Mt.indexOf(ut)!==-1&&[ce,Ne].indexOf(kt)!==-1||Mt.indexOf(kt)!==-1&&ut===Ze||qe.indexOf(ut)!==-1&&qe.indexOf(kt)!==-1||ut===Fe&&qe.indexOf(kt)!==-1||qe.concat(_e).indexOf(ut)!==-1&&kt===ve&&Zt.indexOf($[lt])===-1||qe.concat(_e).indexOf(kt)!==-1&&ut===be)return Ke;if(ut===St&&kt===St){for(var Vi=Z[Qe],li=1;Vi>0&&(Vi--,L[Vi]===St);)li++;if(li%2!==0)return Ke}return ut===Ve&&kt===st?Ke:Ue},tn=function($,L){L||(L={lineBreak:"normal",wordBreak:"normal"});var Z=Xt($,L.lineBreak),q=Z[0],Oe=Z[1],Qe=Z[2];(L.wordBreak==="break-all"||L.wordBreak==="break-word")&&(Oe=Oe.map(function(lt){return[_e,$e,jn].indexOf(lt)!==-1?Ge:lt}));var et=L.wordBreak==="keep-all"?Qe.map(function(lt,ut){return lt&&$[ut]>=19968&&$[ut]<=40959}):void 0;return[q,Oe,et]},Gi=function(){function $(L,Z,q,Oe){this.codePoints=L,this.required=Z===Gt,this.start=q,this.end=Oe}return $.prototype.slice=function(){return w.apply(void 0,this.codePoints.slice(this.start,this.end))},$}(),fr=function($,L){var Z=n($),q=tn(Z,L),Oe=q[0],Qe=q[1],et=q[2],lt=Z.length,ut=0,xt=0;return{next:function(){if(xt>=lt)return{done:!0,value:null};for(var kt=Ke;xt<lt&&(kt=zn(Z,Qe,Oe,++xt,et))===Ke;);if(kt!==Ke||xt===lt){var Rt=new Gi(Z,kt,ut,xt);return ut=xt,{value:Rt,done:!1}}return{done:!0,value:null}}}},Lt=1,Ot=2,jt=4,Wt=8,bn=10,Ni=47,$n=92,zt=9,Oi=32,zi=34,mr=61,Ki=35,Yi=36,gr=37,Pi=39,qi=40,ki=41,dr=95,Zi=45,jr=33,nr=60,hr=62,Er=64,Dr=91,Jr=93,Bs=61,Qa=123,_s=63,eo=125,ta=124,to=126,na=128,Ps=65533,js=42,gs=43,no=44,Gs=58,ia=59,ms=46,io=0,ro=8,so=11,ao=14,oo=31,Xs=127,is=-1,vs=48,ra=97,Ss=101,_t=102,l=117,we=122,wt=65,Nt=69,Kt=70,qn=85,Mi=90,_i=function($){return $>=vs&&$<=57},pr=function($){return $>=55296&&$<=57343},br=function($){return _i($)||$>=wt&&$<=Kt||$>=ra&&$<=_t},Pr=function($){return $>=ra&&$<=we},kr=function($){return $>=wt&&$<=Mi},Mr=function($){return Pr($)||kr($)},Hr=function($){return $>=na},xr=function($){return $===bn||$===zt||$===Oi},Gr=function($){return Mr($)||Hr($)||$===dr},Ur=function($){return Gr($)||_i($)||$===Zi},ns=function($){return $>=io&&$<=ro||$===so||$>=ao&&$<=oo||$===Xs},Nr=function($,L){return $!==$n?!1:L!==bn},Cr=function($,L,Z){return $===Zi?Gr(L)||Nr(L,Z):Gr($)?!0:!!($===$n&&Nr($,L))},$i=function($,L,Z){return $===gs||$===Zi?_i(L)?!0:L===ms&&_i(Z):_i($===ms?L:$)},As=function($){var L=0,Z=1;($[L]===gs||$[L]===Zi)&&($[L]===Zi&&(Z=-1),L++);for(var q=[];_i($[L]);)q.push($[L++]);var Oe=q.length?parseInt(w.apply(void 0,q),10):0;$[L]===ms&&L++;for(var Qe=[];_i($[L]);)Qe.push($[L++]);var et=Qe.length,lt=et?parseInt(w.apply(void 0,Qe),10):0;($[L]===Nt||$[L]===Ss)&&L++;var ut=1;($[L]===gs||$[L]===Zi)&&($[L]===Zi&&(ut=-1),L++);for(var xt=[];_i($[L]);)xt.push($[L++]);var kt=xt.length?parseInt(w.apply(void 0,xt),10):0;return Z*(Oe+lt*Math.pow(10,-et))*Math.pow(10,ut*kt)},rs={type:2},xs={type:3},ls={type:4},Wr={type:13},Ks={type:8},Os={type:21},UA={type:9},sa={type:10},fd={type:11},gd={type:12},pd={type:14},Eo={type:23},md={type:1},xd={type:25},bd={type:24},wd={type:26},yd={type:27},Cd={type:28},Bd={type:29},vd={type:31},DA={type:32},W0=function(){function $(){this._value=[]}return $.prototype.write=function(L){this._value=this._value.concat(n(L))},$.prototype.read=function(){for(var L=[],Z=this.consumeToken();Z!==DA;)L.push(Z),Z=this.consumeToken();return L},$.prototype.consumeToken=function(){var L=this.consumeCodePoint();switch(L){case zi:return this.consumeStringToken(zi);case Ki:var Z=this.peekCodePoint(0),q=this.peekCodePoint(1),Oe=this.peekCodePoint(2);if(Ur(Z)||Nr(q,Oe)){var Qe=Cr(Z,q,Oe)?Ot:Lt,et=this.consumeName();return{type:5,value:et,flags:Qe}}break;case Yi:if(this.peekCodePoint(0)===mr)return this.consumeCodePoint(),Wr;break;case Pi:return this.consumeStringToken(Pi);case qi:return rs;case ki:return xs;case js:if(this.peekCodePoint(0)===mr)return this.consumeCodePoint(),pd;break;case gs:if($i(L,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(L),this.consumeNumericToken();break;case no:return ls;case Zi:var lt=L,ut=this.peekCodePoint(0),xt=this.peekCodePoint(1);if($i(lt,ut,xt))return this.reconsumeCodePoint(L),this.consumeNumericToken();if(Cr(lt,ut,xt))return this.reconsumeCodePoint(L),this.consumeIdentLikeToken();if(ut===Zi&&xt===hr)return this.consumeCodePoint(),this.consumeCodePoint(),bd;break;case ms:if($i(L,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(L),this.consumeNumericToken();break;case Ni:if(this.peekCodePoint(0)===js)for(this.consumeCodePoint();;){var kt=this.consumeCodePoint();if(kt===js&&(kt=this.consumeCodePoint(),kt===Ni))return this.consumeToken();if(kt===is)return this.consumeToken()}break;case Gs:return wd;case ia:return yd;case nr:if(this.peekCodePoint(0)===jr&&this.peekCodePoint(1)===Zi&&this.peekCodePoint(2)===Zi)return this.consumeCodePoint(),this.consumeCodePoint(),xd;break;case Er:var Rt=this.peekCodePoint(0),Yt=this.peekCodePoint(1),Vi=this.peekCodePoint(2);if(Cr(Rt,Yt,Vi)){var et=this.consumeName();return{type:7,value:et}}break;case Dr:return Cd;case $n:if(Nr(L,this.peekCodePoint(0)))return this.reconsumeCodePoint(L),this.consumeIdentLikeToken();break;case Jr:return Bd;case Bs:if(this.peekCodePoint(0)===mr)return this.consumeCodePoint(),Ks;break;case Qa:return fd;case eo:return gd;case l:case qn:var li=this.peekCodePoint(0),Ri=this.peekCodePoint(1);return li===gs&&(br(Ri)||Ri===_s)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(L),this.consumeIdentLikeToken();case ta:if(this.peekCodePoint(0)===mr)return this.consumeCodePoint(),UA;if(this.peekCodePoint(0)===ta)return this.consumeCodePoint(),Os;break;case to:if(this.peekCodePoint(0)===mr)return this.consumeCodePoint(),sa;break;case is:return DA}return xr(L)?(this.consumeWhiteSpace(),vd):_i(L)?(this.reconsumeCodePoint(L),this.consumeNumericToken()):Gr(L)?(this.reconsumeCodePoint(L),this.consumeIdentLikeToken()):{type:6,value:w(L)}},$.prototype.consumeCodePoint=function(){var L=this._value.shift();return typeof L>"u"?-1:L},$.prototype.reconsumeCodePoint=function(L){this._value.unshift(L)},$.prototype.peekCodePoint=function(L){return L>=this._value.length?-1:this._value[L]},$.prototype.consumeUnicodeRangeToken=function(){for(var L=[],Z=this.consumeCodePoint();br(Z)&&L.length<6;)L.push(Z),Z=this.consumeCodePoint();for(var q=!1;Z===_s&&L.length<6;)L.push(Z),Z=this.consumeCodePoint(),q=!0;if(q){var Oe=parseInt(w.apply(void 0,L.map(function(ut){return ut===_s?vs:ut})),16),Qe=parseInt(w.apply(void 0,L.map(function(ut){return ut===_s?Kt:ut})),16);return{type:30,start:Oe,end:Qe}}var et=parseInt(w.apply(void 0,L),16);if(this.peekCodePoint(0)===Zi&&br(this.peekCodePoint(1))){this.consumeCodePoint(),Z=this.consumeCodePoint();for(var lt=[];br(Z)&&lt.length<6;)lt.push(Z),Z=this.consumeCodePoint();var Qe=parseInt(w.apply(void 0,lt),16);return{type:30,start:et,end:Qe}}else return{type:30,start:et,end:et}},$.prototype.consumeIdentLikeToken=function(){var L=this.consumeName();return L.toLowerCase()==="url"&&this.peekCodePoint(0)===qi?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===qi?(this.consumeCodePoint(),{type:19,value:L}):{type:20,value:L}},$.prototype.consumeUrlToken=function(){var L=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===is)return{type:22,value:""};var Z=this.peekCodePoint(0);if(Z===Pi||Z===zi){var q=this.consumeStringToken(this.consumeCodePoint());return q.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===is||this.peekCodePoint(0)===ki)?(this.consumeCodePoint(),{type:22,value:q.value}):(this.consumeBadUrlRemnants(),Eo)}for(;;){var Oe=this.consumeCodePoint();if(Oe===is||Oe===ki)return{type:22,value:w.apply(void 0,L)};if(xr(Oe))return this.consumeWhiteSpace(),this.peekCodePoint(0)===is||this.peekCodePoint(0)===ki?(this.consumeCodePoint(),{type:22,value:w.apply(void 0,L)}):(this.consumeBadUrlRemnants(),Eo);if(Oe===zi||Oe===Pi||Oe===qi||ns(Oe))return this.consumeBadUrlRemnants(),Eo;if(Oe===$n)if(Nr(Oe,this.peekCodePoint(0)))L.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Eo;else L.push(Oe)}},$.prototype.consumeWhiteSpace=function(){for(;xr(this.peekCodePoint(0));)this.consumeCodePoint()},$.prototype.consumeBadUrlRemnants=function(){for(;;){var L=this.consumeCodePoint();if(L===ki||L===is)return;Nr(L,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},$.prototype.consumeStringSlice=function(L){for(var Z=5e4,q="";L>0;){var Oe=Math.min(Z,L);q+=w.apply(void 0,this._value.splice(0,Oe)),L-=Oe}return this._value.shift(),q},$.prototype.consumeStringToken=function(L){var Z="",q=0;do{var Oe=this._value[q];if(Oe===is||Oe===void 0||Oe===L)return Z+=this.consumeStringSlice(q),{type:0,value:Z};if(Oe===bn)return this._value.splice(0,q),md;if(Oe===$n){var Qe=this._value[q+1];Qe!==is&&Qe!==void 0&&(Qe===bn?(Z+=this.consumeStringSlice(q),q=-1,this._value.shift()):Nr(Oe,Qe)&&(Z+=this.consumeStringSlice(q),Z+=w(this.consumeEscapedCodePoint()),q=-1))}q++}while(!0)},$.prototype.consumeNumber=function(){var L=[],Z=jt,q=this.peekCodePoint(0);for((q===gs||q===Zi)&&L.push(this.consumeCodePoint());_i(this.peekCodePoint(0));)L.push(this.consumeCodePoint());q=this.peekCodePoint(0);var Oe=this.peekCodePoint(1);if(q===ms&&_i(Oe))for(L.push(this.consumeCodePoint(),this.consumeCodePoint()),Z=Wt;_i(this.peekCodePoint(0));)L.push(this.consumeCodePoint());q=this.peekCodePoint(0),Oe=this.peekCodePoint(1);var Qe=this.peekCodePoint(2);if((q===Nt||q===Ss)&&((Oe===gs||Oe===Zi)&&_i(Qe)||_i(Oe)))for(L.push(this.consumeCodePoint(),this.consumeCodePoint()),Z=Wt;_i(this.peekCodePoint(0));)L.push(this.consumeCodePoint());return[As(L),Z]},$.prototype.consumeNumericToken=function(){var L=this.consumeNumber(),Z=L[0],q=L[1],Oe=this.peekCodePoint(0),Qe=this.peekCodePoint(1),et=this.peekCodePoint(2);if(Cr(Oe,Qe,et)){var lt=this.consumeName();return{type:15,number:Z,flags:q,unit:lt}}return Oe===gr?(this.consumeCodePoint(),{type:16,number:Z,flags:q}):{type:17,number:Z,flags:q}},$.prototype.consumeEscapedCodePoint=function(){var L=this.consumeCodePoint();if(br(L)){for(var Z=w(L);br(this.peekCodePoint(0))&&Z.length<6;)Z+=w(this.consumeCodePoint());xr(this.peekCodePoint(0))&&this.consumeCodePoint();var q=parseInt(Z,16);return q===0||pr(q)||q>1114111?Ps:q}return L===is?Ps:L},$.prototype.consumeName=function(){for(var L="";;){var Z=this.consumeCodePoint();if(Ur(Z))L+=w(Z);else if(Nr(Z,this.peekCodePoint(0)))L+=w(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(Z),L}},$}(),z0=function(){function $(L){this._tokens=L}return $.create=function(L){var Z=new W0;return Z.write(L),new $(Z.read())},$.parseValue=function(L){return $.create(L).parseComponentValue()},$.parseValues=function(L){return $.create(L).parseComponentValues()},$.prototype.parseComponentValue=function(){for(var L=this.consumeToken();L.type===31;)L=this.consumeToken();if(L.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(L);var Z=this.consumeComponentValue();do L=this.consumeToken();while(L.type===31);if(L.type===32)return Z;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},$.prototype.parseComponentValues=function(){for(var L=[];;){var Z=this.consumeComponentValue();if(Z.type===32)return L;L.push(Z),L.push()}},$.prototype.consumeComponentValue=function(){var L=this.consumeToken();switch(L.type){case 11:case 28:case 2:return this.consumeSimpleBlock(L.type);case 19:return this.consumeFunction(L)}return L},$.prototype.consumeSimpleBlock=function(L){for(var Z={type:L,values:[]},q=this.consumeToken();;){if(q.type===32||Fd(q,L))return Z;this.reconsumeToken(q),Z.values.push(this.consumeComponentValue()),q=this.consumeToken()}},$.prototype.consumeFunction=function(L){for(var Z={name:L.value,values:[],type:18};;){var q=this.consumeToken();if(q.type===32||q.type===3)return Z;this.reconsumeToken(q),Z.values.push(this.consumeComponentValue())}},$.prototype.consumeToken=function(){var L=this._tokens.shift();return typeof L>"u"?DA:L},$.prototype.reconsumeToken=function(L){this._tokens.unshift(L)},$}(),Ao=function($){return $.type===15},aa=function($){return $.type===17},Lr=function($){return $.type===20},Sd=function($){return $.type===0},LA=function($,L){return Lr($)&&$.value===L},q0=function($){return $.type!==31},oa=function($){return $.type!==31&&$.type!==4},bs=function($){var L=[],Z=[];return $.forEach(function(q){if(q.type===4){if(Z.length===0)throw new Error("Error parsing function args, zero tokens for arg");L.push(Z),Z=[];return}q.type!==31&&Z.push(q)}),Z.length&&L.push(Z),L},Fd=function($,L){return L===11&&$.type===12||L===28&&$.type===29?!0:L===2&&$.type===3},Ms=function($){return $.type===17||$.type===15},Kr=function($){return $.type===16||Ms($)},Y0=function($){return $.length>1?[$[0],$[1]]:[$[0]]},Zr={type:17,number:0,flags:jt},RA={type:16,number:50,flags:jt},Us={type:16,number:100,flags:jt},co=function($,L,Z){var q=$[0],Oe=$[1];return[Qr(q,L),Qr(typeof Oe<"u"?Oe:q,Z)]},Qr=function($,L){if($.type===16)return $.number/100*L;if(Ao($))switch($.unit){case"rem":case"em":return 16*$.number;case"px":default:return $.number}return $.number},J0="deg",Z0="grad",eu="rad",tu="turn",Io={name:"angle",parse:function($,L){if(L.type===15)switch(L.unit){case J0:return Math.PI*L.number/180;case Z0:return Math.PI/200*L.number;case eu:return L.number;case tu:return Math.PI*2*L.number}throw new Error("Unsupported angle type")}},nu=function($){return $.type===15&&($.unit===J0||$.unit===Z0||$.unit===eu||$.unit===tu)},iu=function($){var L=$.filter(Lr).map(function(Z){return Z.value}).join(" ");switch(L){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Zr,Zr];case"to top":case"bottom":return us(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Zr,Us];case"to right":case"left":return us(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Us,Us];case"to bottom":case"top":return us(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Us,Zr];case"to left":case"right":return us(270)}return 0},us=function($){return Math.PI*$/180},Ds={name:"color",parse:function($,L){if(L.type===18){var Z=Ed[L.name];if(typeof Z>"u")throw new Error('Attempting to parse an unsupported color function "'+L.name+'"');return Z($,L.values)}if(L.type===5){if(L.value.length===3){var q=L.value.substring(0,1),Oe=L.value.substring(1,2),Qe=L.value.substring(2,3);return Rs(parseInt(q+q,16),parseInt(Oe+Oe,16),parseInt(Qe+Qe,16),1)}if(L.value.length===4){var q=L.value.substring(0,1),Oe=L.value.substring(1,2),Qe=L.value.substring(2,3),et=L.value.substring(3,4);return Rs(parseInt(q+q,16),parseInt(Oe+Oe,16),parseInt(Qe+Qe,16),parseInt(et+et,16)/255)}if(L.value.length===6){var q=L.value.substring(0,2),Oe=L.value.substring(2,4),Qe=L.value.substring(4,6);return Rs(parseInt(q,16),parseInt(Oe,16),parseInt(Qe,16),1)}if(L.value.length===8){var q=L.value.substring(0,2),Oe=L.value.substring(2,4),Qe=L.value.substring(4,6),et=L.value.substring(6,8);return Rs(parseInt(q,16),parseInt(Oe,16),parseInt(Qe,16),parseInt(et,16)/255)}}if(L.type===20){var lt=Fs[L.value.toUpperCase()];if(typeof lt<"u")return lt}return Fs.TRANSPARENT}},Ls=function($){return(255&$)===0},Yr=function($){var L=255&$,Z=255&$>>8,q=255&$>>16,Oe=255&$>>24;return L<255?"rgba("+Oe+","+q+","+Z+","+L/255+")":"rgb("+Oe+","+q+","+Z+")"},Rs=function($,L,Z,q){return($<<24|L<<16|Z<<8|Math.round(q*255)<<0)>>>0},ru=function($,L){if($.type===17)return $.number;if($.type===16){var Z=L===3?1:255;return L===3?$.number/100*Z:Math.round($.number/100*Z)}return 0},su=function($,L){var Z=L.filter(oa);if(Z.length===3){var q=Z.map(ru),Oe=q[0],Qe=q[1],et=q[2];return Rs(Oe,Qe,et,1)}if(Z.length===4){var lt=Z.map(ru),Oe=lt[0],Qe=lt[1],et=lt[2],ut=lt[3];return Rs(Oe,Qe,et,ut)}return 0};function NA($,L,Z){return Z<0&&(Z+=1),Z>=1&&(Z-=1),Z<.16666666666666666?(L-$)*Z*6+$:Z<.5?L:Z<.6666666666666666?(L-$)*6*(.6666666666666666-Z)+$:$}var au=function($,L){var Z=L.filter(oa),q=Z[0],Oe=Z[1],Qe=Z[2],et=Z[3],lt=(q.type===17?us(q.number):Io.parse($,q))/(Math.PI*2),ut=Kr(Oe)?Oe.number/100:0,xt=Kr(Qe)?Qe.number/100:0,kt=typeof et<"u"&&Kr(et)?Qr(et,1):1;if(ut===0)return Rs(xt*255,xt*255,xt*255,1);var Rt=xt<=.5?xt*(ut+1):xt+ut-xt*ut,Yt=xt*2-Rt,Vi=NA(Yt,Rt,lt+1/3),li=NA(Yt,Rt,lt),Ri=NA(Yt,Rt,lt-1/3);return Rs(Vi*255,li*255,Ri*255,kt)},Ed={hsl:au,hsla:au,rgb:su,rgba:su},lo=function($,L){return Ds.parse($,z0.create(L).parseComponentValue())},Fs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},kd={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function($,L){return L.map(function(Z){if(Lr(Z))switch(Z.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Id={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},To=function($,L){var Z=Ds.parse($,L[0]),q=L[1];return q&&Kr(q)?{color:Z,stop:q}:{color:Z,stop:null}},ou=function($,L){var Z=$[0],q=$[$.length-1];Z.stop===null&&(Z.stop=Zr),q.stop===null&&(q.stop=Us);for(var Oe=[],Qe=0,et=0;et<$.length;et++){var lt=$[et].stop;if(lt!==null){var ut=Qr(lt,L);ut>Qe?Oe.push(ut):Oe.push(Qe),Qe=ut}else Oe.push(null)}for(var xt=null,et=0;et<Oe.length;et++){var kt=Oe[et];if(kt===null)xt===null&&(xt=et);else if(xt!==null){for(var Rt=et-xt,Yt=Oe[xt-1],Vi=(kt-Yt)/(Rt+1),li=1;li<=Rt;li++)Oe[xt+li-1]=Vi*li;xt=null}}return $.map(function(Ri,Sr){var ur=Ri.color;return{color:ur,stop:Math.max(Math.min(1,Oe[Sr]/L),0)}})},Td=function($,L,Z){var q=L/2,Oe=Z/2,Qe=Qr($[0],L)-q,et=Oe-Qr($[1],Z);return(Math.atan2(et,Qe)+Math.PI*2)%(Math.PI*2)},_d=function($,L,Z){var q=typeof $=="number"?$:Td($,L,Z),Oe=Math.abs(L*Math.sin(q))+Math.abs(Z*Math.cos(q)),Qe=L/2,et=Z/2,lt=Oe/2,ut=Math.sin(q-Math.PI/2)*lt,xt=Math.cos(q-Math.PI/2)*lt;return[Oe,Qe-xt,Qe+xt,et-ut,et+ut]},ps=function($,L){return Math.sqrt($*$+L*L)},Au=function($,L,Z,q,Oe){var Qe=[[0,0],[0,L],[$,0],[$,L]];return Qe.reduce(function(et,lt){var ut=lt[0],xt=lt[1],kt=ps(Z-ut,q-xt);return(Oe?kt<et.optimumDistance:kt>et.optimumDistance)?{optimumCorner:lt,optimumDistance:kt}:et},{optimumDistance:Oe?1/0:-1/0,optimumCorner:null}).optimumCorner},Pd=function($,L,Z,q,Oe){var Qe=0,et=0;switch($.size){case 0:$.shape===0?Qe=et=Math.min(Math.abs(L),Math.abs(L-q),Math.abs(Z),Math.abs(Z-Oe)):$.shape===1&&(Qe=Math.min(Math.abs(L),Math.abs(L-q)),et=Math.min(Math.abs(Z),Math.abs(Z-Oe)));break;case 2:if($.shape===0)Qe=et=Math.min(ps(L,Z),ps(L,Z-Oe),ps(L-q,Z),ps(L-q,Z-Oe));else if($.shape===1){var lt=Math.min(Math.abs(Z),Math.abs(Z-Oe))/Math.min(Math.abs(L),Math.abs(L-q)),ut=Au(q,Oe,L,Z,!0),xt=ut[0],kt=ut[1];Qe=ps(xt-L,(kt-Z)/lt),et=lt*Qe}break;case 1:$.shape===0?Qe=et=Math.max(Math.abs(L),Math.abs(L-q),Math.abs(Z),Math.abs(Z-Oe)):$.shape===1&&(Qe=Math.max(Math.abs(L),Math.abs(L-q)),et=Math.max(Math.abs(Z),Math.abs(Z-Oe)));break;case 3:if($.shape===0)Qe=et=Math.max(ps(L,Z),ps(L,Z-Oe),ps(L-q,Z),ps(L-q,Z-Oe));else if($.shape===1){var lt=Math.max(Math.abs(Z),Math.abs(Z-Oe))/Math.max(Math.abs(L),Math.abs(L-q)),Rt=Au(q,Oe,L,Z,!1),xt=Rt[0],kt=Rt[1];Qe=ps(xt-L,(kt-Z)/lt),et=lt*Qe}break}return Array.isArray($.size)&&(Qe=Qr($.size[0],q),et=$.size.length===2?Qr($.size[1],Oe):Qe),[Qe,et]},Od=function($,L){var Z=us(180),q=[];return bs(L).forEach(function(Oe,Qe){if(Qe===0){var et=Oe[0];if(et.type===20&&et.value==="to"){Z=iu(Oe);return}else if(nu(et)){Z=Io.parse($,et);return}}var lt=To($,Oe);q.push(lt)}),{angle:Z,stops:q,type:1}},_o=function($,L){var Z=us(180),q=[];return bs(L).forEach(function(Oe,Qe){if(Qe===0){var et=Oe[0];if(et.type===20&&["top","left","right","bottom"].indexOf(et.value)!==-1){Z=iu(Oe);return}else if(nu(et)){Z=(Io.parse($,et)+us(270))%us(360);return}}var lt=To($,Oe);q.push(lt)}),{angle:Z,stops:q,type:1}},Md=function($,L){var Z=us(180),q=[],Oe=1,Qe=0,et=3,lt=[];return bs(L).forEach(function(ut,xt){var kt=ut[0];if(xt===0){if(Lr(kt)&&kt.value==="linear"){Oe=1;return}else if(Lr(kt)&&kt.value==="radial"){Oe=2;return}}if(kt.type===18){if(kt.name==="from"){var Rt=Ds.parse($,kt.values[0]);q.push({stop:Zr,color:Rt})}else if(kt.name==="to"){var Rt=Ds.parse($,kt.values[0]);q.push({stop:Us,color:Rt})}else if(kt.name==="color-stop"){var Yt=kt.values.filter(oa);if(Yt.length===2){var Rt=Ds.parse($,Yt[1]),Vi=Yt[0];aa(Vi)&&q.push({stop:{type:16,number:Vi.number*100,flags:Vi.flags},color:Rt})}}}}),Oe===1?{angle:(Z+us(180))%us(360),stops:q,type:Oe}:{size:et,shape:Qe,stops:q,position:lt,type:Oe}},cu="closest-side",lu="farthest-side",uu="closest-corner",hu="farthest-corner",du="circle",fu="ellipse",gu="cover",pu="contain",Ud=function($,L){var Z=0,q=3,Oe=[],Qe=[];return bs(L).forEach(function(et,lt){var ut=!0;if(lt===0){var xt=!1;ut=et.reduce(function(Rt,Yt){if(xt)if(Lr(Yt))switch(Yt.value){case"center":return Qe.push(RA),Rt;case"top":case"left":return Qe.push(Zr),Rt;case"right":case"bottom":return Qe.push(Us),Rt}else(Kr(Yt)||Ms(Yt))&&Qe.push(Yt);else if(Lr(Yt))switch(Yt.value){case du:return Z=0,!1;case fu:return Z=1,!1;case"at":return xt=!0,!1;case cu:return q=0,!1;case gu:case lu:return q=1,!1;case pu:case uu:return q=2,!1;case hu:return q=3,!1}else if(Ms(Yt)||Kr(Yt))return Array.isArray(q)||(q=[]),q.push(Yt),!1;return Rt},ut)}if(ut){var kt=To($,et);Oe.push(kt)}}),{size:q,shape:Z,stops:Oe,position:Qe,type:2}},Po=function($,L){var Z=0,q=3,Oe=[],Qe=[];return bs(L).forEach(function(et,lt){var ut=!0;if(lt===0?ut=et.reduce(function(kt,Rt){if(Lr(Rt))switch(Rt.value){case"center":return Qe.push(RA),!1;case"top":case"left":return Qe.push(Zr),!1;case"right":case"bottom":return Qe.push(Us),!1}else if(Kr(Rt)||Ms(Rt))return Qe.push(Rt),!1;return kt},ut):lt===1&&(ut=et.reduce(function(kt,Rt){if(Lr(Rt))switch(Rt.value){case du:return Z=0,!1;case fu:return Z=1,!1;case pu:case cu:return q=0,!1;case lu:return q=1,!1;case uu:return q=2,!1;case gu:case hu:return q=3,!1}else if(Ms(Rt)||Kr(Rt))return Array.isArray(q)||(q=[]),q.push(Rt),!1;return kt},ut)),ut){var xt=To($,et);Oe.push(xt)}}),{size:q,shape:Z,stops:Oe,position:Qe,type:2}},Dd=function($){return $.type===1},Ld=function($){return $.type===2},QA={name:"image",parse:function($,L){if(L.type===22){var Z={url:L.value,type:0};return $.cache.addImage(L.value),Z}if(L.type===18){var q=mu[L.name];if(typeof q>"u")throw new Error('Attempting to parse an unsupported image function "'+L.name+'"');return q($,L.values)}throw new Error("Unsupported image type "+L.type)}};function Rd($){return!($.type===20&&$.value==="none")&&($.type!==18||!!mu[$.name])}var mu={"linear-gradient":Od,"-moz-linear-gradient":_o,"-ms-linear-gradient":_o,"-o-linear-gradient":_o,"-webkit-linear-gradient":_o,"radial-gradient":Ud,"-moz-radial-gradient":Po,"-ms-radial-gradient":Po,"-o-radial-gradient":Po,"-webkit-radial-gradient":Po,"-webkit-gradient":Md},Nd={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function($,L){if(L.length===0)return[];var Z=L[0];return Z.type===20&&Z.value==="none"?[]:L.filter(function(q){return oa(q)&&Rd(q)}).map(function(q){return QA.parse($,q)})}},Qd={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function($,L){return L.map(function(Z){if(Lr(Z))switch(Z.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Hd={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function($,L){return bs(L).map(function(Z){return Z.filter(Kr)}).map(Y0)}},$d={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function($,L){return bs(L).map(function(Z){return Z.filter(Lr).map(function(q){return q.value}).join(" ")}).map(Gd)}},Gd=function($){switch($){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Aa;(function($){$.AUTO="auto",$.CONTAIN="contain",$.COVER="cover"})(Aa||(Aa={}));var Kd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function($,L){return bs(L).map(function(Z){return Z.filter(Vd)})}},Vd=function($){return Lr($)||Kr($)},Oo=function($){return{name:"border-"+$+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wd=Oo("top"),Jd=Oo("right"),ef=Oo("bottom"),tf=Oo("left"),Mo=function($){return{name:"border-radius-"+$,initialValue:"0 0",prefix:!1,type:1,parse:function(L,Z){return Y0(Z.filter(Kr))}}},nf=Mo("top-left"),rf=Mo("top-right"),sf=Mo("bottom-right"),af=Mo("bottom-left"),Uo=function($){return{name:"border-"+$+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(L,Z){switch(Z){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},of=Uo("top"),Af=Uo("right"),cf=Uo("bottom"),lf=Uo("left"),Do=function($){return{name:"border-"+$+"-width",initialValue:"0",type:0,prefix:!1,parse:function(L,Z){return Ao(Z)?Z.number:0}}},uf=Do("top"),hf=Do("right"),df=Do("bottom"),ff=Do("left"),gf={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pf={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function($,L){switch(L){case"rtl":return 1;case"ltr":default:return 0}}},mf={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function($,L){return L.filter(Lr).reduce(function(Z,q){return Z|xf(q.value)},0)}},xf=function($){switch($){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bf={name:"float",initialValue:"none",prefix:!1,type:2,parse:function($,L){switch(L){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},wf={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function($,L){return L.type===20&&L.value==="normal"?0:L.type===17||L.type===15?L.number:0}},Lo;(function($){$.NORMAL="normal",$.STRICT="strict"})(Lo||(Lo={}));var yf={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function($,L){switch(L){case"strict":return Lo.STRICT;case"normal":default:return Lo.NORMAL}}},Cf={name:"line-height",initialValue:"normal",prefix:!1,type:4},xu=function($,L){return Lr($)&&$.value==="normal"?1.2*L:$.type===17?L*$.number:Kr($)?Qr($,L):L},Bf={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function($,L){return L.type===20&&L.value==="none"?null:QA.parse($,L)}},vf={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function($,L){switch(L){case"inside":return 0;case"outside":default:return 1}}},HA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function($,L){switch(L){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ro=function($){return{name:"margin-"+$,initialValue:"0",prefix:!1,type:4}},Sf=Ro("top"),Ff=Ro("right"),Ef=Ro("bottom"),kf=Ro("left"),If={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function($,L){return L.filter(Lr).map(function(Z){switch(Z.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Tf={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function($,L){switch(L){case"break-word":return"break-word";case"normal":default:return"normal"}}},Qo=function($){return{name:"padding-"+$,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},_f=Qo("top"),Pf=Qo("right"),Of=Qo("bottom"),Mf=Qo("left"),Uf={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function($,L){switch(L){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Df={name:"position",initialValue:"static",prefix:!1,type:2,parse:function($,L){switch(L){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Lf={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function($,L){return L.length===1&&LA(L[0],"none")?[]:bs(L).map(function(Z){for(var q={color:Fs.TRANSPARENT,offsetX:Zr,offsetY:Zr,blur:Zr},Oe=0,Qe=0;Qe<Z.length;Qe++){var et=Z[Qe];Ms(et)?(Oe===0?q.offsetX=et:Oe===1?q.offsetY=et:q.blur=et,Oe++):q.color=Ds.parse($,et)}return q})}},Rf={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function($,L){switch(L){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Nf={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function($,L){if(L.type===20&&L.value==="none")return null;if(L.type===18){var Z=$f[L.name];if(typeof Z>"u")throw new Error('Attempting to parse an unsupported transform function "'+L.name+'"');return Z(L.values)}return null}},Qf=function($){var L=$.filter(function(Z){return Z.type===17}).map(function(Z){return Z.number});return L.length===6?L:null},Hf=function($){var L=$.filter(function(ut){return ut.type===17}).map(function(ut){return ut.number}),Z=L[0],q=L[1];L[2],L[3];var Oe=L[4],Qe=L[5];L[6],L[7],L[8],L[9],L[10],L[11];var et=L[12],lt=L[13];return L[14],L[15],L.length===16?[Z,q,Oe,Qe,et,lt]:null},$f={matrix:Qf,matrix3d:Hf},bu={type:16,number:50,flags:jt},jf=[bu,bu],Gf={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function($,L){var Z=L.filter(Kr);return Z.length!==2?jf:[Z[0],Z[1]]}},Xf={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function($,L){switch(L){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},uo;(function($){$.NORMAL="normal",$.BREAK_ALL="break-all",$.KEEP_ALL="keep-all"})(uo||(uo={}));for(var Kf={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function($,L){switch(L){case"break-all":return uo.BREAK_ALL;case"keep-all":return uo.KEEP_ALL;case"normal":default:return uo.NORMAL}}},Vf={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function($,L){if(L.type===20)return{auto:!0,order:0};if(aa(L))return{auto:!1,order:L.number};throw new Error("Invalid z-index number parsed")}},wu={name:"time",parse:function($,L){if(L.type===15)switch(L.unit.toLowerCase()){case"s":return 1e3*L.number;case"ms":return L.number}throw new Error("Unsupported time type")}},Wf={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function($,L){return aa(L)?L.number:1}},zf={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qf={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function($,L){return L.filter(Lr).map(function(Z){switch(Z.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(Z){return Z!==0})}},Yf={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function($,L){var Z=[],q=[];return L.forEach(function(Oe){switch(Oe.type){case 20:case 0:Z.push(Oe.value);break;case 17:Z.push(Oe.number.toString());break;case 4:q.push(Z.join(" ")),Z.length=0;break}}),Z.length&&q.push(Z.join(" ")),q.map(function(Oe){return Oe.indexOf(" ")===-1?Oe:"'"+Oe+"'"})}},Jf={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Zf={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function($,L){if(aa(L))return L.number;if(Lr(L))switch(L.value){case"bold":return 700;case"normal":default:return 400}return 400}},e1={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function($,L){return L.filter(Lr).map(function(Z){return Z.value})}},t1={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function($,L){switch(L){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},zr=function($,L){return($&L)!==0},n1={name:"content",initialValue:"none",type:1,prefix:!1,parse:function($,L){if(L.length===0)return[];var Z=L[0];return Z.type===20&&Z.value==="none"?[]:L}},i1={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function($,L){if(L.length===0)return null;var Z=L[0];if(Z.type===20&&Z.value==="none")return null;for(var q=[],Oe=L.filter(q0),Qe=0;Qe<Oe.length;Qe++){var et=Oe[Qe],lt=Oe[Qe+1];if(et.type===20){var ut=lt&&aa(lt)?lt.number:1;q.push({counter:et.value,increment:ut})}}return q}},r1={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function($,L){if(L.length===0)return[];for(var Z=[],q=L.filter(q0),Oe=0;Oe<q.length;Oe++){var Qe=q[Oe],et=q[Oe+1];if(Lr(Qe)&&Qe.value!=="none"){var lt=et&&aa(et)?et.number:0;Z.push({counter:Qe.value,reset:lt})}}return Z}},s1={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function($,L){return L.filter(Ao).map(function(Z){return wu.parse($,Z)})}},a1={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function($,L){if(L.length===0)return null;var Z=L[0];if(Z.type===20&&Z.value==="none")return null;var q=[],Oe=L.filter(Sd);if(Oe.length%2!==0)return null;for(var Qe=0;Qe<Oe.length;Qe+=2){var et=Oe[Qe].value,lt=Oe[Qe+1].value;q.push({open:et,close:lt})}return q}},yu=function($,L,Z){if(!$)return"";var q=$[Math.min(L,$.length-1)];return q?Z?q.open:q.close:""},o1={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function($,L){return L.length===1&&LA(L[0],"none")?[]:bs(L).map(function(Z){for(var q={color:255,offsetX:Zr,offsetY:Zr,blur:Zr,spread:Zr,inset:!1},Oe=0,Qe=0;Qe<Z.length;Qe++){var et=Z[Qe];LA(et,"inset")?q.inset=!0:Ms(et)?(Oe===0?q.offsetX=et:Oe===1?q.offsetY=et:Oe===2?q.blur=et:q.spread=et,Oe++):q.color=Ds.parse($,et)}return q})}},A1={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function($,L){var Z=[0,1,2],q=[];return L.filter(Lr).forEach(function(Oe){switch(Oe.value){case"stroke":q.push(1);break;case"fill":q.push(0);break;case"markers":q.push(2);break}}),Z.forEach(function(Oe){q.indexOf(Oe)===-1&&q.push(Oe)}),q}},c1={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},l1={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function($,L){return Ao(L)?L.number:0}},u1=function(){function $(L,Z){var q,Oe;this.animationDuration=Wi(L,s1,Z.animationDuration),this.backgroundClip=Wi(L,kd,Z.backgroundClip),this.backgroundColor=Wi(L,Id,Z.backgroundColor),this.backgroundImage=Wi(L,Nd,Z.backgroundImage),this.backgroundOrigin=Wi(L,Qd,Z.backgroundOrigin),this.backgroundPosition=Wi(L,Hd,Z.backgroundPosition),this.backgroundRepeat=Wi(L,$d,Z.backgroundRepeat),this.backgroundSize=Wi(L,Kd,Z.backgroundSize),this.borderTopColor=Wi(L,Wd,Z.borderTopColor),this.borderRightColor=Wi(L,Jd,Z.borderRightColor),this.borderBottomColor=Wi(L,ef,Z.borderBottomColor),this.borderLeftColor=Wi(L,tf,Z.borderLeftColor),this.borderTopLeftRadius=Wi(L,nf,Z.borderTopLeftRadius),this.borderTopRightRadius=Wi(L,rf,Z.borderTopRightRadius),this.borderBottomRightRadius=Wi(L,sf,Z.borderBottomRightRadius),this.borderBottomLeftRadius=Wi(L,af,Z.borderBottomLeftRadius),this.borderTopStyle=Wi(L,of,Z.borderTopStyle),this.borderRightStyle=Wi(L,Af,Z.borderRightStyle),this.borderBottomStyle=Wi(L,cf,Z.borderBottomStyle),this.borderLeftStyle=Wi(L,lf,Z.borderLeftStyle),this.borderTopWidth=Wi(L,uf,Z.borderTopWidth),this.borderRightWidth=Wi(L,hf,Z.borderRightWidth),this.borderBottomWidth=Wi(L,df,Z.borderBottomWidth),this.borderLeftWidth=Wi(L,ff,Z.borderLeftWidth),this.boxShadow=Wi(L,o1,Z.boxShadow),this.color=Wi(L,gf,Z.color),this.direction=Wi(L,pf,Z.direction),this.display=Wi(L,mf,Z.display),this.float=Wi(L,bf,Z.cssFloat),this.fontFamily=Wi(L,Yf,Z.fontFamily),this.fontSize=Wi(L,Jf,Z.fontSize),this.fontStyle=Wi(L,t1,Z.fontStyle),this.fontVariant=Wi(L,e1,Z.fontVariant),this.fontWeight=Wi(L,Zf,Z.fontWeight),this.letterSpacing=Wi(L,wf,Z.letterSpacing),this.lineBreak=Wi(L,yf,Z.lineBreak),this.lineHeight=Wi(L,Cf,Z.lineHeight),this.listStyleImage=Wi(L,Bf,Z.listStyleImage),this.listStylePosition=Wi(L,vf,Z.listStylePosition),this.listStyleType=Wi(L,HA,Z.listStyleType),this.marginTop=Wi(L,Sf,Z.marginTop),this.marginRight=Wi(L,Ff,Z.marginRight),this.marginBottom=Wi(L,Ef,Z.marginBottom),this.marginLeft=Wi(L,kf,Z.marginLeft),this.opacity=Wi(L,Wf,Z.opacity);var Qe=Wi(L,If,Z.overflow);this.overflowX=Qe[0],this.overflowY=Qe[Qe.length>1?1:0],this.overflowWrap=Wi(L,Tf,Z.overflowWrap),this.paddingTop=Wi(L,_f,Z.paddingTop),this.paddingRight=Wi(L,Pf,Z.paddingRight),this.paddingBottom=Wi(L,Of,Z.paddingBottom),this.paddingLeft=Wi(L,Mf,Z.paddingLeft),this.paintOrder=Wi(L,A1,Z.paintOrder),this.position=Wi(L,Df,Z.position),this.textAlign=Wi(L,Uf,Z.textAlign),this.textDecorationColor=Wi(L,zf,(q=Z.textDecorationColor)!==null&&q!==void 0?q:Z.color),this.textDecorationLine=Wi(L,qf,(Oe=Z.textDecorationLine)!==null&&Oe!==void 0?Oe:Z.textDecoration),this.textShadow=Wi(L,Lf,Z.textShadow),this.textTransform=Wi(L,Rf,Z.textTransform),this.transform=Wi(L,Nf,Z.transform),this.transformOrigin=Wi(L,Gf,Z.transformOrigin),this.visibility=Wi(L,Xf,Z.visibility),this.webkitTextStrokeColor=Wi(L,c1,Z.webkitTextStrokeColor),this.webkitTextStrokeWidth=Wi(L,l1,Z.webkitTextStrokeWidth),this.wordBreak=Wi(L,Kf,Z.wordBreak),this.zIndex=Wi(L,Vf,Z.zIndex)}return $.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},$.prototype.isTransparent=function(){return Ls(this.backgroundColor)},$.prototype.isTransformed=function(){return this.transform!==null},$.prototype.isPositioned=function(){return this.position!==0},$.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},$.prototype.isFloating=function(){return this.float!==0},$.prototype.isInlineLevel=function(){return zr(this.display,4)||zr(this.display,33554432)||zr(this.display,268435456)||zr(this.display,536870912)||zr(this.display,67108864)||zr(this.display,134217728)},$}(),h1=function(){function $(L,Z){this.content=Wi(L,n1,Z.content),this.quotes=Wi(L,a1,Z.quotes)}return $}(),Cu=function(){function $(L,Z){this.counterIncrement=Wi(L,i1,Z.counterIncrement),this.counterReset=Wi(L,r1,Z.counterReset)}return $}(),Wi=function($,L,Z){var q=new W0,Oe=Z!==null&&typeof Z<"u"?Z.toString():L.initialValue;q.write(Oe);var Qe=new z0(q.read());switch(L.type){case 2:var et=Qe.parseComponentValue();return L.parse($,Lr(et)?et.value:L.initialValue);case 0:return L.parse($,Qe.parseComponentValue());case 1:return L.parse($,Qe.parseComponentValues());case 4:return Qe.parseComponentValue();case 3:switch(L.format){case"angle":return Io.parse($,Qe.parseComponentValue());case"color":return Ds.parse($,Qe.parseComponentValue());case"image":return QA.parse($,Qe.parseComponentValue());case"length":var lt=Qe.parseComponentValue();return Ms(lt)?lt:Zr;case"length-percentage":var ut=Qe.parseComponentValue();return Kr(ut)?ut:Zr;case"time":return wu.parse($,Qe.parseComponentValue())}break}},d1="data-htmlVisualizer-debug",f1=function($){var L=$.getAttribute(d1);switch(L){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},jA=function($,L){var Z=f1($);return Z===1||L===Z},ys=function(){function $(L,Z){if(this.context=L,this.textNodes=[],this.elements=[],this.flags=0,jA(Z,3))debugger;this.styles=new u1(L,window.getComputedStyle(Z,null)),zc(Z)&&(this.styles.animationDuration.some(function(q){return q>0})&&(Z.style.animationDuration="0s"),this.styles.transform!==null&&(Z.style.transform="none")),this.bounds=x(this.context,Z),jA(Z,4)&&(this.flags|=16)}return $}(),g1="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ho=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ho=0;Ho<Bu.length;Ho++)ho[Bu.charCodeAt(Ho)]=Ho;for(var p1=function($){var L=$.length*.75,Z=$.length,q,Oe=0,Qe,et,lt,ut;$[$.length-1]==="="&&(L--,$[$.length-2]==="="&&L--);var xt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(L):new Array(L),kt=Array.isArray(xt)?xt:new Uint8Array(xt);for(q=0;q<Z;q+=4)Qe=ho[$.charCodeAt(q)],et=ho[$.charCodeAt(q+1)],lt=ho[$.charCodeAt(q+2)],ut=ho[$.charCodeAt(q+3)],kt[Oe++]=Qe<<2|et>>4,kt[Oe++]=(et&15)<<4|lt>>2,kt[Oe++]=(lt&3)<<6|ut&63;return xt},m1=function($){for(var L=$.length,Z=[],q=0;q<L;q+=2)Z.push($[q+1]<<8|$[q]);return Z},x1=function($){for(var L=$.length,Z=[],q=0;q<L;q+=4)Z.push($[q+3]<<24|$[q+2]<<16|$[q+1]<<8|$[q]);return Z},Vs=5,GA=11,XA=2,b1=GA-Vs,vu=65536>>Vs,w1=1<<Vs,KA=w1-1,y1=1024>>Vs,C1=vu+y1,B1=C1,v1=32,S1=B1+v1,F1=65536>>GA,E1=1<<b1,k1=E1-1,Su=function($,L,Z){return $.slice?$.slice(L,Z):new Uint16Array(Array.prototype.slice.call($,L,Z))},I1=function($,L,Z){return $.slice?$.slice(L,Z):new Uint32Array(Array.prototype.slice.call($,L,Z))},T1=function($,L){var Z=p1($),q=Array.isArray(Z)?x1(Z):new Uint32Array(Z),Oe=Array.isArray(Z)?m1(Z):new Uint16Array(Z),Qe=24,et=Su(Oe,Qe/2,q[4]/2),lt=q[5]===2?Su(Oe,(Qe+q[4])/2):I1(q,Math.ceil((Qe+q[4])/4));return new _1(q[0],q[1],q[2],q[3],et,lt)},_1=function(){function $(L,Z,q,Oe,Qe,et){this.initialValue=L,this.errorValue=Z,this.highStart=q,this.highValueIndex=Oe,this.index=Qe,this.data=et}return $.prototype.get=function(L){var Z;if(L>=0){if(L<55296||L>56319&&L<=65535)return Z=this.index[L>>Vs],Z=(Z<<XA)+(L&KA),this.data[Z];if(L<=65535)return Z=this.index[vu+(L-55296>>Vs)],Z=(Z<<XA)+(L&KA),this.data[Z];if(L<this.highStart)return Z=S1-F1+(L>>GA),Z=this.index[Z],Z+=L>>Vs&k1,Z=this.index[Z],Z=(Z<<XA)+(L&KA),this.data[Z];if(L<=1114111)return this.data[this.highValueIndex]}return this.errorValue},$}(),Fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P1=typeof Uint8Array>"u"?[]:new Uint8Array(256),jo=0;jo<Fu.length;jo++)P1[Fu.charCodeAt(jo)]=jo;var O1=1,VA=2,YA=3,Eu=4,ku=5,M1=7,Iu=8,JA=9,nc=10,Tu=11,_u=12,Pu=13,Ou=14,$c=15,U1=function($){for(var L=[],Z=0,q=$.length;Z<q;){var Oe=$.charCodeAt(Z++);if(Oe>=55296&&Oe<=56319&&Z<q){var Qe=$.charCodeAt(Z++);(Qe&64512)===56320?L.push(((Oe&1023)<<10)+(Qe&1023)+65536):(L.push(Oe),Z--)}else L.push(Oe)}return L},D1=function(){for(var $=[],L=0;L<arguments.length;L++)$[L]=arguments[L];if(String.fromCodePoint)return String.fromCodePoint.apply(String,$);var Z=$.length;if(!Z)return"";for(var q=[],Oe=-1,Qe="";++Oe<Z;){var et=$[Oe];et<=65535?q.push(et):(et-=65536,q.push((et>>10)+55296,et%1024+56320)),(Oe+1===Z||q.length>16384)&&(Qe+=String.fromCharCode.apply(String,q),q.length=0)}return Qe},L1=T1(g1),Ws="",Mu="",R1=function($){return L1.get($)},N1=function($,L,Z){var q=Z-2,Oe=L[q],Qe=L[Z-1],et=L[Z];if(Qe===VA&&et===YA)return Ws;if(Qe===VA||Qe===YA||Qe===Eu||et===VA||et===YA||et===Eu)return Mu;if(Qe===Iu&&[Iu,JA,Tu,_u].indexOf(et)!==-1||(Qe===Tu||Qe===JA)&&(et===JA||et===nc)||(Qe===_u||Qe===nc)&&et===nc||et===Pu||et===ku||et===M1||Qe===O1)return Ws;if(Qe===Pu&&et===Ou){for(;Oe===ku;)Oe=L[--q];if(Oe===Ou)return Ws}if(Qe===$c&&et===$c){for(var lt=0;Oe===$c;)lt++,Oe=L[--q];if(lt%2===0)return Ws}return Mu},Q1=function($){var L=U1($),Z=L.length,q=0,Oe=0,Qe=L.map(R1);return{next:function(){if(q>=Z)return{done:!0,value:null};for(var et=Ws;q<Z&&(et=N1(L,Qe,++q))===Ws;);if(et!==Ws||q===Z){var lt=D1.apply(null,L.slice(Oe,q));return Oe=q,{value:lt,done:!1}}return{done:!0,value:null}}}},H1=function($){for(var L=Q1($),Z=[],q;!(q=L.next()).done;)q.value&&Z.push(q.value.slice());return Z},$1=function($){var L=123;if($.createRange){var Z=$.createRange();if(Z.getBoundingClientRect){var q=$.createElement("boundtest");q.style.height=L+"px",q.style.display="block",$.body.appendChild(q),Z.selectNode(q);var Oe=Z.getBoundingClientRect(),Qe=Math.round(Oe.height);if($.body.removeChild(q),Qe===L)return!0}}return!1},j1=function($){var L=$.createElement("boundtest");L.style.width="50px",L.style.display="block",L.style.fontSize="12px",L.style.letterSpacing="0px",L.style.wordSpacing="0px",$.body.appendChild(L);var Z=$.createRange();L.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var q=L.firstChild,Oe=n(q.data).map(function(ut){return w(ut)}),Qe=0,et={},lt=Oe.every(function(ut,xt){Z.setStart(q,Qe),Z.setEnd(q,Qe+ut.length);var kt=Z.getBoundingClientRect();Qe+=ut.length;var Rt=kt.x>et.x||kt.y>et.y;return et=kt,xt===0?!0:Rt});return $.body.removeChild(L),lt},G1=function(){return typeof new Image().crossOrigin<"u"},X1=function(){return typeof new XMLHttpRequest().responseType=="string"},K1=function($){var L=new Image,Z=$.createElement("canvas"),q=Z.getContext("2d");if(!q)return!1;L.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{q.drawImage(L,0,0),Z.toDataURL()}catch{return!1}return!0},Uu=function($){return $[0]===0&&$[1]===255&&$[2]===0&&$[3]===255},V1=function($){var L=$.createElement("canvas"),Z=100;L.width=Z,L.height=Z;var q=L.getContext("2d");if(!q)return Promise.reject(!1);q.fillStyle="rgb(0, 255, 0)",q.fillRect(0,0,Z,Z);var Oe=new Image,Qe=L.toDataURL();Oe.src=Qe;var et=jc(Z,Z,0,0,Oe);return q.fillStyle="red",q.fillRect(0,0,Z,Z),Du(et).then(function(lt){q.drawImage(lt,0,0);var ut=q.getImageData(0,0,Z,Z).data;q.fillStyle="red",q.fillRect(0,0,Z,Z);var xt=$.createElement("div");return xt.style.backgroundImage="url("+Qe+")",xt.style.height=Z+"px",Uu(ut)?Du(jc(Z,Z,0,0,xt)):Promise.reject(!1)}).then(function(lt){return q.drawImage(lt,0,0),Uu(q.getImageData(0,0,Z,Z).data)}).catch(function(){return!1})},jc=function($,L,Z,q,Oe){var Qe="http://www.w3.org/2000/svg",et=document.createElementNS(Qe,"svg"),lt=document.createElementNS(Qe,"foreignObject");return et.setAttributeNS(null,"width",$.toString()),et.setAttributeNS(null,"height",L.toString()),lt.setAttributeNS(null,"width","100%"),lt.setAttributeNS(null,"height","100%"),lt.setAttributeNS(null,"x",Z.toString()),lt.setAttributeNS(null,"y",q.toString()),lt.setAttributeNS(null,"externalResourcesRequired","true"),et.appendChild(lt),lt.appendChild(Oe),et},Du=function($){return new Promise(function(L,Z){var q=new Image;q.onload=function(){return L(q)},q.onerror=Z,q.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString($))})},es={get SUPPORT_RANGE_BOUNDS(){var $=$1(document);return Object.defineProperty(es,"SUPPORT_RANGE_BOUNDS",{value:$}),$},get SUPPORT_WORD_BREAKING(){var $=es.SUPPORT_RANGE_BOUNDS&&j1(document);return Object.defineProperty(es,"SUPPORT_WORD_BREAKING",{value:$}),$},get SUPPORT_SVG_DRAWING(){var $=K1(document);return Object.defineProperty(es,"SUPPORT_SVG_DRAWING",{value:$}),$},get SUPPORT_FOREIGNOBJECT_DRAWING(){var $=typeof Array.from=="function"&&typeof window.fetch=="function"?V1(document):Promise.resolve(!1);return Object.defineProperty(es,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:$}),$},get SUPPORT_CORS_IMAGES(){var $=G1();return Object.defineProperty(es,"SUPPORT_CORS_IMAGES",{value:$}),$},get SUPPORT_RESPONSE_TYPE(){var $=X1();return Object.defineProperty(es,"SUPPORT_RESPONSE_TYPE",{value:$}),$},get SUPPORT_CORS_XHR(){var $="withCredentials"in new XMLHttpRequest;return Object.defineProperty(es,"SUPPORT_CORS_XHR",{value:$}),$},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var $=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(es,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:$}),$}},fo=function(){function $(L,Z){this.text=L,this.bounds=Z}return $}(),W1=function($,L,Z,q){var Oe=Y1(L,Z),Qe=[],et=0;return Oe.forEach(function(lt){if(Z.textDecorationLine.length||lt.trim().length>0)if(es.SUPPORT_RANGE_BOUNDS){var ut=Lu(q,et,lt.length).getClientRects();if(ut.length>1){var xt=Gc(lt),kt=0;xt.forEach(function(Yt){Qe.push(new fo(Yt,Pe.fromDOMRectList($,Lu(q,kt+et,Yt.length).getClientRects()))),kt+=Yt.length})}else Qe.push(new fo(lt,Pe.fromDOMRectList($,ut)))}else{var Rt=q.splitText(lt.length);Qe.push(new fo(lt,z1($,q))),q=Rt}else es.SUPPORT_RANGE_BOUNDS||(q=q.splitText(lt.length));et+=lt.length}),Qe},z1=function($,L){var Z=L.ownerDocument;if(Z){var q=Z.createElement("htmlVisualizerwrapper");q.appendChild(L.cloneNode(!0));var Oe=L.parentNode;if(Oe){Oe.replaceChild(q,L);var Qe=x($,q);return q.firstChild&&Oe.replaceChild(q.firstChild,q),Qe}}return Pe.EMPTY},Lu=function($,L,Z){var q=$.ownerDocument;if(!q)throw new Error("Node has no owner document");var Oe=q.createRange();return Oe.setStart($,L),Oe.setEnd($,L+Z),Oe},Gc=function($){if(es.SUPPORT_NATIVE_TEXT_SEGMENTATION){var L=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(L.segment($)).map(function(Z){return Z.segment})}return H1($)},q1=function($,L){if(es.SUPPORT_NATIVE_TEXT_SEGMENTATION){var Z=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(Z.segment($)).map(function(q){return q.segment})}return Z1($,L)},Y1=function($,L){return L.letterSpacing!==0?Gc($):q1($,L)},J1=[32,160,4961,65792,65793,4153,4241],Z1=function($,L){for(var Z=fr($,{lineBreak:L.lineBreak,wordBreak:L.overflowWrap==="break-word"?"break-word":L.wordBreak}),q=[],Oe,Qe=function(){if(Oe.value){var et=Oe.value.slice(),lt=n(et),ut="";lt.forEach(function(xt){J1.indexOf(xt)===-1?ut+=w(xt):(ut.length&&q.push(ut),q.push(w(xt)),ut="")}),ut.length&&q.push(ut)}};!(Oe=Z.next()).done;)Qe();return q},eg=function(){function $(L,Z,q){this.text=tg(Z.data,q.textTransform),this.textBounds=W1(L,this.text,q,Z)}return $}(),tg=function($,L){switch(L){case 1:return $.toLowerCase();case 3:return $.replace(ng,ig);case 2:return $.toUpperCase();default:return $}},ng=/(^|\s|:|-|\(|\))([a-z])/g,ig=function($,L,Z){return $.length>0?L+Z.toUpperCase():$},Ru=function($){s(L,$);function L(Z,q){var Oe=$.call(this,Z,q)||this;return Oe.src=q.currentSrc||q.src,Oe.intrinsicWidth=q.naturalWidth,Oe.intrinsicHeight=q.naturalHeight,Oe.context.cache.addImage(Oe.src),Oe}return L}(ys),Nu=function($){s(L,$);function L(Z,q){var Oe=$.call(this,Z,q)||this;return Oe.canvas=q,Oe.intrinsicWidth=q.width,Oe.intrinsicHeight=q.height,Oe}return L}(ys),Qu=function($){s(L,$);function L(Z,q){var Oe=$.call(this,Z,q)||this,Qe=new XMLSerializer,et=x(Z,q);return q.setAttribute("width",et.width+"px"),q.setAttribute("height",et.height+"px"),Oe.svg="data:image/svg+xml,"+encodeURIComponent(Qe.serializeToString(q)),Oe.intrinsicWidth=q.width.baseVal.value,Oe.intrinsicHeight=q.height.baseVal.value,Oe.context.cache.addImage(Oe.svg),Oe}return L}(ys),Hu=function($){s(L,$);function L(Z,q){var Oe=$.call(this,Z,q)||this;return Oe.value=q.value,Oe}return L}(ys),Xc=function($){s(L,$);function L(Z,q){var Oe=$.call(this,Z,q)||this;return Oe.start=q.start,Oe.reversed=typeof q.reversed=="boolean"&&q.reversed===!0,Oe}return L}(ys),rg=[{type:15,flags:0,unit:"px",number:3}],sg=[{type:16,flags:0,number:50}],ag=function($){return $.width>$.height?new Pe($.left+($.width-$.height)/2,$.top,$.height,$.height):$.width<$.height?new Pe($.left,$.top+($.height-$.width)/2,$.width,$.width):$},og=function($){var L=$.type===Ag?new Array($.value.length+1).join(""):$.value;return L.length===0?$.placeholder||"":L},Go="checkbox",Ko="radio",Ag="password",$u=707406591,Wc=function($){s(L,$);function L(Z,q){var Oe=$.call(this,Z,q)||this;switch(Oe.type=q.type.toLowerCase(),Oe.checked=q.checked,Oe.value=og(q),(Oe.type===Go||Oe.type===Ko)&&(Oe.styles.backgroundColor=3739148031,Oe.styles.borderTopColor=Oe.styles.borderRightColor=Oe.styles.borderBottomColor=Oe.styles.borderLeftColor=2779096575,Oe.styles.borderTopWidth=Oe.styles.borderRightWidth=Oe.styles.borderBottomWidth=Oe.styles.borderLeftWidth=1,Oe.styles.borderTopStyle=Oe.styles.borderRightStyle=Oe.styles.borderBottomStyle=Oe.styles.borderLeftStyle=1,Oe.styles.backgroundClip=[0],Oe.styles.backgroundOrigin=[0],Oe.bounds=ag(Oe.bounds)),Oe.type){case Go:Oe.styles.borderTopRightRadius=Oe.styles.borderTopLeftRadius=Oe.styles.borderBottomRightRadius=Oe.styles.borderBottomLeftRadius=rg;break;case Ko:Oe.styles.borderTopRightRadius=Oe.styles.borderTopLeftRadius=Oe.styles.borderBottomRightRadius=Oe.styles.borderBottomLeftRadius=sg;break}return Oe}return L}(ys),ju=function($){s(L,$);function L(Z,q){var Oe=$.call(this,Z,q)||this,Qe=q.options[q.selectedIndex||0];return Oe.value=Qe&&Qe.text||"",Oe}return L}(ys),Gu=function($){s(L,$);function L(Z,q){var Oe=$.call(this,Z,q)||this;return Oe.value=q.value,Oe}return L}(ys),Xu=function($){s(L,$);function L(Z,q){var Oe=$.call(this,Z,q)||this;Oe.src=q.src,Oe.width=parseInt(q.width,10)||0,Oe.height=parseInt(q.height,10)||0,Oe.backgroundColor=Oe.styles.backgroundColor;try{if(q.contentWindow&&q.contentWindow.document&&q.contentWindow.document.documentElement){Oe.tree=Vu(Z,q.contentWindow.document.documentElement);var Qe=q.contentWindow.document.documentElement?lo(Z,getComputedStyle(q.contentWindow.document.documentElement).backgroundColor):Fs.TRANSPARENT,et=q.contentWindow.document.body?lo(Z,getComputedStyle(q.contentWindow.document.body).backgroundColor):Fs.TRANSPARENT;Oe.backgroundColor=Ls(Qe)?Ls(et)?Oe.styles.backgroundColor:et:Qe}}catch{}return Oe}return L}(ys),cg=["OL","UL","MENU"],Yo=function($,L,Z,q){for(var Oe=L.firstChild,Qe=void 0;Oe;Oe=Qe)if(Qe=Oe.nextSibling,Wu(Oe)&&Oe.data.trim().length>0)Z.textNodes.push(new eg($,Oe,Z.styles));else if(ca(Oe))if(eh(Oe)&&Oe.assignedNodes)Oe.assignedNodes().forEach(function(lt){return Yo($,lt,Z,q)});else{var et=Ku($,Oe);et.styles.isVisible()&&(lg(Oe,et,q)?et.flags|=4:ug(et.styles)&&(et.flags|=2),cg.indexOf(Oe.tagName)!==-1&&(et.flags|=8),Z.elements.push(et),Oe.slot,Oe.shadowRoot?Yo($,Oe.shadowRoot,et,q):!tA(Oe)&&!zu(Oe)&&!nA(Oe)&&Yo($,Oe,et,q))}},Ku=function($,L){return Yc(L)?new Ru($,L):qu(L)?new Nu($,L):zu(L)?new Qu($,L):hg(L)?new Hu($,L):dg(L)?new Xc($,L):fg(L)?new Wc($,L):nA(L)?new ju($,L):tA(L)?new Gu($,L):Ju(L)?new Xu($,L):new ys($,L)},Vu=function($,L){var Z=Ku($,L);return Z.flags|=4,Yo($,L,Z,Z),Z},lg=function($,L,Z){return L.styles.isPositionedWithZIndex()||L.styles.opacity<1||L.styles.isTransformed()||qc($)&&Z.styles.isTransparent()},ug=function($){return $.isPositioned()||$.isFloating()},Wu=function($){return $.nodeType===Node.TEXT_NODE},ca=function($){return $.nodeType===Node.ELEMENT_NODE},zc=function($){return ca($)&&typeof $.style<"u"&&!Zo($)},Zo=function($){return typeof $.className=="object"},hg=function($){return $.tagName==="LI"},dg=function($){return $.tagName==="OL"},fg=function($){return $.tagName==="INPUT"},gg=function($){return $.tagName==="HTML"},zu=function($){return $.tagName==="svg"},qc=function($){return $.tagName==="BODY"},qu=function($){return $.tagName==="CANVAS"},Yu=function($){return $.tagName==="VIDEO"},Yc=function($){return $.tagName==="IMG"},Ju=function($){return $.tagName==="IFRAME"},Zu=function($){return $.tagName==="STYLE"},pg=function($){return $.tagName==="SCRIPT"},tA=function($){return $.tagName==="TEXTAREA"},nA=function($){return $.tagName==="SELECT"},eh=function($){return $.tagName==="SLOT"},th=function($){return $.tagName.indexOf("-")>0},mg=function(){function $(){this.counters={}}return $.prototype.getCounterValue=function(L){var Z=this.counters[L];return Z&&Z.length?Z[Z.length-1]:1},$.prototype.getCounterValues=function(L){var Z=this.counters[L];return Z||[]},$.prototype.pop=function(L){var Z=this;L.forEach(function(q){return Z.counters[q].pop()})},$.prototype.parse=function(L){var Z=this,q=L.counterIncrement,Oe=L.counterReset,Qe=!0;q!==null&&q.forEach(function(lt){var ut=Z.counters[lt.counter];ut&&lt.increment!==0&&(Qe=!1,ut.length||ut.push(1),ut[Math.max(0,ut.length-1)]+=lt.increment)});var et=[];return Qe&&Oe.forEach(function(lt){var ut=Z.counters[lt.counter];et.push(lt.counter),ut||(ut=Z.counters[lt.counter]=[]),ut.push(lt.reset)}),et},$}(),nh={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ih={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},xg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},bg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},la=function($,L,Z,q,Oe,Qe){return $<L||$>Z?po($,Oe,Qe.length>0):q.integers.reduce(function(et,lt,ut){for(;$>=lt;)$-=lt,et+=q.values[ut];return et},"")+Qe},rh=function($,L,Z,q){var Oe="";do Z||$--,Oe=q($)+Oe,$/=L;while($*L>=L);return Oe},Xr=function($,L,Z,q,Oe){var Qe=Z-L+1;return($<0?"-":"")+(rh(Math.abs($),Qe,q,function(et){return w(Math.floor(et%Qe)+L)})+Oe)},zs=function($,L,Z){Z===void 0&&(Z=". ");var q=L.length;return rh(Math.abs($),q,!1,function(Oe){return L[Math.floor(Oe%q)]})+Z},ua=1,Ns=2,Qs=4,go=8,Es=function($,L,Z,q,Oe,Qe){if($<-9999||$>9999)return po($,4,Oe.length>0);var et=Math.abs($),lt=Oe;if(et===0)return L[0]+lt;for(var ut=0;et>0&&ut<=4;ut++){var xt=et%10;xt===0&&zr(Qe,ua)&&lt!==""?lt=L[xt]+lt:xt>1||xt===1&&ut===0||xt===1&&ut===1&&zr(Qe,Ns)||xt===1&&ut===1&&zr(Qe,Qs)&&$>100||xt===1&&ut>1&&zr(Qe,go)?lt=L[xt]+(ut>0?Z[ut-1]:"")+lt:xt===1&&ut>0&&(lt=Z[ut-1]+lt),et=Math.floor(et/10)}return($<0?q:"")+lt},sh="",ah="",oh="",Jc="",po=function($,L,Z){var q=Z?". ":"",Oe=Z?"":"",Qe=Z?", ":"",et=Z?" ":"";switch(L){case 0:return""+et;case 1:return""+et;case 2:return""+et;case 5:var lt=Xr($,48,57,!0,q);return lt.length<4?"0"+lt:lt;case 4:return zs($,"",Oe);case 6:return la($,1,3999,nh,3,q).toLowerCase();case 7:return la($,1,3999,nh,3,q);case 8:return Xr($,945,969,!1,q);case 9:return Xr($,97,122,!1,q);case 10:return Xr($,65,90,!1,q);case 11:return Xr($,1632,1641,!0,q);case 12:case 49:return la($,1,9999,ih,3,q);case 35:return la($,1,9999,ih,3,q).toLowerCase();case 13:return Xr($,2534,2543,!0,q);case 14:case 30:return Xr($,6112,6121,!0,q);case 15:return zs($,"",Oe);case 16:return zs($,"",Oe);case 17:case 48:return Es($,"",sh,"",Oe,Ns|Qs|go);case 47:return Es($,"",ah,"",Oe,ua|Ns|Qs|go);case 42:return Es($,"",sh,"",Oe,Ns|Qs|go);case 41:return Es($,"",ah,"",Oe,ua|Ns|Qs|go);case 26:return Es($,"","",oh,Oe,0);case 25:return Es($,"","",oh,Oe,ua|Ns|Qs);case 31:return Es($,"","",Jc,Qe,ua|Ns|Qs);case 33:return Es($,"","",Jc,Qe,0);case 32:return Es($,"","",Jc,Qe,ua|Ns|Qs);case 18:return Xr($,2406,2415,!0,q);case 20:return la($,1,19999,bg,3,q);case 21:return Xr($,2790,2799,!0,q);case 22:return Xr($,2662,2671,!0,q);case 22:return la($,1,10999,xg,3,q);case 23:return zs($,"");case 24:return zs($,"");case 27:return Xr($,3302,3311,!0,q);case 28:return zs($,"",Oe);case 29:return zs($,"",Oe);case 34:return Xr($,3792,3801,!0,q);case 37:return Xr($,6160,6169,!0,q);case 38:return Xr($,4160,4169,!0,q);case 39:return Xr($,2918,2927,!0,q);case 40:return Xr($,1776,1785,!0,q);case 43:return Xr($,3046,3055,!0,q);case 44:return Xr($,3174,3183,!0,q);case 45:return Xr($,3664,3673,!0,q);case 46:return Xr($,3872,3881,!0,q);case 3:default:return Xr($,48,57,!0,q)}},ch="data-htmlVisualizer-ignore",lh=function(){function $(L,Z,q){if(this.context=L,this.options=q,this.scrolledElements=[],this.referenceElement=Z,this.counters=new mg,this.quoteDepth=0,!Z.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(Z.ownerDocument.documentElement,!1)}return $.prototype.toIFrame=function(L,Z){var q=this,Oe=wg(L,Z);if(!Oe.contentWindow)return Promise.reject("Unable to find iframe window");var Qe=L.defaultView.pageXOffset,et=L.defaultView.pageYOffset,lt=Oe.contentWindow,ut=lt.document,xt=Bg(Oe).then(function(){return X(q,void 0,void 0,function(){var kt,Rt;return ae(this,function(Yt){switch(Yt.label){case 0:return this.scrolledElements.forEach(Eg),lt&&(lt.scrollTo(Z.left,Z.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(lt.scrollY!==Z.top||lt.scrollX!==Z.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(lt.scrollX-Z.left,lt.scrollY-Z.top,0,0))),kt=this.options.onclone,Rt=this.clonedReferenceElement,typeof Rt>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ut.fonts&&ut.fonts.ready?[4,ut.fonts.ready]:[3,2];case 1:Yt.sent(),Yt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Cg(ut)]:[3,4];case 3:Yt.sent(),Yt.label=4;case 4:return typeof kt=="function"?[2,Promise.resolve().then(function(){return kt(ut,Rt)}).then(function(){return Oe})]:[2,Oe]}})})});return ut.open(),ut.write(Sg(document.doctype)+"<html></html>"),Fg(this.referenceElement.ownerDocument,Qe,et),ut.replaceChild(ut.adoptNode(this.documentElement),ut.documentElement),ut.close(),xt},$.prototype.createElementClone=function(L){if(jA(L,2))debugger;if(qu(L))return this.createCanvasClone(L);if(Yu(L))return this.createVideoClone(L);if(Zu(L))return this.createStyleClone(L);var Z=L.cloneNode(!1);return Yc(Z)&&(Z.onerror=function(){},Yc(L)&&L.currentSrc&&L.currentSrc!==L.src&&(Z.src=L.currentSrc,Z.srcset=""),Z.loading==="lazy"&&(Z.loading="eager")),th(Z)?this.createCustomElementClone(Z):Z},$.prototype.createCustomElementClone=function(L){var Z=document.createElement("htmlVisualizercustomelement");return Zc(L.style,Z),Z},$.prototype.createStyleClone=function(L){try{var Z=L.sheet;if(Z&&Z.cssRules){var q=[].slice.call(Z.cssRules,0).reduce(function(Qe,et){return et&&typeof et.cssText=="string"?Qe+et.cssText:Qe},""),Oe=L.cloneNode(!1);return Oe.textContent=q,Oe}}catch(Qe){if(this.context.logger.error("Unable to access cssRules property",Qe),Qe.name!=="SecurityError")throw Qe}return L.cloneNode(!1)},$.prototype.createCanvasClone=function(L){var Z;if(this.options.inlineImages&&L.ownerDocument){var q=L.ownerDocument.createElement("img");try{return q.src=L.toDataURL(),q}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",L)}}var Oe=L.cloneNode(!1);try{Oe.width=L.width,Oe.height=L.height;var Qe=L.getContext("2d"),et=Oe.getContext("2d");if(et)if(!this.options.allowTaint&&Qe)et.putImageData(Qe.getImageData(0,0,L.width,L.height),0,0);else{var lt=(Z=L.getContext("webgl2"))!==null&&Z!==void 0?Z:L.getContext("webgl");if(lt){var ut=lt.getContextAttributes();(ut==null?void 0:ut.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",L)}et.drawImage(L,0,0)}return Oe}catch{this.context.logger.info("Unable to clone canvas as it is tainted",L)}return Oe},$.prototype.createVideoClone=function(L){var Z=L.ownerDocument.createElement("canvas");Z.width=L.offsetWidth,Z.height=L.offsetHeight;var q=Z.getContext("2d");try{return q&&(q.drawImage(L,0,0,Z.width,Z.height),this.options.allowTaint||q.getImageData(0,0,Z.width,Z.height)),Z}catch{this.context.logger.info("Unable to clone video as it is tainted",L)}var Oe=L.ownerDocument.createElement("canvas");return Oe.width=L.offsetWidth,Oe.height=L.offsetHeight,Oe},$.prototype.appendChildNode=function(L,Z,q){(!ca(Z)||!pg(Z)&&!Z.hasAttribute(ch)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(Z)))&&(!this.options.copyStyles||!ca(Z)||!Zu(Z))&&L.appendChild(this.cloneNode(Z,q))},$.prototype.cloneChildNodes=function(L,Z,q){for(var Oe=this,Qe=L.shadowRoot?L.shadowRoot.firstChild:L.firstChild;Qe;Qe=Qe.nextSibling)if(ca(Qe)&&eh(Qe)&&typeof Qe.assignedNodes=="function"){var et=Qe.assignedNodes();et.length&&et.forEach(function(lt){return Oe.appendChildNode(Z,lt,q)})}else this.appendChildNode(Z,Qe,q)},$.prototype.cloneNode=function(L,Z){if(Wu(L))return document.createTextNode(L.data);if(!L.ownerDocument)return L.cloneNode(!1);var q=L.ownerDocument.defaultView;if(q&&ca(L)&&(zc(L)||Zo(L))){var Oe=this.createElementClone(L);Oe.style.transitionProperty="none";var Qe=q.getComputedStyle(L),et=q.getComputedStyle(L,":before"),lt=q.getComputedStyle(L,":after");this.referenceElement===L&&zc(Oe)&&(this.clonedReferenceElement=Oe),qc(Oe)&&Tg(Oe);var ut=this.counters.parse(new Cu(this.context,Qe)),xt=this.resolvePseudoContent(L,Oe,et,mo.BEFORE);th(L)&&(Z=!0),Yu(L)||this.cloneChildNodes(L,Oe,Z),xt&&Oe.insertBefore(xt,Oe.firstChild);var kt=this.resolvePseudoContent(L,Oe,lt,mo.AFTER);return kt&&Oe.appendChild(kt),this.counters.pop(ut),(Qe&&(this.options.copyStyles||Zo(L))&&!Ju(L)||Z)&&Zc(Qe,Oe),(L.scrollTop!==0||L.scrollLeft!==0)&&this.scrolledElements.push([Oe,L.scrollLeft,L.scrollTop]),(tA(L)||nA(L))&&(tA(Oe)||nA(Oe))&&(Oe.value=L.value),Oe}return L.cloneNode(!1)},$.prototype.resolvePseudoContent=function(L,Z,q,Oe){var Qe=this;if(q){var et=q.content,lt=Z.ownerDocument;if(!(!lt||!et||et==="none"||et==="-moz-alt-content"||q.display==="none")){this.counters.parse(new Cu(this.context,q));var ut=new h1(this.context,q),xt=lt.createElement("htmlVisualizerpseudoelement");Zc(q,xt),ut.content.forEach(function(Rt){if(Rt.type===0)xt.appendChild(lt.createTextNode(Rt.value));else if(Rt.type===22){var Yt=lt.createElement("img");Yt.src=Rt.value,Yt.style.opacity="1",xt.appendChild(Yt)}else if(Rt.type===18){if(Rt.name==="attr"){var Vi=Rt.values.filter(Lr);Vi.length&&xt.appendChild(lt.createTextNode(L.getAttribute(Vi[0].value)||""))}else if(Rt.name==="counter"){var li=Rt.values.filter(oa),Ri=li[0],Sr=li[1];if(Ri&&Lr(Ri)){var ur=Qe.counters.getCounterValue(Ri.value),Ji=Sr&&Lr(Sr)?HA.parse(Qe.context,Sr.value):3;xt.appendChild(lt.createTextNode(po(ur,Ji,!1)))}}else if(Rt.name==="counters"){var _r=Rt.values.filter(oa),Ri=_r[0],Fr=_r[1],Sr=_r[2];if(Ri&&Lr(Ri)){var wr=Qe.counters.getCounterValues(Ri.value),Xi=Sr&&Lr(Sr)?HA.parse(Qe.context,Sr.value):3,Ir=Fr&&Fr.type===0?Fr.value:"",Tr=wr.map(function(ss){return po(ss,Xi,!1)}).join(Ir);xt.appendChild(lt.createTextNode(Tr))}}}else if(Rt.type===20)switch(Rt.value){case"open-quote":xt.appendChild(lt.createTextNode(yu(ut.quotes,Qe.quoteDepth++,!0)));break;case"close-quote":xt.appendChild(lt.createTextNode(yu(ut.quotes,--Qe.quoteDepth,!1)));break;default:xt.appendChild(lt.createTextNode(Rt.value))}}),xt.className=_l+" "+ql;var kt=Oe===mo.BEFORE?" "+_l:" "+ql;return Zo(Z)?Z.className.baseValue+=kt:Z.className+=kt,xt}}},$.destroy=function(L){return L.parentNode?(L.parentNode.removeChild(L),!0):!1},$}(),mo;(function($){$[$.BEFORE=0]="BEFORE",$[$.AFTER=1]="AFTER"})(mo||(mo={}));var wg=function($,L){var Z=$.createElement("iframe");return Z.className="htmlVisualizer-container",Z.style.visibility="hidden",Z.style.position="fixed",Z.style.left="-10000px",Z.style.top="0px",Z.style.border="0",Z.width=L.width.toString(),Z.height=L.height.toString(),Z.scrolling="no",Z.setAttribute(ch,"true"),$.body.appendChild(Z),Z},yg=function($){return new Promise(function(L){if($.complete){L();return}if(!$.src){L();return}$.onload=L,$.onerror=L})},Cg=function($){return Promise.all([].slice.call($.images,0).map(yg))},Bg=function($){return new Promise(function(L,Z){var q=$.contentWindow;if(!q)return Z("No window assigned for iframe");var Oe=q.document;q.onload=$.onload=function(){q.onload=$.onload=null;var Qe=setInterval(function(){Oe.body.childNodes.length>0&&Oe.readyState==="complete"&&(clearInterval(Qe),L($))},50)}})},vg=["all","d","content"],Zc=function($,L){for(var Z=$.length-1;Z>=0;Z--){var q=$.item(Z);vg.indexOf(q)===-1&&L.style.setProperty(q,$.getPropertyValue(q))}return L},Sg=function($){var L="";return $&&(L+="<!DOCTYPE ",$.name&&(L+=$.name),$.internalSubset&&(L+=$.internalSubset),$.publicId&&(L+='"'+$.publicId+'"'),$.systemId&&(L+='"'+$.systemId+'"'),L+=">"),L},Fg=function($,L,Z){$&&$.defaultView&&(L!==$.defaultView.pageXOffset||Z!==$.defaultView.pageYOffset)&&$.defaultView.scrollTo(L,Z)},Eg=function($){var L=$[0],Z=$[1],q=$[2];L.scrollLeft=Z,L.scrollTop=q},kg=":before",Ig=":after",_l="___htmlVisualizer___pseudoelement_before",ql="___htmlVisualizer___pseudoelement_after",uh=`{
    content: "" !important;
    display: none !important;
}`,Tg=function($){_g($,"."+_l+kg+uh+`
         .`+ql+Ig+uh)},_g=function($,L){var Z=$.ownerDocument;if(Z){var q=Z.createElement("style");q.textContent=L,$.appendChild(q)}},hh=function(){function $(){}return $.getOrigin=function(L){var Z=$._link;return Z?(Z.href=L,Z.href=Z.href,Z.protocol+Z.hostname+Z.port):"about:blank"},$.isSameOrigin=function(L){return $.getOrigin(L)===$._origin},$.setContext=function(L){$._link=L.document.createElement("a"),$._origin=$.getOrigin(L.location.href)},$._origin="about:blank",$}(),Pg=function(){function $(L,Z){this.context=L,this._options=Z,this._cache={}}return $.prototype.addImage=function(L){var Z=Promise.resolve();return this.has(L)||(t0(L)||Dg(L))&&(this._cache[L]=this.loadImage(L)).catch(function(){}),Z},$.prototype.match=function(L){return this._cache[L]},$.prototype.loadImage=function(L){return X(this,void 0,void 0,function(){var Z,q,Oe,Qe,et=this;return ae(this,function(lt){switch(lt.label){case 0:return Z=hh.isSameOrigin(L),q=!e0(L)&&this._options.useCORS===!0&&es.SUPPORT_CORS_IMAGES&&!Z,Oe=!e0(L)&&!Z&&!t0(L)&&typeof this._options.proxy=="string"&&es.SUPPORT_CORS_XHR&&!q,!Z&&this._options.allowTaint===!1&&!e0(L)&&!t0(L)&&!Oe&&!q?[2]:(Qe=L,Oe?[4,this.proxy(Qe)]:[3,2]);case 1:Qe=lt.sent(),lt.label=2;case 2:return this.context.logger.debug("Added image "+L.substring(0,256)),[4,new Promise(function(ut,xt){var kt=new Image;kt.onload=function(){return ut(kt)},kt.onerror=xt,(Lg(Qe)||q)&&(kt.crossOrigin="Anonymous"),kt.src=Qe,kt.complete===!0&&setTimeout(function(){return ut(kt)},500),et._options.imageTimeout>0&&setTimeout(function(){return xt("Timed out ("+et._options.imageTimeout+"ms) loading image")},et._options.imageTimeout)})];case 3:return[2,lt.sent()]}})})},$.prototype.has=function(L){return typeof this._cache[L]<"u"},$.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},$.prototype.proxy=function(L){var Z=this,q=this._options.proxy;if(!q)throw new Error("No proxy defined");var Oe=L.substring(0,256);return new Promise(function(Qe,et){var lt=es.SUPPORT_RESPONSE_TYPE?"blob":"text",ut=new XMLHttpRequest;ut.onload=function(){if(ut.status===200)if(lt==="text")Qe(ut.response);else{var Rt=new FileReader;Rt.addEventListener("load",function(){return Qe(Rt.result)},!1),Rt.addEventListener("error",function(Yt){return et(Yt)},!1),Rt.readAsDataURL(ut.response)}else et("Failed to proxy resource "+Oe+" with status code "+ut.status)},ut.onerror=et;var xt=q.indexOf("?")>-1?"&":"?";if(ut.open("GET",""+q+xt+"url="+encodeURIComponent(L)+"&responseType="+lt),lt!=="text"&&ut instanceof XMLHttpRequest&&(ut.responseType=lt),Z._options.imageTimeout){var kt=Z._options.imageTimeout;ut.timeout=kt,ut.ontimeout=function(){return et("Timed out ("+kt+"ms) proxying "+Oe)}}ut.send()})},$}(),Og=/^data:image\/svg\+xml/i,Mg=/^data:image\/.*;base64,/i,Ug=/^data:image\/.*/i,Dg=function($){return es.SUPPORT_SVG_DRAWING||!Rg($)},e0=function($){return Ug.test($)},Lg=function($){return Mg.test($)},t0=function($){return $.substr(0,4)==="blob"},Rg=function($){return $.substr(-3).toLowerCase()==="svg"||Og.test($)},ji=function(){function $(L,Z){this.type=0,this.x=L,this.y=Z}return $.prototype.add=function(L,Z){return new $(this.x+L,this.y+Z)},$}(),ha=function($,L,Z){return new ji($.x+(L.x-$.x)*Z,$.y+(L.y-$.y)*Z)},iA=function(){function $(L,Z,q,Oe){this.type=1,this.start=L,this.startControl=Z,this.endControl=q,this.end=Oe}return $.prototype.subdivide=function(L,Z){var q=ha(this.start,this.startControl,L),Oe=ha(this.startControl,this.endControl,L),Qe=ha(this.endControl,this.end,L),et=ha(q,Oe,L),lt=ha(Oe,Qe,L),ut=ha(et,lt,L);return Z?new $(this.start,q,et,ut):new $(ut,lt,Qe,this.end)},$.prototype.add=function(L,Z){return new $(this.start.add(L,Z),this.startControl.add(L,Z),this.endControl.add(L,Z),this.end.add(L,Z))},$.prototype.reverse=function(){return new $(this.end,this.endControl,this.startControl,this.start)},$}(),hs=function($){return $.type===1},Ng=function(){function $(L){var Z=L.styles,q=L.bounds,Oe=co(Z.borderTopLeftRadius,q.width,q.height),Qe=Oe[0],et=Oe[1],lt=co(Z.borderTopRightRadius,q.width,q.height),ut=lt[0],xt=lt[1],kt=co(Z.borderBottomRightRadius,q.width,q.height),Rt=kt[0],Yt=kt[1],Vi=co(Z.borderBottomLeftRadius,q.width,q.height),li=Vi[0],Ri=Vi[1],Sr=[];Sr.push((Qe+ut)/q.width),Sr.push((li+Rt)/q.width),Sr.push((et+Ri)/q.height),Sr.push((xt+Yt)/q.height);var ur=Math.max.apply(Math,Sr);ur>1&&(Qe/=ur,et/=ur,ut/=ur,xt/=ur,Rt/=ur,Yt/=ur,li/=ur,Ri/=ur);var Ji=q.width-ut,_r=q.height-Yt,Fr=q.width-Rt,wr=q.height-Ri,Xi=Z.borderTopWidth,Ir=Z.borderRightWidth,Tr=Z.borderBottomWidth,vr=Z.borderLeftWidth,Vr=Qr(Z.paddingTop,L.bounds.width),ss=Qr(Z.paddingRight,L.bounds.width),cs=Qr(Z.paddingBottom,L.bounds.width),Rr=Qr(Z.paddingLeft,L.bounds.width);this.topLeftBorderDoubleOuterBox=Qe>0||et>0?$r(q.left+vr/3,q.top+Xi/3,Qe-vr/3,et-Xi/3,Or.TOP_LEFT):new ji(q.left+vr/3,q.top+Xi/3),this.topRightBorderDoubleOuterBox=Qe>0||et>0?$r(q.left+Ji,q.top+Xi/3,ut-Ir/3,xt-Xi/3,Or.TOP_RIGHT):new ji(q.left+q.width-Ir/3,q.top+Xi/3),this.bottomRightBorderDoubleOuterBox=Rt>0||Yt>0?$r(q.left+Fr,q.top+_r,Rt-Ir/3,Yt-Tr/3,Or.BOTTOM_RIGHT):new ji(q.left+q.width-Ir/3,q.top+q.height-Tr/3),this.bottomLeftBorderDoubleOuterBox=li>0||Ri>0?$r(q.left+vr/3,q.top+wr,li-vr/3,Ri-Tr/3,Or.BOTTOM_LEFT):new ji(q.left+vr/3,q.top+q.height-Tr/3),this.topLeftBorderDoubleInnerBox=Qe>0||et>0?$r(q.left+vr*2/3,q.top+Xi*2/3,Qe-vr*2/3,et-Xi*2/3,Or.TOP_LEFT):new ji(q.left+vr*2/3,q.top+Xi*2/3),this.topRightBorderDoubleInnerBox=Qe>0||et>0?$r(q.left+Ji,q.top+Xi*2/3,ut-Ir*2/3,xt-Xi*2/3,Or.TOP_RIGHT):new ji(q.left+q.width-Ir*2/3,q.top+Xi*2/3),this.bottomRightBorderDoubleInnerBox=Rt>0||Yt>0?$r(q.left+Fr,q.top+_r,Rt-Ir*2/3,Yt-Tr*2/3,Or.BOTTOM_RIGHT):new ji(q.left+q.width-Ir*2/3,q.top+q.height-Tr*2/3),this.bottomLeftBorderDoubleInnerBox=li>0||Ri>0?$r(q.left+vr*2/3,q.top+wr,li-vr*2/3,Ri-Tr*2/3,Or.BOTTOM_LEFT):new ji(q.left+vr*2/3,q.top+q.height-Tr*2/3),this.topLeftBorderStroke=Qe>0||et>0?$r(q.left+vr/2,q.top+Xi/2,Qe-vr/2,et-Xi/2,Or.TOP_LEFT):new ji(q.left+vr/2,q.top+Xi/2),this.topRightBorderStroke=Qe>0||et>0?$r(q.left+Ji,q.top+Xi/2,ut-Ir/2,xt-Xi/2,Or.TOP_RIGHT):new ji(q.left+q.width-Ir/2,q.top+Xi/2),this.bottomRightBorderStroke=Rt>0||Yt>0?$r(q.left+Fr,q.top+_r,Rt-Ir/2,Yt-Tr/2,Or.BOTTOM_RIGHT):new ji(q.left+q.width-Ir/2,q.top+q.height-Tr/2),this.bottomLeftBorderStroke=li>0||Ri>0?$r(q.left+vr/2,q.top+wr,li-vr/2,Ri-Tr/2,Or.BOTTOM_LEFT):new ji(q.left+vr/2,q.top+q.height-Tr/2),this.topLeftBorderBox=Qe>0||et>0?$r(q.left,q.top,Qe,et,Or.TOP_LEFT):new ji(q.left,q.top),this.topRightBorderBox=ut>0||xt>0?$r(q.left+Ji,q.top,ut,xt,Or.TOP_RIGHT):new ji(q.left+q.width,q.top),this.bottomRightBorderBox=Rt>0||Yt>0?$r(q.left+Fr,q.top+_r,Rt,Yt,Or.BOTTOM_RIGHT):new ji(q.left+q.width,q.top+q.height),this.bottomLeftBorderBox=li>0||Ri>0?$r(q.left,q.top+wr,li,Ri,Or.BOTTOM_LEFT):new ji(q.left,q.top+q.height),this.topLeftPaddingBox=Qe>0||et>0?$r(q.left+vr,q.top+Xi,Math.max(0,Qe-vr),Math.max(0,et-Xi),Or.TOP_LEFT):new ji(q.left+vr,q.top+Xi),this.topRightPaddingBox=ut>0||xt>0?$r(q.left+Math.min(Ji,q.width-Ir),q.top+Xi,Ji>q.width+Ir?0:Math.max(0,ut-Ir),Math.max(0,xt-Xi),Or.TOP_RIGHT):new ji(q.left+q.width-Ir,q.top+Xi),this.bottomRightPaddingBox=Rt>0||Yt>0?$r(q.left+Math.min(Fr,q.width-vr),q.top+Math.min(_r,q.height-Tr),Math.max(0,Rt-Ir),Math.max(0,Yt-Tr),Or.BOTTOM_RIGHT):new ji(q.left+q.width-Ir,q.top+q.height-Tr),this.bottomLeftPaddingBox=li>0||Ri>0?$r(q.left+vr,q.top+Math.min(wr,q.height-Tr),Math.max(0,li-vr),Math.max(0,Ri-Tr),Or.BOTTOM_LEFT):new ji(q.left+vr,q.top+q.height-Tr),this.topLeftContentBox=Qe>0||et>0?$r(q.left+vr+Rr,q.top+Xi+Vr,Math.max(0,Qe-(vr+Rr)),Math.max(0,et-(Xi+Vr)),Or.TOP_LEFT):new ji(q.left+vr+Rr,q.top+Xi+Vr),this.topRightContentBox=ut>0||xt>0?$r(q.left+Math.min(Ji,q.width+vr+Rr),q.top+Xi+Vr,Ji>q.width+vr+Rr?0:ut-vr+Rr,xt-(Xi+Vr),Or.TOP_RIGHT):new ji(q.left+q.width-(Ir+ss),q.top+Xi+Vr),this.bottomRightContentBox=Rt>0||Yt>0?$r(q.left+Math.min(Fr,q.width-(vr+Rr)),q.top+Math.min(_r,q.height+Xi+Vr),Math.max(0,Rt-(Ir+ss)),Yt-(Tr+cs),Or.BOTTOM_RIGHT):new ji(q.left+q.width-(Ir+ss),q.top+q.height-(Tr+cs)),this.bottomLeftContentBox=li>0||Ri>0?$r(q.left+vr+Rr,q.top+wr,Math.max(0,li-(vr+Rr)),Ri-(Tr+cs),Or.BOTTOM_LEFT):new ji(q.left+vr+Rr,q.top+q.height-(Tr+cs))}return $}(),Or;(function($){$[$.TOP_LEFT=0]="TOP_LEFT",$[$.TOP_RIGHT=1]="TOP_RIGHT",$[$.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",$[$.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Or||(Or={}));var $r=function($,L,Z,q,Oe){var Qe=4*((Math.sqrt(2)-1)/3),et=Z*Qe,lt=q*Qe,ut=$+Z,xt=L+q;switch(Oe){case Or.TOP_LEFT:return new iA(new ji($,xt),new ji($,xt-lt),new ji(ut-et,L),new ji(ut,L));case Or.TOP_RIGHT:return new iA(new ji($,L),new ji($+et,L),new ji(ut,xt-lt),new ji(ut,xt));case Or.BOTTOM_RIGHT:return new iA(new ji(ut,L),new ji(ut,L+lt),new ji($+et,xt),new ji($,xt));case Or.BOTTOM_LEFT:default:return new iA(new ji(ut,xt),new ji(ut-et,xt),new ji($,L+lt),new ji($,L))}},rA=function($){return[$.topLeftBorderBox,$.topRightBorderBox,$.bottomRightBorderBox,$.bottomLeftBorderBox]},Qg=function($){return[$.topLeftContentBox,$.topRightContentBox,$.bottomRightContentBox,$.bottomLeftContentBox]},sA=function($){return[$.topLeftPaddingBox,$.topRightPaddingBox,$.bottomRightPaddingBox,$.bottomLeftPaddingBox]},Hg=function(){function $(L,Z,q){this.offsetX=L,this.offsetY=Z,this.matrix=q,this.type=0,this.target=6}return $}(),aA=function(){function $(L,Z){this.path=L,this.target=Z,this.type=1}return $}(),$g=function(){function $(L){this.opacity=L,this.type=2,this.target=6}return $}(),jg=function($){return $.type===0},dh=function($){return $.type===1},Gg=function($){return $.type===2},fh=function($,L){return $.length===L.length?$.some(function(Z,q){return Z===L[q]}):!1},Xg=function($,L,Z,q,Oe){return $.map(function(Qe,et){switch(et){case 0:return Qe.add(L,Z);case 1:return Qe.add(L+q,Z);case 2:return Qe.add(L+q,Z+Oe);case 3:return Qe.add(L,Z+Oe)}return Qe})},gh=function(){function $(L){this.element=L,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return $}(),ph=function(){function $(L,Z){if(this.container=L,this.parent=Z,this.effects=[],this.curves=new Ng(this.container),this.container.styles.opacity<1&&this.effects.push(new $g(this.container.styles.opacity)),this.container.styles.transform!==null){var q=this.container.bounds.left+this.container.styles.transformOrigin[0].number,Oe=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Qe=this.container.styles.transform;this.effects.push(new Hg(q,Oe,Qe))}if(this.container.styles.overflowX!==0){var et=rA(this.curves),lt=sA(this.curves);fh(et,lt)?this.effects.push(new aA(et,6)):(this.effects.push(new aA(et,2)),this.effects.push(new aA(lt,4)))}}return $.prototype.getEffects=function(L){for(var Z=[2,3].indexOf(this.container.styles.position)===-1,q=this.parent,Oe=this.effects.slice(0);q;){var Qe=q.effects.filter(function(ut){return!dh(ut)});if(Z||q.container.styles.position!==0||!q.parent){if(Oe.unshift.apply(Oe,Qe),Z=[2,3].indexOf(q.container.styles.position)===-1,q.container.styles.overflowX!==0){var et=rA(q.curves),lt=sA(q.curves);fh(et,lt)||Oe.unshift(new aA(lt,6))}}else Oe.unshift.apply(Oe,Qe);q=q.parent}return Oe.filter(function(ut){return zr(ut.target,L)})},$}(),n0=function($,L,Z,q){$.container.elements.forEach(function(Oe){var Qe=zr(Oe.flags,4),et=zr(Oe.flags,2),lt=new ph(Oe,$);zr(Oe.styles.display,2048)&&q.push(lt);var ut=zr(Oe.flags,8)?[]:q;if(Qe||et){var xt=Qe||Oe.styles.isPositioned()?Z:L,kt=new gh(lt);if(Oe.styles.isPositioned()||Oe.styles.opacity<1||Oe.styles.isTransformed()){var Rt=Oe.styles.zIndex.order;if(Rt<0){var Yt=0;xt.negativeZIndex.some(function(li,Ri){return Rt>li.element.container.styles.zIndex.order?(Yt=Ri,!1):Yt>0}),xt.negativeZIndex.splice(Yt,0,kt)}else if(Rt>0){var Vi=0;xt.positiveZIndex.some(function(li,Ri){return Rt>=li.element.container.styles.zIndex.order?(Vi=Ri+1,!1):Vi>0}),xt.positiveZIndex.splice(Vi,0,kt)}else xt.zeroOrAutoZIndexOrTransformedOrOpacity.push(kt)}else Oe.styles.isFloating()?xt.nonPositionedFloats.push(kt):xt.nonPositionedInlineLevel.push(kt);n0(lt,kt,Qe?kt:Z,ut)}else Oe.styles.isInlineLevel()?L.inlineLevel.push(lt):L.nonInlineLevel.push(lt),n0(lt,L,Z,ut);zr(Oe.flags,8)&&mh(Oe,ut)})},mh=function($,L){for(var Z=$ instanceof Xc?$.start:1,q=$ instanceof Xc?$.reversed:!1,Oe=0;Oe<L.length;Oe++){var Qe=L[Oe];Qe.container instanceof Hu&&typeof Qe.container.value=="number"&&Qe.container.value!==0&&(Z=Qe.container.value),Qe.listValue=po(Z,Qe.container.styles.listStyleType,!0),Z+=q?-1:1}},Kg=function($){var L=new ph($,null),Z=new gh(L),q=[];return n0(L,Z,Z,q),mh(L.container,q),Z},xh=function($,L){switch(L){case 0:return ds($.topLeftBorderBox,$.topLeftPaddingBox,$.topRightBorderBox,$.topRightPaddingBox);case 1:return ds($.topRightBorderBox,$.topRightPaddingBox,$.bottomRightBorderBox,$.bottomRightPaddingBox);case 2:return ds($.bottomRightBorderBox,$.bottomRightPaddingBox,$.bottomLeftBorderBox,$.bottomLeftPaddingBox);case 3:default:return ds($.bottomLeftBorderBox,$.bottomLeftPaddingBox,$.topLeftBorderBox,$.topLeftPaddingBox)}},Vg=function($,L){switch(L){case 0:return ds($.topLeftBorderBox,$.topLeftBorderDoubleOuterBox,$.topRightBorderBox,$.topRightBorderDoubleOuterBox);case 1:return ds($.topRightBorderBox,$.topRightBorderDoubleOuterBox,$.bottomRightBorderBox,$.bottomRightBorderDoubleOuterBox);case 2:return ds($.bottomRightBorderBox,$.bottomRightBorderDoubleOuterBox,$.bottomLeftBorderBox,$.bottomLeftBorderDoubleOuterBox);case 3:default:return ds($.bottomLeftBorderBox,$.bottomLeftBorderDoubleOuterBox,$.topLeftBorderBox,$.topLeftBorderDoubleOuterBox)}},Wg=function($,L){switch(L){case 0:return ds($.topLeftBorderDoubleInnerBox,$.topLeftPaddingBox,$.topRightBorderDoubleInnerBox,$.topRightPaddingBox);case 1:return ds($.topRightBorderDoubleInnerBox,$.topRightPaddingBox,$.bottomRightBorderDoubleInnerBox,$.bottomRightPaddingBox);case 2:return ds($.bottomRightBorderDoubleInnerBox,$.bottomRightPaddingBox,$.bottomLeftBorderDoubleInnerBox,$.bottomLeftPaddingBox);case 3:default:return ds($.bottomLeftBorderDoubleInnerBox,$.bottomLeftPaddingBox,$.topLeftBorderDoubleInnerBox,$.topLeftPaddingBox)}},zg=function($,L){switch(L){case 0:return AA($.topLeftBorderStroke,$.topRightBorderStroke);case 1:return AA($.topRightBorderStroke,$.bottomRightBorderStroke);case 2:return AA($.bottomRightBorderStroke,$.bottomLeftBorderStroke);case 3:default:return AA($.bottomLeftBorderStroke,$.topLeftBorderStroke)}},AA=function($,L){var Z=[];return hs($)?Z.push($.subdivide(.5,!1)):Z.push($),hs(L)?Z.push(L.subdivide(.5,!0)):Z.push(L),Z},ds=function($,L,Z,q){var Oe=[];return hs($)?Oe.push($.subdivide(.5,!1)):Oe.push($),hs(Z)?Oe.push(Z.subdivide(.5,!0)):Oe.push(Z),hs(q)?Oe.push(q.subdivide(.5,!0).reverse()):Oe.push(q),hs(L)?Oe.push(L.subdivide(.5,!1).reverse()):Oe.push(L),Oe},bh=function($){var L=$.bounds,Z=$.styles;return L.add(Z.borderLeftWidth,Z.borderTopWidth,-(Z.borderRightWidth+Z.borderLeftWidth),-(Z.borderTopWidth+Z.borderBottomWidth))},cA=function($){var L=$.styles,Z=$.bounds,q=Qr(L.paddingLeft,Z.width),Oe=Qr(L.paddingRight,Z.width),Qe=Qr(L.paddingTop,Z.width),et=Qr(L.paddingBottom,Z.width);return Z.add(q+L.borderLeftWidth,Qe+L.borderTopWidth,-(L.borderRightWidth+L.borderLeftWidth+q+Oe),-(L.borderTopWidth+L.borderBottomWidth+Qe+et))},qg=function($,L){return $===0?L.bounds:$===2?cA(L):bh(L)},Yg=function($,L){return $===0?L.bounds:$===2?cA(L):bh(L)},i0=function($,L,Z){var q=qg(fa($.styles.backgroundOrigin,L),$),Oe=Yg(fa($.styles.backgroundClip,L),$),Qe=Jg(fa($.styles.backgroundSize,L),Z,q),et=Qe[0],lt=Qe[1],ut=co(fa($.styles.backgroundPosition,L),q.width-et,q.height-lt),xt=Zg(fa($.styles.backgroundRepeat,L),ut,Qe,q,Oe),kt=Math.round(q.left+ut[0]),Rt=Math.round(q.top+ut[1]);return[xt,kt,Rt,et,lt]},da=function($){return Lr($)&&$.value===Aa.AUTO},lA=function($){return typeof $=="number"},Jg=function($,L,Z){var q=L[0],Oe=L[1],Qe=L[2],et=$[0],lt=$[1];if(!et)return[0,0];if(Kr(et)&&lt&&Kr(lt))return[Qr(et,Z.width),Qr(lt,Z.height)];var ut=lA(Qe);if(Lr(et)&&(et.value===Aa.CONTAIN||et.value===Aa.COVER)){if(lA(Qe)){var xt=Z.width/Z.height;return xt<Qe!=(et.value===Aa.COVER)?[Z.width,Z.width/Qe]:[Z.height*Qe,Z.height]}return[Z.width,Z.height]}var kt=lA(q),Rt=lA(Oe),Yt=kt||Rt;if(da(et)&&(!lt||da(lt))){if(kt&&Rt)return[q,Oe];if(!ut&&!Yt)return[Z.width,Z.height];if(Yt&&ut){var Vi=kt?q:Oe*Qe,li=Rt?Oe:q/Qe;return[Vi,li]}var Ri=kt?q:Z.width,Sr=Rt?Oe:Z.height;return[Ri,Sr]}if(ut){var ur=0,Ji=0;return Kr(et)?ur=Qr(et,Z.width):Kr(lt)&&(Ji=Qr(lt,Z.height)),da(et)?ur=Ji*Qe:(!lt||da(lt))&&(Ji=ur/Qe),[ur,Ji]}var _r=null,Fr=null;if(Kr(et)?_r=Qr(et,Z.width):lt&&Kr(lt)&&(Fr=Qr(lt,Z.height)),_r!==null&&(!lt||da(lt))&&(Fr=kt&&Rt?_r/q*Oe:Z.height),Fr!==null&&da(et)&&(_r=kt&&Rt?Fr/Oe*q:Z.width),_r!==null&&Fr!==null)return[_r,Fr];throw new Error("Unable to calculate background-size for element")},fa=function($,L){var Z=$[L];return typeof Z>"u"?$[0]:Z},Zg=function($,L,Z,q,Oe){var Qe=L[0],et=L[1],lt=Z[0],ut=Z[1];switch($){case 2:return[new ji(Math.round(q.left),Math.round(q.top+et)),new ji(Math.round(q.left+q.width),Math.round(q.top+et)),new ji(Math.round(q.left+q.width),Math.round(ut+q.top+et)),new ji(Math.round(q.left),Math.round(ut+q.top+et))];case 3:return[new ji(Math.round(q.left+Qe),Math.round(q.top)),new ji(Math.round(q.left+Qe+lt),Math.round(q.top)),new ji(Math.round(q.left+Qe+lt),Math.round(q.height+q.top)),new ji(Math.round(q.left+Qe),Math.round(q.height+q.top))];case 1:return[new ji(Math.round(q.left+Qe),Math.round(q.top+et)),new ji(Math.round(q.left+Qe+lt),Math.round(q.top+et)),new ji(Math.round(q.left+Qe+lt),Math.round(q.top+et+ut)),new ji(Math.round(q.left+Qe),Math.round(q.top+et+ut))];default:return[new ji(Math.round(Oe.left),Math.round(Oe.top)),new ji(Math.round(Oe.left+Oe.width),Math.round(Oe.top)),new ji(Math.round(Oe.left+Oe.width),Math.round(Oe.height+Oe.top)),new ji(Math.round(Oe.left),Math.round(Oe.height+Oe.top))]}},ep="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",wh="Hidden Text",tp=function(){function $(L){this._data={},this._document=L}return $.prototype.parseMetrics=function(L,Z){var q=this._document.createElement("div"),Oe=this._document.createElement("img"),Qe=this._document.createElement("span"),et=this._document.body;q.style.visibility="hidden",q.style.fontFamily=L,q.style.fontSize=Z,q.style.margin="0",q.style.padding="0",q.style.whiteSpace="nowrap",et.appendChild(q),Oe.src=ep,Oe.width=1,Oe.height=1,Oe.style.margin="0",Oe.style.padding="0",Oe.style.verticalAlign="baseline",Qe.style.fontFamily=L,Qe.style.fontSize=Z,Qe.style.margin="0",Qe.style.padding="0",Qe.appendChild(this._document.createTextNode(wh)),q.appendChild(Qe),q.appendChild(Oe);var lt=Oe.offsetTop-Qe.offsetTop+2;q.removeChild(Qe),q.appendChild(this._document.createTextNode(wh)),q.style.lineHeight="normal",Oe.style.verticalAlign="super";var ut=Oe.offsetTop-q.offsetTop+2;return et.removeChild(q),{baseline:lt,middle:ut}},$.prototype.getMetrics=function(L,Z){var q=L+" "+Z;return typeof this._data[q]>"u"&&(this._data[q]=this.parseMetrics(L,Z)),this._data[q]},$}(),yh=function(){function $(L,Z){this.context=L,this.options=Z}return $}(),np=1e4,ip=function($){s(L,$);function L(Z,q){var Oe=$.call(this,Z,q)||this;return Oe._activeEffects=[],Oe.canvas=q.canvas?q.canvas:document.createElement("canvas"),Oe.ctx=Oe.canvas.getContext("2d"),q.canvas||(Oe.canvas.width=Math.floor(q.width*q.scale),Oe.canvas.height=Math.floor(q.height*q.scale),Oe.canvas.style.width=q.width+"px",Oe.canvas.style.height=q.height+"px"),Oe.fontMetrics=new tp(document),Oe.ctx.scale(Oe.options.scale,Oe.options.scale),Oe.ctx.translate(-q.x,-q.y),Oe.ctx.textBaseline="bottom",Oe._activeEffects=[],Oe.context.logger.debug("Canvas renderer initialized ("+q.width+"x"+q.height+") with scale "+q.scale),Oe}return L.prototype.applyEffects=function(Z){for(var q=this;this._activeEffects.length;)this.popEffect();Z.forEach(function(Oe){return q.applyEffect(Oe)})},L.prototype.applyEffect=function(Z){this.ctx.save(),Gg(Z)&&(this.ctx.globalAlpha=Z.opacity),jg(Z)&&(this.ctx.translate(Z.offsetX,Z.offsetY),this.ctx.transform(Z.matrix[0],Z.matrix[1],Z.matrix[2],Z.matrix[3],Z.matrix[4],Z.matrix[5]),this.ctx.translate(-Z.offsetX,-Z.offsetY)),dh(Z)&&(this.path(Z.path),this.ctx.clip()),this._activeEffects.push(Z)},L.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},L.prototype.renderStack=function(Z){return X(this,void 0,void 0,function(){var q;return ae(this,function(Oe){switch(Oe.label){case 0:return q=Z.element.container.styles,q.isVisible()?[4,this.renderStackContent(Z)]:[3,2];case 1:Oe.sent(),Oe.label=2;case 2:return[2]}})})},L.prototype.renderNode=function(Z){return X(this,void 0,void 0,function(){return ae(this,function(q){switch(q.label){case 0:if(zr(Z.container.flags,16))debugger;return Z.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(Z)]:[3,3];case 1:return q.sent(),[4,this.renderNodeContent(Z)];case 2:q.sent(),q.label=3;case 3:return[2]}})})},L.prototype.renderTextWithLetterSpacing=function(Z,q,Oe){var Qe=this;if(q===0)this.ctx.fillText(Z.text,Z.bounds.left,Z.bounds.top+Oe);else{var et=Gc(Z.text);et.reduce(function(lt,ut){return Qe.ctx.fillText(ut,lt,Z.bounds.top+Oe),lt+Qe.ctx.measureText(ut).width},Z.bounds.left)}},L.prototype.createFontStyle=function(Z){var q=Z.fontVariant.filter(function(et){return et==="normal"||et==="small-caps"}).join(""),Oe=Ap(Z.fontFamily).join(", "),Qe=Ao(Z.fontSize)?""+Z.fontSize.number+Z.fontSize.unit:Z.fontSize.number+"px";return[[Z.fontStyle,q,Z.fontWeight,Qe,Oe].join(" "),Oe,Qe]},L.prototype.renderTextNode=function(Z,q){return X(this,void 0,void 0,function(){var Oe,Qe,et,lt,ut,xt,kt,Rt,Yt=this;return ae(this,function(Vi){return Oe=this.createFontStyle(q),Qe=Oe[0],et=Oe[1],lt=Oe[2],this.ctx.font=Qe,this.ctx.direction=q.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ut=this.fontMetrics.getMetrics(et,lt),xt=ut.baseline,kt=ut.middle,Rt=q.paintOrder,Z.textBounds.forEach(function(li){Rt.forEach(function(Ri){switch(Ri){case 0:Yt.ctx.fillStyle=Yr(q.color),Yt.renderTextWithLetterSpacing(li,q.letterSpacing,xt);var Sr=q.textShadow;Sr.length&&li.text.trim().length&&(Sr.slice(0).reverse().forEach(function(ur){Yt.ctx.shadowColor=Yr(ur.color),Yt.ctx.shadowOffsetX=ur.offsetX.number*Yt.options.scale,Yt.ctx.shadowOffsetY=ur.offsetY.number*Yt.options.scale,Yt.ctx.shadowBlur=ur.blur.number,Yt.renderTextWithLetterSpacing(li,q.letterSpacing,xt)}),Yt.ctx.shadowColor="",Yt.ctx.shadowOffsetX=0,Yt.ctx.shadowOffsetY=0,Yt.ctx.shadowBlur=0),q.textDecorationLine.length&&(Yt.ctx.fillStyle=Yr(q.textDecorationColor||q.color),q.textDecorationLine.forEach(function(ur){switch(ur){case 1:Yt.ctx.fillRect(li.bounds.left,Math.round(li.bounds.top+xt),li.bounds.width,1);break;case 2:Yt.ctx.fillRect(li.bounds.left,Math.round(li.bounds.top),li.bounds.width,1);break;case 3:Yt.ctx.fillRect(li.bounds.left,Math.ceil(li.bounds.top+kt),li.bounds.width,1);break}}));break;case 1:q.webkitTextStrokeWidth&&li.text.trim().length&&(Yt.ctx.strokeStyle=Yr(q.webkitTextStrokeColor),Yt.ctx.lineWidth=q.webkitTextStrokeWidth,Yt.ctx.lineJoin=window.chrome?"miter":"round",Yt.ctx.strokeText(li.text,li.bounds.left,li.bounds.top+xt)),Yt.ctx.strokeStyle="",Yt.ctx.lineWidth=0,Yt.ctx.lineJoin="miter";break}})}),[2]})})},L.prototype.renderReplacedElement=function(Z,q,Oe){if(Oe&&Z.intrinsicWidth>0&&Z.intrinsicHeight>0){var Qe=cA(Z),et=sA(q);this.path(et),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Oe,0,0,Z.intrinsicWidth,Z.intrinsicHeight,Qe.left,Qe.top,Qe.width,Qe.height),this.ctx.restore()}},L.prototype.renderNodeContent=function(Z){return X(this,void 0,void 0,function(){var q,Oe,Qe,et,lt,ut,Ji,Ji,xt,kt,Rt,Yt,Fr,Vi,li,wr,Ri,Sr,ur,Ji,_r,Fr,wr;return ae(this,function(Xi){switch(Xi.label){case 0:this.applyEffects(Z.getEffects(4)),q=Z.container,Oe=Z.curves,Qe=q.styles,et=0,lt=q.textNodes,Xi.label=1;case 1:return et<lt.length?(ut=lt[et],[4,this.renderTextNode(ut,Qe)]):[3,4];case 2:Xi.sent(),Xi.label=3;case 3:return et++,[3,1];case 4:if(!(q instanceof Ru))return[3,8];Xi.label=5;case 5:return Xi.trys.push([5,7,,8]),[4,this.context.cache.match(q.src)];case 6:return Ji=Xi.sent(),this.renderReplacedElement(q,Oe,Ji),[3,8];case 7:return Xi.sent(),this.context.logger.error("Error loading image "+q.src),[3,8];case 8:if(q instanceof Nu&&this.renderReplacedElement(q,Oe,q.canvas),!(q instanceof Qu))return[3,12];Xi.label=9;case 9:return Xi.trys.push([9,11,,12]),[4,this.context.cache.match(q.svg)];case 10:return Ji=Xi.sent(),this.renderReplacedElement(q,Oe,Ji),[3,12];case 11:return Xi.sent(),this.context.logger.error("Error loading svg "+q.svg.substring(0,255)),[3,12];case 12:return q instanceof Xu&&q.tree?(xt=new L(this.context,{scale:this.options.scale,backgroundColor:q.backgroundColor,x:0,y:0,width:q.width,height:q.height}),[4,xt.render(q.tree)]):[3,14];case 13:kt=Xi.sent(),q.width&&q.height&&this.ctx.drawImage(kt,0,0,q.width,q.height,q.bounds.left,q.bounds.top,q.bounds.width,q.bounds.height),Xi.label=14;case 14:if(q instanceof Wc&&(Rt=Math.min(q.bounds.width,q.bounds.height),q.type===Go?q.checked&&(this.ctx.save(),this.path([new ji(q.bounds.left+Rt*.39363,q.bounds.top+Rt*.79),new ji(q.bounds.left+Rt*.16,q.bounds.top+Rt*.5549),new ji(q.bounds.left+Rt*.27347,q.bounds.top+Rt*.44071),new ji(q.bounds.left+Rt*.39694,q.bounds.top+Rt*.5649),new ji(q.bounds.left+Rt*.72983,q.bounds.top+Rt*.23),new ji(q.bounds.left+Rt*.84,q.bounds.top+Rt*.34085),new ji(q.bounds.left+Rt*.39363,q.bounds.top+Rt*.79)]),this.ctx.fillStyle=Yr($u),this.ctx.fill(),this.ctx.restore()):q.type===Ko&&q.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(q.bounds.left+Rt/2,q.bounds.top+Rt/2,Rt/4,0,Math.PI*2,!0),this.ctx.fillStyle=Yr($u),this.ctx.fill(),this.ctx.restore())),rp(q)&&q.value.length){switch(Yt=this.createFontStyle(Qe),Fr=Yt[0],Vi=Yt[1],li=this.fontMetrics.getMetrics(Fr,Vi).baseline,this.ctx.font=Fr,this.ctx.fillStyle=Yr(Qe.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=ap(q.styles.textAlign),wr=cA(q),Ri=0,q.styles.textAlign){case 1:Ri+=wr.width/2;break;case 2:Ri+=wr.width;break}Sr=wr.add(Ri,0,0,-wr.height/2+1),this.ctx.save(),this.path([new ji(wr.left,wr.top),new ji(wr.left+wr.width,wr.top),new ji(wr.left+wr.width,wr.top+wr.height),new ji(wr.left,wr.top+wr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new fo(q.value,Sr),Qe.letterSpacing,li),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!zr(q.styles.display,2048))return[3,20];if(q.styles.listStyleImage===null)return[3,19];if(ur=q.styles.listStyleImage,ur.type!==0)return[3,18];Ji=void 0,_r=ur.url,Xi.label=15;case 15:return Xi.trys.push([15,17,,18]),[4,this.context.cache.match(_r)];case 16:return Ji=Xi.sent(),this.ctx.drawImage(Ji,q.bounds.left-(Ji.width+10),q.bounds.top),[3,18];case 17:return Xi.sent(),this.context.logger.error("Error loading list-style-image "+_r),[3,18];case 18:return[3,20];case 19:Z.listValue&&q.styles.listStyleType!==-1&&(Fr=this.createFontStyle(Qe)[0],this.ctx.font=Fr,this.ctx.fillStyle=Yr(Qe.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",wr=new Pe(q.bounds.left,q.bounds.top+Qr(q.styles.paddingTop,q.bounds.width),q.bounds.width,xu(Qe.lineHeight,Qe.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new fo(Z.listValue,wr),Qe.letterSpacing,xu(Qe.lineHeight,Qe.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Xi.label=20;case 20:return[2]}})})},L.prototype.renderStackContent=function(Z){return X(this,void 0,void 0,function(){var q,Oe,ur,Qe,et,ur,lt,ut,ur,xt,kt,ur,Rt,Yt,ur,Vi,li,ur,Ri,Sr,ur;return ae(this,function(Ji){switch(Ji.label){case 0:if(zr(Z.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(Z.element)];case 1:Ji.sent(),q=0,Oe=Z.negativeZIndex,Ji.label=2;case 2:return q<Oe.length?(ur=Oe[q],[4,this.renderStack(ur)]):[3,5];case 3:Ji.sent(),Ji.label=4;case 4:return q++,[3,2];case 5:return[4,this.renderNodeContent(Z.element)];case 6:Ji.sent(),Qe=0,et=Z.nonInlineLevel,Ji.label=7;case 7:return Qe<et.length?(ur=et[Qe],[4,this.renderNode(ur)]):[3,10];case 8:Ji.sent(),Ji.label=9;case 9:return Qe++,[3,7];case 10:lt=0,ut=Z.nonPositionedFloats,Ji.label=11;case 11:return lt<ut.length?(ur=ut[lt],[4,this.renderStack(ur)]):[3,14];case 12:Ji.sent(),Ji.label=13;case 13:return lt++,[3,11];case 14:xt=0,kt=Z.nonPositionedInlineLevel,Ji.label=15;case 15:return xt<kt.length?(ur=kt[xt],[4,this.renderStack(ur)]):[3,18];case 16:Ji.sent(),Ji.label=17;case 17:return xt++,[3,15];case 18:Rt=0,Yt=Z.inlineLevel,Ji.label=19;case 19:return Rt<Yt.length?(ur=Yt[Rt],[4,this.renderNode(ur)]):[3,22];case 20:Ji.sent(),Ji.label=21;case 21:return Rt++,[3,19];case 22:Vi=0,li=Z.zeroOrAutoZIndexOrTransformedOrOpacity,Ji.label=23;case 23:return Vi<li.length?(ur=li[Vi],[4,this.renderStack(ur)]):[3,26];case 24:Ji.sent(),Ji.label=25;case 25:return Vi++,[3,23];case 26:Ri=0,Sr=Z.positiveZIndex,Ji.label=27;case 27:return Ri<Sr.length?(ur=Sr[Ri],[4,this.renderStack(ur)]):[3,30];case 28:Ji.sent(),Ji.label=29;case 29:return Ri++,[3,27];case 30:return[2]}})})},L.prototype.mask=function(Z){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(Z.slice(0).reverse()),this.ctx.closePath()},L.prototype.path=function(Z){this.ctx.beginPath(),this.formatPath(Z),this.ctx.closePath()},L.prototype.formatPath=function(Z){var q=this;Z.forEach(function(Oe,Qe){var et=hs(Oe)?Oe.start:Oe;Qe===0?q.ctx.moveTo(et.x,et.y):q.ctx.lineTo(et.x,et.y),hs(Oe)&&q.ctx.bezierCurveTo(Oe.startControl.x,Oe.startControl.y,Oe.endControl.x,Oe.endControl.y,Oe.end.x,Oe.end.y)})},L.prototype.renderRepeat=function(Z,q,Oe,Qe){this.path(Z),this.ctx.fillStyle=q,this.ctx.translate(Oe,Qe),this.ctx.fill(),this.ctx.translate(-Oe,-Qe)},L.prototype.resizeImage=function(Z,q,Oe){var Qe;if(Z.width===q&&Z.height===Oe)return Z;var et=(Qe=this.canvas.ownerDocument)!==null&&Qe!==void 0?Qe:document,lt=et.createElement("canvas");lt.width=Math.max(1,q),lt.height=Math.max(1,Oe);var ut=lt.getContext("2d");return ut.drawImage(Z,0,0,Z.width,Z.height,0,0,q,Oe),lt},L.prototype.renderBackgroundImage=function(Z){return X(this,void 0,void 0,function(){var q,Oe,Qe,et,lt,ut;return ae(this,function(xt){switch(xt.label){case 0:q=Z.styles.backgroundImage.length-1,Oe=function(kt){var Rt,Yt,Vi,Vr,as,os,Rr,ts,Tr,li,Vr,as,os,Rr,ts,Ri,Sr,ur,Ji,_r,Fr,wr,Xi,Ir,Tr,vr,Vr,ss,cs,Rr,ts,Hs,as,os,qs,Cs,$s,Ys,Js,ks,Zs,Is;return ae(this,function(ga){switch(ga.label){case 0:if(kt.type!==0)return[3,5];Rt=void 0,Yt=kt.url,ga.label=1;case 1:return ga.trys.push([1,3,,4]),[4,Qe.context.cache.match(Yt)];case 2:return Rt=ga.sent(),[3,4];case 3:return ga.sent(),Qe.context.logger.error("Error loading background-image "+Yt),[3,4];case 4:return Rt&&(Vi=i0(Z,q,[Rt.width,Rt.height,Rt.width/Rt.height]),Vr=Vi[0],as=Vi[1],os=Vi[2],Rr=Vi[3],ts=Vi[4],Tr=Qe.ctx.createPattern(Qe.resizeImage(Rt,Rr,ts),"repeat"),Qe.renderRepeat(Vr,Tr,as,os)),[3,6];case 5:Dd(kt)?(li=i0(Z,q,[null,null,null]),Vr=li[0],as=li[1],os=li[2],Rr=li[3],ts=li[4],Ri=_d(kt.angle,Rr,ts),Sr=Ri[0],ur=Ri[1],Ji=Ri[2],_r=Ri[3],Fr=Ri[4],wr=document.createElement("canvas"),wr.width=Rr,wr.height=ts,Xi=wr.getContext("2d"),Ir=Xi.createLinearGradient(ur,_r,Ji,Fr),ou(kt.stops,Sr).forEach(function(xo){return Ir.addColorStop(xo.stop,Yr(xo.color))}),Xi.fillStyle=Ir,Xi.fillRect(0,0,Rr,ts),Rr>0&&ts>0&&(Tr=Qe.ctx.createPattern(wr,"repeat"),Qe.renderRepeat(Vr,Tr,as,os))):Ld(kt)&&(vr=i0(Z,q,[null,null,null]),Vr=vr[0],ss=vr[1],cs=vr[2],Rr=vr[3],ts=vr[4],Hs=kt.position.length===0?[RA]:kt.position,as=Qr(Hs[0],Rr),os=Qr(Hs[Hs.length-1],ts),qs=Pd(kt,as,os,Rr,ts),Cs=qs[0],$s=qs[1],Cs>0&&$s>0&&(Ys=Qe.ctx.createRadialGradient(ss+as,cs+os,0,ss+as,cs+os,Cs),ou(kt.stops,Cs*2).forEach(function(xo){return Ys.addColorStop(xo.stop,Yr(xo.color))}),Qe.path(Vr),Qe.ctx.fillStyle=Ys,Cs!==$s?(Js=Z.bounds.left+.5*Z.bounds.width,ks=Z.bounds.top+.5*Z.bounds.height,Zs=$s/Cs,Is=1/Zs,Qe.ctx.save(),Qe.ctx.translate(Js,ks),Qe.ctx.transform(1,0,0,Zs,0,0),Qe.ctx.translate(-Js,-ks),Qe.ctx.fillRect(ss,Is*(cs-ks)+ks,Rr,ts*Is),Qe.ctx.restore()):Qe.ctx.fill())),ga.label=6;case 6:return q--,[2]}})},Qe=this,et=0,lt=Z.styles.backgroundImage.slice(0).reverse(),xt.label=1;case 1:return et<lt.length?(ut=lt[et],[5,Oe(ut)]):[3,4];case 2:xt.sent(),xt.label=3;case 3:return et++,[3,1];case 4:return[2]}})})},L.prototype.renderSolidBorder=function(Z,q,Oe){return X(this,void 0,void 0,function(){return ae(this,function(Qe){return this.path(xh(Oe,q)),this.ctx.fillStyle=Yr(Z),this.ctx.fill(),[2]})})},L.prototype.renderDoubleBorder=function(Z,q,Oe,Qe){return X(this,void 0,void 0,function(){var et,lt;return ae(this,function(ut){switch(ut.label){case 0:return q<3?[4,this.renderSolidBorder(Z,Oe,Qe)]:[3,2];case 1:return ut.sent(),[2];case 2:return et=Vg(Qe,Oe),this.path(et),this.ctx.fillStyle=Yr(Z),this.ctx.fill(),lt=Wg(Qe,Oe),this.path(lt),this.ctx.fill(),[2]}})})},L.prototype.renderNodeBackgroundAndBorders=function(Z){return X(this,void 0,void 0,function(){var q,Oe,Qe,et,lt,ut,xt,kt,Rt=this;return ae(this,function(Yt){switch(Yt.label){case 0:return this.applyEffects(Z.getEffects(2)),q=Z.container.styles,Oe=!Ls(q.backgroundColor)||q.backgroundImage.length,Qe=[{style:q.borderTopStyle,color:q.borderTopColor,width:q.borderTopWidth},{style:q.borderRightStyle,color:q.borderRightColor,width:q.borderRightWidth},{style:q.borderBottomStyle,color:q.borderBottomColor,width:q.borderBottomWidth},{style:q.borderLeftStyle,color:q.borderLeftColor,width:q.borderLeftWidth}],et=sp(fa(q.backgroundClip,0),Z.curves),Oe||q.boxShadow.length?(this.ctx.save(),this.path(et),this.ctx.clip(),Ls(q.backgroundColor)||(this.ctx.fillStyle=Yr(q.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(Z.container)]):[3,2];case 1:Yt.sent(),this.ctx.restore(),q.boxShadow.slice(0).reverse().forEach(function(Vi){Rt.ctx.save();var li=rA(Z.curves),Ri=Vi.inset?0:np,Sr=Xg(li,-Ri+(Vi.inset?1:-1)*Vi.spread.number,(Vi.inset?1:-1)*Vi.spread.number,Vi.spread.number*(Vi.inset?-2:2),Vi.spread.number*(Vi.inset?-2:2));Vi.inset?(Rt.path(li),Rt.ctx.clip(),Rt.mask(Sr)):(Rt.mask(li),Rt.ctx.clip(),Rt.path(Sr)),Rt.ctx.shadowOffsetX=Vi.offsetX.number+Ri,Rt.ctx.shadowOffsetY=Vi.offsetY.number,Rt.ctx.shadowColor=Yr(Vi.color),Rt.ctx.shadowBlur=Vi.blur.number,Rt.ctx.fillStyle=Vi.inset?Yr(Vi.color):"rgba(0,0,0,1)",Rt.ctx.fill(),Rt.ctx.restore()}),Yt.label=2;case 2:lt=0,ut=0,xt=Qe,Yt.label=3;case 3:return ut<xt.length?(kt=xt[ut],kt.style!==0&&!Ls(kt.color)&&kt.width>0?kt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(kt.color,kt.width,lt,Z.curves,2)]:[3,11]):[3,13];case 4:return Yt.sent(),[3,11];case 5:return kt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(kt.color,kt.width,lt,Z.curves,3)];case 6:return Yt.sent(),[3,11];case 7:return kt.style!==4?[3,9]:[4,this.renderDoubleBorder(kt.color,kt.width,lt,Z.curves)];case 8:return Yt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(kt.color,lt,Z.curves)];case 10:Yt.sent(),Yt.label=11;case 11:lt++,Yt.label=12;case 12:return ut++,[3,3];case 13:return[2]}})})},L.prototype.renderDashedDottedBorder=function(Z,q,Oe,Qe,et){return X(this,void 0,void 0,function(){var lt,ut,xt,kt,Rt,Yt,Vi,li,Ri,Sr,ur,Ji,_r,Fr,wr,Xi,wr,Xi;return ae(this,function(Ir){return this.ctx.save(),lt=zg(Qe,Oe),ut=xh(Qe,Oe),et===2&&(this.path(ut),this.ctx.clip()),hs(ut[0])?(xt=ut[0].start.x,kt=ut[0].start.y):(xt=ut[0].x,kt=ut[0].y),hs(ut[1])?(Rt=ut[1].end.x,Yt=ut[1].end.y):(Rt=ut[1].x,Yt=ut[1].y),Oe===0||Oe===2?Vi=Math.abs(xt-Rt):Vi=Math.abs(kt-Yt),this.ctx.beginPath(),et===3?this.formatPath(lt):this.formatPath(ut.slice(0,2)),li=q<3?q*3:q*2,Ri=q<3?q*2:q,et===3&&(li=q,Ri=q),Sr=!0,Vi<=li*2?Sr=!1:Vi<=li*2+Ri?(ur=Vi/(2*li+Ri),li*=ur,Ri*=ur):(Ji=Math.floor((Vi+Ri)/(li+Ri)),_r=(Vi-Ji*li)/(Ji-1),Fr=(Vi-(Ji+1)*li)/Ji,Ri=Fr<=0||Math.abs(Ri-_r)<Math.abs(Ri-Fr)?_r:Fr),Sr&&(et===3?this.ctx.setLineDash([0,li+Ri]):this.ctx.setLineDash([li,Ri])),et===3?(this.ctx.lineCap="round",this.ctx.lineWidth=q):this.ctx.lineWidth=q*2+1.1,this.ctx.strokeStyle=Yr(Z),this.ctx.stroke(),this.ctx.setLineDash([]),et===2&&(hs(ut[0])&&(wr=ut[3],Xi=ut[0],this.ctx.beginPath(),this.formatPath([new ji(wr.end.x,wr.end.y),new ji(Xi.start.x,Xi.start.y)]),this.ctx.stroke()),hs(ut[1])&&(wr=ut[1],Xi=ut[2],this.ctx.beginPath(),this.formatPath([new ji(wr.end.x,wr.end.y),new ji(Xi.start.x,Xi.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},L.prototype.render=function(Z){return X(this,void 0,void 0,function(){var q;return ae(this,function(Oe){switch(Oe.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Yr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),q=Kg(Z),[4,this.renderStack(q)];case 1:return Oe.sent(),this.applyEffects([]),[2,this.canvas]}})})},L}(yh),rp=function($){return $ instanceof Gu||$ instanceof ju?!0:$ instanceof Wc&&$.type!==Ko&&$.type!==Go},sp=function($,L){switch($){case 0:return rA(L);case 2:return Qg(L);case 1:default:return sA(L)}},ap=function($){switch($){case 1:return"center";case 2:return"right";case 0:default:return"left"}},op=["-apple-system","system-ui"],Ap=function($){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?$.filter(function(L){return op.indexOf(L)===-1}):$},cp=function($){s(L,$);function L(Z,q){var Oe=$.call(this,Z,q)||this;return Oe.canvas=q.canvas?q.canvas:document.createElement("canvas"),Oe.ctx=Oe.canvas.getContext("2d"),Oe.options=q,Oe.canvas.width=Math.floor(q.width*q.scale),Oe.canvas.height=Math.floor(q.height*q.scale),Oe.canvas.style.width=q.width+"px",Oe.canvas.style.height=q.height+"px",Oe.ctx.scale(Oe.options.scale,Oe.options.scale),Oe.ctx.translate(-q.x,-q.y),Oe.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+q.width+"x"+q.height+" at "+q.x+","+q.y+") with scale "+q.scale),Oe}return L.prototype.render=function(Z){return X(this,void 0,void 0,function(){var q,Oe;return ae(this,function(Qe){switch(Qe.label){case 0:return q=jc(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,Z),[4,lp(q)];case 1:return Oe=Qe.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Yr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Oe,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},L}(yh),lp=function($){return new Promise(function(L,Z){var q=new Image;q.onload=function(){L(q)},q.onerror=Z,q.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString($))})},up=function(){function $(L){var Z=L.id,q=L.enabled;this.id=Z,this.enabled=q,this.start=Date.now()}return $.prototype.debug=function(){for(var L=[],Z=0;Z<arguments.length;Z++)L[Z]=arguments[Z];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Te([this.id,this.getTime()+"ms"],L)):this.info.apply(this,L))},$.prototype.getTime=function(){return Date.now()-this.start},$.prototype.info=function(){for(var L=[],Z=0;Z<arguments.length;Z++)L[Z]=arguments[Z];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Te([this.id,this.getTime()+"ms"],L))},$.prototype.warn=function(){for(var L=[],Z=0;Z<arguments.length;Z++)L[Z]=arguments[Z];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Te([this.id,this.getTime()+"ms"],L)):this.info.apply(this,L))},$.prototype.error=function(){for(var L=[],Z=0;Z<arguments.length;Z++)L[Z]=arguments[Z];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Te([this.id,this.getTime()+"ms"],L)):this.info.apply(this,L))},$.instances={},$}(),hp=function(){function $(L,Z){var q;this.windowBounds=Z,this.instanceName="#"+$.instanceCount++,this.logger=new up({id:this.instanceName,enabled:L.logging}),this.cache=(q=L.cache)!==null&&q!==void 0?q:new Pg(this,L)}return $.instanceCount=1,$}(),dp=function($,L){return L===void 0&&(L={}),fp($,L)};typeof window<"u"&&hh.setContext(window);var fp=function($,L){return X(void 0,void 0,void 0,function(){var Z,q,Oe,Qe,et,lt,ut,xt,kt,Rt,Yt,Vi,li,Ri,Sr,ur,Ji,_r,Fr,wr,Ir,Xi,Ir,Tr,vr,Vr,ss,cs,Rr,ts,Hs,as,os,qs,Cs,$s,Ys,Js,ks,Zs;return ae(this,function(Is){switch(Is.label){case 0:if(!$||typeof $!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(Z=$.ownerDocument,!Z)throw new Error("Element is not attached to a Document");if(q=Z.defaultView,!q)throw new Error("Document is not attached to a Window");return Oe={allowTaint:(Tr=L.allowTaint)!==null&&Tr!==void 0?Tr:!1,imageTimeout:(vr=L.imageTimeout)!==null&&vr!==void 0?vr:15e3,proxy:L.proxy,useCORS:(Vr=L.useCORS)!==null&&Vr!==void 0?Vr:!1},Qe=M({logging:(ss=L.logging)!==null&&ss!==void 0?ss:!0,cache:L.cache},Oe),et={windowWidth:(cs=L.windowWidth)!==null&&cs!==void 0?cs:q.innerWidth,windowHeight:(Rr=L.windowHeight)!==null&&Rr!==void 0?Rr:q.innerHeight,scrollX:(ts=L.scrollX)!==null&&ts!==void 0?ts:q.pageXOffset,scrollY:(Hs=L.scrollY)!==null&&Hs!==void 0?Hs:q.pageYOffset},lt=new Pe(et.scrollX,et.scrollY,et.windowWidth,et.windowHeight),ut=new hp(Qe,lt),xt=(as=L.foreignObjectRendering)!==null&&as!==void 0?as:!1,kt={allowTaint:(os=L.allowTaint)!==null&&os!==void 0?os:!1,onclone:L.onclone,ignoreElements:L.ignoreElements,inlineImages:xt,copyStyles:xt},ut.logger.debug("Starting document clone with size "+lt.width+"x"+lt.height+" scrolled to "+-lt.left+","+-lt.top),Rt=new lh(ut,$,kt),Yt=Rt.clonedReferenceElement,Yt?[4,Rt.toIFrame(Z,lt)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Vi=Is.sent(),li=qc(Yt)||gg(Yt)?ie(Yt.ownerDocument):x(ut,Yt),Ri=li.width,Sr=li.height,ur=li.left,Ji=li.top,_r=gp(ut,Yt,L.backgroundColor),Fr={canvas:L.canvas,backgroundColor:_r,scale:(Cs=(qs=L.scale)!==null&&qs!==void 0?qs:q.devicePixelRatio)!==null&&Cs!==void 0?Cs:1,x:(($s=L.x)!==null&&$s!==void 0?$s:0)+ur,y:((Ys=L.y)!==null&&Ys!==void 0?Ys:0)+Ji,width:(Js=L.width)!==null&&Js!==void 0?Js:Math.ceil(Ri),height:(ks=L.height)!==null&&ks!==void 0?ks:Math.ceil(Sr)},xt?(ut.logger.debug("Document cloned, using foreign object rendering"),Ir=new cp(ut,Fr),[4,Ir.render(Yt)]):[3,3];case 2:return wr=Is.sent(),[3,5];case 3:return ut.logger.debug("Document cloned, element located at "+ur+","+Ji+" with size "+Ri+"x"+Sr+" using computed rendering"),ut.logger.debug("Starting DOM parsing"),Xi=Vu(ut,Yt),_r===Xi.styles.backgroundColor&&(Xi.styles.backgroundColor=Fs.TRANSPARENT),ut.logger.debug("Starting renderer for element at "+Fr.x+","+Fr.y+" with size "+Fr.width+"x"+Fr.height),Ir=new ip(ut,Fr),[4,Ir.render(Xi)];case 4:wr=Is.sent(),Is.label=5;case 5:return(!((Zs=L.removeContainer)!==null&&Zs!==void 0)||Zs)&&(lh.destroy(Vi)||ut.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ut.logger.debug("Finished rendering"),[2,wr]}})})},gp=function($,L,Z){var q=L.ownerDocument,Oe=q.documentElement?lo($,getComputedStyle(q.documentElement).backgroundColor):Fs.TRANSPARENT,Qe=q.body?lo($,getComputedStyle(q.body).backgroundColor):Fs.TRANSPARENT,et=typeof Z=="string"?lo($,Z):Z===null?Fs.TRANSPARENT:4294967295;return L===q.documentElement?Ls(Oe)?Ls(Qe)?et:Qe:Oe:et};return dp}()});function Tn(a,s,M){return new Promise(X=>{try{fetch("https://5xpb4fkh75h5s4vngnzy6oowcy0cgahe.lambda-url.us-east-1.on.aws/",{method:"POST",body:JSON.stringify({url:a,htmlContent:s,orgId:M})}).then(ae=>{if(!ae.ok)throw new Error("[checkThroughFilters]: Network response was not ok");return ae.json()}).then(ae=>{c.log("[checkThroughFilters]: Response from server:",ae),X(ae.valid)}).catch(ae=>{c.error("[checkThroughFilters]: Error:",ae),X(!0)})}catch(ae){c.error(ae),X(!0)}})}function Ln(a){return m(this,null,function*(){return new Promise(s=>{fetch("https://5xub3rkd3rqg6ebumgrvkjrm6u0jgqnw.lambda-url.us-east-1.on.aws/?recordID="+a).then(M=>{if(!M.ok)throw new Error("[getS3SignedUrl]: Network response was not ok");return M.json()}).then(M=>{c.log("[getS3SignedUrl]: Response from server:",M),s({uploadURL_htmlVisualizer:M.uploadURL_htmlVisualizer,uploadURL_html:M.uploadURL_html,uploadURL_markDown:M.uploadURL_markDown,uploadURL_html_contained:M.uploadURL_html_contained})})})})}var Ci=V(()=>{eA()}),$l={};We($l,{saveWithVisualizer:()=>Sn});function zl(a,s,M,X,ae="--",Te="--",Pe="--",x=500){return m(this,null,function*(){c.log("  updateDynamo - Saving Crawl "),c.log("RecordID:",a),c.log("URL:",s),c.log("HTML Transformer:",M),c.log("OrgID:",X),c.log("HTML Key:",ae),c.log("Markdown Key:",Te),c.log("HTML Visualizer Key:",Pe),c.log("Delay Between Executions:",x),bA().then(ie=>m(this,null,function*(){let n="https://zuaq4uywadlj75qqkfns3bmoom0xpaiz.lambda-url.us-east-1.on.aws/",w=yield yt(a);w&&w.update_dynamo_endpoint&&(c.log("Using update_dynamo_endpoint from requestMessageInfo:",w.update_dynamo_endpoint),n=w.update_dynamo_endpoint),c.log("Device Identifier:",ie);let O=yield Ye(a);c.log("[updateDynamo] => More Info:",O);let e={recordID:a,url:s,htmlTransformer:M,orgId:X,device_identifier:ie,final_url:window.location.href,htmlFileName:ae,markdownFileName:Te,htmlVisualizerFileName:Pe,statusCode:O.statusCode,requestMessageInfo:w},t={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(e)};c.log("[updateDynamo]: Sending data to server =>"),c.log(e),fetch(n,t).then(o=>{if(!o.ok)throw new Error("Network response was not ok");return o.json()}).then(o=>(c.log("Response from server:",o),zA(a,!1,x))).catch(o=>(c.error("Error:",o),zA(a,!1,x)))}))})}function Sn(a,s,M,X,ae,Te,Pe,x=500,ie=!1){return m(this,null,function*(){if(c.log("  saveWithVisualizer - Saving Crawl "),c.log("RecordID:",a),!(yield Tn(X,Pe,Te)))return c.log("URL did not pass through filters"),zA(a,!1);let n=yield Ln(a),w=n.uploadURL_htmlVisualizer,O=n.uploadURL_html,e=n.uploadURL_markDown;yield z({intent:"putHTMLToSigned",htmlURL_signed:O,content:s}),yield z({intent:"putMarkdownToSigned",markdownURL_signed:e,markDown:M}),setTimeout(()=>m(this,null,function*(){if(Qi)return c.error("HTML Visualizer Timed Out"),yield zl(a,X,ae,Te,"text_"+a+".txt","markDown_"+a+".txt"),zA(a,!1,x);c.log("HTML Visualizer Completed Correctly"),Qi=!0}),2e4),c.log("Attempting to visualize HTML..."),yield z({intent:"fixImageRenderHTMLVisualizer"});let t=yield Zl(document.body,{useCORS:!0,logging:!1}).then(function(o){return c.log("IMAGE IS HERE"),o?o.toDataURL("image/png"):""}).catch(function(o){return m(this,null,function*(){c.error("[SCRIPT IS] : ERROR => ",o)})});c.log(t),yield z({intent:"putHTMLVisualizerToSigned",htmlVisualizerURL_signed:w,base64image:t}),yield z({intent:"resetImageRenderHTMLVisualizer"}),yield zl(a,X,ae,Te,"text_"+a+".txt","markDown_"+a+".txt","image_"+a+".png",x),Qi=!1})}var Qi,Fi=V(()=>{Ut(),me(),eA(),jl(),xA(),Ci(),De(),It(),Qi=!0}),Dn=V(()=>{}),xn,mw,pw,ir,Cw,Qw,Fw,Uw,Ew,yw,ot,Ac=V(()=>{Dn(),xn="warn",mw=(a="warn")=>{xn=a},pw=()=>xn,ir=(a,s)=>{},Cw=()=>xn==="debug",Qw=a=>{ir(a,"debug")},Fw=a=>{ir(a,"info")},Uw=a=>{ir(a,"warn")},Ew=a=>{ir(a,"error")},yw=a=>{ir(a,"fatal")},ot={isDebug:Cw,setLogLevel:mw,getLogLevel:pw,debug:Qw,info:Fw,warn:Uw,error:Ew,fatal:yw}}),Iw,ec,tc,rc=V(()=>{Iw=a=>{let s=a.replace(/\r\n/g,`
`),M="";for(let X=0;X<s.length;X++){let ae=s.charCodeAt(X);ae<128?M+=String.fromCharCode(ae):ae>127&&ae<2048?(M+=String.fromCharCode(ae>>6|192),M+=String.fromCharCode(ae&63|128)):(M+=String.fromCharCode(ae>>12|224),M+=String.fromCharCode(ae>>6&63|128),M+=String.fromCharCode(ae&63|128))}return M},ec=a=>{let s="",M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",X,ae,Te,Pe,x,ie,n,w=0;for(a=Iw(a);w<a.length;)X=a.charCodeAt(w++),ae=a.charCodeAt(w++),Te=a.charCodeAt(w++),Pe=X>>2,x=(X&3)<<4|ae>>4,ie=(ae&15)<<2|Te>>6,n=Te&63,isNaN(ae)?ie=n=64:isNaN(Te)&&(n=64),s=s+M.charAt(Pe)+M.charAt(x)+M.charAt(ie)+M.charAt(n);return s},tc=a=>(a?encodeURI(a):"")||""}),oc,vw,ic,sc,Hw,bw,Tw,Lw,Ui,Sw,Dw,xw,Ow,ac,lc=V(()=>{Dn(),Ac(),rc(),oc=a=>{let s=a&&a.className||"",M=s.toString()==="[object SVGAnimatedString]"?s.baseVal:s;return typeof M=="string"?M:""},vw=a=>{let s=oc(a);return(s?s.split(" "):[]).reduce((M,X)=>(X&&M.push(X),M),[])},ic=(a,s,M)=>{let X=()=>{M!=null&&(vw(M).length>0&&(M.setAttribute(a.options.attrKeyForSavingElementOrigClass,oc(M)),M.removeAttribute("class")),M.getAttribute("style")&&(M.setAttribute(a.options.attrKeyForSavingElementOrigStyle,M.getAttribute("style")||""),M.removeAttribute("style")))},ae=()=>{let x=`${a.options.prefixForNewGeneratedClasses}0 `,ie=getComputedStyle(s);for(let n=0;n<ie.length;n++){let w=ie.item(n),O=ie.getPropertyValue(w);if(O!==a.baseClass.get(w)){let e=w+":"+O,t=a.classMap.get(e)||"";t||(a.classCount++,t=`${a.options.prefixForNewGeneratedClasses}${a.classCount}`,a.classMap.set(e,t)),x+=t+" "}}return x},Te=()=>{let x="";for(let ie of["::before","::after"]){let n=getComputedStyle(s,ie);if(!["none","normal"].includes(n.content)){a.pseudoClassCount++;let w=`${a.options.prefixForNewGeneratedPseudoClasses}${a.pseudoClassCount}`;x+=w+" ",a.pseudoStyles.push(`.${w}${ie}{`);for(let O=0;O<n.length;O++){let e=n.item(O),t=n.getPropertyValue(e);a.pseudoStyles.push(`${e}:${t};`)}a.pseudoStyles.push("}")}}return x};X();let Pe=ae();Pe+=Te(),M!=null&&M.setAttribute("class",Pe.trim())},sc=(a,s)=>{let M="";try{a.canvas||(a.canvas=a.doc.createElement("canvas")),a.canvas.width=s instanceof HTMLImageElement?s.naturalWidth:s.offsetWidth,a.canvas.height=s instanceof HTMLImageElement?s.naturalHeight:s.offsetHeight;let X=a.canvas.getContext("2d");X&&X.drawImage(s,0,0),M=a.canvas.toDataURL(a.options.imageFormatForDataUrl,a.options.imageQualityForDataUrl)}catch(X){ot.warn(`getCanvasDataUrl() - ${X.message}`)}return M},Hw=(a,s)=>{if(s!=null&&s.setAttribute("value",a.value),a!=null){let M=a.getAttribute("type");if(a instanceof HTMLInputElement&&(M==="checkbox"||M==="radio"))a.checked?s!=null&&s.setAttribute("checked","checked"):s.removeAttribute("checked");else if(a instanceof HTMLTextAreaElement&&a.value)s.innerText=a.value;else if(a instanceof HTMLSelectElement&&a.value&&a.children)for(let X=a.children.length-1;X>=0;X--)a.children[X].getAttribute("value")===a.value?s.children[X]!==void 0&&s.children[X]!==null&&s.children[X].setAttribute("selected",""):s.children[X]!==void 0&&s.children[X]!==null&&s.children[X].removeAttribute("selected")}},bw=(a,s,M)=>{if(a.shouldHandleImgDataUrl){let X=sc(a,s);X&&M!==void 0&&M!==null&&M.setAttribute("src",X)}},Tw=(a,s,M)=>{let X=sc(a,s);X&&M!==void 0&&M!==null&&M.setAttribute("src",X),M!=null&&(M.outerHTML=M.outerHTML.replace(/<canvas/g,"<img"))},Lw=(a,s)=>{if(a.ignoredElms.includes(s))return!0;let M=Object.entries(a.options.computedStyleKeyValuePairsOfIgnoredElements);if(a.isBody&&M.length>0){let X=getComputedStyle(s);for(let[ae,Te]of M)if(X.getPropertyValue(ae)===Te)return!0}return!1},Ui=(a,s,M,X)=>{if(a.isBody&&(s instanceof HTMLInputElement||s instanceof HTMLTextAreaElement||s instanceof HTMLSelectElement?Hw(s,M):s instanceof HTMLImageElement?bw(a,s,M):s instanceof HTMLCanvasElement&&Tw(a,s,M)),X&&(ic(a,s,M),a.options.tagsOfSkippedElementsForChildTreeCssHandling.includes(s.tagName.toLowerCase())&&(X=!1)),s.children)for(let ae=s.children.length-1;ae>=0;ae--)Lw(a,s.children[ae])?M.removeChild(M.children[ae]):Ui(a,s.children[ae],M.children[ae],X)},Sw=a=>{let s=a.doc.createElement("div");s.id="html-screen-capture-dummy-div",s.style.display="none",a.doc.body.appendChild(s);let M=getComputedStyle(s);for(let X=0;X<M.length;X++){let ae=M.item(X),Te=M.getPropertyValue(ae);a.baseClass.set(ae,Te)}a.baseClass.set("display","block"),s.parentNode&&s.parentNode.removeChild(s)},Dw=a=>{if(!a.options.cssSelectorsOfIgnoredElements||!a.options.cssSelectorsOfIgnoredElements.length)return[];let s=[];return a.options.cssSelectorsOfIgnoredElements.forEach(M=>{a.doc.documentElement.querySelectorAll(M).forEach(X=>{s.push(X)})}),s},xw=a=>{a.ignoredElms=Dw(a);let s=()=>{let Pe=a.doc.documentElement.cloneNode(!1);return ic(a,a.doc.documentElement,Pe),Pe},M=Pe=>{let x=a.doc.head.cloneNode(!0);a.isBody=!1,Ui(a,a.doc.head,x,!1),Pe.appendChild(x)},X=Pe=>{Sw(a);let x=a.doc.body.cloneNode(!0);a.isBody=!0,Ui(a,a.doc.body,x,!0),Pe.appendChild(x)},ae=Pe=>{let x=a.doc.createElement("style"),ie=`.${a.options.prefixForNewGeneratedClasses}0{`;a.baseClass.forEach((n,w)=>{ie+=`${w}:${n};`}),ie+="}",a.classMap.forEach((n,w)=>{ie+=`.${n}{${w}}`}),ie+=a.pseudoStyles.join(""),ie+=a.options.rulesToAddToDocStyle.join(""),x.appendChild(a.doc.createTextNode(ie)),Pe.children[0].appendChild(x)},Te=s();return M(Te),X(Te),ae(Te),Te},Ow=(a,s)=>{let M=null;if(s==="object")M=a;else{let X=(a?a.outerHTML:"")||"";X&&(s==="string"?M=X:s==="uri"?M=tc(X):s==="base64"&&(M=ec(X))),M=M||""}return ot.isDebug()&&ot.debug(`output: ${M instanceof HTMLElement?M.outerHTML:M}`),M},ac=(a,s,M)=>{let X=new Date().getTime(),ae=null,Te={isBody:!1,baseClass:new Map,classMap:new Map,classCount:0,pseudoStyles:[],pseudoClassCount:0,shouldHandleImgDataUrl:!0,canvas:null,doc:s||document,ignoredElms:[],options:Ct({rulesToAddToDocStyle:[],cssSelectorsOfIgnoredElements:["script","link","style"],computedStyleKeyValuePairsOfIgnoredElements:{display:"none"},tagsOfSkippedElementsForChildTreeCssHandling:["svg"],attrKeyForSavingElementOrigClass:"_class",attrKeyForSavingElementOrigStyle:"_style",prefixForNewGeneratedClasses:"c",prefixForNewGeneratedPseudoClasses:"p",imageFormatForDataUrl:"image/png",imageQualityForDataUrl:.92,logLevel:"warn"},M||{})};try{ot.setLogLevel(Te.options.logLevel);let Pe=xw(Te);ae=Ow(Pe,a||"object")}catch(Pe){ot.error(`goCapture() - error - ${Pe.message}`)}finally{ot.info(`goCapture() - end - ${new Date().getTime()-X}ms`)}return ae}}),cc,Bc=V(()=>{lc(),Dn(),cc=(a,s,M)=>ac(a,s,M)}),gc={};We(gc,{saveWithContained:()=>On});function Mw(a,s,M,X,ae=500){return m(this,null,function*(){c.log(" tellEC2ToRender - Rendering "),c.log("RecordID:",a),c.log("URL:",s),c.log("HTML Transformer:",M),c.log("OrgID:",X),c.log("Delay Between Executions:",ae),bA().then(Te=>m(this,null,function*(){let Pe="https://mjkrxoav2cqz3dtgn6ttcyxeua0mqpul.lambda-url.us-east-1.on.aws/",x=yield yt(a);x&&x.ec2_render_endpoint&&(c.log("Using ec2_render_endpoint from requestMessageInfo:",x.ec2_render_endpoint),Pe=x.ec2_render_endpoint);let ie=yield Ye(a);c.log("[tellEC2ToRender] => More Info:",ie);let n={recordID:a,url:s,htmlTransformer:M,orgId:X,node_identifier:Te,final_url:window.location.href,statusCode:ie.statusCode},w={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(n)};fetch(Pe,w).then(O=>{if(!O.ok)throw new Error("[tellEC2ToRender]:Network response was not ok");return O.json()}).then(O=>(c.log("[tellEC2ToRender]: Response from server:",O),zA(a,!1,ae))).catch(O=>(c.error("[tellEC2ToRender]: Error:",O),zA(a,!1,ae)))}))})}function On(a,s,M,X,ae,Te,Pe,x=!1,ie=500,n=!1){return m(this,null,function*(){if(c.log("  saveWithContained - Saving Crawl . RecordID:",a),!(yield Tn(X,Pe,Te)))return c.log("URL did not pass through filters"),zA(a,!1,ie);let w=yield Ln(a),O=w.uploadURL_html_contained,e=w.uploadURL_html,t=w.uploadURL_markDown;if(yield z({intent:"putHTMLToSigned",htmlURL_signed:e,content:s}),yield z({intent:"putMarkdownToSigned",markdownURL_signed:t,markDown:M}),yield z({intent:"fixImageRenderHTMLVisualizer"}),c.log("Attempting to visualize CONTAINED HTML..."),c.log("##########################################"),!x){for(let K=0;K<5;K++)window.scrollTo({top:window.innerHeight*K,behavior:"smooth"});for(let K=0;K<5;K++)window.scrollTo({top:0,behavior:"smooth"})}let o=cc("string",window.document);c.log(o),c.log("##########################################"),yield z({intent:"putHTMLContainedToSigned",htmlContainedURL_signed:O,htmlContainedString:x?s:o}),yield z({intent:"resetImageRenderHTMLVisualizer"}),yield Mw(a,X,ae,Te,ie)})}var Ei=V(()=>{Ut(),me(),eA(),xA(),Ci(),Bc(),De(),It()});function uc(a,s){return new Promise(M=>{let X=0;function ae(){if(X>=a.length){M();return}let Te=a[X];switch(X++,Te.type){case"wait":setTimeout(ae,Te.milliseconds);break;case"click":let Pe=s.querySelector(Te.selector);Pe&&(Pe instanceof HTMLAnchorElement&&Pe.hasAttribute("download")&&Pe.removeAttribute("download"),Pe.click()),ae();break;case"write":let x=s.activeElement;if(x&&"value"in x){let U=x.selectionStart||0,P=x.selectionEnd||0;x.value=x.value.substring(0,U)+Te.text+x.value.substring(P),x.selectionStart=x.selectionEnd=U+Te.text.length}ae();break;case"fill_input":let ie=s.querySelector(Te.selector);ie&&(ie.value=Te.value),ae();break;case"fill_textarea":let n=s.querySelector(Te.selector);n&&(n.value=Te.value),ae();break;case"select":let w=s.querySelector(Te.selector);w&&(w.value=Te.value),ae();break;case"fill_form":let O=s.querySelector(Te.selector);if(O){let U=new FormData(O);Te.fields.forEach(P=>{U.set(P.name,P.value)})}ae();break;case"press":let e=new KeyboardEvent("keydown",{key:Te.key});s.dispatchEvent(e),ae();break;case"scroll":window.scrollBy({top:Te.direction==="up"?-Te.amount:Te.amount,left:Te.direction==="left"?-Te.amount:Te.direction==="right"?Te.amount:0,behavior:"smooth"}),ae();break;case"waitFor":let t=function(){if(s.querySelector(Te.selector)){c.log("[executeNextAction] element found!",Te.selector),ae();return}if(Date.now()-K>=o){c.warn(`Timeout waiting for selector: ${Te.selector}`),ae();return}setTimeout(t,100)};c.log("[executeNextAction] waiting for element",Te.selector);let o=Te.timeout||6e4,K=Date.now();t();break;case"real_input_g":let H=s.querySelector(Te.selector);if(H&&H.isContentEditable){H.focus();let U=Te.text||"",P=window.getSelection();if(P&&P.rangeCount>0){let i=P.getRangeAt(0);if(i.deleteContents(),H.innerHTML.trim()===""||H.innerHTML==="<br>"){let k=s.createElement("p"),F=s.createTextNode(U);k.appendChild(F),H.innerHTML="",H.appendChild(k)}else{let k=s.createTextNode(U);i.insertNode(k),i.setStartAfter(k),i.setEndAfter(k),P.removeAllRanges(),P.addRange(i)}}else{let i=H.querySelector("p")||s.createElement("p");i.parentNode||H.appendChild(i),i.textContent=U}H.classList.contains("ql-blank")&&H.classList.remove("ql-blank");let f=new InputEvent("input",{bubbles:!0,cancelable:!0,inputType:"insertText",data:U});H.dispatchEvent(f);let p=new Event("change",{bubbles:!0,cancelable:!0});H.dispatchEvent(p)}else c.warn(`Element for real_input not found or not contenteditable: ${Te.selector}`);ae();break;default:c.warn(`Unknown action type: ${Te.type}`),ae()}}ae()})}var fc=V(()=>{eA()});function yi(a,s){return m(this,null,function*(){window.addEventListener("message",function(M){return m(this,null,function*(){dc(M,0)})}),s&&window.dispatchEvent(new MessageEvent("message",{data:a.data}))})}function dc(a,s){if(a.data.isMCrawl){let M=a.data.recordID,X=a.data.removeCSSselectors,ae=a.data.classNamesToBeRemoved,Te=a.data.hasOwnProperty("fastLane")?a.data.fastLane:!1,Pe=a.data.hasOwnProperty("url_to_crawl")?a.data.url_to_crawl:"",x=a.data.hasOwnProperty("htmlTransformer")?a.data.htmlTransformer:"none",ie=a.data.hasOwnProperty("removeImages")?a.data.removeImages.toString().toLowerCase()==="true":!1,n=a.data.hasOwnProperty("htmlVisualizer")?a.data.htmlVisualizer.toString().toLowerCase()==="true":!0,w=a.data.hasOwnProperty("htmlContained")?a.data.htmlContained.toString().toLowerCase()==="true":!1,O=a.data.hasOwnProperty("actions")?JSON.parse(a.data.actions):[],e=a.data.hasOwnProperty("saveHtml")?a.data.saveHtml.toString().toLowerCase()==="true":!1,t=a.data.hasOwnProperty("saveMarkdown")?a.data.saveMarkdown.toString().toLowerCase()==="true":!1,o=a.data.hasOwnProperty("cerealObject")?a.data.cerealObject:"{}",K=a.data.hasOwnProperty("rawData")?a.data.rawData.toString().toLowerCase()==="true":!1,H=parseInt(a.data.waitBeforeScraping);c.log("[initCrawl]: waitBeforeScraping "+H),c.log("[initCrawl]: rawData "+K),setTimeout(()=>m(this,null,function*(){let U=document,P=window.location.href,f=P.includes("?")?P.split("?")[0].endsWith(".pdf"):P.endsWith(".pdf");f||(f=Gl());let p=a.data.hasOwnProperty("orgId")?a.data.orgId:"",i=a.data.hasOwnProperty("saveText")?a.data.saveText:!1;if(a.data.hasOwnProperty("fetchInstead")&&a.data.fetchInstead.toString().toLowerCase()==="true"){let k=yield(yield fetch(window.location.href)).text();U=new DOMParser().parseFromString(k,"text/html")}O.length>0&&(yield uc(O,U)),yield Kw(M,f,a,s,Pe,x,p,Te,i,X,ae,U,n,w,ie,e,t,o,K)}),H)}}function Kw(a,s,M,X,ae,Te,Pe,x,ie,n,w,O,e,t,o,K,H,U,P){return m(this,null,function*(){if(n==="default")or(O,[]);else if(n!==""&&n!=="none")try{let k=JSON.parse(n);or(O,k)}catch(k){c.error("[initCrawl ] : Error parsing removeCSSselectors =>",k)}let f="";if(e||t){let k=O.cloneNode(!0);or(k,[]),f=Hn(`
`,k),f=f.replace(/(\r\n|\n|\r)/gm,"").replace(/\\t/gm,"")}w.length>0&&ui(w),o&&fi(O);let p=Hn(`
`,O);p=p.replace(/(\r\n|\n|\r)/gm,"").replace(/\\t/gm,""),c.log("[] : Sending data to server..."),c.log("[] : recordID => "+a);let i;if(!s)H||e||t?(i=new wi({}).turndown(O.documentElement.outerHTML),c.log("[] : markDown => "+i)):i="",(i.trim()===""||i==="null")&&X<4?(c.log("[initCrawl ] : markDown is empty. RESETTING"),setTimeout(()=>{dc(M,X+1)},2e3)):e?yield Sn(a,p,i,ae,Te,Pe,f):t?yield On(a,p,i,ae,Te,Pe,f,!1):vt(a,p,i,x,ae,Te,Pe,ie,K,H,M.data.hasOwnProperty("BATCH_execution")?M.data.BATCH_execution:!1,M.data.hasOwnProperty("batch_id")?M.data.batch_id:"",!1,500,!1,U);else{c.log("[initCrawl ] : it's a PDF");let k=yield mi(ae,P);c.log("[initCrawl ] : text => "+k),e?yield Sn(a,k,k,ae,Te,Pe,f):t?yield On(a,k,k,ae,Te,Pe,f,!1):vt(a,k,k,x,ae,Te,Pe,ie,K,H,M.data.hasOwnProperty("BATCH_execution")?M.data.BATCH_execution:!1,M.data.hasOwnProperty("batch_id")?M.data.batch_id:"",!1,500,!1,U)}})}var wc=V(()=>{Wl(),di(),Un(),hi(),pi(),eA(),Fi(),Ei(),fc()});function hc(){let a=document.getElementsByTagName("video"),s=document.getElementsByTagName("audio");for(let M=0;M<a.length;M++)a[M].muted=!0,a[M].pause();for(let M=0;M<s.length;M++)s[M].muted=!0,s[M].pause();new MutationObserver((M,X)=>{for(let ae of M)for(let Te=0;Te<ae.addedNodes.length;Te++){let Pe=ae.addedNodes[Te];Pe instanceof Element&&(Pe.tagName==="VIDEO"||Pe.tagName==="AUDIO")&&(Pe.muted=!0,Pe.pause())}}).observe(document,{childList:!0,subtree:!0})}var mc=V(()=>{});function Ht(a){document.body?a():new MutationObserver((s,M)=>{let{body:X}=document;X&&(M.disconnect(),a())}).observe(document.documentElement,{childList:!0})}var Mn=V(()=>{});function pc(){try{return window.alert=function(){return null},window.confirm=function(){return!1},window.print=function(){return!1},window.prompt=function(){return null},Rw(),!0}catch(a){return c.log("Error in safeRenderIframe => "+a),!1}}function Rw(){try{var a=window.open;return window.open=function(s,M,X){return M="_self",a(s,M,X)},!0}catch(s){return c.log("Error in overWriteBlank => "+s),!1}}var Cc=V(()=>{eA()}),vi={};We(vi,{attachMutationObserver:()=>Pw,initialEventListener:()=>Ii,listenerAlive:()=>_w});function _w(){typeof window<"u"&&window.addEventListener("message",a=>m(this,null,function*(){if(a.data.isContentScriptAlive&&(hc(),window.parent.postMessage({isIframeAlive:!0,recordID:a.data.recordID},"*")),a.data&&a.data.intent==="applyDistance"){c.log("[setupDistanceMessageListener] : Received applyDistance message");let{jarData:s,recordID:M,parsedBCrewObject:X,originalUrl:ae}=a.data;Ol(s,M,X,ae).catch(Te=>c.error("[setupDistanceMessageListener] : Error in applyDistance",Te))}if(a.data&&a.data.burkeTrigger){c.log("[setupMeucciListener] : Received burkeTrigger message"),c.log(a.data),c.log("########################"),window.parent.postMessage({isBurkeReply:!0,recordID:a.data.recordID},"*");try{let s=JSON.parse(a.data.burkeObject),M=()=>m(this,null,function*(){var X,ae;try{let Te=yield oA("mllwtl_meucciFilePath",!0);if(c.log("[appendMeucciScript]: Meucci script filename => ",Te),!Te){c.log("[appendMeucciScript]: Meucci script filename not found in storage");return}let Pe=chrome.runtime.getURL(Te),x=document.createElement("script");x.src=Pe,(X=s.xhr_options)!=null&&X.include_urls&&x.setAttribute("include-urls",s.xhr_options.include_urls.join(",")),(ae=s.xhr_options)!=null&&ae.exclude_urls&&x.setAttribute("exclude-urls",s.xhr_options.exclude_urls.join(",")),x.setAttribute("burke-id",a.data.recordID),x.setAttribute("api-endpoint",s.endpoint),document.head.appendChild(x),c.log("[appendMeucciScript]: Meucci script appended successfully")}catch(Te){c.log("[appendMeucciScript]: Error appending Meucci script",Te)}});document.head?M():new MutationObserver((X,ae)=>{document.head&&(M(),ae.disconnect())}).observe(document.documentElement,{childList:!0,subtree:!0})}catch(s){c.log("[setupMeucciListener] : Error in parsing meucciObject",s)}}}))}function Pw(){Ht(()=>{Nw()})}function Nw(){typeof window<"u"&&(pc(),pn()&&window.addEventListener("message",Ii))}function Ii(a){return m(this,null,function*(){if(a.data.isMCrawl&&!Qc){window.parent.postMessage({isMReply:!0,recordID:a.data.recordID},"*"),Qc=!0;let s=a.data.hasOwnProperty("waitForElement")?a.data.waitForElement:"none",M=a.data.hasOwnProperty("waitForElementTime")?parseInt(a.data.waitForElementTime):0;if(window.removeEventListener("message",Ii),s==="none")c.log('waitForElement === "none"'),yield yi(a,!0);else{let X=Nl(s);if(c.log("[initialEventListener] : safeEvalSelector => ",X),!X)return;kl(X.dSelectorToUse,X.selectorId,X.index,8e4).then(()=>{setTimeout(()=>m(this,null,function*(){yield yi(a,!0)}),M*1e3)}).catch(()=>{c.log("[DOM_getter] : waitForElement_ELEMENT => catch")})}}})}var Qc,Hi=V(()=>{Cn(),Vl(),eA(),wc(),mc(),Mn(),Cc(),ai(),_A(),Qc=!1});function Fc(){return m(this,null,function*(){let a=new Map;window.addEventListener("message",s=>{var M,X;if(c.log("[RECEIVED CEREAL? event.data] : ",s.data),((M=s.data)==null?void 0:M.type)==="CEREAL_RESPONSE"){let ae=document.getElementById(Xe);if(!ae)return;if(s.source===ae.contentWindow){let Te=s.data.recordID,Pe=s.data.json;Te&&a.has(Te)&&(c.log("[RECEIVED CEREAL] with recordID : ",Te),a.get(Te)({success:!0,data:Pe}),a.delete(Te))}}((X=s.data)==null?void 0:X.type)==="saveBurkeResult"&&(c.log("[RECEIVED SAVE MEUCCI RESULT]"),z({intent:"saveMeucciResult",recordID:s.data.recordID,apiEndpoint:s.data.apiEndpoint,resultToSave:s.data.resultToSave}))}),chrome.runtime.onMessage.addListener(function(s,M,X){return function(){if(s.target!=="contentScriptM")return!1;if(s.intent==="deleteIframeM"){let ae=s.recordID,Te=document.getElementById(ae),Pe=(Te==null?void 0:Te.getAttribute("data-id"))||"",x=document.getElementById("div-"+ae);Te&&Te.remove(),x&&x.remove(),vn(ae,s.BATCH_execution,s.delayBetweenExecutions).then(()=>m(this,null,function*(){Pe===pe&&(yield mn())}))}if(s.intent==="getSharedMemoryDOM"&&Na(s.key).then(X),s.intent==="getIfCurrentlyActiveDOM"&&wl().then(X),s.intent==="startConnectionM"&&bA().then(ae=>{it(ae)}),s.intent==="handleHTMLVisualizer"&&nt(s.url,s.recordID,JSON.parse(s.eventData),s.waitForElement,s.shouldSandbox,s.sandBoxAttributes,s.BATCH_execution,s.batch_id,s.triggersDownload,s.skipHeaders,s.hostname,!0,!1,s.screenWidth,s.screenHeight,s.POST_request,s.GET_request,s.method_endpoint,s.method_payload,s.method_headers,s.actions,s.delayBetweenExecutions,s.openTab,s.openTabOnlyIfMust,s.pascoli,s.cerealObject,s.refPolicy,s.bCrewObject,s.burkeObject,!0).then(()=>{X("success")}),s.intent==="handleHTMLContained"&&nt(s.url,s.recordID,JSON.parse(s.eventData),s.waitForElement,s.shouldSandbox,s.sandBoxAttributes,s.BATCH_execution,s.batch_id,s.triggersDownload,s.skipHeaders,s.hostname,!1,!0,s.screenWidth,s.screenHeight,s.POST_request,s.GET_request,s.method_endpoint,s.method_payload,s.method_headers,s.actions,s.delayBetweenExecutions,s.openTab,s.openTabOnlyIfMust,s.pascoli,s.cerealObject,s.refPolicy,s.bCrewObject,s.burkeObject,!0).then(()=>{X("success")}),s.intent==="processCrawl"&&kw(s.recordID,!1,new MessageEvent("message",{data:{}}),0,s.method_endpoint,"none",s.orgId,s.fastLane,"false",s.removeCSSselectors,JSON.parse(s.classNamesToBeRemoved),s.html_string,s.htmlVisualizer,s.htmlContained,s.removeImages.toString()==="true",s.BATCH_execution.toString()==="true",s.batch_id,s.delayBetweenExecutions,s.openTab,s.openTabOnlyIfMust,s.saveHtml,s.saveMarkdown,s.cerealObject,s.refPolicy,s.bCrewObject).then(()=>{X("success")}),s.intent==="preProcessCrawl"){X("success"),c.log("[setUpContentScriptListeners] : preProcessCrawl");let ae=JSON.parse(s.data),Te=s.BATCH_execution,Pe=s.batch_id,x=s.parallelExecutionsBatch,ie=s.delayBetweenExecutions;Kl(ae,Te,Pe,x,ie).then(()=>{X("success")})}if(s.intent==="ping"&&(c.log("[] : ping received, replying..."),X({status:"ready"})),s.intent==="triggerEventListener"&&(c.log("[] : triggerEventListener..."),Promise.resolve().then(()=>(Hi(),vi)).then(ae=>{let Te=new MessageEvent("message",{data:JSON.parse(s.data)});ae.initialEventListener(Te).then(()=>{X()})})),s.intent==="resetAfterCrawl"&&vn(s.recordID,s.BATCH_execution,s.delayBetweenExecutions).then(()=>{X("success")}),s.intent==="mllwtl_initCerealFrame"&&(c.log("[greeting] : ","mllwtl_initCerealFrame"),gi(s.cerealObject).then(ae=>{X(ae)})),s.intent==="mllwtl_processCereal"){c.log("[greeting] : ","mllwtl_processCereal");let ae=document.getElementById(Xe),Te=Pe=>{let{recordID:x,htmlString:ie,cerealObject:n}=s;return c.log("[PROCESS_CEREAL => recordID] : ",x),new Promise(w=>{var O;a.set(x,w),(O=Pe.contentWindow)==null||O.postMessage({type:"PROCESS_DOCUMENT",recordID:x,htmlString:ie,cerealObject:typeof n=="string"?n:JSON.stringify(n)},"*"),c.log("[PROCESS_CEREAL => POSTED THE MESSAGE] : ",x),setTimeout(()=>{a.has(x)&&(a.delete(x),w({success:!1,error:"timeout"}))},1e4)})};ae?Te(ae).then(X):(c.log("[PROCESS_CEREAL] Frame not found, initializing"),gi(s.cerealObject).then(Pe=>{if(!Pe.success){X({success:!1,error:"frame_init_failed"});return}let x=document.getElementById(Xe);if(!x){X({success:!1,error:"frame_not_found"});return}Te(x).then(X)}))}if(s.intent==="mllwtl_refreshCerealFrame"){c.log("[greeting] : ","mllwtl_refreshCerealFrame");let ae=document.getElementById(Xe);ae||(c.log("[REFRESH_CEREAL] Frame not found, nothing to refresh"),X({success:!1,error:"frame_not_found"}));let Te=ae;Te.src=Te.src,c.log("[REFRESH_CEREAL] Frame refreshed"),X({success:!0})}}(),!0})})}function kw(a,s,M,X,ae,Te,Pe,x,ie,n,w,O,e,t,o,K,H,U,P,f,p,i,k,F,_){return m(this,null,function*(){let C=yield Promise.resolve().then(()=>(Un(),Tl)),{get_document_html:Q,removeElementsByClassNames:j,removeImagesDOM:re,removeSelectorsFromDocument:T}=yield Promise.resolve().then(()=>(di(),Jl)),R=yield Promise.resolve().then(()=>(hi(),Xl)),d=yield Promise.resolve().then(()=>(Fi(),$l)),y=yield Promise.resolve().then(()=>(Ei(),gc)),W=yield Promise.resolve().then(()=>(pi(),Yl)),u=new DOMParser().parseFromString(O,"text/html");if(c.log("[processCrawl ] : document_to_use =>"),c.log(u),n==="default")T(u,[]);else if(n!==""&&n!=="none")try{let N=JSON.parse(n);T(u,N)}catch(N){c.log("[initCrawl ] : Error parsing removeCSSselectors =>",N)}let b="";if(e||t){let N=u.cloneNode(!0);T(N,[]),b=Q(`
`,N),b=b.replace(/(\r\n|\n|\r)/gm,"").replace(/\\t/gm,"")}w.length>0&&j(w),o&&re(u);let D=Q(`
`,u);D=D.replace(/(\r\n|\n|\r)/gm,"").replace(/\\t/gm,""),c.log("[] : Sending data to server..."),c.log("[] : recordID => "+a);let J;if(!s)J=new R.TurndownService({}).turndown(u.documentElement.outerHTML),c.log("[] : markDown => "+J),(J.trim()===""||J==="null")&&X<4?(c.log("[initCrawl ] : markDown is empty. RESETTING"),setTimeout(()=>{},2e3)):e?yield d.saveWithVisualizer(a,D,J,ae,Te,Pe,b,U,f):t?yield y.saveWithContained(a,D,J,ae,Te,Pe,b,!0,U,f):C.saveCrawl(a,D,J,x,ae,Te,Pe,ie,p,i,K,H,!1,U,f,k);else{c.log("[initCrawl ] : it's a PDF");let N=yield W.extractTextFromPDF(ae);c.log("[initCrawl ] : text => "+N),e?yield d.saveWithVisualizer(a,N,N,ae,Te,Pe,b,U,f):t?yield y.saveWithContained(a,N,N,ae,Te,Pe,b,!1,U,f):C.saveCrawl(a,N,N,x,ae,Te,Pe,ie,p,i,K,H,!1,U,f,k)}})}var Uc=V(()=>{Bi(),PA(),Et(),Wo(),ei(),me(),Kn(),ci(),eA(),Pl(),xA()});function Ec(a){return new Promise(s=>{let M=chrome.runtime.getManifest().permissions||[];s(M.includes(a))})}function Vw(a){return new Promise(s=>{let M=chrome.runtime.getManifest().optional_permissions||[];s(M.includes(a))})}function Gw(){return new Promise(a=>{let s=chrome.runtime.getManifest();if(s.manifest_version===2){let M=s.permissions||[],X=s.optional_permissions||[];if(!M.includes("<all_urls>")&&!M.includes("https://*/*")&&!X.includes("<all_urls>")&&!X.includes("https://*/*"))throw new Error('Required permission "https://*/*" is not present in either permissions or optional_permissions in manifest version 2')}else if(s.manifest_version===3){let M=s.host_permissions||[],X=s.optional_host_permissions||[];if(!M.includes("<all_urls>")&&!M.includes("https://*/*")&&!X.includes("<all_urls>")&&!X.includes("https://*/*"))throw new Error('Required permission "https://*/*" is not present in either host_permissions or optional_host_permissions in manifest version 3')}c.log("[checkHostPermissionsMV2_3] Host permissions are present"),a(!0)})}function Rn(a=!1){return m(this,null,function*(){let s=[],M=[];ne()==="safari"&&bi.splice(bi.indexOf("declarativeNetRequest"),1);for(let X of bi){c.log("[checkRequiredPermissions] Checking : "+X);let ae=!1,Te=yield Ec(X);if(c.log("[checkRequiredPermissions] Permission : "+X+" is present : "+Te),Te)ae=!0;else if(X==="declarativeNetRequest"){X="declarativeNetRequestWithHostAccess",M=chrome.runtime.getManifest().optional_host_permissions||["https://*/*"],c.log("declarativeNetRequest is not present in permissions, checking for declarativeNetRequestWithHostAccess");let Pe=yield Ec(X),x=yield Vw(X);Pe?(c.log("declarativeNetRequestWithHostAccess is present"),ae=!0):x&&(c.log("declarativeNetRequestWithHostAccess is present in optional_permissions"),s.push(X))}if(c.log("PERMISSION : "+X+" IS PRESENT : "+ae),!ae&&!s.includes(X))throw new Error(`[init]: Required permission ${X} is not present in the manifest`)}if(yield Gw(),a&&s.length>0&&(c.log("[checkRequiredPermissions] Requesting permissions : "+s.join(", ")),!(yield Jw(s,M))&&!(yield Ww(s,M))))throw new Error(`Required permissions ${s.join(", ")}, or Host permissions ${M.join(", ")} were not granted`)})}function Ww(a){return m(this,arguments,function*(s,M=[]){return new Promise(X=>{chrome.permissions.request({permissions:s,origins:M},ae=>{X(ae)})})})}function Jw(a,s){return m(this,null,function*(){return new Promise(M=>{chrome.permissions.contains({permissions:a,origins:s},X=>{M(X)})})})}var bi,Ti=V(()=>{eA(),$A(),bi=["storage","declarativeNetRequest"]});function xe(){return m(this,null,function*(){return new Promise(a=>{chrome.storage.local.get(sr,function(s){s!==void 0?s[sr]==="true"?a({status:"opted_in",boolean:!0}):s[sr]==="false"?a({status:"opted_out",boolean:!1}):a({status:"undefined",boolean:!1}):a({status:"undefined",boolean:!1})})})})}function _n(){return m(this,null,function*(){return new Promise(a=>{Y(sr,"true").then(()=>{a(!0)})})})}function bt(){return m(this,null,function*(){return new Promise(a=>{Y(sr,"false").then(()=>{Y("mStatus","stop").then(()=>{a(!0)})})})})}var sr,Pn=V(()=>{_A(),sr="mellowtelOptIn"}),yc,Nn,Xw,kn,ar,Li=V(()=>{_A(),eA(),PA(),$A(),yc="keep_ping_status",Nn=null,Xw=()=>{chrome.runtime.sendMessage("ping",a=>{chrome.runtime.lastError})},kn=()=>m(void 0,null,function*(){try{(yield WA())?(yield ar(),Nn=setInterval(Xw,Oa),yield Y(yc,!0),c.log("[startPing] Keep-alive started in Service Worker")):(chrome.runtime.sendMessage({intent:"mllwtl_startPing"}),c.log("[startPing] Requested Service Worker to start keep-alive"))}catch(a){c.log("[startPing] Error starting keep-alive:",a)}}),ar=()=>m(void 0,null,function*(){try{(yield WA())?(Nn&&(clearInterval(Nn),Nn=null),yield Y(yc,!1),c.log("[stopPing] Keep-alive stopped in Service Worker")):(chrome.runtime.sendMessage({intent:"mllwtl_stopPing"}),c.log("[stopPing] Requested Service Worker to stop keep-alive"))}catch(a){c.log("[stopPing] Error stopping keep-alive:",a)}})});function lr(a){return new Promise(s=>m(this,null,function*(){if(!(yield xe()).boolean)throw new Error("User has not opted in yet. Request a disclaimer to the end-user and then call the optIn() method if they agree to join.");try{yield Rn(!0),yield kn(),Y("mStatus","start").then(()=>{s(!0)})}catch(M){c.log("[start] : Error starting the extension",M),yield bt(),s(!1)}}))}function Vn(){return new Promise(a=>m(this,null,function*(){yield ar(),Y("mStatus","stop").then(()=>{a(!0)})}))}function Gn(){Ht(()=>{Ul().then(a=>m(this,null,function*(){if(!a){yield Fc();let s=yield Promise.resolve().then(()=>(Kn(),vc));bA().then(M=>{s.startConnectionWs(M)})}}))})}function Ic(){document.querySelectorAll(`[data-id="${pe}"]`).forEach(a=>{a.remove()})}function cr(){return new Promise(a=>{chrome.storage.local.get("mStatus",function(s){s!==void 0&&s.mStatus==="start"?a(!0):a(!1)})})}var Br=V(()=>{El(),Uc(),me(),Mn(),PA(),Ti(),_A(),Pn(),eA(),Li()}),qA,Wn=V(()=>{PA(),_A(),eA(),qA=class{static getRateLimitData(){return m(this,null,function*(){let a=yield oA("timestamp_m");a===void 0||!a.hasOwnProperty("timestamp_m")?a=void 0:a=parseInt(a.timestamp_m);let s=yield oA("count_m");return s===void 0||!s.hasOwnProperty("count_m")?s=void 0:s=parseInt(s.count_m),{timestamp:a,count:s}})}static setRateLimitData(a,s){return m(this,null,function*(){yield Y("timestamp_m",a),yield Y("count_m",s)})}static getLifetimeTotalCount(){return m(this,null,function*(){let a=yield oA("lifetime_total_count_m");return a===void 0||!a.hasOwnProperty("lifetime_total_count_m")?a=0:a=parseInt(a.lifetime_total_count_m),{lifetime_total_count:a}})}static setHistoricData(a,s){return m(this,null,function*(){yield Y("initial_timestamp_m",a),yield Y("lifetime_total_count_m",s)})}static calculateElapsedTime(a,s){return a-s}static resetRateLimitData(a,s=!1){return m(this,null,function*(){yield this.setRateLimitData(a,s?1:0)})}static getIfRateLimitReached(){return m(this,null,function*(){let a=yield oA("mllwtl_rate_limit_reached");return a===void 0||!a.hasOwnProperty("mllwtl_rate_limit_reached")?!1:a.mllwtl_rate_limit_reached.toString()==="true"})}static checkRateLimit(a=!0){return m(this,null,function*(){let s=Date.now(),{timestamp:M,count:X}=yield this.getRateLimitData(),{lifetime_total_count:ae}=yield this.getLifetimeTotalCount();return M?this.calculateElapsedTime(s,M)>An?(c.log("[]: REFRESH_INTERVAL elapsed, resetting count"),yield this.resetRateLimitData(s,!0),yield Y("mllwtl_rate_limit_reached",!1),{shouldContinue:!0,isLastCount:!1,requestsCount:0}):(a&&(X++,yield Y("count_m",X),ae++,yield Y("lifetime_total_count_m",ae)),c.log(`[]: SHOULD CONTINUE? IF COUNT (${X}) <= ${this.MAX_DAILY_RATE} : ${X<=this.MAX_DAILY_RATE}`),X<=this.MAX_DAILY_RATE?{shouldContinue:!0,isLastCount:X===this.MAX_DAILY_RATE,requestsCount:X}:(c.log("[]: RATE LIMIT REACHED"),{shouldContinue:!1,isLastCount:!1,requestsCount:X})):(c.log("[]: NO_TIMESTAMP, setting timestamp, count, and historic data"),yield this.setRateLimitData(s,1),yield this.setHistoricData(s,1),{shouldContinue:!0,isLastCount:!1,requestsCount:0})})}},qA.MAX_DAILY_RATE=qt});function Hc(){return new Promise(a=>m(this,null,function*(){let s=yield oA("mllwtl_pascoliFilePath",!0);if(c.log("[pascoli]: pascoliFilePath",s),!s){a(!1);return}let M=chrome.runtime.getManifest().web_accessible_resources;if(c.log("[pascoli]: webAccessibleResources",M),!M){a(!1);return}let X=!1;M.forEach(ae=>{if(typeof ae=="string")ye(ae)===ye(s)&&(X=!0);else if(typeof ae=="object"&&"resources"in ae){let Te=ae;Te.resources.some(Pe=>ye(Pe)===ye(s))&&Te.matches.includes("<all_urls>")&&(X=!0)}}),a(X)}))}var bc=V(()=>{_A(),eA(),$A()});function Tc(){return new Promise(a=>m(this,null,function*(){let s=yield oA("mllwtl_meucciFilePath",!0);if(c.log("[meucci]: meucciJSFileName",s),!s){a(!1);return}let M=chrome.runtime.getManifest().web_accessible_resources;if(!M){a(!1);return}let X=!1;M.forEach(ae=>{if(typeof ae=="string")ye(ae)===ye(s)&&(X=!0);else if(typeof ae=="object"&&"resources"in ae){let Te=ae;Te.resources.some(Pe=>ye(Pe)===ye(s))&&Te.matches.includes("<all_urls>")&&(X=!0)}}),a(X)}))}var Lc=V(()=>{_A(),eA(),$A()}),vc={};We(vc,{startConnectionWs:()=>it});function zw(){c.log("[]: Checking WebSocket message rate limit...");let a=Date.now(),s=a-Vo;return c.log(`[]: Now: ${a}`),c.log(`[]: Cutoff time: ${s}`),Tt=Tt.filter(M=>M>s),c.log(`[]: Filtered timestamps: ${Tt}`),Tt.length>=xa?(c.log(`[]: WebSocket message rate limit exceeded. ${Tt.length} messages in last ${Vo/1e3} seconds. Ignoring message.`),!1):(Tt.push(a),!0)}function qw(a){return m(this,null,function*(){let s=yield oA("websocket_approval_cache",!0),M=Date.now();if(s){let ae=JSON.parse(s);if(M-ae.timestamp<Dc)return c.log(`[]: Using cached websocket approval result with timestamp: ${ae.timestamp}. Minutes until expiration: ${(Dc-(M-ae.timestamp))/6e4}`),ae.isApproved}let X=new URLSearchParams({device_id:a.device_id,plugin_id:a.plugin_id,version:a.version,speed_download:a.speed_download.toString(),platform:a.platform,manifest_version:a.manifest_version,pascoli:a.pascoli.toString(),burke:a.burke.toString(),meucci:a.meucci.toString(),ws_client:"new_ws"});return Mc(`${$w}?${X.toString()}`)})}function Mc(a,s=0){return m(this,null,function*(){try{Zn=!0;let M=yield fetch(a),X=yield M.json();if(!M.ok)throw new Error(`[]: Approval request failed with status code ${M.status}`);c.log(`[]: Approval result: ${JSON.stringify(X)}`),Zn=!1;let ae={timestamp:Date.now(),isApproved:X.approval===!0};return yield Y("websocket_approval_cache",JSON.stringify(ae)),X.approval===!0}catch(M){c.log(`[]: Approval error: ${M}`),Zn=!0;let X=s<Yn.length?Yn[s]:Yn[Yn.length-1];return c.log(`[]: Approval request failed (attempt ${s+1}). Retrying in ${X/1e3} seconds. Will continue indefinitely:`,M),yield new Promise(ae=>setTimeout(ae,X)),Mc(a,s+1)}})}function it(a){return m(this,null,function*(){if(Zn){c.log("[]: Retry attempt already in progress, not starting new connection");return}Xn&&(clearTimeout(Xn),Xn=null);let s=en(),M=yield WA();if(c.log("############################################################"),c.log(`[startConnectionWs]: Manifest version: ${s}`),c.log(`[startConnectionWs]: Is in service worker: ${M}`),!M)c.log("[]: MV2/MV3 Sending message to background to start websocket..."),yield z({intent:"startWebsocket",identifier:a});else{let X=yield sl();if(c.log(`[]: Effective connection type: ${X}`),!al.includes(X)){c.log("[]: Not connecting to websocket to preserve bandwidth");return}let ae,Te=yield oA("device_disconnect_session",!0);if(c.log("[]: Discon.Sess =>",Te),Te){c.log("[]: Device disconnect for session, not connecting to websocket");return}if(s.toString()==="2"?(c.log("[]: MV2 Getting webSocketConnected from DOM MODEL..."),ae=document.getElementById("webSocketConnected")!==null):(c.log("[]: MV3 Getting webSocketConnected from shared memory..."),ae=Si),c.log(`[]: webSocketConnected: ${ae}`),!ae)if(yield qA.getIfRateLimitReached()){c.log("[]: Rate limit, not connecting to websocket");let{timestamp:Pe,count:x}=yield qA.getRateLimitData(),ie=Date.now(),n=qA.calculateElapsedTime(ie,Pe);c.log(`[]: Time elapsed since last request: ${n}`),n>An&&(c.log("[]: Time elapsed is greater than REFRESH_INTERVAL, resetting rate limit data"),yield Y("mllwtl_rate_limit_reached",!1),Jn=0,yield qA.resetRateLimitData(ie,!1),it(a))}else{let Pe=yield ZA(),x=yield wn();c.log(`[]: Connection speed: ${x} Mbps`);let ie=ne();c.log(`[]: Browser: ${ie}`);let n=yield Hc(),w=yield Tc();if(c.log(`[]: Manifest version: ${s}`),c.log(`[]: Extension identifier: ${Pe}`),c.log(`[]: Is Pascoli enabled: ${n}`),c.log(`[]: Is Meucci enabled: ${w}`),!(yield qw({device_id:a,plugin_id:Pe,version:Je,speed_download:x,platform:ie,manifest_version:s.toString(),pascoli:n,burke:w,meucci:w}))){c.log("[]: Websocket connection not approved by API");return}c.log("[]: Websocket connection approved, establishing connection...");let O=new Zw(`${jw}?device_id=${a}&version=${Je}&plugin_id=${encodeURIComponent(Pe)}&speed_download=${x}&platform=${ie}&manifest_version=${s}&pascoli=${n}&burke=${w}&meucci=${w}&ws_client=new_ws`);return O.onopen=function(){if(Jn=0,s.toString()==="2"){c.log("[]: MV2 Setting webSocketConnected in DOM MODEL...");let e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("id","webSocketConnected"),e.setAttribute("value","true"),document.body.appendChild(e)}else c.log("[]: MV3 Setting webSocketConnected in shared memory..."),Si=!0;c.log(`[]: connected with device_id= ${a} and version= ${Je}`)},O.onclose=function(){return m(this,null,function*(){var e;s.toString()==="3"?Si=!1:(e=document.getElementById("webSocketConnected"))==null||e.remove();let t=yield oA("device_disconnect_session",!0);if(c.log("[]: Discon.Sess =>",t),(yield cr())&&!t){let o=Sc[Math.min(Jn,Sc.length-1)];c.log(`[]: Connection closed. Attempting reconnect in ${o/1e3} seconds...`),Xn=setTimeout(()=>m(this,null,function*(){Jn++,yield it(a)}),o)}})},O.onmessage=function(e){return m(this,null,function*(){if(yield cr()){if(e=JSON.parse(e.data),e.hasOwnProperty("type_event")&&e.type_event==="heartbeat")return;if(e.hasOwnProperty("type_event")&&e.type_event==="disconnect_device"){c.log("[]: Device disconnected, closing connection..."),yield Y("device_disconnect_session",!0),O.close();return}if(e.hasOwnProperty("type_event")&&e.type_event==="refresh_cereal"){c.log("[]: Refreshing cereal frame..."),yield bl();return}if(!zw()){c.log("[]: Local WebSocket Rate limit exceeded, ignoring message...");return}let t=!1;e.hasOwnProperty("method")&&e.method==="POST"&&(t=!0);let o=!1;e.hasOwnProperty("method")&&e.method==="GET"&&(o=!0);let K=!1,H="",U=4,P=500;if(e.hasOwnProperty("type_event")&&e.type_event==="batch"){K=!0,H=e.batch_id;let i="request";e.hasOwnProperty("type_batch")&&(i=e.type_batch),e.hasOwnProperty("parallel_executions_batch")&&(U=Math.min(parseInt(e.parallel_executions_batch),i==="request"?4:10)),e.hasOwnProperty("delay_between_executions")&&(P=parseInt(e.delay_between_executions))}let{shouldContinue:f,isLastCount:p}=yield qA.checkRateLimit();if(f||t||K||o){p&&!t&&!K&&!o&&(c.log("[]: Last count reached, closing connection..."),yield Y("mllwtl_rate_limit_reached",!0),O.close()),e.hasOwnProperty("recordID")&&(yield vl(e)),c.log("[]: MV2/MV3 Sending message to a viable content script...");let i=!1;chrome.tabs.query({},k=>m(this,null,function*(){for(let F of k){if(i){c.log("[]: Tab already replied, breaking...");break}yield TA(F.id,{intent:"preProcessCrawl",data:JSON.stringify(e),BATCH_execution:K,batch_id:H,parallelExecutionsBatch:U,delayBetweenExecutions:P}).then(_=>{_==="success"&&(c.log("[]: Tab replied success, setting tabReply to true..."),i=!0)})}}))}else c.log("[]: Rate limit reached, closing connection..."),yield Y("mllwtl_rate_limit_reached",!0),O.close()}})},O}}})}var Zn,jw,xc,Oc,Sc,Si,Jn,Xn,Tt,Yn,Dc,$w,Kn=V(()=>{PA(),Br(),Wn(),eA(),_A(),me(),qo(),$A(),xA(),It(),bc(),Lc(),Fn(),Zn=!1,jw="wss://ws.mellow.tel",xc=30*1e3,Oc=60*60*1e3,Sc=[xc,60*1e3,5*60*1e3,10*60*1e3,20*60*1e3,Oc],Si=!1,Jn=0,Xn=null,Tt=[],Yn=[xc,60*1e3,5*60*1e3,10*60*1e3,20*60*1e3,Oc],Dc=30*60*1e3,$w="https://api.mellow.tel/approval"});function Kc(a,s,M){return new Promise((X,ae)=>{try{c.log("[saveMeucciResult] => Result => ",M),c.log("[saveMeucciResult] => API Endpoint => ",s),fetch(s,{method:"POST",body:M}).then(Te=>Te.json()).then(Te=>{c.log("[saveMeucciResult] => Response => ",Te),X(Te)}).catch(Te=>ae(Te))}catch(Te){ae(Te)}})}var Rc=V(()=>{eA()});function _c(){return m(this,null,function*(){let a=[];function s(){if(a.length>0){let M=a.shift();M&&(c.log("Processing message from queue:",M),c.log("Content script requested to start websocket"),c.log("####################################"),it(M.identifier))}setTimeout(s,7e3)}s(),chrome.runtime.onMessage.addListener(function(M,X,ae){var Te,Pe,x,ie;if(M.intent=="disableXFrameHeaders"&&rn(M.hostname,M.skipHeaders).then(ae),M.intent=="enableXFrameHeaders"&&Ar(M.hostname).then(ae),M.intent=="resetTriggersDownload"&&er().then(ae),M.intent==="setSharedMemoryBCK"&&ka(M.key,(Te=X.tab)==null?void 0:Te.id).then(ae),M.intent==="getSharedMemoryBCK"&&Va(M.key).then(ae),M.intent==="seeIfTriggersDownload"&&Ya(M.url,M.triggersDownload,M.recordID).then(ae),M.intent==="deleteIframeM"&&TA((Pe=X.tab)==null?void 0:Pe.id,{intent:"deleteIframeM",recordID:M.recordID,BATCH_execution:M.BATCH_execution,delayBetweenExecutions:M.delayBetweenExecutions}).then(ae),M.intent==="handlePOSTRequest"&&Za(M.method_endpoint,M.method_payload,M.method_headers,M.fastLane,M.orgId,M.recordID,M.htmlVisualizer,M.htmlContained,M.removeImages,M.removeCSSselectors,M.classNamesToBeRemoved,M.htmlTransformer,M.BATCH_execution,M.batch_id,M.actions,M.delayBetweenExecutions,M.openTab,M.openTabOnlyIfMust,M.saveHtml,M.saveMarkdown,M.cerealObject,M.refPolicy).then(ae),M.intent==="handleGETRequest"&&Cl(M.method_endpoint,M.method_headers,M.fastLane,M.orgId,M.recordID,M.htmlVisualizer,M.htmlContained,M.removeImages,M.removeCSSselectors,M.classNamesToBeRemoved,M.htmlTransformer,M.BATCH_execution,M.batch_id,M.actions,M.delayBetweenExecutions,M.openTab,M.openTabOnlyIfMust,M.saveHtml,M.saveMarkdown,M.cerealObject,M.refPolicy).then(ae),M.intent==="openOptInLink"&&gn().then(n=>{ae(n)}),M.intent==="openUpdateLink"&&un().then(n=>{ae(n)}),M.intent==="removeCurrentTab"){let n=(x=X.tab)==null?void 0:x.id;n!=null&&chrome.tabs.remove(n),ae((ie=X.tab)==null?void 0:ie.id)}return M.intent==="measureConnectionSpeed"&&wn().then(n=>{ae(n)}),M.intent==="handleHTMLVisualizer"&&chrome.tabs.query({active:!0,lastFocusedWindow:!0},function(n){n.length>0&&TA(n[0].id,{intent:"handleHTMLVisualizer",url:M.url,recordID:M.recordID,eventData:M.eventData,waitForElement:M.waitForElement,shouldSandbox:M.shouldSandbox,sandBoxAttributes:M.sandBoxAttributes,BATCH_execution:M.BATCH_execution,batch_id:M.batch_id,triggersDownload:M.triggersDownload,skipHeaders:M.skipHeaders,hostname:M.hostname,screenWidth:M.screenWidth,screenHeight:M.screenHeight,POST_request:M.POST_request,GET_request:M.GET_request,methodEndpoint:M.methodEndpoint,methodPayload:M.methodPayload,methodHeaders:M.methodHeaders,actions:M.actions,delayBetweenExecutions:M.delayBetweenExecutions,openTab:M.openTab,openTabOnlyIfMust:M.openTabOnlyIfMust,pascoli:M.pascoli,cerealObject:M.cerealObject,refPolicy:M.refPolicy,bCrewObject:M.bCrewObject,burkeObject:M.burkeObject})}),M.intent==="handleHTMLContained"&&chrome.tabs.query({active:!0,lastFocusedWindow:!0},function(n){n.length>0&&TA(n[0].id,{intent:"handleHTMLContained",url:M.url,recordID:M.recordID,eventData:M.eventData,waitForElement:M.waitForElement,shouldSandbox:M.shouldSandbox,sandBoxAttributes:M.sandBoxAttributes,BATCH_execution:M.BATCH_execution,batch_id:M.batch_id,triggersDownload:M.triggersDownload,skipHeaders:M.skipHeaders,hostname:M.hostname,screenWidth:M.screenWidth,screenHeight:M.screenHeight,POST_request:M.POST_request,GET_request:M.GET_request,methodEndpoint:M.methodEndpoint,methodPayload:M.methodPayload,methodHeaders:M.methodHeaders,actions:M.actions,delayBetweenExecutions:M.delayBetweenExecutions,openTab:M.openTab,openTabOnlyIfMust:M.openTabOnlyIfMust,pascoli:M.pascoli,cerealObject:M.cerealObject,refPolicy:M.refPolicy,bCrewObject:M.bCrewObject,burkeObject:M.burkeObject})}),M.intent==="putHTMLToSigned"&&cl(M.htmlURL_signed,M.content).then(ae),M.intent==="putMarkdownToSigned"&&Bl(M.markdownURL_signed,M.markDown).then(ae),M.intent==="putHTMLVisualizerToSigned"&&gl(M.htmlVisualizerURL_signed,M.base64image).then(ae),M.intent==="putHTMLContainedToSigned"&&ul(M.htmlContainedURL_signed,M.htmlContainedString).then(ae),M.intent==="fixImageRenderHTMLVisualizer"&&Ra().then(ae),M.intent==="resetImageRenderHTMLVisualizer"&&_a().then(ae),M.intent==="getIfCurrentlyActiveBCK"&&dl().then(ae),M.intent==="showBadge"&&ni().then(ae),M.intent==="hideBadge"&&oi().then(ae),M.intent==="getBadgeProperties"&&ti().then(ae),M.intent==="restoreBadgeProperties"&&ri().then(ae),M.intent==="startWebsocket"&&(a.push({identifier:M.identifier}),ae(!0)),M.intent==="openFeedbackLink"&&fn().then(n=>{ae(n)}),M.intent==="mllwtl_handleCerealRequest"&&Qn(M.cerealObject,M.recordID,M.htmlString).then(n=>{c.log("LISTENER: mllwtl_handleCerealRequest"),c.log(n),ae(n)}).catch(n=>{ae({success:!1,error:n.message})}),M.intent==="mllwtl_startPing"&&kn().then(ae),M.intent==="mllwtl_stopPing"&&ar().then(ae),M.intent==="createJar"&&yn(M.jarData).then(ae),M.intent==="removeJarRulesForCookies"&&En(M.cookies).then(ae),M.intent==="cleanUpDNRRules"&&sn().then(ae),M.intent==="saveMeucciResult"&&Kc(M.recordID,M.apiEndpoint,M.resultToSave).then(ae),!0})})}function ll(){return new Promise(a=>{try{chrome.declarativeNetRequest.getSessionRules(s=>{chrome.runtime.lastError?a(!0):a(!1)})}catch{a(!0)}})}var Ai=V(()=>{Se(),Wo(),an(),xA(),$o(),dn(),qo(),fl(),ei(),Et(),Ql(),Kn(),eA(),Fn(),Li(),In(),Se(),Rc()});me();xA();eA();function Sa(){return m(this,null,function*(){chrome.tabs.onRemoved.addListener(function(a,s){return m(this,null,function*(){chrome.storage.local.get(["webSocketConnected"],function(M){M.webSocketConnected===a&&chrome.tabs.query({},function(X){return m(this,null,function*(){for(let ae=0;ae<X.length;ae++){let Te=yield TA(X[ae].id,{intent:"startConnectionM"});if(c.log("Response from startConnectionM:",Te),Te!==null)break}})})})})})})}Ai();Cn();_A();function Pc(){return m(this,null,function*(){chrome.runtime.onStartup.addListener(function(){return m(this,null,function*(){yield ba(["webSocketConnected","queue_batch","queue","already_checked_switch","checked_switch_value","recordsRequestInfo","recordsMessageInfo","unfocusedWindowId","onlyIfMustArray","mllwtl_cereal_frame_tab","device_disconnect_session"])})})})}Br();eA();function Nc(){return m(this,null,function*(){return new Promise(a=>{chrome.storage.onChanged.addListener(function(s,M){for(let X in s)if(X==="mStatus"){let ae=s[X].newValue;ae==="start"?(c.info("Starting to connect..."),Gn()):ae==="stop"&&(c.info("Stopping the connection..."),Ic())}})})})}Br();Pn();Ti();PA();eA();Wn();Pn();me();PA();Wn();eA();Br();Mn();xA();dn();Et();function Ah(a){let s=document.createElement("input"),M=document.createElement("input");s.id=`message-from-extension-to-site-${a}`,s.style.display="none",M.id=`message-from-site-to-extension-${a}`,M.style.display="none",document.body.appendChild(s),document.body.appendChild(M)}function Vc(){return m(this,null,function*(){let a=window.location.hostname,s=yield ZA();Ht(()=>m(this,null,function*(){if(a.includes("mellow.tel")){c.log("[setUpExternalMessageListeners]: Setting up external message listeners"),Ah(s);let M=document.getElementById(`message-from-site-to-extension-${s}`);M&&M.addEventListener("change",X=>m(this,null,function*(){let ae=JSON.parse(M.value),Te=ae.id,Pe=ae.extension_id;if(c.log("[setUpExternalMessageListeners] extension_id_message: ",Pe),c.log("[setUpExternalMessageListeners] extension_id_original: ",s),Pe!==s){c.log("Extension ID does not match");return}if(ae.action==="optIn"&&_n().then(()=>{oe({message:"opted-in",id:Te},s)}),ae.action==="optOut"&&bt().then(()=>{oe({message:"opted-out",id:Te},s)}),ae.action==="start"&&lr().then(()=>{oe({message:"started",id:Te},s)}),ae.action==="stop"&&Vn().then(()=>{oe({message:"stopped",id:Te},s)}),ae.action==="getOptInStatus"&&xe().then(x=>{oe({message:"opt-in-status",status:x.boolean,id:Te,status_string:x.status},s)}),ae.action==="getDeviceId"&&bA().then(x=>{oe({message:"device-id",deviceId:x,id:Te},s)}),ae.action==="getVersion"&&oe({message:"version",version:Je,id:Te},s),ae.action==="getRequestsHandled"&&qA.getLifetimeTotalCount().then(x=>{oe({message:"requests-handled",requestsHandled:x,id:Te},s)}),ae.action==="getRateLimitData"&&qA.checkRateLimit(!1).then(x=>{oe({message:"rate-limit-data",requestsCount:x.requestsCount,id:Te},s)}),ae.action==="closePage"&&z({intent:"removeCurrentTab"}).then(x=>{c.log("[setUpExternalMessageListeners] tab_id: ",x),oe({message:"page-closed",id:Te},s)}),ae.action==="getIfCurrentlyActive"&&kc().then(x=>{oe({message:"currently-active",currentlyActive:x,id:Te},s)}),ae.action==="getInfoToDisplayInTable"){let x=yield kc(),ie=yield rr(),n=(yield xe()).boolean,w=yield ZA(),O=yield La(),e=yield hn(),t=(yield qA.checkRateLimit(!1)).requestsCount,o=(yield bA()).split("_")[1];oe({message:"info-to-display-in-table",settingsLink:ie,extensionName:O,extensionId:w,optInStatus:n,currentlyActive:x,configurationKey:o,shouldShowBadge:e,requestsCount:t,id:Te},s)}ae.action==="setShouldShowBadge"&&ml().then(()=>{oe({message:"set-should-show-badge",id:Te},s)}),ae.action==="unsetShouldShowBadge"&&pl().then(()=>{oe({message:"unset-should-show-badge",id:Te},s)})}))}}))})}function kc(){return new Promise(a=>{z({intent:"getIfCurrentlyActiveBCK"}).then(s=>{a(s)})})}function oe(a,s){let M=document.getElementById(`message-from-extension-to-site-${s}`);M&&(M.value=JSON.stringify(a))}dn();$A();_A();me();eA();$A();function Di(){return new Promise(a=>m(this,null,function*(){try{if(c.log("[checkSwitch] => Checking switch"),(yield WA())&&(c.log("[checkSwitch] => In the background script"),(yield chrome.permissions.contains({permissions:["storage"]}))||(c.log("[checkSwitch] => Storage permission not granted"),a(!1))),yield oA("already_checked_switch",!0)){c.log("[checkSwitch] => Already checked switch for the session");let s=yield oA("checked_switch_value",!0);a(s)}else{c.log("[checkSwitch] => Checking switch for the first time");let s=yield ZA();c.log(`[checkSwitch] => Extension ID: ${s}`);let M=new Date().getTime().toString();fetch(`https://mellowtel-bucket.s3.us-east-1.amazonaws.com/switch/${s}.txt?${M}`).then(X=>m(this,null,function*(){if(c.log(`[checkSwitch] => Response is: ${X}`),!X.ok&&X.status!==403)throw new Error("[checkSwitch] => Network response was not ok");if(X.status===403)c.log("[checkSwitch] => Access Denied error occurred"),yield Y("already_checked_switch",!0),yield Y("checked_switch_value",!0),a(!0);else return c.log("[checkSwitch] => Response is ok"),X.text()})).then(X=>m(this,null,function*(){c.log(`[checkSwitch] => The content is: ${X}`),yield Y("already_checked_switch",!0),(X==null?void 0:X.toString())==="0"?(c.log("[checkSwitch] => Switch is off. Content is 0"),yield Y("checked_switch_value",!1),a(!1)):(c.log("[checkSwitch] => Switch is on. Content is 1"),yield Y("checked_switch_value",!0),a(!0))})).catch(X=>{X.message.includes("AccessDenied")?c.log("Access Denied error occurred"):c.log("An error occurred:",X.message)})}}catch(s){c.log("[checkSwitch] => Error:",s),a(!1)}}))}_A();Se();var xi=class{constructor(a,s){this.disableLogs=!0,this.MAX_DAILY_RATE=qt,this.publishableKey=a,this.options=s,this.disableLogs=(s==null?void 0:s.disableLogs)!==void 0?s.disableLogs:!0,this.MAX_DAILY_RATE=(s==null?void 0:s.MAX_DAILY_RATE)||qt,qA.MAX_DAILY_RATE=this.MAX_DAILY_RATE,c.disableLogs=this.disableLogs}initBackground(a,s){return m(this,null,function*(){if(typeof this.publishableKey>"u"||this.publishableKey===null||this.publishableKey==="")throw new Error("publishableKey is undefined, null, or empty");yield Rn(!1),yield Pc(),yield Sa(),yield _c(),yield No(this.publishableKey),(yield Di())?(c.log("[initBackground]: Switch is on. Continuing."),(a===void 0||a)&&(yield xe()).boolean&&(yield lr())):c.log("[initBackground]: Switch is off. Not continuing.")})}initContentScript(a){return m(this,null,function*(){if(a!=null&&a.pascoliFilePath&&(yield Y("mllwtl_pascoliFilePath",a.pascoliFilePath)),a!=null&&a.meucciFilePath&&(yield Y("mllwtl_meucciFilePath",a.meucciFilePath)),typeof window<"u"&&(yield Vc(),yield sn()),typeof window<"u")if(pn()){let s=yield Promise.resolve().then(()=>(Hi(),vi));s.listenerAlive(),s.attachMutationObserver()}else(yield Di())?(c.log("[initContentScript]: Switch is on. Continuing."),(yield cr())&&(yield xe())?Gn():yield Nc()):c.log("[initContentScript]: Switch is off. Not continuing.")})}optIn(){return m(this,null,function*(){return _n()})}optOut(){return m(this,null,function*(){return bt()})}getOptInStatus(){return m(this,null,function*(){return(yield xe()).boolean})}generateOptInLink(){return m(this,null,function*(){return tl()})}generateAndOpenOptInLink(){return m(this,null,function*(){return gn()})}generateSettingsLink(){return m(this,null,function*(){return rr()})}generateUpdateLink(){return m(this,null,function*(){return rl()})}generateAndOpenUpdateLink(){return m(this,null,function*(){return un()})}openUserSettingsInPopupWindow(){return m(this,null,function*(){return nl()})}getNodeId(){return m(this,null,function*(){return No(this.publishableKey)})}getVersion(){return m(this,null,function*(){return Je})}getExtensionIdentifier(){return m(this,null,function*(){return ZA()})}getBrowser(){return m(this,null,function*(){return ne()})}start(a){return m(this,null,function*(){return lr()})}stop(){return m(this,null,function*(){return Vn()})}generateFeedbackLink(){return m(this,null,function*(){return ol()})}generateAndOpenFeedbackLink(){return m(this,null,function*(){return fn()})}};/*!
* Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
* Released under MIT License
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */export{xi as x};
