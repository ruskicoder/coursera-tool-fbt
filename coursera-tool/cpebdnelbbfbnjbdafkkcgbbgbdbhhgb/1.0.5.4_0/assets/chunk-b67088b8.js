var gp=Object.defineProperty;var pp=(a,s,M)=>s in a?gp(a,s,{enumerable:!0,configurable:!0,writable:!0,value:M}):a[s]=M;var br=(a,s,M)=>(pp(a,typeof s!="symbol"?s+"":s,M),M),t0=(a,s,M)=>{if(!s.has(a))throw TypeError("Cannot "+M)};var Ue=(a,s,M)=>(t0(a,s,"read from private field"),M?M.call(a):s.get(a)),ct=(a,s,M)=>{if(s.has(a))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(a):s.set(a,M)},Pt=(a,s,M,V)=>(t0(a,s,"write to private field"),V?V.call(a,M):s.set(a,M),M);var bo=(a,s,M,V)=>({set _(Ae){Pt(a,s,Ae,M)},get _(){return Ue(a,s,V)}}),dt=(a,s,M)=>(t0(a,s,"access private method"),M);import{g as getDefaultExportFromCjs,c as commonjsGlobal,a as getAugmentedNamespace}from"./chunk-de833af9.js";function _mergeNamespaces(a,s){for(var M=0;M<s.length;M++){const V=s[M];if(typeof V!="string"&&!Array.isArray(V)){for(const Ae in V)if(Ae!=="default"&&!(Ae in a)){const _e=Object.getOwnPropertyDescriptor(V,Ae);_e&&Object.defineProperty(a,Ae,_e.get?_e:{enumerable:!0,get:()=>V[Ae]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}var g=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},support={searchParams:"URLSearchParams"in g,iterable:"Symbol"in g&&"iterator"in Symbol,blob:"FileReader"in g&&"Blob"in g&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in g,arrayBuffer:"ArrayBuffer"in g};function isDataView(a){return a&&DataView.prototype.isPrototypeOf(a)}if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(a){return a&&viewClasses.indexOf(Object.prototype.toString.call(a))>-1};function normalizeName(a){if(typeof a!="string"&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(a)||a==="")throw new TypeError('Invalid character in header field name: "'+a+'"');return a.toLowerCase()}function normalizeValue(a){return typeof a!="string"&&(a=String(a)),a}function iteratorFor(a){var s={next:function(){var M=a.shift();return{done:M===void 0,value:M}}};return support.iterable&&(s[Symbol.iterator]=function(){return s}),s}function Headers$1(a){this.map={},a instanceof Headers$1?a.forEach(function(s,M){this.append(M,s)},this):Array.isArray(a)?a.forEach(function(s){if(s.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+s.length);this.append(s[0],s[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(s){this.append(s,a[s])},this)}Headers$1.prototype.append=function(a,s){a=normalizeName(a),s=normalizeValue(s);var M=this.map[a];this.map[a]=M?M+", "+s:s};Headers$1.prototype.delete=function(a){delete this.map[normalizeName(a)]};Headers$1.prototype.get=function(a){return a=normalizeName(a),this.has(a)?this.map[a]:null};Headers$1.prototype.has=function(a){return this.map.hasOwnProperty(normalizeName(a))};Headers$1.prototype.set=function(a,s){this.map[normalizeName(a)]=normalizeValue(s)};Headers$1.prototype.forEach=function(a,s){for(var M in this.map)this.map.hasOwnProperty(M)&&a.call(s,this.map[M],M,this)};Headers$1.prototype.keys=function(){var a=[];return this.forEach(function(s,M){a.push(M)}),iteratorFor(a)};Headers$1.prototype.values=function(){var a=[];return this.forEach(function(s){a.push(s)}),iteratorFor(a)};Headers$1.prototype.entries=function(){var a=[];return this.forEach(function(s,M){a.push([M,s])}),iteratorFor(a)};support.iterable&&(Headers$1.prototype[Symbol.iterator]=Headers$1.prototype.entries);function consumed(a){if(!a._noBody){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}}function fileReaderReady(a){return new Promise(function(s,M){a.onload=function(){s(a.result)},a.onerror=function(){M(a.error)}})}function readBlobAsArrayBuffer(a){var s=new FileReader,M=fileReaderReady(s);return s.readAsArrayBuffer(a),M}function readBlobAsText(a){var s=new FileReader,M=fileReaderReady(s),V=/charset=([A-Za-z0-9_-]+)/.exec(a.type),Ae=V?V[1]:"utf-8";return s.readAsText(a,Ae),M}function readArrayBufferAsText(a){for(var s=new Uint8Array(a),M=new Array(s.length),V=0;V<s.length;V++)M[V]=String.fromCharCode(s[V]);return M.join("")}function bufferClone(a){if(a.slice)return a.slice(0);var s=new Uint8Array(a.byteLength);return s.set(new Uint8Array(a)),s.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(a){this.bodyUsed=this.bodyUsed,this._bodyInit=a,a?typeof a=="string"?this._bodyText=a:support.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:support.formData&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():support.arrayBuffer&&support.blob&&isDataView(a)?(this._bodyArrayBuffer=bufferClone(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||isArrayBufferView(a))?this._bodyArrayBuffer=bufferClone(a):this._bodyText=a=Object.prototype.toString.call(a):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof a=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var a=consumed(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var a=consumed(this);return a||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(support.blob)return this.blob().then(readBlobAsArrayBuffer);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var a=consumed(this);if(a)return a;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}var methods=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function normalizeMethod(a){var s=a.toUpperCase();return methods.indexOf(s)>-1?s:a}function Request(a,s){if(!(this instanceof Request))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');s=s||{};var M=s.body;if(a instanceof Request){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,s.headers||(this.headers=new Headers$1(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,!M&&a._bodyInit!=null&&(M=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=s.credentials||this.credentials||"same-origin",(s.headers||!this.headers)&&(this.headers=new Headers$1(s.headers)),this.method=normalizeMethod(s.method||this.method||"GET"),this.mode=s.mode||this.mode||null,this.signal=s.signal||this.signal||function(){if("AbortController"in g){var _e=new AbortController;return _e.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&M)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(M),(this.method==="GET"||this.method==="HEAD")&&(s.cache==="no-store"||s.cache==="no-cache")){var V=/([?&])_=[^&]*/;if(V.test(this.url))this.url=this.url.replace(V,"$1_="+new Date().getTime());else{var Ae=/\?/;this.url+=(Ae.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})};function decode(a){var s=new FormData;return a.trim().split("&").forEach(function(M){if(M){var V=M.split("="),Ae=V.shift().replace(/\+/g," "),_e=V.join("=").replace(/\+/g," ");s.append(decodeURIComponent(Ae),decodeURIComponent(_e))}}),s}function parseHeaders(a){var s=new Headers$1,M=a.replace(/\r?\n[\t ]+/g," ");return M.split("\r").map(function(V){return V.indexOf(`
`)===0?V.substr(1,V.length):V}).forEach(function(V){var Ae=V.split(":"),_e=Ae.shift().trim();if(_e){var Pe=Ae.join(":").trim();try{s.append(_e,Pe)}catch(h){console.warn("Response "+h.message)}}}),s}Body.call(Request.prototype);function Response$1(a,s){if(!(this instanceof Response$1))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(s||(s={}),this.type="default",this.status=s.status===void 0?200:s.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=s.statusText===void 0?"":""+s.statusText,this.headers=new Headers$1(s.headers),this.url=s.url||"",this._initBody(a)}Body.call(Response$1.prototype);Response$1.prototype.clone=function(){return new Response$1(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers$1(this.headers),url:this.url})};Response$1.error=function(){var a=new Response$1(null,{status:200,statusText:""});return a.ok=!1,a.status=0,a.type="error",a};var redirectStatuses=[301,302,303,307,308];Response$1.redirect=function(a,s){if(redirectStatuses.indexOf(s)===-1)throw new RangeError("Invalid status code");return new Response$1(null,{status:s,headers:{location:a}})};var DOMException=g.DOMException;try{new DOMException}catch{DOMException=function(s,M){this.message=s,this.name=M;var V=Error(s);this.stack=V.stack},DOMException.prototype=Object.create(Error.prototype),DOMException.prototype.constructor=DOMException}function fetch$1(a,s){return new Promise(function(M,V){var Ae=new Request(a,s);if(Ae.signal&&Ae.signal.aborted)return V(new DOMException("Aborted","AbortError"));var _e=new XMLHttpRequest;function Pe(){_e.abort()}_e.onload=function(){var n={statusText:_e.statusText,headers:parseHeaders(_e.getAllResponseHeaders()||"")};Ae.url.indexOf("file://")===0&&(_e.status<200||_e.status>599)?n.status=200:n.status=_e.status,n.url="responseURL"in _e?_e.responseURL:n.headers.get("X-Request-URL");var x="response"in _e?_e.response:_e.responseText;setTimeout(function(){M(new Response$1(x,n))},0)},_e.onerror=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},_e.ontimeout=function(){setTimeout(function(){V(new TypeError("Network request timed out"))},0)},_e.onabort=function(){setTimeout(function(){V(new DOMException("Aborted","AbortError"))},0)};function h(n){try{return n===""&&g.location.href?g.location.href:n}catch{return n}}if(_e.open(Ae.method,h(Ae.url),!0),Ae.credentials==="include"?_e.withCredentials=!0:Ae.credentials==="omit"&&(_e.withCredentials=!1),"responseType"in _e&&(support.blob?_e.responseType="blob":support.arrayBuffer&&(_e.responseType="arraybuffer")),s&&typeof s.headers=="object"&&!(s.headers instanceof Headers$1||g.Headers&&s.headers instanceof g.Headers)){var re=[];Object.getOwnPropertyNames(s.headers).forEach(function(n){re.push(normalizeName(n)),_e.setRequestHeader(n,normalizeValue(s.headers[n]))}),Ae.headers.forEach(function(n,x){re.indexOf(x)===-1&&_e.setRequestHeader(x,n)})}else Ae.headers.forEach(function(n,x){_e.setRequestHeader(x,n)});Ae.signal&&(Ae.signal.addEventListener("abort",Pe),_e.onreadystatechange=function(){_e.readyState===4&&Ae.signal.removeEventListener("abort",Pe)}),_e.send(typeof Ae._bodyInit>"u"?null:Ae._bodyInit)})}fetch$1.polyfill=!0;g.fetch||(g.fetch=fetch$1,g.Headers=Headers$1,g.Request=Request,g.Response=Response$1);self.fetch.bind(self);var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",funcTag="[object Function]",genTag="[object GeneratorFunction]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function getValue(a,s){return a==null?void 0:a[s]}function isHostObject(a){var s=!1;if(a!=null&&typeof a.toString!="function")try{s=!!(a+"")}catch{}return s}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var a=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),splice=arrayProto.splice,Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create");function Hash(a){var s=-1,M=a?a.length:0;for(this.clear();++s<M;){var V=a[s];this.set(V[0],V[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(a){return this.has(a)&&delete this.__data__[a]}function hashGet(a){var s=this.__data__;if(nativeCreate){var M=s[a];return M===HASH_UNDEFINED?void 0:M}return hasOwnProperty.call(s,a)?s[a]:void 0}function hashHas(a){var s=this.__data__;return nativeCreate?s[a]!==void 0:hasOwnProperty.call(s,a)}function hashSet(a,s){var M=this.__data__;return M[a]=nativeCreate&&s===void 0?HASH_UNDEFINED:s,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(a){var s=-1,M=a?a.length:0;for(this.clear();++s<M;){var V=a[s];this.set(V[0],V[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(a){var s=this.__data__,M=assocIndexOf(s,a);if(M<0)return!1;var V=s.length-1;return M==V?s.pop():splice.call(s,M,1),!0}function listCacheGet(a){var s=this.__data__,M=assocIndexOf(s,a);return M<0?void 0:s[M][1]}function listCacheHas(a){return assocIndexOf(this.__data__,a)>-1}function listCacheSet(a,s){var M=this.__data__,V=assocIndexOf(M,a);return V<0?M.push([a,s]):M[V][1]=s,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(a){var s=-1,M=a?a.length:0;for(this.clear();++s<M;){var V=a[s];this.set(V[0],V[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function mapCacheDelete(a){return getMapData(this,a).delete(a)}function mapCacheGet(a){return getMapData(this,a).get(a)}function mapCacheHas(a){return getMapData(this,a).has(a)}function mapCacheSet(a,s){return getMapData(this,a).set(a,s),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function assocIndexOf(a,s){for(var M=a.length;M--;)if(eq(a[M][0],s))return M;return-1}function baseIsNative(a){if(!isObject(a)||isMasked(a))return!1;var s=isFunction(a)||isHostObject(a)?reIsNative:reIsHostCtor;return s.test(toSource(a))}function getMapData(a,s){var M=a.__data__;return isKeyable(s)?M[typeof s=="string"?"string":"hash"]:M.map}function getNative(a,s){var M=getValue(a,s);return baseIsNative(M)?M:void 0}function isKeyable(a){var s=typeof a;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?a!=="__proto__":a===null}function isMasked(a){return!!maskSrcKey&&maskSrcKey in a}function toSource(a){if(a!=null){try{return funcToString.call(a)}catch{}try{return a+""}catch{}}return""}function memoize(a,s){if(typeof a!="function"||s&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);var M=function(){var V=arguments,Ae=s?s.apply(this,V):V[0],_e=M.cache;if(_e.has(Ae))return _e.get(Ae);var Pe=a.apply(this,V);return M.cache=_e.set(Ae,Pe),Pe};return M.cache=new(memoize.Cache||MapCache),M}memoize.Cache=MapCache;function eq(a,s){return a===s||a!==a&&s!==s}function isFunction(a){var s=isObject(a)?objectToString.call(a):"";return s==funcTag||s==genTag}function isObject(a){var s=typeof a;return!!a&&(s=="object"||s=="function")}var lodash_memoize=memoize;const memoize$1=getDefaultExportFromCjs(lodash_memoize);function ascending(a,s){return a==null||s==null?NaN:a<s?-1:a>s?1:a>=s?0:NaN}function descending(a,s){return a==null||s==null?NaN:s<a?-1:s>a?1:s>=a?0:NaN}function bisector(a){let s,M,V;a.length!==2?(s=ascending,M=(h,re)=>ascending(a(h),re),V=(h,re)=>a(h)-re):(s=a===ascending||a===descending?a:zero,M=a,V=a);function Ae(h,re,n=0,x=h.length){if(n<x){if(s(re,re)!==0)return x;do{const U=n+x>>>1;M(h[U],re)<0?n=U+1:x=U}while(n<x)}return n}function _e(h,re,n=0,x=h.length){if(n<x){if(s(re,re)!==0)return x;do{const U=n+x>>>1;M(h[U],re)<=0?n=U+1:x=U}while(n<x)}return n}function Pe(h,re,n=0,x=h.length){const U=Ae(h,re,n,x-1);return U>n&&V(h[U-1],re)>-V(h[U],re)?U-1:U}return{left:Ae,center:Pe,right:_e}}function zero(){return 0}function number(a){return a===null?NaN:+a}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number).center;const bisect=bisectRight;function initRange(a,s){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(s).domain(a);break}return this}function threshold(){var a=[.5],s=[0,1],M,V=1;function Ae(_e){return _e!=null&&_e<=_e?s[bisect(a,_e,0,V)]:M}return Ae.domain=function(_e){return arguments.length?(a=Array.from(_e),V=Math.min(a.length,s.length-1),Ae):a.slice()},Ae.range=function(_e){return arguments.length?(s=Array.from(_e),V=Math.min(a.length,s.length-1),Ae):s.slice()},Ae.invertExtent=function(_e){var Pe=s.indexOf(_e);return[a[Pe-1],a[Pe]]},Ae.unknown=function(_e){return arguments.length?(M=_e,Ae):M},Ae.copy=function(){return threshold().domain(a).range(s).unknown(M)},initRange.apply(Ae,arguments)}function _iterableToArrayLimit(a,s){var M=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(M!=null){var V,Ae,_e,Pe,h=[],re=!0,n=!1;try{if(_e=(M=M.call(a)).next,s===0){if(Object(M)!==M)return;re=!1}else for(;!(re=(V=_e.call(M)).done)&&(h.push(V.value),h.length!==s);re=!0);}catch(x){n=!0,Ae=x}finally{try{if(!re&&M.return!=null&&(Pe=M.return(),Object(Pe)!==Pe))return}finally{if(n)throw Ae}}return h}}function ownKeys(a,s){var M=Object.keys(a);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(a);s&&(V=V.filter(function(Ae){return Object.getOwnPropertyDescriptor(a,Ae).enumerable})),M.push.apply(M,V)}return M}function _objectSpread2(a){for(var s=1;s<arguments.length;s++){var M=arguments[s]!=null?arguments[s]:{};s%2?ownKeys(Object(M),!0).forEach(function(V){_defineProperty(a,V,M[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(M)):ownKeys(Object(M)).forEach(function(V){Object.defineProperty(a,V,Object.getOwnPropertyDescriptor(M,V))})}return a}function _classCallCheck(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,s){for(var M=0;M<s.length;M++){var V=s[M];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(a,_toPropertyKey(V.key),V)}}function _createClass(a,s,M){return s&&_defineProperties(a.prototype,s),M&&_defineProperties(a,M),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,s,M){return s=_toPropertyKey(s),s in a?Object.defineProperty(a,s,{value:M,enumerable:!0,configurable:!0,writable:!0}):a[s]=M,a}function _inherits(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&_setPrototypeOf(a,s)}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},_getPrototypeOf(a)}function _setPrototypeOf(a,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,Ae){return V.__proto__=Ae,V},_setPrototypeOf(a,s)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _objectWithoutPropertiesLoose(a,s){if(a==null)return{};var M={},V=Object.keys(a),Ae,_e;for(_e=0;_e<V.length;_e++)Ae=V[_e],!(s.indexOf(Ae)>=0)&&(M[Ae]=a[Ae]);return M}function _objectWithoutProperties(a,s){if(a==null)return{};var M=_objectWithoutPropertiesLoose(a,s),V,Ae;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(a);for(Ae=0;Ae<_e.length;Ae++)V=_e[Ae],!(s.indexOf(V)>=0)&&Object.prototype.propertyIsEnumerable.call(a,V)&&(M[V]=a[V])}return M}function _assertThisInitialized(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _possibleConstructorReturn(a,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _createSuper(a){var s=_isNativeReflectConstruct();return function(){var V=_getPrototypeOf(a),Ae;if(s){var _e=_getPrototypeOf(this).constructor;Ae=Reflect.construct(V,arguments,_e)}else Ae=V.apply(this,arguments);return _possibleConstructorReturn(this,Ae)}}function _superPropBase(a,s){for(;!Object.prototype.hasOwnProperty.call(a,s)&&(a=_getPrototypeOf(a),a!==null););return a}function _get(){return typeof Reflect<"u"&&Reflect.get?_get=Reflect.get.bind():_get=function(s,M,V){var Ae=_superPropBase(s,M);if(Ae){var _e=Object.getOwnPropertyDescriptor(Ae,M);return _e.get?_e.get.call(arguments.length<3?s:V):_e.value}},_get.apply(this,arguments)}function set(a,s,M,V){return typeof Reflect<"u"&&Reflect.set?set=Reflect.set:set=function(_e,Pe,h,re){var n=_superPropBase(_e,Pe),x;if(n){if(x=Object.getOwnPropertyDescriptor(n,Pe),x.set)return x.set.call(re,h),!0;if(!x.writable)return!1}if(x=Object.getOwnPropertyDescriptor(re,Pe),x){if(!x.writable)return!1;x.value=h,Object.defineProperty(re,Pe,x)}else _defineProperty(re,Pe,h);return!0},set(a,s,M,V)}function _set(a,s,M,V,Ae){var _e=set(a,s,M,V||a);if(!_e&&Ae)throw new TypeError("failed to set property");return M}function _slicedToArray(a,s){return _arrayWithHoles(a)||_iterableToArrayLimit(a,s)||_unsupportedIterableToArray(a,s)||_nonIterableRest()}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _iterableToArray(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function _unsupportedIterableToArray(a,s){if(a){if(typeof a=="string")return _arrayLikeToArray(a,s);var M=Object.prototype.toString.call(a).slice(8,-1);if(M==="Object"&&a.constructor&&(M=a.constructor.name),M==="Map"||M==="Set")return Array.from(a);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return _arrayLikeToArray(a,s)}}function _arrayLikeToArray(a,s){(s==null||s>a.length)&&(s=a.length);for(var M=0,V=new Array(s);M<s;M++)V[M]=a[M];return V}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(a,s){if(typeof a!="object"||a===null)return a;var M=a[Symbol.toPrimitive];if(M!==void 0){var V=M.call(a,s||"default");if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function _toPropertyKey(a){var s=_toPrimitive(a,"string");return typeof s=="symbol"?s:String(s)}function _classPrivateFieldGet(a,s){var M=_classExtractFieldDescriptor(a,s,"get");return _classApplyDescriptorGet(a,M)}function _classPrivateFieldSet(a,s,M){var V=_classExtractFieldDescriptor(a,s,"set");return _classApplyDescriptorSet(a,V,M),M}function _classExtractFieldDescriptor(a,s,M){if(!s.has(a))throw new TypeError("attempted to "+M+" private field on non-instance");return s.get(a)}function _classApplyDescriptorGet(a,s){return s.get?s.get.call(a):s.value}function _classApplyDescriptorSet(a,s,M){if(s.set)s.set.call(a,M);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=M}}function _classPrivateMethodGet(a,s,M){if(!s.has(a))throw new TypeError("attempted to get private field on non-instance");return M}function _checkPrivateRedeclaration(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec(a,s,M){_checkPrivateRedeclaration(a,s),s.set(a,M)}function _classPrivateMethodInitSpec(a,s){_checkPrivateRedeclaration(a,s),s.add(a)}var REL_API_URL="https://speed.cloudflare.com",defaultConfig={autoStart:!0,downloadApiUrl:"".concat(REL_API_URL,"/__down"),uploadApiUrl:"".concat(REL_API_URL,"/__up"),logMeasurementApiUrl:null,logAimApiUrl:"https://aim.cloudflare.com/__log",turnServerUri:"turn.speed.cloudflare.com:50000",turnServerCredsApiUrl:"".concat(REL_API_URL,"/turn-creds"),turnServerUser:null,turnServerPass:null,rpkiInvalidHost:"invalid.rpki.cloudflare.com",cfTraceUrl:"".concat(REL_API_URL,"/cdn-cgi/trace"),includeCredentials:!1,measurements:[{type:"latency",numPackets:1},{type:"download",bytes:1e5,count:1,bypassMinDuration:!0},{type:"latency",numPackets:20},{type:"download",bytes:1e5,count:9},{type:"download",bytes:1e6,count:8},{type:"upload",bytes:1e5,count:8},{type:"packetLoss",numPackets:1e3,batchSize:10,batchWaitTime:10,responsesWaitTime:3e3},{type:"upload",bytes:1e6,count:6},{type:"download",bytes:1e7,count:6},{type:"upload",bytes:1e7,count:4},{type:"download",bytes:25e6,count:4},{type:"upload",bytes:25e6,count:4},{type:"download",bytes:1e8,count:3},{type:"upload",bytes:5e7,count:3},{type:"download",bytes:25e7,count:2}],measureDownloadLoadedLatency:!0,measureUploadLoadedLatency:!0,loadedLatencyThrottle:400,bandwidthFinishRequestDuration:1e3,estimatedServerTime:10,latencyPercentile:.5,bandwidthPercentile:.9,bandwidthMinRequestDuration:10,loadedRequestMinDuration:250,loadedLatencyMaxPoints:20},internalConfig={aimMeasurementScoring:{packetLoss:threshold([.01,.05,.25,.5],[10,5,0,-10,-20]),latency:threshold([10,20,50,100,500],[20,10,5,0,-10,-20]),loadedLatencyIncrease:threshold([10,20,50,100,500],[20,10,5,0,-10,-20]),jitter:threshold([10,20,100,500],[10,5,0,-10,-20]),download:threshold([1e6,1e7,5e7,1e8],[0,5,10,20,30]),upload:threshold([1e6,1e7,5e7,1e8],[0,5,10,20,30])},aimExperiencesDefs:{streaming:{input:["latency","packetLoss","download","loadedLatencyIncrease"],pointThresholds:[15,20,40,60]},gaming:{input:["latency","packetLoss","loadedLatencyIncrease"],pointThresholds:[5,15,25,30]},rtc:{input:["latency","jitter","packetLoss","loadedLatencyIncrease"],pointThresholds:[5,15,25,40]}}},MAX_RETRIES=20,ESTIMATED_HEADER_FRACTION=.005,cfGetServerTime=function(s){var M=s.headers.get("server-timing");if(M){var V=M.match(/dur=([0-9.]+)/);if(V)return+V[1]}},getTtfb=function(s){return s.responseStart-s.requestStart},gePayloadDownload=function(s){return s.responseEnd-s.responseStart},calcDownloadDuration=function(s){var M=s.ping,V=s.payloadDownloadTime;return M+V},calcUploadDuration=function(s){var M=s.ttfb;return M},calcDownloadSpeed=function(s,M){var V=s.duration,Ae=s.transferSize,_e=8*(Ae||+M*(1+ESTIMATED_HEADER_FRACTION)),Pe=V/1e3;return Pe?_e/Pe:void 0},calcUploadSpeed=function(s,M){var V=s.duration,Ae=8*M*(1+ESTIMATED_HEADER_FRACTION),_e=V/1e3;return _e?Ae/_e:void 0},genContent=memoize$1(function(a){return"0".repeat(a)}),_qsParams=new WeakMap,_fetchOptions=new WeakMap,_responseHook=new WeakMap,_onRunningChange=new WeakMap,_onNewMeasurementStarted=new WeakMap,_onMeasurementResult=new WeakMap,_onFinished$1=new WeakMap,_onConnectionError$1=new WeakMap,_measurements=new WeakMap,_downloadApi=new WeakMap,_uploadApi=new WeakMap,_running$2=new WeakMap,_finished$1=new WeakMap,_results$1=new WeakMap,_measIdx=new WeakMap,_counter=new WeakMap,_retries=new WeakMap,_minDuration=new WeakMap,_throttleMs=new WeakMap,_estimatedServerTime=new WeakMap,_currentFetchPromise=new WeakMap,_currentNextMsmTimeoutId=new WeakMap,_setRunning$2=new WeakSet,_saveMeasurementResults=new WeakSet,_nextMeasurement=new WeakSet,_cancelCurrentMeasurement=new WeakSet,BandwidthMeasurementEngine=function(){function a(s){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=M.downloadApiUrl,Ae=M.uploadApiUrl,_e=M.throttleMs,Pe=_e===void 0?0:_e,h=M.estimatedServerTime,re=h===void 0?0:h;if(_classCallCheck(this,a),_classPrivateMethodInitSpec(this,_cancelCurrentMeasurement),_classPrivateMethodInitSpec(this,_nextMeasurement),_classPrivateMethodInitSpec(this,_saveMeasurementResults),_classPrivateMethodInitSpec(this,_setRunning$2),_classPrivateFieldInitSpec(this,_qsParams,{writable:!0,value:{}}),_classPrivateFieldInitSpec(this,_fetchOptions,{writable:!0,value:{}}),_defineProperty(this,"finishRequestDuration",1e3),_defineProperty(this,"getServerTime",cfGetServerTime),_classPrivateFieldInitSpec(this,_responseHook,{writable:!0,value:function(x){return x}}),_classPrivateFieldInitSpec(this,_onRunningChange,{writable:!0,value:function(){}}),_classPrivateFieldInitSpec(this,_onNewMeasurementStarted,{writable:!0,value:function(){}}),_classPrivateFieldInitSpec(this,_onMeasurementResult,{writable:!0,value:function(){}}),_classPrivateFieldInitSpec(this,_onFinished$1,{writable:!0,value:function(){}}),_classPrivateFieldInitSpec(this,_onConnectionError$1,{writable:!0,value:function(){}}),_classPrivateFieldInitSpec(this,_measurements,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_downloadApi,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_uploadApi,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_running$2,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,_finished$1,{writable:!0,value:{down:!1,up:!1}}),_classPrivateFieldInitSpec(this,_results$1,{writable:!0,value:{down:{},up:{}}}),_classPrivateFieldInitSpec(this,_measIdx,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,_counter,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,_retries,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,_minDuration,{writable:!0,value:-1/0}),_classPrivateFieldInitSpec(this,_throttleMs,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,_estimatedServerTime,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,_currentFetchPromise,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_currentNextMsmTimeoutId,{writable:!0,value:void 0}),!s)throw new Error("Missing measurements argument");if(!V)throw new Error("Missing downloadApiUrl argument");if(!Ae)throw new Error("Missing uploadApiUrl argument");_classPrivateFieldSet(this,_measurements,s),_classPrivateFieldSet(this,_downloadApi,V),_classPrivateFieldSet(this,_uploadApi,Ae),_classPrivateFieldSet(this,_throttleMs,Pe),_classPrivateFieldSet(this,_estimatedServerTime,Math.max(0,re))}return _createClass(a,[{key:"results",get:function(){return _classPrivateFieldGet(this,_results$1)}},{key:"qsParams",get:function(){return _classPrivateFieldGet(this,_qsParams)},set:function(M){_classPrivateFieldSet(this,_qsParams,M)}},{key:"fetchOptions",get:function(){return _classPrivateFieldGet(this,_fetchOptions)},set:function(M){_classPrivateFieldSet(this,_fetchOptions,M)}},{key:"responseHook",set:function(M){_classPrivateFieldSet(this,_responseHook,M)}},{key:"onRunningChange",set:function(M){_classPrivateFieldSet(this,_onRunningChange,M)}},{key:"onNewMeasurementStarted",set:function(M){_classPrivateFieldSet(this,_onNewMeasurementStarted,M)}},{key:"onMeasurementResult",set:function(M){_classPrivateFieldSet(this,_onMeasurementResult,M)}},{key:"onFinished",set:function(M){_classPrivateFieldSet(this,_onFinished$1,M)}},{key:"onConnectionError",set:function(M){_classPrivateFieldSet(this,_onConnectionError$1,M)}},{key:"pause",value:function(){clearTimeout(_classPrivateFieldGet(this,_currentNextMsmTimeoutId)),_classPrivateMethodGet(this,_cancelCurrentMeasurement,_cancelCurrentMeasurement2).call(this),_classPrivateMethodGet(this,_setRunning$2,_setRunning2$2).call(this,!1)}},{key:"play",value:function(){_classPrivateFieldGet(this,_running$2)||(_classPrivateMethodGet(this,_setRunning$2,_setRunning2$2).call(this,!0),_classPrivateMethodGet(this,_nextMeasurement,_nextMeasurement2).call(this))}}]),a}();function _setRunning2$2(a){var s=this;a!==_classPrivateFieldGet(this,_running$2)&&(_classPrivateFieldSet(this,_running$2,a),setTimeout(function(){return _classPrivateFieldGet(s,_onRunningChange).call(s,_classPrivateFieldGet(s,_running$2))}))}function _saveMeasurementResults2(a,s){var M=this,V=_classPrivateFieldGet(this,_measurements)[a],Ae=V.bytes,_e=V.dir,Pe=_classPrivateFieldGet(this,_results$1),h=Pe[_e].hasOwnProperty(Ae)?Pe[_e][Ae]:{timings:[],numMeasurements:_classPrivateFieldGet(this,_measurements).filter(function(re){var n=re.bytes,x=re.dir;return Ae===n&&_e===x}).map(function(re){return re.count}).reduce(function(re,n){return re+n},0)};s&&h.timings.push(s),h.timings=h.timings.slice(-h.numMeasurements),Pe[_e][Ae]=h,s?setTimeout(function(){_classPrivateFieldGet(M,_onMeasurementResult).call(M,_objectSpread2({type:_e,bytes:Ae},s),Pe)}):_classPrivateFieldGet(this,_onNewMeasurementStarted).call(this,_classPrivateFieldGet(this,_measurements)[a],Pe)}function _nextMeasurement2(){var a=this,s=_classPrivateFieldGet(this,_measurements),M=s[_classPrivateFieldGet(this,_measIdx)];if(_classPrivateFieldGet(this,_counter)>=M.count){var V=_classPrivateFieldGet(this,_finished$1);if(_classPrivateFieldGet(this,_minDuration)>this.finishRequestDuration&&!M.bypassMinDuration){var Ae=M.dir;_classPrivateFieldGet(this,_finished$1)[Ae]=!0,Object.values(_classPrivateFieldGet(this,_finished$1)).every(function(X){return X})&&_classPrivateFieldGet(this,_onFinished$1).call(this,_classPrivateFieldGet(this,_results$1))}_classPrivateFieldSet(this,_counter,0),_classPrivateFieldSet(this,_minDuration,-1/0),performance.clearResourceTimings();do _classPrivateFieldSet(this,_measIdx,_classPrivateFieldGet(this,_measIdx)+1);while(_classPrivateFieldGet(this,_measIdx)<s.length&&V[s[_classPrivateFieldGet(this,_measIdx)].dir]);if(_classPrivateFieldGet(this,_measIdx)>=s.length){_classPrivateFieldSet(this,_finished$1,{down:!0,up:!0}),_classPrivateMethodGet(this,_setRunning$2,_setRunning2$2).call(this,!1),_classPrivateFieldGet(this,_onFinished$1).call(this,_classPrivateFieldGet(this,_results$1));return}M=s[_classPrivateFieldGet(this,_measIdx)]}var _e=_classPrivateFieldGet(this,_measIdx);_classPrivateFieldGet(this,_counter)===0&&_classPrivateMethodGet(this,_saveMeasurementResults,_saveMeasurementResults2).call(this,_e);var Pe=M,h=Pe.bytes,re=Pe.dir,n=re==="down",x=n?_classPrivateFieldGet(this,_downloadApi):_classPrivateFieldGet(this,_uploadApi),U=Object.assign({},_classPrivateFieldGet(this,_qsParams));n&&(U.bytes="".concat(h));var e="".concat(x.startsWith("http")||x.startsWith("//")?"":window.location.origin).concat(x,"?").concat(Object.entries(U).map(function(X){var L=_slicedToArray(X,2),O=L[0],f=L[1];return"".concat(O,"=").concat(f)}).join("&")),t=Object.assign({},n?{}:{method:"POST",body:genContent(h)},_classPrivateFieldGet(this,_fetchOptions)),o,K=_classPrivateFieldSet(this,_currentFetchPromise,fetch(e,t).then(function(X){if(X.ok)return X;throw Error(X.statusText)}).then(function(X){return a.getServerTime&&(o=a.getServerTime(X)),X}).then(function(X){return X.text().then(function(L){return _classPrivateFieldGet(a,_responseHook)&&_classPrivateFieldGet(a,_responseHook).call(a,{url:e,headers:X.headers,body:L}),L})}).then(function(X,L){if(K._cancel){L("cancelled");return}var O=performance.getEntriesByName(e).slice(-1)[0],f={transferSize:O.transferSize,ttfb:getTtfb(O),payloadDownloadTime:gePayloadDownload(O),serverTime:o||-1,measTime:new Date};if(f.ping=Math.max(.01,f.ttfb-(o||_classPrivateFieldGet(a,_estimatedServerTime))),f.duration=(n?calcDownloadDuration:calcUploadDuration)(f),f.bps=(n?calcDownloadSpeed:calcUploadSpeed)(f,h),n&&h){var p=+h;f.transferSize&&(f.transferSize<p||f.transferSize/p>1.05)&&console.warn("Requested ".concat(p,"B but received ").concat(f.transferSize,"B (").concat(Math.round(f.transferSize/p*1e4)/100,"%)."))}_classPrivateMethodGet(a,_saveMeasurementResults,_saveMeasurementResults2).call(a,_e,f);var i=f.duration;_classPrivateFieldSet(a,_minDuration,_classPrivateFieldGet(a,_minDuration)<0?i:Math.min(_classPrivateFieldGet(a,_minDuration),i)),_classPrivateFieldSet(a,_counter,_classPrivateFieldGet(a,_counter)+1),_classPrivateFieldSet(a,_retries,0),_classPrivateFieldGet(a,_throttleMs)?_classPrivateFieldSet(a,_currentNextMsmTimeoutId,setTimeout(function(){return _classPrivateMethodGet(a,_nextMeasurement,_nextMeasurement2).call(a)},_classPrivateFieldGet(a,_throttleMs))):_classPrivateMethodGet(a,_nextMeasurement,_nextMeasurement2).call(a)}).catch(function(X){var L,O;K._cancel||(console.warn("Error fetching ".concat(e,": ").concat(X)),_classPrivateFieldSet(a,_retries,(L=_classPrivateFieldGet(a,_retries),O=L++,L)),O<MAX_RETRIES?_classPrivateMethodGet(a,_nextMeasurement,_nextMeasurement2).call(a):(_classPrivateFieldSet(a,_retries,0),_classPrivateMethodGet(a,_setRunning$2,_setRunning2$2).call(a,!1),_classPrivateFieldGet(a,_onConnectionError$1).call(a,"Connection failed to ".concat(e,". Gave up after ").concat(MAX_RETRIES," retries."))))}))}function _cancelCurrentMeasurement2(){var a=_classPrivateFieldGet(this,_currentFetchPromise);a&&(a._cancel=!0)}var BandwidthEngine$2=BandwidthMeasurementEngine,_excluded$5=["measureParallelLatency","parallelLatencyThrottleMs","downloadApiUrl","uploadApiUrl","estimatedServerTime"],_latencyEngine=new WeakMap,_setLatencyRunning=new WeakSet,BandwidthWithParallelLatencyEngine=function(a){_inherits(M,a);var s=_createSuper(M);function M(V){var Ae,_e,Pe,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=h.measureParallelLatency,n=re===void 0?!1:re,x=h.parallelLatencyThrottleMs,U=x===void 0?100:x,e=h.downloadApiUrl,t=h.uploadApiUrl,o=h.estimatedServerTime,K=o===void 0?0:o,X=_objectWithoutProperties(h,_excluded$5);return _classCallCheck(this,M),Pe=s.call(this,V,_objectSpread2({downloadApiUrl:e,uploadApiUrl:t,estimatedServerTime:K},X)),_classPrivateMethodInitSpec(_assertThisInitialized(Pe),_setLatencyRunning),_classPrivateFieldInitSpec(_assertThisInitialized(Pe),_latencyEngine,{writable:!0,value:void 0}),n&&(_classPrivateFieldSet(_assertThisInitialized(Pe),_latencyEngine,new BandwidthEngine$2([{dir:"down",bytes:0,count:1/0,bypassMinDuration:!0}],{downloadApiUrl:e,uploadApiUrl:t,estimatedServerTime:K,throttleMs:U})),_classPrivateFieldGet(_assertThisInitialized(Pe),_latencyEngine).qsParams={during:"".concat(V[0].dir,"load")},_set((Ae=_assertThisInitialized(Pe),_getPrototypeOf(M.prototype)),"onRunningChange",_classPrivateMethodGet(_assertThisInitialized(Pe),_setLatencyRunning,_setLatencyRunning2),Ae,!0),_set((_e=_assertThisInitialized(Pe),_getPrototypeOf(M.prototype)),"onConnectionError",function(){return _classPrivateFieldGet(_assertThisInitialized(Pe),_latencyEngine).pause()},_e,!0)),Pe}return _createClass(M,[{key:"latencyResults",get:function(){return _classPrivateFieldGet(this,_latencyEngine)&&_classPrivateFieldGet(this,_latencyEngine).results.down[0].timings}},{key:"onParallelLatencyResult",set:function(Ae){_classPrivateFieldGet(this,_latencyEngine)&&(_classPrivateFieldGet(this,_latencyEngine).onMeasurementResult=function(_e){return Ae(_e)})}},{key:"fetchOptions",get:function(){return _get(_getPrototypeOf(M.prototype),"fetchOptions",this)},set:function(Ae){_set(_getPrototypeOf(M.prototype),"fetchOptions",Ae,this,!0),_classPrivateFieldGet(this,_latencyEngine)&&(_classPrivateFieldGet(this,_latencyEngine).fetchOptions=Ae)}},{key:"onRunningChange",set:function(Ae){var _e=this;_set(_getPrototypeOf(M.prototype),"onRunningChange",function(Pe){_classPrivateMethodGet(_e,_setLatencyRunning,_setLatencyRunning2).call(_e,Pe),Ae(Pe)},this,!0)}},{key:"onConnectionError",set:function(Ae){var _e=this;_set(_getPrototypeOf(M.prototype),"onConnectionError",function(){_classPrivateFieldGet(_e,_latencyEngine)&&_classPrivateFieldGet(_e,_latencyEngine).pause(),Ae.apply(void 0,arguments)},this,!0)}}]),M}(BandwidthEngine$2);function _setLatencyRunning2(a){var s=this;_classPrivateFieldGet(this,_latencyEngine)&&(a?setTimeout(function(){return _classPrivateFieldGet(s,_latencyEngine).play()},20):_classPrivateFieldGet(this,_latencyEngine).pause())}var BandwidthEngine$1=BandwidthWithParallelLatencyEngine,_excluded$4=["measurementId","logApiUrl"],_measurementId$1=new WeakMap,_token=new WeakMap,_requestTime=new WeakMap,_logApiUrl=new WeakMap,_loggingResponseHook=new WeakSet,_logMeasurement=new WeakSet,LoggingBandwidthEngine=function(a){_inherits(M,a);var s=_createSuper(M);function M(V){var Ae,_e,Pe,h,re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=re.measurementId,x=re.logApiUrl,U=_objectWithoutProperties(re,_excluded$4);return _classCallCheck(this,M),h=s.call(this,V,U),_classPrivateMethodInitSpec(_assertThisInitialized(h),_logMeasurement),_classPrivateMethodInitSpec(_assertThisInitialized(h),_loggingResponseHook),_classPrivateFieldInitSpec(_assertThisInitialized(h),_measurementId$1,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(h),_token,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(h),_requestTime,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(h),_logApiUrl,{writable:!0,value:void 0}),_classPrivateFieldSet(_assertThisInitialized(h),_measurementId$1,n),_classPrivateFieldSet(_assertThisInitialized(h),_logApiUrl,x),_set((Ae=_assertThisInitialized(h),_getPrototypeOf(M.prototype)),"qsParams",x?{measId:_classPrivateFieldGet(_assertThisInitialized(h),_measurementId$1)}:{},Ae,!0),_set((_e=_assertThisInitialized(h),_getPrototypeOf(M.prototype)),"responseHook",function(e){return _classPrivateMethodGet(_assertThisInitialized(h),_loggingResponseHook,_loggingResponseHook2).call(_assertThisInitialized(h),e)},_e,!0),_set((Pe=_assertThisInitialized(h),_getPrototypeOf(M.prototype)),"onMeasurementResult",function(e){return _classPrivateMethodGet(_assertThisInitialized(h),_logMeasurement,_logMeasurement2).call(_assertThisInitialized(h),e)},Pe,!0),h}return _createClass(M,[{key:"qsParams",set:function(Ae){_set(_getPrototypeOf(M.prototype),"qsParams",_classPrivateFieldGet(this,_logApiUrl)?_objectSpread2({measId:_classPrivateFieldGet(this,_measurementId$1)},Ae):Ae,this,!0)}},{key:"responseHook",set:function(Ae){var _e=this;_set(_getPrototypeOf(M.prototype),"responseHook",function(Pe){Ae(Pe),_classPrivateMethodGet(_e,_loggingResponseHook,_loggingResponseHook2).call(_e,Pe)},this,!0)}},{key:"onMeasurementResult",set:function(Ae){var _e=this;_set(_getPrototypeOf(M.prototype),"onMeasurementResult",function(Pe){for(var h=arguments.length,re=new Array(h>1?h-1:0),n=1;n<h;n++)re[n-1]=arguments[n];Ae.apply(void 0,[Pe].concat(re)),_classPrivateMethodGet(_e,_logMeasurement,_logMeasurement2).call(_e,Pe)},this,!0)}}]),M}(BandwidthEngine$1);function _loggingResponseHook2(a){_classPrivateFieldGet(this,_logApiUrl)&&(_classPrivateFieldSet(this,_requestTime,+a.headers.get("cf-meta-request-time")),_classPrivateFieldSet(this,_token,a.body.slice(-300).split("___").pop()))}function _logMeasurement2(a){if(_classPrivateFieldGet(this,_logApiUrl)){var s={type:a.type,bytes:a.bytes,ping:Math.round(a.ping),ttfb:Math.round(a.ttfb),payloadDownloadTime:Math.round(a.payloadDownloadTime),duration:Math.round(a.duration),transferSize:Math.round(a.transferSize),serverTime:Math.round(a.serverTime),token:_classPrivateFieldGet(this,_token),requestTime:_classPrivateFieldGet(this,_requestTime),measId:_classPrivateFieldGet(this,_measurementId$1)};_classPrivateFieldSet(this,_token,null),_classPrivateFieldSet(this,_requestTime,null),fetch(_classPrivateFieldGet(this,_logApiUrl),_objectSpread2({method:"POST",body:JSON.stringify(s)},this.fetchOptions))}}var BandwidthEngine=LoggingBandwidthEngine,_running$1=new WeakMap,_currentPromise=new WeakMap,_promiseFn=new WeakMap,_setRunning$1=new WeakSet,_next$1=new WeakSet,_cancelCurrent=new WeakSet,PromiseEngine=function(){function a(s){if(_classCallCheck(this,a),_classPrivateMethodInitSpec(this,_cancelCurrent),_classPrivateMethodInitSpec(this,_next$1),_classPrivateMethodInitSpec(this,_setRunning$1),_classPrivateFieldInitSpec(this,_running$1,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,_currentPromise,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_promiseFn,{writable:!0,value:void 0}),!s)throw new Error("Missing operation to perform");_classPrivateFieldSet(this,_promiseFn,s),this.play()}return _createClass(a,[{key:"pause",value:function(){_classPrivateMethodGet(this,_cancelCurrent,_cancelCurrent2).call(this),_classPrivateMethodGet(this,_setRunning$1,_setRunning2$1).call(this,!1)}},{key:"stop",value:function(){this.pause()}},{key:"play",value:function(){_classPrivateFieldGet(this,_running$1)||(_classPrivateMethodGet(this,_setRunning$1,_setRunning2$1).call(this,!0),_classPrivateMethodGet(this,_next$1,_next2$1).call(this))}}]),a}();function _setRunning2$1(a){a!==_classPrivateFieldGet(this,_running$1)&&_classPrivateFieldSet(this,_running$1,a)}function _next2$1(){var a=this,s=_classPrivateFieldSet(this,_currentPromise,_classPrivateFieldGet(this,_promiseFn).call(this).then(function(){!s._cancel&&_classPrivateMethodGet(a,_next$1,_next2$1).call(a)}))}function _cancelCurrent2(){var a=_classPrivateFieldGet(this,_currentPromise);a&&(a._cancel=!0)}var _engines=new WeakMap,LoadNetworkEngine=function(){function a(){var s=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=M.download,Ae=M.upload;if(_classCallCheck(this,a),_defineProperty(this,"qsParams",{}),_defineProperty(this,"fetchOptions",{}),_classPrivateFieldInitSpec(this,_engines,{writable:!0,value:[]}),!V&&!Ae)throw new Error("Missing at least one of download/upload config");[[V,"download"],[Ae,"upload"]].filter(function(Pe){var h=_slicedToArray(Pe,1),re=h[0];return re}).forEach(function(Pe){var h=_slicedToArray(Pe,2),re=h[0],n=h[1],x=re.apiUrl,U=re.chunkSize;if(!x)throw new Error("Missing ".concat(n," apiUrl argument"));if(!U)throw new Error("Missing ".concat(n," chunkSize argument"))});var _e=function(h){var re=h.apiUrl,n=h.qsParams,x=n===void 0?{}:n,U=h.fetchOptions,e=U===void 0?{}:U;return new PromiseEngine(function(){var t=Object.assign({},x,s.qsParams),o="".concat(re.startsWith("http")||re.startsWith("//")?"":window.location.origin).concat(re,"?").concat(Object.entries(t).map(function(X){var L=_slicedToArray(X,2),O=L[0],f=L[1];return"".concat(O,"=").concat(f)}).join("&")),K=Object.assign({},e,s.fetchOptions);return fetch(o,K).then(function(X){if(X.ok)return X;throw Error(X.statusText)}).then(function(X){return X.text()})})};V&&_classPrivateFieldGet(this,_engines).push(_e({apiUrl:V.apiUrl,qsParams:{bytes:"".concat(V.chunkSize)}})),Ae&&_classPrivateFieldGet(this,_engines).push(_e({apiUrl:Ae.apiUrl,fetchOptions:{method:"POST",body:"0".repeat(Ae.chunkSize)}}))}return _createClass(a,[{key:"pause",value:function(){_classPrivateFieldGet(this,_engines).forEach(function(M){return M.pause()})}},{key:"stop",value:function(){this.pause()}},{key:"play",value:function(){_classPrivateFieldGet(this,_engines).forEach(function(M){return M.play()})}}]),a}(),LoadNetworkEngine$1=LoadNetworkEngine,_excluded$3=["iceServers","acceptIceCandidate","dataChannelCfg"],_established=new WeakMap,_sender=new WeakMap,_receiver=new WeakMap,_senderDc=new WeakMap,_receiverDc=new WeakMap,SelfWebRtcDataConnection=function(){function a(){var s=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=M.iceServers,Ae=V===void 0?[]:V,_e=M.acceptIceCandidate,Pe=_e===void 0?function(t){var o=t.protocol||"";if(!o&&t.candidate){var K=t.candidate.split(" ");K.length>=3&&(o=K[2])}return o.toLowerCase()==="udp"}:_e,h=M.dataChannelCfg,re=h===void 0?{ordered:!1,maxRetransmits:0}:h,n=_objectWithoutProperties(M,_excluded$3);_classCallCheck(this,a),_defineProperty(this,"onOpen",function(){}),_defineProperty(this,"onClose",function(){}),_defineProperty(this,"onMessageReceived",function(){}),_classPrivateFieldInitSpec(this,_established,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,_sender,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_receiver,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_senderDc,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_receiverDc,{writable:!0,value:void 0});var x=new RTCPeerConnection(_objectSpread2({iceServers:Ae},n)),U=new RTCPeerConnection(_objectSpread2({iceServers:Ae},n)),e=x.createDataChannel("channel",re);e.onopen=function(){_classPrivateFieldSet(s,_established,!0),s.onOpen()},e.onclose=function(){return s.close()},U.ondatachannel=function(t){var o=t.channel;o.onclose=function(){return s.close()},o.onmessage=function(K){return s.onMessageReceived(K.data)},_classPrivateFieldSet(s,_receiverDc,o)},x.onicecandidate=function(t){t.candidate&&Pe(t.candidate)&&U.addIceCandidate(t.candidate)},U.onicecandidate=function(t){t.candidate&&Pe(t.candidate)&&x.addIceCandidate(t.candidate)},x.createOffer().then(function(t){return x.setLocalDescription(t)}).then(function(){return U.setRemoteDescription(x.localDescription)}).then(function(){return U.createAnswer()}).then(function(t){return U.setLocalDescription(t)}).then(function(){return x.setRemoteDescription(U.localDescription)}),_classPrivateFieldSet(this,_sender,x),_classPrivateFieldSet(this,_receiver,U),_classPrivateFieldSet(this,_senderDc,e),_classPrivateFieldSet(this,_established,!1)}return _createClass(a,[{key:"send",value:function(M){return _classPrivateFieldGet(this,_senderDc).send(M)}},{key:"close",value:function(){return _classPrivateFieldGet(this,_sender)&&_classPrivateFieldGet(this,_sender).close(),_classPrivateFieldGet(this,_receiver)&&_classPrivateFieldGet(this,_receiver).close(),_classPrivateFieldGet(this,_senderDc)&&_classPrivateFieldGet(this,_senderDc).close(),_classPrivateFieldGet(this,_receiverDc)&&_classPrivateFieldGet(this,_receiverDc).close(),_classPrivateFieldGet(this,_established)&&this.onClose(),_classPrivateFieldSet(this,_established,!1),this}}]),a}(),_onCredentialsFailure=new WeakMap,_onConnectionError=new WeakMap,_onFinished=new WeakMap,_msgTracker=new WeakMap,_webRtcConnection=new WeakMap,_numMsgs=new WeakMap,PacketLossEngine$1=function(){function a(){var s=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=M.turnServerUri,Ae=M.turnServerCredsApi,_e=M.turnServerCredsApiParser,Pe=_e===void 0?function(i){var T=i.username,F=i.credential;return{turnServerUser:T,turnServerPass:F}}:_e,h=M.turnServerCredsApiIncludeCredentials,re=h===void 0?!1:h,n=M.turnServerUser,x=M.turnServerPass,U=M.numMsgs,e=U===void 0?100:U,t=M.batchSize,o=t===void 0?10:t,K=M.batchWaitTime,X=K===void 0?10:K,L=M.responsesWaitTime,O=L===void 0?5e3:L,f=M.connectionTimeout,p=f===void 0?5e3:f;if(_classCallCheck(this,a),_classPrivateFieldInitSpec(this,_onCredentialsFailure,{writable:!0,value:function(){}}),_classPrivateFieldInitSpec(this,_onConnectionError,{writable:!0,value:function(){}}),_classPrivateFieldInitSpec(this,_onFinished,{writable:!0,value:function(){}}),_defineProperty(this,"onMsgSent",function(){}),_defineProperty(this,"onAllMsgsSent",function(){}),_defineProperty(this,"onMsgReceived",function(){}),_classPrivateFieldInitSpec(this,_msgTracker,{writable:!0,value:{}}),_classPrivateFieldInitSpec(this,_webRtcConnection,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_numMsgs,{writable:!0,value:void 0}),!V)throw new Error("Missing turnServerUri argument");if((!n||!x)&&!Ae)throw new Error("Missing either turnServerCredsApi or turnServerUser+turnServerPass arguments");_classPrivateFieldSet(this,_numMsgs,e),(!n||!x?fetch(Ae,{credentials:re?"include":void 0}).then(function(i){return i.json()}).then(function(i){if(i.error)throw i.error;return i}).then(Pe):Promise.resolve({turnServerUser:n,turnServerPass:x})).catch(function(i){return _classPrivateFieldGet(s,_onCredentialsFailure).call(s,i)}).then(function(i){var T=i.turnServerUser,F=i.turnServerPass,P=_classPrivateFieldSet(s,_webRtcConnection,new SelfWebRtcDataConnection({iceServers:[{urls:"turn:".concat(V,"?transport=udp"),username:T,credential:F}],iceTransportPolicy:"relay"})),C=!1;setTimeout(function(){C||(P.close(),_classPrivateFieldGet(s,_onConnectionError).call(s,"ICE connection timeout!"))},p);var H=_classPrivateFieldGet(s,_msgTracker);P.onOpen=function(){C=!0;var $=s;(function se(_){if(_<=e){for(var Q=_;Q<=Math.min(e,_+o-1);)H[Q]=!1,P.send(Q),$.onMsgSent(Q),Q++;setTimeout(function(){return se(Q)},X)}else{$.onAllMsgsSent(Object.keys(H).length);var d=function(){P.close(),_classPrivateFieldGet($,_onFinished).call($,$.results)},w=setTimeout(d,O),q=Object.values(_classPrivateFieldGet($,_msgTracker)).filter(function(l){return!l}).length;P.onMessageReceived=function(l){clearTimeout(w),H[l]=!0,$.onMsgReceived(l),q--,q<=0&&Object.values(_classPrivateFieldGet($,_msgTracker)).every(function(b){return b})?d():w=setTimeout(d,O)}}})(1)},P.onMessageReceived=function($){H[$]=!0,s.onMsgReceived($)}}).catch(function(i){return _classPrivateFieldGet(s,_onConnectionError).call(s,i.toString())})}return _createClass(a,[{key:"onCredentialsFailure",set:function(M){_classPrivateFieldSet(this,_onCredentialsFailure,M)}},{key:"onConnectionError",set:function(M){_classPrivateFieldSet(this,_onConnectionError,M)}},{key:"onFinished",set:function(M){_classPrivateFieldSet(this,_onFinished,M)}},{key:"results",get:function(){var M=_classPrivateFieldGet(this,_numMsgs),V=Object.keys(_classPrivateFieldGet(this,_msgTracker)).length,Ae=Object.entries(_classPrivateFieldGet(this,_msgTracker)).filter(function(Pe){var h=_slicedToArray(Pe,2),re=h[1];return!re}).map(function(Pe){var h=_slicedToArray(Pe,1),re=h[0];return+re}),_e=Ae.length/V;return{totalMessages:M,numMessagesSent:V,packetLoss:_e,lostMessages:Ae}}}]),a}(),_excluded$2=["downloadChunkSize","uploadChunkSize","downloadApiUrl","uploadApiUrl"],_loadEngine=new WeakMap,PacketLossUnderLoadEngine=function(a){_inherits(M,a);var s=_createSuper(M);function M(){var V,Ae,_e,Pe,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=h.downloadChunkSize,n=h.uploadChunkSize,x=h.downloadApiUrl,U=h.uploadApiUrl,e=_objectWithoutProperties(h,_excluded$2);return _classCallCheck(this,M),Pe=s.call(this,e),_classPrivateFieldInitSpec(_assertThisInitialized(Pe),_loadEngine,{writable:!0,value:void 0}),(re||n)&&(_classPrivateFieldSet(_assertThisInitialized(Pe),_loadEngine,new LoadNetworkEngine$1({download:re?{apiUrl:x,chunkSize:re}:null,upload:n?{apiUrl:U,chunkSize:n}:null})),_set((V=_assertThisInitialized(Pe),_getPrototypeOf(M.prototype)),"onCredentialsFailure",_set((_e=_assertThisInitialized(Pe),_getPrototypeOf(M.prototype)),"onConnectionError",_set((Ae=_assertThisInitialized(Pe),_getPrototypeOf(M.prototype)),"onFinished",function(){return _classPrivateFieldGet(_assertThisInitialized(Pe),_loadEngine).stop()},Ae,!0),_e,!0),V,!0)),Pe}return _createClass(M,[{key:"qsParams",set:function(Ae){_classPrivateFieldGet(this,_loadEngine)&&(_classPrivateFieldGet(this,_loadEngine).qsParams=Ae)}},{key:"fetchOptions",set:function(Ae){_classPrivateFieldGet(this,_loadEngine)&&(_classPrivateFieldGet(this,_loadEngine).fetchOptions=Ae)}},{key:"onCredentialsFailure",set:function(Ae){var _e=this;_set(_getPrototypeOf(M.prototype),"onCredentialsFailure",function(){Ae.apply(void 0,arguments),_classPrivateFieldGet(_e,_loadEngine)&&_classPrivateFieldGet(_e,_loadEngine).stop()},this,!0)}},{key:"onConnectionError",set:function(Ae){var _e=this;_set(_getPrototypeOf(M.prototype),"onConnectionError",function(){Ae.apply(void 0,arguments),_classPrivateFieldGet(_e,_loadEngine)&&_classPrivateFieldGet(_e,_loadEngine).stop()},this,!0)}},{key:"onFinished",set:function(Ae){var _e=this;_set(_getPrototypeOf(M.prototype),"onFinished",function(){Ae.apply(void 0,arguments),_classPrivateFieldGet(_e,_loadEngine)&&_classPrivateFieldGet(_e,_loadEngine).stop()},this,!0)}}]),M}(PacketLossEngine$1),PacketLossEngine=PacketLossUnderLoadEngine,_excluded$1=["reachable"],ReachabilityEngine=_createClass(function a(s){var M=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ae=V.timeout,_e=Ae===void 0?-1:Ae,Pe=V.fetchOptions,h=Pe===void 0?{}:Pe;_classCallCheck(this,a),_defineProperty(this,"onFinished",function(){});var re=!1,n=function(U){var e=U.reachable,t=_objectWithoutProperties(U,_excluded$1);re||(re=!0,M.onFinished(_objectSpread2({targetUrl:s,reachable:e},t)))};fetch(s,h).then(function(x){n({reachable:!0,response:x})}).catch(function(x){n({reachable:!1,error:x})}),_e>0&&setTimeout(function(){return n({reachable:!1,error:"Request timeout"})},_e)}),sum=function(s){return s.reduce(function(M,V){return M+V},0)},percentile=function(s){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;if(!s.length)return 0;var V=s.slice().sort(function(h,re){return h-re}),Ae=(s.length-1)*M,_e=Ae%1;if(_e===0)return V[Math.round(Ae)];var Pe=[Math.floor,Math.ceil].map(function(h){return V[h(Ae)]});return Pe[0]+(Pe[1]-Pe[0])*_e},_config$3=new WeakMap,_extractLoadedLatencies=new WeakMap,MeasurementCalculations=function(){function a(s){var M=this;_classCallCheck(this,a),_defineProperty(this,"getLatencyPoints",function(V){return V.timings.map(function(Ae){return Ae.ping})}),_defineProperty(this,"getLatency",function(V){return percentile(M.getLatencyPoints(V),_classPrivateFieldGet(M,_config$3).latencyPercentile)}),_defineProperty(this,"getBandwidthPoints",function(V){return Object.entries(V).map(function(Ae){var _e=_slicedToArray(Ae,2),Pe=_e[0],h=_e[1].timings;return h.map(function(re){var n=re.bps,x=re.duration,U=re.ping,e=re.measTime,t=re.serverTime,o=re.transferSize;return{bytes:+Pe,bps:n,duration:x,ping:U,measTime:e,serverTime:t,transferSize:o}})}).flat()}),_defineProperty(this,"getBandwidth",function(V){return percentile(M.getBandwidthPoints(V).filter(function(Ae){return Ae.duration>=_classPrivateFieldGet(M,_config$3).bandwidthMinRequestDuration}).map(function(Ae){return Ae.bps}).filter(function(Ae){return Ae}),_classPrivateFieldGet(M,_config$3).bandwidthPercentile)}),_defineProperty(this,"getLoadedLatency",function(V){return M.getLatency({timings:_classPrivateFieldGet(M,_extractLoadedLatencies).call(M,V)})}),_defineProperty(this,"getLoadedJitter",function(V){return M.getJitter({timings:_classPrivateFieldGet(M,_extractLoadedLatencies).call(M,V)})}),_defineProperty(this,"getLoadedLatencyPoints",function(V){return M.getLatencyPoints({timings:_classPrivateFieldGet(M,_extractLoadedLatencies).call(M,V)})}),_defineProperty(this,"getPacketLoss",function(V){return V.packetLoss}),_defineProperty(this,"getPacketLossDetails",function(V){return V}),_defineProperty(this,"getReachability",function(V){return!!V.reachable}),_defineProperty(this,"getReachabilityDetails",function(V){return{host:V.host,reachable:V.reachable}}),_classPrivateFieldInitSpec(this,_config$3,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_extractLoadedLatencies,{writable:!0,value:function(Ae){return Object.values(Ae).filter(function(_e){return _e.timings.length&&Math.min.apply(Math,_toConsumableArray(_e.timings.map(function(Pe){return Pe.duration})))>=_classPrivateFieldGet(M,_config$3).loadedRequestMinDuration}).map(function(_e){return _e.sideLatency||[]}).flat().slice(-_classPrivateFieldGet(M,_config$3).loadedLatencyMaxPoints)}}),_classPrivateFieldSet(this,_config$3,s)}return _createClass(a,[{key:"getJitter",value:function(M){var V=this.getLatencyPoints(M);return V.length<2?null:V.reduce(function(Ae,_e){var Pe=Ae.sumDeltas,h=Pe===void 0?0:Pe,re=Ae.prevLatency;return{sumDeltas:h+(re!==void 0?Math.abs(re-_e):0),prevLatency:_e}},{}).sumDeltas/(V.length-1)}}]),a}(),MeasurementCalculations$1=MeasurementCalculations,classificationNames=["bad","poor","average","good","great"],customResultTypes={loadedLatencyIncrease:function(s){return s.latency&&(s.downLoadedLatency||s.upLoadedLatency)?Math.max(s.downLoadedLatency,s.upLoadedLatency)-s.latency:void 0}},defaultPoints={packetLoss:0},_config$2=new WeakMap,ScoresCalculations=function(){function a(s){_classCallCheck(this,a),_classPrivateFieldInitSpec(this,_config$2,{writable:!0,value:void 0}),_classPrivateFieldSet(this,_config$2,s)}return _createClass(a,[{key:"getScores",value:function(M){var V=Object.assign.apply(Object,_toConsumableArray(Object.entries(_classPrivateFieldGet(this,_config$2).aimMeasurementScoring).map(function(Ae){var _e=_slicedToArray(Ae,2),Pe=_e[0],h=_e[1],re=customResultTypes.hasOwnProperty(Pe)?customResultTypes[Pe](M):M[Pe];return re===void 0?defaultPoints.hasOwnProperty(Pe)?_defineProperty({},Pe,defaultPoints[Pe]):{}:_defineProperty({},Pe,re===void 0?0:+h(re))})));return Object.assign.apply(Object,[{}].concat(_toConsumableArray(Object.entries(_classPrivateFieldGet(this,_config$2).aimExperiencesDefs).filter(function(Ae){var _e=_slicedToArray(Ae,2),Pe=_e[1].input;return Pe.every(function(h){return V.hasOwnProperty(h)})}).map(function(Ae){var _e=_slicedToArray(Ae,2),Pe=_e[0],h=_e[1],re=h.input,n=h.pointThresholds,x=Math.max(0,sum(re.map(function(t){return V[t]}))),U=threshold(n,[0,1,2,3,4])(x),e=classificationNames[U];return _defineProperty({},Pe,{points:x,classificationIdx:U,classificationName:e})}))))}}]),a}(),ScoresCalculations$1=ScoresCalculations,_config$1=new WeakMap,_measCalc=new WeakMap,_scoresCalc=new WeakMap,_calcGetter=new WeakMap,_getV4Reachability=new WeakMap,_getV4ReachabilityDetails=new WeakMap,_getV6Reachability=new WeakMap,_getV6ReachabilityDetails=new WeakMap,Results=function(){function a(s){var M=this;_classCallCheck(this,a),_defineProperty(this,"raw",void 0),_defineProperty(this,"getUnloadedLatency",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getLatency","latency")}),_defineProperty(this,"getUnloadedJitter",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getJitter","latency")}),_defineProperty(this,"getUnloadedLatencyPoints",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getLatencyPoints","latency",[])}),_defineProperty(this,"getDownLoadedLatency",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getLoadedLatency","download")}),_defineProperty(this,"getDownLoadedJitter",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getLoadedJitter","download")}),_defineProperty(this,"getDownLoadedLatencyPoints",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getLoadedLatencyPoints","download",[])}),_defineProperty(this,"getUpLoadedLatency",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getLoadedLatency","upload")}),_defineProperty(this,"getUpLoadedJitter",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getLoadedJitter","upload")}),_defineProperty(this,"getUpLoadedLatencyPoints",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getLoadedLatencyPoints","upload",[])}),_defineProperty(this,"getDownloadBandwidth",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getBandwidth","download")}),_defineProperty(this,"getDownloadBandwidthPoints",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getBandwidthPoints","download",[])}),_defineProperty(this,"getUploadBandwidth",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getBandwidth","upload")}),_defineProperty(this,"getUploadBandwidthPoints",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getBandwidthPoints","upload",[])}),_defineProperty(this,"getPacketLoss",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getPacketLoss","packetLoss")}),_defineProperty(this,"getPacketLossDetails",function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getPacketLossDetails","packetLoss",void 0,!0)}),_defineProperty(this,"getScores",function(){return _classPrivateFieldGet(M,_scoresCalc).getScores(M.getSummary())}),_classPrivateFieldInitSpec(this,_config$1,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_measCalc,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_scoresCalc,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_calcGetter,{writable:!0,value:function(Ae,_e){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return!M.raw.hasOwnProperty(_e)||!M.raw[_e].started?Pe:h&&M.raw[_e].error?{error:M.raw[_e].error}:_classPrivateFieldGet(M,_measCalc)[Ae](M.raw[_e].results)}}),_classPrivateFieldInitSpec(this,_getV4Reachability,{writable:!0,value:function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getReachability","v4Reachability")}}),_classPrivateFieldInitSpec(this,_getV4ReachabilityDetails,{writable:!0,value:function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getReachabilityDetails","v4Reachability")}}),_classPrivateFieldInitSpec(this,_getV6Reachability,{writable:!0,value:function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getReachability","v6Reachability")}}),_classPrivateFieldInitSpec(this,_getV6ReachabilityDetails,{writable:!0,value:function(){return _classPrivateFieldGet(M,_calcGetter).call(M,"getReachabilityDetails","v6Reachability")}}),_classPrivateFieldSet(this,_config$1,s),this.clear(),_classPrivateFieldSet(this,_measCalc,new MeasurementCalculations$1(_classPrivateFieldGet(this,_config$1))),_classPrivateFieldSet(this,_scoresCalc,new ScoresCalculations$1(_classPrivateFieldGet(this,_config$1)))}return _createClass(a,[{key:"isFinished",get:function(){return Object.values(this.raw).every(function(M){return M.finished})}},{key:"clear",value:function(){this.raw=Object.assign.apply(Object,[{}].concat(_toConsumableArray(_toConsumableArray(new Set(_classPrivateFieldGet(this,_config$1).measurements.map(function(M){return M.type}))).map(function(M){return _defineProperty({},M,{started:!1,finished:!1,results:{}})}))))}},{key:"getSummary",value:function(){var M={download:this.getDownloadBandwidth,upload:this.getUploadBandwidth,latency:this.getUnloadedLatency,jitter:this.getUnloadedJitter,downLoadedLatency:this.getDownLoadedLatency,downLoadedJitter:this.getDownLoadedJitter,upLoadedLatency:this.getUpLoadedLatency,upLoadedJitter:this.getUpLoadedJitter,packetLoss:this.getPacketLoss,v4Reachability:_classPrivateFieldGet(this,_getV4Reachability),v6Reachability:_classPrivateFieldGet(this,_getV6Reachability)};return Object.assign.apply(Object,_toConsumableArray(Object.entries(M).map(function(V){var Ae=_slicedToArray(V,2),_e=Ae[0],Pe=Ae[1],h=Pe();return h===void 0?{}:_defineProperty({},_e,h)})))}}]),a}(),Results$1=Results,round=function(s){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return s&&Math.round(s*Math.pow(10,M))/Math.pow(10,M)},latencyPointsParser=function(s){return s.map(function(M){return round(M,2)})},bpsPointsParser=function(s){return s.map(function(M){return{bytes:+M.bytes,bps:round(M.bps)}})},packetLossParser=function(s){return s.error?void 0:{numMessages:s.numMessagesSent,lossRatio:round(s.packetLoss,4)}},resultsParsers={latencyMs:["getUnloadedLatencyPoints",latencyPointsParser],download:["getDownloadBandwidthPoints",bpsPointsParser],upload:["getUploadBandwidthPoints",bpsPointsParser],downLoadedLatencyMs:["getDownLoadedLatencyPoints",latencyPointsParser],upLoadedLatencyMs:["getUpLoadedLatencyPoints",latencyPointsParser],packetLoss:["getPacketLossDetails",packetLossParser]},scoreParser=function(s){return{points:s.points,classification:s.classificationName}},logAimResults=function(s,M){var V=M.apiUrl,Ae={};Object.entries(resultsParsers).forEach(function(Pe){var h=_slicedToArray(Pe,2),re=h[0],n=_slicedToArray(h[1],2),x=n[0],U=n[1],e=U===void 0?function(o){return o}:U,t=s[x]();t&&(Ae[re]=e(t))});var _e=s.getScores();_e&&(Ae.scores=Object.assign.apply(Object,[{}].concat(_toConsumableArray(Object.entries(_e).map(function(Pe){var h=_slicedToArray(Pe,2),re=h[0],n=h[1];return _defineProperty({},re,scoreParser(n))}))))),fetch(V,{method:"POST",body:JSON.stringify(Ae)})},logFinalResults=logAimResults,_excluded=["type"],_excluded2=["numPackets"],_excluded3=["bytes"],DEFAULT_OPTIMAL_DOWNLOAD_SIZE=1e6,DEFAULT_OPTIMAL_UPLOAD_SIZE=1e6,OPTIMAL_SIZE_RATIO=.5,pausableTypes=["latency","latencyUnderLoad","download","upload"],genMeasId=function(){return"".concat(Math.round(Math.random()*1e16))},_onFinish=new WeakMap,_onError=new WeakMap,_config=new WeakMap,_results=new WeakMap,_measurementId=new WeakMap,_curMsmIdx=new WeakMap,_curEngine=new WeakMap,_optimalDownloadChunkSize=new WeakMap,_optimalUploadChunkSize=new WeakMap,_running=new WeakMap,_finished=new WeakMap,_setRunning=new WeakSet,_setFinished=new WeakSet,_curType=new WeakSet,_curTypeResults=new WeakSet,_clear=new WeakSet,_destroyCurEngine=new WeakSet,_next=new WeakSet,MeasurementEngine=function(){function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck(this,a),_classPrivateMethodInitSpec(this,_next),_classPrivateMethodInitSpec(this,_destroyCurEngine),_classPrivateMethodInitSpec(this,_clear),_classPrivateMethodInitSpec(this,_curTypeResults),_classPrivateMethodInitSpec(this,_curType),_classPrivateMethodInitSpec(this,_setFinished),_classPrivateMethodInitSpec(this,_setRunning),_defineProperty(this,"onRunningChange",function(){}),_defineProperty(this,"onResultsChange",function(){}),_classPrivateFieldInitSpec(this,_onFinish,{writable:!0,value:function(){}}),_classPrivateFieldInitSpec(this,_onError,{writable:!0,value:function(){}}),_classPrivateFieldInitSpec(this,_config,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_results,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_measurementId,{writable:!0,value:genMeasId()}),_classPrivateFieldInitSpec(this,_curMsmIdx,{writable:!0,value:-1}),_classPrivateFieldInitSpec(this,_curEngine,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_optimalDownloadChunkSize,{writable:!0,value:DEFAULT_OPTIMAL_DOWNLOAD_SIZE}),_classPrivateFieldInitSpec(this,_optimalUploadChunkSize,{writable:!0,value:DEFAULT_OPTIMAL_UPLOAD_SIZE}),_classPrivateFieldInitSpec(this,_running,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,_finished,{writable:!0,value:!1}),_classPrivateFieldSet(this,_config,Object.assign({},defaultConfig,s,internalConfig)),_classPrivateFieldSet(this,_results,new Results$1(_classPrivateFieldGet(this,_config))),_classPrivateFieldGet(this,_config).autoStart&&this.play()}return _createClass(a,[{key:"results",get:function(){return _classPrivateFieldGet(this,_results)}},{key:"isRunning",get:function(){return _classPrivateFieldGet(this,_running)}},{key:"isFinished",get:function(){return _classPrivateFieldGet(this,_finished)}},{key:"onFinish",set:function(M){_classPrivateFieldSet(this,_onFinish,M)}},{key:"onError",set:function(M){_classPrivateFieldSet(this,_onError,M)}},{key:"pause",value:function(){pausableTypes.includes(_classPrivateMethodGet(this,_curType,_curType2).call(this))&&_classPrivateFieldGet(this,_curEngine).pause(),_classPrivateMethodGet(this,_setRunning,_setRunning2).call(this,!1)}},{key:"play",value:function(){_classPrivateFieldGet(this,_running)||(_classPrivateMethodGet(this,_setRunning,_setRunning2).call(this,!0),_classPrivateMethodGet(this,_next,_next2).call(this))}},{key:"restart",value:function(){_classPrivateMethodGet(this,_clear,_clear2).call(this),this.play()}}]),a}();function _setRunning2(a){a!==_classPrivateFieldGet(this,_running)&&(_classPrivateFieldSet(this,_running,a),this.onRunningChange(_classPrivateFieldGet(this,_running)))}function _setFinished2(a){var s=this;a!==_classPrivateFieldGet(this,_finished)&&(_classPrivateFieldSet(this,_finished,a),a&&setTimeout(function(){return _classPrivateFieldGet(s,_onFinish).call(s,s.results)}))}function _curType2(){return _classPrivateFieldGet(this,_curMsmIdx)<0||_classPrivateFieldGet(this,_curMsmIdx)>=_classPrivateFieldGet(this,_config).measurements.length?null:_classPrivateFieldGet(this,_config).measurements[_classPrivateFieldGet(this,_curMsmIdx)].type}function _curTypeResults2(){return _classPrivateFieldGet(this,_results).raw[_classPrivateMethodGet(this,_curType,_curType2).call(this)]||void 0}function _clear2(){_classPrivateMethodGet(this,_destroyCurEngine,_destroyCurEngine2).call(this),_classPrivateFieldSet(this,_measurementId,genMeasId()),_classPrivateFieldSet(this,_curMsmIdx,-1),_classPrivateFieldSet(this,_curEngine,void 0),_classPrivateMethodGet(this,_setRunning,_setRunning2).call(this,!1),_classPrivateMethodGet(this,_setFinished,_setFinished2).call(this,!1),_classPrivateFieldGet(this,_results).clear()}function _destroyCurEngine2(){var a=_classPrivateFieldGet(this,_curEngine);a&&(a.onFinished=a.onConnectionError=a.onFail=a.onMsgReceived=a.onCredentialsFailure=a.onMeasurementResult=function(){},pausableTypes.includes(_classPrivateMethodGet(this,_curType,_curType2).call(this))&&a.pause())}function _next2(){var a=this,s;if(pausableTypes.includes(_classPrivateMethodGet(this,_curType,_curType2).call(this))&&_classPrivateMethodGet(this,_curTypeResults,_curTypeResults2).call(this)&&_classPrivateMethodGet(this,_curTypeResults,_curTypeResults2).call(this).started&&!_classPrivateMethodGet(this,_curTypeResults,_curTypeResults2).call(this).finished&&!_classPrivateMethodGet(this,_curTypeResults,_curTypeResults2).call(this).finishedCurrentRound&&!_classPrivateMethodGet(this,_curTypeResults,_curTypeResults2).call(this).error){_classPrivateFieldGet(this,_curEngine).play();return}if(_classPrivateFieldSet(this,_curMsmIdx,(s=_classPrivateFieldGet(this,_curMsmIdx),s++,s)),_classPrivateFieldGet(this,_curMsmIdx)>=_classPrivateFieldGet(this,_config).measurements.length){_classPrivateMethodGet(this,_setRunning,_setRunning2).call(this,!1),_classPrivateMethodGet(this,_setFinished,_setFinished2).call(this,!0);return}var M=_classPrivateFieldGet(this,_config).measurements[_classPrivateFieldGet(this,_curMsmIdx)],V=M.type,Ae=_objectWithoutProperties(M,_excluded),_e=_classPrivateMethodGet(this,_curTypeResults,_curTypeResults2).call(this),Pe=_classPrivateFieldGet(this,_config),h=Pe.downloadApiUrl,re=Pe.uploadApiUrl,n=Pe.estimatedServerTime,x;switch(V){case"v4Reachability":case"v6Reachability":x=new ReachabilityEngine("https://".concat(Ae.host),{fetchOptions:{method:"GET",mode:"no-cors"}}),x.onFinished=function(p){_e.finished=!0,_e.results=_objectSpread2({host:Ae.host},p),a.onResultsChange({type:V}),_classPrivateMethodGet(a,_next,_next2).call(a)};break;case"rpki":x=new ReachabilityEngine("https://".concat(_classPrivateFieldGet(this,_config).rpkiInvalidHost),{timeout:5e3}),x.onFinished=function(p){(p.response?p.response.json():Promise.resolve()).then(function(i){_e.finished=!0,_e.results=_objectSpread2({host:_classPrivateFieldGet(a,_config).rpkiInvalidHost,filteringInvalids:!p.reachable},i?{asn:i.asn,name:i.name}:{}),a.onResultsChange({type:V}),_classPrivateMethodGet(a,_next,_next2).call(a)})};break;case"nxdomain":x=new ReachabilityEngine("https://".concat(Ae.nxhost),{fetchOptions:{mode:"no-cors"}}),x.onFinished=function(p){_e.finished=!0,_e.results={host:Ae.nxhost,reachable:p.reachable},a.onResultsChange({type:V}),_classPrivateMethodGet(a,_next,_next2).call(a)};break;case"packetLoss":case"packetLossUnderLoad":{_e.finished=!1;var U=Ae.numPackets,e=_objectWithoutProperties(Ae,_excluded2),t=_classPrivateFieldGet(this,_config),o=t.turnServerUri,K=t.turnServerCredsApiUrl,X=t.turnServerUser,L=t.turnServerPass,O=t.includeCredentials;x=new PacketLossEngine(_objectSpread2({turnServerUri:o,turnServerCredsApi:K,turnServerCredsApiIncludeCredentials:O,turnServerUser:X,turnServerPass:L,numMsgs:U,downloadChunkSize:Ae.loadDown?_classPrivateFieldGet(this,_optimalDownloadChunkSize):void 0,uploadChunkSize:Ae.loadUp?_classPrivateFieldGet(this,_optimalUploadChunkSize):void 0,downloadApiUrl:h,uploadApiUrl:re},e))}x.onMsgReceived=function(){_e.results=Object.assign({},x.results),a.onResultsChange({type:V})},x.onFinished=function(){_e.finished=!0,a.onResultsChange({type:V}),_classPrivateMethodGet(a,_next,_next2).call(a)},x.onConnectionError=function(p){_e.error=p,a.onResultsChange({type:V}),_classPrivateFieldGet(a,_onError).call(a,"Connection error while measuring packet loss: ".concat(p)),_classPrivateMethodGet(a,_next,_next2).call(a)},x.onCredentialsFailure=function(){_e.error="unable to get turn server credentials",a.onResultsChange({type:V}),_classPrivateFieldGet(a,_onError).call(a,"Error while measuring packet loss: unable to get turn server credentials."),_classPrivateMethodGet(a,_next,_next2).call(a)};break;case"latency":case"latencyUnderLoad":_e.finished=!1,x=new BandwidthEngine([{dir:"down",bytes:0,count:Ae.numPackets,bypassMinDuration:!0}],{downloadApiUrl:h,uploadApiUrl:re,estimatedServerTime:n,logApiUrl:_classPrivateFieldGet(this,_config).logMeasurementApiUrl,measurementId:_classPrivateFieldGet(this,_measurementId),downloadChunkSize:Ae.loadDown?_classPrivateFieldGet(this,_optimalDownloadChunkSize):void 0,uploadChunkSize:Ae.loadUp?_classPrivateFieldGet(this,_optimalUploadChunkSize):void 0}),x.fetchOptions={credentials:_classPrivateFieldGet(this,_config).includeCredentials?"include":void 0},x.onMeasurementResult=x.onNewMeasurementStarted=function(p,i){_e.results=Object.assign({},i.down[0]),a.onResultsChange({type:V})},x.onFinished=function(){_e.finished=!0,a.onResultsChange({type:V}),_classPrivateFieldGet(a,_running)&&_classPrivateMethodGet(a,_next,_next2).call(a)},x.onConnectionError=function(p){_e.error=p,a.onResultsChange({type:V}),_classPrivateFieldGet(a,_onError).call(a,"Connection error while measuring latency: ".concat(p)),_classPrivateMethodGet(a,_next,_next2).call(a)},x.play();break;case"download":case"upload":if(_e.finished||_e.error)_classPrivateMethodGet(this,_next,_next2).call(this);else{delete _e.finishedCurrentRound;var f=_classPrivateFieldGet(this,_config)["measure".concat(V==="download"?"Down":"Up","loadLoadedLatency")];x=new BandwidthEngine([_objectSpread2({dir:V==="download"?"down":"up"},Ae)],{downloadApiUrl:h,uploadApiUrl:re,estimatedServerTime:n,logApiUrl:_classPrivateFieldGet(this,_config).logMeasurementApiUrl,measurementId:_classPrivateFieldGet(this,_measurementId),measureParallelLatency:f,parallelLatencyThrottleMs:_classPrivateFieldGet(this,_config).loadedLatencyThrottle}),x.fetchOptions={credentials:_classPrivateFieldGet(this,_config).includeCredentials?"include":void 0},x.finishRequestDuration=_classPrivateFieldGet(this,_config).bandwidthFinishRequestDuration,x.onNewMeasurementStarted=function(p){var i=p.count,T=p.bytes,F=_e.results=Object.assign({},_e.results);!F.hasOwnProperty(T)&&(F[T]={timings:[],numMeasurements:0,sideLatency:f?[]:void 0}),F[T].numMeasurements-F[T].timings.length!==i&&(F[T].numMeasurements+=i,a.onResultsChange({type:V}))},x.onMeasurementResult=function(p){var i=p.bytes,T=_objectWithoutProperties(p,_excluded3);_e.results[i].timings.push(T),_e.results=Object.assign({},_e.results),a.onResultsChange({type:V})},x.onParallelLatencyResult=function(p){_e.results[Ae.bytes].sideLatency.push(p),_e.results=Object.assign({},_e.results),a.onResultsChange({type:V})},x.onFinished=function(p){var i=!_classPrivateFieldGet(a,_config).measurements.slice(_classPrivateFieldGet(a,_curMsmIdx)+1).map(function(H){return H.type}).includes(V),T=Math.min.apply(Math,_toConsumableArray(Object.values(V==="download"?p.down:p.up).slice(-1)[0].timings.map(function(H){return H.duration}))),F=i||!Ae.bypassMinDuration&&T>_classPrivateFieldGet(a,_config).bandwidthFinishRequestDuration;if(!F)_e.finishedCurrentRound=!0;else{_e.finished=!0,a.onResultsChange({type:V});var P=Object.keys(_e.results).map(function(H){return+H}).sort(function(H,$){return $-H})[0],C=P*OPTIMAL_SIZE_RATIO;V==="download"&&_classPrivateFieldSet(a,_optimalDownloadChunkSize,C),V==="upload"&&_classPrivateFieldSet(a,_optimalUploadChunkSize,C)}_classPrivateFieldGet(a,_running)&&_classPrivateMethodGet(a,_next,_next2).call(a)},x.onConnectionError=function(p){_e.error=p,a.onResultsChange({type:V}),_classPrivateFieldGet(a,_onError).call(a,"Connection error while measuring ".concat(V,": ").concat(p)),_classPrivateMethodGet(a,_next,_next2).call(a)},x.play()}break}_classPrivateFieldSet(this,_curEngine,x),_e.started=!0,this.onResultsChange({type:V})}var _logAimApiUrl=new WeakMap,_logFinalResults=new WeakMap,LoggingMeasurementEngine=function(a){_inherits(M,a);var s=_createSuper(M);function M(V){var Ae,_e;_classCallCheck(this,M);for(var Pe=arguments.length,h=new Array(Pe>1?Pe-1:0),re=1;re<Pe;re++)h[re-1]=arguments[re];return _e=s.call.apply(s,[this,V].concat(h)),_classPrivateFieldInitSpec(_assertThisInitialized(_e),_logAimApiUrl,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(_e),_logFinalResults,{writable:!0,value:function(x){_classPrivateFieldGet(_assertThisInitialized(_e),_logAimApiUrl)&&logFinalResults(x,{apiUrl:_classPrivateFieldGet(_assertThisInitialized(_e),_logAimApiUrl)})}}),_set((Ae=_assertThisInitialized(_e),_getPrototypeOf(M.prototype)),"onFinish",_classPrivateFieldGet(_assertThisInitialized(_e),_logFinalResults),Ae,!0),_classPrivateFieldSet(_assertThisInitialized(_e),_logAimApiUrl,Object.assign({},defaultConfig,V,internalConfig).logAimApiUrl),_e}return _createClass(M,[{key:"onFinish",set:function(Ae){var _e=this;_set(_getPrototypeOf(M.prototype),"onFinish",function(Pe){Ae(Pe),_classPrivateFieldGet(_e,_logFinalResults).call(_e,Pe)},this,!0)}}]),M}(MeasurementEngine);function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(s,M){module.exports=s.pdfjsLib=M()})(globalThis,()=>(()=>{var __webpack_modules__=[,(a,s)=>{var rt;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=b,s.bytesToString=G,s.createValidAbsoluteUrl=Z,s.getModificationDate=ke,s.getUuid=Ne,s.getVerbosityLevel=d,s.info=w,s.isArrayBuffer=Ce,s.isArrayEqual=le,s.isNodeJS=void 0,s.normalizeUnicode=Oe,s.objectFromMap=fe,s.objectSize=Ie,s.setVerbosityLevel=Q,s.shadow=N,s.string32=ce,s.stringToBytes=ae,s.stringToPDFString=he,s.stringToUTF8String=ue,s.unreachable=l,s.utf8StringToString=we,s.warn=q;const M=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=M;const V=[1,0,0,1,0,0];s.IDENTITY_MATRIX=V;const Ae=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=Ae;const _e=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=_e;const Pe=1.35;s.LINE_FACTOR=Pe;const h=.35;s.LINE_DESCENT_FACTOR=h;const re=h/Pe;s.BASELINE_FACTOR=re;const n={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=n;const x={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=x;const U="pdfjs_internal_editor_";s.AnnotationEditorPrefix=U;const e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=e;const t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=t;const o={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=o;const K={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=K;const X={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=X;const L={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=L;const O={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=O;const f={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=f;const p={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=p;const i={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=i;const T={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=T;const F={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=F;const P={O:"PageOpen",C:"PageClose"};s.PageActionEventType=P;const C={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=C;const H={NONE:0,BINARY:1};s.CMapCompressionType=H;const $={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=$;const se={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=se;let _=C.WARNINGS;function Q(Ge){Number.isInteger(Ge)&&(_=Ge)}function d(){return _}function w(Ge){_>=C.INFOS&&console.log(`Info: ${Ge}`)}function q(Ge){_>=C.WARNINGS&&console.log(`Warning: ${Ge}`)}function l(Ge){throw new Error(Ge)}function b(Ge,je){Ge||l(je)}function D(Ge){switch(Ge==null?void 0:Ge.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Z(Ge,je=null,$e=null){if(!Ge)return null;try{if($e&&typeof Ge=="string"){if($e.addDefaultProtocol&&Ge.startsWith("www.")){const at=Ge.match(/\./g);(at==null?void 0:at.length)>=2&&(Ge=`http://${Ge}`)}if($e.tryConvertEncoding)try{Ge=ue(Ge)}catch{}}const ze=je?new URL(Ge,je):new URL(Ge);if(D(ze))return ze}catch{}return null}function N(Ge,je,$e,ze=!1){return Object.defineProperty(Ge,je,{value:$e,enumerable:!ze,configurable:!0,writable:!1}),$e}const v=function(){function je($e,ze){this.constructor===je&&l("Cannot initialize BaseException."),this.message=$e,this.name=ze}return je.prototype=new Error,je.constructor=je,je}();s.BaseException=v;class S extends v{constructor(je,$e){super(je,"PasswordException"),this.code=$e}}s.PasswordException=S;class I extends v{constructor(je,$e){super(je,"UnknownErrorException"),this.details=$e}}s.UnknownErrorException=I;class u extends v{constructor(je){super(je,"InvalidPDFException")}}s.InvalidPDFException=u;class y extends v{constructor(je){super(je,"MissingPDFException")}}s.MissingPDFException=y;class r extends v{constructor(je,$e){super(je,"UnexpectedResponseException"),this.status=$e}}s.UnexpectedResponseException=r;class A extends v{constructor(je){super(je,"FormatError")}}s.FormatError=A;class E extends v{constructor(je){super(je,"AbortException")}}s.AbortException=E;function G(Ge){(typeof Ge!="object"||(Ge==null?void 0:Ge.length)===void 0)&&l("Invalid argument for bytesToString");const je=Ge.length,$e=8192;if(je<$e)return String.fromCharCode.apply(null,Ge);const ze=[];for(let at=0;at<je;at+=$e){const mt=Math.min(at+$e,je),At=Ge.subarray(at,mt);ze.push(String.fromCharCode.apply(null,At))}return ze.join("")}function ae(Ge){typeof Ge!="string"&&l("Invalid argument for stringToBytes");const je=Ge.length,$e=new Uint8Array(je);for(let ze=0;ze<je;++ze)$e[ze]=Ge.charCodeAt(ze)&255;return $e}function ce(Ge){return String.fromCharCode(Ge>>24&255,Ge>>16&255,Ge>>8&255,Ge&255)}function Ie(Ge){return Object.keys(Ge).length}function fe(Ge){const je=Object.create(null);for(const[$e,ze]of Ge)je[$e]=ze;return je}function Te(){const Ge=new Uint8Array(4);return Ge[0]=1,new Uint32Array(Ge.buffer,0,1)[0]===1}function be(){try{return new Function(""),!0}catch{return!1}}class ve{static get isLittleEndian(){return N(this,"isLittleEndian",Te())}static get isEvalSupported(){return N(this,"isEvalSupported",be())}static get isOffscreenCanvasSupported(){return N(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?N(this,"platform",{isWin:!1,isMac:!1}):N(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var je,$e;return N(this,"isCSSRoundSupported",($e=(je=globalThis.CSS)==null?void 0:je.supports)==null?void 0:$e.call(je,"width: round(1.5px, 1px)"))}}s.FeatureTest=ve;const te=[...Array(256).keys()].map(Ge=>Ge.toString(16).padStart(2,"0"));class ie{static makeHexColor(je,$e,ze){return`#${te[je]}${te[$e]}${te[ze]}`}static scaleMinMax(je,$e){let ze;je[0]?(je[0]<0&&(ze=$e[0],$e[0]=$e[1],$e[1]=ze),$e[0]*=je[0],$e[1]*=je[0],je[3]<0&&(ze=$e[2],$e[2]=$e[3],$e[3]=ze),$e[2]*=je[3],$e[3]*=je[3]):(ze=$e[0],$e[0]=$e[2],$e[2]=ze,ze=$e[1],$e[1]=$e[3],$e[3]=ze,je[1]<0&&(ze=$e[2],$e[2]=$e[3],$e[3]=ze),$e[2]*=je[1],$e[3]*=je[1],je[2]<0&&(ze=$e[0],$e[0]=$e[1],$e[1]=ze),$e[0]*=je[2],$e[1]*=je[2]),$e[0]+=je[4],$e[1]+=je[4],$e[2]+=je[5],$e[3]+=je[5]}static transform(je,$e){return[je[0]*$e[0]+je[2]*$e[1],je[1]*$e[0]+je[3]*$e[1],je[0]*$e[2]+je[2]*$e[3],je[1]*$e[2]+je[3]*$e[3],je[0]*$e[4]+je[2]*$e[5]+je[4],je[1]*$e[4]+je[3]*$e[5]+je[5]]}static applyTransform(je,$e){const ze=je[0]*$e[0]+je[1]*$e[2]+$e[4],at=je[0]*$e[1]+je[1]*$e[3]+$e[5];return[ze,at]}static applyInverseTransform(je,$e){const ze=$e[0]*$e[3]-$e[1]*$e[2],at=(je[0]*$e[3]-je[1]*$e[2]+$e[2]*$e[5]-$e[4]*$e[3])/ze,mt=(-je[0]*$e[1]+je[1]*$e[0]+$e[4]*$e[1]-$e[5]*$e[0])/ze;return[at,mt]}static getAxialAlignedBoundingBox(je,$e){const ze=this.applyTransform(je,$e),at=this.applyTransform(je.slice(2,4),$e),mt=this.applyTransform([je[0],je[3]],$e),At=this.applyTransform([je[2],je[1]],$e);return[Math.min(ze[0],at[0],mt[0],At[0]),Math.min(ze[1],at[1],mt[1],At[1]),Math.max(ze[0],at[0],mt[0],At[0]),Math.max(ze[1],at[1],mt[1],At[1])]}static inverseTransform(je){const $e=je[0]*je[3]-je[1]*je[2];return[je[3]/$e,-je[1]/$e,-je[2]/$e,je[0]/$e,(je[2]*je[5]-je[4]*je[3])/$e,(je[4]*je[1]-je[5]*je[0])/$e]}static singularValueDecompose2dScale(je){const $e=[je[0],je[2],je[1],je[3]],ze=je[0]*$e[0]+je[1]*$e[2],at=je[0]*$e[1]+je[1]*$e[3],mt=je[2]*$e[0]+je[3]*$e[2],At=je[2]*$e[1]+je[3]*$e[3],Qe=(ze+At)/2,Ke=Math.sqrt((ze+At)**2-4*(ze*At-mt*at))/2,pt=Qe+Ke||1,st=Qe-Ke||1;return[Math.sqrt(pt),Math.sqrt(st)]}static normalizeRect(je){const $e=je.slice(0);return je[0]>je[2]&&($e[0]=je[2],$e[2]=je[0]),je[1]>je[3]&&($e[1]=je[3],$e[3]=je[1]),$e}static intersect(je,$e){const ze=Math.max(Math.min(je[0],je[2]),Math.min($e[0],$e[2])),at=Math.min(Math.max(je[0],je[2]),Math.max($e[0],$e[2]));if(ze>at)return null;const mt=Math.max(Math.min(je[1],je[3]),Math.min($e[1],$e[3])),At=Math.min(Math.max(je[1],je[3]),Math.max($e[1],$e[3]));return mt>At?null:[ze,mt,at,At]}static bezierBoundingBox(je,$e,ze,at,mt,At,Qe,Ke){const pt=[],st=[[],[]];let St,kt,zn,ft,en,Xt,Ve,Re;for(let gt=0;gt<2;++gt){if(gt===0?(kt=6*je-12*ze+6*mt,St=-3*je+9*ze-9*mt+3*Qe,zn=3*ze-3*je):(kt=6*$e-12*at+6*At,St=-3*$e+9*at-9*At+3*Ke,zn=3*at-3*$e),Math.abs(St)<1e-12){if(Math.abs(kt)<1e-12)continue;ft=-zn/kt,0<ft&&ft<1&&pt.push(ft);continue}Ve=kt*kt-4*zn*St,Re=Math.sqrt(Ve),!(Ve<0)&&(en=(-kt+Re)/(2*St),0<en&&en<1&&pt.push(en),Xt=(-kt-Re)/(2*St),0<Xt&&Xt<1&&pt.push(Xt))}let qe=pt.length,Ze;const lt=qe;for(;qe--;)ft=pt[qe],Ze=1-ft,st[0][qe]=Ze*Ze*Ze*je+3*Ze*Ze*ft*ze+3*Ze*ft*ft*mt+ft*ft*ft*Qe,st[1][qe]=Ze*Ze*Ze*$e+3*Ze*Ze*ft*at+3*Ze*ft*ft*At+ft*ft*ft*Ke;return st[0][lt]=je,st[1][lt]=$e,st[0][lt+1]=Qe,st[1][lt+1]=Ke,st[0].length=st[1].length=lt+2,[Math.min(...st[0]),Math.min(...st[1]),Math.max(...st[0]),Math.max(...st[1])]}}s.Util=ie;const ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function he(Ge){if(Ge[0]>="ï"){let $e;if(Ge[0]==="þ"&&Ge[1]==="ÿ"?$e="utf-16be":Ge[0]==="ÿ"&&Ge[1]==="þ"?$e="utf-16le":Ge[0]==="ï"&&Ge[1]==="»"&&Ge[2]==="¿"&&($e="utf-8"),$e)try{const ze=new TextDecoder($e,{fatal:!0}),at=ae(Ge);return ze.decode(at)}catch(ze){q(`stringToPDFString: "${ze}".`)}}const je=[];for(let $e=0,ze=Ge.length;$e<ze;$e++){const at=ge[Ge.charCodeAt($e)];je.push(at?String.fromCharCode(at):Ge.charAt($e))}return je.join("")}function ue(Ge){return decodeURIComponent(escape(Ge))}function we(Ge){return unescape(encodeURIComponent(Ge))}function Ce(Ge){return typeof Ge=="object"&&(Ge==null?void 0:Ge.byteLength)!==void 0}function le(Ge,je){if(Ge.length!==je.length)return!1;for(let $e=0,ze=Ge.length;$e<ze;$e++)if(Ge[$e]!==je[$e])return!1;return!0}function ke(Ge=new Date){return[Ge.getUTCFullYear().toString(),(Ge.getUTCMonth()+1).toString().padStart(2,"0"),Ge.getUTCDate().toString().padStart(2,"0"),Ge.getUTCHours().toString().padStart(2,"0"),Ge.getUTCMinutes().toString().padStart(2,"0"),Ge.getUTCSeconds().toString().padStart(2,"0")].join("")}class Fe{constructor(){ct(this,rt,!1);this.promise=new Promise((je,$e)=>{this.resolve=ze=>{Pt(this,rt,!0),je(ze)},this.reject=ze=>{Pt(this,rt,!0),$e(ze)}})}get settled(){return Ue(this,rt)}}rt=new WeakMap,s.PromiseCapability=Fe;let de=null,Ee=null;function Oe(Ge){return de||(de=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ee=new Map([["ﬅ","ſt"]])),Ge.replaceAll(de,(je,$e,ze)=>$e?$e.normalize("NFKC"):Ee.get(ze))}function Ne(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Ge=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Ge);else for(let je=0;je<32;je++)Ge[je]=Math.floor(Math.random()*255);return G(Ge)}const et="pdfjs_internal_id_";s.AnnotationPrefix=et},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var a,M,V,Ae,fa,Pe,uA,re,n,x,U,e,t,o,K,X,hA,O,f,n0,i,T;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(P){if(typeof P=="string"||P instanceof URL?P={url:P}:(0,_util.isArrayBuffer)(P)&&(P={data:P}),typeof P!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!P.url&&!P.data&&!P.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const C=new PDFDocumentLoadingTask,{docId:H}=C,$=P.url?getUrlProp(P.url):null,se=P.data?getDataProp(P.data):null,_=P.httpHeaders||null,Q=P.withCredentials===!0,d=P.password??null,w=P.range instanceof PDFDataRangeTransport?P.range:null,q=Number.isInteger(P.rangeChunkSize)&&P.rangeChunkSize>0?P.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let l=P.worker instanceof PDFWorker?P.worker:null;const b=P.verbosity,D=typeof P.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(P.docBaseUrl)?P.docBaseUrl:null,Z=typeof P.cMapUrl=="string"?P.cMapUrl:null,N=P.cMapPacked!==!1,v=P.CMapReaderFactory||DefaultCMapReaderFactory,S=typeof P.standardFontDataUrl=="string"?P.standardFontDataUrl:null,I=P.StandardFontDataFactory||DefaultStandardFontDataFactory,u=P.stopAtErrors!==!0,y=Number.isInteger(P.maxImageSize)&&P.maxImageSize>-1?P.maxImageSize:-1,r=P.isEvalSupported!==!1,A=typeof P.isOffscreenCanvasSupported=="boolean"?P.isOffscreenCanvasSupported:!_util.isNodeJS,E=Number.isInteger(P.canvasMaxAreaInBytes)?P.canvasMaxAreaInBytes:-1,G=typeof P.disableFontFace=="boolean"?P.disableFontFace:_util.isNodeJS,ae=P.fontExtraProperties===!0,ce=P.enableXfa===!0,Ie=P.ownerDocument||globalThis.document,fe=P.disableRange===!0,Te=P.disableStream===!0,be=P.disableAutoFetch===!0,ve=P.pdfBug===!0,te=w?w.length:P.length??NaN,ie=typeof P.useSystemFonts=="boolean"?P.useSystemFonts:!_util.isNodeJS&&!G,ge=typeof P.useWorkerFetch=="boolean"?P.useWorkerFetch:v===_display_utils.DOMCMapReaderFactory&&I===_display_utils.DOMStandardFontDataFactory&&Z&&S&&(0,_display_utils.isValidFetchUrl)(Z,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(S,document.baseURI),he=P.canvasFactory||new DefaultCanvasFactory({ownerDocument:Ie}),ue=P.filterFactory||new DefaultFilterFactory({docId:H,ownerDocument:Ie}),we=null;(0,_util.setVerbosityLevel)(b);const Ce={canvasFactory:he,filterFactory:ue};if(ge||(Ce.cMapReaderFactory=new v({baseUrl:Z,isCompressed:N}),Ce.standardFontDataFactory=new I({baseUrl:S})),!l){const Fe={verbosity:b,port:_worker_options.GlobalWorkerOptions.workerPort};l=Fe.port?PDFWorker.fromPort(Fe):new PDFWorker(Fe),C._worker=l}const le={docId:H,apiVersion:"3.11.174",data:se,password:d,disableAutoFetch:be,rangeChunkSize:q,length:te,docBaseUrl:D,enableXfa:ce,evaluatorOptions:{maxImageSize:y,disableFontFace:G,ignoreErrors:u,isEvalSupported:r,isOffscreenCanvasSupported:A,canvasMaxAreaInBytes:E,fontExtraProperties:ae,useSystemFonts:ie,cMapUrl:ge?Z:null,standardFontDataUrl:ge?S:null}},ke={ignoreErrors:u,isEvalSupported:r,disableFontFace:G,fontExtraProperties:ae,enableXfa:ce,ownerDocument:Ie,disableAutoFetch:be,pdfBug:ve,styleElement:we};return l.promise.then(function(){if(C.destroyed)throw new Error("Loading aborted");const Fe=_fetchDocument(l,le),de=new Promise(function(Ee){let Oe;w?Oe=new _transport_stream.PDFDataTransportStream({length:te,initialData:w.initialData,progressiveDone:w.progressiveDone,contentDispositionFilename:w.contentDispositionFilename,disableRange:fe,disableStream:Te},w):se||(Oe=(et=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(et):(0,_display_utils.isValidFetchUrl)(et.url)?new _displayFetch_stream.PDFFetchStream(et):new _displayNetwork.PDFNetworkStream(et))({url:$,length:te,httpHeaders:_,withCredentials:Q,rangeChunkSize:q,disableRange:fe,disableStream:Te})),Ee(Oe)});return Promise.all([Fe,de]).then(function([Ee,Oe]){if(C.destroyed)throw new Error("Loading aborted");const Ne=new _message_handler.MessageHandler(H,Ee,l.port),et=new WorkerTransport(Ne,C,Oe,ke,Ce);C._transport=et,Ne.send("Ready",null)})}).catch(C._capability.reject),C}async function _fetchDocument(P,C){if(P.destroyed)throw new Error("Worker was destroyed");const H=await P.messageHandler.sendWithPromise("GetDocRequest",C,C.data?[C.data.buffer]:null);if(P.destroyed)throw new Error("Worker was destroyed");return H}function getUrlProp(P){if(P instanceof URL)return P.href;try{return new URL(P,window.location).href}catch{if(_util.isNodeJS&&typeof P=="string")return P}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(P){if(_util.isNodeJS&&typeof Buffer<"u"&&P instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(P instanceof Uint8Array&&P.byteLength===P.buffer.byteLength)return P;if(typeof P=="string")return(0,_util.stringToBytes)(P);if(typeof P=="object"&&!isNaN(P==null?void 0:P.length)||(0,_util.isArrayBuffer)(P))return new Uint8Array(P);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${bo(s,a)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var C,H,$;this.destroyed=!0;try{(C=this._worker)!=null&&C.port&&(this._worker._pendingDestroy=!0),await((H=this._transport)==null?void 0:H.destroy())}catch(se){throw($=this._worker)!=null&&$.port&&delete this._worker._pendingDestroy,se}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};a=new WeakMap,ct(s,a,0);let PDFDocumentLoadingTask=s;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(C,H,$=!1,se=null){this.length=C,this.initialData=H,this.progressiveDone=$,this.contentDispositionFilename=se,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(C){this._rangeListeners.push(C)}addProgressListener(C){this._progressListeners.push(C)}addProgressiveReadListener(C){this._progressiveReadListeners.push(C)}addProgressiveDoneListener(C){this._progressiveDoneListeners.push(C)}onDataRange(C,H){for(const $ of this._rangeListeners)$(C,H)}onDataProgress(C,H){this._readyCapability.promise.then(()=>{for(const $ of this._progressListeners)$(C,H)})}onDataProgressiveRead(C){this._readyCapability.promise.then(()=>{for(const H of this._progressiveReadListeners)H(C)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const C of this._progressiveDoneListeners)C()})}transportReady(){this._readyCapability.resolve()}requestDataRange(C,H){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(C,H){this._pdfInfo=C,this._transport=H,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then($=>{if(!$)return $;const se=[];for(const _ in $)se.push(...$[_]);return se}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(C){return this._transport.getPage(C)}getPageIndex(C){return this._transport.getPageIndex(C)}getDestinations(){return this._transport.getDestinations()}getDestination(C){return this._transport.getDestination(C)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(C=!1){return this._transport.startCleanup(C||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(C,H,$,se=!1){ct(this,Ae);ct(this,Pe);ct(this,M,null);ct(this,V,!1);this._pageIndex=C,this._pageInfo=H,this._transport=$,this._stats=se?new _display_utils.StatTimer:null,this._pdfBug=se,this.commonObjs=$.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:C,rotation:H=this.rotate,offsetX:$=0,offsetY:se=0,dontFlip:_=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:C,rotation:H,offsetX:$,offsetY:se,dontFlip:_})}getAnnotations({intent:C="display"}={}){const H=this._transport.getRenderingIntent(C);return this._transport.getAnnotations(this._pageIndex,H.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var C;return((C=this._transport._htmlForXfa)==null?void 0:C.children[this._pageIndex])||null}render({canvasContext:C,viewport:H,intent:$="display",annotationMode:se=_util.AnnotationMode.ENABLE,transform:_=null,background:Q=null,optionalContentConfigPromise:d=null,annotationCanvasMap:w=null,pageColors:q=null,printAnnotationStorage:l=null}){var I,u;(I=this._stats)==null||I.time("Overall");const b=this._transport.getRenderingIntent($,se,l);Pt(this,V,!1),dt(this,Pe,uA).call(this),d||(d=this._transport.getOptionalContentConfig());let D=this._intentStates.get(b.cacheKey);D||(D=Object.create(null),this._intentStates.set(b.cacheKey,D)),D.streamReaderCancelTimeout&&(clearTimeout(D.streamReaderCancelTimeout),D.streamReaderCancelTimeout=null);const Z=!!(b.renderingIntent&_util.RenderingIntentFlag.PRINT);D.displayReadyCapability||(D.displayReadyCapability=new _util.PromiseCapability,D.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(b));const N=y=>{var r,A;D.renderTasks.delete(v),(this._maybeCleanupAfterRender||Z)&&Pt(this,V,!0),dt(this,Ae,fa).call(this,!Z),y?(v.capability.reject(y),this._abortOperatorList({intentState:D,reason:y instanceof Error?y:new Error(y)})):v.capability.resolve(),(r=this._stats)==null||r.timeEnd("Rendering"),(A=this._stats)==null||A.timeEnd("Overall")},v=new InternalRenderTask({callback:N,params:{canvasContext:C,viewport:H,transform:_,background:Q},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:w,operatorList:D.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Z,pdfBug:this._pdfBug,pageColors:q});(D.renderTasks||(D.renderTasks=new Set)).add(v);const S=v.task;return Promise.all([D.displayReadyCapability.promise,d]).then(([y,r])=>{var A;if(this.destroyed){N();return}(A=this._stats)==null||A.time("Rendering"),v.initializeGraphics({transparency:y,optionalContentConfig:r}),v.operatorListChanged()}).catch(N),S}getOperatorList({intent:C="display",annotationMode:H=_util.AnnotationMode.ENABLE,printAnnotationStorage:$=null}={}){var w;function se(){Q.operatorList.lastChunk&&(Q.opListReadCapability.resolve(Q.operatorList),Q.renderTasks.delete(d))}const _=this._transport.getRenderingIntent(C,H,$,!0);let Q=this._intentStates.get(_.cacheKey);Q||(Q=Object.create(null),this._intentStates.set(_.cacheKey,Q));let d;return Q.opListReadCapability||(d=Object.create(null),d.operatorListChanged=se,Q.opListReadCapability=new _util.PromiseCapability,(Q.renderTasks||(Q.renderTasks=new Set)).add(d),Q.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(w=this._stats)==null||w.time("Page Request"),this._pumpOperatorList(_)),Q.opListReadCapability.promise}streamTextContent({includeMarkedContent:C=!1,disableNormalization:H=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:C===!0,disableNormalization:H===!0},{highWaterMark:100,size(se){return se.items.length}})}getTextContent(C={}){if(this._transport._htmlForXfa)return this.getXfa().then($=>_xfa_text.XfaText.textContent($));const H=this.streamTextContent(C);return new Promise(function($,se){function _(){Q.read().then(function({value:w,done:q}){if(q){$(d);return}Object.assign(d.styles,w.styles),d.items.push(...w.items),_()},se)}const Q=H.getReader(),d={items:[],styles:Object.create(null)};_()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const C=[];for(const H of this._intentStates.values())if(this._abortOperatorList({intentState:H,reason:new Error("Page was destroyed."),force:!0}),!H.opListReadCapability)for(const $ of H.renderTasks)C.push($.completed),$.cancel();return this.objs.clear(),Pt(this,V,!1),dt(this,Pe,uA).call(this),Promise.all(C)}cleanup(C=!1){Pt(this,V,!0);const H=dt(this,Ae,fa).call(this,!1);return C&&H&&this._stats&&(this._stats=new _display_utils.StatTimer),H}_startRenderPage(C,H){var se,_;const $=this._intentStates.get(H);$&&((se=this._stats)==null||se.timeEnd("Page Request"),(_=$.displayReadyCapability)==null||_.resolve(C))}_renderPageChunk(C,H){for(let $=0,se=C.length;$<se;$++)H.operatorList.fnArray.push(C.fnArray[$]),H.operatorList.argsArray.push(C.argsArray[$]);H.operatorList.lastChunk=C.lastChunk,H.operatorList.separateAnnots=C.separateAnnots;for(const $ of H.renderTasks)$.operatorListChanged();C.lastChunk&&dt(this,Ae,fa).call(this,!0)}_pumpOperatorList({renderingIntent:C,cacheKey:H,annotationStorageSerializable:$}){const{map:se,transfers:_}=$,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:C,cacheKey:H,annotationStorage:se},_).getReader(),w=this._intentStates.get(H);w.streamReader=d;const q=()=>{d.read().then(({value:l,done:b})=>{if(b){w.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(l,w),q())},l=>{if(w.streamReader=null,!this._transport.destroyed){if(w.operatorList){w.operatorList.lastChunk=!0;for(const b of w.renderTasks)b.operatorListChanged();dt(this,Ae,fa).call(this,!0)}if(w.displayReadyCapability)w.displayReadyCapability.reject(l);else if(w.opListReadCapability)w.opListReadCapability.reject(l);else throw l}})};q()}_abortOperatorList({intentState:C,reason:H,force:$=!1}){if(C.streamReader){if(C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null),!$){if(C.renderTasks.size>0)return;if(H instanceof _display_utils.RenderingCancelledException){let se=RENDERING_CANCELLED_TIMEOUT;H.extraDelay>0&&H.extraDelay<1e3&&(se+=H.extraDelay),C.streamReaderCancelTimeout=setTimeout(()=>{C.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:C,reason:H,force:!0})},se);return}}if(C.streamReader.cancel(new _util.AbortException(H.message)).catch(()=>{}),C.streamReader=null,!this._transport.destroyed){for(const[se,_]of this._intentStates)if(_===C){this._intentStates.delete(se);break}this.cleanup()}}}get stats(){return this._stats}}M=new WeakMap,V=new WeakMap,Ae=new WeakSet,fa=function(C=!1){if(dt(this,Pe,uA).call(this),!Ue(this,V)||this.destroyed)return!1;if(C)return Pt(this,M,setTimeout(()=>{Pt(this,M,null),dt(this,Ae,fa).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:H,operatorList:$}of this._intentStates.values())if(H.size>0||!$.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Pt(this,V,!1),!0},Pe=new WeakSet,uA=function(){Ue(this,M)&&(clearTimeout(Ue(this,M)),Pt(this,M,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ct(this,re,new Set);ct(this,n,Promise.resolve())}postMessage(C,H){const $={data:structuredClone(C,H?{transfer:H}:null)};Ue(this,n).then(()=>{for(const se of Ue(this,re))se.call(this,$)})}addEventListener(C,H){Ue(this,re).add(H)}removeEventListener(C,H){Ue(this,re).delete(H)}terminate(){Ue(this,re).clear()}}re=new WeakMap,n=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const P=(x=document==null?void 0:document.currentScript)==null?void 0:x.src;P&&(PDFWorkerUtil.fallbackWorkerSrc=P.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(P,C){let H;try{if(H=new URL(P),!H.origin||H.origin==="null")return!1}catch{return!1}const $=new URL(C,H);return H.origin===$.origin},PDFWorkerUtil.createCDNWrapper=function(P){const C=`importScripts("${P}");`;return URL.createObjectURL(new Blob([C]))}}const _PDFWorker=class _PDFWorker{constructor({name:P=null,port:C=null,verbosity:H=(0,_util.getVerbosityLevel)()}={}){var $;if(this.name=P,this.destroyed=!1,this.verbosity=H,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,C){if(($=Ue(_PDFWorker,U))!=null&&$.has(C))throw new Error("Cannot use more than one PDFWorker per port.");(Ue(_PDFWorker,U)||Pt(_PDFWorker,U,new WeakMap)).set(C,this),this._initializeFromPort(C);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(P){this._port=P,this._messageHandler=new _message_handler.MessageHandler("main","worker",P),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:P}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,P)||(P=PDFWorkerUtil.createCDNWrapper(new URL(P,window.location).href));const C=new Worker(P),H=new _message_handler.MessageHandler("main","worker",C),$=()=>{C.removeEventListener("error",se),H.destroy(),C.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},se=()=>{this._webWorker||$()};C.addEventListener("error",se),H.on("test",Q=>{if(C.removeEventListener("error",se),this.destroyed){$();return}Q?(this._messageHandler=H,this._port=C,this._webWorker=C,this._readyCapability.resolve(),H.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),H.destroy(),C.terminate())}),H.on("ready",Q=>{if(C.removeEventListener("error",se),this.destroyed){$();return}try{_()}catch{this._setupFakeWorker()}});const _=()=>{const Q=new Uint8Array;H.send("test",Q,[Q.buffer])};_();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(P=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const C=new LoopbackPort;this._port=C;const H=`fake${PDFWorkerUtil.fakeWorkerId++}`,$=new _message_handler.MessageHandler(H+"_worker",H,C);P.setup($,C);const se=new _message_handler.MessageHandler(H,H+"_worker",C);this._messageHandler=se,this._readyCapability.resolve(),se.send("configure",{verbosity:this.verbosity})}).catch(P=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${P.message}".`))})}destroy(){var P;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(P=Ue(_PDFWorker,U))==null||P.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(P){var H;if(!(P!=null&&P.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const C=(H=Ue(this,U))==null?void 0:H.get(P.port);if(C){if(C._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return C}return new _PDFWorker(P)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var P;try{return((P=globalThis.pdfjsWorker)==null?void 0:P.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};U=new WeakMap,ct(_PDFWorker,U,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(C,H,$,se,_){ct(this,X);ct(this,e,new Map);ct(this,t,new Map);ct(this,o,new Map);ct(this,K,null);this.messageHandler=C,this.loadingTask=H,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:se.ownerDocument,styleElement:se.styleElement}),this._params=se,this.canvasFactory=_.canvasFactory,this.filterFactory=_.filterFactory,this.cMapReaderFactory=_.cMapReaderFactory,this.standardFontDataFactory=_.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=$,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(C,H=_util.AnnotationMode.ENABLE,$=null,se=!1){let _=_util.RenderingIntentFlag.DISPLAY,Q=_annotation_storage.SerializableEmpty;switch(C){case"any":_=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":_=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${C}`)}switch(H){case _util.AnnotationMode.DISABLE:_+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:_+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:_+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Q=(_&_util.RenderingIntentFlag.PRINT&&$ instanceof _annotation_storage.PrintAnnotationStorage?$:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${H}`)}return se&&(_+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:_,cacheKey:`${_}_${Q.hash}`,annotationStorageSerializable:Q}}destroy(){var $;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,($=Ue(this,K))==null||$.reject(new Error("Worker was destroyed during onPassword callback"));const C=[];for(const se of Ue(this,t).values())C.push(se._destroy());Ue(this,t).clear(),Ue(this,o).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const H=this.messageHandler.sendWithPromise("Terminate",null);return C.push(H),Promise.all(C).then(()=>{var se;this.commonObjs.clear(),this.fontLoader.clear(),Ue(this,e).clear(),this.filterFactory.destroy(),(se=this._networkStream)==null||se.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:C,loadingTask:H}=this;C.on("GetReader",($,se)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=_=>{this._lastProgress={loaded:_.loaded,total:_.total}},se.onPull=()=>{this._fullReader.read().then(function({value:_,done:Q}){if(Q){se.close();return}(0,_util.assert)(_ instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),se.enqueue(new Uint8Array(_),1,[_])}).catch(_=>{se.error(_)})},se.onCancel=_=>{this._fullReader.cancel(_),se.ready.catch(Q=>{if(!this.destroyed)throw Q})}}),C.on("ReaderHeadersReady",$=>{const se=new _util.PromiseCapability,_=this._fullReader;return _.headersReady.then(()=>{var Q;(!_.isStreamingSupported||!_.isRangeSupported)&&(this._lastProgress&&((Q=H.onProgress)==null||Q.call(H,this._lastProgress)),_.onProgress=d=>{var w;(w=H.onProgress)==null||w.call(H,{loaded:d.loaded,total:d.total})}),se.resolve({isStreamingSupported:_.isStreamingSupported,isRangeSupported:_.isRangeSupported,contentLength:_.contentLength})},se.reject),se.promise}),C.on("GetRangeReader",($,se)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const _=this._networkStream.getRangeReader($.begin,$.end);if(!_){se.close();return}se.onPull=()=>{_.read().then(function({value:Q,done:d}){if(d){se.close();return}(0,_util.assert)(Q instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),se.enqueue(new Uint8Array(Q),1,[Q])}).catch(Q=>{se.error(Q)})},se.onCancel=Q=>{_.cancel(Q),se.ready.catch(d=>{if(!this.destroyed)throw d})}}),C.on("GetDoc",({pdfInfo:$})=>{this._numPages=$.numPages,this._htmlForXfa=$.htmlForXfa,delete $.htmlForXfa,H._capability.resolve(new PDFDocumentProxy($,this))}),C.on("DocException",function($){let se;switch($.name){case"PasswordException":se=new _util.PasswordException($.message,$.code);break;case"InvalidPDFException":se=new _util.InvalidPDFException($.message);break;case"MissingPDFException":se=new _util.MissingPDFException($.message);break;case"UnexpectedResponseException":se=new _util.UnexpectedResponseException($.message,$.status);break;case"UnknownErrorException":se=new _util.UnknownErrorException($.message,$.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}H._capability.reject(se)}),C.on("PasswordRequest",$=>{if(Pt(this,K,new _util.PromiseCapability),H.onPassword){const se=_=>{_ instanceof Error?Ue(this,K).reject(_):Ue(this,K).resolve({password:_})};try{H.onPassword(se,$.code)}catch(_){Ue(this,K).reject(_)}}else Ue(this,K).reject(new _util.PasswordException($.message,$.code));return Ue(this,K).promise}),C.on("DataLoaded",$=>{var se;(se=H.onProgress)==null||se.call(H,{loaded:$.length,total:$.length}),this.downloadInfoCapability.resolve($)}),C.on("StartRenderPage",$=>{if(this.destroyed)return;Ue(this,t).get($.pageIndex)._startRenderPage($.transparency,$.cacheKey)}),C.on("commonobj",([$,se,_])=>{var Q;if(!this.destroyed&&!this.commonObjs.has($))switch(se){case"Font":const d=this._params;if("error"in _){const l=_.error;(0,_util.warn)(`Error during font loading: ${l}`),this.commonObjs.resolve($,l);break}const w=d.pdfBug&&((Q=globalThis.FontInspector)!=null&&Q.enabled)?(l,b)=>globalThis.FontInspector.fontAdded(l,b):null,q=new _font_loader.FontFaceObject(_,{isEvalSupported:d.isEvalSupported,disableFontFace:d.disableFontFace,ignoreErrors:d.ignoreErrors,inspectFont:w});this.fontLoader.bind(q).catch(l=>C.sendWithPromise("FontFallback",{id:$})).finally(()=>{!d.fontExtraProperties&&q.data&&(q.data=null),this.commonObjs.resolve($,q)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve($,_);break;default:throw new Error(`Got unknown common object type ${se}`)}}),C.on("obj",([$,se,_,Q])=>{var w;if(this.destroyed)return;const d=Ue(this,t).get(se);if(!d.objs.has($))switch(_){case"Image":if(d.objs.resolve($,Q),Q){let q;if(Q.bitmap){const{width:l,height:b}=Q;q=l*b*4}else q=((w=Q.data)==null?void 0:w.length)||0;q>_util.MAX_IMAGE_SIZE_TO_CACHE&&(d._maybeCleanupAfterRender=!0)}break;case"Pattern":d.objs.resolve($,Q);break;default:throw new Error(`Got unknown object type ${_}`)}}),C.on("DocProgress",$=>{var se;this.destroyed||(se=H.onProgress)==null||se.call(H,{loaded:$.loaded,total:$.total})}),C.on("FetchBuiltInCMap",$=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch($):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),C.on("FetchStandardFontData",$=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch($):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var $;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:C,transfers:H}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:C,filename:(($=this._fullReader)==null?void 0:$.filename)??null},H).finally(()=>{this.annotationStorage.resetModified()})}getPage(C){if(!Number.isInteger(C)||C<=0||C>this._numPages)return Promise.reject(new Error("Invalid page request."));const H=C-1,$=Ue(this,o).get(H);if($)return $;const se=this.messageHandler.sendWithPromise("GetPage",{pageIndex:H}).then(_=>{if(this.destroyed)throw new Error("Transport destroyed");const Q=new PDFPageProxy(H,_,this,this._params.pdfBug);return Ue(this,t).set(H,Q),Q});return Ue(this,o).set(H,se),se}getPageIndex(C){return typeof C!="object"||C===null||!Number.isInteger(C.num)||C.num<0||!Number.isInteger(C.gen)||C.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:C.num,gen:C.gen})}getAnnotations(C,H){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:C,intent:H})}getFieldObjects(){return dt(this,X,hA).call(this,"GetFieldObjects")}hasJSActions(){return dt(this,X,hA).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(C){return typeof C!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:C})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return dt(this,X,hA).call(this,"GetDocJSActions")}getPageJSActions(C){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:C})}getStructTree(C){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:C})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(C=>new _optional_content_config.OptionalContentConfig(C))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const C="GetMetadata",H=Ue(this,e).get(C);if(H)return H;const $=this.messageHandler.sendWithPromise(C,null).then(se=>{var _,Q;return{info:se[0],metadata:se[1]?new _metadata.Metadata(se[1]):null,contentDispositionFilename:((_=this._fullReader)==null?void 0:_.filename)??null,contentLength:((Q=this._fullReader)==null?void 0:Q.contentLength)??null}});return Ue(this,e).set(C,$),$}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(C=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const H of Ue(this,t).values())if(!H.cleanup())throw new Error(`startCleanup: Page ${H.pageNumber} is currently rendering.`);this.commonObjs.clear(),C||this.fontLoader.clear(),Ue(this,e).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:C,enableXfa:H}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:C,enableXfa:H})}}e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,X=new WeakSet,hA=function(C,H=null){const $=Ue(this,e).get(C);if($)return $;const se=this.messageHandler.sendWithPromise(C,H);return Ue(this,e).set(C,se),se};class PDFObjects{constructor(){ct(this,f);ct(this,O,Object.create(null))}get(C,H=null){if(H){const se=dt(this,f,n0).call(this,C);return se.capability.promise.then(()=>H(se.data)),null}const $=Ue(this,O)[C];if(!($!=null&&$.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${C}.`);return $.data}has(C){const H=Ue(this,O)[C];return(H==null?void 0:H.capability.settled)||!1}resolve(C,H=null){const $=dt(this,f,n0).call(this,C);$.data=H,$.capability.resolve()}clear(){var C;for(const H in Ue(this,O)){const{data:$}=Ue(this,O)[H];(C=$==null?void 0:$.bitmap)==null||C.close()}Pt(this,O,Object.create(null))}}O=new WeakMap,f=new WeakSet,n0=function(C){var H;return(H=Ue(this,O))[C]||(H[C]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(C){ct(this,i,null);Pt(this,i,C),this.onContinue=null}get promise(){return Ue(this,i).capability.promise}cancel(C=0){Ue(this,i).cancel(null,C)}get separateAnnots(){const{separateAnnots:C}=Ue(this,i).operatorList;if(!C)return!1;const{annotationCanvasMap:H}=Ue(this,i);return C.form||C.canvas&&(H==null?void 0:H.size)>0}}i=new WeakMap,exports.RenderTask=RenderTask;const F=class F{constructor({callback:C,params:H,objs:$,commonObjs:se,annotationCanvasMap:_,operatorList:Q,pageIndex:d,canvasFactory:w,filterFactory:q,useRequestAnimationFrame:l=!1,pdfBug:b=!1,pageColors:D=null}){this.callback=C,this.params=H,this.objs=$,this.commonObjs=se,this.annotationCanvasMap=_,this.operatorListIdx=null,this.operatorList=Q,this._pageIndex=d,this.canvasFactory=w,this.filterFactory=q,this._pdfBug=b,this.pageColors=D,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=l===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=H.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:C=!1,optionalContentConfig:H}){var d,w;if(this.cancelled)return;if(this._canvas){if(Ue(F,T).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ue(F,T).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:$,viewport:se,transform:_,background:Q}=this.params;this.gfx=new _canvas.CanvasGraphics($,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:H},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:_,viewport:se,transparency:C,background:Q}),this.operatorListIdx=0,this.graphicsReady=!0,(w=this.graphicsReadyCallback)==null||w.call(this)}cancel(C=null,H=0){var $;this.running=!1,this.cancelled=!0,($=this.gfx)==null||$.endDrawing(),Ue(F,T).delete(this._canvas),this.callback(C||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,H))}operatorListChanged(){var C;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(C=this.stepper)==null||C.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ue(F,T).delete(this._canvas),this.callback())))}};T=new WeakMap,ct(F,T,new WeakSet);let InternalRenderTask=F;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(a,s,M)=>{var n,x,U,xh,t;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var V=M(1),Ae=M(4),_e=M(8);const Pe=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=Pe;class h{constructor(){ct(this,U);ct(this,n,!1);ct(this,x,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(K,X){const L=Ue(this,x).get(K);return L===void 0?X:Object.assign(X,L)}getRawValue(K){return Ue(this,x).get(K)}remove(K){if(Ue(this,x).delete(K),Ue(this,x).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const X of Ue(this,x).values())if(X instanceof Ae.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(K,X){const L=Ue(this,x).get(K);let O=!1;if(L!==void 0)for(const[f,p]of Object.entries(X))L[f]!==p&&(O=!0,L[f]=p);else O=!0,Ue(this,x).set(K,X);O&&dt(this,U,xh).call(this),X instanceof Ae.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(X.constructor._type)}has(K){return Ue(this,x).has(K)}getAll(){return Ue(this,x).size>0?(0,V.objectFromMap)(Ue(this,x)):null}setAll(K){for(const[X,L]of Object.entries(K))this.setValue(X,L)}get size(){return Ue(this,x).size}resetModified(){Ue(this,n)&&(Pt(this,n,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new re(this)}get serializable(){if(Ue(this,x).size===0)return Pe;const K=new Map,X=new _e.MurmurHash3_64,L=[],O=Object.create(null);let f=!1;for(const[p,i]of Ue(this,x)){const T=i instanceof Ae.AnnotationEditor?i.serialize(!1,O):i;T&&(K.set(p,T),X.update(`${p}:${JSON.stringify(T)}`),f||(f=!!T.bitmap))}if(f)for(const p of K.values())p.bitmap&&L.push(p.bitmap);return K.size>0?{map:K,hash:X.hexdigest(),transfers:L}:Pe}}n=new WeakMap,x=new WeakMap,U=new WeakSet,xh=function(){Ue(this,n)||(Pt(this,n,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=h;class re extends h{constructor(X){super();ct(this,t,void 0);const{map:L,hash:O,transfers:f}=X.serializable,p=structuredClone(L,f?{transfer:f}:null);Pt(this,t,{map:p,hash:O,transfers:f})}get print(){(0,V.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Ue(this,t)}}t=new WeakMap,s.PrintAnnotationStorage=re},(a,s,M)=>{var re,n,x,U,e,t,o,K,X,L,O,f,p,i,T,i0,P,r0,H,s0,se,a0,Q,bh,w,wh,l,yh,D,o0,N,Bh;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var V=M(5),Ae=M(1),_e=M(6);const S=class S{constructor(u){ct(this,T);ct(this,P);ct(this,se);ct(this,Q);ct(this,w);ct(this,l);ct(this,D);ct(this,N);ct(this,re,"");ct(this,n,!1);ct(this,x,null);ct(this,U,null);ct(this,e,null);ct(this,t,!1);ct(this,o,null);ct(this,K,this.focusin.bind(this));ct(this,X,this.focusout.bind(this));ct(this,L,!1);ct(this,O,!1);ct(this,f,!1);br(this,"_initialOptions",Object.create(null));br(this,"_uiManager",null);br(this,"_focusEventsAllowed",!0);br(this,"_l10nPromise",null);ct(this,p,!1);ct(this,i,S._zIndex++);this.constructor===S&&(0,Ae.unreachable)("Cannot initialize AnnotationEditor."),this.parent=u.parent,this.id=u.id,this.width=this.height=null,this.pageIndex=u.parent.pageIndex,this.name=u.name,this.div=null,this._uiManager=u.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=u.isCentered,this._structTreeParentId=null;const{rotation:y,rawDims:{pageWidth:r,pageHeight:A,pageX:E,pageY:G}}=this.parent.viewport;this.rotation=y,this.pageRotation=(360+y-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,A],this.pageTranslation=[E,G];const[ae,ce]=this.parentDimensions;this.x=u.x/ae,this.y=u.y/ce,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,Ae.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(u){const y=new h({id:u.parent.getNextId(),parent:u.parent,uiManager:u._uiManager});y.annotationElementId=u.annotationElementId,y.deleted=!0,y._uiManager.addToAnnotationStorage(y)}static initialize(u,y=null){if(S._l10nPromise||(S._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(A=>[A,u.get(A)]))),y!=null&&y.strings)for(const A of y.strings)S._l10nPromise.set(A,u.get(A));if(S._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);S._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(u,y){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(u){return!1}static paste(u,y){(0,Ae.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ue(this,p)}set _isDraggable(u){var y;Pt(this,p,u),(y=this.div)==null||y.classList.toggle("draggable",u)}center(){const[u,y]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*y/(u*2),this.y+=this.width*u/(y*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*y/(u*2),this.y-=this.width*u/(y*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(u){this._uiManager.addCommands(u)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ue(this,i)}setParent(u){u!==null&&(this.pageIndex=u.pageIndex,this.pageDimensions=u.pageDimensions),this.parent=u}focusin(u){this._focusEventsAllowed&&(Ue(this,L)?Pt(this,L,!1):this.parent.setSelected(this))}focusout(u){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const y=u.relatedTarget;y!=null&&y.closest(`#${this.id}`)||(u.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(u,y,r,A){const[E,G]=this.parentDimensions;[r,A]=this.screenToPageTranslation(r,A),this.x=(u+r)/E,this.y=(y+A)/G,this.fixAndSetPosition()}translate(u,y){dt(this,T,i0).call(this,this.parentDimensions,u,y)}translateInPage(u,y){dt(this,T,i0).call(this,this.pageDimensions,u,y),this.div.scrollIntoView({block:"nearest"})}drag(u,y){const[r,A]=this.parentDimensions;if(this.x+=u/r,this.y+=y/A,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ie,y:fe}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ie,fe)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:E,y:G}=this;const[ae,ce]=dt(this,P,r0).call(this);E+=ae,G+=ce,this.div.style.left=`${(100*E).toFixed(2)}%`,this.div.style.top=`${(100*G).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[u,y]=this.pageDimensions;let{x:r,y:A,width:E,height:G}=this;switch(E*=u,G*=y,r*=u,A*=y,this.rotation){case 0:r=Math.max(0,Math.min(u-E,r)),A=Math.max(0,Math.min(y-G,A));break;case 90:r=Math.max(0,Math.min(u-G,r)),A=Math.min(y,Math.max(E,A));break;case 180:r=Math.min(u,Math.max(E,r)),A=Math.min(y,Math.max(G,A));break;case 270:r=Math.min(u,Math.max(G,r)),A=Math.max(0,Math.min(y-E,A));break}this.x=r/=u,this.y=A/=y;const[ae,ce]=dt(this,P,r0).call(this);r+=ae,A+=ce;const{style:Ie}=this.div;Ie.left=`${(100*r).toFixed(2)}%`,Ie.top=`${(100*A).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(u,y){var r;return dt(r=S,H,s0).call(r,u,y,this.parentRotation)}pageTranslationToScreen(u,y){var r;return dt(r=S,H,s0).call(r,u,y,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:u,pageDimensions:[y,r]}=this,A=y*u,E=r*u;return Ae.FeatureTest.isCSSRoundSupported?[Math.round(A),Math.round(E)]:[A,E]}setDims(u,y){var E;const[r,A]=this.parentDimensions;this.div.style.width=`${(100*u/r).toFixed(2)}%`,Ue(this,t)||(this.div.style.height=`${(100*y/A).toFixed(2)}%`),(E=Ue(this,x))==null||E.classList.toggle("small",u<S.SMALL_EDITOR_SIZE||y<S.SMALL_EDITOR_SIZE)}fixDims(){const{style:u}=this.div,{height:y,width:r}=u,A=r.endsWith("%"),E=!Ue(this,t)&&y.endsWith("%");if(A&&E)return;const[G,ae]=this.parentDimensions;A||(u.width=`${(100*parseFloat(r)/G).toFixed(2)}%`),!Ue(this,t)&&!E&&(u.height=`${(100*parseFloat(y)/ae).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Ue(this,x))return;const u=Pt(this,x,document.createElement("button"));u.className="altText";const y=await S._l10nPromise.get("editor_alt_text_button_label");u.textContent=y,u.setAttribute("aria-label",y),u.tabIndex="0",u.addEventListener("contextmenu",_e.noContextMenu),u.addEventListener("pointerdown",r=>r.stopPropagation()),u.addEventListener("click",r=>{r.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),u.addEventListener("keydown",r=>{r.target===u&&r.key==="Enter"&&(r.preventDefault(),this._uiManager.editAltText(this))}),dt(this,D,o0).call(this),this.div.append(u),S.SMALL_EDITOR_SIZE||(S.SMALL_EDITOR_SIZE=Math.min(128,Math.round(u.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Ue(this,re),decorative:Ue(this,n)}}set altTextData({altText:u,decorative:y}){Ue(this,re)===u&&Ue(this,n)===y||(Pt(this,re,u),Pt(this,n,y),dt(this,D,o0).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Ue(this,K)),this.div.addEventListener("focusout",Ue(this,X));const[u,y]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*y/u).toFixed(2)}%`,this.div.style.maxHeight=`${(100*u/y).toFixed(2)}%`);const[r,A]=this.getInitialTranslation();return this.translate(r,A),(0,V.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(u){const{isMac:y}=Ae.FeatureTest.platform;if(u.button!==0||u.ctrlKey&&y){u.preventDefault();return}Pt(this,L,!0),dt(this,N,Bh).call(this,u)}moveInDOM(){var u;(u=this.parent)==null||u.moveEditorInDOM(this)}_setParentAndPosition(u,y,r){u.changeParent(this),this.x=y,this.y=r,this.fixAndSetPosition()}getRect(u,y){const r=this.parentScale,[A,E]=this.pageDimensions,[G,ae]=this.pageTranslation,ce=u/r,Ie=y/r,fe=this.x*A,Te=this.y*E,be=this.width*A,ve=this.height*E;switch(this.rotation){case 0:return[fe+ce+G,E-Te-Ie-ve+ae,fe+ce+be+G,E-Te-Ie+ae];case 90:return[fe+Ie+G,E-Te+ce+ae,fe+Ie+ve+G,E-Te+ce+be+ae];case 180:return[fe-ce-be+G,E-Te+Ie+ae,fe-ce+G,E-Te+Ie+ve+ae];case 270:return[fe-Ie-ve+G,E-Te-ce-be+ae,fe-Ie+G,E-Te-ce+ae];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(u,y){const[r,A,E,G]=u,ae=E-r,ce=G-A;switch(this.rotation){case 0:return[r,y-G,ae,ce];case 90:return[r,y-A,ce,ae];case 180:return[E,y-A,ae,ce];case 270:return[E,y-G,ce,ae];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Pt(this,f,!0)}disableEditMode(){Pt(this,f,!1)}isInEditMode(){return Ue(this,f)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var u,y;(u=this.div)==null||u.addEventListener("focusin",Ue(this,K)),(y=this.div)==null||y.addEventListener("focusout",Ue(this,X))}serialize(u=!1,y=null){(0,Ae.unreachable)("An editor must be serializable")}static deserialize(u,y,r){const A=new this.prototype.constructor({parent:y,id:y.getNextId(),uiManager:r});A.rotation=u.rotation;const[E,G]=A.pageDimensions,[ae,ce,Ie,fe]=A.getRectInCurrentCoords(u.rect,G);return A.x=ae/E,A.y=ce/G,A.width=Ie/E,A.height=fe/G,A}remove(){var u;this.div.removeEventListener("focusin",Ue(this,K)),this.div.removeEventListener("focusout",Ue(this,X)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(u=Ue(this,x))==null||u.remove(),Pt(this,x,null),Pt(this,U,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(dt(this,Q,bh).call(this),Ue(this,o).classList.remove("hidden"))}select(){var u;this.makeResizable(),(u=this.div)==null||u.classList.add("selectedEditor")}unselect(){var u,y,r;(u=Ue(this,o))==null||u.classList.add("hidden"),(y=this.div)==null||y.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(u,y){}disableEditing(){Ue(this,x)&&(Ue(this,x).hidden=!0)}enableEditing(){Ue(this,x)&&(Ue(this,x).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Ue(this,O)}set isEditing(u){Pt(this,O,u),this.parent&&(u?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(u,y){Pt(this,t,!0);const r=u/y,{style:A}=this.div;A.aspectRatio=r,A.height="auto"}static get MIN_SIZE(){return 16}};re=new WeakMap,n=new WeakMap,x=new WeakMap,U=new WeakMap,e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,X=new WeakMap,L=new WeakMap,O=new WeakMap,f=new WeakMap,p=new WeakMap,i=new WeakMap,T=new WeakSet,i0=function([u,y],r,A){[r,A]=this.screenToPageTranslation(r,A),this.x+=r/u,this.y+=A/y,this.fixAndSetPosition()},P=new WeakSet,r0=function(){const[u,y]=this.parentDimensions,{_borderLineWidth:r}=S,A=r/u,E=r/y;switch(this.rotation){case 90:return[-A,E];case 180:return[A,E];case 270:return[A,-E];default:return[-A,-E]}},H=new WeakSet,s0=function(u,y,r){switch(r){case 90:return[y,-u];case 180:return[-u,-y];case 270:return[-y,u];default:return[u,y]}},se=new WeakSet,a0=function(u){switch(u){case 90:{const[y,r]=this.pageDimensions;return[0,-y/r,r/y,0]}case 180:return[-1,0,0,-1];case 270:{const[y,r]=this.pageDimensions;return[0,y/r,-r/y,0]}default:return[1,0,0,1]}},Q=new WeakSet,bh=function(){if(Ue(this,o))return;Pt(this,o,document.createElement("div")),Ue(this,o).classList.add("resizers");const u=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||u.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const y of u){const r=document.createElement("div");Ue(this,o).append(r),r.classList.add("resizer",y),r.addEventListener("pointerdown",dt(this,w,wh).bind(this,y)),r.addEventListener("contextmenu",_e.noContextMenu)}this.div.prepend(Ue(this,o))},w=new WeakSet,wh=function(u,y){y.preventDefault();const{isMac:r}=Ae.FeatureTest.platform;if(y.button!==0||y.ctrlKey&&r)return;const A=dt(this,l,yh).bind(this,u),E=this._isDraggable;this._isDraggable=!1;const G={passive:!0,capture:!0};window.addEventListener("pointermove",A,G);const ae=this.x,ce=this.y,Ie=this.width,fe=this.height,Te=this.parent.div.style.cursor,be=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(y.target).cursor;const ve=()=>{this._isDraggable=E,window.removeEventListener("pointerup",ve),window.removeEventListener("blur",ve),window.removeEventListener("pointermove",A,G),this.parent.div.style.cursor=Te,this.div.style.cursor=be;const te=this.x,ie=this.y,ge=this.width,he=this.height;te===ae&&ie===ce&&ge===Ie&&he===fe||this.addCommands({cmd:()=>{this.width=ge,this.height=he,this.x=te,this.y=ie;const[ue,we]=this.parentDimensions;this.setDims(ue*ge,we*he),this.fixAndSetPosition()},undo:()=>{this.width=Ie,this.height=fe,this.x=ae,this.y=ce;const[ue,we]=this.parentDimensions;this.setDims(ue*Ie,we*fe),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",ve),window.addEventListener("blur",ve)},l=new WeakSet,yh=function(u,y){const[r,A]=this.parentDimensions,E=this.x,G=this.y,ae=this.width,ce=this.height,Ie=S.MIN_SIZE/r,fe=S.MIN_SIZE/A,Te=ze=>Math.round(ze*1e4)/1e4,be=dt(this,se,a0).call(this,this.rotation),ve=(ze,at)=>[be[0]*ze+be[2]*at,be[1]*ze+be[3]*at],te=dt(this,se,a0).call(this,360-this.rotation),ie=(ze,at)=>[te[0]*ze+te[2]*at,te[1]*ze+te[3]*at];let ge,he,ue=!1,we=!1;switch(u){case"topLeft":ue=!0,ge=(ze,at)=>[0,0],he=(ze,at)=>[ze,at];break;case"topMiddle":ge=(ze,at)=>[ze/2,0],he=(ze,at)=>[ze/2,at];break;case"topRight":ue=!0,ge=(ze,at)=>[ze,0],he=(ze,at)=>[0,at];break;case"middleRight":we=!0,ge=(ze,at)=>[ze,at/2],he=(ze,at)=>[0,at/2];break;case"bottomRight":ue=!0,ge=(ze,at)=>[ze,at],he=(ze,at)=>[0,0];break;case"bottomMiddle":ge=(ze,at)=>[ze/2,at],he=(ze,at)=>[ze/2,0];break;case"bottomLeft":ue=!0,ge=(ze,at)=>[0,at],he=(ze,at)=>[ze,0];break;case"middleLeft":we=!0,ge=(ze,at)=>[0,at/2],he=(ze,at)=>[ze,at/2];break}const Ce=ge(ae,ce),le=he(ae,ce);let ke=ve(...le);const Fe=Te(E+ke[0]),de=Te(G+ke[1]);let Ee=1,Oe=1,[Ne,et]=this.screenToPageTranslation(y.movementX,y.movementY);if([Ne,et]=ie(Ne/r,et/A),ue){const ze=Math.hypot(ae,ce);Ee=Oe=Math.max(Math.min(Math.hypot(le[0]-Ce[0]-Ne,le[1]-Ce[1]-et)/ze,1/ae,1/ce),Ie/ae,fe/ce)}else we?Ee=Math.max(Ie,Math.min(1,Math.abs(le[0]-Ce[0]-Ne)))/ae:Oe=Math.max(fe,Math.min(1,Math.abs(le[1]-Ce[1]-et)))/ce;const rt=Te(ae*Ee),Ge=Te(ce*Oe);ke=ve(...he(rt,Ge));const je=Fe-ke[0],$e=de-ke[1];this.width=rt,this.height=Ge,this.x=je,this.y=$e,this.setDims(r*rt,A*Ge),this.fixAndSetPosition()},D=new WeakSet,o0=async function(){var r;const u=Ue(this,x);if(!u)return;if(!Ue(this,re)&&!Ue(this,n)){u.classList.remove("done"),(r=Ue(this,U))==null||r.remove();return}S._l10nPromise.get("editor_alt_text_edit_button_label").then(A=>{u.setAttribute("aria-label",A)});let y=Ue(this,U);if(!y){Pt(this,U,y=document.createElement("span")),y.className="tooltip",y.setAttribute("role","tooltip");const A=y.id=`alt-text-tooltip-${this.id}`;u.setAttribute("aria-describedby",A);const E=100;u.addEventListener("mouseenter",()=>{Pt(this,e,setTimeout(()=>{Pt(this,e,null),Ue(this,U).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},E))}),u.addEventListener("mouseleave",()=>{var G;clearTimeout(Ue(this,e)),Pt(this,e,null),(G=Ue(this,U))==null||G.classList.remove("show")})}u.classList.add("done"),y.innerText=Ue(this,n)?await S._l10nPromise.get("editor_alt_text_decorative_tooltip"):Ue(this,re),y.parentNode||u.append(y)},N=new WeakSet,Bh=function(u){if(!this._isDraggable)return;const y=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,A;y&&(r={passive:!0,capture:!0},A=G=>{const[ae,ce]=this.screenToPageTranslation(G.movementX,G.movementY);this._uiManager.dragSelectedEditors(ae,ce)},window.addEventListener("pointermove",A,r));const E=()=>{if(window.removeEventListener("pointerup",E),window.removeEventListener("blur",E),y&&window.removeEventListener("pointermove",A,r),Pt(this,L,!1),!this._uiManager.endDragSession()){const{isMac:G}=Ae.FeatureTest.platform;u.ctrlKey&&!G||u.shiftKey||u.metaKey&&G?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",E),window.addEventListener("blur",E)},ct(S,H),br(S,"_borderLineWidth",-1),br(S,"_colorManager",new V.ColorManager),br(S,"_zIndex",1),br(S,"SMALL_EDITOR_SIZE",0);let Pe=S;s.AnnotationEditor=Pe;class h extends Pe{constructor(u){super(u),this.annotationElementId=u.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(a,s,M)=>{var t,o,K,X,L,A0,p,i,T,F,P,Ch,$,se,_,Q,d,w,q,l,b,D,Z,N,v,S,I,u,y,r,A,E,G,ae,ce,Ie,fe,Te,be,ve,te,ie,ge,he,ue,we,Ce,vh,ke,c0,de,l0,Oe,dA,et,u0,Ge,h0,$e,hs,at,wo,At,Sh,Ke,Fh,st,d0,kt,yo,ft,f0;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=_e,s.opacityToHex=Pe;var V=M(1),Ae=M(6);function _e(Ve,Re,qe){for(const Ze of qe)Re.addEventListener(Ze,Ve[Ze].bind(Ve))}function Pe(Ve){return Math.round(Math.min(255,Math.max(1,255*Ve))).toString(16).padStart(2,"0")}class h{constructor(){ct(this,t,0)}getId(){return`${V.AnnotationEditorPrefix}${bo(this,t)._++}`}}t=new WeakMap;const f=class f{constructor(){ct(this,L);ct(this,o,(0,V.getUuid)());ct(this,K,0);ct(this,X,null)}static get _isSVGFittingCanvas(){const Re='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Ze=new OffscreenCanvas(1,3).getContext("2d"),lt=new Image;lt.src=Re;const gt=lt.decode().then(()=>(Ze.drawImage(lt,0,0,1,1,0,0,1,3),new Uint32Array(Ze.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,V.shadow)(this,"_isSVGFittingCanvas",gt)}async getFromFile(Re){const{lastModified:qe,name:Ze,size:lt,type:gt}=Re;return dt(this,L,A0).call(this,`${qe}_${Ze}_${lt}_${gt}`,Re)}async getFromUrl(Re){return dt(this,L,A0).call(this,Re,Re)}async getFromId(Re){Ue(this,X)||Pt(this,X,new Map);const qe=Ue(this,X).get(Re);return qe?qe.bitmap?(qe.refCounter+=1,qe):qe.file?this.getFromFile(qe.file):this.getFromUrl(qe.url):null}getSvgUrl(Re){const qe=Ue(this,X).get(Re);return qe!=null&&qe.isSvg?qe.svgUrl:null}deleteId(Re){Ue(this,X)||Pt(this,X,new Map);const qe=Ue(this,X).get(Re);qe&&(qe.refCounter-=1,qe.refCounter===0&&(qe.bitmap=null))}isValidId(Re){return Re.startsWith(`image_${Ue(this,o)}_`)}};o=new WeakMap,K=new WeakMap,X=new WeakMap,L=new WeakSet,A0=async function(Re,qe){Ue(this,X)||Pt(this,X,new Map);let Ze=Ue(this,X).get(Re);if(Ze===null)return null;if(Ze!=null&&Ze.bitmap)return Ze.refCounter+=1,Ze;try{Ze||(Ze={bitmap:null,id:`image_${Ue(this,o)}_${bo(this,K)._++}`,refCounter:0,isSvg:!1});let lt;if(typeof qe=="string"){Ze.url=qe;const gt=await fetch(qe);if(!gt.ok)throw new Error(gt.statusText);lt=await gt.blob()}else lt=Ze.file=qe;if(lt.type==="image/svg+xml"){const gt=f._isSVGFittingCanvas,xt=new FileReader,jt=new Image,Mt=new Promise((Dt,Kt)=>{jt.onload=()=>{Ze.bitmap=jt,Ze.isSvg=!0,Dt()},xt.onload=async()=>{const Wt=Ze.svgUrl=xt.result;jt.src=await gt?`${Wt}#svgView(preserveAspectRatio(none))`:Wt},jt.onerror=xt.onerror=Kt});xt.readAsDataURL(lt),await Mt}else Ze.bitmap=await createImageBitmap(lt);Ze.refCounter=1}catch(lt){console.error(lt),Ze=null}return Ue(this,X).set(Re,Ze),Ze&&Ue(this,X).set(Ze.id,Ze),Ze};let re=f;class n{constructor(Re=128){ct(this,p,[]);ct(this,i,!1);ct(this,T,void 0);ct(this,F,-1);Pt(this,T,Re)}add({cmd:Re,undo:qe,mustExec:Ze,type:lt=NaN,overwriteIfSameType:gt=!1,keepUndo:xt=!1}){if(Ze&&Re(),Ue(this,i))return;const jt={cmd:Re,undo:qe,type:lt};if(Ue(this,F)===-1){Ue(this,p).length>0&&(Ue(this,p).length=0),Pt(this,F,0),Ue(this,p).push(jt);return}if(gt&&Ue(this,p)[Ue(this,F)].type===lt){xt&&(jt.undo=Ue(this,p)[Ue(this,F)].undo),Ue(this,p)[Ue(this,F)]=jt;return}const Mt=Ue(this,F)+1;Mt===Ue(this,T)?Ue(this,p).splice(0,1):(Pt(this,F,Mt),Mt<Ue(this,p).length&&Ue(this,p).splice(Mt)),Ue(this,p).push(jt)}undo(){Ue(this,F)!==-1&&(Pt(this,i,!0),Ue(this,p)[Ue(this,F)].undo(),Pt(this,i,!1),Pt(this,F,Ue(this,F)-1))}redo(){Ue(this,F)<Ue(this,p).length-1&&(Pt(this,F,Ue(this,F)+1),Pt(this,i,!0),Ue(this,p)[Ue(this,F)].cmd(),Pt(this,i,!1))}hasSomethingToUndo(){return Ue(this,F)!==-1}hasSomethingToRedo(){return Ue(this,F)<Ue(this,p).length-1}destroy(){Pt(this,p,null)}}p=new WeakMap,i=new WeakMap,T=new WeakMap,F=new WeakMap,s.CommandManager=n;class x{constructor(Re){ct(this,P);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:qe}=V.FeatureTest.platform;for(const[Ze,lt,gt={}]of Re)for(const xt of Ze){const jt=xt.startsWith("mac+");qe&&jt?(this.callbacks.set(xt.slice(4),{callback:lt,options:gt}),this.allKeys.add(xt.split("+").at(-1))):!qe&&!jt&&(this.callbacks.set(xt,{callback:lt,options:gt}),this.allKeys.add(xt.split("+").at(-1)))}}exec(Re,qe){if(!this.allKeys.has(qe.key))return;const Ze=this.callbacks.get(dt(this,P,Ch).call(this,qe));if(!Ze)return;const{callback:lt,options:{bubbles:gt=!1,args:xt=[],checker:jt=null}}=Ze;jt&&!jt(Re,qe)||(lt.bind(Re,...xt)(),gt||(qe.stopPropagation(),qe.preventDefault()))}}P=new WeakSet,Ch=function(Re){Re.altKey&&this.buffer.push("alt"),Re.ctrlKey&&this.buffer.push("ctrl"),Re.metaKey&&this.buffer.push("meta"),Re.shiftKey&&this.buffer.push("shift"),this.buffer.push(Re.key);const qe=this.buffer.join("+");return this.buffer.length=0,qe},s.KeyboardManager=x;const H=class H{get _colors(){const Re=new Map([["CanvasText",null],["Canvas",null]]);return(0,Ae.getColorValues)(Re),(0,V.shadow)(this,"_colors",Re)}convert(Re){const qe=(0,Ae.getRGB)(Re);if(!window.matchMedia("(forced-colors: active)").matches)return qe;for(const[Ze,lt]of this._colors)if(lt.every((gt,xt)=>gt===qe[xt]))return H._colorsMapping.get(Ze);return qe}getHexCode(Re){const qe=this._colors.get(Re);return qe?V.Util.makeHexColor(...qe):Re}};br(H,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let U=H;s.ColorManager=U;const Xt=class Xt{constructor(Re,qe,Ze,lt,gt,xt){ct(this,Ce);ct(this,ke);ct(this,de);ct(this,Oe);ct(this,et);ct(this,Ge);ct(this,$e);ct(this,at);ct(this,At);ct(this,Ke);ct(this,st);ct(this,kt);ct(this,ft);ct(this,$,null);ct(this,se,new Map);ct(this,_,new Map);ct(this,Q,null);ct(this,d,null);ct(this,w,new n);ct(this,q,0);ct(this,l,new Set);ct(this,b,null);ct(this,D,null);ct(this,Z,new Set);ct(this,N,null);ct(this,v,new h);ct(this,S,!1);ct(this,I,!1);ct(this,u,null);ct(this,y,V.AnnotationEditorType.NONE);ct(this,r,new Set);ct(this,A,null);ct(this,E,this.blur.bind(this));ct(this,G,this.focus.bind(this));ct(this,ae,this.copy.bind(this));ct(this,ce,this.cut.bind(this));ct(this,Ie,this.paste.bind(this));ct(this,fe,this.keydown.bind(this));ct(this,Te,this.onEditingAction.bind(this));ct(this,be,this.onPageChanging.bind(this));ct(this,ve,this.onScaleChanging.bind(this));ct(this,te,this.onRotationChanging.bind(this));ct(this,ie,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ct(this,ge,[0,0]);ct(this,he,null);ct(this,ue,null);ct(this,we,null);Pt(this,ue,Re),Pt(this,we,qe),Pt(this,Q,Ze),this._eventBus=lt,this._eventBus._on("editingaction",Ue(this,Te)),this._eventBus._on("pagechanging",Ue(this,be)),this._eventBus._on("scalechanging",Ue(this,ve)),this._eventBus._on("rotationchanging",Ue(this,te)),Pt(this,d,gt.annotationStorage),Pt(this,N,gt.filterFactory),Pt(this,A,xt),this.viewParameters={realScale:Ae.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Re=Xt.prototype,qe=gt=>{const{activeElement:xt}=document;return xt&&Ue(gt,ue).contains(xt)&&gt.hasSomethingToControl()},Ze=this.TRANSLATE_SMALL,lt=this.TRANSLATE_BIG;return(0,V.shadow)(this,"_keyboardManager",new x([[["ctrl+a","mac+meta+a"],Re.selectAll],[["ctrl+z","mac+meta+z"],Re.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Re.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Re.delete],[["Escape","mac+Escape"],Re.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Re.translateSelectedEditors,{args:[-Ze,0],checker:qe}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Re.translateSelectedEditors,{args:[-lt,0],checker:qe}],[["ArrowRight","mac+ArrowRight"],Re.translateSelectedEditors,{args:[Ze,0],checker:qe}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Re.translateSelectedEditors,{args:[lt,0],checker:qe}],[["ArrowUp","mac+ArrowUp"],Re.translateSelectedEditors,{args:[0,-Ze],checker:qe}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Re.translateSelectedEditors,{args:[0,-lt],checker:qe}],[["ArrowDown","mac+ArrowDown"],Re.translateSelectedEditors,{args:[0,Ze],checker:qe}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Re.translateSelectedEditors,{args:[0,lt],checker:qe}]]))}destroy(){dt(this,Oe,dA).call(this),dt(this,ke,c0).call(this),this._eventBus._off("editingaction",Ue(this,Te)),this._eventBus._off("pagechanging",Ue(this,be)),this._eventBus._off("scalechanging",Ue(this,ve)),this._eventBus._off("rotationchanging",Ue(this,te));for(const Re of Ue(this,_).values())Re.destroy();Ue(this,_).clear(),Ue(this,se).clear(),Ue(this,Z).clear(),Pt(this,$,null),Ue(this,r).clear(),Ue(this,w).destroy(),Ue(this,Q).destroy()}get hcmFilter(){return(0,V.shadow)(this,"hcmFilter",Ue(this,A)?Ue(this,N).addHCMFilter(Ue(this,A).foreground,Ue(this,A).background):"none")}get direction(){return(0,V.shadow)(this,"direction",getComputedStyle(Ue(this,ue)).direction)}editAltText(Re){var qe;(qe=Ue(this,Q))==null||qe.editAltText(this,Re)}onPageChanging({pageNumber:Re}){Pt(this,q,Re-1)}focusMainContainer(){Ue(this,ue).focus()}findParent(Re,qe){for(const Ze of Ue(this,_).values()){const{x:lt,y:gt,width:xt,height:jt}=Ze.div.getBoundingClientRect();if(Re>=lt&&Re<=lt+xt&&qe>=gt&&qe<=gt+jt)return Ze}return null}disableUserSelect(Re=!1){Ue(this,we).classList.toggle("noUserSelect",Re)}addShouldRescale(Re){Ue(this,Z).add(Re)}removeShouldRescale(Re){Ue(this,Z).delete(Re)}onScaleChanging({scale:Re}){this.commitOrRemove(),this.viewParameters.realScale=Re*Ae.PixelsPerInch.PDF_TO_CSS_UNITS;for(const qe of Ue(this,Z))qe.onScaleChanging()}onRotationChanging({pagesRotation:Re}){this.commitOrRemove(),this.viewParameters.rotation=Re}addToAnnotationStorage(Re){!Re.isEmpty()&&Ue(this,d)&&!Ue(this,d).has(Re.id)&&Ue(this,d).setValue(Re.id,Re)}blur(){if(!this.hasSelection)return;const{activeElement:Re}=document;for(const qe of Ue(this,r))if(qe.div.contains(Re)){Pt(this,u,[qe,Re]),qe._focusEventsAllowed=!1;break}}focus(){if(!Ue(this,u))return;const[Re,qe]=Ue(this,u);Pt(this,u,null),qe.addEventListener("focusin",()=>{Re._focusEventsAllowed=!0},{once:!0}),qe.focus()}addEditListeners(){dt(this,de,l0).call(this),dt(this,et,u0).call(this)}removeEditListeners(){dt(this,Oe,dA).call(this),dt(this,Ge,h0).call(this)}copy(Re){var Ze;if(Re.preventDefault(),(Ze=Ue(this,$))==null||Ze.commitOrRemove(),!this.hasSelection)return;const qe=[];for(const lt of Ue(this,r)){const gt=lt.serialize(!0);gt&&qe.push(gt)}qe.length!==0&&Re.clipboardData.setData("application/pdfjs",JSON.stringify(qe))}cut(Re){this.copy(Re),this.delete()}paste(Re){Re.preventDefault();const{clipboardData:qe}=Re;for(const gt of qe.items)for(const xt of Ue(this,D))if(xt.isHandlingMimeForPasting(gt.type)){xt.paste(gt,this.currentLayer);return}let Ze=qe.getData("application/pdfjs");if(!Ze)return;try{Ze=JSON.parse(Ze)}catch(gt){(0,V.warn)(`paste: "${gt.message}".`);return}if(!Array.isArray(Ze))return;this.unselectAll();const lt=this.currentLayer;try{const gt=[];for(const Mt of Ze){const Dt=lt.deserialize(Mt);if(!Dt)return;gt.push(Dt)}const xt=()=>{for(const Mt of gt)dt(this,st,d0).call(this,Mt);dt(this,ft,f0).call(this,gt)},jt=()=>{for(const Mt of gt)Mt.remove()};this.addCommands({cmd:xt,undo:jt,mustExec:!0})}catch(gt){(0,V.warn)(`paste: "${gt.message}".`)}}keydown(Re){var qe;(qe=this.getActive())!=null&&qe.shouldGetKeyboardEvents()||Xt._keyboardManager.exec(this,Re)}onEditingAction(Re){["undo","redo","delete","selectAll"].includes(Re.name)&&this[Re.name]()}setEditingState(Re){Re?(dt(this,Ce,vh).call(this),dt(this,de,l0).call(this),dt(this,et,u0).call(this),dt(this,$e,hs).call(this,{isEditing:Ue(this,y)!==V.AnnotationEditorType.NONE,isEmpty:dt(this,kt,yo).call(this),hasSomethingToUndo:Ue(this,w).hasSomethingToUndo(),hasSomethingToRedo:Ue(this,w).hasSomethingToRedo(),hasSelectedEditor:!1})):(dt(this,ke,c0).call(this),dt(this,Oe,dA).call(this),dt(this,Ge,h0).call(this),dt(this,$e,hs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Re){if(!Ue(this,D)){Pt(this,D,Re);for(const qe of Ue(this,D))dt(this,at,wo).call(this,qe.defaultPropertiesToUpdate)}}getId(){return Ue(this,v).getId()}get currentLayer(){return Ue(this,_).get(Ue(this,q))}getLayer(Re){return Ue(this,_).get(Re)}get currentPageIndex(){return Ue(this,q)}addLayer(Re){Ue(this,_).set(Re.pageIndex,Re),Ue(this,S)?Re.enable():Re.disable()}removeLayer(Re){Ue(this,_).delete(Re.pageIndex)}updateMode(Re,qe=null){if(Ue(this,y)!==Re){if(Pt(this,y,Re),Re===V.AnnotationEditorType.NONE){this.setEditingState(!1),dt(this,Ke,Fh).call(this);return}this.setEditingState(!0),dt(this,At,Sh).call(this),this.unselectAll();for(const Ze of Ue(this,_).values())Ze.updateMode(Re);if(qe){for(const Ze of Ue(this,se).values())if(Ze.annotationElementId===qe){this.setSelected(Ze),Ze.enterInEditMode();break}}}}updateToolbar(Re){Re!==Ue(this,y)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Re})}updateParams(Re,qe){if(Ue(this,D)){if(Re===V.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Re);return}for(const Ze of Ue(this,r))Ze.updateParams(Re,qe);for(const Ze of Ue(this,D))Ze.updateDefaultParams(Re,qe)}}enableWaiting(Re=!1){if(Ue(this,I)!==Re){Pt(this,I,Re);for(const qe of Ue(this,_).values())Re?qe.disableClick():qe.enableClick(),qe.div.classList.toggle("waiting",Re)}}getEditors(Re){const qe=[];for(const Ze of Ue(this,se).values())Ze.pageIndex===Re&&qe.push(Ze);return qe}getEditor(Re){return Ue(this,se).get(Re)}addEditor(Re){Ue(this,se).set(Re.id,Re)}removeEditor(Re){var qe;Ue(this,se).delete(Re.id),this.unselect(Re),(!Re.annotationElementId||!Ue(this,l).has(Re.annotationElementId))&&((qe=Ue(this,d))==null||qe.remove(Re.id))}addDeletedAnnotationElement(Re){Ue(this,l).add(Re.annotationElementId),Re.deleted=!0}isDeletedAnnotationElement(Re){return Ue(this,l).has(Re)}removeDeletedAnnotationElement(Re){Ue(this,l).delete(Re.annotationElementId),Re.deleted=!1}setActiveEditor(Re){Ue(this,$)!==Re&&(Pt(this,$,Re),Re&&dt(this,at,wo).call(this,Re.propertiesToUpdate))}toggleSelected(Re){if(Ue(this,r).has(Re)){Ue(this,r).delete(Re),Re.unselect(),dt(this,$e,hs).call(this,{hasSelectedEditor:this.hasSelection});return}Ue(this,r).add(Re),Re.select(),dt(this,at,wo).call(this,Re.propertiesToUpdate),dt(this,$e,hs).call(this,{hasSelectedEditor:!0})}setSelected(Re){for(const qe of Ue(this,r))qe!==Re&&qe.unselect();Ue(this,r).clear(),Ue(this,r).add(Re),Re.select(),dt(this,at,wo).call(this,Re.propertiesToUpdate),dt(this,$e,hs).call(this,{hasSelectedEditor:!0})}isSelected(Re){return Ue(this,r).has(Re)}unselect(Re){Re.unselect(),Ue(this,r).delete(Re),dt(this,$e,hs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ue(this,r).size!==0}undo(){Ue(this,w).undo(),dt(this,$e,hs).call(this,{hasSomethingToUndo:Ue(this,w).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:dt(this,kt,yo).call(this)})}redo(){Ue(this,w).redo(),dt(this,$e,hs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ue(this,w).hasSomethingToRedo(),isEmpty:dt(this,kt,yo).call(this)})}addCommands(Re){Ue(this,w).add(Re),dt(this,$e,hs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:dt(this,kt,yo).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Re=[...Ue(this,r)],qe=()=>{for(const lt of Re)lt.remove()},Ze=()=>{for(const lt of Re)dt(this,st,d0).call(this,lt)};this.addCommands({cmd:qe,undo:Ze,mustExec:!0})}commitOrRemove(){var Re;(Re=Ue(this,$))==null||Re.commitOrRemove()}hasSomethingToControl(){return Ue(this,$)||this.hasSelection}selectAll(){for(const Re of Ue(this,r))Re.commit();dt(this,ft,f0).call(this,Ue(this,se).values())}unselectAll(){if(Ue(this,$)){Ue(this,$).commitOrRemove();return}if(this.hasSelection){for(const Re of Ue(this,r))Re.unselect();Ue(this,r).clear(),dt(this,$e,hs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Re,qe,Ze=!1){if(Ze||this.commitOrRemove(),!this.hasSelection)return;Ue(this,ge)[0]+=Re,Ue(this,ge)[1]+=qe;const[lt,gt]=Ue(this,ge),xt=[...Ue(this,r)],jt=1e3;Ue(this,he)&&clearTimeout(Ue(this,he)),Pt(this,he,setTimeout(()=>{Pt(this,he,null),Ue(this,ge)[0]=Ue(this,ge)[1]=0,this.addCommands({cmd:()=>{for(const Mt of xt)Ue(this,se).has(Mt.id)&&Mt.translateInPage(lt,gt)},undo:()=>{for(const Mt of xt)Ue(this,se).has(Mt.id)&&Mt.translateInPage(-lt,-gt)},mustExec:!1})},jt));for(const Mt of xt)Mt.translateInPage(Re,qe)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Pt(this,b,new Map);for(const Re of Ue(this,r))Ue(this,b).set(Re,{savedX:Re.x,savedY:Re.y,savedPageIndex:Re.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ue(this,b))return!1;this.disableUserSelect(!1);const Re=Ue(this,b);Pt(this,b,null);let qe=!1;for(const[{x:lt,y:gt,pageIndex:xt},jt]of Re)jt.newX=lt,jt.newY=gt,jt.newPageIndex=xt,qe||(qe=lt!==jt.savedX||gt!==jt.savedY||xt!==jt.savedPageIndex);if(!qe)return!1;const Ze=(lt,gt,xt,jt)=>{if(Ue(this,se).has(lt.id)){const Mt=Ue(this,_).get(jt);Mt?lt._setParentAndPosition(Mt,gt,xt):(lt.pageIndex=jt,lt.x=gt,lt.y=xt)}};return this.addCommands({cmd:()=>{for(const[lt,{newX:gt,newY:xt,newPageIndex:jt}]of Re)Ze(lt,gt,xt,jt)},undo:()=>{for(const[lt,{savedX:gt,savedY:xt,savedPageIndex:jt}]of Re)Ze(lt,gt,xt,jt)},mustExec:!0}),!0}dragSelectedEditors(Re,qe){if(Ue(this,b))for(const Ze of Ue(this,b).keys())Ze.drag(Re,qe)}rebuild(Re){if(Re.parent===null){const qe=this.getLayer(Re.pageIndex);qe?(qe.changeParent(Re),qe.addOrRebuild(Re)):(this.addEditor(Re),this.addToAnnotationStorage(Re),Re.rebuild())}else Re.parent.addOrRebuild(Re)}isActive(Re){return Ue(this,$)===Re}getActive(){return Ue(this,$)}getMode(){return Ue(this,y)}get imageManager(){return(0,V.shadow)(this,"imageManager",new re)}};$=new WeakMap,se=new WeakMap,_=new WeakMap,Q=new WeakMap,d=new WeakMap,w=new WeakMap,q=new WeakMap,l=new WeakMap,b=new WeakMap,D=new WeakMap,Z=new WeakMap,N=new WeakMap,v=new WeakMap,S=new WeakMap,I=new WeakMap,u=new WeakMap,y=new WeakMap,r=new WeakMap,A=new WeakMap,E=new WeakMap,G=new WeakMap,ae=new WeakMap,ce=new WeakMap,Ie=new WeakMap,fe=new WeakMap,Te=new WeakMap,be=new WeakMap,ve=new WeakMap,te=new WeakMap,ie=new WeakMap,ge=new WeakMap,he=new WeakMap,ue=new WeakMap,we=new WeakMap,Ce=new WeakSet,vh=function(){window.addEventListener("focus",Ue(this,G)),window.addEventListener("blur",Ue(this,E))},ke=new WeakSet,c0=function(){window.removeEventListener("focus",Ue(this,G)),window.removeEventListener("blur",Ue(this,E))},de=new WeakSet,l0=function(){window.addEventListener("keydown",Ue(this,fe),{capture:!0})},Oe=new WeakSet,dA=function(){window.removeEventListener("keydown",Ue(this,fe),{capture:!0})},et=new WeakSet,u0=function(){document.addEventListener("copy",Ue(this,ae)),document.addEventListener("cut",Ue(this,ce)),document.addEventListener("paste",Ue(this,Ie))},Ge=new WeakSet,h0=function(){document.removeEventListener("copy",Ue(this,ae)),document.removeEventListener("cut",Ue(this,ce)),document.removeEventListener("paste",Ue(this,Ie))},$e=new WeakSet,hs=function(Re){Object.entries(Re).some(([Ze,lt])=>Ue(this,ie)[Ze]!==lt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ue(this,ie),Re)})},at=new WeakSet,wo=function(Re){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Re})},At=new WeakSet,Sh=function(){if(!Ue(this,S)){Pt(this,S,!0);for(const Re of Ue(this,_).values())Re.enable()}},Ke=new WeakSet,Fh=function(){if(this.unselectAll(),Ue(this,S)){Pt(this,S,!1);for(const Re of Ue(this,_).values())Re.disable()}},st=new WeakSet,d0=function(Re){const qe=Ue(this,_).get(Re.pageIndex);qe?qe.addOrRebuild(Re):this.addEditor(Re)},kt=new WeakSet,yo=function(){if(Ue(this,se).size===0)return!0;if(Ue(this,se).size===1)for(const Re of Ue(this,se).values())return Re.isEmpty();return!1},ft=new WeakSet,f0=function(Re){Ue(this,r).clear();for(const qe of Re)qe.isEmpty()||(Ue(this,r).add(qe),qe.select());dt(this,$e,hs).call(this,{hasSelectedEditor:!0})},br(Xt,"TRANSLATE_SMALL",1),br(Xt,"TRANSLATE_BIG",10);let e=Xt;s.AnnotationEditorUIManager=e},(a,s,M)=>{var q,l,b,D,Z,N,v,S,I,u,y,r,ga,E,pa,ae,g0,Ie,fA,Te,gA,ve,Bo,ie,Co;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=F,s.getColorValues=se,s.getCurrentTransform=_,s.getCurrentTransformInverse=Q,s.getFilenameFromUrl=L,s.getPdfFilenameFromUrl=O,s.getRGB=$,s.getXfaPageViewport=H,s.isDataScheme=K,s.isPdfFile=X,s.isValidFetchUrl=p,s.loadScript=T,s.noContextMenu=i,s.setLayerDimensions=d;var V=M(7),Ae=M(1);const _e="http://www.w3.org/2000/svg",w=class w{};br(w,"CSS",96),br(w,"PDF",72),br(w,"PDF_TO_CSS_UNITS",w.CSS/w.PDF);let Pe=w;s.PixelsPerInch=Pe;class h extends V.BaseFilterFactory{constructor({docId:we,ownerDocument:Ce=globalThis.document}={}){super();ct(this,r);ct(this,E);ct(this,ae);ct(this,Ie);ct(this,Te);ct(this,ve);ct(this,ie);ct(this,q,void 0);ct(this,l,void 0);ct(this,b,void 0);ct(this,D,void 0);ct(this,Z,void 0);ct(this,N,void 0);ct(this,v,void 0);ct(this,S,void 0);ct(this,I,void 0);ct(this,u,void 0);ct(this,y,0);Pt(this,b,we),Pt(this,D,Ce)}addFilter(we){if(!we)return"none";let Ce=Ue(this,r,ga).get(we);if(Ce)return Ce;let le,ke,Fe,de;if(we.length===1){const et=we[0],rt=new Array(256);for(let Ge=0;Ge<256;Ge++)rt[Ge]=et[Ge]/255;de=le=ke=Fe=rt.join(",")}else{const[et,rt,Ge]=we,je=new Array(256),$e=new Array(256),ze=new Array(256);for(let at=0;at<256;at++)je[at]=et[at]/255,$e[at]=rt[at]/255,ze[at]=Ge[at]/255;le=je.join(","),ke=$e.join(","),Fe=ze.join(","),de=`${le}${ke}${Fe}`}if(Ce=Ue(this,r,ga).get(de),Ce)return Ue(this,r,ga).set(we,Ce),Ce;const Ee=`g_${Ue(this,b)}_transfer_map_${bo(this,y)._++}`,Oe=`url(#${Ee})`;Ue(this,r,ga).set(we,Oe),Ue(this,r,ga).set(de,Oe);const Ne=dt(this,Ie,fA).call(this,Ee);return dt(this,ve,Bo).call(this,le,ke,Fe,Ne),Oe}addHCMFilter(we,Ce){var rt;const le=`${we}-${Ce}`;if(Ue(this,N)===le)return Ue(this,v);if(Pt(this,N,le),Pt(this,v,"none"),(rt=Ue(this,Z))==null||rt.remove(),!we||!Ce)return Ue(this,v);const ke=dt(this,ie,Co).call(this,we);we=Ae.Util.makeHexColor(...ke);const Fe=dt(this,ie,Co).call(this,Ce);if(Ce=Ae.Util.makeHexColor(...Fe),Ue(this,E,pa).style.color="",we==="#000000"&&Ce==="#ffffff"||we===Ce)return Ue(this,v);const de=new Array(256);for(let Ge=0;Ge<=255;Ge++){const je=Ge/255;de[Ge]=je<=.03928?je/12.92:((je+.055)/1.055)**2.4}const Ee=de.join(","),Oe=`g_${Ue(this,b)}_hcm_filter`,Ne=Pt(this,S,dt(this,Ie,fA).call(this,Oe));dt(this,ve,Bo).call(this,Ee,Ee,Ee,Ne),dt(this,ae,g0).call(this,Ne);const et=(Ge,je)=>{const $e=ke[Ge]/255,ze=Fe[Ge]/255,at=new Array(je+1);for(let mt=0;mt<=je;mt++)at[mt]=$e+mt/je*(ze-$e);return at.join(",")};return dt(this,ve,Bo).call(this,et(0,5),et(1,5),et(2,5),Ne),Pt(this,v,`url(#${Oe})`),Ue(this,v)}addHighlightHCMFilter(we,Ce,le,ke){var ze;const Fe=`${we}-${Ce}-${le}-${ke}`;if(Ue(this,I)===Fe)return Ue(this,u);if(Pt(this,I,Fe),Pt(this,u,"none"),(ze=Ue(this,S))==null||ze.remove(),!we||!Ce)return Ue(this,u);const[de,Ee]=[we,Ce].map(dt(this,ie,Co).bind(this));let Oe=Math.round(.2126*de[0]+.7152*de[1]+.0722*de[2]),Ne=Math.round(.2126*Ee[0]+.7152*Ee[1]+.0722*Ee[2]),[et,rt]=[le,ke].map(dt(this,ie,Co).bind(this));Ne<Oe&&([Oe,Ne,et,rt]=[Ne,Oe,rt,et]),Ue(this,E,pa).style.color="";const Ge=(at,mt,At)=>{const Qe=new Array(256),Ke=(Ne-Oe)/At,pt=at/255,st=(mt-at)/(255*At);let St=0;for(let kt=0;kt<=At;kt++){const zn=Math.round(Oe+kt*Ke),ft=pt+kt*st;for(let en=St;en<=zn;en++)Qe[en]=ft;St=zn+1}for(let kt=St;kt<256;kt++)Qe[kt]=Qe[St-1];return Qe.join(",")},je=`g_${Ue(this,b)}_hcm_highlight_filter`,$e=Pt(this,S,dt(this,Ie,fA).call(this,je));return dt(this,ae,g0).call(this,$e),dt(this,ve,Bo).call(this,Ge(et[0],rt[0],5),Ge(et[1],rt[1],5),Ge(et[2],rt[2],5),$e),Pt(this,u,`url(#${je})`),Ue(this,u)}destroy(we=!1){we&&(Ue(this,v)||Ue(this,u))||(Ue(this,l)&&(Ue(this,l).parentNode.parentNode.remove(),Pt(this,l,null)),Ue(this,q)&&(Ue(this,q).clear(),Pt(this,q,null)),Pt(this,y,0))}}q=new WeakMap,l=new WeakMap,b=new WeakMap,D=new WeakMap,Z=new WeakMap,N=new WeakMap,v=new WeakMap,S=new WeakMap,I=new WeakMap,u=new WeakMap,y=new WeakMap,r=new WeakSet,ga=function(){return Ue(this,q)||Pt(this,q,new Map)},E=new WeakSet,pa=function(){if(!Ue(this,l)){const we=Ue(this,D).createElement("div"),{style:Ce}=we;Ce.visibility="hidden",Ce.contain="strict",Ce.width=Ce.height=0,Ce.position="absolute",Ce.top=Ce.left=0,Ce.zIndex=-1;const le=Ue(this,D).createElementNS(_e,"svg");le.setAttribute("width",0),le.setAttribute("height",0),Pt(this,l,Ue(this,D).createElementNS(_e,"defs")),we.append(le),le.append(Ue(this,l)),Ue(this,D).body.append(we)}return Ue(this,l)},ae=new WeakSet,g0=function(we){const Ce=Ue(this,D).createElementNS(_e,"feColorMatrix");Ce.setAttribute("type","matrix"),Ce.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),we.append(Ce)},Ie=new WeakSet,fA=function(we){const Ce=Ue(this,D).createElementNS(_e,"filter");return Ce.setAttribute("color-interpolation-filters","sRGB"),Ce.setAttribute("id",we),Ue(this,E,pa).append(Ce),Ce},Te=new WeakSet,gA=function(we,Ce,le){const ke=Ue(this,D).createElementNS(_e,Ce);ke.setAttribute("type","discrete"),ke.setAttribute("tableValues",le),we.append(ke)},ve=new WeakSet,Bo=function(we,Ce,le,ke){const Fe=Ue(this,D).createElementNS(_e,"feComponentTransfer");ke.append(Fe),dt(this,Te,gA).call(this,Fe,"feFuncR",we),dt(this,Te,gA).call(this,Fe,"feFuncG",Ce),dt(this,Te,gA).call(this,Fe,"feFuncB",le)},ie=new WeakSet,Co=function(we){return Ue(this,E,pa).style.color=we,$(getComputedStyle(Ue(this,E,pa)).getPropertyValue("color"))},s.DOMFilterFactory=h;class re extends V.BaseCanvasFactory{constructor({ownerDocument:ue=globalThis.document}={}){super(),this._document=ue}_createCanvas(ue,we){const Ce=this._document.createElement("canvas");return Ce.width=ue,Ce.height=we,Ce}}s.DOMCanvasFactory=re;async function n(he,ue=!1){if(p(he,document.baseURI)){const we=await fetch(he);if(!we.ok)throw new Error(we.statusText);return ue?new Uint8Array(await we.arrayBuffer()):(0,Ae.stringToBytes)(await we.text())}return new Promise((we,Ce)=>{const le=new XMLHttpRequest;le.open("GET",he,!0),ue&&(le.responseType="arraybuffer"),le.onreadystatechange=()=>{if(le.readyState===XMLHttpRequest.DONE){if(le.status===200||le.status===0){let ke;if(ue&&le.response?ke=new Uint8Array(le.response):!ue&&le.responseText&&(ke=(0,Ae.stringToBytes)(le.responseText)),ke){we(ke);return}}Ce(new Error(le.statusText))}},le.send(null)})}class x extends V.BaseCMapReaderFactory{_fetchData(ue,we){return n(ue,this.isCompressed).then(Ce=>({cMapData:Ce,compressionType:we}))}}s.DOMCMapReaderFactory=x;class U extends V.BaseStandardFontDataFactory{_fetchData(ue){return n(ue,!0)}}s.DOMStandardFontDataFactory=U;class e extends V.BaseSVGFactory{_createSVG(ue){return document.createElementNS(_e,ue)}}s.DOMSVGFactory=e;class t{constructor({viewBox:ue,scale:we,rotation:Ce,offsetX:le=0,offsetY:ke=0,dontFlip:Fe=!1}){this.viewBox=ue,this.scale=we,this.rotation=Ce,this.offsetX=le,this.offsetY=ke;const de=(ue[2]+ue[0])/2,Ee=(ue[3]+ue[1])/2;let Oe,Ne,et,rt;switch(Ce%=360,Ce<0&&(Ce+=360),Ce){case 180:Oe=-1,Ne=0,et=0,rt=1;break;case 90:Oe=0,Ne=1,et=1,rt=0;break;case 270:Oe=0,Ne=-1,et=-1,rt=0;break;case 0:Oe=1,Ne=0,et=0,rt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Fe&&(et=-et,rt=-rt);let Ge,je,$e,ze;Oe===0?(Ge=Math.abs(Ee-ue[1])*we+le,je=Math.abs(de-ue[0])*we+ke,$e=(ue[3]-ue[1])*we,ze=(ue[2]-ue[0])*we):(Ge=Math.abs(de-ue[0])*we+le,je=Math.abs(Ee-ue[1])*we+ke,$e=(ue[2]-ue[0])*we,ze=(ue[3]-ue[1])*we),this.transform=[Oe*we,Ne*we,et*we,rt*we,Ge-Oe*we*de-et*we*Ee,je-Ne*we*de-rt*we*Ee],this.width=$e,this.height=ze}get rawDims(){const{viewBox:ue}=this;return(0,Ae.shadow)(this,"rawDims",{pageWidth:ue[2]-ue[0],pageHeight:ue[3]-ue[1],pageX:ue[0],pageY:ue[1]})}clone({scale:ue=this.scale,rotation:we=this.rotation,offsetX:Ce=this.offsetX,offsetY:le=this.offsetY,dontFlip:ke=!1}={}){return new t({viewBox:this.viewBox.slice(),scale:ue,rotation:we,offsetX:Ce,offsetY:le,dontFlip:ke})}convertToViewportPoint(ue,we){return Ae.Util.applyTransform([ue,we],this.transform)}convertToViewportRectangle(ue){const we=Ae.Util.applyTransform([ue[0],ue[1]],this.transform),Ce=Ae.Util.applyTransform([ue[2],ue[3]],this.transform);return[we[0],we[1],Ce[0],Ce[1]]}convertToPdfPoint(ue,we){return Ae.Util.applyInverseTransform([ue,we],this.transform)}}s.PageViewport=t;class o extends Ae.BaseException{constructor(ue,we=0){super(ue,"RenderingCancelledException"),this.extraDelay=we}}s.RenderingCancelledException=o;function K(he){const ue=he.length;let we=0;for(;we<ue&&he[we].trim()==="";)we++;return he.substring(we,we+5).toLowerCase()==="data:"}function X(he){return typeof he=="string"&&/\.pdf$/i.test(he)}function L(he,ue=!1){return ue||([he]=he.split(/[#?]/,1)),he.substring(he.lastIndexOf("/")+1)}function O(he,ue="document.pdf"){if(typeof he!="string")return ue;if(K(he))return(0,Ae.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ue;const we=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ce=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,le=we.exec(he);let ke=Ce.exec(le[1])||Ce.exec(le[2])||Ce.exec(le[3]);if(ke&&(ke=ke[0],ke.includes("%")))try{ke=Ce.exec(decodeURIComponent(ke))[0]}catch{}return ke||ue}class f{constructor(){br(this,"started",Object.create(null));br(this,"times",[])}time(ue){ue in this.started&&(0,Ae.warn)(`Timer is already running for ${ue}`),this.started[ue]=Date.now()}timeEnd(ue){ue in this.started||(0,Ae.warn)(`Timer has not been started for ${ue}`),this.times.push({name:ue,start:this.started[ue],end:Date.now()}),delete this.started[ue]}toString(){const ue=[];let we=0;for(const{name:Ce}of this.times)we=Math.max(Ce.length,we);for(const{name:Ce,start:le,end:ke}of this.times)ue.push(`${Ce.padEnd(we)} ${ke-le}ms
`);return ue.join("")}}s.StatTimer=f;function p(he,ue){try{const{protocol:we}=ue?new URL(he,ue):new URL(he);return we==="http:"||we==="https:"}catch{return!1}}function i(he){he.preventDefault()}function T(he,ue=!1){return new Promise((we,Ce)=>{const le=document.createElement("script");le.src=he,le.onload=function(ke){ue&&le.remove(),we(ke)},le.onerror=function(){Ce(new Error(`Cannot load script at: ${le.src}`))},(document.head||document.documentElement).append(le)})}function F(he){console.log("Deprecated API usage: "+he)}let P;class C{static toDateObject(ue){if(!ue||typeof ue!="string")return null;P||(P=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const we=P.exec(ue);if(!we)return null;const Ce=parseInt(we[1],10);let le=parseInt(we[2],10);le=le>=1&&le<=12?le-1:0;let ke=parseInt(we[3],10);ke=ke>=1&&ke<=31?ke:1;let Fe=parseInt(we[4],10);Fe=Fe>=0&&Fe<=23?Fe:0;let de=parseInt(we[5],10);de=de>=0&&de<=59?de:0;let Ee=parseInt(we[6],10);Ee=Ee>=0&&Ee<=59?Ee:0;const Oe=we[7]||"Z";let Ne=parseInt(we[8],10);Ne=Ne>=0&&Ne<=23?Ne:0;let et=parseInt(we[9],10)||0;return et=et>=0&&et<=59?et:0,Oe==="-"?(Fe+=Ne,de+=et):Oe==="+"&&(Fe-=Ne,de-=et),new Date(Date.UTC(Ce,le,ke,Fe,de,Ee))}}s.PDFDateString=C;function H(he,{scale:ue=1,rotation:we=0}){const{width:Ce,height:le}=he.attributes.style,ke=[0,0,parseInt(Ce),parseInt(le)];return new t({viewBox:ke,scale:ue,rotation:we})}function $(he){if(he.startsWith("#")){const ue=parseInt(he.slice(1),16);return[(ue&16711680)>>16,(ue&65280)>>8,ue&255]}return he.startsWith("rgb(")?he.slice(4,-1).split(",").map(ue=>parseInt(ue)):he.startsWith("rgba(")?he.slice(5,-1).split(",").map(ue=>parseInt(ue)).slice(0,3):((0,Ae.warn)(`Not a valid color format: "${he}"`),[0,0,0])}function se(he){const ue=document.createElement("span");ue.style.visibility="hidden",document.body.append(ue);for(const we of he.keys()){ue.style.color=we;const Ce=window.getComputedStyle(ue).color;he.set(we,$(Ce))}ue.remove()}function _(he){const{a:ue,b:we,c:Ce,d:le,e:ke,f:Fe}=he.getTransform();return[ue,we,Ce,le,ke,Fe]}function Q(he){const{a:ue,b:we,c:Ce,d:le,e:ke,f:Fe}=he.getTransform().invertSelf();return[ue,we,Ce,le,ke,Fe]}function d(he,ue,we=!1,Ce=!0){if(ue instanceof t){const{pageWidth:le,pageHeight:ke}=ue.rawDims,{style:Fe}=he,de=Ae.FeatureTest.isCSSRoundSupported,Ee=`var(--scale-factor) * ${le}px`,Oe=`var(--scale-factor) * ${ke}px`,Ne=de?`round(${Ee}, 1px)`:`calc(${Ee})`,et=de?`round(${Oe}, 1px)`:`calc(${Oe})`;!we||ue.rotation%180===0?(Fe.width=Ne,Fe.height=et):(Fe.width=et,Fe.height=Ne)}Ce&&he.setAttribute("data-main-rotation",ue.rotation)}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var V=M(1);class Ae{constructor(){this.constructor===Ae&&(0,V.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(x){return"none"}addHCMFilter(x,U){return"none"}addHighlightHCMFilter(x,U,e,t){return"none"}destroy(x=!1){}}s.BaseFilterFactory=Ae;class _e{constructor(){this.constructor===_e&&(0,V.unreachable)("Cannot initialize BaseCanvasFactory.")}create(x,U){if(x<=0||U<=0)throw new Error("Invalid canvas size");const e=this._createCanvas(x,U);return{canvas:e,context:e.getContext("2d")}}reset(x,U,e){if(!x.canvas)throw new Error("Canvas is not specified");if(U<=0||e<=0)throw new Error("Invalid canvas size");x.canvas.width=U,x.canvas.height=e}destroy(x){if(!x.canvas)throw new Error("Canvas is not specified");x.canvas.width=0,x.canvas.height=0,x.canvas=null,x.context=null}_createCanvas(x,U){(0,V.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=_e;class Pe{constructor({baseUrl:x=null,isCompressed:U=!0}){this.constructor===Pe&&(0,V.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=x,this.isCompressed=U}async fetch({name:x}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!x)throw new Error("CMap name must be specified.");const U=this.baseUrl+x+(this.isCompressed?".bcmap":""),e=this.isCompressed?V.CMapCompressionType.BINARY:V.CMapCompressionType.NONE;return this._fetchData(U,e).catch(t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${U}`)})}_fetchData(x,U){(0,V.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=Pe;class h{constructor({baseUrl:x=null}){this.constructor===h&&(0,V.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=x}async fetch({filename:x}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!x)throw new Error("Font filename must be specified.");const U=`${this.baseUrl}${x}`;return this._fetchData(U).catch(e=>{throw new Error(`Unable to load font data at: ${U}`)})}_fetchData(x){(0,V.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=h;class re{constructor(){this.constructor===re&&(0,V.unreachable)("Cannot initialize BaseSVGFactory.")}create(x,U,e=!1){if(x<=0||U<=0)throw new Error("Invalid SVG dimensions");const t=this._createSVG("svg:svg");return t.setAttribute("version","1.1"),e||(t.setAttribute("width",`${x}px`),t.setAttribute("height",`${U}px`)),t.setAttribute("preserveAspectRatio","none"),t.setAttribute("viewBox",`0 0 ${x} ${U}`),t}createElement(x){if(typeof x!="string")throw new Error("Invalid SVG element type");return this._createSVG(x)}_createSVG(x){(0,V.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=re},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var V=M(1);const Ae=3285377520,_e=4294901760,Pe=65535;class h{constructor(n){this.h1=n?n&4294967295:Ae,this.h2=n?n&4294967295:Ae}update(n){let x,U;if(typeof n=="string"){x=new Uint8Array(n.length*2),U=0;for(let F=0,P=n.length;F<P;F++){const C=n.charCodeAt(F);C<=255?x[U++]=C:(x[U++]=C>>>8,x[U++]=C&255)}}else if((0,V.isArrayBuffer)(n))x=n.slice(),U=x.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const e=U>>2,t=U-e*4,o=new Uint32Array(x.buffer,0,e);let K=0,X=0,L=this.h1,O=this.h2;const f=3432918353,p=461845907,i=f&Pe,T=p&Pe;for(let F=0;F<e;F++)F&1?(K=o[F],K=K*f&_e|K*i&Pe,K=K<<15|K>>>17,K=K*p&_e|K*T&Pe,L^=K,L=L<<13|L>>>19,L=L*5+3864292196):(X=o[F],X=X*f&_e|X*i&Pe,X=X<<15|X>>>17,X=X*p&_e|X*T&Pe,O^=X,O=O<<13|O>>>19,O=O*5+3864292196);switch(K=0,t){case 3:K^=x[e*4+2]<<16;case 2:K^=x[e*4+1]<<8;case 1:K^=x[e*4],K=K*f&_e|K*i&Pe,K=K<<15|K>>>17,K=K*p&_e|K*T&Pe,e&1?L^=K:O^=K}this.h1=L,this.h2=O}hexdigest(){let n=this.h1,x=this.h2;return n^=x>>>1,n=n*3981806797&_e|n*36045&Pe,x=x*4283543511&_e|((x<<16|n>>>16)*2950163797&_e)>>>16,n^=x>>>1,n=n*444984403&_e|n*60499&Pe,x=x*3301882366&_e|((x<<16|n>>>16)*3120437893&_e)>>>16,n^=x>>>1,(n>>>0).toString(16).padStart(8,"0")+(x>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=h},(a,s,M)=>{var Pe;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var V=M(1);class Ae{constructor({ownerDocument:re=globalThis.document,styleElement:n=null}){ct(this,Pe,new Set);this._document=re,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(re){this.nativeFontFaces.add(re),this._document.fonts.add(re)}removeNativeFontFace(re){this.nativeFontFaces.delete(re),this._document.fonts.delete(re)}insertRule(re){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(re,n.cssRules.length)}clear(){for(const re of this.nativeFontFaces)this._document.fonts.delete(re);this.nativeFontFaces.clear(),Ue(this,Pe).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(re){if(!(!re||Ue(this,Pe).has(re.loadedName))){if((0,V.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:x,style:U}=re,e=new FontFace(n,x,U);this.addNativeFontFace(e);try{await e.load(),Ue(this,Pe).add(n)}catch{(0,V.warn)(`Cannot load system font: ${re.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(e)}return}(0,V.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(re){if(re.attached||re.missingFile&&!re.systemFontInfo)return;if(re.attached=!0,re.systemFontInfo){await this.loadSystemFont(re.systemFontInfo);return}if(this.isFontLoadingAPISupported){const x=re.createNativeFontFace();if(x){this.addNativeFontFace(x);try{await x.loaded}catch(U){throw(0,V.warn)(`Failed to load font '${x.family}': '${U}'.`),re.disableFontFace=!0,U}}return}const n=re.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(x=>{const U=this._queueLoadingCallback(x);this._prepareFontLoadEvent(re,U)})}}get isFontLoadingAPISupported(){var n;const re=!!((n=this._document)!=null&&n.fonts);return(0,V.shadow)(this,"isFontLoadingAPISupported",re)}get isSyncFontLoadingSupported(){let re=!1;return(V.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(re=!0),(0,V.shadow)(this,"isSyncFontLoadingSupported",re)}_queueLoadingCallback(re){function n(){for((0,V.assert)(!U.done,"completeRequest() cannot be called twice."),U.done=!0;x.length>0&&x[0].done;){const e=x.shift();setTimeout(e.callback,0)}}const{loadingRequests:x}=this,U={done:!1,complete:n,callback:re};return x.push(U),U}get _loadTestFont(){const re=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,V.shadow)(this,"_loadTestFont",re)}_prepareFontLoadEvent(re,n){function x($,se){return $.charCodeAt(se)<<24|$.charCodeAt(se+1)<<16|$.charCodeAt(se+2)<<8|$.charCodeAt(se+3)&255}function U($,se,_,Q){const d=$.substring(0,se),w=$.substring(se+_);return d+Q+w}let e,t;const o=this._document.createElement("canvas");o.width=1,o.height=1;const K=o.getContext("2d");let X=0;function L($,se){if(++X>30){(0,V.warn)("Load test font never loaded."),se();return}if(K.font="30px "+$,K.fillText(".",0,20),K.getImageData(0,0,1,1).data[3]>0){se();return}setTimeout(L.bind(null,$,se))}const O=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=U(f,976,O.length,O);const i=16,T=1482184792;let F=x(f,i);for(e=0,t=O.length-3;e<t;e+=4)F=F-T+x(O,e)|0;e<O.length&&(F=F-T+x(O+"XXX",e)|0),f=U(f,i,4,(0,V.string32)(F));const P=`url(data:font/opentype;base64,${btoa(f)});`,C=`@font-face {font-family:"${O}";src:${P}}`;this.insertRule(C);const H=this._document.createElement("div");H.style.visibility="hidden",H.style.width=H.style.height="10px",H.style.position="absolute",H.style.top=H.style.left="0px";for(const $ of[re.loadedName,O]){const se=this._document.createElement("span");se.textContent="Hi",se.style.fontFamily=$,H.append(se)}this._document.body.append(H),L(O,()=>{H.remove(),n.complete()})}}Pe=new WeakMap,s.FontLoader=Ae;class _e{constructor(re,{isEvalSupported:n=!0,disableFontFace:x=!1,ignoreErrors:U=!1,inspectFont:e=null}){this.compiledGlyphs=Object.create(null);for(const t in re)this[t]=re[t];this.isEvalSupported=n!==!1,this.disableFontFace=x===!0,this.ignoreErrors=U===!0,this._inspectFont=e}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let re;if(!this.cssFontInfo)re=new FontFace(this.loadedName,this.data,{});else{const x={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(x.style=`oblique ${this.cssFontInfo.italicAngle}deg`),re=new FontFace(this.cssFontInfo.fontFamily,this.data,x)}return(n=this._inspectFont)==null||n.call(this,this),re}createFontFaceRule(){var U;if(!this.data||this.disableFontFace)return null;const re=(0,V.bytesToString)(this.data),n=`url(data:${this.mimetype};base64,${btoa(re)});`;let x;if(!this.cssFontInfo)x=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),x=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${n}}`}return(U=this._inspectFont)==null||U.call(this,this,n),x}getPathGenerator(re,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let x;try{x=re.get(this.loadedName+"_path_"+n)}catch(U){if(!this.ignoreErrors)throw U;return(0,V.warn)(`getPathGenerator - ignoring character: "${U}".`),this.compiledGlyphs[n]=function(e,t){}}if(this.isEvalSupported&&V.FeatureTest.isEvalSupported){const U=[];for(const e of x){const t=e.args!==void 0?e.args.join(","):"";U.push("c.",e.cmd,"(",t,`);
`)}return this.compiledGlyphs[n]=new Function("c","size",U.join(""))}return this.compiledGlyphs[n]=function(U,e){for(const t of x)t.cmd==="scale"&&(t.args=[e,-e]),U[t.cmd].apply(U,t.args)}}}s.FontFaceObject=_e},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var V=M(7);M(1);const Ae=function(n){return new Promise((x,U)=>{require$$5.readFile(n,(t,o)=>{if(t||!o){U(new Error(t));return}x(new Uint8Array(o))})})};class _e extends V.BaseFilterFactory{}s.NodeFilterFactory=_e;class Pe extends V.BaseCanvasFactory{_createCanvas(x,U){return require$$5.createCanvas(x,U)}}s.NodeCanvasFactory=Pe;class h extends V.BaseCMapReaderFactory{_fetchData(x,U){return Ae(x).then(e=>({cMapData:e,compressionType:U}))}}s.NodeCMapReaderFactory=h;class re extends V.BaseStandardFontDataFactory{_fetchData(x){return Ae(x)}}s.NodeStandardFontDataFactory=re},(a,s,M)=>{var l,p0,D,m0;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var V=M(1),Ae=M(6),_e=M(12),Pe=M(13);const h=16,re=100,n=4096,x=15,U=10,e=1e3,t=16;function o(v,S){if(v._removeMirroring)throw new Error("Context is already forwarding operations.");v.__originalSave=v.save,v.__originalRestore=v.restore,v.__originalRotate=v.rotate,v.__originalScale=v.scale,v.__originalTranslate=v.translate,v.__originalTransform=v.transform,v.__originalSetTransform=v.setTransform,v.__originalResetTransform=v.resetTransform,v.__originalClip=v.clip,v.__originalMoveTo=v.moveTo,v.__originalLineTo=v.lineTo,v.__originalBezierCurveTo=v.bezierCurveTo,v.__originalRect=v.rect,v.__originalClosePath=v.closePath,v.__originalBeginPath=v.beginPath,v._removeMirroring=()=>{v.save=v.__originalSave,v.restore=v.__originalRestore,v.rotate=v.__originalRotate,v.scale=v.__originalScale,v.translate=v.__originalTranslate,v.transform=v.__originalTransform,v.setTransform=v.__originalSetTransform,v.resetTransform=v.__originalResetTransform,v.clip=v.__originalClip,v.moveTo=v.__originalMoveTo,v.lineTo=v.__originalLineTo,v.bezierCurveTo=v.__originalBezierCurveTo,v.rect=v.__originalRect,v.closePath=v.__originalClosePath,v.beginPath=v.__originalBeginPath,delete v._removeMirroring},v.save=function(){S.save(),this.__originalSave()},v.restore=function(){S.restore(),this.__originalRestore()},v.translate=function(u,y){S.translate(u,y),this.__originalTranslate(u,y)},v.scale=function(u,y){S.scale(u,y),this.__originalScale(u,y)},v.transform=function(u,y,r,A,E,G){S.transform(u,y,r,A,E,G),this.__originalTransform(u,y,r,A,E,G)},v.setTransform=function(u,y,r,A,E,G){S.setTransform(u,y,r,A,E,G),this.__originalSetTransform(u,y,r,A,E,G)},v.resetTransform=function(){S.resetTransform(),this.__originalResetTransform()},v.rotate=function(u){S.rotate(u),this.__originalRotate(u)},v.clip=function(u){S.clip(u),this.__originalClip(u)},v.moveTo=function(I,u){S.moveTo(I,u),this.__originalMoveTo(I,u)},v.lineTo=function(I,u){S.lineTo(I,u),this.__originalLineTo(I,u)},v.bezierCurveTo=function(I,u,y,r,A,E){S.bezierCurveTo(I,u,y,r,A,E),this.__originalBezierCurveTo(I,u,y,r,A,E)},v.rect=function(I,u,y,r){S.rect(I,u,y,r),this.__originalRect(I,u,y,r)},v.closePath=function(){S.closePath(),this.__originalClosePath()},v.beginPath=function(){S.beginPath(),this.__originalBeginPath()}}class K{constructor(S){this.canvasFactory=S,this.cache=Object.create(null)}getCanvas(S,I,u){let y;return this.cache[S]!==void 0?(y=this.cache[S],this.canvasFactory.reset(y,I,u)):(y=this.canvasFactory.create(I,u),this.cache[S]=y),y}delete(S){delete this.cache[S]}clear(){for(const S in this.cache){const I=this.cache[S];this.canvasFactory.destroy(I),delete this.cache[S]}}}function X(v,S,I,u,y,r,A,E,G,ae){const[ce,Ie,fe,Te,be,ve]=(0,Ae.getCurrentTransform)(v);if(Ie===0&&fe===0){const ge=A*ce+be,he=Math.round(ge),ue=E*Te+ve,we=Math.round(ue),Ce=(A+G)*ce+be,le=Math.abs(Math.round(Ce)-he)||1,ke=(E+ae)*Te+ve,Fe=Math.abs(Math.round(ke)-we)||1;return v.setTransform(Math.sign(ce),0,0,Math.sign(Te),he,we),v.drawImage(S,I,u,y,r,0,0,le,Fe),v.setTransform(ce,Ie,fe,Te,be,ve),[le,Fe]}if(ce===0&&Te===0){const ge=E*fe+be,he=Math.round(ge),ue=A*Ie+ve,we=Math.round(ue),Ce=(E+ae)*fe+be,le=Math.abs(Math.round(Ce)-he)||1,ke=(A+G)*Ie+ve,Fe=Math.abs(Math.round(ke)-we)||1;return v.setTransform(0,Math.sign(Ie),Math.sign(fe),0,he,we),v.drawImage(S,I,u,y,r,0,0,Fe,le),v.setTransform(ce,Ie,fe,Te,be,ve),[Fe,le]}v.drawImage(S,I,u,y,r,A,E,G,ae);const te=Math.hypot(ce,Ie),ie=Math.hypot(fe,Te);return[te*G,ie*ae]}function L(v){const{width:S,height:I}=v;if(S>e||I>e)return null;const u=1e3,y=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=S+1;let A=new Uint8Array(r*(I+1)),E,G,ae;const ce=S+7&-8;let Ie=new Uint8Array(ce*I),fe=0;for(const ie of v.data){let ge=128;for(;ge>0;)Ie[fe++]=ie&ge?0:255,ge>>=1}let Te=0;for(fe=0,Ie[fe]!==0&&(A[0]=1,++Te),G=1;G<S;G++)Ie[fe]!==Ie[fe+1]&&(A[G]=Ie[fe]?2:1,++Te),fe++;for(Ie[fe]!==0&&(A[G]=2,++Te),E=1;E<I;E++){fe=E*ce,ae=E*r,Ie[fe-ce]!==Ie[fe]&&(A[ae]=Ie[fe]?1:8,++Te);let ie=(Ie[fe]?4:0)+(Ie[fe-ce]?8:0);for(G=1;G<S;G++)ie=(ie>>2)+(Ie[fe+1]?4:0)+(Ie[fe-ce+1]?8:0),y[ie]&&(A[ae+G]=y[ie],++Te),fe++;if(Ie[fe-ce]!==Ie[fe]&&(A[ae+G]=Ie[fe]?2:4,++Te),Te>u)return null}for(fe=ce*(I-1),ae=E*r,Ie[fe]!==0&&(A[ae]=8,++Te),G=1;G<S;G++)Ie[fe]!==Ie[fe+1]&&(A[ae+G]=Ie[fe]?4:8,++Te),fe++;if(Ie[fe]!==0&&(A[ae+G]=4,++Te),Te>u)return null;const be=new Int32Array([0,r,-1,0,-r,0,0,0,1]),ve=new Path2D;for(E=0;Te&&E<=I;E++){let ie=E*r;const ge=ie+S;for(;ie<ge&&!A[ie];)ie++;if(ie===ge)continue;ve.moveTo(ie%r,E);const he=ie;let ue=A[ie];do{const we=be[ue];do ie+=we;while(!A[ie]);const Ce=A[ie];Ce!==5&&Ce!==10?(ue=Ce,A[ie]=0):(ue=Ce&51*ue>>4,A[ie]&=ue>>2|ue<<2),ve.lineTo(ie%r,ie/r|0),A[ie]||--Te}while(he!==ie);--E}return Ie=null,A=null,function(ie){ie.save(),ie.scale(1/S,-1/I),ie.translate(0,-I),ie.fill(ve),ie.beginPath(),ie.restore()}}class O{constructor(S,I){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=V.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=V.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=V.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,S,I])}clone(){const S=Object.create(this);return S.clipBox=this.clipBox.slice(),S}setCurrentPoint(S,I){this.x=S,this.y=I}updatePathMinMax(S,I,u){[I,u]=V.Util.applyTransform([I,u],S),this.minX=Math.min(this.minX,I),this.minY=Math.min(this.minY,u),this.maxX=Math.max(this.maxX,I),this.maxY=Math.max(this.maxY,u)}updateRectMinMax(S,I){const u=V.Util.applyTransform(I,S),y=V.Util.applyTransform(I.slice(2),S);this.minX=Math.min(this.minX,u[0],y[0]),this.minY=Math.min(this.minY,u[1],y[1]),this.maxX=Math.max(this.maxX,u[0],y[0]),this.maxY=Math.max(this.maxY,u[1],y[1])}updateScalingPathMinMax(S,I){V.Util.scaleMinMax(S,I),this.minX=Math.min(this.minX,I[0]),this.maxX=Math.max(this.maxX,I[1]),this.minY=Math.min(this.minY,I[2]),this.maxY=Math.max(this.maxY,I[3])}updateCurvePathMinMax(S,I,u,y,r,A,E,G,ae,ce){const Ie=V.Util.bezierBoundingBox(I,u,y,r,A,E,G,ae);if(ce){ce[0]=Math.min(ce[0],Ie[0],Ie[2]),ce[1]=Math.max(ce[1],Ie[0],Ie[2]),ce[2]=Math.min(ce[2],Ie[1],Ie[3]),ce[3]=Math.max(ce[3],Ie[1],Ie[3]);return}this.updateRectMinMax(S,Ie)}getPathBoundingBox(S=_e.PathType.FILL,I=null){const u=[this.minX,this.minY,this.maxX,this.maxY];if(S===_e.PathType.STROKE){I||(0,V.unreachable)("Stroke bounding box must include transform.");const y=V.Util.singularValueDecompose2dScale(I),r=y[0]*this.lineWidth/2,A=y[1]*this.lineWidth/2;u[0]-=r,u[1]-=A,u[2]+=r,u[3]+=A}return u}updateClipFromPath(){const S=V.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(S||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(S){this.clipBox=S,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(S=_e.PathType.FILL,I=null){return V.Util.intersect(this.clipBox,this.getPathBoundingBox(S,I))}}function f(v,S){if(typeof ImageData<"u"&&S instanceof ImageData){v.putImageData(S,0,0);return}const I=S.height,u=S.width,y=I%t,r=(I-y)/t,A=y===0?r:r+1,E=v.createImageData(u,t);let G=0,ae;const ce=S.data,Ie=E.data;let fe,Te,be,ve;if(S.kind===V.ImageKind.GRAYSCALE_1BPP){const te=ce.byteLength,ie=new Uint32Array(Ie.buffer,0,Ie.byteLength>>2),ge=ie.length,he=u+7>>3,ue=4294967295,we=V.FeatureTest.isLittleEndian?4278190080:255;for(fe=0;fe<A;fe++){for(be=fe<r?t:y,ae=0,Te=0;Te<be;Te++){const Ce=te-G;let le=0;const ke=Ce>he?u:Ce*8-7,Fe=ke&-8;let de=0,Ee=0;for(;le<Fe;le+=8)Ee=ce[G++],ie[ae++]=Ee&128?ue:we,ie[ae++]=Ee&64?ue:we,ie[ae++]=Ee&32?ue:we,ie[ae++]=Ee&16?ue:we,ie[ae++]=Ee&8?ue:we,ie[ae++]=Ee&4?ue:we,ie[ae++]=Ee&2?ue:we,ie[ae++]=Ee&1?ue:we;for(;le<ke;le++)de===0&&(Ee=ce[G++],de=128),ie[ae++]=Ee&de?ue:we,de>>=1}for(;ae<ge;)ie[ae++]=0;v.putImageData(E,0,fe*t)}}else if(S.kind===V.ImageKind.RGBA_32BPP){for(Te=0,ve=u*t*4,fe=0;fe<r;fe++)Ie.set(ce.subarray(G,G+ve)),G+=ve,v.putImageData(E,0,Te),Te+=t;fe<A&&(ve=u*y*4,Ie.set(ce.subarray(G,G+ve)),v.putImageData(E,0,Te))}else if(S.kind===V.ImageKind.RGB_24BPP)for(be=t,ve=u*be,fe=0;fe<A;fe++){for(fe>=r&&(be=y,ve=u*be),ae=0,Te=ve;Te--;)Ie[ae++]=ce[G++],Ie[ae++]=ce[G++],Ie[ae++]=ce[G++],Ie[ae++]=255;v.putImageData(E,0,fe*t)}else throw new Error(`bad image kind: ${S.kind}`)}function p(v,S){if(S.bitmap){v.drawImage(S.bitmap,0,0);return}const I=S.height,u=S.width,y=I%t,r=(I-y)/t,A=y===0?r:r+1,E=v.createImageData(u,t);let G=0;const ae=S.data,ce=E.data;for(let Ie=0;Ie<A;Ie++){const fe=Ie<r?t:y;({srcPos:G}=(0,Pe.convertBlackAndWhiteToRGBA)({src:ae,srcPos:G,dest:ce,width:u,height:fe,nonBlackColor:0})),v.putImageData(E,0,Ie*t)}}function i(v,S){const I=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const u of I)v[u]!==void 0&&(S[u]=v[u]);v.setLineDash!==void 0&&(S.setLineDash(v.getLineDash()),S.lineDashOffset=v.lineDashOffset)}function T(v){if(v.strokeStyle=v.fillStyle="#000000",v.fillRule="nonzero",v.globalAlpha=1,v.lineWidth=1,v.lineCap="butt",v.lineJoin="miter",v.miterLimit=10,v.globalCompositeOperation="source-over",v.font="10px sans-serif",v.setLineDash!==void 0&&(v.setLineDash([]),v.lineDashOffset=0),!V.isNodeJS){const{filter:S}=v;S!=="none"&&S!==""&&(v.filter="none")}}function F(v,S,I,u){const y=v.length;for(let r=3;r<y;r+=4){const A=v[r];if(A===0)v[r-3]=S,v[r-2]=I,v[r-1]=u;else if(A<255){const E=255-A;v[r-3]=v[r-3]*A+S*E>>8,v[r-2]=v[r-2]*A+I*E>>8,v[r-1]=v[r-1]*A+u*E>>8}}}function P(v,S,I){const u=v.length,y=1/255;for(let r=3;r<u;r+=4){const A=I?I[v[r]]:v[r];S[r]=S[r]*A*y|0}}function C(v,S,I){const u=v.length;for(let y=3;y<u;y+=4){const r=v[y-3]*77+v[y-2]*152+v[y-1]*28;S[y]=I?S[y]*I[r>>8]>>8:S[y]*r>>16}}function H(v,S,I,u,y,r,A,E,G,ae,ce){const Ie=!!r,fe=Ie?r[0]:0,Te=Ie?r[1]:0,be=Ie?r[2]:0,ve=y==="Luminosity"?C:P,ie=Math.min(u,Math.ceil(1048576/I));for(let ge=0;ge<u;ge+=ie){const he=Math.min(ie,u-ge),ue=v.getImageData(E-ae,ge+(G-ce),I,he),we=S.getImageData(E,ge+G,I,he);Ie&&F(ue.data,fe,Te,be),ve(ue.data,we.data,A),S.putImageData(we,E,ge+G)}}function $(v,S,I,u){const y=u[0],r=u[1],A=u[2]-y,E=u[3]-r;A===0||E===0||(H(S.context,I,A,E,S.subtype,S.backdrop,S.transferMap,y,r,S.offsetX,S.offsetY),v.save(),v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),v.drawImage(I.canvas,0,0),v.restore())}function se(v,S){const I=V.Util.singularValueDecompose2dScale(v);I[0]=Math.fround(I[0]),I[1]=Math.fround(I[1]);const u=Math.fround((globalThis.devicePixelRatio||1)*Ae.PixelsPerInch.PDF_TO_CSS_UNITS);return S!==void 0?S:I[0]<=u||I[1]<=u}const _=["butt","round","square"],Q=["miter","round","bevel"],d={},w={},N=class N{constructor(S,I,u,y,r,{optionalContentConfig:A,markedContentStack:E=null},G,ae){ct(this,l);ct(this,D);this.ctx=S,this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=I,this.objs=u,this.canvasFactory=y,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=E||[],this.optionalContentConfig=A,this.cachedCanvases=new K(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=G,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=ae,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(S,I=null){return typeof S=="string"?S.startsWith("g_")?this.commonObjs.get(S):this.objs.get(S):I}beginDrawing({transform:S,viewport:I,transparency:u=!1,background:y=null}){const r=this.ctx.canvas.width,A=this.ctx.canvas.height,E=this.ctx.fillStyle;if(this.ctx.fillStyle=y||"#ffffff",this.ctx.fillRect(0,0,r,A),this.ctx.fillStyle=E,u){const G=this.cachedCanvases.getCanvas("transparent",r,A);this.compositeCtx=this.ctx,this.transparentCanvas=G.canvas,this.ctx=G.context,this.ctx.save(),this.ctx.transform(...(0,Ae.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),T(this.ctx),S&&(this.ctx.transform(...S),this.outputScaleX=S[0],this.outputScaleY=S[0]),this.ctx.transform(...I.transform),this.viewportScale=I.scale,this.baseTransform=(0,Ae.getCurrentTransform)(this.ctx)}executeOperatorList(S,I,u,y){const r=S.argsArray,A=S.fnArray;let E=I||0;const G=r.length;if(G===E)return E;const ae=G-E>U&&typeof u=="function",ce=ae?Date.now()+x:0;let Ie=0;const fe=this.commonObjs,Te=this.objs;let be;for(;;){if(y!==void 0&&E===y.nextBreakPoint)return y.breakIt(E,u),E;if(be=A[E],be!==V.OPS.dependency)this[be].apply(this,r[E]);else for(const ve of r[E]){const te=ve.startsWith("g_")?fe:Te;if(!te.has(ve))return te.get(ve,u),E}if(E++,E===G)return E;if(ae&&++Ie>U){if(Date.now()>ce)return u(),E;Ie=0}}}endDrawing(){dt(this,l,p0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const S of this._cachedBitmapsMap.values()){for(const I of S.values())typeof HTMLCanvasElement<"u"&&I instanceof HTMLCanvasElement&&(I.width=I.height=0);S.clear()}this._cachedBitmapsMap.clear(),dt(this,D,m0).call(this)}_scaleImage(S,I){const u=S.width,y=S.height;let r=Math.max(Math.hypot(I[0],I[1]),1),A=Math.max(Math.hypot(I[2],I[3]),1),E=u,G=y,ae="prescale1",ce,Ie;for(;r>2&&E>1||A>2&&G>1;){let fe=E,Te=G;r>2&&E>1&&(fe=E>=16384?Math.floor(E/2)-1||1:Math.ceil(E/2),r/=E/fe),A>2&&G>1&&(Te=G>=16384?Math.floor(G/2)-1||1:Math.ceil(G)/2,A/=G/Te),ce=this.cachedCanvases.getCanvas(ae,fe,Te),Ie=ce.context,Ie.clearRect(0,0,fe,Te),Ie.drawImage(S,0,0,E,G,0,0,fe,Te),S=ce.canvas,E=fe,G=Te,ae=ae==="prescale1"?"prescale2":"prescale1"}return{img:S,paintWidth:E,paintHeight:G}}_createMaskCanvas(S){const I=this.ctx,{width:u,height:y}=S,r=this.current.fillColor,A=this.current.patternFill,E=(0,Ae.getCurrentTransform)(I);let G,ae,ce,Ie;if((S.bitmap||S.data)&&S.count>1){const le=S.bitmap||S.data.buffer;ae=JSON.stringify(A?E:[E.slice(0,4),r]),G=this._cachedBitmapsMap.get(le),G||(G=new Map,this._cachedBitmapsMap.set(le,G));const ke=G.get(ae);if(ke&&!A){const Fe=Math.round(Math.min(E[0],E[2])+E[4]),de=Math.round(Math.min(E[1],E[3])+E[5]);return{canvas:ke,offsetX:Fe,offsetY:de}}ce=ke}ce||(Ie=this.cachedCanvases.getCanvas("maskCanvas",u,y),p(Ie.context,S));let fe=V.Util.transform(E,[1/u,0,0,-1/y,0,0]);fe=V.Util.transform(fe,[1,0,0,1,0,-y]);const Te=V.Util.applyTransform([0,0],fe),be=V.Util.applyTransform([u,y],fe),ve=V.Util.normalizeRect([Te[0],Te[1],be[0],be[1]]),te=Math.round(ve[2]-ve[0])||1,ie=Math.round(ve[3]-ve[1])||1,ge=this.cachedCanvases.getCanvas("fillCanvas",te,ie),he=ge.context,ue=Math.min(Te[0],be[0]),we=Math.min(Te[1],be[1]);he.translate(-ue,-we),he.transform(...fe),ce||(ce=this._scaleImage(Ie.canvas,(0,Ae.getCurrentTransformInverse)(he)),ce=ce.img,G&&A&&G.set(ae,ce)),he.imageSmoothingEnabled=se((0,Ae.getCurrentTransform)(he),S.interpolate),X(he,ce,0,0,ce.width,ce.height,0,0,u,y),he.globalCompositeOperation="source-in";const Ce=V.Util.transform((0,Ae.getCurrentTransformInverse)(he),[1,0,0,1,-ue,-we]);return he.fillStyle=A?r.getPattern(I,this,Ce,_e.PathType.FILL):r,he.fillRect(0,0,u,y),G&&!A&&(this.cachedCanvases.delete("fillCanvas"),G.set(ae,ge.canvas)),{canvas:ge.canvas,offsetX:Math.round(ue),offsetY:Math.round(we)}}setLineWidth(S){S!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=S,this.ctx.lineWidth=S}setLineCap(S){this.ctx.lineCap=_[S]}setLineJoin(S){this.ctx.lineJoin=Q[S]}setMiterLimit(S){this.ctx.miterLimit=S}setDash(S,I){const u=this.ctx;u.setLineDash!==void 0&&(u.setLineDash(S),u.lineDashOffset=I)}setRenderingIntent(S){}setFlatness(S){}setGState(S){for(const[I,u]of S)switch(I){case"LW":this.setLineWidth(u);break;case"LC":this.setLineCap(u);break;case"LJ":this.setLineJoin(u);break;case"ML":this.setMiterLimit(u);break;case"D":this.setDash(u[0],u[1]);break;case"RI":this.setRenderingIntent(u);break;case"FL":this.setFlatness(u);break;case"Font":this.setFont(u[0],u[1]);break;case"CA":this.current.strokeAlpha=u;break;case"ca":this.current.fillAlpha=u,this.ctx.globalAlpha=u;break;case"BM":this.ctx.globalCompositeOperation=u;break;case"SMask":this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const S=this.inSMaskMode;this.current.activeSMask&&!S?this.beginSMaskMode():!this.current.activeSMask&&S&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const S=this.ctx.canvas.width,I=this.ctx.canvas.height,u="smaskGroupAt"+this.groupLevel,y=this.cachedCanvases.getCanvas(u,S,I);this.suspendedCtx=this.ctx,this.ctx=y.context;const r=this.ctx;r.setTransform(...(0,Ae.getCurrentTransform)(this.suspendedCtx)),i(this.suspendedCtx,r),o(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),i(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(S){if(!this.current.activeSMask)return;S?(S[0]=Math.floor(S[0]),S[1]=Math.floor(S[1]),S[2]=Math.ceil(S[2]),S[3]=Math.ceil(S[3])):S=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const I=this.current.activeSMask,u=this.suspendedCtx;$(u,I,this.ctx,S),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(i(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const S=this.current;this.stateStack.push(S),this.current=S.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),i(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(S,I,u,y,r,A){this.ctx.transform(S,I,u,y,r,A),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(S,I,u){const y=this.ctx,r=this.current;let A=r.x,E=r.y,G,ae;const ce=(0,Ae.getCurrentTransform)(y),Ie=ce[0]===0&&ce[3]===0||ce[1]===0&&ce[2]===0,fe=Ie?u.slice(0):null;for(let Te=0,be=0,ve=S.length;Te<ve;Te++)switch(S[Te]|0){case V.OPS.rectangle:A=I[be++],E=I[be++];const te=I[be++],ie=I[be++],ge=A+te,he=E+ie;y.moveTo(A,E),te===0||ie===0?y.lineTo(ge,he):(y.lineTo(ge,E),y.lineTo(ge,he),y.lineTo(A,he)),Ie||r.updateRectMinMax(ce,[A,E,ge,he]),y.closePath();break;case V.OPS.moveTo:A=I[be++],E=I[be++],y.moveTo(A,E),Ie||r.updatePathMinMax(ce,A,E);break;case V.OPS.lineTo:A=I[be++],E=I[be++],y.lineTo(A,E),Ie||r.updatePathMinMax(ce,A,E);break;case V.OPS.curveTo:G=A,ae=E,A=I[be+4],E=I[be+5],y.bezierCurveTo(I[be],I[be+1],I[be+2],I[be+3],A,E),r.updateCurvePathMinMax(ce,G,ae,I[be],I[be+1],I[be+2],I[be+3],A,E,fe),be+=6;break;case V.OPS.curveTo2:G=A,ae=E,y.bezierCurveTo(A,E,I[be],I[be+1],I[be+2],I[be+3]),r.updateCurvePathMinMax(ce,G,ae,A,E,I[be],I[be+1],I[be+2],I[be+3],fe),A=I[be+2],E=I[be+3],be+=4;break;case V.OPS.curveTo3:G=A,ae=E,A=I[be+2],E=I[be+3],y.bezierCurveTo(I[be],I[be+1],A,E,A,E),r.updateCurvePathMinMax(ce,G,ae,I[be],I[be+1],A,E,A,E,fe),be+=4;break;case V.OPS.closePath:y.closePath();break}Ie&&r.updateScalingPathMinMax(ce,fe),r.setCurrentPoint(A,E)}closePath(){this.ctx.closePath()}stroke(S=!0){const I=this.ctx,u=this.current.strokeColor;I.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof u=="object"&&(u!=null&&u.getPattern)?(I.save(),I.strokeStyle=u.getPattern(I,this,(0,Ae.getCurrentTransformInverse)(I),_e.PathType.STROKE),this.rescaleAndStroke(!1),I.restore()):this.rescaleAndStroke(!0)),S&&this.consumePath(this.current.getClippedPathBoundingBox()),I.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(S=!0){const I=this.ctx,u=this.current.fillColor,y=this.current.patternFill;let r=!1;y&&(I.save(),I.fillStyle=u.getPattern(I,this,(0,Ae.getCurrentTransformInverse)(I),_e.PathType.FILL),r=!0);const A=this.current.getClippedPathBoundingBox();this.contentVisible&&A!==null&&(this.pendingEOFill?(I.fill("evenodd"),this.pendingEOFill=!1):I.fill()),r&&I.restore(),S&&this.consumePath(A)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=d}eoClip(){this.pendingClip=w}beginText(){this.current.textMatrix=V.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const S=this.pendingTextPaths,I=this.ctx;if(S===void 0){I.beginPath();return}I.save(),I.beginPath();for(const u of S)I.setTransform(...u.transform),I.translate(u.x,u.y),u.addToPath(I,u.fontSize);I.restore(),I.clip(),I.beginPath(),delete this.pendingTextPaths}setCharSpacing(S){this.current.charSpacing=S}setWordSpacing(S){this.current.wordSpacing=S}setHScale(S){this.current.textHScale=S/100}setLeading(S){this.current.leading=-S}setFont(S,I){var ce;const u=this.commonObjs.get(S),y=this.current;if(!u)throw new Error(`Can't find font for ${S}`);if(y.fontMatrix=u.fontMatrix||V.FONT_IDENTITY_MATRIX,(y.fontMatrix[0]===0||y.fontMatrix[3]===0)&&(0,V.warn)("Invalid font matrix for font "+S),I<0?(I=-I,y.fontDirection=-1):y.fontDirection=1,this.current.font=u,this.current.fontSize=I,u.isType3Font)return;const r=u.loadedName||"sans-serif",A=((ce=u.systemFontInfo)==null?void 0:ce.css)||`"${r}", ${u.fallbackName}`;let E="normal";u.black?E="900":u.bold&&(E="bold");const G=u.italic?"italic":"normal";let ae=I;I<h?ae=h:I>re&&(ae=re),this.current.fontSizeScale=I/ae,this.ctx.font=`${G} ${E} ${ae}px ${A}`}setTextRenderingMode(S){this.current.textRenderingMode=S}setTextRise(S){this.current.textRise=S}moveText(S,I){this.current.x=this.current.lineX+=S,this.current.y=this.current.lineY+=I}setLeadingMoveText(S,I){this.setLeading(-I),this.moveText(S,I)}setTextMatrix(S,I,u,y,r,A){this.current.textMatrix=[S,I,u,y,r,A],this.current.textMatrixScale=Math.hypot(S,I),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(S,I,u,y){const r=this.ctx,A=this.current,E=A.font,G=A.textRenderingMode,ae=A.fontSize/A.fontSizeScale,ce=G&V.TextRenderingMode.FILL_STROKE_MASK,Ie=!!(G&V.TextRenderingMode.ADD_TO_PATH_FLAG),fe=A.patternFill&&!E.missingFile;let Te;(E.disableFontFace||Ie||fe)&&(Te=E.getPathGenerator(this.commonObjs,S)),E.disableFontFace||fe?(r.save(),r.translate(I,u),r.beginPath(),Te(r,ae),y&&r.setTransform(...y),(ce===V.TextRenderingMode.FILL||ce===V.TextRenderingMode.FILL_STROKE)&&r.fill(),(ce===V.TextRenderingMode.STROKE||ce===V.TextRenderingMode.FILL_STROKE)&&r.stroke(),r.restore()):((ce===V.TextRenderingMode.FILL||ce===V.TextRenderingMode.FILL_STROKE)&&r.fillText(S,I,u),(ce===V.TextRenderingMode.STROKE||ce===V.TextRenderingMode.FILL_STROKE)&&r.strokeText(S,I,u)),Ie&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,Ae.getCurrentTransform)(r),x:I,y:u,fontSize:ae,addToPath:Te})}get isFontSubpixelAAEnabled(){const{context:S}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);S.scale(1.5,1),S.fillText("I",0,10);const I=S.getImageData(0,0,10,10).data;let u=!1;for(let y=3;y<I.length;y+=4)if(I[y]>0&&I[y]<255){u=!0;break}return(0,V.shadow)(this,"isFontSubpixelAAEnabled",u)}showText(S){const I=this.current,u=I.font;if(u.isType3Font)return this.showType3Text(S);const y=I.fontSize;if(y===0)return;const r=this.ctx,A=I.fontSizeScale,E=I.charSpacing,G=I.wordSpacing,ae=I.fontDirection,ce=I.textHScale*ae,Ie=S.length,fe=u.vertical,Te=fe?1:-1,be=u.defaultVMetrics,ve=y*I.fontMatrix[0],te=I.textRenderingMode===V.TextRenderingMode.FILL&&!u.disableFontFace&&!I.patternFill;r.save(),r.transform(...I.textMatrix),r.translate(I.x,I.y+I.textRise),ae>0?r.scale(ce,-1):r.scale(ce,1);let ie;if(I.patternFill){r.save();const Ce=I.fillColor.getPattern(r,this,(0,Ae.getCurrentTransformInverse)(r),_e.PathType.FILL);ie=(0,Ae.getCurrentTransform)(r),r.restore(),r.fillStyle=Ce}let ge=I.lineWidth;const he=I.textMatrixScale;if(he===0||ge===0){const Ce=I.textRenderingMode&V.TextRenderingMode.FILL_STROKE_MASK;(Ce===V.TextRenderingMode.STROKE||Ce===V.TextRenderingMode.FILL_STROKE)&&(ge=this.getSinglePixelWidth())}else ge/=he;if(A!==1&&(r.scale(A,A),ge/=A),r.lineWidth=ge,u.isInvalidPDFjsFont){const Ce=[];let le=0;for(const ke of S)Ce.push(ke.unicode),le+=ke.width;r.fillText(Ce.join(""),0,0),I.x+=le*ve*ce,r.restore(),this.compose();return}let ue=0,we;for(we=0;we<Ie;++we){const Ce=S[we];if(typeof Ce=="number"){ue+=Te*Ce*y/1e3;continue}let le=!1;const ke=(Ce.isSpace?G:0)+E,Fe=Ce.fontChar,de=Ce.accent;let Ee,Oe,Ne=Ce.width;if(fe){const rt=Ce.vmetric||be,Ge=-(Ce.vmetric?rt[1]:Ne*.5)*ve,je=rt[2]*ve;Ne=rt?-rt[0]:Ne,Ee=Ge/A,Oe=(ue+je)/A}else Ee=ue/A,Oe=0;if(u.remeasure&&Ne>0){const rt=r.measureText(Fe).width*1e3/y*A;if(Ne<rt&&this.isFontSubpixelAAEnabled){const Ge=Ne/rt;le=!0,r.save(),r.scale(Ge,1),Ee/=Ge}else Ne!==rt&&(Ee+=(Ne-rt)/2e3*y/A)}if(this.contentVisible&&(Ce.isInFont||u.missingFile)){if(te&&!de)r.fillText(Fe,Ee,Oe);else if(this.paintChar(Fe,Ee,Oe,ie),de){const rt=Ee+y*de.offset.x/A,Ge=Oe-y*de.offset.y/A;this.paintChar(de.fontChar,rt,Ge,ie)}}const et=fe?Ne*ve-ke*ae:Ne*ve+ke*ae;ue+=et,le&&r.restore()}fe?I.y-=ue:I.x+=ue*ce,r.restore(),this.compose()}showType3Text(S){const I=this.ctx,u=this.current,y=u.font,r=u.fontSize,A=u.fontDirection,E=y.vertical?1:-1,G=u.charSpacing,ae=u.wordSpacing,ce=u.textHScale*A,Ie=u.fontMatrix||V.FONT_IDENTITY_MATRIX,fe=S.length,Te=u.textRenderingMode===V.TextRenderingMode.INVISIBLE;let be,ve,te,ie;if(!(Te||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,I.save(),I.transform(...u.textMatrix),I.translate(u.x,u.y),I.scale(ce,A),be=0;be<fe;++be){if(ve=S[be],typeof ve=="number"){ie=E*ve*r/1e3,this.ctx.translate(ie,0),u.x+=ie*ce;continue}const ge=(ve.isSpace?ae:0)+G,he=y.charProcOperatorList[ve.operatorListId];if(!he){(0,V.warn)(`Type3 character "${ve.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ve,this.save(),I.scale(r,r),I.transform(...Ie),this.executeOperatorList(he),this.restore()),te=V.Util.applyTransform([ve.width,0],Ie)[0]*r+ge,I.translate(te,0),u.x+=te*ce}I.restore(),this.processingType3=null}}setCharWidth(S,I){}setCharWidthAndBounds(S,I,u,y,r,A){this.ctx.rect(u,y,r-u,A-y),this.ctx.clip(),this.endPath()}getColorN_Pattern(S){let I;if(S[0]==="TilingPattern"){const u=S[1],y=this.baseTransform||(0,Ae.getCurrentTransform)(this.ctx),r={createCanvasGraphics:A=>new N(A,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};I=new _e.TilingPattern(S,u,this.ctx,r,y)}else I=this._getPattern(S[1],S[2]);return I}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(S,I,u){const y=V.Util.makeHexColor(S,I,u);this.ctx.strokeStyle=y,this.current.strokeColor=y}setFillRGBColor(S,I,u){const y=V.Util.makeHexColor(S,I,u);this.ctx.fillStyle=y,this.current.fillColor=y,this.current.patternFill=!1}_getPattern(S,I=null){let u;return this.cachedPatterns.has(S)?u=this.cachedPatterns.get(S):(u=(0,_e.getShadingPattern)(this.getObject(S)),this.cachedPatterns.set(S,u)),I&&(u.matrix=I),u}shadingFill(S){if(!this.contentVisible)return;const I=this.ctx;this.save();const u=this._getPattern(S);I.fillStyle=u.getPattern(I,this,(0,Ae.getCurrentTransformInverse)(I),_e.PathType.SHADING);const y=(0,Ae.getCurrentTransformInverse)(I);if(y){const{width:r,height:A}=I.canvas,[E,G,ae,ce]=V.Util.getAxialAlignedBoundingBox([0,0,r,A],y);this.ctx.fillRect(E,G,ae-E,ce-G)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,V.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,V.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(S,I){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(S)&&S.length===6&&this.transform(...S),this.baseTransform=(0,Ae.getCurrentTransform)(this.ctx),I)){const u=I[2]-I[0],y=I[3]-I[1];this.ctx.rect(I[0],I[1],u,y),this.current.updateRectMinMax((0,Ae.getCurrentTransform)(this.ctx),I),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(S){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const I=this.ctx;S.isolated||(0,V.info)("TODO: Support non-isolated groups."),S.knockout&&(0,V.warn)("Knockout groups not supported.");const u=(0,Ae.getCurrentTransform)(I);if(S.matrix&&I.transform(...S.matrix),!S.bbox)throw new Error("Bounding box is required.");let y=V.Util.getAxialAlignedBoundingBox(S.bbox,(0,Ae.getCurrentTransform)(I));const r=[0,0,I.canvas.width,I.canvas.height];y=V.Util.intersect(y,r)||[0,0,0,0];const A=Math.floor(y[0]),E=Math.floor(y[1]);let G=Math.max(Math.ceil(y[2])-A,1),ae=Math.max(Math.ceil(y[3])-E,1),ce=1,Ie=1;G>n&&(ce=G/n,G=n),ae>n&&(Ie=ae/n,ae=n),this.current.startNewPathAndClipBox([0,0,G,ae]);let fe="groupAt"+this.groupLevel;S.smask&&(fe+="_smask_"+this.smaskCounter++%2);const Te=this.cachedCanvases.getCanvas(fe,G,ae),be=Te.context;be.scale(1/ce,1/Ie),be.translate(-A,-E),be.transform(...u),S.smask?this.smaskStack.push({canvas:Te.canvas,context:be,offsetX:A,offsetY:E,scaleX:ce,scaleY:Ie,subtype:S.smask.subtype,backdrop:S.smask.backdrop,transferMap:S.smask.transferMap||null,startTransformInverse:null}):(I.setTransform(1,0,0,1,0,0),I.translate(A,E),I.scale(ce,Ie),I.save()),i(I,be),this.ctx=be,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(I),this.groupLevel++}endGroup(S){if(!this.contentVisible)return;this.groupLevel--;const I=this.ctx,u=this.groupStack.pop();if(this.ctx=u,this.ctx.imageSmoothingEnabled=!1,S.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const y=(0,Ae.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...y);const r=V.Util.getAxialAlignedBoundingBox([0,0,I.canvas.width,I.canvas.height],y);this.ctx.drawImage(I.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(S,I,u,y,r){if(dt(this,l,p0).call(this),T(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(I)&&I.length===4){const A=I[2]-I[0],E=I[3]-I[1];if(r&&this.annotationCanvasMap){u=u.slice(),u[4]-=I[0],u[5]-=I[1],I=I.slice(),I[0]=I[1]=0,I[2]=A,I[3]=E;const[G,ae]=V.Util.singularValueDecompose2dScale((0,Ae.getCurrentTransform)(this.ctx)),{viewportScale:ce}=this,Ie=Math.ceil(A*this.outputScaleX*ce),fe=Math.ceil(E*this.outputScaleY*ce);this.annotationCanvas=this.canvasFactory.create(Ie,fe);const{canvas:Te,context:be}=this.annotationCanvas;this.annotationCanvasMap.set(S,Te),this.annotationCanvas.savedCtx=this.ctx,this.ctx=be,this.ctx.save(),this.ctx.setTransform(G,0,0,-ae,0,E*ae),T(this.ctx)}else T(this.ctx),this.ctx.rect(I[0],I[1],A,E),this.ctx.clip(),this.endPath()}this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...u),this.transform(...y)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),dt(this,D,m0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(S){if(!this.contentVisible)return;const I=S.count;S=this.getObject(S.data,S),S.count=I;const u=this.ctx,y=this.processingType3;if(y&&(y.compiled===void 0&&(y.compiled=L(S)),y.compiled)){y.compiled(u);return}const r=this._createMaskCanvas(S),A=r.canvas;u.save(),u.setTransform(1,0,0,1,0,0),u.drawImage(A,r.offsetX,r.offsetY),u.restore(),this.compose()}paintImageMaskXObjectRepeat(S,I,u=0,y=0,r,A){if(!this.contentVisible)return;S=this.getObject(S.data,S);const E=this.ctx;E.save();const G=(0,Ae.getCurrentTransform)(E);E.transform(I,u,y,r,0,0);const ae=this._createMaskCanvas(S);E.setTransform(1,0,0,1,ae.offsetX-G[4],ae.offsetY-G[5]);for(let ce=0,Ie=A.length;ce<Ie;ce+=2){const fe=V.Util.transform(G,[I,u,y,r,A[ce],A[ce+1]]),[Te,be]=V.Util.applyTransform([0,0],fe);E.drawImage(ae.canvas,Te,be)}E.restore(),this.compose()}paintImageMaskXObjectGroup(S){if(!this.contentVisible)return;const I=this.ctx,u=this.current.fillColor,y=this.current.patternFill;for(const r of S){const{data:A,width:E,height:G,transform:ae}=r,ce=this.cachedCanvases.getCanvas("maskCanvas",E,G),Ie=ce.context;Ie.save();const fe=this.getObject(A,r);p(Ie,fe),Ie.globalCompositeOperation="source-in",Ie.fillStyle=y?u.getPattern(Ie,this,(0,Ae.getCurrentTransformInverse)(I),_e.PathType.FILL):u,Ie.fillRect(0,0,E,G),Ie.restore(),I.save(),I.transform(...ae),I.scale(1,-1),X(I,ce.canvas,0,0,E,G,0,-1,1,1),I.restore()}this.compose()}paintImageXObject(S){if(!this.contentVisible)return;const I=this.getObject(S);if(!I){(0,V.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(I)}paintImageXObjectRepeat(S,I,u,y){if(!this.contentVisible)return;const r=this.getObject(S);if(!r){(0,V.warn)("Dependent image isn't ready yet");return}const A=r.width,E=r.height,G=[];for(let ae=0,ce=y.length;ae<ce;ae+=2)G.push({transform:[I,0,0,u,y[ae],y[ae+1]],x:0,y:0,w:A,h:E});this.paintInlineImageXObjectGroup(r,G)}applyTransferMapsToCanvas(S){return this.current.transferMaps!=="none"&&(S.filter=this.current.transferMaps,S.drawImage(S.canvas,0,0),S.filter="none"),S.canvas}applyTransferMapsToBitmap(S){if(this.current.transferMaps==="none")return S.bitmap;const{bitmap:I,width:u,height:y}=S,r=this.cachedCanvases.getCanvas("inlineImage",u,y),A=r.context;return A.filter=this.current.transferMaps,A.drawImage(I,0,0),A.filter="none",r.canvas}paintInlineImageXObject(S){if(!this.contentVisible)return;const I=S.width,u=S.height,y=this.ctx;if(this.save(),!V.isNodeJS){const{filter:E}=y;E!=="none"&&E!==""&&(y.filter="none")}y.scale(1/I,-1/u);let r;if(S.bitmap)r=this.applyTransferMapsToBitmap(S);else if(typeof HTMLElement=="function"&&S instanceof HTMLElement||!S.data)r=S;else{const G=this.cachedCanvases.getCanvas("inlineImage",I,u).context;f(G,S),r=this.applyTransferMapsToCanvas(G)}const A=this._scaleImage(r,(0,Ae.getCurrentTransformInverse)(y));y.imageSmoothingEnabled=se((0,Ae.getCurrentTransform)(y),S.interpolate),X(y,A.img,0,0,A.paintWidth,A.paintHeight,0,-u,I,u),this.compose(),this.restore()}paintInlineImageXObjectGroup(S,I){if(!this.contentVisible)return;const u=this.ctx;let y;if(S.bitmap)y=S.bitmap;else{const r=S.width,A=S.height,G=this.cachedCanvases.getCanvas("inlineImage",r,A).context;f(G,S),y=this.applyTransferMapsToCanvas(G)}for(const r of I)u.save(),u.transform(...r.transform),u.scale(1,-1),X(u,y,r.x,r.y,r.w,r.h,0,-1,1,1),u.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(S){}markPointProps(S,I){}beginMarkedContent(S){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(S,I){S==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(I)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(S){const I=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(S);const u=this.ctx;this.pendingClip&&(I||(this.pendingClip===w?u.clip("evenodd"):u.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),u.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const S=(0,Ae.getCurrentTransform)(this.ctx);if(S[1]===0&&S[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(S[0]),Math.abs(S[3]));else{const I=Math.abs(S[0]*S[3]-S[2]*S[1]),u=Math.hypot(S[0],S[2]),y=Math.hypot(S[1],S[3]);this._cachedGetSinglePixelWidth=Math.max(u,y)/I}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:S}=this.current,{a:I,b:u,c:y,d:r}=this.ctx.getTransform();let A,E;if(u===0&&y===0){const G=Math.abs(I),ae=Math.abs(r);if(G===ae)if(S===0)A=E=1/G;else{const ce=G*S;A=E=ce<1?1/ce:1}else if(S===0)A=1/G,E=1/ae;else{const ce=G*S,Ie=ae*S;A=ce<1?1/ce:1,E=Ie<1?1/Ie:1}}else{const G=Math.abs(I*r-u*y),ae=Math.hypot(I,u),ce=Math.hypot(y,r);if(S===0)A=ce/G,E=ae/G;else{const Ie=S*G;A=ce>Ie?ce/Ie:1,E=ae>Ie?ae/Ie:1}}this._cachedScaleForStroking[0]=A,this._cachedScaleForStroking[1]=E}return this._cachedScaleForStroking}rescaleAndStroke(S){const{ctx:I}=this,{lineWidth:u}=this.current,[y,r]=this.getScaleForStroking();if(I.lineWidth=u||1,y===1&&r===1){I.stroke();return}const A=I.getLineDash();if(S&&I.save(),I.scale(y,r),A.length>0){const E=Math.max(y,r);I.setLineDash(A.map(G=>G/E)),I.lineDashOffset/=E}I.stroke(),S&&I.restore()}isContentVisible(){for(let S=this.markedContentStack.length-1;S>=0;S--)if(!this.markedContentStack[S].visible)return!1;return!0}};l=new WeakSet,p0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},D=new WeakSet,m0=function(){if(this.pageColors){const S=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(S!=="none"){const I=this.ctx.filter;this.ctx.filter=S,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=I}}};let q=N;s.CanvasGraphics=q;for(const v in V.OPS)q.prototype[v]!==void 0&&(q.prototype[V.OPS[v]]=q.prototype[v])},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=t;var V=M(1),Ae=M(6);const _e={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=_e;function Pe(L,O){if(!O)return;const f=O[2]-O[0],p=O[3]-O[1],i=new Path2D;i.rect(O[0],O[1],f,p),L.clip(i)}class h{constructor(){this.constructor===h&&(0,V.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,V.unreachable)("Abstract method `getPattern` called.")}}class re extends h{constructor(O){super(),this._type=O[1],this._bbox=O[2],this._colorStops=O[3],this._p0=O[4],this._p1=O[5],this._r0=O[6],this._r1=O[7],this.matrix=null}_createGradient(O){let f;this._type==="axial"?f=O.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(f=O.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const p of this._colorStops)f.addColorStop(p[0],p[1]);return f}getPattern(O,f,p,i){let T;if(i===_e.STROKE||i===_e.FILL){const F=f.current.getClippedPathBoundingBox(i,(0,Ae.getCurrentTransform)(O))||[0,0,0,0],P=Math.ceil(F[2]-F[0])||1,C=Math.ceil(F[3]-F[1])||1,H=f.cachedCanvases.getCanvas("pattern",P,C,!0),$=H.context;$.clearRect(0,0,$.canvas.width,$.canvas.height),$.beginPath(),$.rect(0,0,$.canvas.width,$.canvas.height),$.translate(-F[0],-F[1]),p=V.Util.transform(p,[1,0,0,1,F[0],F[1]]),$.transform(...f.baseTransform),this.matrix&&$.transform(...this.matrix),Pe($,this._bbox),$.fillStyle=this._createGradient($),$.fill(),T=O.createPattern(H.canvas,"no-repeat");const se=new DOMMatrix(p);T.setTransform(se)}else Pe(O,this._bbox),T=this._createGradient(O);return T}}function n(L,O,f,p,i,T,F,P){const C=O.coords,H=O.colors,$=L.data,se=L.width*4;let _;C[f+1]>C[p+1]&&(_=f,f=p,p=_,_=T,T=F,F=_),C[p+1]>C[i+1]&&(_=p,p=i,i=_,_=F,F=P,P=_),C[f+1]>C[p+1]&&(_=f,f=p,p=_,_=T,T=F,F=_);const Q=(C[f]+O.offsetX)*O.scaleX,d=(C[f+1]+O.offsetY)*O.scaleY,w=(C[p]+O.offsetX)*O.scaleX,q=(C[p+1]+O.offsetY)*O.scaleY,l=(C[i]+O.offsetX)*O.scaleX,b=(C[i+1]+O.offsetY)*O.scaleY;if(d>=b)return;const D=H[T],Z=H[T+1],N=H[T+2],v=H[F],S=H[F+1],I=H[F+2],u=H[P],y=H[P+1],r=H[P+2],A=Math.round(d),E=Math.round(b);let G,ae,ce,Ie,fe,Te,be,ve;for(let te=A;te<=E;te++){if(te<q){const we=te<d?0:(d-te)/(d-q);G=Q-(Q-w)*we,ae=D-(D-v)*we,ce=Z-(Z-S)*we,Ie=N-(N-I)*we}else{let we;te>b?we=1:q===b?we=0:we=(q-te)/(q-b),G=w-(w-l)*we,ae=v-(v-u)*we,ce=S-(S-y)*we,Ie=I-(I-r)*we}let ie;te<d?ie=0:te>b?ie=1:ie=(d-te)/(d-b),fe=Q-(Q-l)*ie,Te=D-(D-u)*ie,be=Z-(Z-y)*ie,ve=N-(N-r)*ie;const ge=Math.round(Math.min(G,fe)),he=Math.round(Math.max(G,fe));let ue=se*te+ge*4;for(let we=ge;we<=he;we++)ie=(G-we)/(G-fe),ie<0?ie=0:ie>1&&(ie=1),$[ue++]=ae-(ae-Te)*ie|0,$[ue++]=ce-(ce-be)*ie|0,$[ue++]=Ie-(Ie-ve)*ie|0,$[ue++]=255}}function x(L,O,f){const p=O.coords,i=O.colors;let T,F;switch(O.type){case"lattice":const P=O.verticesPerRow,C=Math.floor(p.length/P)-1,H=P-1;for(T=0;T<C;T++){let $=T*P;for(let se=0;se<H;se++,$++)n(L,f,p[$],p[$+1],p[$+P],i[$],i[$+1],i[$+P]),n(L,f,p[$+P+1],p[$+1],p[$+P],i[$+P+1],i[$+1],i[$+P])}break;case"triangles":for(T=0,F=p.length;T<F;T+=3)n(L,f,p[T],p[T+1],p[T+2],i[T],i[T+1],i[T+2]);break;default:throw new Error("illegal figure")}}class U extends h{constructor(O){super(),this._coords=O[2],this._colors=O[3],this._figures=O[4],this._bounds=O[5],this._bbox=O[7],this._background=O[8],this.matrix=null}_createMeshCanvas(O,f,p){const P=Math.floor(this._bounds[0]),C=Math.floor(this._bounds[1]),H=Math.ceil(this._bounds[2])-P,$=Math.ceil(this._bounds[3])-C,se=Math.min(Math.ceil(Math.abs(H*O[0]*1.1)),3e3),_=Math.min(Math.ceil(Math.abs($*O[1]*1.1)),3e3),Q=H/se,d=$/_,w={coords:this._coords,colors:this._colors,offsetX:-P,offsetY:-C,scaleX:1/Q,scaleY:1/d},q=se+2*2,l=_+2*2,b=p.getCanvas("mesh",q,l,!1),D=b.context,Z=D.createImageData(se,_);if(f){const v=Z.data;for(let S=0,I=v.length;S<I;S+=4)v[S]=f[0],v[S+1]=f[1],v[S+2]=f[2],v[S+3]=255}for(const v of this._figures)x(Z,v,w);return D.putImageData(Z,2,2),{canvas:b.canvas,offsetX:P-2*Q,offsetY:C-2*d,scaleX:Q,scaleY:d}}getPattern(O,f,p,i){Pe(O,this._bbox);let T;if(i===_e.SHADING)T=V.Util.singularValueDecompose2dScale((0,Ae.getCurrentTransform)(O));else if(T=V.Util.singularValueDecompose2dScale(f.baseTransform),this.matrix){const P=V.Util.singularValueDecompose2dScale(this.matrix);T=[T[0]*P[0],T[1]*P[1]]}const F=this._createMeshCanvas(T,i===_e.SHADING?null:this._background,f.cachedCanvases);return i!==_e.SHADING&&(O.setTransform(...f.baseTransform),this.matrix&&O.transform(...this.matrix)),O.translate(F.offsetX,F.offsetY),O.scale(F.scaleX,F.scaleY),O.createPattern(F.canvas,"no-repeat")}}class e extends h{getPattern(){return"hotpink"}}function t(L){switch(L[0]){case"RadialAxial":return new re(L);case"Mesh":return new U(L);case"Dummy":return new e}throw new Error(`Unknown IR type: ${L[0]}`)}const o={COLORED:1,UNCOLORED:2},X=class X{constructor(O,f,p,i,T){this.operatorList=O[2],this.matrix=O[3]||[1,0,0,1,0,0],this.bbox=O[4],this.xstep=O[5],this.ystep=O[6],this.paintType=O[7],this.tilingType=O[8],this.color=f,this.ctx=p,this.canvasGraphicsFactory=i,this.baseTransform=T}createPatternCanvas(O){const f=this.operatorList,p=this.bbox,i=this.xstep,T=this.ystep,F=this.paintType,P=this.tilingType,C=this.color,H=this.canvasGraphicsFactory;(0,V.info)("TilingType: "+P);const $=p[0],se=p[1],_=p[2],Q=p[3],d=V.Util.singularValueDecompose2dScale(this.matrix),w=V.Util.singularValueDecompose2dScale(this.baseTransform),q=[d[0]*w[0],d[1]*w[1]],l=this.getSizeAndScale(i,this.ctx.canvas.width,q[0]),b=this.getSizeAndScale(T,this.ctx.canvas.height,q[1]),D=O.cachedCanvases.getCanvas("pattern",l.size,b.size,!0),Z=D.context,N=H.createCanvasGraphics(Z);N.groupLevel=O.groupLevel,this.setFillAndStrokeStyleToContext(N,F,C);let v=$,S=se,I=_,u=Q;return $<0&&(v=0,I+=Math.abs($)),se<0&&(S=0,u+=Math.abs(se)),Z.translate(-(l.scale*v),-(b.scale*S)),N.transform(l.scale,0,0,b.scale,0,0),Z.save(),this.clipBbox(N,v,S,I,u),N.baseTransform=(0,Ae.getCurrentTransform)(N.ctx),N.executeOperatorList(f),N.endDrawing(),{canvas:D.canvas,scaleX:l.scale,scaleY:b.scale,offsetX:v,offsetY:S}}getSizeAndScale(O,f,p){O=Math.abs(O);const i=Math.max(X.MAX_PATTERN_SIZE,f);let T=Math.ceil(O*p);return T>=i?T=i:p=T/O,{scale:p,size:T}}clipBbox(O,f,p,i,T){const F=i-f,P=T-p;O.ctx.rect(f,p,F,P),O.current.updateRectMinMax((0,Ae.getCurrentTransform)(O.ctx),[f,p,i,T]),O.clip(),O.endPath()}setFillAndStrokeStyleToContext(O,f,p){const i=O.ctx,T=O.current;switch(f){case o.COLORED:const F=this.ctx;i.fillStyle=F.fillStyle,i.strokeStyle=F.strokeStyle,T.fillColor=F.fillStyle,T.strokeColor=F.strokeStyle;break;case o.UNCOLORED:const P=V.Util.makeHexColor(p[0],p[1],p[2]);i.fillStyle=P,i.strokeStyle=P,T.fillColor=P,T.strokeColor=P;break;default:throw new V.FormatError(`Unsupported paint type: ${f}`)}}getPattern(O,f,p,i){let T=p;i!==_e.SHADING&&(T=V.Util.transform(T,f.baseTransform),this.matrix&&(T=V.Util.transform(T,this.matrix)));const F=this.createPatternCanvas(f);let P=new DOMMatrix(T);P=P.translate(F.offsetX,F.offsetY),P=P.scale(1/F.scaleX,1/F.scaleY);const C=O.createPattern(F.canvas,"repeat");return C.setTransform(P),C}};br(X,"MAX_PATTERN_SIZE",3e3);let K=X;s.TilingPattern=K},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=_e,s.convertToRGBA=Ae,s.grayToRGBA=h;var V=M(1);function Ae(re){switch(re.kind){case V.ImageKind.GRAYSCALE_1BPP:return _e(re);case V.ImageKind.RGB_24BPP:return Pe(re)}return null}function _e({src:re,srcPos:n=0,dest:x,width:U,height:e,nonBlackColor:t=4294967295,inverseDecode:o=!1}){const K=V.FeatureTest.isLittleEndian?4278190080:255,[X,L]=o?[t,K]:[K,t],O=U>>3,f=U&7,p=re.length;x=new Uint32Array(x.buffer);let i=0;for(let T=0;T<e;T++){for(const P=n+O;n<P;n++){const C=n<p?re[n]:255;x[i++]=C&128?L:X,x[i++]=C&64?L:X,x[i++]=C&32?L:X,x[i++]=C&16?L:X,x[i++]=C&8?L:X,x[i++]=C&4?L:X,x[i++]=C&2?L:X,x[i++]=C&1?L:X}if(f===0)continue;const F=n<p?re[n++]:255;for(let P=0;P<f;P++)x[i++]=F&1<<7-P?L:X}return{srcPos:n,destPos:i}}function Pe({src:re,srcPos:n=0,dest:x,destPos:U=0,width:e,height:t}){let o=0;const K=re.length>>2,X=new Uint32Array(re.buffer,n,K);if(V.FeatureTest.isLittleEndian){for(;o<K-2;o+=3,U+=4){const L=X[o],O=X[o+1],f=X[o+2];x[U]=L|4278190080,x[U+1]=L>>>24|O<<8|4278190080,x[U+2]=O>>>16|f<<16|4278190080,x[U+3]=f>>>8|4278190080}for(let L=o*4,O=re.length;L<O;L+=3)x[U++]=re[L]|re[L+1]<<8|re[L+2]<<16|4278190080}else{for(;o<K-2;o+=3,U+=4){const L=X[o],O=X[o+1],f=X[o+2];x[U]=L|255,x[U+1]=L<<24|O>>>8|255,x[U+2]=O<<16|f>>>16|255,x[U+3]=f<<8|255}for(let L=o*4,O=re.length;L<O;L+=3)x[U++]=re[L]<<24|re[L+1]<<16|re[L+2]<<8|255}return{srcPos:n,destPos:U}}function h(re,n){if(V.FeatureTest.isLittleEndian)for(let x=0,U=re.length;x<U;x++)n[x]=re[x]*65793|4278190080;else for(let x=0,U=re.length;x<U;x++)n[x]=re[x]*16843008|255}},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const M=Object.create(null);s.GlobalWorkerOptions=M,M.workerPort=null,M.workerSrc=""},(a,s,M)=>{var re,Eh,x,kh,e,pA;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var V=M(1);const Ae={UNKNOWN:0,DATA:1,ERROR:2},_e={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Pe(o){switch(o instanceof Error||typeof o=="object"&&o!==null||(0,V.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),o.name){case"AbortException":return new V.AbortException(o.message);case"MissingPDFException":return new V.MissingPDFException(o.message);case"PasswordException":return new V.PasswordException(o.message,o.code);case"UnexpectedResponseException":return new V.UnexpectedResponseException(o.message,o.status);case"UnknownErrorException":return new V.UnknownErrorException(o.message,o.details);default:return new V.UnknownErrorException(o.message,o.toString())}}class h{constructor(K,X,L){ct(this,re);ct(this,x);ct(this,e);this.sourceName=K,this.targetName=X,this.comObj=L,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=O=>{const f=O.data;if(f.targetName!==this.sourceName)return;if(f.stream){dt(this,x,kh).call(this,f);return}if(f.callback){const i=f.callbackId,T=this.callbackCapabilities[i];if(!T)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],f.callback===Ae.DATA)T.resolve(f.data);else if(f.callback===Ae.ERROR)T.reject(Pe(f.reason));else throw new Error("Unexpected callback case");return}const p=this.actionHandler[f.action];if(!p)throw new Error(`Unknown action from worker: ${f.action}`);if(f.callbackId){const i=this.sourceName,T=f.sourceName;new Promise(function(F){F(p(f.data))}).then(function(F){L.postMessage({sourceName:i,targetName:T,callback:Ae.DATA,callbackId:f.callbackId,data:F})},function(F){L.postMessage({sourceName:i,targetName:T,callback:Ae.ERROR,callbackId:f.callbackId,reason:Pe(F)})});return}if(f.streamId){dt(this,re,Eh).call(this,f);return}p(f.data)},L.addEventListener("message",this._onComObjOnMessage)}on(K,X){const L=this.actionHandler;if(L[K])throw new Error(`There is already an actionName called "${K}"`);L[K]=X}send(K,X,L){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:K,data:X},L)}sendWithPromise(K,X,L){const O=this.callbackId++,f=new V.PromiseCapability;this.callbackCapabilities[O]=f;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:K,callbackId:O,data:X},L)}catch(p){f.reject(p)}return f.promise}sendWithStream(K,X,L,O){const f=this.streamId++,p=this.sourceName,i=this.targetName,T=this.comObj;return new ReadableStream({start:F=>{const P=new V.PromiseCapability;return this.streamControllers[f]={controller:F,startCall:P,pullCall:null,cancelCall:null,isClosed:!1},T.postMessage({sourceName:p,targetName:i,action:K,streamId:f,data:X,desiredSize:F.desiredSize},O),P.promise},pull:F=>{const P=new V.PromiseCapability;return this.streamControllers[f].pullCall=P,T.postMessage({sourceName:p,targetName:i,stream:_e.PULL,streamId:f,desiredSize:F.desiredSize}),P.promise},cancel:F=>{(0,V.assert)(F instanceof Error,"cancel must have a valid reason");const P=new V.PromiseCapability;return this.streamControllers[f].cancelCall=P,this.streamControllers[f].isClosed=!0,T.postMessage({sourceName:p,targetName:i,stream:_e.CANCEL,streamId:f,reason:Pe(F)}),P.promise}},L)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}re=new WeakSet,Eh=function(K){const X=K.streamId,L=this.sourceName,O=K.sourceName,f=this.comObj,p=this,i=this.actionHandler[K.action],T={enqueue(F,P=1,C){if(this.isCancelled)return;const H=this.desiredSize;this.desiredSize-=P,H>0&&this.desiredSize<=0&&(this.sinkCapability=new V.PromiseCapability,this.ready=this.sinkCapability.promise),f.postMessage({sourceName:L,targetName:O,stream:_e.ENQUEUE,streamId:X,chunk:F},C)},close(){this.isCancelled||(this.isCancelled=!0,f.postMessage({sourceName:L,targetName:O,stream:_e.CLOSE,streamId:X}),delete p.streamSinks[X])},error(F){(0,V.assert)(F instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:L,targetName:O,stream:_e.ERROR,streamId:X,reason:Pe(F)}))},sinkCapability:new V.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:K.desiredSize,ready:null};T.sinkCapability.resolve(),T.ready=T.sinkCapability.promise,this.streamSinks[X]=T,new Promise(function(F){F(i(K.data,T))}).then(function(){f.postMessage({sourceName:L,targetName:O,stream:_e.START_COMPLETE,streamId:X,success:!0})},function(F){f.postMessage({sourceName:L,targetName:O,stream:_e.START_COMPLETE,streamId:X,reason:Pe(F)})})},x=new WeakSet,kh=function(K){const X=K.streamId,L=this.sourceName,O=K.sourceName,f=this.comObj,p=this.streamControllers[X],i=this.streamSinks[X];switch(K.stream){case _e.START_COMPLETE:K.success?p.startCall.resolve():p.startCall.reject(Pe(K.reason));break;case _e.PULL_COMPLETE:K.success?p.pullCall.resolve():p.pullCall.reject(Pe(K.reason));break;case _e.PULL:if(!i){f.postMessage({sourceName:L,targetName:O,stream:_e.PULL_COMPLETE,streamId:X,success:!0});break}i.desiredSize<=0&&K.desiredSize>0&&i.sinkCapability.resolve(),i.desiredSize=K.desiredSize,new Promise(function(T){var F;T((F=i.onPull)==null?void 0:F.call(i))}).then(function(){f.postMessage({sourceName:L,targetName:O,stream:_e.PULL_COMPLETE,streamId:X,success:!0})},function(T){f.postMessage({sourceName:L,targetName:O,stream:_e.PULL_COMPLETE,streamId:X,reason:Pe(T)})});break;case _e.ENQUEUE:if((0,V.assert)(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(K.chunk);break;case _e.CLOSE:if((0,V.assert)(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),dt(this,e,pA).call(this,p,X);break;case _e.ERROR:(0,V.assert)(p,"error should have stream controller"),p.controller.error(Pe(K.reason)),dt(this,e,pA).call(this,p,X);break;case _e.CANCEL_COMPLETE:K.success?p.cancelCall.resolve():p.cancelCall.reject(Pe(K.reason)),dt(this,e,pA).call(this,p,X);break;case _e.CANCEL:if(!i)break;new Promise(function(T){var F;T((F=i.onCancel)==null?void 0:F.call(i,Pe(K.reason)))}).then(function(){f.postMessage({sourceName:L,targetName:O,stream:_e.CANCEL_COMPLETE,streamId:X,success:!0})},function(T){f.postMessage({sourceName:L,targetName:O,stream:_e.CANCEL_COMPLETE,streamId:X,reason:Pe(T)})}),i.sinkCapability.reject(Pe(K.reason)),i.isCancelled=!0,delete this.streamSinks[X];break;default:throw new Error("Unexpected stream case")}},e=new WeakSet,pA=async function(K,X){var L,O,f;await Promise.allSettled([(L=K.startCall)==null?void 0:L.promise,(O=K.pullCall)==null?void 0:O.promise,(f=K.cancelCall)==null?void 0:f.promise]),delete this.streamControllers[X]},s.MessageHandler=h},(a,s,M)=>{var _e,Pe;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var V=M(1);class Ae{constructor({parsedData:re,rawData:n}){ct(this,_e,void 0);ct(this,Pe,void 0);Pt(this,_e,re),Pt(this,Pe,n)}getRaw(){return Ue(this,Pe)}get(re){return Ue(this,_e).get(re)??null}getAll(){return(0,V.objectFromMap)(Ue(this,_e))}has(re){return Ue(this,_e).has(re)}}_e=new WeakMap,Pe=new WeakMap,s.Metadata=Ae},(a,s,M)=>{var re,n,x,U,e,t,x0;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var V=M(1),Ae=M(8);const _e=Symbol("INTERNAL");class Pe{constructor(X,L){ct(this,re,!0);this.name=X,this.intent=L}get visible(){return Ue(this,re)}_setVisible(X,L){X!==_e&&(0,V.unreachable)("Internal method `_setVisible` called."),Pt(this,re,L)}}re=new WeakMap;class h{constructor(X){ct(this,t);ct(this,n,null);ct(this,x,new Map);ct(this,U,null);ct(this,e,null);if(this.name=null,this.creator=null,X!==null){this.name=X.name,this.creator=X.creator,Pt(this,e,X.order);for(const L of X.groups)Ue(this,x).set(L.id,new Pe(L.name,L.intent));if(X.baseState==="OFF")for(const L of Ue(this,x).values())L._setVisible(_e,!1);for(const L of X.on)Ue(this,x).get(L)._setVisible(_e,!0);for(const L of X.off)Ue(this,x).get(L)._setVisible(_e,!1);Pt(this,U,this.getHash())}}isVisible(X){if(Ue(this,x).size===0)return!0;if(!X)return(0,V.warn)("Optional content group not defined."),!0;if(X.type==="OCG")return Ue(this,x).has(X.id)?Ue(this,x).get(X.id).visible:((0,V.warn)(`Optional content group not found: ${X.id}`),!0);if(X.type==="OCMD"){if(X.expression)return dt(this,t,x0).call(this,X.expression);if(!X.policy||X.policy==="AnyOn"){for(const L of X.ids){if(!Ue(this,x).has(L))return(0,V.warn)(`Optional content group not found: ${L}`),!0;if(Ue(this,x).get(L).visible)return!0}return!1}else if(X.policy==="AllOn"){for(const L of X.ids){if(!Ue(this,x).has(L))return(0,V.warn)(`Optional content group not found: ${L}`),!0;if(!Ue(this,x).get(L).visible)return!1}return!0}else if(X.policy==="AnyOff"){for(const L of X.ids){if(!Ue(this,x).has(L))return(0,V.warn)(`Optional content group not found: ${L}`),!0;if(!Ue(this,x).get(L).visible)return!0}return!1}else if(X.policy==="AllOff"){for(const L of X.ids){if(!Ue(this,x).has(L))return(0,V.warn)(`Optional content group not found: ${L}`),!0;if(Ue(this,x).get(L).visible)return!1}return!0}return(0,V.warn)(`Unknown optional content policy ${X.policy}.`),!0}return(0,V.warn)(`Unknown group type ${X.type}.`),!0}setVisibility(X,L=!0){if(!Ue(this,x).has(X)){(0,V.warn)(`Optional content group not found: ${X}`);return}Ue(this,x).get(X)._setVisible(_e,!!L),Pt(this,n,null)}get hasInitialVisibility(){return Ue(this,U)===null||this.getHash()===Ue(this,U)}getOrder(){return Ue(this,x).size?Ue(this,e)?Ue(this,e).slice():[...Ue(this,x).keys()]:null}getGroups(){return Ue(this,x).size>0?(0,V.objectFromMap)(Ue(this,x)):null}getGroup(X){return Ue(this,x).get(X)||null}getHash(){if(Ue(this,n)!==null)return Ue(this,n);const X=new Ae.MurmurHash3_64;for(const[L,O]of Ue(this,x))X.update(`${L}:${O.visible}`);return Pt(this,n,X.hexdigest())}}n=new WeakMap,x=new WeakMap,U=new WeakMap,e=new WeakMap,t=new WeakSet,x0=function(X){const L=X.length;if(L<2)return!0;const O=X[0];for(let f=1;f<L;f++){const p=X[f];let i;if(Array.isArray(p))i=dt(this,t,x0).call(this,p);else if(Ue(this,x).has(p))i=Ue(this,x).get(p).visible;else return(0,V.warn)(`Optional content group not found: ${p}`),!0;switch(O){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return O==="And"},s.OptionalContentConfig=h},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var V=M(1),Ae=M(6);class _e{constructor({length:n,initialData:x,progressiveDone:U=!1,contentDispositionFilename:e=null,disableRange:t=!1,disableStream:o=!1},K){if((0,V.assert)(K,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=U,this._contentDispositionFilename=e,(x==null?void 0:x.length)>0){const X=x instanceof Uint8Array&&x.byteLength===x.buffer.byteLength?x.buffer:new Uint8Array(x).buffer;this._queuedChunks.push(X)}this._pdfDataRangeTransport=K,this._isStreamingSupported=!o,this._isRangeSupported=!t,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((X,L)=>{this._onReceiveData({begin:X,chunk:L})}),this._pdfDataRangeTransport.addProgressListener((X,L)=>{this._onProgress({loaded:X,total:L})}),this._pdfDataRangeTransport.addProgressiveReadListener(X=>{this._onReceiveData({chunk:X})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:n,chunk:x}){const U=x instanceof Uint8Array&&x.byteLength===x.buffer.byteLength?x.buffer:new Uint8Array(x).buffer;if(n===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(U):this._queuedChunks.push(U);else{const e=this._rangeReaders.some(function(t){return t._begin!==n?!1:(t._enqueue(U),!0)});(0,V.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var n;return((n=this._fullRequestReader)==null?void 0:n._loaded)??0}_onProgress(n){var x,U,e,t;n.total===void 0?(U=(x=this._rangeReaders[0])==null?void 0:x.onProgress)==null||U.call(x,{loaded:n.loaded}):(t=(e=this._fullRequestReader)==null?void 0:e.onProgress)==null||t.call(e,{loaded:n.loaded,total:n.total})}_onProgressiveDone(){var n;(n=this._fullRequestReader)==null||n.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(n){const x=this._rangeReaders.indexOf(n);x>=0&&this._rangeReaders.splice(x,1)}getFullReader(){(0,V.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const n=this._queuedChunks;return this._queuedChunks=null,new Pe(this,n,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(n,x){if(x<=this._progressiveDataLength)return null;const U=new h(this,n,x);return this._pdfDataRangeTransport.requestDataRange(n,x),this._rangeReaders.push(U),U}cancelAllRequests(n){var x;(x=this._fullRequestReader)==null||x.cancel(n);for(const U of this._rangeReaders.slice(0))U.cancel(n);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=_e;class Pe{constructor(n,x,U=!1,e=null){this._stream=n,this._done=U||!1,this._filename=(0,Ae.isPdfFile)(e)?e:null,this._queuedChunks=x||[],this._loaded=0;for(const t of this._queuedChunks)this._loaded+=t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),n._fullRequestReader=this,this.onProgress=null}_enqueue(n){this._done||(this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunks.push(n),this._loaded+=n.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const n=new V.PromiseCapability;return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h{constructor(n,x,U){this._stream=n,this._begin=x,this._end=U,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(n){if(!this._done){if(this._requests.length===0)this._queuedChunk=n;else{this._requests.shift().resolve({value:n,done:!1});for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const x=this._queuedChunk;return this._queuedChunk=null,{value:x,done:!1}}if(this._done)return{value:void 0,done:!0};const n=new V.PromiseCapability;return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var V=M(1),Ae=M(20);function _e(U,e,t){return{method:"GET",headers:U,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Pe(U){const e=new Headers;for(const t in U){const o=U[t];o!==void 0&&e.append(t,o)}return e}function h(U){return U instanceof Uint8Array?U.buffer:U instanceof ArrayBuffer?U:((0,V.warn)(`getArrayBuffer - unexpected data format: ${U}`),new Uint8Array(U).buffer)}class re{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return(0,V.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new n(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const o=new x(this,e,t);return this._rangeRequestReaders.push(o),o}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const o of this._rangeRequestReaders.slice(0))o.cancel(e)}}s.PDFFetchStream=re;class n{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new V.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Pe(this._stream.httpHeaders);const o=t.url;fetch(o,_e(this._headers,this._withCredentials,this._abortController)).then(K=>{if(!(0,Ae.validateResponseStatus)(K.status))throw(0,Ae.createResponseStatusError)(K.status,o);this._reader=K.body.getReader(),this._headersCapability.resolve();const X=f=>K.headers.get(f),{allowRangeRequests:L,suggestedLength:O}=(0,Ae.validateRangeRequestCapabilities)({getResponseHeader:X,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=L,this._contentLength=O||this._contentLength,this._filename=(0,Ae.extractFilenameFromHeader)(X),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new V.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded,total:this._contentLength}),{value:h(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class x{constructor(e,t,o){this._stream=e,this._reader=null,this._loaded=0;const K=e.source;this._withCredentials=K.withCredentials||!1,this._readCapability=new V.PromiseCapability,this._isStreamingSupported=!K.disableStream,this._abortController=new AbortController,this._headers=Pe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${o-1}`);const X=K.url;fetch(X,_e(this._headers,this._withCredentials,this._abortController)).then(L=>{if(!(0,Ae.validateResponseStatus)(L.status))throw(0,Ae.createResponseStatusError)(L.status,X);this._readCapability.resolve(),this._reader=L.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded}),{value:h(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=re,s.extractFilenameFromHeader=h,s.validateRangeRequestCapabilities=Pe,s.validateResponseStatus=n;var V=M(1),Ae=M(21),_e=M(6);function Pe({getResponseHeader:x,isHttp:U,rangeChunkSize:e,disableRange:t}){const o={allowRangeRequests:!1,suggestedLength:void 0},K=parseInt(x("Content-Length"),10);return!Number.isInteger(K)||(o.suggestedLength=K,K<=2*e)||t||!U||x("Accept-Ranges")!=="bytes"||(x("Content-Encoding")||"identity")!=="identity"||(o.allowRangeRequests=!0),o}function h(x){const U=x("Content-Disposition");if(U){let e=(0,Ae.getFilenameFromContentDispositionHeader)(U);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,_e.isPdfFile)(e))return e}return null}function re(x,U){return x===404||x===0&&U.startsWith("file:")?new V.MissingPDFException('Missing PDF "'+U+'".'):new V.UnexpectedResponseException(`Unexpected server response (${x}) while retrieving PDF "${U}".`,x)}function n(x){return x===200||x===206}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=Ae;var V=M(1);function Ae(_e){let Pe=!0,h=re("filename\\*","i").exec(_e);if(h){h=h[1];let K=e(h);return K=unescape(K),K=t(K),K=o(K),x(K)}if(h=U(_e),h){const K=o(h);return x(K)}if(h=re("filename","i").exec(_e),h){h=h[1];let K=e(h);return K=o(K),x(K)}function re(K,X){return new RegExp("(?:^|;)\\s*"+K+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',X)}function n(K,X){if(K){if(!/^[\x00-\xFF]+$/.test(X))return X;try{const L=new TextDecoder(K,{fatal:!0}),O=(0,V.stringToBytes)(X);X=L.decode(O),Pe=!1}catch{}}return X}function x(K){return Pe&&/[\x80-\xff]/.test(K)&&(K=n("utf-8",K),Pe&&(K=n("iso-8859-1",K))),K}function U(K){const X=[];let L;const O=re("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(L=O.exec(K))!==null;){let[,p,i,T]=L;if(p=parseInt(p,10),p in X){if(p===0)break;continue}X[p]=[i,T]}const f=[];for(let p=0;p<X.length&&p in X;++p){let[i,T]=X[p];T=e(T),i&&(T=unescape(T),p===0&&(T=t(T))),f.push(T)}return f.join("")}function e(K){if(K.startsWith('"')){const X=K.slice(1).split('\\"');for(let L=0;L<X.length;++L){const O=X[L].indexOf('"');O!==-1&&(X[L]=X[L].slice(0,O),X.length=L+1),X[L]=X[L].replaceAll(/\\(.)/g,"$1")}K=X.join('"')}return K}function t(K){const X=K.indexOf("'");if(X===-1)return K;const L=K.slice(0,X),f=K.slice(X+1).replace(/^[^']*'/,"");return n(L,f)}function o(K){return!K.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(K)?K:K.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(X,L,O,f){if(O==="q"||O==="Q")return f=f.replaceAll("_"," "),f=f.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,i){return String.fromCharCode(parseInt(i,16))}),n(L,f);try{f=atob(f)}catch{}return n(L,f)})}return""}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var V=M(1),Ae=M(20);const _e=200,Pe=206;function h(e){const t=e.response;return typeof t!="string"?t:(0,V.stringToBytes)(t).buffer}class re{constructor(t,o={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&o.httpHeaders||Object.create(null),this.withCredentials=o.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,o,K){const X={begin:t,end:o};for(const L in K)X[L]=K[L];return this.request(X)}requestFull(t){return this.request(t)}request(t){const o=new XMLHttpRequest,K=this.currXhrId++,X=this.pendingRequests[K]={xhr:o};o.open("GET",this.url),o.withCredentials=this.withCredentials;for(const L in this.httpHeaders){const O=this.httpHeaders[L];O!==void 0&&o.setRequestHeader(L,O)}return this.isHttp&&"begin"in t&&"end"in t?(o.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),X.expectedStatus=Pe):X.expectedStatus=_e,o.responseType="arraybuffer",t.onError&&(o.onerror=function(L){t.onError(o.status)}),o.onreadystatechange=this.onStateChange.bind(this,K),o.onprogress=this.onProgress.bind(this,K),X.onHeadersReceived=t.onHeadersReceived,X.onDone=t.onDone,X.onError=t.onError,X.onProgress=t.onProgress,o.send(null),K}onProgress(t,o){var X;const K=this.pendingRequests[t];K&&((X=K.onProgress)==null||X.call(K,o))}onStateChange(t,o){var p,i,T;const K=this.pendingRequests[t];if(!K)return;const X=K.xhr;if(X.readyState>=2&&K.onHeadersReceived&&(K.onHeadersReceived(),delete K.onHeadersReceived),X.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],X.status===0&&this.isHttp){(p=K.onError)==null||p.call(K,X.status);return}const L=X.status||_e;if(!(L===_e&&K.expectedStatus===Pe)&&L!==K.expectedStatus){(i=K.onError)==null||i.call(K,X.status);return}const f=h(X);if(L===Pe){const F=X.getResponseHeader("Content-Range"),P=/bytes (\d+)-(\d+)\/(\d+)/.exec(F);K.onDone({begin:parseInt(P[1],10),chunk:f})}else f?K.onDone({begin:0,chunk:f}):(T=K.onError)==null||T.call(K,X.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const o=this.pendingRequests[t].xhr;delete this.pendingRequests[t],o.abort()}}class n{constructor(t){this._source=t,this._manager=new re(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const o=this._rangeRequestReaders.indexOf(t);o>=0&&this._rangeRequestReaders.splice(o,1)}getFullReader(){return(0,V.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new x(this._manager,this._source),this._fullRequestReader}getRangeReader(t,o){const K=new U(this._manager,t,o);return K.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(K),K}cancelAllRequests(t){var o;(o=this._fullRequestReader)==null||o.cancel(t);for(const K of this._rangeRequestReaders.slice(0))K.cancel(t)}}s.PDFNetworkStream=n;class x{constructor(t,o){this._manager=t;const K={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=o.url,this._fullRequestId=t.requestFull(K),this._headersReceivedCapability=new V.PromiseCapability,this._disableRange=o.disableRange||!1,this._contentLength=o.length,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,o=this._manager.getRequestXhr(t),K=O=>o.getResponseHeader(O),{allowRangeRequests:X,suggestedLength:L}=(0,Ae.validateRangeRequestCapabilities)({getResponseHeader:K,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});X&&(this._isRangeSupported=!0),this._contentLength=L||this._contentLength,this._filename=(0,Ae.extractFilenameFromHeader)(K),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,Ae.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var o;(o=this.onProgress)==null||o.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=new V.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class U{constructor(t,o,K){this._manager=t;const X={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(o,K,X),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const o=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunk=o,this._done=!0;for(const K of this._requests)K.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,Ae.createResponseStatusError)(t,this._url);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var o;this.isStreamingSupported||(o=this.onProgress)==null||o.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const o=this._queuedChunk;return this._queuedChunk=null,{value:o,done:!1}}if(this._done)return{value:void 0,done:!0};const t=new V.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var V=M(1),Ae=M(20);const _e=/^file:\/\/\/[a-zA-Z]:\//;function Pe(K){const X=require$$5,L=X.parse(K);return L.protocol==="file:"||L.host?L:/^[a-z]:[/\\]/i.test(K)?X.parse(`file:///${K}`):(L.host||(L.protocol="file:"),L)}class h{constructor(X){this.source=X,this.url=Pe(X.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&X.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var X;return((X=this._fullRequestReader)==null?void 0:X._loaded)??0}getFullReader(){return(0,V.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new t(this):new U(this),this._fullRequestReader}getRangeReader(X,L){if(L<=this._progressiveDataLength)return null;const O=this.isFsUrl?new o(this,X,L):new e(this,X,L);return this._rangeRequestReaders.push(O),O}cancelAllRequests(X){var L;(L=this._fullRequestReader)==null||L.cancel(X);for(const O of this._rangeRequestReaders.slice(0))O.cancel(X)}}s.PDFNodeStream=h;class re{constructor(X){this._url=X.url,this._done=!1,this._storedError=null,this.onProgress=null;const L=X.source;this._contentLength=L.length,this._loaded=0,this._filename=null,this._disableRange=L.disableRange||!1,this._rangeChunkSize=L.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!L.disableStream,this._isRangeSupported=!L.disableRange,this._readableStream=null,this._readCapability=new V.PromiseCapability,this._headersCapability=new V.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var O;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const X=this._readableStream.read();return X===null?(this._readCapability=new V.PromiseCapability,this.read()):(this._loaded+=X.length,(O=this.onProgress)==null||O.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(X).buffer,done:!1})}cancel(X){if(!this._readableStream){this._error(X);return}this._readableStream.destroy(X)}_error(X){this._storedError=X,this._readCapability.resolve()}_setReadableStream(X){this._readableStream=X,X.on("readable",()=>{this._readCapability.resolve()}),X.on("end",()=>{X.destroy(),this._done=!0,this._readCapability.resolve()}),X.on("error",L=>{this._error(L)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new V.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class n{constructor(X){this._url=X.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new V.PromiseCapability;const L=X.source;this._isStreamingSupported=!L.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var O;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const X=this._readableStream.read();return X===null?(this._readCapability=new V.PromiseCapability,this.read()):(this._loaded+=X.length,(O=this.onProgress)==null||O.call(this,{loaded:this._loaded}),{value:new Uint8Array(X).buffer,done:!1})}cancel(X){if(!this._readableStream){this._error(X);return}this._readableStream.destroy(X)}_error(X){this._storedError=X,this._readCapability.resolve()}_setReadableStream(X){this._readableStream=X,X.on("readable",()=>{this._readCapability.resolve()}),X.on("end",()=>{X.destroy(),this._done=!0,this._readCapability.resolve()}),X.on("error",L=>{this._error(L)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function x(K,X){return{protocol:K.protocol,auth:K.auth,host:K.hostname,port:K.port,path:K.path,method:"GET",headers:X}}class U extends re{constructor(X){super(X);const L=O=>{if(O.statusCode===404){const T=new V.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=T,this._headersCapability.reject(T);return}this._headersCapability.resolve(),this._setReadableStream(O);const f=T=>this._readableStream.headers[T.toLowerCase()],{allowRangeRequests:p,suggestedLength:i}=(0,Ae.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:X.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=p,this._contentLength=i||this._contentLength,this._filename=(0,Ae.extractFilenameFromHeader)(f)};if(this._request=null,this._url.protocol==="http:"){const O=require$$5;this._request=O.request(x(this._url,X.httpHeaders),L)}else{const O=require$$5;this._request=O.request(x(this._url,X.httpHeaders),L)}this._request.on("error",O=>{this._storedError=O,this._headersCapability.reject(O)}),this._request.end()}}class e extends n{constructor(X,L,O){super(X),this._httpHeaders={};for(const p in X.httpHeaders){const i=X.httpHeaders[p];i!==void 0&&(this._httpHeaders[p]=i)}this._httpHeaders.Range=`bytes=${L}-${O-1}`;const f=p=>{if(p.statusCode===404){const i=new V.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=i;return}this._setReadableStream(p)};if(this._request=null,this._url.protocol==="http:"){const p=require$$5;this._request=p.request(x(this._url,this._httpHeaders),f)}else{const p=require$$5;this._request=p.request(x(this._url,this._httpHeaders),f)}this._request.on("error",p=>{this._storedError=p}),this._request.end()}}class t extends re{constructor(X){super(X);let L=decodeURIComponent(this._url.path);_e.test(this._url.href)&&(L=L.replace(/^\//,""));const O=require$$5;O.lstat(L,(f,p)=>{if(f){f.code==="ENOENT"&&(f=new V.MissingPDFException(`Missing PDF "${L}".`)),this._storedError=f,this._headersCapability.reject(f);return}this._contentLength=p.size,this._setReadableStream(O.createReadStream(L)),this._headersCapability.resolve()})}}class o extends n{constructor(X,L,O){super(X);let f=decodeURIComponent(this._url.path);_e.test(this._url.href)&&(f=f.replace(/^\//,""));const p=require$$5;this._setReadableStream(p.createReadStream(f,{start:L,end:O-1}))}}},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var V=M(6),Ae=M(1);const _e={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Pe="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",re=["butt","round","square"],n=["miter","round","bevel"],x=function(p,i="",T=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!T)return URL.createObjectURL(new Blob([p],{type:i}));const F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let P=`data:${i};base64,`;for(let C=0,H=p.length;C<H;C+=3){const $=p[C]&255,se=p[C+1]&255,_=p[C+2]&255,Q=$>>2,d=($&3)<<4|se>>4,w=C+1<H?(se&15)<<2|_>>6:64,q=C+2<H?_&63:64;P+=F[Q]+F[d]+F[w]+F[q]}return P},U=function(){const p=new Uint8Array([137,80,78,71,13,10,26,10]),i=12,T=new Int32Array(256);for(let _=0;_<256;_++){let Q=_;for(let d=0;d<8;d++)Q=Q&1?3988292384^Q>>1&2147483647:Q>>1&2147483647;T[_]=Q}function F(_,Q,d){let w=-1;for(let q=Q;q<d;q++){const l=(w^_[q])&255,b=T[l];w=w>>>8^b}return w^-1}function P(_,Q,d,w){let q=w;const l=Q.length;d[q]=l>>24&255,d[q+1]=l>>16&255,d[q+2]=l>>8&255,d[q+3]=l&255,q+=4,d[q]=_.charCodeAt(0)&255,d[q+1]=_.charCodeAt(1)&255,d[q+2]=_.charCodeAt(2)&255,d[q+3]=_.charCodeAt(3)&255,q+=4,d.set(Q,q),q+=Q.length;const b=F(d,w+4,q);d[q]=b>>24&255,d[q+1]=b>>16&255,d[q+2]=b>>8&255,d[q+3]=b&255}function C(_,Q,d){let w=1,q=0;for(let l=Q;l<d;++l)w=(w+(_[l]&255))%65521,q=(q+w)%65521;return q<<16|w}function H(_){if(!Ae.isNodeJS)return $(_);try{const Q=parseInt(process.versions.node)>=8?_:Buffer.from(_),d=require$$5.deflateSync(Q,{level:9});return d instanceof Uint8Array?d:new Uint8Array(d)}catch(Q){(0,Ae.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Q)}return $(_)}function $(_){let Q=_.length;const d=65535,w=Math.ceil(Q/d),q=new Uint8Array(2+Q+w*5+4);let l=0;q[l++]=120,q[l++]=156;let b=0;for(;Q>d;)q[l++]=0,q[l++]=255,q[l++]=255,q[l++]=0,q[l++]=0,q.set(_.subarray(b,b+d),l),l+=d,b+=d,Q-=d;q[l++]=1,q[l++]=Q&255,q[l++]=Q>>8&255,q[l++]=~Q&65535&255,q[l++]=(~Q&65535)>>8&255,q.set(_.subarray(b),l),l+=_.length-b;const D=C(_,0,_.length);return q[l++]=D>>24&255,q[l++]=D>>16&255,q[l++]=D>>8&255,q[l++]=D&255,q}function se(_,Q,d,w){const q=_.width,l=_.height;let b,D,Z;const N=_.data;switch(Q){case Ae.ImageKind.GRAYSCALE_1BPP:D=0,b=1,Z=q+7>>3;break;case Ae.ImageKind.RGB_24BPP:D=2,b=8,Z=q*3;break;case Ae.ImageKind.RGBA_32BPP:D=6,b=8,Z=q*4;break;default:throw new Error("invalid format")}const v=new Uint8Array((1+Z)*l);let S=0,I=0;for(let G=0;G<l;++G)v[S++]=0,v.set(N.subarray(I,I+Z),S),I+=Z,S+=Z;if(Q===Ae.ImageKind.GRAYSCALE_1BPP&&w){S=0;for(let G=0;G<l;G++){S++;for(let ae=0;ae<Z;ae++)v[S++]^=255}}const u=new Uint8Array([q>>24&255,q>>16&255,q>>8&255,q&255,l>>24&255,l>>16&255,l>>8&255,l&255,b,D,0,0,0]),y=H(v),r=p.length+i*3+u.length+y.length,A=new Uint8Array(r);let E=0;return A.set(p,E),E+=p.length,P("IHDR",u,A,E),E+=i+u.length,P("IDATA",y,A,E),E+=i+y.length,P("IEND",new Uint8Array(0),A,E),x(A,"image/png",d)}return function(Q,d,w){const q=Q.kind===void 0?Ae.ImageKind.GRAYSCALE_1BPP:Q.kind;return se(Q,q,d,w)}}();class e{constructor(){this.fontSizeScale=1,this.fontWeight=_e.fontWeight,this.fontSize=0,this.textMatrix=Ae.IDENTITY_MATRIX,this.fontMatrix=Ae.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=Ae.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=_e.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,T){this.x=i,this.y=T}}function t(p){let i=[];const T=[];for(const F of p){if(F.fn==="save"){i.push({fnId:92,fn:"group",items:[]}),T.push(i),i=i.at(-1).items;continue}F.fn==="restore"?i=T.pop():i.push(F)}return i}function o(p){if(Number.isInteger(p))return p.toString();const i=p.toFixed(10);let T=i.length-1;if(i[T]!=="0")return i;do T--;while(i[T]==="0");return i.substring(0,i[T]==="."?T:T+1)}function K(p){if(p[4]===0&&p[5]===0){if(p[1]===0&&p[2]===0)return p[0]===1&&p[3]===1?"":`scale(${o(p[0])} ${o(p[3])})`;if(p[0]===p[3]&&p[1]===-p[2]){const i=Math.acos(p[0])*180/Math.PI;return`rotate(${o(i)})`}}else if(p[0]===1&&p[1]===0&&p[2]===0&&p[3]===1)return`translate(${o(p[4])} ${o(p[5])})`;return`matrix(${o(p[0])} ${o(p[1])} ${o(p[2])} ${o(p[3])} ${o(p[4])} ${o(p[5])})`}let X=0,L=0,O=0;class f{constructor(i,T,F=!1){(0,V.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new V.DOMSVGFactory,this.current=new e,this.transformMatrix=Ae.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=i,this.objs=T,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!F,this._operatorIdMapping=[];for(const P in Ae.OPS)this._operatorIdMapping[Ae.OPS[P]]=P}getObject(i,T=null){return typeof i=="string"?i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i):T}save(){this.transformStack.push(this.transformMatrix);const i=this.current;this.extraStack.push(i),this.current=i.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(i){this.save(),this.executeOpTree(i),this.restore()}loadDependencies(i){const T=i.fnArray,F=i.argsArray;for(let P=0,C=T.length;P<C;P++)if(T[P]===Ae.OPS.dependency)for(const H of F[P]){const $=H.startsWith("g_")?this.commonObjs:this.objs,se=new Promise(_=>{$.get(H,_)});this.current.dependencies.push(se)}return Promise.all(this.current.dependencies)}transform(i,T,F,P,C,H){const $=[i,T,F,P,C,H];this.transformMatrix=Ae.Util.transform(this.transformMatrix,$),this.tgrp=null}getSVG(i,T){this.viewport=T;const F=this._initialize(T);return this.loadDependencies(i).then(()=>(this.transformMatrix=Ae.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(i)),F))}convertOpList(i){const T=this._operatorIdMapping,F=i.argsArray,P=i.fnArray,C=[];for(let H=0,$=P.length;H<$;H++){const se=P[H];C.push({fnId:se,fn:T[se],args:F[H]})}return t(C)}executeOpTree(i){for(const T of i){const F=T.fn,P=T.fnId,C=T.args;switch(P|0){case Ae.OPS.beginText:this.beginText();break;case Ae.OPS.dependency:break;case Ae.OPS.setLeading:this.setLeading(C);break;case Ae.OPS.setLeadingMoveText:this.setLeadingMoveText(C[0],C[1]);break;case Ae.OPS.setFont:this.setFont(C);break;case Ae.OPS.showText:this.showText(C[0]);break;case Ae.OPS.showSpacedText:this.showText(C[0]);break;case Ae.OPS.endText:this.endText();break;case Ae.OPS.moveText:this.moveText(C[0],C[1]);break;case Ae.OPS.setCharSpacing:this.setCharSpacing(C[0]);break;case Ae.OPS.setWordSpacing:this.setWordSpacing(C[0]);break;case Ae.OPS.setHScale:this.setHScale(C[0]);break;case Ae.OPS.setTextMatrix:this.setTextMatrix(C[0],C[1],C[2],C[3],C[4],C[5]);break;case Ae.OPS.setTextRise:this.setTextRise(C[0]);break;case Ae.OPS.setTextRenderingMode:this.setTextRenderingMode(C[0]);break;case Ae.OPS.setLineWidth:this.setLineWidth(C[0]);break;case Ae.OPS.setLineJoin:this.setLineJoin(C[0]);break;case Ae.OPS.setLineCap:this.setLineCap(C[0]);break;case Ae.OPS.setMiterLimit:this.setMiterLimit(C[0]);break;case Ae.OPS.setFillRGBColor:this.setFillRGBColor(C[0],C[1],C[2]);break;case Ae.OPS.setStrokeRGBColor:this.setStrokeRGBColor(C[0],C[1],C[2]);break;case Ae.OPS.setStrokeColorN:this.setStrokeColorN(C);break;case Ae.OPS.setFillColorN:this.setFillColorN(C);break;case Ae.OPS.shadingFill:this.shadingFill(C[0]);break;case Ae.OPS.setDash:this.setDash(C[0],C[1]);break;case Ae.OPS.setRenderingIntent:this.setRenderingIntent(C[0]);break;case Ae.OPS.setFlatness:this.setFlatness(C[0]);break;case Ae.OPS.setGState:this.setGState(C[0]);break;case Ae.OPS.fill:this.fill();break;case Ae.OPS.eoFill:this.eoFill();break;case Ae.OPS.stroke:this.stroke();break;case Ae.OPS.fillStroke:this.fillStroke();break;case Ae.OPS.eoFillStroke:this.eoFillStroke();break;case Ae.OPS.clip:this.clip("nonzero");break;case Ae.OPS.eoClip:this.clip("evenodd");break;case Ae.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case Ae.OPS.paintImageXObject:this.paintImageXObject(C[0]);break;case Ae.OPS.paintInlineImageXObject:this.paintInlineImageXObject(C[0]);break;case Ae.OPS.paintImageMaskXObject:this.paintImageMaskXObject(C[0]);break;case Ae.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(C[0],C[1]);break;case Ae.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case Ae.OPS.closePath:this.closePath();break;case Ae.OPS.closeStroke:this.closeStroke();break;case Ae.OPS.closeFillStroke:this.closeFillStroke();break;case Ae.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case Ae.OPS.nextLine:this.nextLine();break;case Ae.OPS.transform:this.transform(C[0],C[1],C[2],C[3],C[4],C[5]);break;case Ae.OPS.constructPath:this.constructPath(C[0],C[1]);break;case Ae.OPS.endPath:this.endPath();break;case 92:this.group(T.items);break;default:(0,Ae.warn)(`Unimplemented operator ${F}`);break}}}setWordSpacing(i){this.current.wordSpacing=i}setCharSpacing(i){this.current.charSpacing=i}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(i,T,F,P,C,H){const $=this.current;$.textMatrix=$.lineMatrix=[i,T,F,P,C,H],$.textMatrixScale=Math.hypot(i,T),$.x=$.lineX=0,$.y=$.lineY=0,$.xcoords=[],$.ycoords=[],$.tspan=this.svgFactory.createElement("svg:tspan"),$.tspan.setAttributeNS(null,"font-family",$.fontFamily),$.tspan.setAttributeNS(null,"font-size",`${o($.fontSize)}px`),$.tspan.setAttributeNS(null,"y",o(-$.y)),$.txtElement=this.svgFactory.createElement("svg:text"),$.txtElement.append($.tspan)}beginText(){const i=this.current;i.x=i.lineX=0,i.y=i.lineY=0,i.textMatrix=Ae.IDENTITY_MATRIX,i.lineMatrix=Ae.IDENTITY_MATRIX,i.textMatrixScale=1,i.tspan=this.svgFactory.createElement("svg:tspan"),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtgrp=this.svgFactory.createElement("svg:g"),i.xcoords=[],i.ycoords=[]}moveText(i,T){const F=this.current;F.x=F.lineX+=i,F.y=F.lineY+=T,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${o(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",o(-F.y))}showText(i){const T=this.current,F=T.font,P=T.fontSize;if(P===0)return;const C=T.fontSizeScale,H=T.charSpacing,$=T.wordSpacing,se=T.fontDirection,_=T.textHScale*se,Q=F.vertical,d=Q?1:-1,w=F.defaultVMetrics,q=P*T.fontMatrix[0];let l=0;for(const Z of i){if(Z===null){l+=se*$;continue}else if(typeof Z=="number"){l+=d*Z*P/1e3;continue}const N=(Z.isSpace?$:0)+H,v=Z.fontChar;let S,I,u=Z.width;if(Q){let r;const A=Z.vmetric||w;r=Z.vmetric?A[1]:u*.5,r=-r*q;const E=A[2]*q;u=A?-A[0]:u,S=r/C,I=(l+E)/C}else S=l/C,I=0;(Z.isInFont||F.missingFile)&&(T.xcoords.push(T.x+S),Q&&T.ycoords.push(-T.y+I),T.tspan.textContent+=v);const y=Q?u*q-N*se:u*q+N*se;l+=y}T.tspan.setAttributeNS(null,"x",T.xcoords.map(o).join(" ")),Q?T.tspan.setAttributeNS(null,"y",T.ycoords.map(o).join(" ")):T.tspan.setAttributeNS(null,"y",o(-T.y)),Q?T.y-=l:T.x+=l*_,T.tspan.setAttributeNS(null,"font-family",T.fontFamily),T.tspan.setAttributeNS(null,"font-size",`${o(T.fontSize)}px`),T.fontStyle!==_e.fontStyle&&T.tspan.setAttributeNS(null,"font-style",T.fontStyle),T.fontWeight!==_e.fontWeight&&T.tspan.setAttributeNS(null,"font-weight",T.fontWeight);const b=T.textRenderingMode&Ae.TextRenderingMode.FILL_STROKE_MASK;if(b===Ae.TextRenderingMode.FILL||b===Ae.TextRenderingMode.FILL_STROKE?(T.fillColor!==_e.fillColor&&T.tspan.setAttributeNS(null,"fill",T.fillColor),T.fillAlpha<1&&T.tspan.setAttributeNS(null,"fill-opacity",T.fillAlpha)):T.textRenderingMode===Ae.TextRenderingMode.ADD_TO_PATH?T.tspan.setAttributeNS(null,"fill","transparent"):T.tspan.setAttributeNS(null,"fill","none"),b===Ae.TextRenderingMode.STROKE||b===Ae.TextRenderingMode.FILL_STROKE){const Z=1/(T.textMatrixScale||1);this._setStrokeAttributes(T.tspan,Z)}let D=T.textMatrix;T.textRise!==0&&(D=D.slice(),D[5]+=T.textRise),T.txtElement.setAttributeNS(null,"transform",`${K(D)} scale(${o(_)}, -1)`),T.txtElement.setAttributeNS(Pe,"xml:space","preserve"),T.txtElement.append(T.tspan),T.txtgrp.append(T.txtElement),this._ensureTransformGroup().append(T.txtElement)}setLeadingMoveText(i,T){this.setLeading(-T),this.moveText(i,T)}addFontStyle(i){if(!i.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const T=x(i.data,i.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${i.loadedName}"; src: url(${T}); }
`}setFont(i){const T=this.current,F=this.commonObjs.get(i[0]);let P=i[1];T.font=F,this.embedFonts&&!F.missingFile&&!this.embeddedFonts[F.loadedName]&&(this.addFontStyle(F),this.embeddedFonts[F.loadedName]=F),T.fontMatrix=F.fontMatrix||Ae.FONT_IDENTITY_MATRIX;let C="normal";F.black?C="900":F.bold&&(C="bold");const H=F.italic?"italic":"normal";P<0?(P=-P,T.fontDirection=-1):T.fontDirection=1,T.fontSize=P,T.fontFamily=F.loadedName,T.fontWeight=C,T.fontStyle=H,T.tspan=this.svgFactory.createElement("svg:tspan"),T.tspan.setAttributeNS(null,"y",o(-T.y)),T.xcoords=[],T.ycoords=[]}endText(){var T;const i=this.current;i.textRenderingMode&Ae.TextRenderingMode.ADD_TO_PATH_FLAG&&((T=i.txtElement)!=null&&T.hasChildNodes())&&(i.element=i.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(i){i>0&&(this.current.lineWidth=i)}setLineCap(i){this.current.lineCap=re[i]}setLineJoin(i){this.current.lineJoin=n[i]}setMiterLimit(i){this.current.miterLimit=i}setStrokeAlpha(i){this.current.strokeAlpha=i}setStrokeRGBColor(i,T,F){this.current.strokeColor=Ae.Util.makeHexColor(i,T,F)}setFillAlpha(i){this.current.fillAlpha=i}setFillRGBColor(i,T,F){this.current.fillColor=Ae.Util.makeHexColor(i,T,F),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(i){this.current.strokeColor=this._makeColorN_Pattern(i)}setFillColorN(i){this.current.fillColor=this._makeColorN_Pattern(i)}shadingFill(i){const{width:T,height:F}=this.viewport,P=Ae.Util.inverseTransform(this.transformMatrix),[C,H,$,se]=Ae.Util.getAxialAlignedBoundingBox([0,0,T,F],P),_=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x",C),_.setAttributeNS(null,"y",H),_.setAttributeNS(null,"width",$-C),_.setAttributeNS(null,"height",se-H),_.setAttributeNS(null,"fill",this._makeShadingPattern(i)),this.current.fillAlpha<1&&_.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(_)}_makeColorN_Pattern(i){return i[0]==="TilingPattern"?this._makeTilingPattern(i):this._makeShadingPattern(i)}_makeTilingPattern(i){const T=i[1],F=i[2],P=i[3]||Ae.IDENTITY_MATRIX,[C,H,$,se]=i[4],_=i[5],Q=i[6],d=i[7],w=`shading${O++}`,[q,l,b,D]=Ae.Util.normalizeRect([...Ae.Util.applyTransform([C,H],P),...Ae.Util.applyTransform([$,se],P)]),[Z,N]=Ae.Util.singularValueDecompose2dScale(P),v=_*Z,S=Q*N,I=this.svgFactory.createElement("svg:pattern");I.setAttributeNS(null,"id",w),I.setAttributeNS(null,"patternUnits","userSpaceOnUse"),I.setAttributeNS(null,"width",v),I.setAttributeNS(null,"height",S),I.setAttributeNS(null,"x",`${q}`),I.setAttributeNS(null,"y",`${l}`);const u=this.svg,y=this.transformMatrix,r=this.current.fillColor,A=this.current.strokeColor,E=this.svgFactory.create(b-q,D-l);if(this.svg=E,this.transformMatrix=P,d===2){const G=Ae.Util.makeHexColor(...T);this.current.fillColor=G,this.current.strokeColor=G}return this.executeOpTree(this.convertOpList(F)),this.svg=u,this.transformMatrix=y,this.current.fillColor=r,this.current.strokeColor=A,I.append(E.childNodes[0]),this.defs.append(I),`url(#${w})`}_makeShadingPattern(i){switch(typeof i=="string"&&(i=this.objs.get(i)),i[0]){case"RadialAxial":const T=`shading${O++}`,F=i[3];let P;switch(i[1]){case"axial":const C=i[4],H=i[5];P=this.svgFactory.createElement("svg:linearGradient"),P.setAttributeNS(null,"id",T),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"x1",C[0]),P.setAttributeNS(null,"y1",C[1]),P.setAttributeNS(null,"x2",H[0]),P.setAttributeNS(null,"y2",H[1]);break;case"radial":const $=i[4],se=i[5],_=i[6],Q=i[7];P=this.svgFactory.createElement("svg:radialGradient"),P.setAttributeNS(null,"id",T),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"cx",se[0]),P.setAttributeNS(null,"cy",se[1]),P.setAttributeNS(null,"r",Q),P.setAttributeNS(null,"fx",$[0]),P.setAttributeNS(null,"fy",$[1]),P.setAttributeNS(null,"fr",_);break;default:throw new Error(`Unknown RadialAxial type: ${i[1]}`)}for(const C of F){const H=this.svgFactory.createElement("svg:stop");H.setAttributeNS(null,"offset",C[0]),H.setAttributeNS(null,"stop-color",C[1]),P.append(H)}return this.defs.append(P),`url(#${T})`;case"Mesh":return(0,Ae.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${i[0]}`)}}setDash(i,T){this.current.dashArray=i,this.current.dashPhase=T}constructPath(i,T){const F=this.current;let P=F.x,C=F.y,H=[],$=0;for(const se of i)switch(se|0){case Ae.OPS.rectangle:P=T[$++],C=T[$++];const _=T[$++],Q=T[$++],d=P+_,w=C+Q;H.push("M",o(P),o(C),"L",o(d),o(C),"L",o(d),o(w),"L",o(P),o(w),"Z");break;case Ae.OPS.moveTo:P=T[$++],C=T[$++],H.push("M",o(P),o(C));break;case Ae.OPS.lineTo:P=T[$++],C=T[$++],H.push("L",o(P),o(C));break;case Ae.OPS.curveTo:P=T[$+4],C=T[$+5],H.push("C",o(T[$]),o(T[$+1]),o(T[$+2]),o(T[$+3]),o(P),o(C)),$+=6;break;case Ae.OPS.curveTo2:H.push("C",o(P),o(C),o(T[$]),o(T[$+1]),o(T[$+2]),o(T[$+3])),P=T[$+2],C=T[$+3],$+=4;break;case Ae.OPS.curveTo3:P=T[$+2],C=T[$+3],H.push("C",o(T[$]),o(T[$+1]),o(P),o(C),o(P),o(C)),$+=4;break;case Ae.OPS.closePath:H.push("Z");break}H=H.join(" "),F.path&&i.length>0&&i[0]!==Ae.OPS.rectangle&&i[0]!==Ae.OPS.moveTo?H=F.path.getAttributeNS(null,"d")+H:(F.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(F.path)),F.path.setAttributeNS(null,"d",H),F.path.setAttributeNS(null,"fill","none"),F.element=F.path,F.setCurrentPoint(P,C)}endPath(){const i=this.current;if(i.path=null,!this.pendingClip)return;if(!i.element){this.pendingClip=null;return}const T=`clippath${X++}`,F=this.svgFactory.createElement("svg:clipPath");F.setAttributeNS(null,"id",T),F.setAttributeNS(null,"transform",K(this.transformMatrix));const P=i.element.cloneNode(!0);if(this.pendingClip==="evenodd"?P.setAttributeNS(null,"clip-rule","evenodd"):P.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,F.append(P),this.defs.append(F),i.activeClipUrl){i.clipGroup=null;for(const C of this.extraStack)C.clipGroup=null;F.setAttributeNS(null,"clip-path",i.activeClipUrl)}i.activeClipUrl=`url(#${T})`,this.tgrp=null}clip(i){this.pendingClip=i}closePath(){const i=this.current;if(i.path){const T=`${i.path.getAttributeNS(null,"d")}Z`;i.path.setAttributeNS(null,"d",T)}}setLeading(i){this.current.leading=-i}setTextRise(i){this.current.textRise=i}setTextRenderingMode(i){this.current.textRenderingMode=i}setHScale(i){this.current.textHScale=i/100}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[T,F]of i)switch(T){case"LW":this.setLineWidth(F);break;case"LC":this.setLineCap(F);break;case"LJ":this.setLineJoin(F);break;case"ML":this.setMiterLimit(F);break;case"D":this.setDash(F[0],F[1]);break;case"RI":this.setRenderingIntent(F);break;case"FL":this.setFlatness(F);break;case"Font":this.setFont(F);break;case"CA":this.setStrokeAlpha(F);break;case"ca":this.setFillAlpha(F);break;default:(0,Ae.warn)(`Unimplemented graphic state operator ${T}`);break}}fill(){const i=this.current;i.element&&(i.element.setAttributeNS(null,"fill",i.fillColor),i.element.setAttributeNS(null,"fill-opacity",i.fillAlpha),this.endPath())}stroke(){const i=this.current;i.element&&(this._setStrokeAttributes(i.element),i.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(i,T=1){const F=this.current;let P=F.dashArray;T!==1&&P.length>0&&(P=P.map(function(C){return T*C})),i.setAttributeNS(null,"stroke",F.strokeColor),i.setAttributeNS(null,"stroke-opacity",F.strokeAlpha),i.setAttributeNS(null,"stroke-miterlimit",o(F.miterLimit)),i.setAttributeNS(null,"stroke-linecap",F.lineCap),i.setAttributeNS(null,"stroke-linejoin",F.lineJoin),i.setAttributeNS(null,"stroke-width",o(T*F.lineWidth)+"px"),i.setAttributeNS(null,"stroke-dasharray",P.map(o).join(" ")),i.setAttributeNS(null,"stroke-dashoffset",o(T*F.dashPhase)+"px")}eoFill(){var i;(i=this.current.element)==null||i.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var i;(i=this.current.element)==null||i.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width","1px"),i.setAttributeNS(null,"height","1px"),i.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(i)}paintImageXObject(i){const T=this.getObject(i);if(!T){(0,Ae.warn)(`Dependent image with object ID ${i} is not ready yet`);return}this.paintInlineImageXObject(T)}paintInlineImageXObject(i,T){const F=i.width,P=i.height,C=U(i,this.forceDataSchema,!!T),H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width",o(F)),H.setAttributeNS(null,"height",o(P)),this.current.element=H,this.clip("nonzero");const $=this.svgFactory.createElement("svg:image");$.setAttributeNS(h,"xlink:href",C),$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y",o(-P)),$.setAttributeNS(null,"width",o(F)+"px"),$.setAttributeNS(null,"height",o(P)+"px"),$.setAttributeNS(null,"transform",`scale(${o(1/F)} ${o(-1/P)})`),T?T.append($):this._ensureTransformGroup().append($)}paintImageMaskXObject(i){const T=this.getObject(i.data,i);if(T.bitmap){(0,Ae.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const F=this.current,P=T.width,C=T.height,H=F.fillColor;F.maskId=`mask${L++}`;const $=this.svgFactory.createElement("svg:mask");$.setAttributeNS(null,"id",F.maskId);const se=this.svgFactory.createElement("svg:rect");se.setAttributeNS(null,"x","0"),se.setAttributeNS(null,"y","0"),se.setAttributeNS(null,"width",o(P)),se.setAttributeNS(null,"height",o(C)),se.setAttributeNS(null,"fill",H),se.setAttributeNS(null,"mask",`url(#${F.maskId})`),this.defs.append($),this._ensureTransformGroup().append(se),this.paintInlineImageXObject(T,$)}paintFormXObjectBegin(i,T){if(Array.isArray(i)&&i.length===6&&this.transform(i[0],i[1],i[2],i[3],i[4],i[5]),T){const F=T[2]-T[0],P=T[3]-T[1],C=this.svgFactory.createElement("svg:rect");C.setAttributeNS(null,"x",T[0]),C.setAttributeNS(null,"y",T[1]),C.setAttributeNS(null,"width",o(F)),C.setAttributeNS(null,"height",o(P)),this.current.element=C,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(i){const T=this.svgFactory.create(i.width,i.height),F=this.svgFactory.createElement("svg:defs");T.append(F),this.defs=F;const P=this.svgFactory.createElement("svg:g");return P.setAttributeNS(null,"transform",K(i.transform)),T.append(P),this.svg=P,T}_ensureClipGroup(){if(!this.current.clipGroup){const i=this.svgFactory.createElement("svg:g");i.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(i),this.current.clipGroup=i}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",K(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=f},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class M{static textContent(Ae){const _e=[],Pe={items:_e,styles:Object.create(null)};function h(re){var U;if(!re)return;let n=null;const x=re.name;if(x==="#text")n=re.value;else if(M.shouldBuildText(x))(U=re==null?void 0:re.attributes)!=null&&U.textContent?n=re.attributes.textContent:re.value&&(n=re.value);else return;if(n!==null&&_e.push({str:n}),!!re.children)for(const e of re.children)h(e)}return h(Ae),Pe}static shouldBuildText(Ae){return!(Ae==="textarea"||Ae==="input"||Ae==="option"||Ae==="select")}}s.XfaText=M},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=K,s.updateTextLayer=X;var V=M(1),Ae=M(6);const _e=1e5,Pe=30,h=.8,re=new Map;function n(L,O){let f;if(O&&V.FeatureTest.isOffscreenCanvasSupported)f=new OffscreenCanvas(L,L).getContext("2d",{alpha:!1});else{const p=document.createElement("canvas");p.width=p.height=L,f=p.getContext("2d",{alpha:!1})}return f}function x(L,O){const f=re.get(L);if(f)return f;const p=n(Pe,O);p.font=`${Pe}px ${L}`;const i=p.measureText("");let T=i.fontBoundingBoxAscent,F=Math.abs(i.fontBoundingBoxDescent);if(T){const C=T/(T+F);return re.set(L,C),p.canvas.width=p.canvas.height=0,C}p.strokeStyle="red",p.clearRect(0,0,Pe,Pe),p.strokeText("g",0,0);let P=p.getImageData(0,0,Pe,Pe).data;F=0;for(let C=P.length-1-3;C>=0;C-=4)if(P[C]>0){F=Math.ceil(C/4/Pe);break}p.clearRect(0,0,Pe,Pe),p.strokeText("A",0,Pe),P=p.getImageData(0,0,Pe,Pe).data,T=0;for(let C=0,H=P.length;C<H;C+=4)if(P[C]>0){T=Pe-Math.floor(C/4/Pe);break}if(p.canvas.width=p.canvas.height=0,T){const C=T/(T+F);return re.set(L,C),C}return re.set(L,h),h}function U(L,O,f){const p=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:O.str!=="",hasEOL:O.hasEOL,fontSize:0};L._textDivs.push(p);const T=V.Util.transform(L._transform,O.transform);let F=Math.atan2(T[1],T[0]);const P=f[O.fontName];P.vertical&&(F+=Math.PI/2);const C=Math.hypot(T[2],T[3]),H=C*x(P.fontFamily,L._isOffscreenCanvasSupported);let $,se;F===0?($=T[4],se=T[5]-H):($=T[4]+H*Math.sin(F),se=T[5]-H*Math.cos(F));const _="calc(var(--scale-factor)*",Q=p.style;L._container===L._rootContainer?(Q.left=`${(100*$/L._pageWidth).toFixed(2)}%`,Q.top=`${(100*se/L._pageHeight).toFixed(2)}%`):(Q.left=`${_}${$.toFixed(2)}px)`,Q.top=`${_}${se.toFixed(2)}px)`),Q.fontSize=`${_}${C.toFixed(2)}px)`,Q.fontFamily=P.fontFamily,i.fontSize=C,p.setAttribute("role","presentation"),p.textContent=O.str,p.dir=O.dir,L._fontInspectorEnabled&&(p.dataset.fontName=O.fontName),F!==0&&(i.angle=F*(180/Math.PI));let d=!1;if(O.str.length>1)d=!0;else if(O.str!==" "&&O.transform[0]!==O.transform[3]){const w=Math.abs(O.transform[0]),q=Math.abs(O.transform[3]);w!==q&&Math.max(w,q)/Math.min(w,q)>1.5&&(d=!0)}d&&(i.canvasWidth=P.vertical?O.height:O.width),L._textDivProperties.set(p,i),L._isReadableStream&&L._layoutText(p)}function e(L){const{div:O,scale:f,properties:p,ctx:i,prevFontSize:T,prevFontFamily:F}=L,{style:P}=O;let C="";if(p.canvasWidth!==0&&p.hasText){const{fontFamily:H}=P,{canvasWidth:$,fontSize:se}=p;(T!==se||F!==H)&&(i.font=`${se*f}px ${H}`,L.prevFontSize=se,L.prevFontFamily=H);const{width:_}=i.measureText(O.textContent);_>0&&(C=`scaleX(${$*f/_})`)}p.angle!==0&&(C=`rotate(${p.angle}deg) ${C}`),C.length>0&&(P.transform=C)}function t(L){if(L._canceled)return;const O=L._textDivs,f=L._capability;if(O.length>_e){f.resolve();return}if(!L._isReadableStream)for(const i of O)L._layoutText(i);f.resolve()}class o{constructor({textContentSource:O,container:f,viewport:p,textDivs:i,textDivProperties:T,textContentItemsStr:F,isOffscreenCanvasSupported:P}){var _;this._textContentSource=O,this._isReadableStream=O instanceof ReadableStream,this._container=this._rootContainer=f,this._textDivs=i||[],this._textContentItemsStr=F||[],this._isOffscreenCanvasSupported=P,this._fontInspectorEnabled=!!((_=globalThis.FontInspector)!=null&&_.enabled),this._reader=null,this._textDivProperties=T||new WeakMap,this._canceled=!1,this._capability=new V.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:p.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:n(0,P)};const{pageWidth:C,pageHeight:H,pageX:$,pageY:se}=p.rawDims;this._transform=[1,0,0,-1,-$,se+H],this._pageWidth=C,this._pageHeight=H,(0,Ae.setLayerDimensions)(f,p),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new V.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new V.AbortException("TextLayer task cancelled."))}_processItems(O,f){for(const p of O){if(p.str===void 0){if(p.type==="beginMarkedContentProps"||p.type==="beginMarkedContent"){const i=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),p.id!==null&&this._container.setAttribute("id",`${p.id}`),i.append(this._container)}else p.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(p.str),U(this,p,f)}}_layoutText(O){const f=this._layoutTextParams.properties=this._textDivProperties.get(O);if(this._layoutTextParams.div=O,e(this._layoutTextParams),f.hasText&&this._container.append(O),f.hasEOL){const p=document.createElement("br");p.setAttribute("role","presentation"),this._container.append(p)}}_render(){const O=new V.PromiseCapability;let f=Object.create(null);if(this._isReadableStream){const p=()=>{this._reader.read().then(({value:i,done:T})=>{if(T){O.resolve();return}Object.assign(f,i.styles),this._processItems(i.items,f),p()},O.reject)};this._reader=this._textContentSource.getReader(),p()}else if(this._textContentSource){const{items:p,styles:i}=this._textContentSource;this._processItems(p,i),O.resolve()}else throw new Error('No "textContentSource" parameter specified.');O.promise.then(()=>{f=null,t(this)},this._capability.reject)}}s.TextLayerRenderTask=o;function K(L){!L.textContentSource&&(L.textContent||L.textContentStream)&&((0,Ae.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),L.textContentSource=L.textContent||L.textContentStream);const{container:O,viewport:f}=L,p=getComputedStyle(O),i=p.getPropertyValue("visibility"),T=parseFloat(p.getPropertyValue("--scale-factor"));i==="visible"&&(!T||Math.abs(T-f.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const F=new o(L);return F._render(),F}function X({container:L,viewport:O,textDivs:f,textDivProperties:p,isOffscreenCanvasSupported:i,mustRotate:T=!0,mustRescale:F=!0}){if(T&&(0,Ae.setLayerDimensions)(L,{rotation:O.rotation}),F){const P=n(0,i),H={prevFontSize:null,prevFontFamily:null,div:null,scale:O.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:P};for(const $ of f)H.properties=p.get($),H.div=$,e(H)}}},(a,s,M)=>{var x,U,e,t,o,K,X,L,O,f,p,b0,T,mA,P,w0,H,y0;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var V=M(1),Ae=M(4),_e=M(28),Pe=M(33),h=M(6),re=M(34);const se=class se{constructor({uiManager:Q,pageIndex:d,div:w,accessibilityManager:q,annotationLayer:l,viewport:b,l10n:D}){ct(this,p);ct(this,T);ct(this,P);ct(this,H);ct(this,x,void 0);ct(this,U,!1);ct(this,e,null);ct(this,t,this.pointerup.bind(this));ct(this,o,this.pointerdown.bind(this));ct(this,K,new Map);ct(this,X,!1);ct(this,L,!1);ct(this,O,!1);ct(this,f,void 0);const Z=[_e.FreeTextEditor,Pe.InkEditor,re.StampEditor];if(!se._initialized){se._initialized=!0;for(const N of Z)N.initialize(D)}Q.registerEditorTypes(Z),Pt(this,f,Q),this.pageIndex=d,this.div=w,Pt(this,x,q),Pt(this,e,l),this.viewport=b,Ue(this,f).addLayer(this)}get isEmpty(){return Ue(this,K).size===0}updateToolbar(Q){Ue(this,f).updateToolbar(Q)}updateMode(Q=Ue(this,f).getMode()){dt(this,H,y0).call(this),Q===V.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Q!==V.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Q===V.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Q===V.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Q===V.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Q){if(!Q&&Ue(this,f).getMode()!==V.AnnotationEditorType.INK)return;if(!Q){for(const w of Ue(this,K).values())if(w.isEmpty()){w.setInBackground();return}}dt(this,T,mA).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Q){Ue(this,f).setEditingState(Q)}addCommands(Q){Ue(this,f).addCommands(Q)}enable(){this.div.style.pointerEvents="auto";const Q=new Set;for(const w of Ue(this,K).values())w.enableEditing(),w.annotationElementId&&Q.add(w.annotationElementId);if(!Ue(this,e))return;const d=Ue(this,e).getEditableAnnotations();for(const w of d){if(w.hide(),Ue(this,f).isDeletedAnnotationElement(w.data.id)||Q.has(w.data.id))continue;const q=this.deserialize(w);q&&(this.addOrRebuild(q),q.enableEditing())}}disable(){var d;Pt(this,O,!0),this.div.style.pointerEvents="none";const Q=new Set;for(const w of Ue(this,K).values()){if(w.disableEditing(),!w.annotationElementId||w.serialize()!==null){Q.add(w.annotationElementId);continue}(d=this.getEditableAnnotation(w.annotationElementId))==null||d.show(),w.remove()}if(Ue(this,e)){const w=Ue(this,e).getEditableAnnotations();for(const q of w){const{id:l}=q.data;Q.has(l)||Ue(this,f).isDeletedAnnotationElement(l)||q.show()}}dt(this,H,y0).call(this),this.isEmpty&&(this.div.hidden=!0),Pt(this,O,!1)}getEditableAnnotation(Q){var d;return((d=Ue(this,e))==null?void 0:d.getEditableAnnotation(Q))||null}setActiveEditor(Q){Ue(this,f).getActive()!==Q&&Ue(this,f).setActiveEditor(Q)}enableClick(){this.div.addEventListener("pointerdown",Ue(this,o)),this.div.addEventListener("pointerup",Ue(this,t))}disableClick(){this.div.removeEventListener("pointerdown",Ue(this,o)),this.div.removeEventListener("pointerup",Ue(this,t))}attach(Q){Ue(this,K).set(Q.id,Q);const{annotationElementId:d}=Q;d&&Ue(this,f).isDeletedAnnotationElement(d)&&Ue(this,f).removeDeletedAnnotationElement(Q)}detach(Q){var d;Ue(this,K).delete(Q.id),(d=Ue(this,x))==null||d.removePointerInTextLayer(Q.contentDiv),!Ue(this,O)&&Q.annotationElementId&&Ue(this,f).addDeletedAnnotationElement(Q)}remove(Q){this.detach(Q),Ue(this,f).removeEditor(Q),Q.div.contains(document.activeElement)&&setTimeout(()=>{Ue(this,f).focusMainContainer()},0),Q.div.remove(),Q.isAttachedToDOM=!1,Ue(this,L)||this.addInkEditorIfNeeded(!1)}changeParent(Q){var d;Q.parent!==this&&(Q.annotationElementId&&(Ue(this,f).addDeletedAnnotationElement(Q.annotationElementId),Ae.AnnotationEditor.deleteAnnotationElement(Q),Q.annotationElementId=null),this.attach(Q),(d=Q.parent)==null||d.detach(Q),Q.setParent(this),Q.div&&Q.isAttachedToDOM&&(Q.div.remove(),this.div.append(Q.div)))}add(Q){if(this.changeParent(Q),Ue(this,f).addEditor(Q),this.attach(Q),!Q.isAttachedToDOM){const d=Q.render();this.div.append(d),Q.isAttachedToDOM=!0}Q.fixAndSetPosition(),Q.onceAdded(),Ue(this,f).addToAnnotationStorage(Q)}moveEditorInDOM(Q){var w;if(!Q.isAttachedToDOM)return;const{activeElement:d}=document;Q.div.contains(d)&&(Q._focusEventsAllowed=!1,setTimeout(()=>{Q.div.contains(document.activeElement)?Q._focusEventsAllowed=!0:(Q.div.addEventListener("focusin",()=>{Q._focusEventsAllowed=!0},{once:!0}),d.focus())},0)),Q._structTreeParentId=(w=Ue(this,x))==null?void 0:w.moveElementInDOM(this.div,Q.div,Q.contentDiv,!0)}addOrRebuild(Q){Q.needsToBeRebuilt()?Q.rebuild():this.add(Q)}addUndoableEditor(Q){const d=()=>Q._uiManager.rebuild(Q),w=()=>{Q.remove()};this.addCommands({cmd:d,undo:w,mustExec:!1})}getNextId(){return Ue(this,f).getId()}pasteEditor(Q,d){Ue(this,f).updateToolbar(Q),Ue(this,f).updateMode(Q);const{offsetX:w,offsetY:q}=dt(this,P,w0).call(this),l=this.getNextId(),b=dt(this,p,b0).call(this,{parent:this,id:l,x:w,y:q,uiManager:Ue(this,f),isCentered:!0,...d});b&&this.add(b)}deserialize(Q){switch(Q.annotationType??Q.annotationEditorType){case V.AnnotationEditorType.FREETEXT:return _e.FreeTextEditor.deserialize(Q,this,Ue(this,f));case V.AnnotationEditorType.INK:return Pe.InkEditor.deserialize(Q,this,Ue(this,f));case V.AnnotationEditorType.STAMP:return re.StampEditor.deserialize(Q,this,Ue(this,f))}return null}addNewEditor(){dt(this,T,mA).call(this,dt(this,P,w0).call(this),!0)}setSelected(Q){Ue(this,f).setSelected(Q)}toggleSelected(Q){Ue(this,f).toggleSelected(Q)}isSelected(Q){return Ue(this,f).isSelected(Q)}unselect(Q){Ue(this,f).unselect(Q)}pointerup(Q){const{isMac:d}=V.FeatureTest.platform;if(!(Q.button!==0||Q.ctrlKey&&d)&&Q.target===this.div&&Ue(this,X)){if(Pt(this,X,!1),!Ue(this,U)){Pt(this,U,!0);return}if(Ue(this,f).getMode()===V.AnnotationEditorType.STAMP){Ue(this,f).unselectAll();return}dt(this,T,mA).call(this,Q,!1)}}pointerdown(Q){if(Ue(this,X)){Pt(this,X,!1);return}const{isMac:d}=V.FeatureTest.platform;if(Q.button!==0||Q.ctrlKey&&d||Q.target!==this.div)return;Pt(this,X,!0);const w=Ue(this,f).getActive();Pt(this,U,!w||w.isEmpty())}findNewParent(Q,d,w){const q=Ue(this,f).findParent(d,w);return q===null||q===this?!1:(q.changeParent(Q),!0)}destroy(){var Q,d;((Q=Ue(this,f).getActive())==null?void 0:Q.parent)===this&&(Ue(this,f).commitOrRemove(),Ue(this,f).setActiveEditor(null));for(const w of Ue(this,K).values())(d=Ue(this,x))==null||d.removePointerInTextLayer(w.contentDiv),w.setParent(null),w.isAttachedToDOM=!1,w.div.remove();this.div=null,Ue(this,K).clear(),Ue(this,f).removeLayer(this)}render({viewport:Q}){this.viewport=Q,(0,h.setLayerDimensions)(this.div,Q);for(const d of Ue(this,f).getEditors(this.pageIndex))this.add(d);this.updateMode()}update({viewport:Q}){Ue(this,f).commitOrRemove(),this.viewport=Q,(0,h.setLayerDimensions)(this.div,{rotation:Q.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Q,pageHeight:d}=this.viewport.rawDims;return[Q,d]}};x=new WeakMap,U=new WeakMap,e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,X=new WeakMap,L=new WeakMap,O=new WeakMap,f=new WeakMap,p=new WeakSet,b0=function(Q){switch(Ue(this,f).getMode()){case V.AnnotationEditorType.FREETEXT:return new _e.FreeTextEditor(Q);case V.AnnotationEditorType.INK:return new Pe.InkEditor(Q);case V.AnnotationEditorType.STAMP:return new re.StampEditor(Q)}return null},T=new WeakSet,mA=function(Q,d){const w=this.getNextId(),q=dt(this,p,b0).call(this,{parent:this,id:w,x:Q.offsetX,y:Q.offsetY,uiManager:Ue(this,f),isCentered:d});return q&&this.add(q),q},P=new WeakSet,w0=function(){const{x:Q,y:d,width:w,height:q}=this.div.getBoundingClientRect(),l=Math.max(0,Q),b=Math.max(0,d),D=Math.min(window.innerWidth,Q+w),Z=Math.min(window.innerHeight,d+q),N=(l+D)/2-Q,v=(b+Z)/2-d,[S,I]=this.viewport.rotation%180===0?[N,v]:[v,N];return{offsetX:S,offsetY:I}},H=new WeakSet,y0=function(){Pt(this,L,!0);for(const Q of Ue(this,K).values())Q.isEmpty()&&Q.remove();Pt(this,L,!1)},br(se,"_initialized",!1);let n=se;s.AnnotationEditorLayer=n},(a,s,M)=>{var re,n,x,U,e,t,o,K,X,L,Ih,f,Th,i,_h,F,vo,C,B0,$,Ph,_,C0;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var V=M(1),Ae=M(5),_e=M(4),Pe=M(29);const d=class d extends _e.AnnotationEditor{constructor(l){super({...l,name:"freeTextEditor"});ct(this,L);ct(this,f);ct(this,i);ct(this,F);ct(this,C);ct(this,$);ct(this,_);ct(this,re,this.editorDivBlur.bind(this));ct(this,n,this.editorDivFocus.bind(this));ct(this,x,this.editorDivInput.bind(this));ct(this,U,this.editorDivKeydown.bind(this));ct(this,e,void 0);ct(this,t,"");ct(this,o,`${this.id}-editor`);ct(this,K,void 0);ct(this,X,null);Pt(this,e,l.color||d._defaultColor||_e.AnnotationEditor._defaultLineColor),Pt(this,K,l.fontSize||d._defaultFontSize)}static get _keyboardManager(){const l=d.prototype,b=N=>N.isEmpty(),D=Ae.AnnotationEditorUIManager.TRANSLATE_SMALL,Z=Ae.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,V.shadow)(this,"_keyboardManager",new Ae.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],l.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],l.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],l._translateEmpty,{args:[-D,0],checker:b}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],l._translateEmpty,{args:[-Z,0],checker:b}],[["ArrowRight","mac+ArrowRight"],l._translateEmpty,{args:[D,0],checker:b}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],l._translateEmpty,{args:[Z,0],checker:b}],[["ArrowUp","mac+ArrowUp"],l._translateEmpty,{args:[0,-D],checker:b}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],l._translateEmpty,{args:[0,-Z],checker:b}],[["ArrowDown","mac+ArrowDown"],l._translateEmpty,{args:[0,D],checker:b}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],l._translateEmpty,{args:[0,Z],checker:b}]]))}static initialize(l){_e.AnnotationEditor.initialize(l,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const b=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(b.getPropertyValue("--freetext-padding"))}static updateDefaultParams(l,b){switch(l){case V.AnnotationEditorParamsType.FREETEXT_SIZE:d._defaultFontSize=b;break;case V.AnnotationEditorParamsType.FREETEXT_COLOR:d._defaultColor=b;break}}updateParams(l,b){switch(l){case V.AnnotationEditorParamsType.FREETEXT_SIZE:dt(this,L,Ih).call(this,b);break;case V.AnnotationEditorParamsType.FREETEXT_COLOR:dt(this,f,Th).call(this,b);break}}static get defaultPropertiesToUpdate(){return[[V.AnnotationEditorParamsType.FREETEXT_SIZE,d._defaultFontSize],[V.AnnotationEditorParamsType.FREETEXT_COLOR,d._defaultColor||_e.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[V.AnnotationEditorParamsType.FREETEXT_SIZE,Ue(this,K)],[V.AnnotationEditorParamsType.FREETEXT_COLOR,Ue(this,e)]]}_translateEmpty(l,b){this._uiManager.translateSelectedEditors(l,b,!0)}getInitialTranslation(){const l=this.parentScale;return[-d._internalPadding*l,-(d._internalPadding+Ue(this,K))*l]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(V.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Ue(this,U)),this.editorDiv.addEventListener("focus",Ue(this,n)),this.editorDiv.addEventListener("blur",Ue(this,re)),this.editorDiv.addEventListener("input",Ue(this,x)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ue(this,o)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Ue(this,U)),this.editorDiv.removeEventListener("focus",Ue(this,n)),this.editorDiv.removeEventListener("blur",Ue(this,re)),this.editorDiv.removeEventListener("input",Ue(this,x)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(l){this._focusEventsAllowed&&(super.focusin(l),l.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var l;if(this.width){dt(this,_,C0).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(l=this._initialOptions)!=null&&l.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const l=Ue(this,t),b=Pt(this,t,dt(this,i,_h).call(this).trimEnd());if(l===b)return;const D=Z=>{if(Pt(this,t,Z),!Z){this.remove();return}dt(this,C,B0).call(this),this._uiManager.rebuild(this),dt(this,F,vo).call(this)};this.addCommands({cmd:()=>{D(b)},undo:()=>{D(l)},mustExec:!1}),dt(this,F,vo).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(l){this.enterInEditMode()}keydown(l){l.target===this.div&&l.key==="Enter"&&(this.enterInEditMode(),l.preventDefault())}editorDivKeydown(l){d._keyboardManager.exec(this,l)}editorDivFocus(l){this.isEditing=!0}editorDivBlur(l){this.isEditing=!1}editorDivInput(l){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let l,b;this.width&&(l=this.x,b=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ue(this,o)),this.enableEditing(),_e.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Z=>{var N;return(N=this.editorDiv)==null?void 0:N.setAttribute("aria-label",Z)}),_e.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Z=>{var N;return(N=this.editorDiv)==null?void 0:N.setAttribute("default-content",Z)}),this.editorDiv.contentEditable=!0;const{style:D}=this.editorDiv;if(D.fontSize=`calc(${Ue(this,K)}px * var(--scale-factor))`,D.color=Ue(this,e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,Ae.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Z,N]=this.parentDimensions;if(this.annotationElementId){const{position:v}=Ue(this,X);let[S,I]=this.getInitialTranslation();[S,I]=this.pageTranslationToScreen(S,I);const[u,y]=this.pageDimensions,[r,A]=this.pageTranslation;let E,G;switch(this.rotation){case 0:E=l+(v[0]-r)/u,G=b+this.height-(v[1]-A)/y;break;case 90:E=l+(v[0]-r)/u,G=b-(v[1]-A)/y,[S,I]=[I,-S];break;case 180:E=l-this.width+(v[0]-r)/u,G=b-(v[1]-A)/y,[S,I]=[-S,-I];break;case 270:E=l+(v[0]-r-this.height*y)/u,G=b+(v[1]-A-this.width*u)/y,[S,I]=[-I,S];break}this.setAt(E*Z,G*N,S,I)}else this.setAt(l*Z,b*N,this.width*Z,this.height*N);dt(this,C,B0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(l,b,D){let Z=null;if(l instanceof Pe.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:v,fontColor:S},rect:I,rotation:u,id:y},textContent:r,textPosition:A,parent:{page:{pageNumber:E}}}=l;if(!r||r.length===0)return null;Z=l={annotationType:V.AnnotationEditorType.FREETEXT,color:Array.from(S),fontSize:v,value:r.join(`
`),position:A,pageIndex:E-1,rect:I,rotation:u,id:y,deleted:!1}}const N=super.deserialize(l,b,D);return Pt(N,K,l.fontSize),Pt(N,e,V.Util.makeHexColor(...l.color)),Pt(N,t,l.value),N.annotationElementId=l.id||null,Pt(N,X,Z),N}serialize(l=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const b=d._internalPadding*this.parentScale,D=this.getRect(b,b),Z=_e.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Ue(this,e)),N={annotationType:V.AnnotationEditorType.FREETEXT,color:Z,fontSize:Ue(this,K),value:Ue(this,t),pageIndex:this.pageIndex,rect:D,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return l?N:this.annotationElementId&&!dt(this,$,Ph).call(this,N)?null:(N.id=this.annotationElementId,N)}};re=new WeakMap,n=new WeakMap,x=new WeakMap,U=new WeakMap,e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,X=new WeakMap,L=new WeakSet,Ih=function(l){const b=Z=>{this.editorDiv.style.fontSize=`calc(${Z}px * var(--scale-factor))`,this.translate(0,-(Z-Ue(this,K))*this.parentScale),Pt(this,K,Z),dt(this,F,vo).call(this)},D=Ue(this,K);this.addCommands({cmd:()=>{b(l)},undo:()=>{b(D)},mustExec:!0,type:V.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},f=new WeakSet,Th=function(l){const b=Ue(this,e);this.addCommands({cmd:()=>{Pt(this,e,this.editorDiv.style.color=l)},undo:()=>{Pt(this,e,this.editorDiv.style.color=b)},mustExec:!0,type:V.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},i=new WeakSet,_h=function(){const l=this.editorDiv.getElementsByTagName("div");if(l.length===0)return this.editorDiv.innerText;const b=[];for(const D of l)b.push(D.innerText.replace(/\r\n?|\n/,""));return b.join(`
`)},F=new WeakSet,vo=function(){const[l,b]=this.parentDimensions;let D;if(this.isAttachedToDOM)D=this.div.getBoundingClientRect();else{const{currentLayer:Z,div:N}=this,v=N.style.display;N.style.display="hidden",Z.div.append(this.div),D=N.getBoundingClientRect(),N.remove(),N.style.display=v}this.rotation%180===this.parentRotation%180?(this.width=D.width/l,this.height=D.height/b):(this.width=D.height/l,this.height=D.width/b),this.fixAndSetPosition()},C=new WeakSet,B0=function(){if(this.editorDiv.replaceChildren(),!!Ue(this,t))for(const l of Ue(this,t).split(`
`)){const b=document.createElement("div");b.append(l?document.createTextNode(l):document.createElement("br")),this.editorDiv.append(b)}},$=new WeakSet,Ph=function(l){const{value:b,fontSize:D,color:Z,rect:N,pageIndex:v}=Ue(this,X);return l.value!==b||l.fontSize!==D||l.rect.some((S,I)=>Math.abs(S-N[I])>=1)||l.color.some((S,I)=>S!==Z[I])||l.pageIndex!==v},_=new WeakSet,C0=function(l=!1){if(!this.annotationElementId)return;if(dt(this,F,vo).call(this),!l&&(this.width===0||this.height===0)){setTimeout(()=>dt(this,_,C0).call(this,!0),0);return}const b=d._internalPadding*this.parentScale;Ue(this,X).rect=this.getRect(b,b)},br(d,"_freeTextDefaultContent",""),br(d,"_internalPadding",0),br(d,"_defaultColor",null),br(d,"_defaultFontSize",10),br(d,"_type","freetext");let h=d;s.FreeTextEditor=h},(a,s,M)=>{var I,y,Js,A,Oh,G,ae,ce,Ie,fe,Te,be,ve,te,ie,ge,he,ue,we,Ce,le,ke,Fe,Mh,Ee,wA,Ne,v0,rt,S0,je,$e,ze,at,mt,At,Qe,F0,pt,st,St,kt,Uh,ft,E0;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var V=M(1),Ae=M(6),_e=M(3),Pe=M(30),h=M(31),re=M(32);const n=1e3,x=9,U=new WeakSet;function e(Xt){return{width:Xt[2]-Xt[0],height:Xt[3]-Xt[1]}}class t{static create(Ve){switch(Ve.data.annotationType){case V.AnnotationType.LINK:return new K(Ve);case V.AnnotationType.TEXT:return new X(Ve);case V.AnnotationType.WIDGET:switch(Ve.data.fieldType){case"Tx":return new O(Ve);case"Btn":return Ve.data.radioButton?new i(Ve):Ve.data.checkBox?new p(Ve):new T(Ve);case"Ch":return new F(Ve);case"Sig":return new f(Ve)}return new L(Ve);case V.AnnotationType.POPUP:return new P(Ve);case V.AnnotationType.FREETEXT:return new H(Ve);case V.AnnotationType.LINE:return new $(Ve);case V.AnnotationType.SQUARE:return new se(Ve);case V.AnnotationType.CIRCLE:return new _(Ve);case V.AnnotationType.POLYLINE:return new Q(Ve);case V.AnnotationType.CARET:return new w(Ve);case V.AnnotationType.INK:return new q(Ve);case V.AnnotationType.POLYGON:return new d(Ve);case V.AnnotationType.HIGHLIGHT:return new l(Ve);case V.AnnotationType.UNDERLINE:return new b(Ve);case V.AnnotationType.SQUIGGLY:return new D(Ve);case V.AnnotationType.STRIKEOUT:return new Z(Ve);case V.AnnotationType.STAMP:return new N(Ve);case V.AnnotationType.FILEATTACHMENT:return new v(Ve);default:return new o(Ve)}}}const u=class u{constructor(Ve,{isRenderable:Re=!1,ignoreBorder:qe=!1,createQuadrilaterals:Ze=!1}={}){ct(this,I,!1);this.isRenderable=Re,this.data=Ve.data,this.layer=Ve.layer,this.linkService=Ve.linkService,this.downloadManager=Ve.downloadManager,this.imageResourcesPath=Ve.imageResourcesPath,this.renderForms=Ve.renderForms,this.svgFactory=Ve.svgFactory,this.annotationStorage=Ve.annotationStorage,this.enableScripting=Ve.enableScripting,this.hasJSActions=Ve.hasJSActions,this._fieldObjects=Ve.fieldObjects,this.parent=Ve.parent,Re&&(this.container=this._createContainer(qe)),Ze&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ve,contentsObj:Re,richText:qe}){return!!(Ve!=null&&Ve.str||Re!=null&&Re.str||qe!=null&&qe.str)}get hasPopupData(){return u._hasPopupData(this.data)}_createContainer(Ve){const{data:Re,parent:{page:qe,viewport:Ze}}=this,lt=document.createElement("section");lt.setAttribute("data-annotation-id",Re.id),this instanceof L||(lt.tabIndex=n),lt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&lt.setAttribute("aria-haspopup","dialog"),Re.noRotate&&lt.classList.add("norotate");const{pageWidth:gt,pageHeight:xt,pageX:jt,pageY:Mt}=Ze.rawDims;if(!Re.rect||this instanceof P){const{rotation:qn}=Re;return!Re.hasOwnCanvas&&qn!==0&&this.setRotation(qn,lt),lt}const{width:Dt,height:Kt}=e(Re.rect),Wt=V.Util.normalizeRect([Re.rect[0],qe.view[3]-Re.rect[1]+qe.view[1],Re.rect[2],qe.view[3]-Re.rect[3]+qe.view[1]]);if(!Ve&&Re.borderStyle.width>0){lt.style.borderWidth=`${Re.borderStyle.width}px`;const qn=Re.borderStyle.horizontalCornerRadius,Hn=Re.borderStyle.verticalCornerRadius;if(qn>0||Hn>0){const hr=`calc(${qn}px * var(--scale-factor)) / calc(${Hn}px * var(--scale-factor))`;lt.style.borderRadius=hr}else if(this instanceof i){const hr=`calc(${Dt}px * var(--scale-factor)) / calc(${Kt}px * var(--scale-factor))`;lt.style.borderRadius=hr}switch(Re.borderStyle.style){case V.AnnotationBorderStyleType.SOLID:lt.style.borderStyle="solid";break;case V.AnnotationBorderStyleType.DASHED:lt.style.borderStyle="dashed";break;case V.AnnotationBorderStyleType.BEVELED:(0,V.warn)("Unimplemented border style: beveled");break;case V.AnnotationBorderStyleType.INSET:(0,V.warn)("Unimplemented border style: inset");break;case V.AnnotationBorderStyleType.UNDERLINE:lt.style.borderBottomStyle="solid";break}const $i=Re.borderColor||null;$i?(Pt(this,I,!0),lt.style.borderColor=V.Util.makeHexColor($i[0]|0,$i[1]|0,$i[2]|0)):lt.style.borderWidth=0}lt.style.left=`${100*(Wt[0]-jt)/gt}%`,lt.style.top=`${100*(Wt[1]-Mt)/xt}%`;const{rotation:Zt}=Re;return Re.hasOwnCanvas||Zt===0?(lt.style.width=`${100*Dt/gt}%`,lt.style.height=`${100*Kt/xt}%`):this.setRotation(Zt,lt),lt}setRotation(Ve,Re=this.container){if(!this.data.rect)return;const{pageWidth:qe,pageHeight:Ze}=this.parent.viewport.rawDims,{width:lt,height:gt}=e(this.data.rect);let xt,jt;Ve%180===0?(xt=100*lt/qe,jt=100*gt/Ze):(xt=100*gt/qe,jt=100*lt/Ze),Re.style.width=`${xt}%`,Re.style.height=`${jt}%`,Re.setAttribute("data-main-rotation",(360-Ve)%360)}get _commonActions(){const Ve=(Re,qe,Ze)=>{const lt=Ze.detail[Re],gt=lt[0],xt=lt.slice(1);Ze.target.style[qe]=Pe.ColorConverters[`${gt}_HTML`](xt),this.annotationStorage.setValue(this.data.id,{[qe]:Pe.ColorConverters[`${gt}_rgb`](xt)})};return(0,V.shadow)(this,"_commonActions",{display:Re=>{const{display:qe}=Re.detail,Ze=qe%2===1;this.container.style.visibility=Ze?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Ze,noPrint:qe===1||qe===2})},print:Re=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Re.detail.print})},hidden:Re=>{const{hidden:qe}=Re.detail;this.container.style.visibility=qe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:qe,noView:qe})},focus:Re=>{setTimeout(()=>Re.target.focus({preventScroll:!1}),0)},userName:Re=>{Re.target.title=Re.detail.userName},readonly:Re=>{Re.target.disabled=Re.detail.readonly},required:Re=>{this._setRequired(Re.target,Re.detail.required)},bgColor:Re=>{Ve("bgColor","backgroundColor",Re)},fillColor:Re=>{Ve("fillColor","backgroundColor",Re)},fgColor:Re=>{Ve("fgColor","color",Re)},textColor:Re=>{Ve("textColor","color",Re)},borderColor:Re=>{Ve("borderColor","borderColor",Re)},strokeColor:Re=>{Ve("strokeColor","borderColor",Re)},rotation:Re=>{const qe=Re.detail.rotation;this.setRotation(qe),this.annotationStorage.setValue(this.data.id,{rotation:qe})}})}_dispatchEventFromSandbox(Ve,Re){const qe=this._commonActions;for(const Ze of Object.keys(Re.detail)){const lt=Ve[Ze]||qe[Ze];lt==null||lt(Re)}}_setDefaultPropertiesFromJS(Ve){if(!this.enableScripting)return;const Re=this.annotationStorage.getRawValue(this.data.id);if(!Re)return;const qe=this._commonActions;for(const[Ze,lt]of Object.entries(Re)){const gt=qe[Ze];if(gt){const xt={detail:{[Ze]:lt},target:Ve};gt(xt),delete Re[Ze]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ve}=this.data;if(!Ve)return;const[Re,qe,Ze,lt]=this.data.rect;if(Ve.length===1){const[,{x:Hn,y:$i},{x:hr,y:Lt}]=Ve[0];if(Ze===Hn&&lt===$i&&Re===hr&&qe===Lt)return}const{style:gt}=this.container;let xt;if(Ue(this,I)){const{borderColor:Hn,borderWidth:$i}=gt;gt.borderWidth=0,xt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Hn}" stroke-width="${$i}">`],this.container.classList.add("hasBorder")}const jt=Ze-Re,Mt=lt-qe,{svgFactory:Dt}=this,Kt=Dt.createElement("svg");Kt.classList.add("quadrilateralsContainer"),Kt.setAttribute("width",0),Kt.setAttribute("height",0);const Wt=Dt.createElement("defs");Kt.append(Wt);const Zt=Dt.createElement("clipPath"),qn=`clippath_${this.data.id}`;Zt.setAttribute("id",qn),Zt.setAttribute("clipPathUnits","objectBoundingBox"),Wt.append(Zt);for(const[,{x:Hn,y:$i},{x:hr,y:Lt}]of Ve){const Ot=Dt.createElement("rect"),Gt=(hr-Re)/jt,zt=(lt-$i)/Mt,$n=(Hn-hr)/jt,Di=($i-Lt)/Mt;Ot.setAttribute("x",Gt),Ot.setAttribute("y",zt),Ot.setAttribute("width",$n),Ot.setAttribute("height",Di),Zt.append(Ot),xt==null||xt.push(`<rect vector-effect="non-scaling-stroke" x="${Gt}" y="${zt}" width="${$n}" height="${Di}"/>`)}Ue(this,I)&&(xt.push("</g></svg>')"),gt.backgroundImage=xt.join("")),this.container.append(Kt),this.container.style.clipPath=`url(#${qn})`}_createPopup(){const{container:Ve,data:Re}=this;Ve.setAttribute("aria-haspopup","dialog");const qe=new P({data:{color:Re.color,titleObj:Re.titleObj,modificationDate:Re.modificationDate,contentsObj:Re.contentsObj,richText:Re.richText,parentRect:Re.rect,borderStyle:0,id:`popup_${Re.id}`,rotation:Re.rotation},parent:this.parent,elements:[this]});this.parent.div.append(qe.render())}render(){(0,V.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ve,Re=null){const qe=[];if(this._fieldObjects){const Ze=this._fieldObjects[Ve];if(Ze)for(const{page:lt,id:gt,exportValues:xt}of Ze){if(lt===-1||gt===Re)continue;const jt=typeof xt=="string"?xt:null,Mt=document.querySelector(`[data-element-id="${gt}"]`);if(Mt&&!U.has(Mt)){(0,V.warn)(`_getElementsByName - element not allowed: ${gt}`);continue}qe.push({id:gt,exportValue:jt,domElement:Mt})}return qe}for(const Ze of document.getElementsByName(Ve)){const{exportValue:lt}=Ze,gt=Ze.getAttribute("data-element-id");gt!==Re&&U.has(Ze)&&qe.push({id:gt,exportValue:lt,domElement:Ze})}return qe}show(){var Ve;this.container&&(this.container.hidden=!1),(Ve=this.popup)==null||Ve.maybeShow()}hide(){var Ve;this.container&&(this.container.hidden=!0),(Ve=this.popup)==null||Ve.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ve=this.getElementsToTriggerPopup();if(Array.isArray(Ve))for(const Re of Ve)Re.classList.add("highlightArea");else Ve.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ve,data:{id:Re}}=this;this.container.addEventListener("dblclick",()=>{var qe;(qe=this.linkService.eventBus)==null||qe.dispatch("switchannotationeditormode",{source:this,mode:Ve,editId:Re})})}};I=new WeakMap;let o=u;class K extends o{constructor(Re,qe=null){super(Re,{isRenderable:!0,ignoreBorder:!!(qe!=null&&qe.ignoreBorder),createQuadrilaterals:!0});ct(this,y);ct(this,A);this.isTooltipOnly=Re.data.isTooltipOnly}render(){const{data:Re,linkService:qe}=this,Ze=document.createElement("a");Ze.setAttribute("data-element-id",Re.id);let lt=!1;return Re.url?(qe.addLinkAttributes(Ze,Re.url,Re.newWindow),lt=!0):Re.action?(this._bindNamedAction(Ze,Re.action),lt=!0):Re.attachment?(this._bindAttachment(Ze,Re.attachment),lt=!0):Re.setOCGState?(dt(this,A,Oh).call(this,Ze,Re.setOCGState),lt=!0):Re.dest?(this._bindLink(Ze,Re.dest),lt=!0):(Re.actions&&(Re.actions.Action||Re.actions["Mouse Up"]||Re.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ze,Re),lt=!0),Re.resetForm?(this._bindResetFormAction(Ze,Re.resetForm),lt=!0):this.isTooltipOnly&&!lt&&(this._bindLink(Ze,""),lt=!0)),this.container.classList.add("linkAnnotation"),lt&&this.container.append(Ze),this.container}_bindLink(Re,qe){Re.href=this.linkService.getDestinationHash(qe),Re.onclick=()=>(qe&&this.linkService.goToDestination(qe),!1),(qe||qe==="")&&dt(this,y,Js).call(this)}_bindNamedAction(Re,qe){Re.href=this.linkService.getAnchorUrl(""),Re.onclick=()=>(this.linkService.executeNamedAction(qe),!1),dt(this,y,Js).call(this)}_bindAttachment(Re,qe){Re.href=this.linkService.getAnchorUrl(""),Re.onclick=()=>{var Ze;return(Ze=this.downloadManager)==null||Ze.openOrDownloadData(this.container,qe.content,qe.filename),!1},dt(this,y,Js).call(this)}_bindJSAction(Re,qe){Re.href=this.linkService.getAnchorUrl("");const Ze=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const lt of Object.keys(qe.actions)){const gt=Ze.get(lt);gt&&(Re[gt]=()=>{var xt;return(xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qe.id,name:lt}}),!1})}Re.onclick||(Re.onclick=()=>!1),dt(this,y,Js).call(this)}_bindResetFormAction(Re,qe){const Ze=Re.onclick;if(Ze||(Re.href=this.linkService.getAnchorUrl("")),dt(this,y,Js).call(this),!this._fieldObjects){(0,V.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ze||(Re.onclick=()=>!1);return}Re.onclick=()=>{var Kt;Ze==null||Ze();const{fields:lt,refs:gt,include:xt}=qe,jt=[];if(lt.length!==0||gt.length!==0){const Wt=new Set(gt);for(const Zt of lt){const qn=this._fieldObjects[Zt]||[];for(const{id:Hn}of qn)Wt.add(Hn)}for(const Zt of Object.values(this._fieldObjects))for(const qn of Zt)Wt.has(qn.id)===xt&&jt.push(qn)}else for(const Wt of Object.values(this._fieldObjects))jt.push(...Wt);const Mt=this.annotationStorage,Dt=[];for(const Wt of jt){const{id:Zt}=Wt;switch(Dt.push(Zt),Wt.type){case"text":{const Hn=Wt.defaultValue||"";Mt.setValue(Zt,{value:Hn});break}case"checkbox":case"radiobutton":{const Hn=Wt.defaultValue===Wt.exportValues;Mt.setValue(Zt,{value:Hn});break}case"combobox":case"listbox":{const Hn=Wt.defaultValue||"";Mt.setValue(Zt,{value:Hn});break}default:continue}const qn=document.querySelector(`[data-element-id="${Zt}"]`);if(qn){if(!U.has(qn)){(0,V.warn)(`_bindResetFormAction - element not allowed: ${Zt}`);continue}}else continue;qn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Dt,name:"ResetForm"}})),!1}}}y=new WeakSet,Js=function(){this.container.setAttribute("data-internal-link","")},A=new WeakSet,Oh=function(Re,qe){Re.href=this.linkService.getAnchorUrl(""),Re.onclick=()=>(this.linkService.executeSetOCGState(qe),!1),dt(this,y,Js).call(this)};class X extends o{constructor(Ve){super(Ve,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ve=document.createElement("img");return Ve.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ve.alt="[{{type}} Annotation]",Ve.dataset.l10nId="text_annotation_type",Ve.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ve),this.container}}class L extends o{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ve){var Re;this.data.hasOwnCanvas&&(((Re=Ve.previousSibling)==null?void 0:Re.nodeName)==="CANVAS"&&(Ve.previousSibling.hidden=!0),Ve.hidden=!1)}_getKeyModifier(Ve){const{isWin:Re,isMac:qe}=V.FeatureTest.platform;return Re&&Ve.ctrlKey||qe&&Ve.metaKey}_setEventListener(Ve,Re,qe,Ze,lt){qe.includes("mouse")?Ve.addEventListener(qe,gt=>{var xt;(xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ze,value:lt(gt),shift:gt.shiftKey,modifier:this._getKeyModifier(gt)}})}):Ve.addEventListener(qe,gt=>{var xt;if(qe==="blur"){if(!Re.focused||!gt.relatedTarget)return;Re.focused=!1}else if(qe==="focus"){if(Re.focused)return;Re.focused=!0}lt&&((xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ze,value:lt(gt)}}))})}_setEventListeners(Ve,Re,qe,Ze){var lt,gt,xt;for(const[jt,Mt]of qe)(Mt==="Action"||(lt=this.data.actions)!=null&&lt[Mt])&&((Mt==="Focus"||Mt==="Blur")&&(Re||(Re={focused:!1})),this._setEventListener(Ve,Re,jt,Mt,Ze),Mt==="Focus"&&!((gt=this.data.actions)!=null&&gt.Blur)?this._setEventListener(Ve,Re,"blur","Blur",null):Mt==="Blur"&&!((xt=this.data.actions)!=null&&xt.Focus)&&this._setEventListener(Ve,Re,"focus","Focus",null))}_setBackgroundColor(Ve){const Re=this.data.backgroundColor||null;Ve.style.backgroundColor=Re===null?"transparent":V.Util.makeHexColor(Re[0],Re[1],Re[2])}_setTextStyle(Ve){const Re=["left","center","right"],{fontColor:qe}=this.data.defaultAppearanceData,Ze=this.data.defaultAppearanceData.fontSize||x,lt=Ve.style;let gt;const xt=2,jt=Mt=>Math.round(10*Mt)/10;if(this.data.multiLine){const Mt=Math.abs(this.data.rect[3]-this.data.rect[1]-xt),Dt=Math.round(Mt/(V.LINE_FACTOR*Ze))||1,Kt=Mt/Dt;gt=Math.min(Ze,jt(Kt/V.LINE_FACTOR))}else{const Mt=Math.abs(this.data.rect[3]-this.data.rect[1]-xt);gt=Math.min(Ze,jt(Mt/V.LINE_FACTOR))}lt.fontSize=`calc(${gt}px * var(--scale-factor))`,lt.color=V.Util.makeHexColor(qe[0],qe[1],qe[2]),this.data.textAlignment!==null&&(lt.textAlign=Re[this.data.textAlignment])}_setRequired(Ve,Re){Re?Ve.setAttribute("required",!0):Ve.removeAttribute("required"),Ve.setAttribute("aria-required",Re)}}class O extends L{constructor(Ve){const Re=Ve.renderForms||!Ve.data.hasAppearance&&!!Ve.data.fieldValue;super(Ve,{isRenderable:Re})}setPropertyOnSiblings(Ve,Re,qe,Ze){const lt=this.annotationStorage;for(const gt of this._getElementsByName(Ve.name,Ve.id))gt.domElement&&(gt.domElement[Re]=qe),lt.setValue(gt.id,{[Ze]:qe})}render(){var Ze,lt;const Ve=this.annotationStorage,Re=this.data.id;this.container.classList.add("textWidgetAnnotation");let qe=null;if(this.renderForms){const gt=Ve.getValue(Re,{value:this.data.fieldValue});let xt=gt.value||"";const jt=Ve.getValue(Re,{charLimit:this.data.maxLen}).charLimit;jt&&xt.length>jt&&(xt=xt.slice(0,jt));let Mt=gt.formattedValue||((Ze=this.data.textContent)==null?void 0:Ze.join(`
`))||null;Mt&&this.data.comb&&(Mt=Mt.replaceAll(/\s+/g,""));const Dt={userValue:xt,formattedValue:Mt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(qe=document.createElement("textarea"),qe.textContent=Mt??xt,this.data.doNotScroll&&(qe.style.overflowY="hidden")):(qe=document.createElement("input"),qe.type="text",qe.setAttribute("value",Mt??xt),this.data.doNotScroll&&(qe.style.overflowX="hidden")),this.data.hasOwnCanvas&&(qe.hidden=!0),U.add(qe),qe.setAttribute("data-element-id",Re),qe.disabled=this.data.readOnly,qe.name=this.data.fieldName,qe.tabIndex=n,this._setRequired(qe,this.data.required),jt&&(qe.maxLength=jt),qe.addEventListener("input",Wt=>{Ve.setValue(Re,{value:Wt.target.value}),this.setPropertyOnSiblings(qe,"value",Wt.target.value,"value"),Dt.formattedValue=null}),qe.addEventListener("resetform",Wt=>{const Zt=this.data.defaultFieldValue??"";qe.value=Dt.userValue=Zt,Dt.formattedValue=null});let Kt=Wt=>{const{formattedValue:Zt}=Dt;Zt!=null&&(Wt.target.value=Zt),Wt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){qe.addEventListener("focus",Zt=>{if(Dt.focused)return;const{target:qn}=Zt;Dt.userValue&&(qn.value=Dt.userValue),Dt.lastCommittedValue=qn.value,Dt.commitKey=1,Dt.focused=!0}),qe.addEventListener("updatefromsandbox",Zt=>{this.showElementAndHideCanvas(Zt.target);const qn={value(Hn){Dt.userValue=Hn.detail.value??"",Ve.setValue(Re,{value:Dt.userValue.toString()}),Hn.target.value=Dt.userValue},formattedValue(Hn){const{formattedValue:$i}=Hn.detail;Dt.formattedValue=$i,$i!=null&&Hn.target!==document.activeElement&&(Hn.target.value=$i),Ve.setValue(Re,{formattedValue:$i})},selRange(Hn){Hn.target.setSelectionRange(...Hn.detail.selRange)},charLimit:Hn=>{var Ot;const{charLimit:$i}=Hn.detail,{target:hr}=Hn;if($i===0){hr.removeAttribute("maxLength");return}hr.setAttribute("maxLength",$i);let Lt=Dt.userValue;!Lt||Lt.length<=$i||(Lt=Lt.slice(0,$i),hr.value=Dt.userValue=Lt,Ve.setValue(Re,{value:Lt}),(Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Re,name:"Keystroke",value:Lt,willCommit:!0,commitKey:1,selStart:hr.selectionStart,selEnd:hr.selectionEnd}}))}};this._dispatchEventFromSandbox(qn,Zt)}),qe.addEventListener("keydown",Zt=>{var $i;Dt.commitKey=1;let qn=-1;if(Zt.key==="Escape"?qn=0:Zt.key==="Enter"&&!this.data.multiLine?qn=2:Zt.key==="Tab"&&(Dt.commitKey=3),qn===-1)return;const{value:Hn}=Zt.target;Dt.lastCommittedValue!==Hn&&(Dt.lastCommittedValue=Hn,Dt.userValue=Hn,($i=this.linkService.eventBus)==null||$i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Re,name:"Keystroke",value:Hn,willCommit:!0,commitKey:qn,selStart:Zt.target.selectionStart,selEnd:Zt.target.selectionEnd}}))});const Wt=Kt;Kt=null,qe.addEventListener("blur",Zt=>{var Hn;if(!Dt.focused||!Zt.relatedTarget)return;Dt.focused=!1;const{value:qn}=Zt.target;Dt.userValue=qn,Dt.lastCommittedValue!==qn&&((Hn=this.linkService.eventBus)==null||Hn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Re,name:"Keystroke",value:qn,willCommit:!0,commitKey:Dt.commitKey,selStart:Zt.target.selectionStart,selEnd:Zt.target.selectionEnd}})),Wt(Zt)}),(lt=this.data.actions)!=null&&lt.Keystroke&&qe.addEventListener("beforeinput",Zt=>{var zt;Dt.lastCommittedValue=null;const{data:qn,target:Hn}=Zt,{value:$i,selectionStart:hr,selectionEnd:Lt}=Hn;let Ot=hr,Gt=Lt;switch(Zt.inputType){case"deleteWordBackward":{const $n=$i.substring(0,hr).match(/\w*[^\w]*$/);$n&&(Ot-=$n[0].length);break}case"deleteWordForward":{const $n=$i.substring(hr).match(/^[^\w]*\w*/);$n&&(Gt+=$n[0].length);break}case"deleteContentBackward":hr===Lt&&(Ot-=1);break;case"deleteContentForward":hr===Lt&&(Gt+=1);break}Zt.preventDefault(),(zt=this.linkService.eventBus)==null||zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Re,name:"Keystroke",value:$i,change:qn||"",willCommit:!1,selStart:Ot,selEnd:Gt}})}),this._setEventListeners(qe,Dt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Zt=>Zt.target.value)}if(Kt&&qe.addEventListener("blur",Kt),this.data.comb){const Zt=(this.data.rect[2]-this.data.rect[0])/jt;qe.classList.add("comb"),qe.style.letterSpacing=`calc(${Zt}px * var(--scale-factor) - 1ch)`}}else qe=document.createElement("div"),qe.textContent=this.data.fieldValue,qe.style.verticalAlign="middle",qe.style.display="table-cell";return this._setTextStyle(qe),this._setBackgroundColor(qe),this._setDefaultPropertiesFromJS(qe),this.container.append(qe),this.container}}class f extends L{constructor(Ve){super(Ve,{isRenderable:!!Ve.data.hasOwnCanvas})}}class p extends L{constructor(Ve){super(Ve,{isRenderable:Ve.renderForms})}render(){const Ve=this.annotationStorage,Re=this.data,qe=Re.id;let Ze=Ve.getValue(qe,{value:Re.exportValue===Re.fieldValue}).value;typeof Ze=="string"&&(Ze=Ze!=="Off",Ve.setValue(qe,{value:Ze})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const lt=document.createElement("input");return U.add(lt),lt.setAttribute("data-element-id",qe),lt.disabled=Re.readOnly,this._setRequired(lt,this.data.required),lt.type="checkbox",lt.name=Re.fieldName,Ze&&lt.setAttribute("checked",!0),lt.setAttribute("exportValue",Re.exportValue),lt.tabIndex=n,lt.addEventListener("change",gt=>{const{name:xt,checked:jt}=gt.target;for(const Mt of this._getElementsByName(xt,qe)){const Dt=jt&&Mt.exportValue===Re.exportValue;Mt.domElement&&(Mt.domElement.checked=Dt),Ve.setValue(Mt.id,{value:Dt})}Ve.setValue(qe,{value:jt})}),lt.addEventListener("resetform",gt=>{const xt=Re.defaultFieldValue||"Off";gt.target.checked=xt===Re.exportValue}),this.enableScripting&&this.hasJSActions&&(lt.addEventListener("updatefromsandbox",gt=>{const xt={value(jt){jt.target.checked=jt.detail.value!=="Off",Ve.setValue(qe,{value:jt.target.checked})}};this._dispatchEventFromSandbox(xt,gt)}),this._setEventListeners(lt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],gt=>gt.target.checked)),this._setBackgroundColor(lt),this._setDefaultPropertiesFromJS(lt),this.container.append(lt),this.container}}class i extends L{constructor(Ve){super(Ve,{isRenderable:Ve.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ve=this.annotationStorage,Re=this.data,qe=Re.id;let Ze=Ve.getValue(qe,{value:Re.fieldValue===Re.buttonValue}).value;typeof Ze=="string"&&(Ze=Ze!==Re.buttonValue,Ve.setValue(qe,{value:Ze}));const lt=document.createElement("input");if(U.add(lt),lt.setAttribute("data-element-id",qe),lt.disabled=Re.readOnly,this._setRequired(lt,this.data.required),lt.type="radio",lt.name=Re.fieldName,Ze&&lt.setAttribute("checked",!0),lt.tabIndex=n,lt.addEventListener("change",gt=>{const{name:xt,checked:jt}=gt.target;for(const Mt of this._getElementsByName(xt,qe))Ve.setValue(Mt.id,{value:!1});Ve.setValue(qe,{value:jt})}),lt.addEventListener("resetform",gt=>{const xt=Re.defaultFieldValue;gt.target.checked=xt!=null&&xt===Re.buttonValue}),this.enableScripting&&this.hasJSActions){const gt=Re.buttonValue;lt.addEventListener("updatefromsandbox",xt=>{const jt={value:Mt=>{const Dt=gt===Mt.detail.value;for(const Kt of this._getElementsByName(Mt.target.name)){const Wt=Dt&&Kt.id===qe;Kt.domElement&&(Kt.domElement.checked=Wt),Ve.setValue(Kt.id,{value:Wt})}}};this._dispatchEventFromSandbox(jt,xt)}),this._setEventListeners(lt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xt=>xt.target.checked)}return this._setBackgroundColor(lt),this._setDefaultPropertiesFromJS(lt),this.container.append(lt),this.container}}class T extends K{constructor(Ve){super(Ve,{ignoreBorder:Ve.data.hasAppearance})}render(){const Ve=super.render();Ve.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ve.title=this.data.alternativeText);const Re=Ve.lastChild;return this.enableScripting&&this.hasJSActions&&Re&&(this._setDefaultPropertiesFromJS(Re),Re.addEventListener("updatefromsandbox",qe=>{this._dispatchEventFromSandbox({},qe)})),Ve}}class F extends L{constructor(Ve){super(Ve,{isRenderable:Ve.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ve=this.annotationStorage,Re=this.data.id,qe=Ve.getValue(Re,{value:this.data.fieldValue}),Ze=document.createElement("select");U.add(Ze),Ze.setAttribute("data-element-id",Re),Ze.disabled=this.data.readOnly,this._setRequired(Ze,this.data.required),Ze.name=this.data.fieldName,Ze.tabIndex=n;let lt=this.data.combo&&this.data.options.length>0;this.data.combo||(Ze.size=this.data.options.length,this.data.multiSelect&&(Ze.multiple=!0)),Ze.addEventListener("resetform",Dt=>{const Kt=this.data.defaultFieldValue;for(const Wt of Ze.options)Wt.selected=Wt.value===Kt});for(const Dt of this.data.options){const Kt=document.createElement("option");Kt.textContent=Dt.displayValue,Kt.value=Dt.exportValue,qe.value.includes(Dt.exportValue)&&(Kt.setAttribute("selected",!0),lt=!1),Ze.append(Kt)}let gt=null;if(lt){const Dt=document.createElement("option");Dt.value=" ",Dt.setAttribute("hidden",!0),Dt.setAttribute("selected",!0),Ze.prepend(Dt),gt=()=>{Dt.remove(),Ze.removeEventListener("input",gt),gt=null},Ze.addEventListener("input",gt)}const xt=Dt=>{const Kt=Dt?"value":"textContent",{options:Wt,multiple:Zt}=Ze;return Zt?Array.prototype.filter.call(Wt,qn=>qn.selected).map(qn=>qn[Kt]):Wt.selectedIndex===-1?null:Wt[Wt.selectedIndex][Kt]};let jt=xt(!1);const Mt=Dt=>{const Kt=Dt.target.options;return Array.prototype.map.call(Kt,Wt=>({displayValue:Wt.textContent,exportValue:Wt.value}))};return this.enableScripting&&this.hasJSActions?(Ze.addEventListener("updatefromsandbox",Dt=>{const Kt={value(Wt){gt==null||gt();const Zt=Wt.detail.value,qn=new Set(Array.isArray(Zt)?Zt:[Zt]);for(const Hn of Ze.options)Hn.selected=qn.has(Hn.value);Ve.setValue(Re,{value:xt(!0)}),jt=xt(!1)},multipleSelection(Wt){Ze.multiple=!0},remove(Wt){const Zt=Ze.options,qn=Wt.detail.remove;Zt[qn].selected=!1,Ze.remove(qn),Zt.length>0&&Array.prototype.findIndex.call(Zt,$i=>$i.selected)===-1&&(Zt[0].selected=!0),Ve.setValue(Re,{value:xt(!0),items:Mt(Wt)}),jt=xt(!1)},clear(Wt){for(;Ze.length!==0;)Ze.remove(0);Ve.setValue(Re,{value:null,items:[]}),jt=xt(!1)},insert(Wt){const{index:Zt,displayValue:qn,exportValue:Hn}=Wt.detail.insert,$i=Ze.children[Zt],hr=document.createElement("option");hr.textContent=qn,hr.value=Hn,$i?$i.before(hr):Ze.append(hr),Ve.setValue(Re,{value:xt(!0),items:Mt(Wt)}),jt=xt(!1)},items(Wt){const{items:Zt}=Wt.detail;for(;Ze.length!==0;)Ze.remove(0);for(const qn of Zt){const{displayValue:Hn,exportValue:$i}=qn,hr=document.createElement("option");hr.textContent=Hn,hr.value=$i,Ze.append(hr)}Ze.options.length>0&&(Ze.options[0].selected=!0),Ve.setValue(Re,{value:xt(!0),items:Mt(Wt)}),jt=xt(!1)},indices(Wt){const Zt=new Set(Wt.detail.indices);for(const qn of Wt.target.options)qn.selected=Zt.has(qn.index);Ve.setValue(Re,{value:xt(!0)}),jt=xt(!1)},editable(Wt){Wt.target.disabled=!Wt.detail.editable}};this._dispatchEventFromSandbox(Kt,Dt)}),Ze.addEventListener("input",Dt=>{var Wt;const Kt=xt(!0);Ve.setValue(Re,{value:Kt}),Dt.preventDefault(),(Wt=this.linkService.eventBus)==null||Wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Re,name:"Keystroke",value:jt,changeEx:Kt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ze,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Dt=>Dt.target.value)):Ze.addEventListener("input",function(Dt){Ve.setValue(Re,{value:xt(!0)})}),this.data.combo&&this._setTextStyle(Ze),this._setBackgroundColor(Ze),this._setDefaultPropertiesFromJS(Ze),this.container.append(Ze),this.container}}class P extends o{constructor(Ve){const{data:Re,elements:qe}=Ve;super(Ve,{isRenderable:o._hasPopupData(Re)}),this.elements=qe}render(){this.container.classList.add("popupAnnotation");const Ve=new C({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Re=[];for(const qe of this.elements)qe.popup=Ve,Re.push(qe.data.id),qe.addHighlightArea();return this.container.setAttribute("aria-controls",Re.map(qe=>`${V.AnnotationPrefix}${qe}`).join(",")),this.container}}class C{constructor({container:Ve,color:Re,elements:qe,titleObj:Ze,modificationDate:lt,contentsObj:gt,richText:xt,parent:jt,rect:Mt,parentRect:Dt,open:Kt}){ct(this,Fe);ct(this,Ee);ct(this,Ne);ct(this,rt);ct(this,G,null);ct(this,ae,dt(this,Fe,Mh).bind(this));ct(this,ce,dt(this,rt,S0).bind(this));ct(this,Ie,dt(this,Ne,v0).bind(this));ct(this,fe,dt(this,Ee,wA).bind(this));ct(this,Te,null);ct(this,be,null);ct(this,ve,null);ct(this,te,null);ct(this,ie,null);ct(this,ge,null);ct(this,he,!1);ct(this,ue,null);ct(this,we,null);ct(this,Ce,null);ct(this,le,null);ct(this,ke,!1);var Zt;Pt(this,be,Ve),Pt(this,le,Ze),Pt(this,ve,gt),Pt(this,Ce,xt),Pt(this,ie,jt),Pt(this,Te,Re),Pt(this,we,Mt),Pt(this,ge,Dt),Pt(this,te,qe);const Wt=Ae.PDFDateString.toDateObject(lt);Wt&&Pt(this,G,jt.l10n.get("annotation_date_string",{date:Wt.toLocaleDateString(),time:Wt.toLocaleTimeString()})),this.trigger=qe.flatMap(qn=>qn.getElementsToTriggerPopup());for(const qn of this.trigger)qn.addEventListener("click",Ue(this,fe)),qn.addEventListener("mouseenter",Ue(this,Ie)),qn.addEventListener("mouseleave",Ue(this,ce)),qn.classList.add("popupTriggerArea");for(const qn of qe)(Zt=qn.container)==null||Zt.addEventListener("keydown",Ue(this,ae));Ue(this,be).hidden=!0,Kt&&dt(this,Ee,wA).call(this)}render(){if(Ue(this,ue))return;const{page:{view:Ve},viewport:{rawDims:{pageWidth:Re,pageHeight:qe,pageX:Ze,pageY:lt}}}=Ue(this,ie),gt=Pt(this,ue,document.createElement("div"));if(gt.className="popup",Ue(this,Te)){const Ot=gt.style.outlineColor=V.Util.makeHexColor(...Ue(this,Te));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?gt.style.backgroundColor=`color-mix(in srgb, ${Ot} 30%, white)`:gt.style.backgroundColor=V.Util.makeHexColor(...Ue(this,Te).map(zt=>Math.floor(.7*(255-zt)+zt)))}const xt=document.createElement("span");xt.className="header";const jt=document.createElement("h1");if(xt.append(jt),{dir:jt.dir,str:jt.textContent}=Ue(this,le),gt.append(xt),Ue(this,G)){const Ot=document.createElement("span");Ot.classList.add("popupDate"),Ue(this,G).then(Gt=>{Ot.textContent=Gt}),xt.append(Ot)}const Mt=Ue(this,ve),Dt=Ue(this,Ce);if(Dt!=null&&Dt.str&&(!(Mt!=null&&Mt.str)||Mt.str===Dt.str))re.XfaLayer.render({xfaHtml:Dt.html,intent:"richText",div:gt}),gt.lastChild.classList.add("richText","popupContent");else{const Ot=this._formatContents(Mt);gt.append(Ot)}let Kt=!!Ue(this,ge),Wt=Kt?Ue(this,ge):Ue(this,we);for(const Ot of Ue(this,te))if(!Wt||V.Util.intersect(Ot.data.rect,Wt)!==null){Wt=Ot.data.rect,Kt=!0;break}const Zt=V.Util.normalizeRect([Wt[0],Ve[3]-Wt[1]+Ve[1],Wt[2],Ve[3]-Wt[3]+Ve[1]]),qn=5,Hn=Kt?Wt[2]-Wt[0]+qn:0,$i=Zt[0]+Hn,hr=Zt[1],{style:Lt}=Ue(this,be);Lt.left=`${100*($i-Ze)/Re}%`,Lt.top=`${100*(hr-lt)/qe}%`,Ue(this,be).append(gt)}_formatContents({str:Ve,dir:Re}){const qe=document.createElement("p");qe.classList.add("popupContent"),qe.dir=Re;const Ze=Ve.split(/(?:\r\n?|\n)/);for(let lt=0,gt=Ze.length;lt<gt;++lt){const xt=Ze[lt];qe.append(document.createTextNode(xt)),lt<gt-1&&qe.append(document.createElement("br"))}return qe}forceHide(){Pt(this,ke,this.isVisible),Ue(this,ke)&&(Ue(this,be).hidden=!0)}maybeShow(){Ue(this,ke)&&(Pt(this,ke,!1),Ue(this,be).hidden=!1)}get isVisible(){return Ue(this,be).hidden===!1}}G=new WeakMap,ae=new WeakMap,ce=new WeakMap,Ie=new WeakMap,fe=new WeakMap,Te=new WeakMap,be=new WeakMap,ve=new WeakMap,te=new WeakMap,ie=new WeakMap,ge=new WeakMap,he=new WeakMap,ue=new WeakMap,we=new WeakMap,Ce=new WeakMap,le=new WeakMap,ke=new WeakMap,Fe=new WeakSet,Mh=function(Ve){Ve.altKey||Ve.shiftKey||Ve.ctrlKey||Ve.metaKey||(Ve.key==="Enter"||Ve.key==="Escape"&&Ue(this,he))&&dt(this,Ee,wA).call(this)},Ee=new WeakSet,wA=function(){Pt(this,he,!Ue(this,he)),Ue(this,he)?(dt(this,Ne,v0).call(this),Ue(this,be).addEventListener("click",Ue(this,fe)),Ue(this,be).addEventListener("keydown",Ue(this,ae))):(dt(this,rt,S0).call(this),Ue(this,be).removeEventListener("click",Ue(this,fe)),Ue(this,be).removeEventListener("keydown",Ue(this,ae)))},Ne=new WeakSet,v0=function(){Ue(this,ue)||this.render(),this.isVisible?Ue(this,he)&&Ue(this,be).classList.add("focused"):(Ue(this,be).hidden=!1,Ue(this,be).style.zIndex=parseInt(Ue(this,be).style.zIndex)+1e3)},rt=new WeakSet,S0=function(){Ue(this,be).classList.remove("focused"),!(Ue(this,he)||!this.isVisible)&&(Ue(this,be).hidden=!0,Ue(this,be).style.zIndex=parseInt(Ue(this,be).style.zIndex)-1e3)};class H extends o{constructor(Ve){super(Ve,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ve.data.textContent,this.textPosition=Ve.data.textPosition,this.annotationEditorType=V.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ve=document.createElement("div");Ve.classList.add("annotationTextContent"),Ve.setAttribute("role","comment");for(const Re of this.textContent){const qe=document.createElement("span");qe.textContent=Re,Ve.append(qe)}this.container.append(Ve)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=H;class $ extends o{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0});ct(this,je,null)}render(){this.container.classList.add("lineAnnotation");const Re=this.data,{width:qe,height:Ze}=e(Re.rect),lt=this.svgFactory.create(qe,Ze,!0),gt=Pt(this,je,this.svgFactory.createElement("svg:line"));return gt.setAttribute("x1",Re.rect[2]-Re.lineCoordinates[0]),gt.setAttribute("y1",Re.rect[3]-Re.lineCoordinates[1]),gt.setAttribute("x2",Re.rect[2]-Re.lineCoordinates[2]),gt.setAttribute("y2",Re.rect[3]-Re.lineCoordinates[3]),gt.setAttribute("stroke-width",Re.borderStyle.width||1),gt.setAttribute("stroke","transparent"),gt.setAttribute("fill","transparent"),lt.append(gt),this.container.append(lt),!Re.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ue(this,je)}addHighlightArea(){this.container.classList.add("highlightArea")}}je=new WeakMap;class se extends o{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0});ct(this,$e,null)}render(){this.container.classList.add("squareAnnotation");const Re=this.data,{width:qe,height:Ze}=e(Re.rect),lt=this.svgFactory.create(qe,Ze,!0),gt=Re.borderStyle.width,xt=Pt(this,$e,this.svgFactory.createElement("svg:rect"));return xt.setAttribute("x",gt/2),xt.setAttribute("y",gt/2),xt.setAttribute("width",qe-gt),xt.setAttribute("height",Ze-gt),xt.setAttribute("stroke-width",gt||1),xt.setAttribute("stroke","transparent"),xt.setAttribute("fill","transparent"),lt.append(xt),this.container.append(lt),!Re.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ue(this,$e)}addHighlightArea(){this.container.classList.add("highlightArea")}}$e=new WeakMap;class _ extends o{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0});ct(this,ze,null)}render(){this.container.classList.add("circleAnnotation");const Re=this.data,{width:qe,height:Ze}=e(Re.rect),lt=this.svgFactory.create(qe,Ze,!0),gt=Re.borderStyle.width,xt=Pt(this,ze,this.svgFactory.createElement("svg:ellipse"));return xt.setAttribute("cx",qe/2),xt.setAttribute("cy",Ze/2),xt.setAttribute("rx",qe/2-gt/2),xt.setAttribute("ry",Ze/2-gt/2),xt.setAttribute("stroke-width",gt||1),xt.setAttribute("stroke","transparent"),xt.setAttribute("fill","transparent"),lt.append(xt),this.container.append(lt),!Re.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ue(this,ze)}addHighlightArea(){this.container.classList.add("highlightArea")}}ze=new WeakMap;class Q extends o{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0});ct(this,at,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Re=this.data,{width:qe,height:Ze}=e(Re.rect),lt=this.svgFactory.create(qe,Ze,!0);let gt=[];for(const jt of Re.vertices){const Mt=jt.x-Re.rect[0],Dt=Re.rect[3]-jt.y;gt.push(Mt+","+Dt)}gt=gt.join(" ");const xt=Pt(this,at,this.svgFactory.createElement(this.svgElementName));return xt.setAttribute("points",gt),xt.setAttribute("stroke-width",Re.borderStyle.width||1),xt.setAttribute("stroke","transparent"),xt.setAttribute("fill","transparent"),lt.append(xt),this.container.append(lt),!Re.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ue(this,at)}addHighlightArea(){this.container.classList.add("highlightArea")}}at=new WeakMap;class d extends Q{constructor(Ve){super(Ve),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class w extends o{constructor(Ve){super(Ve,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class q extends o{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0});ct(this,mt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=V.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Re=this.data,{width:qe,height:Ze}=e(Re.rect),lt=this.svgFactory.create(qe,Ze,!0);for(const gt of Re.inkLists){let xt=[];for(const Mt of gt){const Dt=Mt.x-Re.rect[0],Kt=Re.rect[3]-Mt.y;xt.push(`${Dt},${Kt}`)}xt=xt.join(" ");const jt=this.svgFactory.createElement(this.svgElementName);Ue(this,mt).push(jt),jt.setAttribute("points",xt),jt.setAttribute("stroke-width",Re.borderStyle.width||1),jt.setAttribute("stroke","transparent"),jt.setAttribute("fill","transparent"),!Re.popupRef&&this.hasPopupData&&this._createPopup(),lt.append(jt)}return this.container.append(lt),this.container}getElementsToTriggerPopup(){return Ue(this,mt)}addHighlightArea(){this.container.classList.add("highlightArea")}}mt=new WeakMap,s.InkAnnotationElement=q;class l extends o{constructor(Ve){super(Ve,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class b extends o{constructor(Ve){super(Ve,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class D extends o{constructor(Ve){super(Ve,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Z extends o{constructor(Ve){super(Ve,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class N extends o{constructor(Ve){super(Ve,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=N;class v extends o{constructor(Re){var lt;super(Re,{isRenderable:!0});ct(this,Qe);ct(this,At,null);const{filename:qe,content:Ze}=this.data.file;this.filename=(0,Ae.getFilenameFromUrl)(qe,!0),this.content=Ze,(lt=this.linkService.eventBus)==null||lt.dispatch("fileattachmentannotation",{source:this,filename:qe,content:Ze})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Re,data:qe}=this;let Ze;qe.hasAppearance||qe.fillAlpha===0?Ze=document.createElement("div"):(Ze=document.createElement("img"),Ze.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(qe.name)?"paperclip":"pushpin"}.svg`,qe.fillAlpha&&qe.fillAlpha<1&&(Ze.style=`filter: opacity(${Math.round(qe.fillAlpha*100)}%);`)),Ze.addEventListener("dblclick",dt(this,Qe,F0).bind(this)),Pt(this,At,Ze);const{isMac:lt}=V.FeatureTest.platform;return Re.addEventListener("keydown",gt=>{gt.key==="Enter"&&(lt?gt.metaKey:gt.ctrlKey)&&dt(this,Qe,F0).call(this)}),!qe.popupRef&&this.hasPopupData?this._createPopup():Ze.classList.add("popupTriggerArea"),Re.append(Ze),Re}getElementsToTriggerPopup(){return Ue(this,At)}addHighlightArea(){this.container.classList.add("highlightArea")}}At=new WeakMap,Qe=new WeakSet,F0=function(){var Re;(Re=this.downloadManager)==null||Re.openOrDownloadData(this.container,this.content,this.filename)};class S{constructor({div:Ve,accessibilityManager:Re,annotationCanvasMap:qe,l10n:Ze,page:lt,viewport:gt}){ct(this,kt);ct(this,ft);ct(this,pt,null);ct(this,st,null);ct(this,St,new Map);this.div=Ve,Pt(this,pt,Re),Pt(this,st,qe),this.l10n=Ze,this.page=lt,this.viewport=gt,this.zIndex=0,this.l10n||(this.l10n=h.NullL10n)}async render(Ve){const{annotations:Re}=Ve,qe=this.div;(0,Ae.setLayerDimensions)(qe,this.viewport);const Ze=new Map,lt={data:null,layer:qe,linkService:Ve.linkService,downloadManager:Ve.downloadManager,imageResourcesPath:Ve.imageResourcesPath||"",renderForms:Ve.renderForms!==!1,svgFactory:new Ae.DOMSVGFactory,annotationStorage:Ve.annotationStorage||new _e.AnnotationStorage,enableScripting:Ve.enableScripting===!0,hasJSActions:Ve.hasJSActions,fieldObjects:Ve.fieldObjects,parent:this,elements:null};for(const gt of Re){if(gt.noHTML)continue;const xt=gt.annotationType===V.AnnotationType.POPUP;if(xt){const Dt=Ze.get(gt.id);if(!Dt)continue;lt.elements=Dt}else{const{width:Dt,height:Kt}=e(gt.rect);if(Dt<=0||Kt<=0)continue}lt.data=gt;const jt=t.create(lt);if(!jt.isRenderable)continue;if(!xt&&gt.popupRef){const Dt=Ze.get(gt.popupRef);Dt?Dt.push(jt):Ze.set(gt.popupRef,[jt])}jt.annotationEditorType>0&&Ue(this,St).set(jt.data.id,jt);const Mt=jt.render();gt.hidden&&(Mt.style.visibility="hidden"),dt(this,kt,Uh).call(this,Mt,gt.id)}dt(this,ft,E0).call(this),await this.l10n.translate(qe)}update({viewport:Ve}){const Re=this.div;this.viewport=Ve,(0,Ae.setLayerDimensions)(Re,{rotation:Ve.rotation}),dt(this,ft,E0).call(this),Re.hidden=!1}getEditableAnnotations(){return Array.from(Ue(this,St).values())}getEditableAnnotation(Ve){return Ue(this,St).get(Ve)}}pt=new WeakMap,st=new WeakMap,St=new WeakMap,kt=new WeakSet,Uh=function(Ve,Re){var Ze;const qe=Ve.firstChild||Ve;qe.id=`${V.AnnotationPrefix}${Re}`,this.div.append(Ve),(Ze=Ue(this,pt))==null||Ze.moveElementInDOM(this.div,Ve,qe,!1)},ft=new WeakSet,E0=function(){if(!Ue(this,st))return;const Ve=this.div;for(const[Re,qe]of Ue(this,st)){const Ze=Ve.querySelector(`[data-annotation-id="${Re}"]`);if(!Ze)continue;const{firstChild:lt}=Ze;lt?lt.nodeName==="CANVAS"?lt.replaceWith(qe):lt.before(qe):Ze.append(qe)}Ue(this,st).clear()},s.AnnotationLayer=S},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function M(_e){return Math.floor(Math.max(0,Math.min(1,_e))*255).toString(16).padStart(2,"0")}function V(_e){return Math.max(0,Math.min(255,255*_e))}class Ae{static CMYK_G([Pe,h,re,n]){return["G",1-Math.min(1,.3*Pe+.59*re+.11*h+n)]}static G_CMYK([Pe]){return["CMYK",0,0,0,1-Pe]}static G_RGB([Pe]){return["RGB",Pe,Pe,Pe]}static G_rgb([Pe]){return Pe=V(Pe),[Pe,Pe,Pe]}static G_HTML([Pe]){const h=M(Pe);return`#${h}${h}${h}`}static RGB_G([Pe,h,re]){return["G",.3*Pe+.59*h+.11*re]}static RGB_rgb(Pe){return Pe.map(V)}static RGB_HTML(Pe){return`#${Pe.map(M).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Pe,h,re,n]){return["RGB",1-Math.min(1,Pe+n),1-Math.min(1,re+n),1-Math.min(1,h+n)]}static CMYK_rgb([Pe,h,re,n]){return[V(1-Math.min(1,Pe+n)),V(1-Math.min(1,re+n)),V(1-Math.min(1,h+n))]}static CMYK_HTML(Pe){const h=this.CMYK_RGB(Pe).slice(1);return this.RGB_HTML(h)}static RGB_CMYK([Pe,h,re]){const n=1-Pe,x=1-h,U=1-re,e=Math.min(n,x,U);return["CMYK",n,x,U,e]}}s.ColorConverters=Ae},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=V;const M={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};M.print_progress_percent="{{progress}}%";function V(Pe,h){switch(Pe){case"find_match_count":Pe=`find_match_count[${h.total===1?"one":"other"}]`;break;case"find_match_count_limit":Pe=`find_match_count_limit[${h.limit===1?"one":"other"}]`;break}return M[Pe]||""}function Ae(Pe,h){return h?Pe.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(re,n)=>n in h?h[n]:"{{"+n+"}}"):Pe}const _e={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Pe,h=null,re=V(Pe,h)){return Ae(re,h)},async translate(Pe){}};s.NullL10n=_e},(a,s,M)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var V=M(25);class Ae{static setupStorage(Pe,h,re,n,x){const U=n.getValue(h,{value:null});switch(re.name){case"textarea":if(U.value!==null&&(Pe.textContent=U.value),x==="print")break;Pe.addEventListener("input",e=>{n.setValue(h,{value:e.target.value})});break;case"input":if(re.attributes.type==="radio"||re.attributes.type==="checkbox"){if(U.value===re.attributes.xfaOn?Pe.setAttribute("checked",!0):U.value===re.attributes.xfaOff&&Pe.removeAttribute("checked"),x==="print")break;Pe.addEventListener("change",e=>{n.setValue(h,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(U.value!==null&&Pe.setAttribute("value",U.value),x==="print")break;Pe.addEventListener("input",e=>{n.setValue(h,{value:e.target.value})})}break;case"select":if(U.value!==null){Pe.setAttribute("value",U.value);for(const e of re.children)e.attributes.value===U.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}Pe.addEventListener("input",e=>{const t=e.target.options,o=t.selectedIndex===-1?"":t[t.selectedIndex].value;n.setValue(h,{value:o})});break}}static setAttributes({html:Pe,element:h,storage:re=null,intent:n,linkService:x}){const{attributes:U}=h,e=Pe instanceof HTMLAnchorElement;U.type==="radio"&&(U.name=`${U.name}-${n}`);for(const[t,o]of Object.entries(U))if(o!=null)switch(t){case"class":o.length&&Pe.setAttribute(t,o.join(" "));break;case"dataId":break;case"id":Pe.setAttribute("data-element-id",o);break;case"style":Object.assign(Pe.style,o);break;case"textContent":Pe.textContent=o;break;default:(!e||t!=="href"&&t!=="newWindow")&&Pe.setAttribute(t,o)}e&&x.addLinkAttributes(Pe,U.href,U.newWindow),re&&U.dataId&&this.setupStorage(Pe,U.dataId,h,re)}static render(Pe){var K;const h=Pe.annotationStorage,re=Pe.linkService,n=Pe.xfaHtml,x=Pe.intent||"display",U=document.createElement(n.name);n.attributes&&this.setAttributes({html:U,element:n,intent:x,linkService:re});const e=[[n,-1,U]],t=Pe.div;if(t.append(U),Pe.viewport){const X=`matrix(${Pe.viewport.transform.join(",")})`;t.style.transform=X}x!=="richText"&&t.setAttribute("class","xfaLayer xfaFont");const o=[];for(;e.length>0;){const[X,L,O]=e.at(-1);if(L+1===X.children.length){e.pop();continue}const f=X.children[++e.at(-1)[1]];if(f===null)continue;const{name:p}=f;if(p==="#text"){const T=document.createTextNode(f.value);o.push(T),O.append(T);continue}const i=(K=f==null?void 0:f.attributes)!=null&&K.xmlns?document.createElementNS(f.attributes.xmlns,p):document.createElement(p);if(O.append(i),f.attributes&&this.setAttributes({html:i,element:f,storage:h,intent:x,linkService:re}),f.children&&f.children.length>0)e.push([f,-1,i]);else if(f.value){const T=document.createTextNode(f.value);V.XfaText.shouldBuildText(p)&&o.push(T),i.append(T)}}for(const X of t.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))X.setAttribute("readOnly",!0);return{textDivs:o}}static update(Pe){const h=`matrix(${Pe.viewport.transform.join(",")})`;Pe.div.style.transform=h,Pe.div.hidden=!1}}s.XfaLayer=Ae},(a,s,M)=>{var n,x,U,e,t,o,K,X,L,O,f,p,i,T,F,Dh,C,Lh,$,Rh,_,Qh,d,k0,q,Nh,b,I0,Z,Hh,v,$h,I,jh,y,Gh,A,Xh,G,ks,ce,T0,fe,yA,be,BA,te,ma,ge,_0,ue,CA,Ce,Kh,ke,P0,de,Vh,Oe,Wh,et,O0,Ge,vA,$e,wa;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var V=M(1),Ae=M(4),_e=M(29),Pe=M(6),h=M(5);const at=class at extends Ae.AnnotationEditor{constructor(Qe){super({...Qe,name:"inkEditor"});ct(this,F);ct(this,C);ct(this,$);ct(this,_);ct(this,d);ct(this,q);ct(this,b);ct(this,Z);ct(this,v);ct(this,I);ct(this,y);ct(this,A);ct(this,G);ct(this,ce);ct(this,fe);ct(this,be);ct(this,te);ct(this,ge);ct(this,ue);ct(this,Oe);ct(this,et);ct(this,Ge);ct(this,$e);ct(this,n,0);ct(this,x,0);ct(this,U,this.canvasPointermove.bind(this));ct(this,e,this.canvasPointerleave.bind(this));ct(this,t,this.canvasPointerup.bind(this));ct(this,o,this.canvasPointerdown.bind(this));ct(this,K,new Path2D);ct(this,X,!1);ct(this,L,!1);ct(this,O,!1);ct(this,f,null);ct(this,p,0);ct(this,i,0);ct(this,T,null);this.color=Qe.color||null,this.thickness=Qe.thickness||null,this.opacity=Qe.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Qe){Ae.AnnotationEditor.initialize(Qe,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Qe,Ke){switch(Qe){case V.AnnotationEditorParamsType.INK_THICKNESS:at._defaultThickness=Ke;break;case V.AnnotationEditorParamsType.INK_COLOR:at._defaultColor=Ke;break;case V.AnnotationEditorParamsType.INK_OPACITY:at._defaultOpacity=Ke/100;break}}updateParams(Qe,Ke){switch(Qe){case V.AnnotationEditorParamsType.INK_THICKNESS:dt(this,F,Dh).call(this,Ke);break;case V.AnnotationEditorParamsType.INK_COLOR:dt(this,C,Lh).call(this,Ke);break;case V.AnnotationEditorParamsType.INK_OPACITY:dt(this,$,Rh).call(this,Ke);break}}static get defaultPropertiesToUpdate(){return[[V.AnnotationEditorParamsType.INK_THICKNESS,at._defaultThickness],[V.AnnotationEditorParamsType.INK_COLOR,at._defaultColor||Ae.AnnotationEditor._defaultLineColor],[V.AnnotationEditorParamsType.INK_OPACITY,Math.round(at._defaultOpacity*100)]]}get propertiesToUpdate(){return[[V.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||at._defaultThickness],[V.AnnotationEditorParamsType.INK_COLOR,this.color||at._defaultColor||Ae.AnnotationEditor._defaultLineColor],[V.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??at._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(dt(this,fe,yA).call(this),dt(this,be,BA).call(this)),this.isAttachedToDOM||(this.parent.add(this),dt(this,te,ma).call(this)),dt(this,$e,wa).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ue(this,f).disconnect(),Pt(this,f,null),super.remove())}setParent(Qe){!this.parent&&Qe?this._uiManager.removeShouldRescale(this):this.parent&&Qe===null&&this._uiManager.addShouldRescale(this),super.setParent(Qe)}onScaleChanging(){const[Qe,Ke]=this.parentDimensions,pt=this.width*Qe,st=this.height*Ke;this.setDimensions(pt,st)}enableEditMode(){Ue(this,X)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Ue(this,o)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ue(this,o)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ue(this,X)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Pt(this,X,!0),this.div.classList.add("disabled"),dt(this,$e,wa).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Qe){this._focusEventsAllowed&&(super.focusin(Qe),this.enableEditMode())}canvasPointerdown(Qe){Qe.button!==0||!this.isInEditMode()||Ue(this,X)||(this.setInForeground(),Qe.preventDefault(),Qe.type!=="mouse"&&this.div.focus(),dt(this,q,Nh).call(this,Qe.offsetX,Qe.offsetY))}canvasPointermove(Qe){Qe.preventDefault(),dt(this,b,I0).call(this,Qe.offsetX,Qe.offsetY)}canvasPointerup(Qe){Qe.preventDefault(),dt(this,ce,T0).call(this,Qe)}canvasPointerleave(Qe){dt(this,ce,T0).call(this,Qe)}get isResizable(){return!this.isEmpty()&&Ue(this,X)}render(){if(this.div)return this.div;let Qe,Ke;this.width&&(Qe=this.x,Ke=this.y),super.render(),Ae.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(zn=>{var ft;return(ft=this.div)==null?void 0:ft.setAttribute("aria-label",zn)});const[pt,st,St,kt]=dt(this,_,Qh).call(this);if(this.setAt(pt,st,0,0),this.setDims(St,kt),dt(this,fe,yA).call(this),this.width){const[zn,ft]=this.parentDimensions;this.setAspectRatio(this.width*zn,this.height*ft),this.setAt(Qe*zn,Ke*ft,this.width*zn,this.height*ft),Pt(this,O,!0),dt(this,te,ma).call(this),this.setDims(this.width*zn,this.height*ft),dt(this,G,ks).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return dt(this,be,BA).call(this),this.div}setDimensions(Qe,Ke){const pt=Math.round(Qe),st=Math.round(Ke);if(Ue(this,p)===pt&&Ue(this,i)===st)return;Pt(this,p,pt),Pt(this,i,st),this.canvas.style.visibility="hidden";const[St,kt]=this.parentDimensions;this.width=Qe/St,this.height=Ke/kt,this.fixAndSetPosition(),Ue(this,X)&&dt(this,ge,_0).call(this,Qe,Ke),dt(this,te,ma).call(this),dt(this,G,ks).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Qe,Ke,pt){var lt,gt,xt;if(Qe instanceof _e.InkAnnotationElement)return null;const st=super.deserialize(Qe,Ke,pt);st.thickness=Qe.thickness,st.color=V.Util.makeHexColor(...Qe.color),st.opacity=Qe.opacity;const[St,kt]=st.pageDimensions,zn=st.width*St,ft=st.height*kt,en=st.parentScale,Xt=Qe.thickness/2;Pt(st,X,!0),Pt(st,p,Math.round(zn)),Pt(st,i,Math.round(ft));const{paths:Ve,rect:Re,rotation:qe}=Qe;for(let{bezier:jt}of Ve){jt=dt(lt=at,de,Vh).call(lt,jt,Re,qe);const Mt=[];st.paths.push(Mt);let Dt=en*(jt[0]-Xt),Kt=en*(jt[1]-Xt);for(let Zt=2,qn=jt.length;Zt<qn;Zt+=6){const Hn=en*(jt[Zt]-Xt),$i=en*(jt[Zt+1]-Xt),hr=en*(jt[Zt+2]-Xt),Lt=en*(jt[Zt+3]-Xt),Ot=en*(jt[Zt+4]-Xt),Gt=en*(jt[Zt+5]-Xt);Mt.push([[Dt,Kt],[Hn,$i],[hr,Lt],[Ot,Gt]]),Dt=Ot,Kt=Gt}const Wt=dt(this,Ce,Kh).call(this,Mt);st.bezierPath2D.push(Wt)}const Ze=dt(gt=st,et,O0).call(gt);return Pt(st,x,Math.max(Ae.AnnotationEditor.MIN_SIZE,Ze[2]-Ze[0])),Pt(st,n,Math.max(Ae.AnnotationEditor.MIN_SIZE,Ze[3]-Ze[1])),dt(xt=st,ge,_0).call(xt,zn,ft),st}serialize(){if(this.isEmpty())return null;const Qe=this.getRect(0,0),Ke=Ae.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:V.AnnotationEditorType.INK,color:Ke,thickness:this.thickness,opacity:this.opacity,paths:dt(this,Oe,Wh).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Qe),pageIndex:this.pageIndex,rect:Qe,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};n=new WeakMap,x=new WeakMap,U=new WeakMap,e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,X=new WeakMap,L=new WeakMap,O=new WeakMap,f=new WeakMap,p=new WeakMap,i=new WeakMap,T=new WeakMap,F=new WeakSet,Dh=function(Qe){const Ke=this.thickness;this.addCommands({cmd:()=>{this.thickness=Qe,dt(this,$e,wa).call(this)},undo:()=>{this.thickness=Ke,dt(this,$e,wa).call(this)},mustExec:!0,type:V.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},C=new WeakSet,Lh=function(Qe){const Ke=this.color;this.addCommands({cmd:()=>{this.color=Qe,dt(this,G,ks).call(this)},undo:()=>{this.color=Ke,dt(this,G,ks).call(this)},mustExec:!0,type:V.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$=new WeakSet,Rh=function(Qe){Qe/=100;const Ke=this.opacity;this.addCommands({cmd:()=>{this.opacity=Qe,dt(this,G,ks).call(this)},undo:()=>{this.opacity=Ke,dt(this,G,ks).call(this)},mustExec:!0,type:V.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},_=new WeakSet,Qh=function(){const{parentRotation:Qe,parentDimensions:[Ke,pt]}=this;switch(Qe){case 90:return[0,pt,pt,Ke];case 180:return[Ke,pt,Ke,pt];case 270:return[Ke,0,pt,Ke];default:return[0,0,Ke,pt]}},d=new WeakSet,k0=function(){const{ctx:Qe,color:Ke,opacity:pt,thickness:st,parentScale:St,scaleFactor:kt}=this;Qe.lineWidth=st*St/kt,Qe.lineCap="round",Qe.lineJoin="round",Qe.miterLimit=10,Qe.strokeStyle=`${Ke}${(0,h.opacityToHex)(pt)}`},q=new WeakSet,Nh=function(Qe,Ke){this.canvas.addEventListener("contextmenu",Pe.noContextMenu),this.canvas.addEventListener("pointerleave",Ue(this,e)),this.canvas.addEventListener("pointermove",Ue(this,U)),this.canvas.addEventListener("pointerup",Ue(this,t)),this.canvas.removeEventListener("pointerdown",Ue(this,o)),this.isEditing=!0,Ue(this,O)||(Pt(this,O,!0),dt(this,te,ma).call(this),this.thickness||(this.thickness=at._defaultThickness),this.color||(this.color=at._defaultColor||Ae.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=at._defaultOpacity)),this.currentPath.push([Qe,Ke]),Pt(this,L,!1),dt(this,d,k0).call(this),Pt(this,T,()=>{dt(this,I,jh).call(this),Ue(this,T)&&window.requestAnimationFrame(Ue(this,T))}),window.requestAnimationFrame(Ue(this,T))},b=new WeakSet,I0=function(Qe,Ke){const[pt,st]=this.currentPath.at(-1);if(this.currentPath.length>1&&Qe===pt&&Ke===st)return;const St=this.currentPath;let kt=Ue(this,K);if(St.push([Qe,Ke]),Pt(this,L,!0),St.length<=2){kt.moveTo(...St[0]),kt.lineTo(Qe,Ke);return}St.length===3&&(Pt(this,K,kt=new Path2D),kt.moveTo(...St[0])),dt(this,y,Gh).call(this,kt,...St.at(-3),...St.at(-2),Qe,Ke)},Z=new WeakSet,Hh=function(){if(this.currentPath.length===0)return;const Qe=this.currentPath.at(-1);Ue(this,K).lineTo(...Qe)},v=new WeakSet,$h=function(Qe,Ke){Pt(this,T,null),Qe=Math.min(Math.max(Qe,0),this.canvas.width),Ke=Math.min(Math.max(Ke,0),this.canvas.height),dt(this,b,I0).call(this,Qe,Ke),dt(this,Z,Hh).call(this);let pt;if(this.currentPath.length!==1)pt=dt(this,A,Xh).call(this);else{const ft=[Qe,Ke];pt=[[ft,ft.slice(),ft.slice(),ft]]}const st=Ue(this,K),St=this.currentPath;this.currentPath=[],Pt(this,K,new Path2D);const kt=()=>{this.allRawPaths.push(St),this.paths.push(pt),this.bezierPath2D.push(st),this.rebuild()},zn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(dt(this,fe,yA).call(this),dt(this,be,BA).call(this)),dt(this,$e,wa).call(this))};this.addCommands({cmd:kt,undo:zn,mustExec:!0})},I=new WeakSet,jh=function(){if(!Ue(this,L))return;Pt(this,L,!1);const Qe=Math.ceil(this.thickness*this.parentScale),Ke=this.currentPath.slice(-3),pt=Ke.map(kt=>kt[0]),st=Ke.map(kt=>kt[1]);Math.min(...pt)-Qe,Math.max(...pt)+Qe,Math.min(...st)-Qe,Math.max(...st)+Qe;const{ctx:St}=this;St.save(),St.clearRect(0,0,this.canvas.width,this.canvas.height);for(const kt of this.bezierPath2D)St.stroke(kt);St.stroke(Ue(this,K)),St.restore()},y=new WeakSet,Gh=function(Qe,Ke,pt,st,St,kt,zn){const ft=(Ke+st)/2,en=(pt+St)/2,Xt=(st+kt)/2,Ve=(St+zn)/2;Qe.bezierCurveTo(ft+2*(st-ft)/3,en+2*(St-en)/3,Xt+2*(st-Xt)/3,Ve+2*(St-Ve)/3,Xt,Ve)},A=new WeakSet,Xh=function(){const Qe=this.currentPath;if(Qe.length<=2)return[[Qe[0],Qe[0],Qe.at(-1),Qe.at(-1)]];const Ke=[];let pt,[st,St]=Qe[0];for(pt=1;pt<Qe.length-2;pt++){const[Re,qe]=Qe[pt],[Ze,lt]=Qe[pt+1],gt=(Re+Ze)/2,xt=(qe+lt)/2,jt=[st+2*(Re-st)/3,St+2*(qe-St)/3],Mt=[gt+2*(Re-gt)/3,xt+2*(qe-xt)/3];Ke.push([[st,St],jt,Mt,[gt,xt]]),[st,St]=[gt,xt]}const[kt,zn]=Qe[pt],[ft,en]=Qe[pt+1],Xt=[st+2*(kt-st)/3,St+2*(zn-St)/3],Ve=[ft+2*(kt-ft)/3,en+2*(zn-en)/3];return Ke.push([[st,St],Xt,Ve,[ft,en]]),Ke},G=new WeakSet,ks=function(){if(this.isEmpty()){dt(this,ue,CA).call(this);return}dt(this,d,k0).call(this);const{canvas:Qe,ctx:Ke}=this;Ke.setTransform(1,0,0,1,0,0),Ke.clearRect(0,0,Qe.width,Qe.height),dt(this,ue,CA).call(this);for(const pt of this.bezierPath2D)Ke.stroke(pt)},ce=new WeakSet,T0=function(Qe){this.canvas.removeEventListener("pointerleave",Ue(this,e)),this.canvas.removeEventListener("pointermove",Ue(this,U)),this.canvas.removeEventListener("pointerup",Ue(this,t)),this.canvas.addEventListener("pointerdown",Ue(this,o)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Pe.noContextMenu)},10),dt(this,v,$h).call(this,Qe.offsetX,Qe.offsetY),this.addToAnnotationStorage(),this.setInBackground()},fe=new WeakSet,yA=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Ae.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Qe=>{var Ke;return(Ke=this.canvas)==null?void 0:Ke.setAttribute("aria-label",Qe)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},be=new WeakSet,BA=function(){Pt(this,f,new ResizeObserver(Qe=>{const Ke=Qe[0].contentRect;Ke.width&&Ke.height&&this.setDimensions(Ke.width,Ke.height)})),Ue(this,f).observe(this.div)},te=new WeakSet,ma=function(){if(!Ue(this,O))return;const[Qe,Ke]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Qe),this.canvas.height=Math.ceil(this.height*Ke),dt(this,ue,CA).call(this)},ge=new WeakSet,_0=function(Qe,Ke){const pt=dt(this,Ge,vA).call(this),st=(Qe-pt)/Ue(this,x),St=(Ke-pt)/Ue(this,n);this.scaleFactor=Math.min(st,St)},ue=new WeakSet,CA=function(){const Qe=dt(this,Ge,vA).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Qe,this.translationY*this.scaleFactor+Qe)},Ce=new WeakSet,Kh=function(Qe){const Ke=new Path2D;for(let pt=0,st=Qe.length;pt<st;pt++){const[St,kt,zn,ft]=Qe[pt];pt===0&&Ke.moveTo(...St),Ke.bezierCurveTo(kt[0],kt[1],zn[0],zn[1],ft[0],ft[1])}return Ke},ke=new WeakSet,P0=function(Qe,Ke,pt){const[st,St,kt,zn]=Ke;switch(pt){case 0:for(let ft=0,en=Qe.length;ft<en;ft+=2)Qe[ft]+=st,Qe[ft+1]=zn-Qe[ft+1];break;case 90:for(let ft=0,en=Qe.length;ft<en;ft+=2){const Xt=Qe[ft];Qe[ft]=Qe[ft+1]+st,Qe[ft+1]=Xt+St}break;case 180:for(let ft=0,en=Qe.length;ft<en;ft+=2)Qe[ft]=kt-Qe[ft],Qe[ft+1]+=St;break;case 270:for(let ft=0,en=Qe.length;ft<en;ft+=2){const Xt=Qe[ft];Qe[ft]=kt-Qe[ft+1],Qe[ft+1]=zn-Xt}break;default:throw new Error("Invalid rotation")}return Qe},de=new WeakSet,Vh=function(Qe,Ke,pt){const[st,St,kt,zn]=Ke;switch(pt){case 0:for(let ft=0,en=Qe.length;ft<en;ft+=2)Qe[ft]-=st,Qe[ft+1]=zn-Qe[ft+1];break;case 90:for(let ft=0,en=Qe.length;ft<en;ft+=2){const Xt=Qe[ft];Qe[ft]=Qe[ft+1]-St,Qe[ft+1]=Xt-st}break;case 180:for(let ft=0,en=Qe.length;ft<en;ft+=2)Qe[ft]=kt-Qe[ft],Qe[ft+1]-=St;break;case 270:for(let ft=0,en=Qe.length;ft<en;ft+=2){const Xt=Qe[ft];Qe[ft]=zn-Qe[ft+1],Qe[ft+1]=kt-Xt}break;default:throw new Error("Invalid rotation")}return Qe},Oe=new WeakSet,Wh=function(Qe,Ke,pt,st){var en,Xt;const St=[],kt=this.thickness/2,zn=Qe*Ke+kt,ft=Qe*pt+kt;for(const Ve of this.paths){const Re=[],qe=[];for(let Ze=0,lt=Ve.length;Ze<lt;Ze++){const[gt,xt,jt,Mt]=Ve[Ze],Dt=Qe*gt[0]+zn,Kt=Qe*gt[1]+ft,Wt=Qe*xt[0]+zn,Zt=Qe*xt[1]+ft,qn=Qe*jt[0]+zn,Hn=Qe*jt[1]+ft,$i=Qe*Mt[0]+zn,hr=Qe*Mt[1]+ft;Ze===0&&(Re.push(Dt,Kt),qe.push(Dt,Kt)),Re.push(Wt,Zt,qn,Hn,$i,hr),qe.push(Wt,Zt),Ze===lt-1&&qe.push($i,hr)}St.push({bezier:dt(en=at,ke,P0).call(en,Re,st,this.rotation),points:dt(Xt=at,ke,P0).call(Xt,qe,st,this.rotation)})}return St},et=new WeakSet,O0=function(){let Qe=1/0,Ke=-1/0,pt=1/0,st=-1/0;for(const St of this.paths)for(const[kt,zn,ft,en]of St){const Xt=V.Util.bezierBoundingBox(...kt,...zn,...ft,...en);Qe=Math.min(Qe,Xt[0]),pt=Math.min(pt,Xt[1]),Ke=Math.max(Ke,Xt[2]),st=Math.max(st,Xt[3])}return[Qe,pt,Ke,st]},Ge=new WeakSet,vA=function(){return Ue(this,X)?Math.ceil(this.thickness*this.parentScale):0},$e=new WeakSet,wa=function(Qe=!1){if(this.isEmpty())return;if(!Ue(this,X)){dt(this,G,ks).call(this);return}const Ke=dt(this,et,O0).call(this),pt=dt(this,Ge,vA).call(this);Pt(this,x,Math.max(Ae.AnnotationEditor.MIN_SIZE,Ke[2]-Ke[0])),Pt(this,n,Math.max(Ae.AnnotationEditor.MIN_SIZE,Ke[3]-Ke[1]));const st=Math.ceil(pt+Ue(this,x)*this.scaleFactor),St=Math.ceil(pt+Ue(this,n)*this.scaleFactor),[kt,zn]=this.parentDimensions;this.width=st/kt,this.height=St/zn,this.setAspectRatio(st,St);const ft=this.translationX,en=this.translationY;this.translationX=-Ke[0],this.translationY=-Ke[1],dt(this,te,ma).call(this),dt(this,G,ks).call(this),Pt(this,p,st),Pt(this,i,St),this.setDims(st,St);const Xt=Qe?pt/this.scaleFactor/2:0;this.translate(ft-this.translationX-Xt,en-this.translationY-Xt)},ct(at,Ce),ct(at,ke),ct(at,de),br(at,"_defaultColor",null),br(at,"_defaultOpacity",1),br(at,"_defaultThickness",1),br(at,"_type","ink");let re=at;s.InkEditor=re},(a,s,M)=>{var re,n,x,U,e,t,o,K,X,L,O,So,p,Fo,T,SA,P,M0,H,zh,se,qh,Q,U0,w,FA,l,Yh;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var V=M(1),Ae=M(4),_e=M(6),Pe=M(29);const D=class D extends Ae.AnnotationEditor{constructor(v){super({...v,name:"stampEditor"});ct(this,O);ct(this,p);ct(this,T);ct(this,P);ct(this,H);ct(this,se);ct(this,Q);ct(this,w);ct(this,l);ct(this,re,null);ct(this,n,null);ct(this,x,null);ct(this,U,null);ct(this,e,null);ct(this,t,null);ct(this,o,null);ct(this,K,null);ct(this,X,!1);ct(this,L,!1);Pt(this,U,v.bitmapUrl),Pt(this,e,v.bitmapFile)}static initialize(v){Ae.AnnotationEditor.initialize(v)}static get supportedTypes(){const v=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,V.shadow)(this,"supportedTypes",v.map(S=>`image/${S}`))}static get supportedTypesStr(){return(0,V.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(v){return this.supportedTypes.includes(v)}static paste(v,S){S.pasteEditor(V.AnnotationEditorType.STAMP,{bitmapFile:v.getAsFile()})}remove(){var v,S;Ue(this,n)&&(Pt(this,re,null),this._uiManager.imageManager.deleteId(Ue(this,n)),(v=Ue(this,t))==null||v.remove(),Pt(this,t,null),(S=Ue(this,o))==null||S.disconnect(),Pt(this,o,null)),super.remove()}rebuild(){if(!this.parent){Ue(this,n)&&dt(this,T,SA).call(this);return}super.rebuild(),this.div!==null&&(Ue(this,n)&&dt(this,T,SA).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Ue(this,x)||Ue(this,re)||Ue(this,U)||Ue(this,e))}get isResizable(){return!0}render(){if(this.div)return this.div;let v,S;if(this.width&&(v=this.x,S=this.y),super.render(),this.div.hidden=!0,Ue(this,re)?dt(this,P,M0).call(this):dt(this,T,SA).call(this),this.width){const[I,u]=this.parentDimensions;this.setAt(v*I,S*u,this.width*I,this.height*u)}return this.div}static deserialize(v,S,I){if(v instanceof Pe.StampAnnotationElement)return null;const u=super.deserialize(v,S,I),{rect:y,bitmapUrl:r,bitmapId:A,isSvg:E,accessibilityData:G}=v;A&&I.imageManager.isValidId(A)?Pt(u,n,A):Pt(u,U,r),Pt(u,X,E);const[ae,ce]=u.pageDimensions;return u.width=(y[2]-y[0])/ae,u.height=(y[3]-y[1])/ce,G&&(u.altTextData=G),u}serialize(v=!1,S=null){if(this.isEmpty())return null;const I={annotationType:V.AnnotationEditorType.STAMP,bitmapId:Ue(this,n),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Ue(this,X),structTreeParentId:this._structTreeParentId};if(v)return I.bitmapUrl=dt(this,w,FA).call(this,!0),I.accessibilityData=this.altTextData,I;const{decorative:u,altText:y}=this.altTextData;if(!u&&y&&(I.accessibilityData={type:"Figure",alt:y}),S===null)return I;S.stamps||(S.stamps=new Map);const r=Ue(this,X)?(I.rect[2]-I.rect[0])*(I.rect[3]-I.rect[1]):null;if(!S.stamps.has(Ue(this,n)))S.stamps.set(Ue(this,n),{area:r,serialized:I}),I.bitmap=dt(this,w,FA).call(this,!1);else if(Ue(this,X)){const A=S.stamps.get(Ue(this,n));r>A.area&&(A.area=r,A.serialized.bitmap.close(),A.serialized.bitmap=dt(this,w,FA).call(this,!1))}return I}};re=new WeakMap,n=new WeakMap,x=new WeakMap,U=new WeakMap,e=new WeakMap,t=new WeakMap,o=new WeakMap,K=new WeakMap,X=new WeakMap,L=new WeakMap,O=new WeakSet,So=function(v,S=!1){if(!v){this.remove();return}Pt(this,re,v.bitmap),S||(Pt(this,n,v.id),Pt(this,X,v.isSvg)),dt(this,P,M0).call(this)},p=new WeakSet,Fo=function(){Pt(this,x,null),this._uiManager.enableWaiting(!1),Ue(this,t)&&this.div.focus()},T=new WeakSet,SA=function(){if(Ue(this,n)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ue(this,n)).then(S=>dt(this,O,So).call(this,S,!0)).finally(()=>dt(this,p,Fo).call(this));return}if(Ue(this,U)){const S=Ue(this,U);Pt(this,U,null),this._uiManager.enableWaiting(!0),Pt(this,x,this._uiManager.imageManager.getFromUrl(S).then(I=>dt(this,O,So).call(this,I)).finally(()=>dt(this,p,Fo).call(this)));return}if(Ue(this,e)){const S=Ue(this,e);Pt(this,e,null),this._uiManager.enableWaiting(!0),Pt(this,x,this._uiManager.imageManager.getFromFile(S).then(I=>dt(this,O,So).call(this,I)).finally(()=>dt(this,p,Fo).call(this)));return}const v=document.createElement("input");v.type="file",v.accept=D.supportedTypesStr,Pt(this,x,new Promise(S=>{v.addEventListener("change",async()=>{if(!v.files||v.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const I=await this._uiManager.imageManager.getFromFile(v.files[0]);dt(this,O,So).call(this,I)}S()}),v.addEventListener("cancel",()=>{this.remove(),S()})}).finally(()=>dt(this,p,Fo).call(this))),v.click()},P=new WeakSet,M0=function(){const{div:v}=this;let{width:S,height:I}=Ue(this,re);const[u,y]=this.pageDimensions,r=.75;if(this.width)S=this.width*u,I=this.height*y;else if(S>r*u||I>r*y){const ae=Math.min(r*u/S,r*y/I);S*=ae,I*=ae}const[A,E]=this.parentDimensions;this.setDims(S*A/u,I*E/y),this._uiManager.enableWaiting(!1);const G=Pt(this,t,document.createElement("canvas"));v.append(G),v.hidden=!1,dt(this,Q,U0).call(this,S,I),dt(this,l,Yh).call(this),Ue(this,L)||(this.parent.addUndoableEditor(this),Pt(this,L,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},H=new WeakSet,zh=function(v,S){var r;const[I,u]=this.parentDimensions;this.width=v/I,this.height=S/u,this.setDims(v,S),(r=this._initialOptions)!=null&&r.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Ue(this,K)!==null&&clearTimeout(Ue(this,K)),Pt(this,K,setTimeout(()=>{Pt(this,K,null),dt(this,Q,U0).call(this,v,S)},200))},se=new WeakSet,qh=function(v,S){const{width:I,height:u}=Ue(this,re);let y=I,r=u,A=Ue(this,re);for(;y>2*v||r>2*S;){const E=y,G=r;y>2*v&&(y=y>=16384?Math.floor(y/2)-1:Math.ceil(y/2)),r>2*S&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const ae=new OffscreenCanvas(y,r);ae.getContext("2d").drawImage(A,0,0,E,G,0,0,y,r),A=ae.transferToImageBitmap()}return A},Q=new WeakSet,U0=function(v,S){v=Math.ceil(v),S=Math.ceil(S);const I=Ue(this,t);if(!I||I.width===v&&I.height===S)return;I.width=v,I.height=S;const u=Ue(this,X)?Ue(this,re):dt(this,se,qh).call(this,v,S),y=I.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(u,0,0,u.width,u.height,0,0,v,S)},w=new WeakSet,FA=function(v){if(v){if(Ue(this,X)){const u=this._uiManager.imageManager.getSvgUrl(Ue(this,n));if(u)return u}const S=document.createElement("canvas");return{width:S.width,height:S.height}=Ue(this,re),S.getContext("2d").drawImage(Ue(this,re),0,0),S.toDataURL()}if(Ue(this,X)){const[S,I]=this.pageDimensions,u=Math.round(this.width*S*_e.PixelsPerInch.PDF_TO_CSS_UNITS),y=Math.round(this.height*I*_e.PixelsPerInch.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(u,y);return r.getContext("2d").drawImage(Ue(this,re),0,0,Ue(this,re).width,Ue(this,re).height,0,0,u,y),r.transferToImageBitmap()}return structuredClone(Ue(this,re))},l=new WeakSet,Yh=function(){Pt(this,o,new ResizeObserver(v=>{const S=v[0].contentRect;S.width&&S.height&&dt(this,H,zh).call(this,S.width,S.height)})),Ue(this,o).observe(this.div)},br(D,"_type","stamp");let h=D;s.StampEditor=h}],__webpack_module_cache__={};function __w_pdfjs_require__(a){var s=__webpack_module_cache__[a];if(s!==void 0)return s.exports;var M=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a](M,M.exports,__w_pdfjs_require__),M.exports}var __webpack_exports__={};return(()=>{var a=__webpack_exports__;Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(a,"AnnotationEditorLayer",{enumerable:!0,get:function(){return _e.AnnotationEditorLayer}}),Object.defineProperty(a,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(a,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(a,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Pe.AnnotationEditorUIManager}}),Object.defineProperty(a,"AnnotationLayer",{enumerable:!0,get:function(){return h.AnnotationLayer}}),Object.defineProperty(a,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(a,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(a,"DOMSVGFactory",{enumerable:!0,get:function(){return V.DOMSVGFactory}}),Object.defineProperty(a,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(a,"GlobalWorkerOptions",{enumerable:!0,get:function(){return re.GlobalWorkerOptions}}),Object.defineProperty(a,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(a,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(a,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(a,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(a,"PDFDataRangeTransport",{enumerable:!0,get:function(){return M.PDFDataRangeTransport}}),Object.defineProperty(a,"PDFDateString",{enumerable:!0,get:function(){return V.PDFDateString}}),Object.defineProperty(a,"PDFWorker",{enumerable:!0,get:function(){return M.PDFWorker}}),Object.defineProperty(a,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(a,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(a,"PixelsPerInch",{enumerable:!0,get:function(){return V.PixelsPerInch}}),Object.defineProperty(a,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(a,"RenderingCancelledException",{enumerable:!0,get:function(){return V.RenderingCancelledException}}),Object.defineProperty(a,"SVGGraphics",{enumerable:!0,get:function(){return M.SVGGraphics}}),Object.defineProperty(a,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(a,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(a,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(a,"XfaLayer",{enumerable:!0,get:function(){return n.XfaLayer}}),Object.defineProperty(a,"build",{enumerable:!0,get:function(){return M.build}}),Object.defineProperty(a,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(a,"getDocument",{enumerable:!0,get:function(){return M.getDocument}}),Object.defineProperty(a,"getFilenameFromUrl",{enumerable:!0,get:function(){return V.getFilenameFromUrl}}),Object.defineProperty(a,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return V.getPdfFilenameFromUrl}}),Object.defineProperty(a,"getXfaPageViewport",{enumerable:!0,get:function(){return V.getXfaPageViewport}}),Object.defineProperty(a,"isDataScheme",{enumerable:!0,get:function(){return V.isDataScheme}}),Object.defineProperty(a,"isPdfFile",{enumerable:!0,get:function(){return V.isPdfFile}}),Object.defineProperty(a,"loadScript",{enumerable:!0,get:function(){return V.loadScript}}),Object.defineProperty(a,"noContextMenu",{enumerable:!0,get:function(){return V.noContextMenu}}),Object.defineProperty(a,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(a,"renderTextLayer",{enumerable:!0,get:function(){return Ae.renderTextLayer}}),Object.defineProperty(a,"setLayerDimensions",{enumerable:!0,get:function(){return V.setLayerDimensions}}),Object.defineProperty(a,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(a,"updateTextLayer",{enumerable:!0,get:function(){return Ae.updateTextLayer}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return M.version}});var s=__w_pdfjs_require__(1),M=__w_pdfjs_require__(2),V=__w_pdfjs_require__(6),Ae=__w_pdfjs_require__(26),_e=__w_pdfjs_require__(27),Pe=__w_pdfjs_require__(5),h=__w_pdfjs_require__(29),re=__w_pdfjs_require__(14),n=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,pdf_worker$1={exports:{}};(function(a,s){(function(V,Ae){a.exports=V.pdfjsWorker=Ae()})(globalThis,()=>(()=>{var M=[,(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WorkerTask=h.WorkerMessageHandler=void 0;var n=re(2),x=re(3),U=re(4),e=re(6),t=re(10),o=re(68),K=re(73),X=re(104),L=re(105),O=re(72);class f{constructor(F){this.name=F,this.terminated=!1,this._capability=new n.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}h.WorkerTask=f;class p{static setup(F,P){let C=!1;F.on("test",function(H){C||(C=!0,F.send("test",H instanceof Uint8Array))}),F.on("configure",function(H){(0,n.setVerbosityLevel)(H.verbosity)}),F.on("GetDocRequest",function(H){return p.createDocumentHandler(H,P)})}static createDocumentHandler(F,P){let C,H=!1,$=null;const se=new Set,_=(0,n.getVerbosityLevel)(),{docId:Q,apiVersion:d}=F,w="3.11.174";if(d!==w)throw new Error(`The API version "${d}" does not match the Worker version "${w}".`);const q=[];for(const u in[])q.push(u);if(q.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+q.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const l=Q+"_worker";let b=new X.MessageHandler(l,Q,P);function D(){if(H)throw new Error("Worker was terminated")}function Z(u){se.add(u)}function N(u){u.finish(),se.delete(u)}async function v(u){await C.ensureDoc("checkHeader"),await C.ensureDoc("parseStartXRef"),await C.ensureDoc("parse",[u]),await C.ensureDoc("checkFirstPage",[u]),await C.ensureDoc("checkLastPage",[u]);const y=await C.ensureDoc("isPureXfa");if(y){const G=new f("loadXfaFonts");Z(G),await Promise.all([C.loadXfaFonts(b,G).catch(ae=>{}).then(()=>N(G)),C.loadXfaImages()])}const[r,A]=await Promise.all([C.ensureDoc("numPages"),C.ensureDoc("fingerprints")]),E=y?await C.ensureDoc("htmlForXfa"):null;return{numPages:r,fingerprints:A,htmlForXfa:E}}function S({data:u,password:y,disableAutoFetch:r,rangeChunkSize:A,length:E,docBaseUrl:G,enableXfa:ae,evaluatorOptions:ce}){const Ie={source:null,disableAutoFetch:r,docBaseUrl:G,docId:Q,enableXfa:ae,evaluatorOptions:ce,handler:b,length:E,password:y,rangeChunkSize:A},fe=new n.PromiseCapability;let Te;if(u){try{Ie.source=u,Te=new e.LocalPdfManager(Ie),fe.resolve(Te)}catch(he){fe.reject(he)}return fe.promise}let be,ve=[];try{be=new L.PDFWorkerStream(b)}catch(he){return fe.reject(he),fe.promise}const te=be.getFullReader();te.headersReady.then(function(){if(te.isRangeSupported){Ie.source=be,Ie.length=te.contentLength,Ie.disableAutoFetch||(Ie.disableAutoFetch=te.isStreamingSupported),Te=new e.NetworkPdfManager(Ie);for(const he of ve)Te.sendProgressiveData(he);ve=[],fe.resolve(Te),$=null}}).catch(function(he){fe.reject(he),$=null});let ie=0;const ge=function(){const he=(0,x.arrayBuffersToBytes)(ve);E&&he.length!==E&&(0,n.warn)("reported HTTP length is different from actual");try{Ie.source=he,Te=new e.LocalPdfManager(Ie),fe.resolve(Te)}catch(ue){fe.reject(ue)}ve=[]};return new Promise(function(he,ue){const we=function({value:Ce,done:le}){try{if(D(),le){Te||ge(),$=null;return}ie+=Ce.byteLength,te.isStreamingSupported||b.send("DocProgress",{loaded:ie,total:Math.max(ie,te.contentLength||0)}),Te?Te.sendProgressiveData(Ce):ve.push(Ce),te.read().then(we,ue)}catch(ke){ue(ke)}};te.read().then(we,ue)}).catch(function(he){fe.reject(he),$=null}),$=function(he){be.cancelAllRequests(he)},fe.promise}function I(u){function y(E){D(),b.send("GetDoc",{pdfInfo:E})}function r(E){if(D(),E instanceof n.PasswordException){const G=new f(`PasswordException: response ${E.code}`);Z(G),b.sendWithPromise("PasswordRequest",E).then(function({password:ae}){N(G),C.updatePassword(ae),A()}).catch(function(){N(G),b.send("DocException",E)})}else E instanceof n.InvalidPDFException||E instanceof n.MissingPDFException||E instanceof n.UnexpectedResponseException||E instanceof n.UnknownErrorException?b.send("DocException",E):b.send("DocException",new n.UnknownErrorException(E.message,E.toString()))}function A(){D(),v(!1).then(y,function(E){if(D(),!(E instanceof x.XRefParseException)){r(E);return}C.requestLoadedStream().then(function(){D(),v(!0).then(y,r)})})}D(),S(u).then(function(E){if(H)throw E.terminate(new n.AbortException("Worker was terminated.")),new Error("Worker was terminated");C=E,C.requestLoadedStream(!0).then(G=>{b.send("DataLoaded",{length:G.bytes.byteLength})})}).then(A,r)}return b.on("GetPage",function(u){return C.getPage(u.pageIndex).then(function(y){return Promise.all([C.ensure(y,"rotate"),C.ensure(y,"ref"),C.ensure(y,"userUnit"),C.ensure(y,"view")]).then(function([r,A,E,G]){return{rotate:r,ref:A,userUnit:E,view:G}})})}),b.on("GetPageIndex",function(u){const y=U.Ref.get(u.num,u.gen);return C.ensureCatalog("getPageIndex",[y])}),b.on("GetDestinations",function(u){return C.ensureCatalog("destinations")}),b.on("GetDestination",function(u){return C.ensureCatalog("getDestination",[u.id])}),b.on("GetPageLabels",function(u){return C.ensureCatalog("pageLabels")}),b.on("GetPageLayout",function(u){return C.ensureCatalog("pageLayout")}),b.on("GetPageMode",function(u){return C.ensureCatalog("pageMode")}),b.on("GetViewerPreferences",function(u){return C.ensureCatalog("viewerPreferences")}),b.on("GetOpenAction",function(u){return C.ensureCatalog("openAction")}),b.on("GetAttachments",function(u){return C.ensureCatalog("attachments")}),b.on("GetDocJSActions",function(u){return C.ensureCatalog("jsActions")}),b.on("GetPageJSActions",function({pageIndex:u}){return C.getPage(u).then(function(y){return C.ensure(y,"jsActions")})}),b.on("GetOutline",function(u){return C.ensureCatalog("documentOutline")}),b.on("GetOptionalContentConfig",function(u){return C.ensureCatalog("optionalContentConfig")}),b.on("GetPermissions",function(u){return C.ensureCatalog("permissions")}),b.on("GetMetadata",function(u){return Promise.all([C.ensureDoc("documentInfo"),C.ensureCatalog("metadata")])}),b.on("GetMarkInfo",function(u){return C.ensureCatalog("markInfo")}),b.on("GetData",function(u){return C.requestLoadedStream().then(function(y){return y.bytes})}),b.on("GetAnnotations",function({pageIndex:u,intent:y}){return C.getPage(u).then(function(r){const A=new f(`GetAnnotations: page ${u}`);return Z(A),r.getAnnotationsData(b,A,y).then(E=>(N(A),E),E=>{throw N(A),E})})}),b.on("GetFieldObjects",function(u){return C.ensureDoc("fieldObjects")}),b.on("HasJSActions",function(u){return C.ensureDoc("hasJSActions")}),b.on("GetCalculationOrderIds",function(u){return C.ensureDoc("calculationOrderIds")}),b.on("SaveDocument",async function({isPureXfa:u,numPages:y,annotationStorage:r,filename:A}){const E=[C.requestLoadedStream(),C.ensureCatalog("acroForm"),C.ensureCatalog("acroFormRef"),C.ensureDoc("startXRef"),C.ensureDoc("xref"),C.ensureDoc("linearization"),C.ensureCatalog("structTreeRoot")],G=[],ae=u?null:(0,x.getNewAnnotationsMap)(r),[ce,Ie,fe,Te,be,ve,te]=await Promise.all(E),ie=be.trailer.getRaw("Root")||null;let ge;if(ae){te?await te.canUpdateStructTree({pdfManager:C,newAnnotationsByPage:ae})&&(ge=te):await O.StructTreeRoot.canCreateStructureTree({catalogRef:ie,pdfManager:C,newAnnotationsByPage:ae})&&(ge=null);const Ee=t.AnnotationFactory.generateImages(r.values(),be,C.evaluatorOptions.isOffscreenCanvasSupported),Oe=ge===void 0?G:[];for(const[Ne,et]of ae)Oe.push(C.getPage(Ne).then(rt=>{const Ge=new f(`Save (editor): page ${Ne}`);return rt.saveNewAnnotations(b,Ge,et,Ee).finally(function(){N(Ge)})}));ge===null?G.push(Promise.all(Oe).then(async Ne=>(await O.StructTreeRoot.createStructureTree({newAnnotationsByPage:ae,xref:be,catalogRef:ie,pdfManager:C,newRefs:Ne}),Ne))):ge&&G.push(Promise.all(Oe).then(async Ne=>(await ge.updateStructureTree({newAnnotationsByPage:ae,pdfManager:C,newRefs:Ne}),Ne)))}if(u)G.push(C.serializeXfaData(r));else for(let Ee=0;Ee<y;Ee++)G.push(C.getPage(Ee).then(function(Oe){const Ne=new f(`Save: page ${Ee}`);return Oe.save(b,Ne,r).finally(function(){N(Ne)})}));const he=await Promise.all(G);let ue=[],we=null;if(u){if(we=he[0],!we)return ce.bytes}else if(ue=he.flat(2),ue.length===0)return ce.bytes;const Ce=fe&&Ie instanceof U.Dict&&ue.some(Ee=>Ee.needAppearances),le=Ie instanceof U.Dict&&Ie.get("XFA")||null;let ke=null,Fe=!1;if(Array.isArray(le)){for(let Ee=0,Oe=le.length;Ee<Oe;Ee+=2)le[Ee]==="datasets"&&(ke=le[Ee+1],Fe=!0);ke===null&&(ke=be.getNewTemporaryRef())}else le&&(0,n.warn)("Unsupported XFA type.");let de=Object.create(null);if(be.trailer){const Ee=Object.create(null),Oe=be.trailer.get("Info")||null;Oe instanceof U.Dict&&Oe.forEach((Ne,et)=>{typeof et=="string"&&(Ee[Ne]=(0,n.stringToPDFString)(et))}),de={rootRef:ie,encryptRef:be.trailer.getRaw("Encrypt")||null,newRef:be.getNewTemporaryRef(),infoRef:be.trailer.getRaw("Info")||null,info:Ee,fileIds:be.trailer.get("ID")||null,startXRef:ve?Te:be.lastXRefStreamPos??Te,filename:A}}return(0,K.incrementalUpdate)({originalData:ce.bytes,xrefInfo:de,newRefs:ue,xref:be,hasXfa:!!le,xfaDatasetsRef:ke,hasXfaDatasetsEntry:Fe,needAppearances:Ce,acroFormRef:fe,acroForm:Ie,xfaData:we}).finally(()=>{be.resetNewTemporaryRef()})}),b.on("GetOperatorList",function(u,y){const r=u.pageIndex;C.getPage(r).then(function(A){const E=new f(`GetOperatorList: page ${r}`);Z(E);const G=_>=n.VerbosityLevel.INFOS?Date.now():0;A.getOperatorList({handler:b,sink:y,task:E,intent:u.intent,cacheKey:u.cacheKey,annotationStorage:u.annotationStorage}).then(function(ae){N(E),G&&(0,n.info)(`page=${r+1} - getOperatorList: time=${Date.now()-G}ms, len=${ae.length}`),y.close()},function(ae){N(E),!E.terminated&&y.error(ae)})})}),b.on("GetTextContent",function(u,y){const{pageIndex:r,includeMarkedContent:A,disableNormalization:E}=u;C.getPage(r).then(function(G){const ae=new f("GetTextContent: page "+r);Z(ae);const ce=_>=n.VerbosityLevel.INFOS?Date.now():0;G.extractTextContent({handler:b,task:ae,sink:y,includeMarkedContent:A,disableNormalization:E}).then(function(){N(ae),ce&&(0,n.info)(`page=${r+1} - getTextContent: time=${Date.now()-ce}ms`),y.close()},function(Ie){N(ae),!ae.terminated&&y.error(Ie)})})}),b.on("GetStructTree",function(u){return C.getPage(u.pageIndex).then(function(y){return C.ensure(y,"getStructTree")})}),b.on("FontFallback",function(u){return C.fontFallback(u.id,b)}),b.on("Cleanup",function(u){return C.cleanup(!0)}),b.on("Terminate",function(u){H=!0;const y=[];if(C){C.terminate(new n.AbortException("Worker was terminated."));const r=C.cleanup();y.push(r),C=null}else(0,o.clearGlobalCaches)();$&&$(new n.AbortException("Worker was terminated."));for(const r of se)y.push(r.finished),r.terminate();return Promise.all(y).then(function(){b.destroy(),b=null})}),b.on("Ready",function(u){I(F),F=null}),l}static initializeFromPort(F){const P=new X.MessageHandler("worker","main",F);p.setup(P,F),P.send("ready",null)}}h.WorkerMessageHandler=p;function i(T){return typeof T.postMessage=="function"&&"onmessage"in T}typeof window>"u"&&!n.isNodeJS&&typeof self<"u"&&i(self)&&p.initializeFromPort(self)},(Pe,h)=>{var mt;Object.defineProperty(h,"__esModule",{value:!0}),h.VerbosityLevel=h.Util=h.UnknownErrorException=h.UnexpectedResponseException=h.TextRenderingMode=h.RenderingIntentFlag=h.PromiseCapability=h.PermissionFlag=h.PasswordResponses=h.PasswordException=h.PageActionEventType=h.OPS=h.MissingPDFException=h.MAX_IMAGE_SIZE_TO_CACHE=h.LINE_FACTOR=h.LINE_DESCENT_FACTOR=h.InvalidPDFException=h.ImageKind=h.IDENTITY_MATRIX=h.FormatError=h.FeatureTest=h.FONT_IDENTITY_MATRIX=h.DocumentActionEventType=h.CMapCompressionType=h.BaseException=h.BASELINE_FACTOR=h.AnnotationType=h.AnnotationReplyType=h.AnnotationPrefix=h.AnnotationMode=h.AnnotationFlag=h.AnnotationFieldFlag=h.AnnotationEditorType=h.AnnotationEditorPrefix=h.AnnotationEditorParamsType=h.AnnotationBorderStyleType=h.AnnotationActionEventType=h.AbortException=void 0,h.assert=I,h.bytesToString=be,h.createValidAbsoluteUrl=y,h.getModificationDate=et,h.getUuid=ze,h.getVerbosityLevel=Z,h.info=N,h.isArrayBuffer=Oe,h.isArrayEqual=Ne,h.isNodeJS=void 0,h.normalizeUnicode=$e,h.objectFromMap=ge,h.objectSize=ie,h.setVerbosityLevel=D,h.shadow=r,h.string32=te,h.stringToBytes=ve,h.stringToPDFString=Fe,h.stringToUTF8String=de,h.unreachable=S,h.utf8StringToString=Ee,h.warn=v;const re=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");h.isNodeJS=re;const n=[1,0,0,1,0,0];h.IDENTITY_MATRIX=n;const x=[.001,0,0,.001,0,0];h.FONT_IDENTITY_MATRIX=x;const U=1e7;h.MAX_IMAGE_SIZE_TO_CACHE=U;const e=1.35;h.LINE_FACTOR=e;const t=.35;h.LINE_DESCENT_FACTOR=t;const o=t/e;h.BASELINE_FACTOR=o;const K={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};h.RenderingIntentFlag=K;const X={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};h.AnnotationMode=X;const L="pdfjs_internal_editor_";h.AnnotationEditorPrefix=L;const O={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};h.AnnotationEditorType=O;const f={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};h.AnnotationEditorParamsType=f;const p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};h.PermissionFlag=p;const i={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};h.TextRenderingMode=i;const T={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};h.ImageKind=T;const F={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};h.AnnotationType=F;const P={GROUP:"Group",REPLY:"R"};h.AnnotationReplyType=P;const C={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};h.AnnotationFlag=C;const H={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};h.AnnotationFieldFlag=H;const $={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};h.AnnotationBorderStyleType=$;const se={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};h.AnnotationActionEventType=se;const _={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};h.DocumentActionEventType=_;const Q={O:"PageOpen",C:"PageClose"};h.PageActionEventType=Q;const d={ERRORS:0,WARNINGS:1,INFOS:5};h.VerbosityLevel=d;const w={NONE:0,BINARY:1};h.CMapCompressionType=w;const q={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};h.OPS=q;const l={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};h.PasswordResponses=l;let b=d.WARNINGS;function D(At){Number.isInteger(At)&&(b=At)}function Z(){return b}function N(At){b>=d.INFOS&&console.log(`Info: ${At}`)}function v(At){b>=d.WARNINGS&&console.log(`Warning: ${At}`)}function S(At){throw new Error(At)}function I(At,Qe){At||S(Qe)}function u(At){switch(At==null?void 0:At.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function y(At,Qe=null,Ke=null){if(!At)return null;try{if(Ke&&typeof At=="string"){if(Ke.addDefaultProtocol&&At.startsWith("www.")){const st=At.match(/\./g);(st==null?void 0:st.length)>=2&&(At=`http://${At}`)}if(Ke.tryConvertEncoding)try{At=de(At)}catch{}}const pt=Qe?new URL(At,Qe):new URL(At);if(u(pt))return pt}catch{}return null}function r(At,Qe,Ke,pt=!1){return Object.defineProperty(At,Qe,{value:Ke,enumerable:!pt,configurable:!0,writable:!1}),Ke}const A=function(){function Qe(Ke,pt){this.constructor===Qe&&S("Cannot initialize BaseException."),this.message=Ke,this.name=pt}return Qe.prototype=new Error,Qe.constructor=Qe,Qe}();h.BaseException=A;class E extends A{constructor(Qe,Ke){super(Qe,"PasswordException"),this.code=Ke}}h.PasswordException=E;class G extends A{constructor(Qe,Ke){super(Qe,"UnknownErrorException"),this.details=Ke}}h.UnknownErrorException=G;class ae extends A{constructor(Qe){super(Qe,"InvalidPDFException")}}h.InvalidPDFException=ae;class ce extends A{constructor(Qe){super(Qe,"MissingPDFException")}}h.MissingPDFException=ce;class Ie extends A{constructor(Qe,Ke){super(Qe,"UnexpectedResponseException"),this.status=Ke}}h.UnexpectedResponseException=Ie;class fe extends A{constructor(Qe){super(Qe,"FormatError")}}h.FormatError=fe;class Te extends A{constructor(Qe){super(Qe,"AbortException")}}h.AbortException=Te;function be(At){(typeof At!="object"||(At==null?void 0:At.length)===void 0)&&S("Invalid argument for bytesToString");const Qe=At.length,Ke=8192;if(Qe<Ke)return String.fromCharCode.apply(null,At);const pt=[];for(let st=0;st<Qe;st+=Ke){const St=Math.min(st+Ke,Qe),kt=At.subarray(st,St);pt.push(String.fromCharCode.apply(null,kt))}return pt.join("")}function ve(At){typeof At!="string"&&S("Invalid argument for stringToBytes");const Qe=At.length,Ke=new Uint8Array(Qe);for(let pt=0;pt<Qe;++pt)Ke[pt]=At.charCodeAt(pt)&255;return Ke}function te(At){return String.fromCharCode(At>>24&255,At>>16&255,At>>8&255,At&255)}function ie(At){return Object.keys(At).length}function ge(At){const Qe=Object.create(null);for(const[Ke,pt]of At)Qe[Ke]=pt;return Qe}function he(){const At=new Uint8Array(4);return At[0]=1,new Uint32Array(At.buffer,0,1)[0]===1}function ue(){try{return new Function(""),!0}catch{return!1}}class we{static get isLittleEndian(){return r(this,"isLittleEndian",he())}static get isEvalSupported(){return r(this,"isEvalSupported",ue())}static get isOffscreenCanvasSupported(){return r(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?r(this,"platform",{isWin:!1,isMac:!1}):r(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Qe,Ke;return r(this,"isCSSRoundSupported",(Ke=(Qe=globalThis.CSS)==null?void 0:Qe.supports)==null?void 0:Ke.call(Qe,"width: round(1.5px, 1px)"))}}h.FeatureTest=we;const Ce=[...Array(256).keys()].map(At=>At.toString(16).padStart(2,"0"));class le{static makeHexColor(Qe,Ke,pt){return`#${Ce[Qe]}${Ce[Ke]}${Ce[pt]}`}static scaleMinMax(Qe,Ke){let pt;Qe[0]?(Qe[0]<0&&(pt=Ke[0],Ke[0]=Ke[1],Ke[1]=pt),Ke[0]*=Qe[0],Ke[1]*=Qe[0],Qe[3]<0&&(pt=Ke[2],Ke[2]=Ke[3],Ke[3]=pt),Ke[2]*=Qe[3],Ke[3]*=Qe[3]):(pt=Ke[0],Ke[0]=Ke[2],Ke[2]=pt,pt=Ke[1],Ke[1]=Ke[3],Ke[3]=pt,Qe[1]<0&&(pt=Ke[2],Ke[2]=Ke[3],Ke[3]=pt),Ke[2]*=Qe[1],Ke[3]*=Qe[1],Qe[2]<0&&(pt=Ke[0],Ke[0]=Ke[1],Ke[1]=pt),Ke[0]*=Qe[2],Ke[1]*=Qe[2]),Ke[0]+=Qe[4],Ke[1]+=Qe[4],Ke[2]+=Qe[5],Ke[3]+=Qe[5]}static transform(Qe,Ke){return[Qe[0]*Ke[0]+Qe[2]*Ke[1],Qe[1]*Ke[0]+Qe[3]*Ke[1],Qe[0]*Ke[2]+Qe[2]*Ke[3],Qe[1]*Ke[2]+Qe[3]*Ke[3],Qe[0]*Ke[4]+Qe[2]*Ke[5]+Qe[4],Qe[1]*Ke[4]+Qe[3]*Ke[5]+Qe[5]]}static applyTransform(Qe,Ke){const pt=Qe[0]*Ke[0]+Qe[1]*Ke[2]+Ke[4],st=Qe[0]*Ke[1]+Qe[1]*Ke[3]+Ke[5];return[pt,st]}static applyInverseTransform(Qe,Ke){const pt=Ke[0]*Ke[3]-Ke[1]*Ke[2],st=(Qe[0]*Ke[3]-Qe[1]*Ke[2]+Ke[2]*Ke[5]-Ke[4]*Ke[3])/pt,St=(-Qe[0]*Ke[1]+Qe[1]*Ke[0]+Ke[4]*Ke[1]-Ke[5]*Ke[0])/pt;return[st,St]}static getAxialAlignedBoundingBox(Qe,Ke){const pt=this.applyTransform(Qe,Ke),st=this.applyTransform(Qe.slice(2,4),Ke),St=this.applyTransform([Qe[0],Qe[3]],Ke),kt=this.applyTransform([Qe[2],Qe[1]],Ke);return[Math.min(pt[0],st[0],St[0],kt[0]),Math.min(pt[1],st[1],St[1],kt[1]),Math.max(pt[0],st[0],St[0],kt[0]),Math.max(pt[1],st[1],St[1],kt[1])]}static inverseTransform(Qe){const Ke=Qe[0]*Qe[3]-Qe[1]*Qe[2];return[Qe[3]/Ke,-Qe[1]/Ke,-Qe[2]/Ke,Qe[0]/Ke,(Qe[2]*Qe[5]-Qe[4]*Qe[3])/Ke,(Qe[4]*Qe[1]-Qe[5]*Qe[0])/Ke]}static singularValueDecompose2dScale(Qe){const Ke=[Qe[0],Qe[2],Qe[1],Qe[3]],pt=Qe[0]*Ke[0]+Qe[1]*Ke[2],st=Qe[0]*Ke[1]+Qe[1]*Ke[3],St=Qe[2]*Ke[0]+Qe[3]*Ke[2],kt=Qe[2]*Ke[1]+Qe[3]*Ke[3],zn=(pt+kt)/2,ft=Math.sqrt((pt+kt)**2-4*(pt*kt-St*st))/2,en=zn+ft||1,Xt=zn-ft||1;return[Math.sqrt(en),Math.sqrt(Xt)]}static normalizeRect(Qe){const Ke=Qe.slice(0);return Qe[0]>Qe[2]&&(Ke[0]=Qe[2],Ke[2]=Qe[0]),Qe[1]>Qe[3]&&(Ke[1]=Qe[3],Ke[3]=Qe[1]),Ke}static intersect(Qe,Ke){const pt=Math.max(Math.min(Qe[0],Qe[2]),Math.min(Ke[0],Ke[2])),st=Math.min(Math.max(Qe[0],Qe[2]),Math.max(Ke[0],Ke[2]));if(pt>st)return null;const St=Math.max(Math.min(Qe[1],Qe[3]),Math.min(Ke[1],Ke[3])),kt=Math.min(Math.max(Qe[1],Qe[3]),Math.max(Ke[1],Ke[3]));return St>kt?null:[pt,St,st,kt]}static bezierBoundingBox(Qe,Ke,pt,st,St,kt,zn,ft){const en=[],Xt=[[],[]];let Ve,Re,qe,Ze,lt,gt,xt,jt;for(let Wt=0;Wt<2;++Wt){if(Wt===0?(Re=6*Qe-12*pt+6*St,Ve=-3*Qe+9*pt-9*St+3*zn,qe=3*pt-3*Qe):(Re=6*Ke-12*st+6*kt,Ve=-3*Ke+9*st-9*kt+3*ft,qe=3*st-3*Ke),Math.abs(Ve)<1e-12){if(Math.abs(Re)<1e-12)continue;Ze=-qe/Re,0<Ze&&Ze<1&&en.push(Ze);continue}xt=Re*Re-4*qe*Ve,jt=Math.sqrt(xt),!(xt<0)&&(lt=(-Re+jt)/(2*Ve),0<lt&&lt<1&&en.push(lt),gt=(-Re-jt)/(2*Ve),0<gt&&gt<1&&en.push(gt))}let Mt=en.length,Dt;const Kt=Mt;for(;Mt--;)Ze=en[Mt],Dt=1-Ze,Xt[0][Mt]=Dt*Dt*Dt*Qe+3*Dt*Dt*Ze*pt+3*Dt*Ze*Ze*St+Ze*Ze*Ze*zn,Xt[1][Mt]=Dt*Dt*Dt*Ke+3*Dt*Dt*Ze*st+3*Dt*Ze*Ze*kt+Ze*Ze*Ze*ft;return Xt[0][Kt]=Qe,Xt[1][Kt]=Ke,Xt[0][Kt+1]=zn,Xt[1][Kt+1]=ft,Xt[0].length=Xt[1].length=Kt+2,[Math.min(...Xt[0]),Math.min(...Xt[1]),Math.max(...Xt[0]),Math.max(...Xt[1])]}}h.Util=le;const ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Fe(At){if(At[0]>="ï"){let Ke;if(At[0]==="þ"&&At[1]==="ÿ"?Ke="utf-16be":At[0]==="ÿ"&&At[1]==="þ"?Ke="utf-16le":At[0]==="ï"&&At[1]==="»"&&At[2]==="¿"&&(Ke="utf-8"),Ke)try{const pt=new TextDecoder(Ke,{fatal:!0}),st=ve(At);return pt.decode(st)}catch(pt){v(`stringToPDFString: "${pt}".`)}}const Qe=[];for(let Ke=0,pt=At.length;Ke<pt;Ke++){const st=ke[At.charCodeAt(Ke)];Qe.push(st?String.fromCharCode(st):At.charAt(Ke))}return Qe.join("")}function de(At){return decodeURIComponent(escape(At))}function Ee(At){return unescape(encodeURIComponent(At))}function Oe(At){return typeof At=="object"&&(At==null?void 0:At.byteLength)!==void 0}function Ne(At,Qe){if(At.length!==Qe.length)return!1;for(let Ke=0,pt=At.length;Ke<pt;Ke++)if(At[Ke]!==Qe[Ke])return!1;return!0}function et(At=new Date){return[At.getUTCFullYear().toString(),(At.getUTCMonth()+1).toString().padStart(2,"0"),At.getUTCDate().toString().padStart(2,"0"),At.getUTCHours().toString().padStart(2,"0"),At.getUTCMinutes().toString().padStart(2,"0"),At.getUTCSeconds().toString().padStart(2,"0")].join("")}class rt{constructor(){ct(this,mt,!1);this.promise=new Promise((Qe,Ke)=>{this.resolve=pt=>{Pt(this,mt,!0),Qe(pt)},this.reject=pt=>{Pt(this,mt,!0),Ke(pt)}})}get settled(){return Ue(this,mt)}}mt=new WeakMap,h.PromiseCapability=rt;let Ge=null,je=null;function $e(At){return Ge||(Ge=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,je=new Map([["ﬅ","ſt"]])),At.replaceAll(Ge,(Qe,Ke,pt)=>Ke?Ke.normalize("NFKC"):je.get(pt))}function ze(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const At=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(At);else for(let Qe=0;Qe<32;Qe++)At[Qe]=Math.floor(Math.random()*255);return be(At)}const at="pdfjs_internal_id_";h.AnnotationPrefix=at},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XRefParseException=h.XRefEntryException=h.ParserEOFException=h.PDF_VERSION_REGEXP=h.MissingDataException=void 0,h.arrayBuffersToBytes=O,h.collectActions=d,h.encodeToXmlString=q,h.escapePDFName=se,h.escapeString=_,h.getInheritableProperty=f,h.getLookupTableFactory=t,h.getNewAnnotationsMap=N,h.getRotationMatrix=u,h.isAscii=v,h.isWhiteSpace=H,h.log2=T,h.numberToString=Z,h.parseXFAPath=$,h.readInt8=F,h.readUint16=P,h.readUint32=C,h.recoverJsURL=D,h.stringToUTF16HexString=S,h.stringToUTF16String=I,h.toRomanNumerals=i,h.validateCSSFont=b,h.validateFontName=l;var n=re(2),x=re(4),U=re(5);const e=/^[1-9]\.\d$/;h.PDF_VERSION_REGEXP=e;function t(y){let r;return function(){return y&&(r=Object.create(null),y(r),y=null),r}}class o extends n.BaseException{constructor(r,A){super(`Missing data [${r}, ${A})`,"MissingDataException"),this.begin=r,this.end=A}}h.MissingDataException=o;class K extends n.BaseException{constructor(r){super(r,"ParserEOFException")}}h.ParserEOFException=K;class X extends n.BaseException{constructor(r){super(r,"XRefEntryException")}}h.XRefEntryException=X;class L extends n.BaseException{constructor(r){super(r,"XRefParseException")}}h.XRefParseException=L;function O(y){const r=y.length;if(r===0)return new Uint8Array(0);if(r===1)return new Uint8Array(y[0]);let A=0;for(let ae=0;ae<r;ae++)A+=y[ae].byteLength;const E=new Uint8Array(A);let G=0;for(let ae=0;ae<r;ae++){const ce=new Uint8Array(y[ae]);E.set(ce,G),G+=ce.byteLength}return E}function f({dict:y,key:r,getArray:A=!1,stopWhenFound:E=!0}){let G;const ae=new x.RefSet;for(;y instanceof x.Dict&&!(y.objId&&ae.has(y.objId));){y.objId&&ae.put(y.objId);const ce=A?y.getArray(r):y.get(r);if(ce!==void 0){if(E)return ce;(G||(G=[])).push(ce)}y=y.get("Parent")}return G}const p=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function i(y,r=!1){(0,n.assert)(Number.isInteger(y)&&y>0,"The number should be a positive integer.");const A=[];let E;for(;y>=1e3;)y-=1e3,A.push("M");E=y/100|0,y%=100,A.push(p[E]),E=y/10|0,y%=10,A.push(p[10+E]),A.push(p[20+y]);const G=A.join("");return r?G.toLowerCase():G}function T(y){return y<=0?0:Math.ceil(Math.log2(y))}function F(y,r){return y[r]<<24>>24}function P(y,r){return y[r]<<8|y[r+1]}function C(y,r){return(y[r]<<24|y[r+1]<<16|y[r+2]<<8|y[r+3])>>>0}function H(y){return y===32||y===9||y===13||y===10}function $(y){const r=/(.+)\[(\d+)\]$/;return y.split(".").map(A=>{const E=A.match(r);return E?{name:E[1],pos:parseInt(E[2],10)}:{name:A,pos:0}})}function se(y){const r=[];let A=0;for(let E=0,G=y.length;E<G;E++){const ae=y.charCodeAt(E);(ae<33||ae>126||ae===35||ae===40||ae===41||ae===60||ae===62||ae===91||ae===93||ae===123||ae===125||ae===47||ae===37)&&(A<E&&r.push(y.substring(A,E)),r.push(`#${ae.toString(16)}`),A=E+1)}return r.length===0?y:(A<y.length&&r.push(y.substring(A,y.length)),r.join(""))}function _(y){return y.replaceAll(/([()\\\n\r])/g,r=>r===`
`?"\\n":r==="\r"?"\\r":`\\${r}`)}function Q(y,r,A,E){if(!y)return;let G=null;if(y instanceof x.Ref){if(E.has(y))return;G=y,E.put(G),y=r.fetch(y)}if(Array.isArray(y))for(const ae of y)Q(ae,r,A,E);else if(y instanceof x.Dict){if((0,x.isName)(y.get("S"),"JavaScript")){const ae=y.get("JS");let ce;ae instanceof U.BaseStream?ce=ae.getString():typeof ae=="string"&&(ce=ae),ce&&(ce=(0,n.stringToPDFString)(ce).replaceAll("\0","")),ce&&A.push(ce)}Q(y.getRaw("Next"),r,A,E)}G&&E.remove(G)}function d(y,r,A){const E=Object.create(null),G=f({dict:r,key:"AA",stopWhenFound:!1});if(G)for(let ae=G.length-1;ae>=0;ae--){const ce=G[ae];if(ce instanceof x.Dict)for(const Ie of ce.getKeys()){const fe=A[Ie];if(!fe)continue;const Te=ce.getRaw(Ie),be=new x.RefSet,ve=[];Q(Te,y,ve,be),ve.length>0&&(E[fe]=ve)}}if(r.has("A")){const ae=r.get("A"),ce=new x.RefSet,Ie=[];Q(ae,y,Ie,ce),Ie.length>0&&(E.Action=Ie)}return(0,n.objectSize)(E)>0?E:null}const w={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function q(y){const r=[];let A=0;for(let E=0,G=y.length;E<G;E++){const ae=y.codePointAt(E);if(32<=ae&&ae<=126){const ce=w[ae];ce&&(A<E&&r.push(y.substring(A,E)),r.push(ce),A=E+1)}else A<E&&r.push(y.substring(A,E)),r.push(`&#x${ae.toString(16).toUpperCase()};`),ae>55295&&(ae<57344||ae>65533)&&E++,A=E+1}return r.length===0?y:(A<y.length&&r.push(y.substring(A,y.length)),r.join(""))}function l(y,r=!1){const A=/^("|').*("|')$/.exec(y);if(A&&A[1]===A[2]){if(new RegExp(`[^\\\\]${A[1]}`).test(y.slice(1,-1)))return r&&(0,n.warn)(`FontFamily contains unescaped ${A[1]}: ${y}.`),!1}else for(const E of y.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(E)||!/^[\w-\\]+$/.test(E))return r&&(0,n.warn)(`FontFamily contains invalid <custom-ident>: ${y}.`),!1;return!0}function b(y){const r="14",A="400",E=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:G,fontWeight:ae,italicAngle:ce}=y;if(!l(G,!0))return!1;const Ie=ae?ae.toString():"";y.fontWeight=E.has(Ie)?Ie:A;const fe=parseFloat(ce);return y.italicAngle=isNaN(fe)||fe<-90||fe>90?r:ce.toString(),!0}function D(y){const r=["app.launchURL","window.open","xfa.host.gotoURL"],E=new RegExp("^\\s*("+r.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(y);if(E!=null&&E[2]){const G=E[2];let ae=!1;return E[3]==="true"&&E[1]==="app.launchURL"&&(ae=!0),{url:G,newWindow:ae}}return null}function Z(y){if(Number.isInteger(y))return y.toString();const r=Math.round(y*100);return r%100===0?(r/100).toString():r%10===0?y.toFixed(1):y.toFixed(2)}function N(y){if(!y)return null;const r=new Map;for(const[A,E]of y){if(!A.startsWith(n.AnnotationEditorPrefix))continue;let G=r.get(E.pageIndex);G||(G=[],r.set(E.pageIndex,G)),G.push(E)}return r.size>0?r:null}function v(y){return/^[\x00-\x7F]*$/.test(y)}function S(y){const r=[];for(let A=0,E=y.length;A<E;A++){const G=y.charCodeAt(A);r.push((G>>8&255).toString(16).padStart(2,"0"),(G&255).toString(16).padStart(2,"0"))}return r.join("")}function I(y,r=!1){const A=[];r&&A.push("þÿ");for(let E=0,G=y.length;E<G;E++){const ae=y.charCodeAt(E);A.push(String.fromCharCode(ae>>8&255),String.fromCharCode(ae&255))}return A.join("")}function u(y,r,A){switch(y){case 90:return[0,1,-1,0,r,0];case 180:return[-1,0,0,-1,r,A];case 270:return[0,-1,1,0,0,A];default:throw new Error("Invalid rotation")}}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RefSetCache=h.RefSet=h.Ref=h.Name=h.EOF=h.Dict=h.Cmd=h.CIRCULAR_REF=void 0,h.clearPrimitiveCaches=K,h.isCmd=P,h.isDict=C,h.isName=F,h.isRefsEqual=H;var n=re(2);const x=Symbol("CIRCULAR_REF");h.CIRCULAR_REF=x;const U=Symbol("EOF");h.EOF=U;let e=Object.create(null),t=Object.create(null),o=Object.create(null);function K(){e=Object.create(null),t=Object.create(null),o=Object.create(null)}class X{constructor(se){this.name=se}static get(se){return t[se]||(t[se]=new X(se))}}h.Name=X;class L{constructor(se){this.cmd=se}static get(se){return e[se]||(e[se]=new L(se))}}h.Cmd=L;const O=function(){return O};class f{constructor(se=null){this._map=Object.create(null),this.xref=se,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=O}assignXref(se){this.xref=se}get size(){return Object.keys(this._map).length}get(se,_,Q){let d=this._map[se];return d===void 0&&_!==void 0&&(d=this._map[_],d===void 0&&Q!==void 0&&(d=this._map[Q])),d instanceof p&&this.xref?this.xref.fetch(d,this.suppressEncryption):d}async getAsync(se,_,Q){let d=this._map[se];return d===void 0&&_!==void 0&&(d=this._map[_],d===void 0&&Q!==void 0&&(d=this._map[Q])),d instanceof p&&this.xref?this.xref.fetchAsync(d,this.suppressEncryption):d}getArray(se,_,Q){let d=this._map[se];if(d===void 0&&_!==void 0&&(d=this._map[_],d===void 0&&Q!==void 0&&(d=this._map[Q])),d instanceof p&&this.xref&&(d=this.xref.fetch(d,this.suppressEncryption)),Array.isArray(d)){d=d.slice();for(let w=0,q=d.length;w<q;w++)d[w]instanceof p&&this.xref&&(d[w]=this.xref.fetch(d[w],this.suppressEncryption))}return d}getRaw(se){return this._map[se]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(se,_){this._map[se]=_}has(se){return this._map[se]!==void 0}forEach(se){for(const _ in this._map)se(_,this.get(_))}static get empty(){const se=new f(null);return se.set=(_,Q)=>{(0,n.unreachable)("Should not call `set` on the empty dictionary.")},(0,n.shadow)(this,"empty",se)}static merge({xref:se,dictArray:_,mergeSubDicts:Q=!1}){const d=new f(se),w=new Map;for(const q of _)if(q instanceof f)for(const[l,b]of Object.entries(q._map)){let D=w.get(l);if(D===void 0)D=[],w.set(l,D);else if(!Q||!(b instanceof f))continue;D.push(b)}for(const[q,l]of w){if(l.length===1||!(l[0]instanceof f)){d._map[q]=l[0];continue}const b=new f(se);for(const D of l)for(const[Z,N]of Object.entries(D._map))b._map[Z]===void 0&&(b._map[Z]=N);b.size>0&&(d._map[q]=b)}return w.clear(),d.size>0?d:f.empty}clone(){const se=new f(this.xref);for(const _ of this.getKeys())se.set(_,this.getRaw(_));return se}}h.Dict=f;class p{constructor(se,_){this.num=se,this.gen=_}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(se){const _=o[se];if(_)return _;const Q=/^(\d+)R(\d*)$/.exec(se);return!Q||Q[1]==="0"?null:o[se]=new p(parseInt(Q[1]),Q[2]?parseInt(Q[2]):0)}static get(se,_){const Q=_===0?`${se}R`:`${se}R${_}`;return o[Q]||(o[Q]=new p(se,_))}}h.Ref=p;class i{constructor(se=null){this._set=new Set(se==null?void 0:se._set)}has(se){return this._set.has(se.toString())}put(se){this._set.add(se.toString())}remove(se){this._set.delete(se.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}h.RefSet=i;class T{constructor(){this._map=new Map}get size(){return this._map.size}get(se){return this._map.get(se.toString())}has(se){return this._map.has(se.toString())}put(se,_){this._map.set(se.toString(),_)}putAlias(se,_){this._map.set(se.toString(),this.get(_))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}h.RefSetCache=T;function F($,se){return $ instanceof X&&(se===void 0||$.name===se)}function P($,se){return $ instanceof L&&(se===void 0||$.cmd===se)}function C($,se){return $ instanceof f&&(se===void 0||F($.get("Type"),se))}function H($,se){return $.num===se.num&&$.gen===se.gen}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BaseStream=void 0;var n=re(2);class x{constructor(){this.constructor===x&&(0,n.unreachable)("Cannot initialize BaseStream.")}get length(){(0,n.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,n.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,n.shadow)(this,"isDataLoaded",!0)}getByte(){(0,n.unreachable)("Abstract method `getByte` called")}getBytes(e){(0,n.unreachable)("Abstract method `getBytes` called")}peekByte(){const e=this.getByte();return e!==-1&&this.pos--,e}peekBytes(e){const t=this.getBytes(e);return this.pos-=t.length,t}getUint16(){const e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t}getInt32(){const e=this.getByte(),t=this.getByte(),o=this.getByte(),K=this.getByte();return(e<<24)+(t<<16)+(o<<8)+K}getByteRange(e,t){(0,n.unreachable)("Abstract method `getByteRange` called")}getString(e){return(0,n.bytesToString)(this.getBytes(e))}skip(e){this.pos+=e||1}reset(){(0,n.unreachable)("Abstract method `reset` called")}moveStart(){(0,n.unreachable)("Abstract method `moveStart` called")}makeSubStream(e,t,o=null){(0,n.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}h.BaseStream=x},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NetworkPdfManager=h.LocalPdfManager=void 0;var n=re(2),x=re(7),U=re(3),e=re(9),t=re(8);function o(O){if(O){const f=(0,n.createValidAbsoluteUrl)(O);if(f)return f.href;(0,n.warn)(`Invalid absolute docBaseUrl: "${O}".`)}return null}class K{constructor(f){var p;this.constructor===K&&(0,n.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=o(f.docBaseUrl),this._docId=f.docId,this._password=f.password,this.enableXfa=f.enableXfa,(p=f.evaluatorOptions).isOffscreenCanvasSupported&&(p.isOffscreenCanvasSupported=n.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=f.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(f,p){return this.ensure(this.pdfDocument,f,p)}ensureXRef(f,p){return this.ensure(this.pdfDocument.xref,f,p)}ensureCatalog(f,p){return this.ensure(this.pdfDocument.catalog,f,p)}getPage(f){return this.pdfDocument.getPage(f)}fontFallback(f,p){return this.pdfDocument.fontFallback(f,p)}loadXfaFonts(f,p){return this.pdfDocument.loadXfaFonts(f,p)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(f){return this.pdfDocument.serializeXfaData(f)}cleanup(f=!1){return this.pdfDocument.cleanup(f)}async ensure(f,p,i){(0,n.unreachable)("Abstract method `ensure` called")}requestRange(f,p){(0,n.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(f=!1){(0,n.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(f){(0,n.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(f){this._password=f}terminate(f){(0,n.unreachable)("Abstract method `terminate` called")}}class X extends K{constructor(f){super(f);const p=new t.Stream(f.source);this.pdfDocument=new e.PDFDocument(this,p),this._loadedStreamPromise=Promise.resolve(p)}async ensure(f,p,i){const T=f[p];return typeof T=="function"?T.apply(f,i):T}requestRange(f,p){return Promise.resolve()}requestLoadedStream(f=!1){return this._loadedStreamPromise}terminate(f){}}h.LocalPdfManager=X;class L extends K{constructor(f){super(f),this.streamManager=new x.ChunkedStreamManager(f.source,{msgHandler:f.handler,length:f.length,disableAutoFetch:f.disableAutoFetch,rangeChunkSize:f.rangeChunkSize}),this.pdfDocument=new e.PDFDocument(this,this.streamManager.getStream())}async ensure(f,p,i){try{const T=f[p];return typeof T=="function"?T.apply(f,i):T}catch(T){if(!(T instanceof U.MissingDataException))throw T;return await this.requestRange(T.begin,T.end),this.ensure(f,p,i)}}requestRange(f,p){return this.streamManager.requestRange(f,p)}requestLoadedStream(f=!1){return this.streamManager.requestAllChunks(f)}sendProgressiveData(f){this.streamManager.onReceiveData({chunk:f})}terminate(f){this.streamManager.abort(f)}}h.NetworkPdfManager=L},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ChunkedStreamManager=h.ChunkedStream=void 0;var n=re(3),x=re(2),U=re(8);class e extends U.Stream{constructor(K,X,L){super(new Uint8Array(K),0,K,null),this.chunkSize=X,this._loadedChunks=new Set,this.numChunks=Math.ceil(K/X),this.manager=L,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const K=[];for(let X=0,L=this.numChunks;X<L;++X)this._loadedChunks.has(X)||K.push(X);return K}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(K,X){const L=this.chunkSize;if(K%L!==0)throw new Error(`Bad begin offset: ${K}`);const O=K+X.byteLength;if(O%L!==0&&O!==this.bytes.length)throw new Error(`Bad end offset: ${O}`);this.bytes.set(new Uint8Array(X),K);const f=Math.floor(K/L),p=Math.floor((O-1)/L)+1;for(let i=f;i<p;++i)this._loadedChunks.add(i)}onReceiveProgressiveData(K){let X=this.progressiveDataLength;const L=Math.floor(X/this.chunkSize);this.bytes.set(new Uint8Array(K),X),X+=K.byteLength,this.progressiveDataLength=X;const O=X>=this.end?this.numChunks:Math.floor(X/this.chunkSize);for(let f=L;f<O;++f)this._loadedChunks.add(f)}ensureByte(K){if(K<this.progressiveDataLength)return;const X=Math.floor(K/this.chunkSize);if(!(X>this.numChunks)&&X!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(X))throw new n.MissingDataException(K,K+1);this.lastSuccessfulEnsureByteChunk=X}}ensureRange(K,X){if(K>=X||X<=this.progressiveDataLength)return;const L=Math.floor(K/this.chunkSize);if(L>this.numChunks)return;const O=Math.min(Math.floor((X-1)/this.chunkSize)+1,this.numChunks);for(let f=L;f<O;++f)if(!this._loadedChunks.has(f))throw new n.MissingDataException(K,X)}nextEmptyChunk(K){const X=this.numChunks;for(let L=0;L<X;++L){const O=(K+L)%X;if(!this._loadedChunks.has(O))return O}return null}hasChunk(K){return this._loadedChunks.has(K)}getByte(){const K=this.pos;return K>=this.end?-1:(K>=this.progressiveDataLength&&this.ensureByte(K),this.bytes[this.pos++])}getBytes(K){const X=this.bytes,L=this.pos,O=this.end;if(!K)return O>this.progressiveDataLength&&this.ensureRange(L,O),X.subarray(L,O);let f=L+K;return f>O&&(f=O),f>this.progressiveDataLength&&this.ensureRange(L,f),this.pos=f,X.subarray(L,f)}getByteRange(K,X){return K<0&&(K=0),X>this.end&&(X=this.end),X>this.progressiveDataLength&&this.ensureRange(K,X),this.bytes.subarray(K,X)}makeSubStream(K,X,L=null){X?K+X>this.progressiveDataLength&&this.ensureRange(K,K+X):K>=this.progressiveDataLength&&this.ensureByte(K);function O(){}O.prototype=Object.create(this),O.prototype.getMissingChunks=function(){const p=this.chunkSize,i=Math.floor(this.start/p),T=Math.floor((this.end-1)/p)+1,F=[];for(let P=i;P<T;++P)this._loadedChunks.has(P)||F.push(P);return F},Object.defineProperty(O.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const f=new O;return f.pos=f.start=K,f.end=K+X||this.end,f.dict=L,f}getBaseStreams(){return[this]}}h.ChunkedStream=e;class t{constructor(K,X){this.length=X.length,this.chunkSize=X.rangeChunkSize,this.stream=new e(this.length,this.chunkSize,this),this.pdfNetworkStream=K,this.disableAutoFetch=X.disableAutoFetch,this.msgHandler=X.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new x.PromiseCapability}sendRequest(K,X){const L=this.pdfNetworkStream.getRangeReader(K,X);L.isStreamingSupported||(L.onProgress=this.onProgress.bind(this));let O=[],f=0;return new Promise((p,i)=>{const T=({value:F,done:P})=>{try{if(P){const C=(0,n.arrayBuffersToBytes)(O);O=null,p(C);return}f+=F.byteLength,L.isStreamingSupported&&this.onProgress({loaded:f}),O.push(F),L.read().then(T,i)}catch(C){i(C)}};L.read().then(T,i)}).then(p=>{this.aborted||this.onReceiveData({chunk:p,begin:K})})}requestAllChunks(K=!1){if(!K){const X=this.stream.getMissingChunks();this._requestChunks(X)}return this._loadedStreamCapability.promise}_requestChunks(K){const X=this.currRequestId++,L=new Set;this._chunksNeededByRequest.set(X,L);for(const p of K)this.stream.hasChunk(p)||L.add(p);if(L.size===0)return Promise.resolve();const O=new x.PromiseCapability;this._promisesByRequest.set(X,O);const f=[];for(const p of L){let i=this._requestsByChunk.get(p);i||(i=[],this._requestsByChunk.set(p,i),f.push(p)),i.push(X)}if(f.length>0){const p=this.groupChunks(f);for(const i of p){const T=i.beginChunk*this.chunkSize,F=Math.min(i.endChunk*this.chunkSize,this.length);this.sendRequest(T,F).catch(O.reject)}}return O.promise.catch(p=>{if(!this.aborted)throw p})}getStream(){return this.stream}requestRange(K,X){X=Math.min(X,this.length);const L=this.getBeginChunk(K),O=this.getEndChunk(X),f=[];for(let p=L;p<O;++p)f.push(p);return this._requestChunks(f)}requestRanges(K=[]){const X=[];for(const L of K){const O=this.getBeginChunk(L.begin),f=this.getEndChunk(L.end);for(let p=O;p<f;++p)X.includes(p)||X.push(p)}return X.sort(function(L,O){return L-O}),this._requestChunks(X)}groupChunks(K){const X=[];let L=-1,O=-1;for(let f=0,p=K.length;f<p;++f){const i=K[f];L<0&&(L=i),O>=0&&O+1!==i&&(X.push({beginChunk:L,endChunk:O+1}),L=i),f+1===K.length&&X.push({beginChunk:L,endChunk:i+1}),O=i}return X}onProgress(K){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+K.loaded,total:this.length})}onReceiveData(K){const X=K.chunk,L=K.begin===void 0,O=L?this.progressiveDataLength:K.begin,f=O+X.byteLength,p=Math.floor(O/this.chunkSize),i=f<this.length?Math.floor(f/this.chunkSize):Math.ceil(f/this.chunkSize);L?(this.stream.onReceiveProgressiveData(X),this.progressiveDataLength=f):this.stream.onReceiveData(O,X),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const T=[];for(let F=p;F<i;++F){const P=this._requestsByChunk.get(F);if(P){this._requestsByChunk.delete(F);for(const C of P){const H=this._chunksNeededByRequest.get(C);H.has(F)&&H.delete(F),!(H.size>0)&&T.push(C)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let F;if(this.stream.numChunksLoaded===1){const P=this.stream.numChunks-1;this.stream.hasChunk(P)||(F=P)}else F=this.stream.nextEmptyChunk(i);Number.isInteger(F)&&this._requestChunks([F])}for(const F of T){const P=this._promisesByRequest.get(F);this._promisesByRequest.delete(F),P.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(K){this._loadedStreamCapability.reject(K)}getBeginChunk(K){return Math.floor(K/this.chunkSize)}getEndChunk(K){return Math.floor((K-1)/this.chunkSize)+1}abort(K){var X;this.aborted=!0,(X=this.pdfNetworkStream)==null||X.cancelAllRequests(K);for(const L of this._promisesByRequest.values())L.reject(K)}}h.ChunkedStreamManager=t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StringStream=h.Stream=h.NullStream=void 0;var n=re(5),x=re(2);class U extends n.BaseStream{constructor(K,X,L,O){super(),this.bytes=K instanceof Uint8Array?K:new Uint8Array(K),this.start=X||0,this.pos=this.start,this.end=X+L||this.bytes.length,this.dict=O}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(K){const X=this.bytes,L=this.pos,O=this.end;if(!K)return X.subarray(L,O);let f=L+K;return f>O&&(f=O),this.pos=f,X.subarray(L,f)}getByteRange(K,X){return K<0&&(K=0),X>this.end&&(X=this.end),this.bytes.subarray(K,X)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(K,X,L=null){return new U(this.bytes.buffer,K,X,L)}}h.Stream=U;class e extends U{constructor(K){super((0,x.stringToBytes)(K))}}h.StringStream=e;class t extends U{constructor(){super(new Uint8Array(0))}}h.NullStream=t},(Pe,h,re)=>{var v,D0,I,L0;Object.defineProperty(h,"__esModule",{value:!0}),h.Page=h.PDFDocument=void 0;var n=re(2),x=re(10),U=re(3),e=re(4),t=re(51),o=re(5),K=re(74),X=re(66),L=re(68),O=re(102),f=re(16),p=re(8),i=re(76),T=re(64),F=re(13),P=re(18),C=re(72),H=re(73),$=re(77),se=re(103);const _=1,Q=[0,0,612,792];class d{constructor({pdfManager:r,xref:A,pageIndex:E,pageDict:G,ref:ae,globalIdFactory:ce,fontCache:Ie,builtInCMapCache:fe,standardFontDataCache:Te,globalImageCache:be,systemFontCache:ve,nonBlendModesSet:te,xfaFactory:ie}){ct(this,v);this.pdfManager=r,this.pageIndex=E,this.pageDict=G,this.xref=A,this.ref=ae,this.fontCache=Ie,this.builtInCMapCache=fe,this.standardFontDataCache=Te,this.globalImageCache=be,this.systemFontCache=ve,this.nonBlendModesSet=te,this.evaluatorOptions=r.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=ie;const ge={obj:0};this._localIdFactory=class extends ce{static createObjId(){return`p${E}_${++ge.obj}`}static getPageObjId(){return`p${ae.toString()}`}}}_getInheritableProperty(r,A=!1){const E=(0,U.getInheritableProperty)({dict:this.pageDict,key:r,getArray:A,stopWhenFound:!1});return Array.isArray(E)?E.length===1||!(E[0]instanceof e.Dict)?E[0]:e.Dict.merge({xref:this.xref,dictArray:E}):E}get content(){return this.pageDict.getArray("Contents")}get resources(){const r=this._getInheritableProperty("Resources");return(0,n.shadow)(this,"resources",r instanceof e.Dict?r:e.Dict.empty)}_getBoundingBox(r){if(this.xfaData)return this.xfaData.bbox;let A=this._getInheritableProperty(r,!0);if(Array.isArray(A)&&A.length===4){if(A=n.Util.normalizeRect(A),A[2]-A[0]>0&&A[3]-A[1]>0)return A;(0,n.warn)(`Empty, or invalid, /${r} entry.`)}return null}get mediaBox(){return(0,n.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||Q)}get cropBox(){return(0,n.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let r=this.pageDict.get("UserUnit");return(typeof r!="number"||r<=0)&&(r=_),(0,n.shadow)(this,"userUnit",r)}get view(){const{cropBox:r,mediaBox:A}=this;if(r!==A&&!(0,n.isArrayEqual)(r,A)){const E=n.Util.intersect(r,A);if(E&&E[2]-E[0]>0&&E[3]-E[1]>0)return(0,n.shadow)(this,"view",E);(0,n.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,n.shadow)(this,"view",A)}get rotate(){let r=this._getInheritableProperty("Rotate")||0;return r%90!==0?r=0:r>=360?r%=360:r<0&&(r=(r%360+360)%360),(0,n.shadow)(this,"rotate",r)}_onSubStreamError(r,A){if(this.evaluatorOptions.ignoreErrors){(0,n.warn)(`getContentStream - ignoring sub-stream (${A}): "${r}".`);return}throw r}getContentStream(){return this.pdfManager.ensure(this,"content").then(r=>r instanceof o.BaseStream?r:Array.isArray(r)?new P.StreamsSequenceStream(r,this._onSubStreamError.bind(this)):new p.NullStream)}get xfaData(){return(0,n.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(r,A,E,G){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const ae=new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),ce=new e.RefSet,Ie=new e.RefSet;dt(this,v,D0).call(this,E,ce,Ie);const fe=this.pageDict,Te=this.annotations.filter(ge=>!(ge instanceof e.Ref&&ce.has(ge))),be=await x.AnnotationFactory.saveNewAnnotations(ae,A,E,G);for(const{ref:ge}of be.annotations)ge instanceof e.Ref&&!Ie.has(ge)&&Te.push(ge);const ve=fe.get("Annots");fe.set("Annots",Te);const te=[];await(0,H.writeObject)(this.ref,fe,te,this.xref),ve&&fe.set("Annots",ve);const ie=be.dependencies;return ie.push({ref:this.ref,data:te.join("")},...be.annotations),ie}save(r,A,E){const G=new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(ae){const ce=[];for(const Ie of ae)Ie.mustBePrinted(E)&&ce.push(Ie.save(G,A,E).catch(function(fe){return(0,n.warn)(`save - ignoring annotation data during "${A.name}" task: "${fe}".`),null}));return Promise.all(ce).then(function(Ie){return Ie.filter(fe=>!!fe)})})}loadResources(r){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new i.ObjectLoader(this.resources,r,this.xref).load())}getOperatorList({handler:r,sink:A,task:E,intent:G,cacheKey:ae,annotationStorage:ce=null}){const Ie=this.getContentStream(),fe=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),Te=new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),be=this.xfaFactory?null:(0,U.getNewAnnotationsMap)(ce);let ve=null,te=Promise.resolve(null);if(be){const he=be.get(this.pageIndex);if(he){const ue=this.pdfManager.ensureDoc("annotationGlobals");let we;const Ce=new Set;for(const{bitmapId:ke,bitmap:Fe}of he)ke&&!Fe&&!Ce.has(ke)&&Ce.add(ke);const{isOffscreenCanvasSupported:le}=this.evaluatorOptions;if(Ce.size>0){const ke=he.slice();for(const[Fe,de]of ce)Fe.startsWith(n.AnnotationEditorPrefix)&&de.bitmap&&Ce.has(de.bitmapId)&&ke.push(de);we=x.AnnotationFactory.generateImages(ke,this.xref,le)}else we=x.AnnotationFactory.generateImages(he,this.xref,le);ve=new e.RefSet,dt(this,v,D0).call(this,he,ve,null),te=ue.then(ke=>ke?x.AnnotationFactory.printNewAnnotations(ke,Te,E,he,we):null)}}const ge=Promise.all([Ie,fe]).then(([he])=>{const ue=new T.OperatorList(G,A);return r.send("StartRenderPage",{transparency:Te.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:ae}),Te.getOperatorList({stream:he,task:E,resources:this.resources,operatorList:ue}).then(function(){return ue})});return Promise.all([ge,this._parsedAnnotations,te]).then(function([he,ue,we]){if(we){ue=ue.filter(Ee=>!(Ee.ref&&ve.has(Ee.ref)));for(let Ee=0,Oe=we.length;Ee<Oe;Ee++){const Ne=we[Ee];if(Ne.refToReplace){const et=ue.findIndex(rt=>rt.ref&&(0,e.isRefsEqual)(rt.ref,Ne.refToReplace));et>=0&&(ue.splice(et,1,Ne),we.splice(Ee--,1),Oe--)}}ue=ue.concat(we)}if(ue.length===0||G&n.RenderingIntentFlag.ANNOTATIONS_DISABLE)return he.flush(!0),{length:he.totalLength};const Ce=!!(G&n.RenderingIntentFlag.ANNOTATIONS_FORMS),le=!!(G&n.RenderingIntentFlag.ANY),ke=!!(G&n.RenderingIntentFlag.DISPLAY),Fe=!!(G&n.RenderingIntentFlag.PRINT),de=[];for(const Ee of ue)(le||ke&&Ee.mustBeViewed(ce,Ce)||Fe&&Ee.mustBePrinted(ce))&&de.push(Ee.getOperatorList(Te,E,G,Ce,ce).catch(function(Oe){return(0,n.warn)(`getOperatorList - ignoring annotation data during "${E.name}" task: "${Oe}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(de).then(function(Ee){let Oe=!1,Ne=!1;for(const{opList:et,separateForm:rt,separateCanvas:Ge}of Ee)he.addOpList(et),Oe||(Oe=rt),Ne||(Ne=Ge);return he.flush(!0,{form:Oe,canvas:Ne}),{length:he.totalLength}})})}extractTextContent({handler:r,task:A,includeMarkedContent:E,disableNormalization:G,sink:ae}){const ce=this.getContentStream(),Ie=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([ce,Ie]).then(([Te])=>new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:Te,task:A,resources:this.resources,includeMarkedContent:E,disableNormalization:G,sink:ae,viewBox:this.view}))}async getStructTree(){const r=await this.pdfManager.ensureCatalog("structTreeRoot");return r?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[r])).serializable):null}_parseStructTree(r){const A=new C.StructTreePage(r,this.pageDict);return A.parse(this.ref),A}async getAnnotationsData(r,A,E){const G=await this._parsedAnnotations;if(G.length===0)return G;const ae=[],ce=[];let Ie;const fe=!!(E&n.RenderingIntentFlag.ANY),Te=!!(E&n.RenderingIntentFlag.DISPLAY),be=!!(E&n.RenderingIntentFlag.PRINT);for(const ve of G){const te=fe||Te&&ve.viewable;(te||be&&ve.printable)&&ae.push(ve.data),ve.hasTextContent&&te&&(Ie||(Ie=new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),ce.push(ve.extractTextContent(Ie,A,[-1/0,-1/0,1/0,1/0]).catch(function(ie){(0,n.warn)(`getAnnotationsData - ignoring textContent during "${A.name}" task: "${ie}".`)})))}return await Promise.all(ce),ae}get annotations(){const r=this._getInheritableProperty("Annots");return(0,n.shadow)(this,"annotations",Array.isArray(r)?r:[])}get _parsedAnnotations(){const r=this.pdfManager.ensure(this,"annotations").then(async A=>{if(A.length===0)return A;const E=await this.pdfManager.ensureDoc("annotationGlobals");if(!E)return[];const G=[];for(const Ie of A)G.push(x.AnnotationFactory.create(this.xref,Ie,E,this._localIdFactory,!1,this.ref).catch(function(fe){return(0,n.warn)(`_parsedAnnotations: "${fe}".`),null}));const ae=[];let ce;for(const Ie of await Promise.all(G))if(Ie){if(Ie instanceof x.PopupAnnotation){(ce||(ce=[])).push(Ie);continue}ae.push(Ie)}return ce&&ae.push(...ce),ae});return(0,n.shadow)(this,"_parsedAnnotations",r)}get jsActions(){const r=(0,U.collectActions)(this.xref,this.pageDict,n.PageActionEventType);return(0,n.shadow)(this,"jsActions",r)}}v=new WeakSet,D0=function(r,A,E){for(const G of r)if(G.id){const ae=e.Ref.fromString(G.id);if(!ae){(0,n.warn)(`A non-linked annotation cannot be modified: ${G.id}`);continue}if(G.deleted){A.put(ae);continue}E==null||E.put(ae),G.ref=ae,delete G.id}},h.Page=d;const w=new Uint8Array([37,80,68,70,45]),q=new Uint8Array([115,116,97,114,116,120,114,101,102]),l=new Uint8Array([101,110,100,111,98,106]),b=1024,D="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function Z(y,r,A=1024,E=!1){const G=r.length,ae=y.peekBytes(A),ce=ae.length-G;if(ce<=0)return!1;if(E){const Ie=G-1;let fe=ae.length-1;for(;fe>=Ie;){let Te=0;for(;Te<G&&ae[fe-Te]===r[Ie-Te];)Te++;if(Te>=G)return y.pos+=fe-Ie,!0;fe--}}else{let Ie=0;for(;Ie<=ce;){let fe=0;for(;fe<G&&ae[Ie+fe]===r[fe];)fe++;if(fe>=G)return y.pos+=Ie,!0;Ie++}}return!1}class N{constructor(r,A){ct(this,I);if(A.length<=0)throw new n.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=r,this.stream=A,this.xref=new se.XRef(A,r),this._pagePromises=new Map,this._version=null;const E={font:0};this._globalIdFactory=class{static getDocId(){return`g_${r.docId}`}static createFontId(){return`f${++E.font}`}static createObjId(){(0,n.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,n.unreachable)("Abstract method `getPageObjId` called.")}}}parse(r){this.xref.parse(r),this.catalog=new X.Catalog(this.pdfManager,this.xref)}get linearization(){let r=null;try{r=f.Linearization.create(this.stream)}catch(A){if(A instanceof U.MissingDataException)throw A;(0,n.info)(A)}return(0,n.shadow)(this,"linearization",r)}get startXRef(){const r=this.stream;let A=0;if(this.linearization)r.reset(),Z(r,l)&&(A=r.pos+6-r.start);else{const G=q.length;let ae=!1,ce=r.end;for(;!ae&&ce>0;)ce-=1024-G,ce<0&&(ce=0),r.pos=ce,ae=Z(r,q,1024,!0);if(ae){r.skip(9);let Ie;do Ie=r.getByte();while((0,U.isWhiteSpace)(Ie));let fe="";for(;Ie>=32&&Ie<=57;)fe+=String.fromCharCode(Ie),Ie=r.getByte();A=parseInt(fe,10),isNaN(A)&&(A=0)}}return(0,n.shadow)(this,"startXRef",A)}checkHeader(){const r=this.stream;if(r.reset(),!Z(r,w))return;r.moveStart(),r.skip(w.length);let A="",E;for(;(E=r.getByte())>32&&A.length<7;)A+=String.fromCharCode(E);U.PDF_VERSION_REGEXP.test(A)?this._version=A:(0,n.warn)(`Invalid PDF header version: ${A}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let r=0;return this.catalog.hasActualNumPages?r=this.catalog.numPages:this.xfaFactory?r=this.xfaFactory.getNumPages():this.linearization?r=this.linearization.numPages:r=this.catalog.numPages,(0,n.shadow)(this,"numPages",r)}_hasOnlyDocumentSignatures(r,A=0){return Array.isArray(r)?r.every(G=>{if(G=this.xref.fetchIfRef(G),!(G instanceof e.Dict))return!1;if(G.has("Kids"))return++A>10?((0,n.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(G.get("Kids"),A);const ae=(0,e.isName)(G.get("FT"),"Sig"),ce=G.get("Rect"),Ie=Array.isArray(ce)&&ce.every(fe=>fe===0);return ae&&Ie}):!1}get _xfaStreams(){const r=this.catalog.acroForm;if(!r)return null;const A=r.get("XFA"),E={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(A instanceof o.BaseStream&&!A.isEmpty)return E["xdp:xdp"]=A,E;if(!Array.isArray(A)||A.length===0)return null;for(let G=0,ae=A.length;G<ae;G+=2){let ce;if(G===0?ce="xdp:xdp":G===ae-2?ce="/xdp:xdp":ce=A[G],!E.hasOwnProperty(ce))continue;const Ie=this.xref.fetchIfRef(A[G+1]);!(Ie instanceof o.BaseStream)||Ie.isEmpty||(E[ce]=Ie)}return E}get xfaDatasets(){const r=this._xfaStreams;if(!r)return(0,n.shadow)(this,"xfaDatasets",null);for(const A of["datasets","xdp:xdp"]){const E=r[A];if(E)try{const G=(0,n.stringToUTF8String)(E.getString()),ae={[A]:G};return(0,n.shadow)(this,"xfaDatasets",new O.DatasetReader(ae))}catch{(0,n.warn)("XFA - Invalid utf-8 string.");break}}return(0,n.shadow)(this,"xfaDatasets",null)}get xfaData(){const r=this._xfaStreams;if(!r)return null;const A=Object.create(null);for(const[E,G]of Object.entries(r))if(G)try{A[E]=(0,n.stringToUTF8String)(G.getString())}catch{return(0,n.warn)("XFA - Invalid utf-8 string."),null}return A}get xfaFactory(){let r;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(r=this.xfaData),(0,n.shadow)(this,"xfaFactory",r?new $.XFAFactory(r):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const r=await this.pdfManager.ensureCatalog("xfaImages");if(!r)return;const A=r.getKeys();await new i.ObjectLoader(r,A,this.xref).load();const G=new Map;for(const ae of A){const ce=r.get(ae);ce instanceof o.BaseStream&&G.set(ae,ce.getBytes())}this.xfaFactory.setImages(G)}async loadXfaFonts(r,A){const E=await this.pdfManager.ensureCatalog("acroForm");if(!E)return;const G=await E.getAsync("DR");if(!(G instanceof e.Dict))return;await new i.ObjectLoader(G,["Font"],this.xref).load();const ce=G.get("Font");if(!(ce instanceof e.Dict))return;const Ie=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);Ie.useSystemFonts=!1;const fe=new F.PartialEvaluator({xref:this.xref,handler:r,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:Ie}),Te=new T.OperatorList,be=[],ve={get font(){return be.at(-1)},set font(ue){be.push(ue)},clone(){return this}},te=new Map;ce.forEach((ue,we)=>{te.set(ue,we)});const ie=[];for(const[ue,we]of te){const Ce=we.get("FontDescriptor");if(!(Ce instanceof e.Dict))continue;let le=Ce.get("FontFamily");le=le.replaceAll(/[ ]+(\d)/g,"$1");const ke=Ce.get("FontWeight"),Fe=-Ce.get("ItalicAngle"),de={fontFamily:le,fontWeight:ke,italicAngle:Fe};(0,U.validateCSSFont)(de)&&ie.push(fe.handleSetFont(G,[e.Name.get(ue),1],null,Te,A,ve,null,de).catch(function(Ee){return(0,n.warn)(`loadXfaFonts: "${Ee}".`),null}))}await Promise.all(ie);const ge=this.xfaFactory.setFonts(be);if(!ge)return;Ie.ignoreErrors=!0,ie.length=0,be.length=0;const he=new Set;for(const ue of ge)(0,t.getXfaFontName)(`${ue}-Regular`)||he.add(ue);he.size&&ge.push("PdfJS-Fallback");for(const ue of ge)if(!he.has(ue))for(const we of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Ce=`${ue}-${we.name}`,le=(0,t.getXfaFontDict)(Ce);ie.push(fe.handleSetFont(G,[e.Name.get(Ce),1],null,Te,A,ve,le,{fontFamily:ue,fontWeight:we.fontWeight,italicAngle:we.italicAngle}).catch(function(ke){return(0,n.warn)(`loadXfaFonts: "${ke}".`),null}))}await Promise.all(ie),this.xfaFactory.appendFonts(be,he)}async serializeXfaData(r){return this.xfaFactory?this.xfaFactory.serializeData(r):null}get version(){return this.catalog.version||this._version}get formInfo(){const r={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},A=this.catalog.acroForm;if(!A)return(0,n.shadow)(this,"formInfo",r);try{const E=A.get("Fields"),G=Array.isArray(E)&&E.length>0;r.hasFields=G;const ae=A.get("XFA");r.hasXfa=Array.isArray(ae)&&ae.length>0||ae instanceof o.BaseStream&&!ae.isEmpty;const Ie=!!(A.get("SigFlags")&1),fe=Ie&&this._hasOnlyDocumentSignatures(E);r.hasAcroForm=G&&!fe,r.hasSignatures=Ie}catch(E){if(E instanceof U.MissingDataException)throw E;(0,n.warn)(`Cannot fetch form information: "${E}".`)}return(0,n.shadow)(this,"formInfo",r)}get documentInfo(){const r={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let A;try{A=this.xref.trailer.get("Info")}catch(E){if(E instanceof U.MissingDataException)throw E;(0,n.info)("The document information dictionary is invalid.")}if(!(A instanceof e.Dict))return(0,n.shadow)(this,"documentInfo",r);for(const E of A.getKeys()){const G=A.get(E);switch(E){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof G=="string"){r[E]=(0,n.stringToPDFString)(G);continue}break;case"Trapped":if(G instanceof e.Name){r[E]=G;continue}break;default:let ae;switch(typeof G){case"string":ae=(0,n.stringToPDFString)(G);break;case"number":case"boolean":ae=G;break;default:G instanceof e.Name&&(ae=G);break}if(ae===void 0){(0,n.warn)(`Bad value, for custom key "${E}", in Info: ${G}.`);continue}r.Custom||(r.Custom=Object.create(null)),r.Custom[E]=ae;continue}(0,n.warn)(`Bad value, for key "${E}", in Info: ${G}.`)}return(0,n.shadow)(this,"documentInfo",r)}get fingerprints(){function r(ce){return typeof ce=="string"&&ce.length>0&&ce!==D}function A(ce){const Ie=[];for(const fe of ce){const Te=fe.toString(16);Ie.push(Te.padStart(2,"0"))}return Ie.join("")}const E=this.xref.trailer.get("ID");let G,ae;return Array.isArray(E)&&r(E[0])?(G=(0,n.stringToBytes)(E[0]),E[1]!==E[0]&&r(E[1])&&(ae=(0,n.stringToBytes)(E[1]))):G=(0,K.calculateMD5)(this.stream.getByteRange(0,b),0,b),(0,n.shadow)(this,"fingerprints",[A(G),ae?A(ae):null])}async _getLinearizationPage(r){const{catalog:A,linearization:E,xref:G}=this,ae=e.Ref.get(E.objectNumberFirst,0);try{const ce=await G.fetchAsync(ae);if(ce instanceof e.Dict){let Ie=ce.getRaw("Type");if(Ie instanceof e.Ref&&(Ie=await G.fetchAsync(Ie)),(0,e.isName)(Ie,"Page")||!ce.has("Type")&&!ce.has("Kids"))return A.pageKidsCountCache.has(ae)||A.pageKidsCountCache.put(ae,1),A.pageIndexCache.has(ae)||A.pageIndexCache.put(ae,0),[ce,ae]}throw new n.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(ce){return(0,n.warn)(`_getLinearizationPage: "${ce.message}".`),A.getPageDict(r)}}getPage(r){const A=this._pagePromises.get(r);if(A)return A;const{catalog:E,linearization:G,xfaFactory:ae}=this;let ce;return ae?ce=Promise.resolve([e.Dict.empty,null]):(G==null?void 0:G.pageFirst)===r?ce=this._getLinearizationPage(r):ce=E.getPageDict(r),ce=ce.then(([Ie,fe])=>new d({pdfManager:this.pdfManager,xref:this.xref,pageIndex:r,pageDict:Ie,ref:fe,globalIdFactory:this._globalIdFactory,fontCache:E.fontCache,builtInCMapCache:E.builtInCMapCache,standardFontDataCache:E.standardFontDataCache,globalImageCache:E.globalImageCache,systemFontCache:E.systemFontCache,nonBlendModesSet:E.nonBlendModesSet,xfaFactory:ae})),this._pagePromises.set(r,ce),ce}async checkFirstPage(r=!1){if(!r)try{await this.getPage(0)}catch(A){if(A instanceof U.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new U.XRefParseException}}async checkLastPage(r=!1){const{catalog:A,pdfManager:E}=this;A.setActualNumPages();let G;try{if(await Promise.all([E.ensureDoc("xfaFactory"),E.ensureDoc("linearization"),E.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?G=this.linearization.numPages:G=A.numPages,Number.isInteger(G)){if(G<=1)return}else throw new n.FormatError("Page count is not an integer.");await this.getPage(G-1)}catch(ae){if(this._pagePromises.delete(G-1),await this.cleanup(),ae instanceof U.XRefEntryException&&!r)throw new U.XRefParseException;(0,n.warn)(`checkLastPage - invalid /Pages tree /Count: ${G}.`);let ce;try{ce=await A.getAllPageDicts(r)}catch(Ie){if(Ie instanceof U.XRefEntryException&&!r)throw new U.XRefParseException;A.setActualNumPages(1);return}for(const[Ie,[fe,Te]]of ce){let be;fe instanceof Error?(be=Promise.reject(fe),be.catch(()=>{})):be=Promise.resolve(new d({pdfManager:E,xref:this.xref,pageIndex:Ie,pageDict:fe,ref:Te,globalIdFactory:this._globalIdFactory,fontCache:A.fontCache,builtInCMapCache:A.builtInCMapCache,standardFontDataCache:A.standardFontDataCache,globalImageCache:A.globalImageCache,systemFontCache:A.systemFontCache,nonBlendModesSet:A.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(Ie,be)}A.setActualNumPages(ce.size)}}fontFallback(r,A){return this.catalog.fontFallback(r,A)}async cleanup(r=!1){return this.catalog?this.catalog.cleanup(r):(0,L.clearGlobalCaches)()}get fieldObjects(){if(!this.formInfo.hasFields)return(0,n.shadow)(this,"fieldObjects",Promise.resolve(null));const r=this.pdfManager.ensureDoc("annotationGlobals").then(async A=>{if(!A)return null;const E=Object.create(null),G=new Map;for(const ce of this.catalog.acroForm.get("Fields"))dt(this,I,L0).call(this,"",ce,G,A);const ae=[];for(const[ce,Ie]of G)ae.push(Promise.all(Ie).then(fe=>{fe=fe.filter(Te=>!!Te),fe.length>0&&(E[ce]=fe)}));return await Promise.all(ae),E});return(0,n.shadow)(this,"fieldObjects",r)}get hasJSActions(){const r=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,n.shadow)(this,"hasJSActions",r)}async _parseHasJSActions(){const[r,A]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return r?!0:A?Object.values(A).some(E=>E.some(G=>G.actions!==null)):!1}get calculationOrderIds(){const r=this.catalog.acroForm;if(!(r!=null&&r.has("CO")))return(0,n.shadow)(this,"calculationOrderIds",null);const A=r.get("CO");if(!Array.isArray(A)||A.length===0)return(0,n.shadow)(this,"calculationOrderIds",null);const E=[];for(const G of A)G instanceof e.Ref&&E.push(G.toString());return E.length===0?(0,n.shadow)(this,"calculationOrderIds",null):(0,n.shadow)(this,"calculationOrderIds",E)}get annotationGlobals(){return(0,n.shadow)(this,"annotationGlobals",x.AnnotationFactory.createGlobals(this.pdfManager))}}I=new WeakSet,L0=function(r,A,E,G){const ae=this.xref.fetchIfRef(A);if(ae.has("T")){const ce=(0,n.stringToPDFString)(ae.get("T"));r=r===""?ce:`${r}.${ce}`}if(E.has(r)||E.set(r,[]),E.get(r).push(x.AnnotationFactory.create(this.xref,A,G,this._localIdFactory,!0,null).then(ce=>ce==null?void 0:ce.getFieldObject()).catch(function(ce){return(0,n.warn)(`#collectFieldObjects: "${ce}".`),null})),ae.has("Kids"))for(const ce of ae.get("Kids"))dt(this,I,L0).call(this,r,ce,E,G)},h.PDFDocument=N},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PopupAnnotation=h.MarkupAnnotation=h.AnnotationFactory=h.AnnotationBorderStyle=h.Annotation=void 0,h.getQuadPoints=$;var n=re(2),x=re(3),U=re(11),e=re(4),t=re(8),o=re(5),K=re(60),X=re(66),L=re(12),O=re(69),f=re(26),p=re(76),i=re(64),T=re(73),F=re(77);class P{static createGlobals(te){return Promise.all([te.ensureCatalog("acroForm"),te.ensureDoc("xfaDatasets"),te.ensureCatalog("structTreeRoot"),te.ensureCatalog("baseUrl"),te.ensureCatalog("attachments")]).then(([ie,ge,he,ue,we])=>({pdfManager:te,acroForm:ie instanceof e.Dict?ie:e.Dict.empty,xfaDatasets:ge,structTreeRoot:he,baseUrl:ue,attachments:we}),ie=>((0,n.warn)(`createGlobals: "${ie}".`),null))}static async create(te,ie,ge,he,ue,we){const Ce=ue?await this._getPageIndex(te,ie,ge.pdfManager):null;return ge.pdfManager.ensure(this,"_create",[te,ie,ge,he,ue,Ce,we])}static _create(te,ie,ge,he,ue=!1,we=null,Ce=null){const le=te.fetchIfRef(ie);if(!(le instanceof e.Dict))return;const{acroForm:ke,pdfManager:Fe}=ge,de=ie instanceof e.Ref?ie.toString():`annot_${he.createObjId()}`;let Ee=le.get("Subtype");Ee=Ee instanceof e.Name?Ee.name:null;const Oe={xref:te,ref:ie,dict:le,subtype:Ee,id:de,annotationGlobals:ge,collectFields:ue,needAppearances:!ue&&ke.get("NeedAppearances")===!0,pageIndex:we,evaluatorOptions:Fe.evaluatorOptions,pageRef:Ce};switch(Ee){case"Link":return new N(Oe);case"Text":return new Z(Oe);case"Widget":let Ne=(0,x.getInheritableProperty)({dict:le,key:"FT"});switch(Ne=Ne instanceof e.Name?Ne.name:null,Ne){case"Tx":return new q(Oe);case"Btn":return new l(Oe);case"Ch":return new b(Oe);case"Sig":return new D(Oe)}return(0,n.warn)(`Unimplemented widget field type "${Ne}", falling back to base field type.`),new w(Oe);case"Popup":return new v(Oe);case"FreeText":return new S(Oe);case"Line":return new I(Oe);case"Square":return new u(Oe);case"Circle":return new y(Oe);case"PolyLine":return new r(Oe);case"Polygon":return new A(Oe);case"Caret":return new E(Oe);case"Ink":return new G(Oe);case"Highlight":return new ae(Oe);case"Underline":return new ce(Oe);case"Squiggly":return new Ie(Oe);case"StrikeOut":return new fe(Oe);case"Stamp":return new Te(Oe);case"FileAttachment":return new be(Oe);default:return ue||(Ee?(0,n.warn)(`Unimplemented annotation type "${Ee}", falling back to base annotation.`):(0,n.warn)("Annotation is missing the required /Subtype.")),new _(Oe)}}static async _getPageIndex(te,ie,ge){try{const he=await te.fetchIfRefAsync(ie);if(!(he instanceof e.Dict))return-1;const ue=he.getRaw("P");if(ue instanceof e.Ref)try{return await ge.ensureCatalog("getPageIndex",[ue])}catch(Ce){(0,n.info)(`_getPageIndex -- not a valid page reference: "${Ce}".`)}if(he.has("Kids"))return-1;const we=await ge.ensureDoc("numPages");for(let Ce=0;Ce<we;Ce++){const le=await ge.getPage(Ce),ke=await ge.ensure(le,"annotations");for(const Fe of ke)if(Fe instanceof e.Ref&&(0,e.isRefsEqual)(Fe,ie))return Ce}}catch(he){(0,n.warn)(`_getPageIndex: "${he}".`)}return-1}static generateImages(te,ie,ge){if(!ge)return(0,n.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let he;for(const{bitmapId:ue,bitmap:we}of te)we&&(he||(he=new Map),he.set(ue,Te.createImage(we,ie)));return he}static async saveNewAnnotations(te,ie,ge,he){const ue=te.xref;let we;const Ce=[],le=[],{isOffscreenCanvasSupported:ke}=te.options;for(const Fe of ge)if(!Fe.deleted)switch(Fe.annotationType){case n.AnnotationEditorType.FREETEXT:if(!we){const Ee=new e.Dict(ue);Ee.set("BaseFont",e.Name.get("Helvetica")),Ee.set("Type",e.Name.get("Font")),Ee.set("Subtype",e.Name.get("Type1")),Ee.set("Encoding",e.Name.get("WinAnsiEncoding"));const Oe=[];we=ue.getNewTemporaryRef(),await(0,T.writeObject)(we,Ee,Oe,ue),Ce.push({ref:we,data:Oe.join("")})}le.push(S.createNewAnnotation(ue,Fe,Ce,{evaluator:te,task:ie,baseFontRef:we}));break;case n.AnnotationEditorType.INK:le.push(G.createNewAnnotation(ue,Fe,Ce));break;case n.AnnotationEditorType.STAMP:if(!ke)break;const de=await he.get(Fe.bitmapId);if(de.imageStream){const{imageStream:Ee,smaskStream:Oe}=de,Ne=[];if(Oe){const rt=ue.getNewTemporaryRef();await(0,T.writeObject)(rt,Oe,Ne,ue),Ce.push({ref:rt,data:Ne.join("")}),Ee.dict.set("SMask",rt),Ne.length=0}const et=de.imageRef=ue.getNewTemporaryRef();await(0,T.writeObject)(et,Ee,Ne,ue),Ce.push({ref:et,data:Ne.join("")}),de.imageStream=de.smaskStream=null}le.push(Te.createNewAnnotation(ue,Fe,Ce,{image:de}));break}return{annotations:await Promise.all(le),dependencies:Ce}}static async printNewAnnotations(te,ie,ge,he,ue){if(!he)return null;const{options:we,xref:Ce}=ie,le=[];for(const ke of he)if(!ke.deleted)switch(ke.annotationType){case n.AnnotationEditorType.FREETEXT:le.push(S.createNewPrintAnnotation(te,Ce,ke,{evaluator:ie,task:ge,evaluatorOptions:we}));break;case n.AnnotationEditorType.INK:le.push(G.createNewPrintAnnotation(te,Ce,ke,{evaluatorOptions:we}));break;case n.AnnotationEditorType.STAMP:if(!we.isOffscreenCanvasSupported)break;const Fe=await ue.get(ke.bitmapId);if(Fe.imageStream){const{imageStream:de,smaskStream:Ee}=Fe;Ee&&de.dict.set("SMask",Ee),Fe.imageRef=new f.JpegStream(de,de.length),Fe.imageStream=Fe.smaskStream=null}le.push(Te.createNewPrintAnnotation(te,Ce,ke,{image:Fe,evaluatorOptions:we}));break}return Promise.all(le)}}h.AnnotationFactory=P;function C(ve,te=new Uint8ClampedArray(3)){if(!Array.isArray(ve))return te;const ie=te||new Uint8ClampedArray(3);switch(ve.length){case 0:return null;case 1:return L.ColorSpace.singletons.gray.getRgbItem(ve,0,ie,0),ie;case 3:return L.ColorSpace.singletons.rgb.getRgbItem(ve,0,ie,0),ie;case 4:return L.ColorSpace.singletons.cmyk.getRgbItem(ve,0,ie,0),ie;default:return te}}function H(ve){return Array.from(ve,te=>te/255)}function $(ve,te){const ie=ve.getArray("QuadPoints");if(!Array.isArray(ie)||ie.length===0||ie.length%8>0)return null;const ge=[];for(let he=0,ue=ie.length/8;he<ue;he++){let we=1/0,Ce=-1/0,le=1/0,ke=-1/0;for(let Fe=he*8,de=he*8+8;Fe<de;Fe+=2){const Ee=ie[Fe],Oe=ie[Fe+1];we=Math.min(Ee,we),Ce=Math.max(Ee,Ce),le=Math.min(Oe,le),ke=Math.max(Oe,ke)}if(te!==null&&(we<te[0]||Ce>te[2]||le<te[1]||ke>te[3]))return null;ge.push([{x:we,y:ke},{x:Ce,y:ke},{x:we,y:le},{x:Ce,y:le}])}return ge}function se(ve,te,ie){const[ge,he,ue,we]=n.Util.getAxialAlignedBoundingBox(te,ie);if(ge===ue||he===we)return[1,0,0,1,ve[0],ve[1]];const Ce=(ve[2]-ve[0])/(ue-ge),le=(ve[3]-ve[1])/(we-he);return[Ce,0,0,le,ve[0]-ge*Ce,ve[1]-he*le]}class _{constructor(te){const{dict:ie,xref:ge,annotationGlobals:he}=te;this.setTitle(ie.get("T")),this.setContents(ie.get("Contents")),this.setModificationDate(ie.get("M")),this.setFlags(ie.get("F")),this.setRectangle(ie.getArray("Rect")),this.setColor(ie.getArray("C")),this.setBorderStyle(ie),this.setAppearance(ie),this.setOptionalContent(ie);const ue=ie.get("MK");this.setBorderAndBackgroundColors(ue),this.setRotation(ue,ie),this.ref=te.ref instanceof e.Ref?te.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const we=!!(this.flags&n.AnnotationFlag.LOCKED),Ce=!!(this.flags&n.AnnotationFlag.LOCKEDCONTENTS);if(he.structTreeRoot){let le=ie.get("StructParent");le=Number.isInteger(le)&&le>=0?le:-1,he.structTreeRoot.addAnnotationIdToPage(te.pageRef,le)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:te.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:te.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&n.AnnotationFlag.NOROTATE),noHTML:we&&Ce},te.collectFields){const le=ie.get("Kids");if(Array.isArray(le)){const ke=[];for(const Fe of le)Fe instanceof e.Ref&&ke.push(Fe.toString());ke.length!==0&&(this.data.kidIds=ke)}this.data.actions=(0,x.collectActions)(ge,ie,n.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(ie),this.data.pageIndex=te.pageIndex}this._isOffscreenCanvasSupported=te.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(te,ie){return!!(te&ie)}_isViewable(te){return!this._hasFlag(te,n.AnnotationFlag.INVISIBLE)&&!this._hasFlag(te,n.AnnotationFlag.NOVIEW)}_isPrintable(te){return this._hasFlag(te,n.AnnotationFlag.PRINT)&&!this._hasFlag(te,n.AnnotationFlag.HIDDEN)&&!this._hasFlag(te,n.AnnotationFlag.INVISIBLE)}mustBeViewed(te,ie){var he;const ge=(he=te==null?void 0:te.get(this.data.id))==null?void 0:he.noView;return ge!==void 0?!ge:this.viewable&&!this._hasFlag(this.flags,n.AnnotationFlag.HIDDEN)}mustBePrinted(te){var ge;const ie=(ge=te==null?void 0:te.get(this.data.id))==null?void 0:ge.noPrint;return ie!==void 0?!ie:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(te){const ie=typeof te=="string"?(0,n.stringToPDFString)(te):"",ge=ie&&(0,K.bidi)(ie).dir==="rtl"?"rtl":"ltr";return{str:ie,dir:ge}}setDefaultAppearance(te){const{dict:ie,annotationGlobals:ge}=te,he=(0,x.getInheritableProperty)({dict:ie,key:"DA"})||ge.acroForm.get("DA");this._defaultAppearance=typeof he=="string"?he:"",this.data.defaultAppearanceData=(0,U.parseDefaultAppearance)(this._defaultAppearance)}setTitle(te){this._title=this._parseStringHelper(te)}setContents(te){this._contents=this._parseStringHelper(te)}setModificationDate(te){this.modificationDate=typeof te=="string"?te:null}setFlags(te){this.flags=Number.isInteger(te)&&te>0?te:0}hasFlag(te){return this._hasFlag(this.flags,te)}setRectangle(te){this.rectangle=Array.isArray(te)&&te.length===4?n.Util.normalizeRect(te):[0,0,0,0]}setColor(te){this.color=C(te)}setLineEndings(te){if(this.lineEndings=["None","None"],Array.isArray(te)&&te.length===2)for(let ie=0;ie<2;ie++){const ge=te[ie];if(ge instanceof e.Name)switch(ge.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[ie]=ge.name;continue}(0,n.warn)(`Ignoring invalid lineEnding: ${ge}`)}}setRotation(te,ie){this.rotation=0;let ge=te instanceof e.Dict?te.get("R")||0:ie.get("Rotate")||0;Number.isInteger(ge)&&ge!==0&&(ge%=360,ge<0&&(ge+=360),ge%90===0&&(this.rotation=ge))}setBorderAndBackgroundColors(te){te instanceof e.Dict?(this.borderColor=C(te.getArray("BC"),null),this.backgroundColor=C(te.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(te){if(this.borderStyle=new Q,te instanceof e.Dict)if(te.has("BS")){const ie=te.get("BS"),ge=ie.get("Type");(!ge||(0,e.isName)(ge,"Border"))&&(this.borderStyle.setWidth(ie.get("W"),this.rectangle),this.borderStyle.setStyle(ie.get("S")),this.borderStyle.setDashArray(ie.getArray("D")))}else if(te.has("Border")){const ie=te.getArray("Border");Array.isArray(ie)&&ie.length>=3&&(this.borderStyle.setHorizontalCornerRadius(ie[0]),this.borderStyle.setVerticalCornerRadius(ie[1]),this.borderStyle.setWidth(ie[2],this.rectangle),ie.length===4&&this.borderStyle.setDashArray(ie[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(te){this.appearance=null;const ie=te.get("AP");if(!(ie instanceof e.Dict))return;const ge=ie.get("N");if(ge instanceof o.BaseStream){this.appearance=ge;return}if(!(ge instanceof e.Dict))return;const he=te.get("AS");if(!(he instanceof e.Name)||!ge.has(he.name))return;const ue=ge.get(he.name);ue instanceof o.BaseStream&&(this.appearance=ue)}setOptionalContent(te){this.oc=null;const ie=te.get("OC");ie instanceof e.Name?(0,n.warn)("setOptionalContent: Support for /Name-entry is not implemented."):ie instanceof e.Dict&&(this.oc=ie)}loadResources(te,ie){return ie.dict.getAsync("Resources").then(ge=>ge?new p.ObjectLoader(ge,te,ge.xref).load().then(function(){return ge}):void 0)}async getOperatorList(te,ie,ge,he,ue){const we=this.data;let Ce=this.appearance;const le=!!(this.data.hasOwnCanvas&&ge&n.RenderingIntentFlag.DISPLAY);if(!Ce){if(!le)return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1};Ce=new t.StringStream(""),Ce.dict=new e.Dict}const ke=Ce.dict,Fe=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],Ce),de=ke.getArray("BBox")||[0,0,1,1],Ee=ke.getArray("Matrix")||[1,0,0,1,0,0],Oe=se(we.rect,de,Ee),Ne=new i.OperatorList;let et;return this.oc&&(et=await te.parseMarkedContentProps(this.oc,null)),et!==void 0&&Ne.addOp(n.OPS.beginMarkedContentProps,["OC",et]),Ne.addOp(n.OPS.beginAnnotation,[we.id,we.rect,Oe,Ee,le]),await te.getOperatorList({stream:Ce,task:ie,resources:Fe,operatorList:Ne,fallbackFontDict:this._fallbackFontDict}),Ne.addOp(n.OPS.endAnnotation,[]),et!==void 0&&Ne.addOp(n.OPS.endMarkedContent,[]),this.reset(),{opList:Ne,separateForm:!1,separateCanvas:le}}async save(te,ie,ge){return null}get hasTextContent(){return!1}async extractTextContent(te,ie,ge){if(!this.appearance)return;const he=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),ue=[],we=[];let Ce=null;const le={desiredSize:Math.Infinity,ready:!0,enqueue(ke,Fe){for(const de of ke.items)de.str!==void 0&&(Ce||(Ce=de.transform.slice(-2)),we.push(de.str),de.hasEOL&&(ue.push(we.join("")),we.length=0))}};if(await te.getTextContent({stream:this.appearance,task:ie,resources:he,includeMarkedContent:!0,sink:le,viewBox:ge}),this.reset(),we.length&&ue.push(we.join("")),ue.length>1||ue[0]){const ke=this.appearance.dict,Fe=ke.getArray("BBox")||[0,0,1,1],de=ke.getArray("Matrix")||[1,0,0,1,0,0],Ee=this.data.rect,Oe=se(Ee,Fe,de);Oe[4]-=Ee[0],Oe[5]-=Ee[1],Ce=n.Util.applyTransform(Ce,Oe),Ce=n.Util.applyTransform(Ce,de),this.data.textPosition=Ce,this.data.textContent=ue}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const te of this._streams)te.reset()}_constructFieldName(te){if(!te.has("T")&&!te.has("Parent"))return(0,n.warn)("Unknown field name, falling back to empty field name."),"";if(!te.has("Parent"))return(0,n.stringToPDFString)(te.get("T"));const ie=[];te.has("T")&&ie.unshift((0,n.stringToPDFString)(te.get("T")));let ge=te;const he=new e.RefSet;for(te.objId&&he.put(te.objId);ge.has("Parent")&&(ge=ge.get("Parent"),!(!(ge instanceof e.Dict)||ge.objId&&he.has(ge.objId)));)ge.objId&&he.put(ge.objId),ge.has("T")&&ie.unshift((0,n.stringToPDFString)(ge.get("T")));return ie.join(".")}}h.Annotation=_;class Q{constructor(){this.width=1,this.style=n.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(te,ie=[0,0,0,0]){if(te instanceof e.Name){this.width=0;return}if(typeof te=="number"){if(te>0){const ge=(ie[2]-ie[0])/2,he=(ie[3]-ie[1])/2;ge>0&&he>0&&(te>ge||te>he)&&((0,n.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${te}`),te=1)}this.width=te}}setStyle(te){if(te instanceof e.Name)switch(te.name){case"S":this.style=n.AnnotationBorderStyleType.SOLID;break;case"D":this.style=n.AnnotationBorderStyleType.DASHED;break;case"B":this.style=n.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=n.AnnotationBorderStyleType.INSET;break;case"U":this.style=n.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(te,ie=!1){if(Array.isArray(te)&&te.length>0){let ge=!0,he=!0;for(const ue of te)if(+ue>=0)ue>0&&(he=!1);else{ge=!1;break}ge&&!he?(this.dashArray=te,ie&&this.setStyle(e.Name.get("D"))):this.width=0}else te&&(this.width=0)}setHorizontalCornerRadius(te){Number.isInteger(te)&&(this.horizontalCornerRadius=te)}setVerticalCornerRadius(te){Number.isInteger(te)&&(this.verticalCornerRadius=te)}}h.AnnotationBorderStyle=Q;class d extends _{constructor(te){super(te);const{dict:ie}=te;if(ie.has("IRT")){const he=ie.getRaw("IRT");this.data.inReplyTo=he instanceof e.Ref?he.toString():null;const ue=ie.get("RT");this.data.replyType=ue instanceof e.Name?ue.name:n.AnnotationReplyType.REPLY}let ge=null;if(this.data.replyType===n.AnnotationReplyType.GROUP){const he=ie.get("IRT");this.setTitle(he.get("T")),this.data.titleObj=this._title,this.setContents(he.get("Contents")),this.data.contentsObj=this._contents,he.has("CreationDate")?(this.setCreationDate(he.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,he.has("M")?(this.setModificationDate(he.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,ge=he.getRaw("Popup"),he.has("C")?(this.setColor(he.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(ie.get("CreationDate")),this.data.creationDate=this.creationDate,ge=ie.getRaw("Popup"),ie.has("C")||(this.data.color=null);this.data.popupRef=ge instanceof e.Ref?ge.toString():null,ie.has("RC")&&(this.data.richText=F.XFAFactory.getRichTextAsHtml(ie.get("RC")))}setCreationDate(te){this.creationDate=typeof te=="string"?te:null}_setDefaultAppearance({xref:te,extra:ie,strokeColor:ge,fillColor:he,blendMode:ue,strokeAlpha:we,fillAlpha:Ce,pointsCallback:le}){let ke=Number.MAX_VALUE,Fe=Number.MAX_VALUE,de=Number.MIN_VALUE,Ee=Number.MIN_VALUE;const Oe=["q"];ie&&Oe.push(ie),ge&&Oe.push(`${ge[0]} ${ge[1]} ${ge[2]} RG`),he&&Oe.push(`${he[0]} ${he[1]} ${he[2]} rg`);let Ne=this.data.quadPoints;Ne||(Ne=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const At of Ne){const[Qe,Ke,pt,st]=le(Oe,At);ke=Math.min(ke,Qe),de=Math.max(de,Ke),Fe=Math.min(Fe,pt),Ee=Math.max(Ee,st)}Oe.push("Q");const et=new e.Dict(te),rt=new e.Dict(te);rt.set("Subtype",e.Name.get("Form"));const Ge=new t.StringStream(Oe.join(" "));Ge.dict=rt,et.set("Fm0",Ge);const je=new e.Dict(te);ue&&je.set("BM",e.Name.get(ue)),typeof we=="number"&&je.set("CA",we),typeof Ce=="number"&&je.set("ca",Ce);const $e=new e.Dict(te);$e.set("GS0",je);const ze=new e.Dict(te);ze.set("ExtGState",$e),ze.set("XObject",et);const at=new e.Dict(te);at.set("Resources",ze);const mt=this.data.rect=[ke,Fe,de,Ee];at.set("BBox",mt),this.appearance=new t.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=at,this._streams.push(this.appearance,Ge)}static async createNewAnnotation(te,ie,ge,he){const ue=ie.ref||(ie.ref=te.getNewTemporaryRef()),we=await this.createNewAppearanceStream(ie,te,he),Ce=[];let le;if(we){const ke=te.getNewTemporaryRef();le=this.createNewDict(ie,te,{apRef:ke}),await(0,T.writeObject)(ke,we,Ce,te),ge.push({ref:ke,data:Ce.join("")})}else le=this.createNewDict(ie,te,{});return Number.isInteger(ie.parentTreeId)&&le.set("StructParent",ie.parentTreeId),Ce.length=0,await(0,T.writeObject)(ue,le,Ce,te),{ref:ue,data:Ce.join("")}}static async createNewPrintAnnotation(te,ie,ge,he){const ue=await this.createNewAppearanceStream(ge,ie,he),we=this.createNewDict(ge,ie,{ap:ue}),Ce=new this.prototype.constructor({dict:we,xref:ie,annotationGlobals:te,evaluatorOptions:he.evaluatorOptions});return ge.ref&&(Ce.ref=Ce.refToReplace=ge.ref),Ce}}h.MarkupAnnotation=d;class w extends _{constructor(te){var Ee;super(te);const{dict:ie,xref:ge,annotationGlobals:he}=te,ue=this.data;this._needAppearances=te.needAppearances,ue.annotationType=n.AnnotationType.WIDGET,ue.fieldName===void 0&&(ue.fieldName=this._constructFieldName(ie)),ue.actions===void 0&&(ue.actions=(0,x.collectActions)(ge,ie,n.AnnotationActionEventType));let we=(0,x.getInheritableProperty)({dict:ie,key:"V",getArray:!0});ue.fieldValue=this._decodeFormValue(we);const Ce=(0,x.getInheritableProperty)({dict:ie,key:"DV",getArray:!0});if(ue.defaultFieldValue=this._decodeFormValue(Ce),we===void 0&&he.xfaDatasets){const Oe=this._title.str;Oe&&(this._hasValueFromXFA=!0,ue.fieldValue=we=he.xfaDatasets.getValue(Oe))}we===void 0&&ue.defaultFieldValue!==null&&(ue.fieldValue=ue.defaultFieldValue),ue.alternativeText=(0,n.stringToPDFString)(ie.get("TU")||""),this.setDefaultAppearance(te),ue.hasAppearance||(ue.hasAppearance=this._needAppearances&&ue.fieldValue!==void 0&&ue.fieldValue!==null);const le=(0,x.getInheritableProperty)({dict:ie,key:"FT"});ue.fieldType=le instanceof e.Name?le.name:null;const ke=(0,x.getInheritableProperty)({dict:ie,key:"DR"}),Fe=he.acroForm.get("DR"),de=(Ee=this.appearance)==null?void 0:Ee.dict.get("Resources");this._fieldResources={localResources:ke,acroFormResources:Fe,appearanceResources:de,mergedResources:e.Dict.merge({xref:ge,dictArray:[ke,de,Fe],mergeSubDicts:!0})},ue.fieldFlags=(0,x.getInheritableProperty)({dict:ie,key:"Ff"}),(!Number.isInteger(ue.fieldFlags)||ue.fieldFlags<0)&&(ue.fieldFlags=0),ue.readOnly=this.hasFieldFlag(n.AnnotationFieldFlag.READONLY),ue.required=this.hasFieldFlag(n.AnnotationFieldFlag.REQUIRED),ue.hidden=this._hasFlag(ue.annotationFlags,n.AnnotationFlag.HIDDEN)||this._hasFlag(ue.annotationFlags,n.AnnotationFlag.NOVIEW)}_decodeFormValue(te){return Array.isArray(te)?te.filter(ie=>typeof ie=="string").map(ie=>(0,n.stringToPDFString)(ie)):te instanceof e.Name?(0,n.stringToPDFString)(te.name):typeof te=="string"?(0,n.stringToPDFString)(te):null}hasFieldFlag(te){return!!(this.data.fieldFlags&te)}_isViewable(te){return!this._hasFlag(te,n.AnnotationFlag.INVISIBLE)}mustBeViewed(te,ie){return ie?this.viewable:super.mustBeViewed(te,ie)&&!this._hasFlag(this.flags,n.AnnotationFlag.NOVIEW)}getRotationMatrix(te){var ue;let ie=(ue=te==null?void 0:te.get(this.data.id))==null?void 0:ue.rotation;if(ie===void 0&&(ie=this.rotation),ie===0)return n.IDENTITY_MATRIX;const ge=this.data.rect[2]-this.data.rect[0],he=this.data.rect[3]-this.data.rect[1];return(0,x.getRotationMatrix)(ie,ge,he)}getBorderAndBackgroundAppearances(te){var Ce;let ie=(Ce=te==null?void 0:te.get(this.data.id))==null?void 0:Ce.rotation;if(ie===void 0&&(ie=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const ge=this.data.rect[2]-this.data.rect[0],he=this.data.rect[3]-this.data.rect[1],ue=ie===0||ie===180?`0 0 ${ge} ${he} re`:`0 0 ${he} ${ge} re`;let we="";if(this.backgroundColor&&(we=`${(0,U.getPdfColor)(this.backgroundColor,!0)} ${ue} f `),this.borderColor){const le=this.borderStyle.width||1;we+=`${le} w ${(0,U.getPdfColor)(this.borderColor,!1)} ${ue} S `}return we}async getOperatorList(te,ie,ge,he,ue){if(he&&!(this instanceof D)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new i.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(te,ie,ge,he,ue);const we=await this._getAppearance(te,ie,ge,ue);if(this.appearance&&we===null)return super.getOperatorList(te,ie,ge,he,ue);const Ce=new i.OperatorList;if(!this._defaultAppearance||we===null)return{opList:Ce,separateForm:!1,separateCanvas:!1};const le=!!(this.data.hasOwnCanvas&&ge&n.RenderingIntentFlag.DISPLAY),ke=[1,0,0,1,0,0],Fe=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],de=se(this.data.rect,Fe,ke);let Ee;this.oc&&(Ee=await te.parseMarkedContentProps(this.oc,null)),Ee!==void 0&&Ce.addOp(n.OPS.beginMarkedContentProps,["OC",Ee]),Ce.addOp(n.OPS.beginAnnotation,[this.data.id,this.data.rect,de,this.getRotationMatrix(ue),le]);const Oe=new t.StringStream(we);return await te.getOperatorList({stream:Oe,task:ie,resources:this._fieldResources.mergedResources,operatorList:Ce}),Ce.addOp(n.OPS.endAnnotation,[]),Ee!==void 0&&Ce.addOp(n.OPS.endMarkedContent,[]),{opList:Ce,separateForm:!1,separateCanvas:le}}_getMKDict(te){const ie=new e.Dict(null);return te&&ie.set("R",te),this.borderColor&&ie.set("BC",H(this.borderColor)),this.backgroundColor&&ie.set("BG",H(this.backgroundColor)),ie.size>0?ie:null}amendSavedDict(te,ie){}async save(te,ie,ge){const he=ge==null?void 0:ge.get(this.data.id);let ue=he==null?void 0:he.value,we=he==null?void 0:he.rotation;if(ue===this.data.fieldValue||ue===void 0){if(!this._hasValueFromXFA&&we===void 0)return null;ue||(ue=this.data.fieldValue)}if(we===void 0&&!this._hasValueFromXFA&&Array.isArray(ue)&&Array.isArray(this.data.fieldValue)&&ue.length===this.data.fieldValue.length&&ue.every((Ge,je)=>Ge===this.data.fieldValue[je]))return null;we===void 0&&(we=this.rotation);let Ce=null;if(!this._needAppearances&&(Ce=await this._getAppearance(te,ie,n.RenderingIntentFlag.SAVE,ge),Ce===null))return null;let le=!1;Ce!=null&&Ce.needAppearances&&(le=!0,Ce=null);const{xref:ke}=te,Fe=ke.fetchIfRef(this.ref);if(!(Fe instanceof e.Dict))return null;const de=new e.Dict(ke);for(const Ge of Fe.getKeys())Ge!=="AP"&&de.set(Ge,Fe.getRaw(Ge));const Ee={path:this.data.fieldName,value:ue},Oe=Ge=>(0,x.isAscii)(Ge)?Ge:(0,x.stringToUTF16String)(Ge,!0);de.set("V",Array.isArray(ue)?ue.map(Oe):Oe(ue)),this.amendSavedDict(ge,de);const Ne=this._getMKDict(we);Ne&&de.set("MK",Ne);const et=[],rt=[{ref:this.ref,data:"",xfa:Ee,needAppearances:le}];if(Ce!==null){const Ge=ke.getNewTemporaryRef(),je=new e.Dict(ke);de.set("AP",je),je.set("N",Ge);const $e=this._getSaveFieldResources(ke),ze=new t.StringStream(Ce),at=ze.dict=new e.Dict(ke);at.set("Subtype",e.Name.get("Form")),at.set("Resources",$e),at.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const mt=this.getRotationMatrix(ge);mt!==n.IDENTITY_MATRIX&&at.set("Matrix",mt),await(0,T.writeObject)(Ge,ze,et,ke),rt.push({ref:Ge,data:et.join(""),xfa:null,needAppearances:!1}),et.length=0}return de.set("M",`D:${(0,n.getModificationDate)()}`),await(0,T.writeObject)(this.ref,de,et,ke),rt[0].data=et.join(""),rt}async _getAppearance(te,ie,ge,he){if(this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD))return null;const we=he==null?void 0:he.get(this.data.id);let Ce,le;if(we&&(Ce=we.formattedValue||we.value,le=we.rotation),le===void 0&&Ce===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const ke=this.getBorderAndBackgroundAppearances(he);if(Ce===void 0&&(Ce=this.data.fieldValue,!Ce))return`/Tx BMC q ${ke}Q EMC`;if(Array.isArray(Ce)&&Ce.length===1&&(Ce=Ce[0]),(0,n.assert)(typeof Ce=="string","Expected `value` to be a string."),Ce=Ce.trim(),this.data.combo){const St=this.data.options.find(({exportValue:kt})=>Ce===kt);Ce=(St==null?void 0:St.displayValue)||Ce}if(Ce==="")return`/Tx BMC q ${ke}Q EMC`;le===void 0&&(le=this.rotation);let Fe=-1,de;this.data.multiLine?(de=Ce.split(/\r\n?|\n/).map(St=>St.normalize("NFC")),Fe=de.length):de=[Ce.replace(/\r\n?|\n/,"").normalize("NFC")];const Ee=1,Oe=2;let Ne=this.data.rect[3]-this.data.rect[1],et=this.data.rect[2]-this.data.rect[0];(le===90||le===270)&&([et,Ne]=[Ne,et]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,U.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let rt=await w._getFontData(te,ie,this.data.defaultAppearanceData,this._fieldResources.mergedResources),Ge,je,$e;const ze=[];let at=!1;for(const St of de){const kt=rt.encodeString(St);kt.length>1&&(at=!0),ze.push(kt.join(""))}if(at&&ge&n.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(at&&this._isOffscreenCanvasSupported){const St=this.data.comb?"monospace":"sans-serif",kt=new U.FakeUnicodeFont(te.xref,St),zn=kt.createFontResources(de.join("")),ft=zn.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const Ve=this._fieldResources.mergedResources.get("Font");for(const Re of ft.getKeys())Ve.set(Re,ft.getRaw(Re))}else this._fieldResources.mergedResources.set("Font",ft);const en=kt.fontName.name;rt=await w._getFontData(te,ie,{fontName:en,fontSize:0},zn);for(let Ve=0,Re=ze.length;Ve<Re;Ve++)ze[Ve]=(0,x.stringToUTF16String)(de[Ve]);const Xt=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=en,[Ge,je,$e]=this._computeFontSize(Ne-2*Ee,et-2*Oe,Ce,rt,Fe),this.data.defaultAppearanceData=Xt}else this._isOffscreenCanvasSupported||(0,n.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[Ge,je,$e]=this._computeFontSize(Ne-2*Ee,et-2*Oe,Ce,rt,Fe);let mt=rt.descent;isNaN(mt)?mt=n.BASELINE_FACTOR*$e:mt=Math.max(n.BASELINE_FACTOR*$e,Math.abs(mt)*je);const At=Math.min(Math.floor((Ne-je)/2),Ee),Qe=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(Ge,ze,rt,je,et,Ne,Qe,Oe,At,mt,$e,he);if(this.data.comb)return this._getCombAppearance(Ge,rt,ze[0],je,et,Ne,Oe,At,mt,$e,he);const Ke=At+mt;if(Qe===0||Qe>2)return`/Tx BMC q ${ke}BT `+Ge+` 1 0 0 1 ${(0,x.numberToString)(Oe)} ${(0,x.numberToString)(Ke)} Tm (${(0,x.escapeString)(ze[0])}) Tj ET Q EMC`;const pt={shift:0},st=this._renderText(ze[0],rt,je,et,Qe,pt,Oe,Ke);return`/Tx BMC q ${ke}BT `+Ge+` 1 0 0 1 0 0 Tm ${st} ET Q EMC`}static async _getFontData(te,ie,ge,he){const ue=new i.OperatorList,we={font:null,clone(){return this}},{fontName:Ce,fontSize:le}=ge;return await te.handleSetFont(he,[Ce&&e.Name.get(Ce),le],null,ue,ie,we,null),we.font}_getTextWidth(te,ie){return ie.charsToGlyphs(te).reduce((ge,he)=>ge+he.width,0)/1e3}_computeFontSize(te,ie,ge,he,ue){let{fontSize:we}=this.data.defaultAppearanceData,Ce=(we||12)*n.LINE_FACTOR,le=Math.round(te/Ce);if(!we){const ke=Ee=>Math.floor(Ee*100)/100;if(ue===-1){const Ee=this._getTextWidth(ge,he);we=ke(Math.min(te/n.LINE_FACTOR,Ee>ie?ie/Ee:1/0)),le=1}else{const Ee=ge.split(/\r\n?|\n/),Oe=[];for(const et of Ee){const rt=he.encodeString(et).join(""),Ge=he.charsToGlyphs(rt),je=he.getCharPositions(rt);Oe.push({line:rt,glyphs:Ge,positions:je})}const Ne=et=>{let rt=0;for(const Ge of Oe){const je=this._splitLine(null,he,et,ie,Ge);if(rt+=je.length*et,rt>te)return!0}return!1};for(le=Math.max(le,ue);;){if(Ce=te/le,we=ke(Ce/n.LINE_FACTOR),Ne(we)){le++;continue}break}}const{fontName:Fe,fontColor:de}=this.data.defaultAppearanceData;this._defaultAppearance=(0,U.createDefaultAppearance)({fontSize:we,fontName:Fe,fontColor:de})}return[this._defaultAppearance,we,te/le]}_renderText(te,ie,ge,he,ue,we,Ce,le){let ke;if(ue===1){const de=this._getTextWidth(te,ie)*ge;ke=(he-de)/2}else if(ue===2){const de=this._getTextWidth(te,ie)*ge;ke=he-de-Ce}else ke=Ce;const Fe=(0,x.numberToString)(ke-we.shift);return we.shift=ke,le=(0,x.numberToString)(le),`${Fe} ${le} Td (${(0,x.escapeString)(te)}) Tj`}_getSaveFieldResources(te){var we;const{localResources:ie,appearanceResources:ge,acroFormResources:he}=this._fieldResources,ue=(we=this.data.defaultAppearanceData)==null?void 0:we.fontName;if(!ue)return ie||e.Dict.empty;for(const Ce of[ie,ge])if(Ce instanceof e.Dict){const le=Ce.get("Font");if(le instanceof e.Dict&&le.has(ue))return Ce}if(he instanceof e.Dict){const Ce=he.get("Font");if(Ce instanceof e.Dict&&Ce.has(ue)){const le=new e.Dict(te);le.set(ue,Ce.getRaw(ue));const ke=new e.Dict(te);return ke.set("Font",le),e.Dict.merge({xref:te,dictArray:[ke,ie],mergeSubDicts:!0})}}return ie||e.Dict.empty}getFieldObject(){return null}}class q extends w{constructor(te){super(te),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const ie=te.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let ge=(0,x.getInheritableProperty)({dict:ie,key:"Q"});(!Number.isInteger(ge)||ge<0||ge>2)&&(ge=null),this.data.textAlignment=ge;let he=(0,x.getInheritableProperty)({dict:ie,key:"MaxLen"});(!Number.isInteger(he)||he<0)&&(he=0),this.data.maxLen=he,this.data.multiLine=this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(n.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(n.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(n.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(te,ie,ge,he,ue,we,Ce,le,ke,Fe,de){const Ee=ue/this.data.maxLen,Oe=this.getBorderAndBackgroundAppearances(de),Ne=[],et=ie.getCharPositions(ge);for(const[Ge,je]of et)Ne.push(`(${(0,x.escapeString)(ge.substring(Ge,je))}) Tj`);const rt=Ne.join(` ${(0,x.numberToString)(Ee)} 0 Td `);return`/Tx BMC q ${Oe}BT `+te+` 1 0 0 1 ${(0,x.numberToString)(Ce)} ${(0,x.numberToString)(le+ke)} Tm ${rt} ET Q EMC`}_getMultilineAppearance(te,ie,ge,he,ue,we,Ce,le,ke,Fe,de,Ee){const Oe=[],Ne=ue-2*le,et={shift:0};for(let je=0,$e=ie.length;je<$e;je++){const ze=ie[je],at=this._splitLine(ze,ge,he,Ne);for(let mt=0,At=at.length;mt<At;mt++){const Qe=at[mt],Ke=je===0&&mt===0?-ke-(de-Fe):-de;Oe.push(this._renderText(Qe,ge,he,ue,Ce,et,le,Ke))}}const rt=this.getBorderAndBackgroundAppearances(Ee),Ge=Oe.join(`
`);return`/Tx BMC q ${rt}BT `+te+` 1 0 0 1 0 ${(0,x.numberToString)(we)} Tm ${Ge} ET Q EMC`}_splitLine(te,ie,ge,he,ue={}){te=ue.line||te;const we=ue.glyphs||ie.charsToGlyphs(te);if(we.length<=1)return[te];const Ce=ue.positions||ie.getCharPositions(te),le=ge/1e3,ke=[];let Fe=-1,de=-1,Ee=-1,Oe=0,Ne=0;for(let et=0,rt=we.length;et<rt;et++){const[Ge,je]=Ce[et],$e=we[et],ze=$e.width*le;$e.unicode===" "?Ne+ze>he?(ke.push(te.substring(Oe,Ge)),Oe=Ge,Ne=ze,Fe=-1,Ee=-1):(Ne+=ze,Fe=Ge,de=je,Ee=et):Ne+ze>he?Fe!==-1?(ke.push(te.substring(Oe,de)),Oe=de,et=Ee+1,Fe=-1,Ne=0):(ke.push(te.substring(Oe,Ge)),Oe=Ge,Ne=ze):Ne+=ze}return Oe<te.length&&ke.push(te.substring(Oe,te.length)),ke}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class l extends w{constructor(te){super(te),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(te):this.data.radioButton?this._processRadioButton(te):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(te)):(0,n.warn)("Invalid field flags for button widget annotation")}async getOperatorList(te,ie,ge,he,ue){if(this.data.pushButton)return super.getOperatorList(te,ie,ge,!1,ue);let we=null,Ce=null;if(ue){const ke=ue.get(this.data.id);we=ke?ke.value:null,Ce=ke?ke.rotation:null}if(we===null&&this.appearance)return super.getOperatorList(te,ie,ge,he,ue);we==null&&(we=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const le=we?this.checkedAppearance:this.uncheckedAppearance;if(le){const ke=this.appearance,Fe=le.dict.getArray("Matrix")||n.IDENTITY_MATRIX;Ce&&le.dict.set("Matrix",this.getRotationMatrix(ue)),this.appearance=le;const de=super.getOperatorList(te,ie,ge,he,ue);return this.appearance=ke,le.dict.set("Matrix",Fe),de}return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1}}async save(te,ie,ge){return this.data.checkBox?this._saveCheckbox(te,ie,ge):this.data.radioButton?this._saveRadioButton(te,ie,ge):null}async _saveCheckbox(te,ie,ge){if(!ge)return null;const he=ge.get(this.data.id);let ue=he==null?void 0:he.rotation,we=he==null?void 0:he.value;if(ue===void 0&&(we===void 0||this.data.fieldValue===this.data.exportValue===we))return null;const Ce=te.xref.fetchIfRef(this.ref);if(!(Ce instanceof e.Dict))return null;ue===void 0&&(ue=this.rotation),we===void 0&&(we=this.data.fieldValue===this.data.exportValue);const le={path:this.data.fieldName,value:we?this.data.exportValue:""},ke=e.Name.get(we?this.data.exportValue:"Off");Ce.set("V",ke),Ce.set("AS",ke),Ce.set("M",`D:${(0,n.getModificationDate)()}`);const Fe=this._getMKDict(ue);Fe&&Ce.set("MK",Fe);const de=[];return await(0,T.writeObject)(this.ref,Ce,de,te.xref),[{ref:this.ref,data:de.join(""),xfa:le}]}async _saveRadioButton(te,ie,ge){if(!ge)return null;const he=ge.get(this.data.id);let ue=he==null?void 0:he.rotation,we=he==null?void 0:he.value;if(ue===void 0&&(we===void 0||this.data.fieldValue===this.data.buttonValue===we))return null;const Ce=te.xref.fetchIfRef(this.ref);if(!(Ce instanceof e.Dict))return null;we===void 0&&(we=this.data.fieldValue===this.data.buttonValue),ue===void 0&&(ue=this.rotation);const le={path:this.data.fieldName,value:we?this.data.buttonValue:""},ke=e.Name.get(we?this.data.buttonValue:"Off"),Fe=[];let de=null;if(we)if(this.parent instanceof e.Ref){const Ne=te.xref.fetch(this.parent);Ne.set("V",ke),await(0,T.writeObject)(this.parent,Ne,Fe,te.xref),de=Fe.join(""),Fe.length=0}else this.parent instanceof e.Dict&&this.parent.set("V",ke);Ce.set("AS",ke),Ce.set("M",`D:${(0,n.getModificationDate)()}`);const Ee=this._getMKDict(ue);Ee&&Ce.set("MK",Ee),await(0,T.writeObject)(this.ref,Ce,Fe,te.xref);const Oe=[{ref:this.ref,data:Fe.join(""),xfa:le}];return de&&Oe.push({ref:this.parent,data:de,xfa:null}),Oe}_getDefaultCheckedAppearance(te,ie){const ge=this.data.rect[2]-this.data.rect[0],he=this.data.rect[3]-this.data.rect[1],ue=[0,0,ge,he],we=.8,Ce=Math.min(ge,he)*we;let le,ke;ie==="check"?(le={width:.755*Ce,height:.705*Ce},ke="3"):ie==="disc"?(le={width:.791*Ce,height:.705*Ce},ke="l"):(0,n.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${ie}`);const Fe=(0,x.numberToString)((ge-le.width)/2),de=(0,x.numberToString)((he-le.height)/2),Ee=`q BT /PdfJsZaDb ${Ce} Tf 0 g ${Fe} ${de} Td (${ke}) Tj ET Q`,Oe=new e.Dict(te.xref);Oe.set("FormType",1),Oe.set("Subtype",e.Name.get("Form")),Oe.set("Type",e.Name.get("XObject")),Oe.set("BBox",ue),Oe.set("Matrix",[1,0,0,1,0,0]),Oe.set("Length",Ee.length);const Ne=new e.Dict(te.xref),et=new e.Dict(te.xref);et.set("PdfJsZaDb",this.fallbackFontDict),Ne.set("Font",et),Oe.set("Resources",Ne),this.checkedAppearance=new t.StringStream(Ee),this.checkedAppearance.dict=Oe,this._streams.push(this.checkedAppearance)}_processCheckBox(te){const ie=te.dict.get("AP");if(!(ie instanceof e.Dict))return;const ge=ie.get("N");if(!(ge instanceof e.Dict))return;const he=this._decodeFormValue(te.dict.get("AS"));typeof he=="string"&&(this.data.fieldValue=he);const ue=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",we=ge.getKeys();if(we.length===0)we.push("Off",ue);else if(we.length===1)we[0]==="Off"?we.push(ue):we.unshift("Off");else if(we.includes(ue))we.length=0,we.push("Off",ue);else{const ke=we.find(Fe=>Fe!=="Off");we.length=0,we.push("Off",ke)}we.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=we[1];const Ce=ge.get(this.data.exportValue);this.checkedAppearance=Ce instanceof o.BaseStream?Ce:null;const le=ge.get("Off");this.uncheckedAppearance=le instanceof o.BaseStream?le:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(te,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(te){this.data.fieldValue=this.data.buttonValue=null;const ie=te.dict.get("Parent");if(ie instanceof e.Dict){this.parent=te.dict.getRaw("Parent");const Ce=ie.get("V");Ce instanceof e.Name&&(this.data.fieldValue=this._decodeFormValue(Ce))}const ge=te.dict.get("AP");if(!(ge instanceof e.Dict))return;const he=ge.get("N");if(!(he instanceof e.Dict))return;for(const Ce of he.getKeys())if(Ce!=="Off"){this.data.buttonValue=this._decodeFormValue(Ce);break}const ue=he.get(this.data.buttonValue);this.checkedAppearance=ue instanceof o.BaseStream?ue:null;const we=he.get("Off");this.uncheckedAppearance=we instanceof o.BaseStream?we:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(te,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(te){const{dict:ie,annotationGlobals:ge}=te;if(!ie.has("A")&&!ie.has("AA")&&!this.data.alternativeText){(0,n.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!ie.has("A")&&!ie.has("AA"),X.Catalog.parseDestDictionary({destDict:ie,resultObj:this.data,docBaseUrl:ge.baseUrl,docAttachments:ge.attachments})}getFieldObject(){let te="button",ie;return this.data.checkBox?(te="checkbox",ie=this.data.exportValue):this.data.radioButton&&(te="radiobutton",ie=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:ie,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:te}}get fallbackFontDict(){const te=new e.Dict;return te.set("BaseFont",e.Name.get("ZapfDingbats")),te.set("Type",e.Name.get("FallbackType")),te.set("Subtype",e.Name.get("FallbackType")),te.set("Encoding",e.Name.get("ZapfDingbatsEncoding")),(0,n.shadow)(this,"fallbackFontDict",te)}}class b extends w{constructor(te){super(te);const{dict:ie,xref:ge}=te;this.indices=ie.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const he=(0,x.getInheritableProperty)({dict:ie,key:"Opt"});if(Array.isArray(he))for(let ue=0,we=he.length;ue<we;ue++){const Ce=ge.fetchIfRef(he[ue]),le=Array.isArray(Ce);this.data.options[ue]={exportValue:this._decodeFormValue(le?ge.fetchIfRef(Ce[0]):Ce),displayValue:this._decodeFormValue(le?ge.fetchIfRef(Ce[1]):Ce)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const ue=this.data.options.length;for(const we of this.indices)Number.isInteger(we)&&we>=0&&we<ue&&this.data.fieldValue.push(this.data.options[we].exportValue)}this.data.combo=this.hasFieldFlag(n.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(n.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const te=this.data.combo?"combobox":"listbox",ie=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:ie,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:te}}amendSavedDict(te,ie){var we;if(!this.hasIndices)return;let ge=(we=te==null?void 0:te.get(this.data.id))==null?void 0:we.value;Array.isArray(ge)||(ge=[ge]);const he=[],{options:ue}=this.data;for(let Ce=0,le=0,ke=ue.length;Ce<ke;Ce++)ue[Ce].exportValue===ge[le]&&(he.push(Ce),le+=1);ie.set("I",he)}async _getAppearance(te,ie,ge,he){if(this.data.combo)return super._getAppearance(te,ie,ge,he);let ue,we;const Ce=he==null?void 0:he.get(this.data.id);if(Ce&&(we=Ce.rotation,ue=Ce.value),we===void 0&&ue===void 0&&!this._needAppearances)return null;ue===void 0?ue=this.data.fieldValue:Array.isArray(ue)||(ue=[ue]);const le=1,ke=2;let Fe=this.data.rect[3]-this.data.rect[1],de=this.data.rect[2]-this.data.rect[0];(we===90||we===270)&&([de,Fe]=[Fe,de]);const Ee=this.data.options.length,Oe=[];for(let Qe=0;Qe<Ee;Qe++){const{exportValue:Ke}=this.data.options[Qe];ue.includes(Ke)&&Oe.push(Qe)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,U.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Ne=await w._getFontData(te,ie,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let et,{fontSize:rt}=this.data.defaultAppearanceData;if(rt)et=this._defaultAppearance;else{const Qe=(Fe-le)/Ee;let Ke=-1,pt;for(const{displayValue:st}of this.data.options){const St=this._getTextWidth(st,Ne);St>Ke&&(Ke=St,pt=st)}[et,rt]=this._computeFontSize(Qe,de-2*ke,pt,Ne,-1)}const Ge=rt*n.LINE_FACTOR,je=(Ge-rt)/2,$e=Math.floor(Fe/Ge);let ze=0;if(Oe.length>0){const Qe=Math.min(...Oe),Ke=Math.max(...Oe);ze=Math.max(0,Ke-$e+1),ze>Qe&&(ze=Qe)}const at=Math.min(ze+$e+1,Ee),mt=["/Tx BMC q",`1 1 ${de} ${Fe} re W n`];if(Oe.length){mt.push("0.600006 0.756866 0.854904 rg");for(const Qe of Oe)ze<=Qe&&Qe<at&&mt.push(`1 ${Fe-(Qe-ze+1)*Ge} ${de} ${Ge} re f`)}mt.push("BT",et,`1 0 0 1 0 ${Fe} Tm`);const At={shift:0};for(let Qe=ze;Qe<at;Qe++){const{displayValue:Ke}=this.data.options[Qe],pt=Qe===ze?je:0;mt.push(this._renderText(Ke,Ne,rt,de,0,At,ke,-Ge+pt))}return mt.push("ET Q EMC"),mt.join(`
`)}}class D extends w{constructor(te){super(te),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class Z extends d{constructor(te){super(te),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:ge}=te;this.data.annotationType=n.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=ge.has("Name")?ge.get("Name").name:"Note"),ge.has("State")?(this.data.state=ge.get("State")||null,this.data.stateModel=ge.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class N extends _{constructor(te){var ue;super(te);const{dict:ie,annotationGlobals:ge}=te;this.data.annotationType=n.AnnotationType.LINK;const he=$(ie,this.rectangle);he&&(this.data.quadPoints=he),(ue=this.data).borderColor||(ue.borderColor=this.data.color),X.Catalog.parseDestDictionary({destDict:ie,resultObj:this.data,docBaseUrl:ge.baseUrl,docAttachments:ge.attachments})}}class v extends _{constructor(te){super(te);const{dict:ie}=te;this.data.annotationType=n.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let ge=ie.get("Parent");if(!ge){(0,n.warn)("Popup annotation has a missing or invalid parent annotation.");return}const he=ge.getArray("Rect");this.data.parentRect=Array.isArray(he)&&he.length===4?n.Util.normalizeRect(he):null;const ue=ge.get("RT");if((0,e.isName)(ue,n.AnnotationReplyType.GROUP)&&(ge=ge.get("IRT")),ge.has("M")?(this.setModificationDate(ge.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,ge.has("C")?(this.setColor(ge.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const we=ge.get("F");this._isViewable(we)&&this.setFlags(we)}this.setTitle(ge.get("T")),this.data.titleObj=this._title,this.setContents(ge.get("Contents")),this.data.contentsObj=this._contents,ge.has("RC")&&(this.data.richText=F.XFAFactory.getRichTextAsHtml(ge.get("RC"))),this.data.open=!!ie.get("Open")}}h.PopupAnnotation=v;class S extends d{constructor(te){var he;super(te),this.data.hasOwnCanvas=!0;const{evaluatorOptions:ie,xref:ge}=te;if(this.data.annotationType=n.AnnotationType.FREETEXT,this.setDefaultAppearance(te),this.appearance){const{fontColor:ue,fontSize:we}=(0,U.parseAppearanceStream)(this.appearance,ie,ge);this.data.defaultAppearanceData.fontColor=ue,this.data.defaultAppearanceData.fontSize=we||10}else if(this._isOffscreenCanvasSupported){const ue=te.dict.get("CA"),we=new U.FakeUnicodeFont(ge,"sans-serif");(he=this.data.defaultAppearanceData).fontSize||(he.fontSize=10);const{fontColor:Ce,fontSize:le}=this.data.defaultAppearanceData;this.appearance=we.createAppearance(this._contents.str,this.rectangle,this.rotation,le,Ce,ue),this._streams.push(this.appearance,U.FakeUnicodeFont.toUnicodeStream)}else(0,n.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(te,ie,{apRef:ge,ap:he}){const{color:ue,fontSize:we,rect:Ce,rotation:le,user:ke,value:Fe}=te,de=new e.Dict(ie);de.set("Type",e.Name.get("Annot")),de.set("Subtype",e.Name.get("FreeText")),de.set("CreationDate",`D:${(0,n.getModificationDate)()}`),de.set("Rect",Ce);const Ee=`/Helv ${we} Tf ${(0,U.getPdfColor)(ue,!0)}`;if(de.set("DA",Ee),de.set("Contents",(0,x.isAscii)(Fe)?Fe:(0,x.stringToUTF16String)(Fe,!0)),de.set("F",4),de.set("Border",[0,0,0]),de.set("Rotate",le),ke&&de.set("T",(0,x.isAscii)(ke)?ke:(0,x.stringToUTF16String)(ke,!0)),ge||he){const Oe=new e.Dict(ie);de.set("AP",Oe),ge?Oe.set("N",ge):Oe.set("N",he)}return de}static async createNewAppearanceStream(te,ie,ge){const{baseFontRef:he,evaluator:ue,task:we}=ge,{color:Ce,fontSize:le,rect:ke,rotation:Fe,value:de}=te,Ee=new e.Dict(ie),Oe=new e.Dict(ie);if(he)Oe.set("Helv",he);else{const xt=new e.Dict(ie);xt.set("BaseFont",e.Name.get("Helvetica")),xt.set("Type",e.Name.get("Font")),xt.set("Subtype",e.Name.get("Type1")),xt.set("Encoding",e.Name.get("WinAnsiEncoding")),Oe.set("Helv",xt)}Ee.set("Font",Oe);const Ne=await w._getFontData(ue,we,{fontName:"Helv",fontSize:le},Ee),[et,rt,Ge,je]=ke;let $e=Ge-et,ze=je-rt;Fe%180!==0&&([$e,ze]=[ze,$e]);const at=de.split(`
`),mt=le/1e3;let At=-1/0;const Qe=[];for(let xt of at){const jt=Ne.encodeString(xt);if(jt.length>1)return null;xt=jt.join(""),Qe.push(xt);let Mt=0;const Dt=Ne.charsToGlyphs(xt);for(const Kt of Dt)Mt+=Kt.width*mt;At=Math.max(At,Mt)}let Ke=1;At>$e&&(Ke=$e/At);let pt=1;const st=n.LINE_FACTOR*le,St=(n.LINE_FACTOR-n.LINE_DESCENT_FACTOR)*le,kt=st*at.length;kt>ze&&(pt=ze/kt);const zn=Math.min(Ke,pt),ft=le*zn;let en,Xt,Ve;switch(Fe){case 0:Ve=[1,0,0,1],Xt=[ke[0],ke[1],$e,ze],en=[ke[0],ke[3]-St];break;case 90:Ve=[0,1,-1,0],Xt=[ke[1],-ke[2],$e,ze],en=[ke[1],-ke[0]-St];break;case 180:Ve=[-1,0,0,-1],Xt=[-ke[2],-ke[3],$e,ze],en=[-ke[2],-ke[1]-St];break;case 270:Ve=[0,-1,1,0],Xt=[-ke[3],ke[0],$e,ze],en=[-ke[3],ke[2]-St];break}const Re=["q",`${Ve.join(" ")} 0 0 cm`,`${Xt.join(" ")} re W n`,"BT",`${(0,U.getPdfColor)(Ce,!0)}`,`0 Tc /Helv ${(0,x.numberToString)(ft)} Tf`];Re.push(`${en.join(" ")} Td (${(0,x.escapeString)(Qe[0])}) Tj`);const qe=(0,x.numberToString)(st);for(let xt=1,jt=Qe.length;xt<jt;xt++){const Mt=Qe[xt];Re.push(`0 -${qe} Td (${(0,x.escapeString)(Mt)}) Tj`)}Re.push("ET","Q");const Ze=Re.join(`
`),lt=new e.Dict(ie);lt.set("FormType",1),lt.set("Subtype",e.Name.get("Form")),lt.set("Type",e.Name.get("XObject")),lt.set("BBox",ke),lt.set("Resources",Ee),lt.set("Matrix",[1,0,0,1,-ke[0],-ke[1]]);const gt=new t.StringStream(Ze);return gt.dict=lt,gt}}class I extends d{constructor(te){super(te);const{dict:ie,xref:ge}=te;this.data.annotationType=n.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const he=ie.getArray("L");if(this.data.lineCoordinates=n.Util.normalizeRect(he),this.setLineEndings(ie.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const ue=this.color?H(this.color):[0,0,0],we=ie.get("CA"),Ce=C(ie.getArray("IC"),null),le=Ce?H(Ce):null,ke=le?we:null,Fe=this.borderStyle.width||1,de=2*Fe,Ee=[this.data.lineCoordinates[0]-de,this.data.lineCoordinates[1]-de,this.data.lineCoordinates[2]+de,this.data.lineCoordinates[3]+de];n.Util.intersect(this.rectangle,Ee)||(this.rectangle=Ee),this._setDefaultAppearance({xref:ge,extra:`${Fe} w`,strokeColor:ue,fillColor:le,strokeAlpha:we,fillAlpha:ke,pointsCallback:(Oe,Ne)=>(Oe.push(`${he[0]} ${he[1]} m`,`${he[2]} ${he[3]} l`,"S"),[Ne[0].x-Fe,Ne[1].x+Fe,Ne[3].y-Fe,Ne[1].y+Fe])})}}}class u extends d{constructor(te){super(te);const{dict:ie,xref:ge}=te;if(this.data.annotationType=n.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const he=this.color?H(this.color):[0,0,0],ue=ie.get("CA"),we=C(ie.getArray("IC"),null),Ce=we?H(we):null,le=Ce?ue:null;if(this.borderStyle.width===0&&!Ce)return;this._setDefaultAppearance({xref:ge,extra:`${this.borderStyle.width} w`,strokeColor:he,fillColor:Ce,strokeAlpha:ue,fillAlpha:le,pointsCallback:(ke,Fe)=>{const de=Fe[2].x+this.borderStyle.width/2,Ee=Fe[2].y+this.borderStyle.width/2,Oe=Fe[3].x-Fe[2].x-this.borderStyle.width,Ne=Fe[1].y-Fe[3].y-this.borderStyle.width;return ke.push(`${de} ${Ee} ${Oe} ${Ne} re`),Ce?ke.push("B"):ke.push("S"),[Fe[0].x,Fe[1].x,Fe[3].y,Fe[1].y]}})}}}class y extends d{constructor(te){super(te);const{dict:ie,xref:ge}=te;if(this.data.annotationType=n.AnnotationType.CIRCLE,!this.appearance){const he=this.color?H(this.color):[0,0,0],ue=ie.get("CA"),we=C(ie.getArray("IC"),null),Ce=we?H(we):null,le=Ce?ue:null;if(this.borderStyle.width===0&&!Ce)return;const ke=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:ge,extra:`${this.borderStyle.width} w`,strokeColor:he,fillColor:Ce,strokeAlpha:ue,fillAlpha:le,pointsCallback:(Fe,de)=>{const Ee=de[0].x+this.borderStyle.width/2,Oe=de[0].y-this.borderStyle.width/2,Ne=de[3].x-this.borderStyle.width/2,et=de[3].y+this.borderStyle.width/2,rt=Ee+(Ne-Ee)/2,Ge=Oe+(et-Oe)/2,je=(Ne-Ee)/2*ke,$e=(et-Oe)/2*ke;return Fe.push(`${rt} ${et} m`,`${rt+je} ${et} ${Ne} ${Ge+$e} ${Ne} ${Ge} c`,`${Ne} ${Ge-$e} ${rt+je} ${Oe} ${rt} ${Oe} c`,`${rt-je} ${Oe} ${Ee} ${Ge-$e} ${Ee} ${Ge} c`,`${Ee} ${Ge+$e} ${rt-je} ${et} ${rt} ${et} c`,"h"),Ce?Fe.push("B"):Fe.push("S"),[de[0].x,de[1].x,de[3].y,de[1].y]}})}}}class r extends d{constructor(te){super(te);const{dict:ie,xref:ge}=te;this.data.annotationType=n.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof A||(this.setLineEndings(ie.getArray("LE")),this.data.lineEndings=this.lineEndings);const he=ie.getArray("Vertices");if(Array.isArray(he)){for(let ue=0,we=he.length;ue<we;ue+=2)this.data.vertices.push({x:he[ue],y:he[ue+1]});if(!this.appearance){const ue=this.color?H(this.color):[0,0,0],we=ie.get("CA"),Ce=this.borderStyle.width||1,le=2*Ce,ke=[1/0,1/0,-1/0,-1/0];for(const Fe of this.data.vertices)ke[0]=Math.min(ke[0],Fe.x-le),ke[1]=Math.min(ke[1],Fe.y-le),ke[2]=Math.max(ke[2],Fe.x+le),ke[3]=Math.max(ke[3],Fe.y+le);n.Util.intersect(this.rectangle,ke)||(this.rectangle=ke),this._setDefaultAppearance({xref:ge,extra:`${Ce} w`,strokeColor:ue,strokeAlpha:we,pointsCallback:(Fe,de)=>{const Ee=this.data.vertices;for(let Oe=0,Ne=Ee.length;Oe<Ne;Oe++)Fe.push(`${Ee[Oe].x} ${Ee[Oe].y} ${Oe===0?"m":"l"}`);return Fe.push("S"),[de[0].x,de[1].x,de[3].y,de[1].y]}})}}}}class A extends r{constructor(te){super(te),this.data.annotationType=n.AnnotationType.POLYGON}}class E extends d{constructor(te){super(te),this.data.annotationType=n.AnnotationType.CARET}}class G extends d{constructor(te){super(te),this.data.hasOwnCanvas=this.data.noRotate;const{dict:ie,xref:ge}=te;this.data.annotationType=n.AnnotationType.INK,this.data.inkLists=[];const he=ie.getArray("InkList");if(Array.isArray(he)){for(let ue=0,we=he.length;ue<we;++ue){this.data.inkLists.push([]);for(let Ce=0,le=he[ue].length;Ce<le;Ce+=2)this.data.inkLists[ue].push({x:ge.fetchIfRef(he[ue][Ce]),y:ge.fetchIfRef(he[ue][Ce+1])})}if(!this.appearance){const ue=this.color?H(this.color):[0,0,0],we=ie.get("CA"),Ce=this.borderStyle.width||1,le=2*Ce,ke=[1/0,1/0,-1/0,-1/0];for(const Fe of this.data.inkLists)for(const de of Fe)ke[0]=Math.min(ke[0],de.x-le),ke[1]=Math.min(ke[1],de.y-le),ke[2]=Math.max(ke[2],de.x+le),ke[3]=Math.max(ke[3],de.y+le);n.Util.intersect(this.rectangle,ke)||(this.rectangle=ke),this._setDefaultAppearance({xref:ge,extra:`${Ce} w`,strokeColor:ue,strokeAlpha:we,pointsCallback:(Fe,de)=>{for(const Ee of this.data.inkLists){for(let Oe=0,Ne=Ee.length;Oe<Ne;Oe++)Fe.push(`${Ee[Oe].x} ${Ee[Oe].y} ${Oe===0?"m":"l"}`);Fe.push("S")}return[de[0].x,de[1].x,de[3].y,de[1].y]}})}}}static createNewDict(te,ie,{apRef:ge,ap:he}){const{color:ue,opacity:we,paths:Ce,rect:le,rotation:ke,thickness:Fe}=te,de=new e.Dict(ie);de.set("Type",e.Name.get("Annot")),de.set("Subtype",e.Name.get("Ink")),de.set("CreationDate",`D:${(0,n.getModificationDate)()}`),de.set("Rect",le),de.set("InkList",Ce.map(Ne=>Ne.points)),de.set("F",4),de.set("Rotate",ke);const Ee=new e.Dict(ie);de.set("BS",Ee),Ee.set("W",Fe),de.set("C",Array.from(ue,Ne=>Ne/255)),de.set("CA",we);const Oe=new e.Dict(ie);return de.set("AP",Oe),ge?Oe.set("N",ge):Oe.set("N",he),de}static async createNewAppearanceStream(te,ie,ge){const{color:he,rect:ue,paths:we,thickness:Ce,opacity:le}=te,ke=[`${Ce} w 1 J 1 j`,`${(0,U.getPdfColor)(he,!1)}`];le!==1&&ke.push("/R0 gs");const Fe=[];for(const{bezier:Ne}of we){Fe.length=0,Fe.push(`${(0,x.numberToString)(Ne[0])} ${(0,x.numberToString)(Ne[1])} m`);for(let et=2,rt=Ne.length;et<rt;et+=6){const Ge=Ne.slice(et,et+6).map(x.numberToString).join(" ");Fe.push(`${Ge} c`)}Fe.push("S"),ke.push(Fe.join(`
`))}const de=ke.join(`
`),Ee=new e.Dict(ie);if(Ee.set("FormType",1),Ee.set("Subtype",e.Name.get("Form")),Ee.set("Type",e.Name.get("XObject")),Ee.set("BBox",ue),Ee.set("Length",de.length),le!==1){const Ne=new e.Dict(ie),et=new e.Dict(ie),rt=new e.Dict(ie);rt.set("CA",le),rt.set("Type",e.Name.get("ExtGState")),et.set("R0",rt),Ne.set("ExtGState",et),Ee.set("Resources",Ne)}const Oe=new t.StringStream(de);return Oe.dict=Ee,Oe}}class ae extends d{constructor(te){var ue;super(te);const{dict:ie,xref:ge}=te;if(this.data.annotationType=n.AnnotationType.HIGHLIGHT,this.data.quadPoints=$(ie,null)){const we=(ue=this.appearance)==null?void 0:ue.dict.get("Resources");if(!this.appearance||!(we!=null&&we.has("ExtGState"))){this.appearance&&(0,n.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Ce=this.color?H(this.color):[1,1,0],le=ie.get("CA");this._setDefaultAppearance({xref:ge,fillColor:Ce,blendMode:"Multiply",fillAlpha:le,pointsCallback:(ke,Fe)=>(ke.push(`${Fe[0].x} ${Fe[0].y} m`,`${Fe[1].x} ${Fe[1].y} l`,`${Fe[3].x} ${Fe[3].y} l`,`${Fe[2].x} ${Fe[2].y} l`,"f"),[Fe[0].x,Fe[1].x,Fe[3].y,Fe[1].y])})}}else this.data.popupRef=null}}class ce extends d{constructor(te){super(te);const{dict:ie,xref:ge}=te;if(this.data.annotationType=n.AnnotationType.UNDERLINE,this.data.quadPoints=$(ie,null)){if(!this.appearance){const ue=this.color?H(this.color):[0,0,0],we=ie.get("CA");this._setDefaultAppearance({xref:ge,extra:"[] 0 d 0.571 w",strokeColor:ue,strokeAlpha:we,pointsCallback:(Ce,le)=>(Ce.push(`${le[2].x} ${le[2].y+1.3} m`,`${le[3].x} ${le[3].y+1.3} l`,"S"),[le[0].x,le[1].x,le[3].y,le[1].y])})}}else this.data.popupRef=null}}class Ie extends d{constructor(te){super(te);const{dict:ie,xref:ge}=te;if(this.data.annotationType=n.AnnotationType.SQUIGGLY,this.data.quadPoints=$(ie,null)){if(!this.appearance){const ue=this.color?H(this.color):[0,0,0],we=ie.get("CA");this._setDefaultAppearance({xref:ge,extra:"[] 0 d 1 w",strokeColor:ue,strokeAlpha:we,pointsCallback:(Ce,le)=>{const ke=(le[0].y-le[2].y)/6;let Fe=ke,de=le[2].x;const Ee=le[2].y,Oe=le[3].x;Ce.push(`${de} ${Ee+Fe} m`);do de+=2,Fe=Fe===0?ke:0,Ce.push(`${de} ${Ee+Fe} l`);while(de<Oe);return Ce.push("S"),[le[2].x,Oe,Ee-2*ke,Ee+2*ke]}})}}else this.data.popupRef=null}}class fe extends d{constructor(te){super(te);const{dict:ie,xref:ge}=te;if(this.data.annotationType=n.AnnotationType.STRIKEOUT,this.data.quadPoints=$(ie,null)){if(!this.appearance){const ue=this.color?H(this.color):[0,0,0],we=ie.get("CA");this._setDefaultAppearance({xref:ge,extra:"[] 0 d 1 w",strokeColor:ue,strokeAlpha:we,pointsCallback:(Ce,le)=>(Ce.push(`${(le[0].x+le[2].x)/2} ${(le[0].y+le[2].y)/2} m`,`${(le[1].x+le[3].x)/2} ${(le[1].y+le[3].y)/2} l`,"S"),[le[0].x,le[1].x,le[3].y,le[1].y])})}}else this.data.popupRef=null}}class Te extends d{constructor(te){super(te),this.data.annotationType=n.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(te,ie){const{width:ge,height:he}=te,ue=new OffscreenCanvas(ge,he),we=ue.getContext("2d",{alpha:!0});we.drawImage(te,0,0);const Ce=we.getImageData(0,0,ge,he).data,le=new Uint32Array(Ce.buffer),ke=le.some(n.FeatureTest.isLittleEndian?rt=>rt>>>24!==255:rt=>(rt&255)!==255);ke&&(we.fillStyle="white",we.fillRect(0,0,ge,he),we.drawImage(te,0,0));const Fe=ue.convertToBlob({type:"image/jpeg",quality:1}).then(rt=>rt.arrayBuffer()),de=e.Name.get("XObject"),Ee=e.Name.get("Image"),Oe=new e.Dict(ie);Oe.set("Type",de),Oe.set("Subtype",Ee),Oe.set("BitsPerComponent",8),Oe.set("ColorSpace",e.Name.get("DeviceRGB")),Oe.set("Filter",e.Name.get("DCTDecode")),Oe.set("BBox",[0,0,ge,he]),Oe.set("Width",ge),Oe.set("Height",he);let Ne=null;if(ke){const rt=new Uint8Array(le.length);if(n.FeatureTest.isLittleEndian)for(let je=0,$e=le.length;je<$e;je++)rt[je]=le[je]>>>24;else for(let je=0,$e=le.length;je<$e;je++)rt[je]=le[je]&255;const Ge=new e.Dict(ie);Ge.set("Type",de),Ge.set("Subtype",Ee),Ge.set("BitsPerComponent",8),Ge.set("ColorSpace",e.Name.get("DeviceGray")),Ge.set("Width",ge),Ge.set("Height",he),Ne=new t.Stream(rt,0,0,Ge)}return{imageStream:new t.Stream(await Fe,0,0,Oe),smaskStream:Ne,width:ge,height:he}}static createNewDict(te,ie,{apRef:ge,ap:he}){const{rect:ue,rotation:we,user:Ce}=te,le=new e.Dict(ie);if(le.set("Type",e.Name.get("Annot")),le.set("Subtype",e.Name.get("Stamp")),le.set("CreationDate",`D:${(0,n.getModificationDate)()}`),le.set("Rect",ue),le.set("F",4),le.set("Border",[0,0,0]),le.set("Rotate",we),Ce&&le.set("T",(0,x.isAscii)(Ce)?Ce:(0,x.stringToUTF16String)(Ce,!0)),ge||he){const ke=new e.Dict(ie);le.set("AP",ke),ge?ke.set("N",ge):ke.set("N",he)}return le}static async createNewAppearanceStream(te,ie,ge){const{rotation:he}=te,{imageRef:ue,width:we,height:Ce}=ge.image,le=new e.Dict(ie),ke=new e.Dict(ie);le.set("XObject",ke),ke.set("Im0",ue);const Fe=`q ${we} 0 0 ${Ce} 0 0 cm /Im0 Do Q`,de=new e.Dict(ie);if(de.set("FormType",1),de.set("Subtype",e.Name.get("Form")),de.set("Type",e.Name.get("XObject")),de.set("BBox",[0,0,we,Ce]),de.set("Resources",le),he){const Oe=(0,x.getRotationMatrix)(he,we,Ce);de.set("Matrix",Oe)}const Ee=new t.StringStream(Fe);return Ee.dict=de,Ee}}class be extends d{constructor(te){super(te);const{dict:ie,xref:ge}=te,he=new O.FileSpec(ie.get("FS"),ge);this.data.annotationType=n.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=he.serializable;const ue=ie.get("Name");this.data.name=ue instanceof e.Name?(0,n.stringToPDFString)(ue.name):"PushPin";const we=ie.get("ca");this.data.fillAlpha=typeof we=="number"&&we>=0&&we<=1?we:null}}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FakeUnicodeFont=void 0,h.createDefaultAppearance=T,h.getPdfColor=i,h.parseAppearanceStream=p,h.parseDefaultAppearance=O;var n=re(4),x=re(3),U=re(2),e=re(12),t=re(13),o=re(59),K=re(57),X=re(8);class L extends t.EvaluatorPreprocessor{constructor(C){super(new X.StringStream(C))}parse(){const C={fn:0,args:[]},H={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;C.args.length=0,!!this.read(C);){if(this.savedStatesDepth!==0)continue;const{fn:$,args:se}=C;switch($|0){case U.OPS.setFont:const[_,Q]=se;_ instanceof n.Name&&(H.fontName=_.name),typeof Q=="number"&&Q>0&&(H.fontSize=Q);break;case U.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(se,0,H.fontColor,0);break;case U.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(se,0,H.fontColor,0);break;case U.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(se,0,H.fontColor,0);break}}}catch($){(0,U.warn)(`parseDefaultAppearance - ignoring errors: "${$}".`)}return H}}function O(P){return new L(P).parse()}class f extends t.EvaluatorPreprocessor{constructor(C,H,$){var se;super(C),this.stream=C,this.evaluatorOptions=H,this.xref=$,this.resources=(se=C.dict)==null?void 0:se.get("Resources")}parse(){const C={fn:0,args:[]};let H={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:e.ColorSpace.singletons.gray},$=!1;const se=[];try{for(;C.args.length=0,!($||!this.read(C));){const{fn:_,args:Q}=C;switch(_|0){case U.OPS.save:se.push({scaleFactor:H.scaleFactor,fontSize:H.fontSize,fontName:H.fontName,fontColor:H.fontColor.slice(),fillColorSpace:H.fillColorSpace});break;case U.OPS.restore:H=se.pop()||H;break;case U.OPS.setTextMatrix:H.scaleFactor*=Math.hypot(Q[0],Q[1]);break;case U.OPS.setFont:const[d,w]=Q;d instanceof n.Name&&(H.fontName=d.name),typeof w=="number"&&w>0&&(H.fontSize=w*H.scaleFactor);break;case U.OPS.setFillColorSpace:H.fillColorSpace=e.ColorSpace.parse({cs:Q[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case U.OPS.setFillColor:H.fillColorSpace.getRgbItem(Q,0,H.fontColor,0);break;case U.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(Q,0,H.fontColor,0);break;case U.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(Q,0,H.fontColor,0);break;case U.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(Q,0,H.fontColor,0);break;case U.OPS.showText:case U.OPS.showSpacedText:case U.OPS.nextLineShowText:case U.OPS.nextLineSetSpacingShowText:$=!0;break}}}catch(_){(0,U.warn)(`parseAppearanceStream - ignoring errors: "${_}".`)}return this.stream.reset(),delete H.scaleFactor,delete H.fillColorSpace,H}get _localColorSpaceCache(){return(0,U.shadow)(this,"_localColorSpaceCache",new o.LocalColorSpaceCache)}get _pdfFunctionFactory(){const C=new K.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,U.shadow)(this,"_pdfFunctionFactory",C)}}function p(P,C,H){return new f(P,C,H).parse()}function i(P,C){if(P[0]===P[1]&&P[1]===P[2]){const H=P[0]/255;return`${(0,x.numberToString)(H)} ${C?"g":"G"}`}return Array.from(P,H=>(0,x.numberToString)(H/255)).join(" ")+` ${C?"rg":"RG"}`}function T({fontSize:P,fontName:C,fontColor:H}){return`/${(0,x.escapePDFName)(C)} ${P} Tf ${i(H,!0)}`}class F{constructor(C,H){this.xref=C,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=H;const $=new OffscreenCanvas(1,1);this.ctxMeasure=$.getContext("2d"),F._fontNameId||(F._fontNameId=1),this.fontName=n.Name.get(`InvalidPDFjsFont_${H}_${F._fontNameId++}`)}get toUnicodeRef(){if(!F._toUnicodeRef){const C=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,H=F.toUnicodeStream=new X.StringStream(C),$=new n.Dict(this.xref);H.dict=$,$.set("Length",C.length),F._toUnicodeRef=this.xref.getNewPersistentRef(H)}return F._toUnicodeRef}get fontDescriptorRef(){if(!F._fontDescriptorRef){const C=new n.Dict(this.xref);C.set("Type",n.Name.get("FontDescriptor")),C.set("FontName",this.fontName),C.set("FontFamily","MyriadPro Regular"),C.set("FontBBox",[0,0,0,0]),C.set("FontStretch",n.Name.get("Normal")),C.set("FontWeight",400),C.set("ItalicAngle",0),F._fontDescriptorRef=this.xref.getNewPersistentRef(C)}return F._fontDescriptorRef}get descendantFontRef(){const C=new n.Dict(this.xref);C.set("BaseFont",this.fontName),C.set("Type",n.Name.get("Font")),C.set("Subtype",n.Name.get("CIDFontType0")),C.set("CIDToGIDMap",n.Name.get("Identity")),C.set("FirstChar",this.firstChar),C.set("LastChar",this.lastChar),C.set("FontDescriptor",this.fontDescriptorRef),C.set("DW",1e3);const H=[],$=[...this.widths.entries()].sort();let se=null,_=null;for(const[d,w]of $){if(!se){se=d,_=[w];continue}d===se+_.length?_.push(w):(H.push(se,_),se=d,_=[w])}se&&H.push(se,_),C.set("W",H);const Q=new n.Dict(this.xref);return Q.set("Ordering","Identity"),Q.set("Registry","Adobe"),Q.set("Supplement",0),C.set("CIDSystemInfo",Q),this.xref.getNewPersistentRef(C)}get baseFontRef(){const C=new n.Dict(this.xref);return C.set("BaseFont",this.fontName),C.set("Type",n.Name.get("Font")),C.set("Subtype",n.Name.get("Type0")),C.set("Encoding",n.Name.get("Identity-H")),C.set("DescendantFonts",[this.descendantFontRef]),C.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(C)}get resources(){const C=new n.Dict(this.xref),H=new n.Dict(this.xref);return H.set(this.fontName.name,this.baseFontRef),C.set("Font",H),C}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(C){const H=this._createContext();for(const $ of C.split(/\r\n?|\n/))for(const se of $.split("")){const _=se.charCodeAt(0);if(this.widths.has(_))continue;const Q=H.measureText(se),d=Math.ceil(Q.width);this.widths.set(_,d),this.firstChar=Math.min(_,this.firstChar),this.lastChar=Math.max(_,this.lastChar)}return this.resources}createAppearance(C,H,$,se,_,Q){const d=this._createContext(),w=[];let q=-1/0;for(const be of C.split(/\r\n?|\n/)){w.push(be);const ve=d.measureText(be).width;q=Math.max(q,ve);for(const te of be.split("")){const ie=te.charCodeAt(0);let ge=this.widths.get(ie);if(ge===void 0){const he=d.measureText(te);ge=Math.ceil(he.width),this.widths.set(ie,ge),this.firstChar=Math.min(ie,this.firstChar),this.lastChar=Math.max(ie,this.lastChar)}}}q*=se/1e3;const[l,b,D,Z]=H;let N=D-l,v=Z-b;$%180!==0&&([N,v]=[v,N]);let S=1;q>N&&(S=N/q);let I=1;const u=U.LINE_FACTOR*se,y=U.LINE_DESCENT_FACTOR*se,r=u*w.length;r>v&&(I=v/r);const A=Math.min(S,I),E=se*A,G=["q",`0 0 ${(0,x.numberToString)(N)} ${(0,x.numberToString)(v)} re W n`,"BT",`1 0 0 1 0 ${(0,x.numberToString)(v+y)} Tm 0 Tc ${i(_,!0)}`,`/${this.fontName.name} ${(0,x.numberToString)(E)} Tf`],{resources:ae}=this;if(Q=typeof Q=="number"&&Q>=0&&Q<=1?Q:1,Q!==1){G.push("/R0 gs");const be=new n.Dict(this.xref),ve=new n.Dict(this.xref);ve.set("ca",Q),ve.set("CA",Q),ve.set("Type",n.Name.get("ExtGState")),be.set("R0",ve),ae.set("ExtGState",be)}const ce=(0,x.numberToString)(u);for(const be of w)G.push(`0 -${ce} Td <${(0,x.stringToUTF16HexString)(be)}> Tj`);G.push("ET","Q");const Ie=G.join(`
`),fe=new n.Dict(this.xref);if(fe.set("Subtype",n.Name.get("Form")),fe.set("Type",n.Name.get("XObject")),fe.set("BBox",[0,0,N,v]),fe.set("Length",Ie.length),fe.set("Resources",ae),$){const be=(0,x.getRotationMatrix)($,N,v);fe.set("Matrix",be)}const Te=new X.StringStream(Ie);return Te.dict=fe,Te}}h.FakeUnicodeFont=F},(Pe,h,re)=>{var P,R0,H,Q0,se,_,Q,d,w,q,l,b,D,Ba,N,Jh,S,Zh,u,EA,r,Ca,E,Fa,ae,ed,Ie,td,Te,nd,ve,N0,ge,kA,ue,IA,Ce,H0;Object.defineProperty(h,"__esModule",{value:!0}),h.ColorSpace=void 0;var n=re(2),x=re(4),U=re(5),e=re(3);function t(ke,Fe,de,Ee,Oe,Ne,et){et=et!==1?0:et;const Ge=de/Oe,je=Ee/Ne;let $e=0,ze;const at=new Uint16Array(Oe),mt=de*3;for(let At=0;At<Oe;At++)at[At]=Math.floor(At*Ge)*3;for(let At=0;At<Ne;At++){const Qe=Math.floor(At*je)*mt;for(let Ke=0;Ke<Oe;Ke++)ze=Qe+at[Ke],Fe[$e++]=ke[ze++],Fe[$e++]=ke[ze++],Fe[$e++]=ke[ze++],$e+=et}}class o{constructor(Fe,de){this.constructor===o&&(0,n.unreachable)("Cannot initialize ColorSpace."),this.name=Fe,this.numComps=de}getRgb(Fe,de){const Ee=new Uint8ClampedArray(3);return this.getRgbItem(Fe,de,Ee,0),Ee}getRgbItem(Fe,de,Ee,Oe){(0,n.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(Fe,de,Ee,Oe,Ne,et,rt){(0,n.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(Fe,de){(0,n.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(Fe){return!1}isDefaultDecode(Fe,de){return o.isDefaultDecode(Fe,this.numComps)}fillRgb(Fe,de,Ee,Oe,Ne,et,rt,Ge,je){const $e=de*Ee;let ze=null;const at=1<<rt,mt=Ee!==Ne||de!==Oe;if(this.isPassthrough(rt))ze=Ge;else if(this.numComps===1&&$e>at&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const At=rt<=8?new Uint8Array(at):new Uint16Array(at);for(let Ke=0;Ke<at;Ke++)At[Ke]=Ke;const Qe=new Uint8ClampedArray(at*3);if(this.getRgbBuffer(At,0,at,Qe,0,rt,0),mt){ze=new Uint8Array($e*3);let Ke=0;for(let pt=0;pt<$e;++pt){const st=Ge[pt]*3;ze[Ke++]=Qe[st],ze[Ke++]=Qe[st+1],ze[Ke++]=Qe[st+2]}}else{let Ke=0;for(let pt=0;pt<$e;++pt){const st=Ge[pt]*3;Fe[Ke++]=Qe[st],Fe[Ke++]=Qe[st+1],Fe[Ke++]=Qe[st+2],Ke+=je}}}else mt?(ze=new Uint8ClampedArray($e*3),this.getRgbBuffer(Ge,0,$e,ze,0,rt,0)):this.getRgbBuffer(Ge,0,Oe*et,Fe,0,rt,je);if(ze)if(mt)t(ze,Fe,de,Ee,Oe,Ne,je);else{let At=0,Qe=0;for(let Ke=0,pt=Oe*et;Ke<pt;Ke++)Fe[At++]=ze[Qe++],Fe[At++]=ze[Qe++],Fe[At++]=ze[Qe++],At+=je}}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!0)}static _cache(Fe,de,Ee,Oe){if(!Ee)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!Oe)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let Ne,et;Fe instanceof x.Ref&&(et=Fe,Fe=de.fetch(Fe)),Fe instanceof x.Name&&(Ne=Fe.name),(Ne||et)&&Ee.set(Ne,et,Oe)}static getCached(Fe,de,Ee){if(!Ee)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(Fe instanceof x.Ref){const Oe=Ee.getByRef(Fe);if(Oe)return Oe;try{Fe=de.fetch(Fe)}catch(Ne){if(Ne instanceof e.MissingDataException)throw Ne}}if(Fe instanceof x.Name){const Oe=Ee.getByName(Fe.name);if(Oe)return Oe}return null}static async parseAsync({cs:Fe,xref:de,resources:Ee=null,pdfFunctionFactory:Oe,localColorSpaceCache:Ne}){const et=this._parse(Fe,de,Ee,Oe);return this._cache(Fe,de,Ne,et),et}static parse({cs:Fe,xref:de,resources:Ee=null,pdfFunctionFactory:Oe,localColorSpaceCache:Ne}){const et=this.getCached(Fe,de,Ne);if(et)return et;const rt=this._parse(Fe,de,Ee,Oe);return this._cache(Fe,de,Ne,rt),rt}static _parse(Fe,de,Ee=null,Oe){if(Fe=de.fetchIfRef(Fe),Fe instanceof x.Name)switch(Fe.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new X(null);default:if(Ee instanceof x.Dict){const Ne=Ee.get("ColorSpace");if(Ne instanceof x.Dict){const et=Ne.get(Fe.name);if(et){if(et instanceof x.Name)return this._parse(et,de,Ee,Oe);Fe=et;break}}}throw new n.FormatError(`Unrecognized ColorSpace: ${Fe.name}`)}if(Array.isArray(Fe)){const Ne=de.fetchIfRef(Fe[0]).name;let et,rt,Ge,je,$e,ze;switch(Ne){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return et=de.fetchIfRef(Fe[1]),je=et.getArray("WhitePoint"),$e=et.getArray("BlackPoint"),ze=et.get("Gamma"),new i(je,$e,ze);case"CalRGB":et=de.fetchIfRef(Fe[1]),je=et.getArray("WhitePoint"),$e=et.getArray("BlackPoint"),ze=et.getArray("Gamma");const at=et.getArray("Matrix");return new T(je,$e,ze,at);case"ICCBased":const At=de.fetchIfRef(Fe[1]).dict;rt=At.get("N");const Qe=At.get("Alternate");if(Qe){const zn=this._parse(Qe,de,Ee,Oe);if(zn.numComps===rt)return zn;(0,n.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(rt===1)return this.singletons.gray;if(rt===3)return this.singletons.rgb;if(rt===4)return this.singletons.cmyk;break;case"Pattern":return Ge=Fe[1]||null,Ge&&(Ge=this._parse(Ge,de,Ee,Oe)),new X(Ge);case"I":case"Indexed":Ge=this._parse(Fe[1],de,Ee,Oe);const Ke=de.fetchIfRef(Fe[2])+1,pt=de.fetchIfRef(Fe[3]);return new L(Ge,Ke,pt);case"Separation":case"DeviceN":const st=de.fetchIfRef(Fe[1]);rt=Array.isArray(st)?st.length:1,Ge=this._parse(Fe[2],de,Ee,Oe);const St=Oe.create(Fe[3]);return new K(rt,Ge,St);case"Lab":et=de.fetchIfRef(Fe[1]),je=et.getArray("WhitePoint"),$e=et.getArray("BlackPoint");const kt=et.getArray("Range");return new F(je,$e,kt);default:throw new n.FormatError(`Unimplemented ColorSpace object: ${Ne}`)}}throw new n.FormatError(`Unrecognized ColorSpace object: ${Fe}`)}static isDefaultDecode(Fe,de){if(!Array.isArray(Fe))return!0;if(de*2!==Fe.length)return(0,n.warn)("The decode map is not the correct length"),!0;for(let Ee=0,Oe=Fe.length;Ee<Oe;Ee+=2)if(Fe[Ee]!==0||Fe[Ee+1]!==1)return!1;return!0}static get singletons(){return(0,n.shadow)(this,"singletons",{get gray(){return(0,n.shadow)(this,"gray",new O)},get rgb(){return(0,n.shadow)(this,"rgb",new f)},get cmyk(){return(0,n.shadow)(this,"cmyk",new p)}})}}h.ColorSpace=o;class K extends o{constructor(Fe,de,Ee){super("Alternate",Fe),this.base=de,this.tintFn=Ee,this.tmpBuf=new Float32Array(de.numComps)}getRgbItem(Fe,de,Ee,Oe){const Ne=this.tmpBuf;this.tintFn(Fe,de,Ne,0),this.base.getRgbItem(Ne,0,Ee,Oe)}getRgbBuffer(Fe,de,Ee,Oe,Ne,et,rt){const Ge=this.tintFn,je=this.base,$e=1/((1<<et)-1),ze=je.numComps,at=je.usesZeroToOneRange,mt=(je.isPassthrough(8)||!at)&&rt===0;let At=mt?Ne:0;const Qe=mt?Oe:new Uint8ClampedArray(ze*Ee),Ke=this.numComps,pt=new Float32Array(Ke),st=new Float32Array(ze);let St,kt;for(St=0;St<Ee;St++){for(kt=0;kt<Ke;kt++)pt[kt]=Fe[de++]*$e;if(Ge(pt,0,st,0),at)for(kt=0;kt<ze;kt++)Qe[At++]=st[kt]*255;else je.getRgbItem(st,0,Qe,At),At+=ze}mt||je.getRgbBuffer(Qe,0,Ee,Oe,Ne,8,rt)}getOutputLength(Fe,de){return this.base.getOutputLength(Fe*this.base.numComps/this.numComps,de)}}class X extends o{constructor(Fe){super("Pattern",null),this.base=Fe}isDefaultDecode(Fe,de){(0,n.unreachable)("Should not call PatternCS.isDefaultDecode")}}class L extends o{constructor(Fe,de,Ee){super("Indexed",1),this.base=Fe,this.highVal=de;const Oe=Fe.numComps*de;if(this.lookup=new Uint8Array(Oe),Ee instanceof U.BaseStream){const Ne=Ee.getBytes(Oe);this.lookup.set(Ne)}else if(typeof Ee=="string")for(let Ne=0;Ne<Oe;++Ne)this.lookup[Ne]=Ee.charCodeAt(Ne)&255;else throw new n.FormatError(`IndexedCS - unrecognized lookup table: ${Ee}`)}getRgbItem(Fe,de,Ee,Oe){const Ne=this.base.numComps,et=Fe[de]*Ne;this.base.getRgbBuffer(this.lookup,et,1,Ee,Oe,8,0)}getRgbBuffer(Fe,de,Ee,Oe,Ne,et,rt){const Ge=this.base,je=Ge.numComps,$e=Ge.getOutputLength(je,rt),ze=this.lookup;for(let at=0;at<Ee;++at){const mt=Fe[de++]*je;Ge.getRgbBuffer(ze,mt,1,Oe,Ne,8,rt),Ne+=$e}}getOutputLength(Fe,de){return this.base.getOutputLength(Fe*this.base.numComps,de)}isDefaultDecode(Fe,de){return Array.isArray(Fe)?Fe.length!==2?((0,n.warn)("Decode map length is not correct"),!0):!Number.isInteger(de)||de<1?((0,n.warn)("Bits per component is not correct"),!0):Fe[0]===0&&Fe[1]===(1<<de)-1:!0}}class O extends o{constructor(){super("DeviceGray",1)}getRgbItem(Fe,de,Ee,Oe){const Ne=Fe[de]*255;Ee[Oe]=Ee[Oe+1]=Ee[Oe+2]=Ne}getRgbBuffer(Fe,de,Ee,Oe,Ne,et,rt){const Ge=255/((1<<et)-1);let je=de,$e=Ne;for(let ze=0;ze<Ee;++ze){const at=Ge*Fe[je++];Oe[$e++]=at,Oe[$e++]=at,Oe[$e++]=at,$e+=rt}}getOutputLength(Fe,de){return Fe*(3+de)}}class f extends o{constructor(){super("DeviceRGB",3)}getRgbItem(Fe,de,Ee,Oe){Ee[Oe]=Fe[de]*255,Ee[Oe+1]=Fe[de+1]*255,Ee[Oe+2]=Fe[de+2]*255}getRgbBuffer(Fe,de,Ee,Oe,Ne,et,rt){if(et===8&&rt===0){Oe.set(Fe.subarray(de,de+Ee*3),Ne);return}const Ge=255/((1<<et)-1);let je=de,$e=Ne;for(let ze=0;ze<Ee;++ze)Oe[$e++]=Ge*Fe[je++],Oe[$e++]=Ge*Fe[je++],Oe[$e++]=Ge*Fe[je++],$e+=rt}getOutputLength(Fe,de){return Fe*(3+de)/3|0}isPassthrough(Fe){return Fe===8}}class p extends o{constructor(){super("DeviceCMYK",4);ct(this,P)}getRgbItem(de,Ee,Oe,Ne){dt(this,P,R0).call(this,de,Ee,1,Oe,Ne)}getRgbBuffer(de,Ee,Oe,Ne,et,rt,Ge){const je=1/((1<<rt)-1);for(let $e=0;$e<Oe;$e++)dt(this,P,R0).call(this,de,Ee,je,Ne,et),Ee+=4,et+=3+Ge}getOutputLength(de,Ee){return de/4*(3+Ee)|0}}P=new WeakSet,R0=function(de,Ee,Oe,Ne,et){const rt=de[Ee]*Oe,Ge=de[Ee+1]*Oe,je=de[Ee+2]*Oe,$e=de[Ee+3]*Oe;Ne[et]=255+rt*(-4.387332384609988*rt+54.48615194189176*Ge+18.82290502165302*je+212.25662451639585*$e+-285.2331026137004)+Ge*(1.7149763477362134*Ge-5.6096736904047315*je+-17.873870861415444*$e-5.497006427196366)+je*(-2.5217340131683033*je-21.248923337353073*$e+17.5119270841813)+$e*(-21.86122147463605*$e-189.48180835922747),Ne[et+1]=255+rt*(8.841041422036149*rt+60.118027045597366*Ge+6.871425592049007*je+31.159100130055922*$e+-79.2970844816548)+Ge*(-15.310361306967817*Ge+17.575251261109482*je+131.35250912493976*$e-190.9453302588951)+je*(4.444339102852739*je+9.8632861493405*$e-24.86741582555878)+$e*(-20.737325471181034*$e-187.80453709719578),Ne[et+2]=255+rt*(.8842522430003296*rt+8.078677503112928*Ge+30.89978309703729*je-.23883238689178934*$e+-14.183576799673286)+Ge*(10.49593273432072*Ge+63.02378494754052*je+50.606957656360734*$e-112.23884253719248)+je*(.03296041114873217*je+115.60384449646641*$e+-193.58209356861505)+$e*(-22.33816807309886*$e-180.12613974708367)};class i extends o{constructor(de,Ee,Oe){super("CalGray",1);ct(this,H);if(!de)throw new n.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=de,[this.XB,this.YB,this.ZB]=Ee||[0,0,0],this.G=Oe||1,this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,n.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,n.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(de,Ee,Oe,Ne){dt(this,H,Q0).call(this,de,Ee,Oe,Ne,1)}getRgbBuffer(de,Ee,Oe,Ne,et,rt,Ge){const je=1/((1<<rt)-1);for(let $e=0;$e<Oe;++$e)dt(this,H,Q0).call(this,de,Ee,Ne,et,je),Ee+=1,et+=3+Ge}getOutputLength(de,Ee){return de*(3+Ee)}}H=new WeakSet,Q0=function(de,Ee,Oe,Ne,et){const Ge=(de[Ee]*et)**this.G,je=this.YW*Ge,$e=Math.max(295.8*je**.3333333333333333-40.8,0);Oe[Ne]=$e,Oe[Ne+1]=$e,Oe[Ne+2]=$e};const ie=class ie extends o{constructor(de,Ee,Oe,Ne){super("CalRGB",3);ct(this,D);ct(this,N);ct(this,S);ct(this,u);ct(this,r);ct(this,E);ct(this,ae);ct(this,Ie);ct(this,Te);ct(this,ve);if(!de)throw new n.FormatError("WhitePoint missing - required for color space CalRGB");const[et,rt,Ge]=this.whitePoint=de,[je,$e,ze]=this.blackPoint=Ee||new Float32Array(3);if([this.GR,this.GG,this.GB]=Oe||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=Ne||new Float32Array([1,0,0,0,1,0,0,0,1]),et<0||Ge<0||rt!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(je<0||$e<0||ze<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name} [${je}, ${$e}, ${ze}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,n.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(de,Ee,Oe,Ne){dt(this,ve,N0).call(this,de,Ee,Oe,Ne,1)}getRgbBuffer(de,Ee,Oe,Ne,et,rt,Ge){const je=1/((1<<rt)-1);for(let $e=0;$e<Oe;++$e)dt(this,ve,N0).call(this,de,Ee,Ne,et,je),Ee+=3,et+=3+Ge}getOutputLength(de,Ee){return de*(3+Ee)/3|0}};se=new WeakMap,_=new WeakMap,Q=new WeakMap,d=new WeakMap,w=new WeakMap,q=new WeakMap,l=new WeakMap,b=new WeakMap,D=new WeakSet,Ba=function(de,Ee,Oe){Oe[0]=de[0]*Ee[0]+de[1]*Ee[1]+de[2]*Ee[2],Oe[1]=de[3]*Ee[0]+de[4]*Ee[1]+de[5]*Ee[2],Oe[2]=de[6]*Ee[0]+de[7]*Ee[1]+de[8]*Ee[2]},N=new WeakSet,Jh=function(de,Ee,Oe){Oe[0]=Ee[0]*1/de[0],Oe[1]=Ee[1]*1/de[1],Oe[2]=Ee[2]*1/de[2]},S=new WeakSet,Zh=function(de,Ee,Oe){Oe[0]=Ee[0]*.95047/de[0],Oe[1]=Ee[1]*1/de[1],Oe[2]=Ee[2]*1.08883/de[2]},u=new WeakSet,EA=function(de){return de<=.0031308?dt(this,r,Ca).call(this,0,1,12.92*de):de>=.99554525?1:dt(this,r,Ca).call(this,0,1,1.055*de**.4166666666666667-.055)},r=new WeakSet,Ca=function(de,Ee,Oe){return Math.max(de,Math.min(Ee,Oe))},E=new WeakSet,Fa=function(de){return de<0?-dt(this,E,Fa).call(this,-de):de>8?((de+16)/116)**3:de*Ue(ie,b)},ae=new WeakSet,ed=function(de,Ee,Oe){if(de[0]===0&&de[1]===0&&de[2]===0){Oe[0]=Ee[0],Oe[1]=Ee[1],Oe[2]=Ee[2];return}const Ne=dt(this,E,Fa).call(this,0),et=Ne,rt=dt(this,E,Fa).call(this,de[0]),Ge=Ne,je=dt(this,E,Fa).call(this,de[1]),$e=Ne,ze=dt(this,E,Fa).call(this,de[2]),at=(1-et)/(1-rt),mt=1-at,At=(1-Ge)/(1-je),Qe=1-At,Ke=(1-$e)/(1-ze),pt=1-Ke;Oe[0]=Ee[0]*at+mt,Oe[1]=Ee[1]*At+Qe,Oe[2]=Ee[2]*Ke+pt},Ie=new WeakSet,td=function(de,Ee,Oe){if(de[0]===1&&de[2]===1){Oe[0]=Ee[0],Oe[1]=Ee[1],Oe[2]=Ee[2];return}const Ne=Oe;dt(this,D,Ba).call(this,Ue(ie,se),Ee,Ne);const et=Ue(ie,w);dt(this,N,Jh).call(this,de,Ne,et),dt(this,D,Ba).call(this,Ue(ie,_),et,Oe)},Te=new WeakSet,nd=function(de,Ee,Oe){const Ne=Oe;dt(this,D,Ba).call(this,Ue(ie,se),Ee,Ne);const et=Ue(ie,w);dt(this,S,Zh).call(this,de,Ne,et),dt(this,D,Ba).call(this,Ue(ie,_),et,Oe)},ve=new WeakSet,N0=function(de,Ee,Oe,Ne,et){const rt=dt(this,r,Ca).call(this,0,1,de[Ee]*et),Ge=dt(this,r,Ca).call(this,0,1,de[Ee+1]*et),je=dt(this,r,Ca).call(this,0,1,de[Ee+2]*et),$e=rt===1?1:rt**this.GR,ze=Ge===1?1:Ge**this.GG,at=je===1?1:je**this.GB,mt=this.MXA*$e+this.MXB*ze+this.MXC*at,At=this.MYA*$e+this.MYB*ze+this.MYC*at,Qe=this.MZA*$e+this.MZB*ze+this.MZC*at,Ke=Ue(ie,q);Ke[0]=mt,Ke[1]=At,Ke[2]=Qe;const pt=Ue(ie,l);dt(this,Ie,td).call(this,this.whitePoint,Ke,pt);const st=Ue(ie,q);dt(this,ae,ed).call(this,this.blackPoint,pt,st);const St=Ue(ie,l);dt(this,Te,nd).call(this,Ue(ie,d),st,St);const kt=Ue(ie,q);dt(this,D,Ba).call(this,Ue(ie,Q),St,kt),Oe[Ne]=dt(this,u,EA).call(this,kt[0])*255,Oe[Ne+1]=dt(this,u,EA).call(this,kt[1])*255,Oe[Ne+2]=dt(this,u,EA).call(this,kt[2])*255},ct(ie,se,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),ct(ie,_,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),ct(ie,Q,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),ct(ie,d,new Float32Array([1,1,1])),ct(ie,w,new Float32Array(3)),ct(ie,q,new Float32Array(3)),ct(ie,l,new Float32Array(3)),ct(ie,b,.0011070564598794539);let T=ie;class F extends o{constructor(de,Ee,Oe){super("Lab",3);ct(this,ge);ct(this,ue);ct(this,Ce);if(!de)throw new n.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=de,[this.amin,this.amax,this.bmin,this.bmax]=Oe||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=Ee||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,n.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(de,Ee,Oe,Ne){dt(this,Ce,H0).call(this,de,Ee,!1,Oe,Ne)}getRgbBuffer(de,Ee,Oe,Ne,et,rt,Ge){const je=(1<<rt)-1;for(let $e=0;$e<Oe;$e++)dt(this,Ce,H0).call(this,de,Ee,je,Ne,et),Ee+=3,et+=3+Ge}getOutputLength(de,Ee){return de*(3+Ee)/3|0}isDefaultDecode(de,Ee){return!0}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!1)}}ge=new WeakSet,kA=function(de){return de>=.20689655172413793?de**3:.12841854934601665*(de-.13793103448275862)},ue=new WeakSet,IA=function(de,Ee,Oe,Ne){return Oe+de*(Ne-Oe)/Ee},Ce=new WeakSet,H0=function(de,Ee,Oe,Ne,et){let rt=de[Ee],Ge=de[Ee+1],je=de[Ee+2];Oe!==!1&&(rt=dt(this,ue,IA).call(this,rt,Oe,0,100),Ge=dt(this,ue,IA).call(this,Ge,Oe,this.amin,this.amax),je=dt(this,ue,IA).call(this,je,Oe,this.bmin,this.bmax)),Ge>this.amax?Ge=this.amax:Ge<this.amin&&(Ge=this.amin),je>this.bmax?je=this.bmax:je<this.bmin&&(je=this.bmin);const $e=(rt+16)/116,ze=$e+Ge/500,at=$e-je/200,mt=this.XW*dt(this,ge,kA).call(this,ze),At=this.YW*dt(this,ge,kA).call(this,$e),Qe=this.ZW*dt(this,ge,kA).call(this,at);let Ke,pt,st;this.ZW<1?(Ke=mt*3.1339+At*-1.617+Qe*-.4906,pt=mt*-.9785+At*1.916+Qe*.0333,st=mt*.072+At*-.229+Qe*1.4057):(Ke=mt*3.2406+At*-1.5372+Qe*-.4986,pt=mt*-.9689+At*1.8758+Qe*.0415,st=mt*.0557+At*-.204+Qe*1.057),Ne[et]=Math.sqrt(Ke)*255,Ne[et+1]=Math.sqrt(pt)*255,Ne[et+2]=Math.sqrt(st)*255}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PartialEvaluator=h.EvaluatorPreprocessor=void 0;var n=re(2),x=re(14),U=re(4),e=re(34),t=re(37),o=re(41),K=re(50),X=re(51),L=re(42),O=re(57),f=re(16),p=re(59),i=re(8),T=re(5),F=re(60),P=re(12),C=re(18),H=re(38),$=re(61),se=re(39),_=re(45),Q=re(40),d=re(62),w=re(63),q=re(64),l=re(65);const b=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),D={TILING:1,SHADING:2},Z=10,N=Promise.resolve();function v(Ie,fe=!1){if(Array.isArray(Ie)){for(const Te of Ie){const be=v(Te,!0);if(be)return be}return(0,n.warn)(`Unsupported blend mode Array: ${Ie}`),"source-over"}if(!(Ie instanceof U.Name))return fe?null:"source-over";switch(Ie.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return fe?null:((0,n.warn)(`Unsupported blend mode: ${Ie.name}`),"source-over")}function S(Ie){var fe;Ie.fn===n.OPS.paintImageMaskXObject&&((fe=Ie.args[0])==null?void 0:fe.count)>0&&Ie.args[0].count++}const ae=class ae{constructor(){this.reset()}check(){return++this.checked<ae.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+ae.TIME_SLOT_DURATION_MS,this.checked=0}};br(ae,"TIME_SLOT_DURATION_MS",20),br(ae,"CHECK_TIME_EVERY",100);let I=ae;class u{constructor({xref:fe,handler:Te,pageIndex:be,idFactory:ve,fontCache:te,builtInCMapCache:ie,standardFontDataCache:ge,globalImageCache:he,systemFontCache:ue,options:we=null}){this.xref=fe,this.handler=Te,this.pageIndex=be,this.idFactory=ve,this.fontCache=te,this.builtInCMapCache=ie,this.standardFontDataCache=ge,this.globalImageCache=he,this.systemFontCache=ue,this.options=we||b,this.parsingType3Font=!1,this._regionalImageCache=new p.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),d.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const fe=new O.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,n.shadow)(this,"_pdfFunctionFactory",fe)}clone(fe=null){const Te=Object.create(this);return Te.options=Object.assign(Object.create(null),this.options,fe),Te}hasBlendModes(fe,Te){if(!(fe instanceof U.Dict)||fe.objId&&Te.has(fe.objId))return!1;const be=new U.RefSet(Te);fe.objId&&be.put(fe.objId);const ve=[fe],te=this.xref;for(;ve.length;){const ie=ve.shift(),ge=ie.get("ExtGState");if(ge instanceof U.Dict)for(let ue of ge.getRawValues()){if(ue instanceof U.Ref){if(be.has(ue))continue;try{ue=te.fetch(ue)}catch(Ce){be.put(ue),(0,n.info)(`hasBlendModes - ignoring ExtGState: "${Ce}".`);continue}}if(!(ue instanceof U.Dict))continue;ue.objId&&be.put(ue.objId);const we=ue.get("BM");if(we instanceof U.Name){if(we.name!=="Normal")return!0;continue}if(we!==void 0&&Array.isArray(we)){for(const Ce of we)if(Ce instanceof U.Name&&Ce.name!=="Normal")return!0}}const he=ie.get("XObject");if(he instanceof U.Dict)for(let ue of he.getRawValues()){if(ue instanceof U.Ref){if(be.has(ue))continue;try{ue=te.fetch(ue)}catch(Ce){be.put(ue),(0,n.info)(`hasBlendModes - ignoring XObject: "${Ce}".`);continue}}if(!(ue instanceof T.BaseStream))continue;ue.dict.objId&&be.put(ue.dict.objId);const we=ue.dict.get("Resources");we instanceof U.Dict&&(we.objId&&be.has(we.objId)||(ve.push(we),we.objId&&be.put(we.objId)))}}for(const ie of be)Te.put(ie);return!1}async fetchBuiltInCMap(fe){const Te=this.builtInCMapCache.get(fe);if(Te)return Te;let be;if(this.options.cMapUrl!==null){const ve=`${this.options.cMapUrl}${fe}.bcmap`,te=await fetch(ve);if(!te.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${ve}" with "${te.statusText}".`);be={cMapData:new Uint8Array(await te.arrayBuffer()),compressionType:n.CMapCompressionType.BINARY}}else be=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:fe});return be.compressionType!==n.CMapCompressionType.NONE&&this.builtInCMapCache.set(fe,be),be}async fetchStandardFontData(fe){const Te=this.standardFontDataCache.get(fe);if(Te)return new i.Stream(Te);if(this.options.useSystemFonts&&fe!=="Symbol"&&fe!=="ZapfDingbats")return null;const be=(0,o.getFontNameToFileMap)(),ve=be[fe];let te;if(this.options.standardFontDataUrl!==null){const ie=`${this.options.standardFontDataUrl}${ve}`,ge=await fetch(ie);ge.ok?te=await ge.arrayBuffer():(0,n.warn)(`fetchStandardFontData: failed to fetch file "${ie}" with "${ge.statusText}".`)}else try{te=await this.handler.sendWithPromise("FetchStandardFontData",{filename:ve})}catch(ie){(0,n.warn)(`fetchStandardFontData: failed to fetch file "${ve}" with "${ie}".`)}return te?(this.standardFontDataCache.set(fe,te),new i.Stream(te)):null}async buildFormXObject(fe,Te,be,ve,te,ie,ge){const he=Te.dict,ue=he.getArray("Matrix");let we=he.getArray("BBox");we=Array.isArray(we)&&we.length===4?n.Util.normalizeRect(we):null;let Ce,le;he.has("OC")&&(Ce=await this.parseMarkedContentProps(he.get("OC"),fe)),Ce!==void 0&&ve.addOp(n.OPS.beginMarkedContentProps,["OC",Ce]);const ke=he.get("Group");if(ke){le={matrix:ue,bbox:we,smask:be,isolated:!1,knockout:!1};const de=ke.get("S");let Ee=null;if((0,U.isName)(de,"Transparency")&&(le.isolated=ke.get("I")||!1,le.knockout=ke.get("K")||!1,ke.has("CS"))){const Oe=ke.getRaw("CS"),Ne=P.ColorSpace.getCached(Oe,this.xref,ge);Ne?Ee=Ne:Ee=await this.parseColorSpace({cs:Oe,resources:fe,localColorSpaceCache:ge})}be!=null&&be.backdrop&&(Ee||(Ee=P.ColorSpace.singletons.rgb),be.backdrop=Ee.getRgb(be.backdrop,0)),ve.addOp(n.OPS.beginGroup,[le])}const Fe=ke?[ue,null]:[ue,we];return ve.addOp(n.OPS.paintFormXObjectBegin,Fe),this.getOperatorList({stream:Te,task:te,resources:he.get("Resources")||fe,operatorList:ve,initialState:ie}).then(function(){ve.addOp(n.OPS.paintFormXObjectEnd,[]),ke&&ve.addOp(n.OPS.endGroup,[le]),Ce!==void 0&&ve.addOp(n.OPS.endMarkedContent,[])})}_sendImgData(fe,Te,be=!1){const ve=Te?[Te.bitmap||Te.data.buffer]:null;return this.parsingType3Font||be?this.handler.send("commonobj",[fe,"Image",Te],ve):this.handler.send("obj",[fe,this.pageIndex,"Image",Te],ve)}async buildPaintImageXObject({resources:fe,image:Te,isInline:be=!1,operatorList:ve,cacheKey:te,localImageCache:ie,localColorSpaceCache:ge}){const he=Te.dict,ue=he.objId,we=he.get("W","Width"),Ce=he.get("H","Height");if(!(we&&typeof we=="number")||!(Ce&&typeof Ce=="number")){(0,n.warn)("Image dimensions are missing, or not numbers.");return}const le=this.options.maxImageSize;if(le!==-1&&we*Ce>le){const rt="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,n.warn)(rt);return}throw new Error(rt)}let ke;he.has("OC")&&(ke=await this.parseMarkedContentProps(he.get("OC"),fe));const Fe=he.get("IM","ImageMask")||!1;let de,Ee;if(Fe){const rt=he.get("I","Interpolate"),Ge=we+7>>3,je=Te.getBytes(Ge*Ce),$e=he.getArray("D","Decode");if(this.parsingType3Font){if(de=l.PDFImage.createRawMask({imgArray:je,width:we,height:Ce,imageIsFromDecodeStream:Te instanceof C.DecodeStream,inverseDecode:($e==null?void 0:$e[0])>0,interpolate:rt}),de.cached=!!te,Ee=[de],ve.addImageOps(n.OPS.paintImageMaskXObject,Ee,ke),te){const at={fn:n.OPS.paintImageMaskXObject,args:Ee,optionalContent:ke};ie.set(te,ue,at),ue&&this._regionalImageCache.set(null,ue,at)}return}if(de=await l.PDFImage.createMask({imgArray:je,width:we,height:Ce,imageIsFromDecodeStream:Te instanceof C.DecodeStream,inverseDecode:($e==null?void 0:$e[0])>0,interpolate:rt,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),de.isSingleOpaquePixel){if(ve.addImageOps(n.OPS.paintSolidColorImageMask,[],ke),te){const at={fn:n.OPS.paintSolidColorImageMask,args:[],optionalContent:ke};ie.set(te,ue,at),ue&&this._regionalImageCache.set(null,ue,at)}return}const ze=`mask_${this.idFactory.createObjId()}`;if(ve.addDependency(ze),this._sendImgData(ze,de),Ee=[{data:ze,width:de.width,height:de.height,interpolate:de.interpolate,count:1}],ve.addImageOps(n.OPS.paintImageMaskXObject,Ee,ke),te){const at={fn:n.OPS.paintImageMaskXObject,args:Ee,optionalContent:ke};ie.set(te,ue,at),ue&&this._regionalImageCache.set(null,ue,at)}return}const Oe=200;if(be&&!he.has("SMask")&&!he.has("Mask")&&we+Ce<Oe){de=await new l.PDFImage({xref:this.xref,res:fe,image:Te,isInline:be,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:ge}).createImageData(!0,!1),ve.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,ve.addImageOps(n.OPS.paintInlineImageXObject,[de],ke);return}let Ne=`img_${this.idFactory.createObjId()}`,et=!1;if(this.parsingType3Font?Ne=`${this.idFactory.getDocId()}_type3_${Ne}`:ue&&(et=this.globalImageCache.shouldCache(ue,this.pageIndex),et&&(Ne=`${this.idFactory.getDocId()}_${Ne}`)),ve.addDependency(Ne),Ee=[Ne,we,Ce],l.PDFImage.buildImage({xref:this.xref,res:fe,image:Te,isInline:be,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:ge}).then(async rt=>{if(de=await rt.createImageData(!1,this.options.isOffscreenCanvasSupported),te&&ue&&et){const Ge=de.bitmap?de.width*de.height*4:de.data.length;this.globalImageCache.addByteSize(ue,Ge)}return this._sendImgData(Ne,de,et)}).catch(rt=>((0,n.warn)(`Unable to decode image "${Ne}": "${rt}".`),this._sendImgData(Ne,null,et))),ve.addImageOps(n.OPS.paintImageXObject,Ee,ke),te){const rt={fn:n.OPS.paintImageXObject,args:Ee,optionalContent:ke};ie.set(te,ue,rt),ue&&(this._regionalImageCache.set(null,ue,rt),et&&((0,n.assert)(!be,"Cannot cache an inline image globally."),this.globalImageCache.setData(ue,{objId:Ne,fn:n.OPS.paintImageXObject,args:Ee,optionalContent:ke,byteSize:0})))}}handleSMask(fe,Te,be,ve,te,ie){const ge=fe.get("G"),he={subtype:fe.get("S").name,backdrop:fe.get("BC")},ue=fe.get("TR");if((0,O.isPDFFunction)(ue)){const we=this._pdfFunctionFactory.create(ue),Ce=new Uint8Array(256),le=new Float32Array(1);for(let ke=0;ke<256;ke++)le[0]=ke/255,we(le,0,le,0),Ce[ke]=le[0]*255|0;he.transferMap=Ce}return this.buildFormXObject(Te,ge,he,be,ve,te.state.clone(),ie)}handleTransferFunction(fe){let Te;if(Array.isArray(fe))Te=fe;else if((0,O.isPDFFunction)(fe))Te=[fe];else return null;const be=[];let ve=0,te=0;for(const ie of Te){const ge=this.xref.fetchIfRef(ie);if(ve++,(0,U.isName)(ge,"Identity")){be.push(null);continue}else if(!(0,O.isPDFFunction)(ge))return null;const he=this._pdfFunctionFactory.create(ge),ue=new Uint8Array(256),we=new Float32Array(1);for(let Ce=0;Ce<256;Ce++)we[0]=Ce/255,he(we,0,we,0),ue[Ce]=we[0]*255|0;be.push(ue),te++}return!(ve===1||ve===4)||te===0?null:be}handleTilingType(fe,Te,be,ve,te,ie,ge,he){const ue=new q.OperatorList,we=U.Dict.merge({xref:this.xref,dictArray:[te.get("Resources"),be]});return this.getOperatorList({stream:ve,task:ge,resources:we,operatorList:ue}).then(function(){const Ce=ue.getIR(),le=(0,K.getTilingPatternIR)(Ce,te,Te);ie.addDependencies(ue.dependencies),ie.addOp(fe,le),te.objId&&he.set(null,te.objId,{operatorListIR:Ce,dict:te})}).catch(Ce=>{if(!(Ce instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`handleTilingType - ignoring pattern: "${Ce}".`);return}throw Ce}})}handleSetFont(fe,Te,be,ve,te,ie,ge=null,he=null){const ue=(Te==null?void 0:Te[0])instanceof U.Name?Te[0].name:null;return this.loadFont(ue,be,fe,ge,he).then(we=>we.font.isType3Font?we.loadType3Data(this,fe,te).then(function(){return ve.addDependencies(we.type3Dependencies),we}).catch(Ce=>new y({loadedName:"g_font_error",font:new e.ErrorFont(`Type3 font load error: ${Ce}`),dict:we.font,evaluatorOptions:this.options})):we).then(we=>(ie.font=we.font,we.send(this.handler),we.loadedName))}handleText(fe,Te){const be=Te.font,ve=be.charsToGlyphs(fe);return be.data&&(Te.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG||Te.fillColorSpace.name==="Pattern"||be.disableFontFace||this.options.disableFontFace)&&u.buildFontPaths(be,ve,this.handler,this.options),ve}ensureStateFont(fe){if(fe.font)return;const Te=new n.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,n.warn)(`ensureStateFont: "${Te}".`);return}throw Te}async setGState({resources:fe,gState:Te,operatorList:be,cacheKey:ve,task:te,stateManager:ie,localGStateCache:ge,localColorSpaceCache:he}){const ue=Te.objId;let we=!0;const Ce=[];let le=Promise.resolve();for(const ke of Te.getKeys()){const Fe=Te.get(ke);switch(ke){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Ce.push([ke,Fe]);break;case"Font":we=!1,le=le.then(()=>this.handleSetFont(fe,null,Fe[0],be,te,ie.state).then(function(Ee){be.addDependency(Ee),Ce.push([ke,[Ee,Fe[1]]])}));break;case"BM":Ce.push([ke,v(Fe)]);break;case"SMask":if((0,U.isName)(Fe,"None")){Ce.push([ke,!1]);break}Fe instanceof U.Dict?(we=!1,le=le.then(()=>this.handleSMask(Fe,fe,be,te,ie,he)),Ce.push([ke,!0])):(0,n.warn)("Unsupported SMask type");break;case"TR":const de=this.handleTransferFunction(Fe);Ce.push([ke,de]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,n.info)("graphic state operator "+ke);break;default:(0,n.info)("Unknown graphic state operator "+ke);break}}return le.then(function(){Ce.length>0&&be.addOp(n.OPS.setGState,[Ce]),we&&ge.set(ve,ue,Ce)})}loadFont(fe,Te,be,ve=null,te=null){const ie=async()=>new y({loadedName:"g_font_error",font:new e.ErrorFont(`Font "${fe}" is not available.`),dict:Te,evaluatorOptions:this.options});let ge;if(Te)Te instanceof U.Ref&&(ge=Te);else{const Fe=be.get("Font");Fe&&(ge=Fe.getRaw(fe))}if(ge){if(this.parsingType3Font&&this.type3FontRefs.has(ge))return ie();if(this.fontCache.has(ge))return this.fontCache.get(ge);Te=this.xref.fetchIfRef(ge)}if(!(Te instanceof U.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,n.warn)(`Font "${fe}" is not available.`),ie();(0,n.warn)(`Font "${fe}" is not available -- attempting to fallback to a default font.`),Te=ve||u.fallbackFontDict}if(Te.cacheKey&&this.fontCache.has(Te.cacheKey))return this.fontCache.get(Te.cacheKey);const he=new n.PromiseCapability;let ue;try{ue=this.preEvaluateFont(Te),ue.cssFontInfo=te}catch(Fe){return(0,n.warn)(`loadFont - preEvaluateFont failed: "${Fe}".`),ie()}const{descriptor:we,hash:Ce}=ue,le=ge instanceof U.Ref;let ke;if(Ce&&we instanceof U.Dict){const Fe=we.fontAliases||(we.fontAliases=Object.create(null));if(Fe[Ce]){const de=Fe[Ce].aliasRef;if(le&&de&&this.fontCache.has(de))return this.fontCache.putAlias(ge,de),this.fontCache.get(ge)}else Fe[Ce]={fontID:this.idFactory.createFontId()};le&&(Fe[Ce].aliasRef=ge),ke=Fe[Ce].fontID}else ke=this.idFactory.createFontId();return(0,n.assert)(ke==null?void 0:ke.startsWith("f"),'The "fontID" must be (correctly) defined.'),le?this.fontCache.put(ge,he.promise):(Te.cacheKey=`cacheKey_${ke}`,this.fontCache.put(Te.cacheKey,he.promise)),Te.loadedName=`${this.idFactory.getDocId()}_${ke}`,this.translateFont(ue).then(Fe=>{he.resolve(new y({loadedName:Te.loadedName,font:Fe,dict:Te,evaluatorOptions:this.options}))}).catch(Fe=>{(0,n.warn)(`loadFont - translateFont failed: "${Fe}".`),he.resolve(new y({loadedName:Te.loadedName,font:new e.ErrorFont(Fe instanceof Error?Fe.message:Fe),dict:Te,evaluatorOptions:this.options}))}),he.promise}buildPath(fe,Te,be,ve=!1){const te=fe.length-1;if(be||(be=[]),te<0||fe.fnArray[te]!==n.OPS.constructPath){ve&&((0,n.warn)(`Encountered path operator "${Te}" inside of a text object.`),fe.addOp(n.OPS.save,null));let ie;switch(Te){case n.OPS.rectangle:const ge=be[0]+be[2],he=be[1]+be[3];ie=[Math.min(be[0],ge),Math.max(be[0],ge),Math.min(be[1],he),Math.max(be[1],he)];break;case n.OPS.moveTo:case n.OPS.lineTo:ie=[be[0],be[0],be[1],be[1]];break;default:ie=[1/0,-1/0,1/0,-1/0];break}fe.addOp(n.OPS.constructPath,[[Te],be,ie]),ve&&fe.addOp(n.OPS.restore,null)}else{const ie=fe.argsArray[te];ie[0].push(Te),ie[1].push(...be);const ge=ie[2];switch(Te){case n.OPS.rectangle:const he=be[0]+be[2],ue=be[1]+be[3];ge[0]=Math.min(ge[0],be[0],he),ge[1]=Math.max(ge[1],be[0],he),ge[2]=Math.min(ge[2],be[1],ue),ge[3]=Math.max(ge[3],be[1],ue);break;case n.OPS.moveTo:case n.OPS.lineTo:ge[0]=Math.min(ge[0],be[0]),ge[1]=Math.max(ge[1],be[0]),ge[2]=Math.min(ge[2],be[1]),ge[3]=Math.max(ge[3],be[1]);break}}}parseColorSpace({cs:fe,resources:Te,localColorSpaceCache:be}){return P.ColorSpace.parseAsync({cs:fe,xref:this.xref,resources:Te,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:be}).catch(ve=>{if(ve instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`parseColorSpace - ignoring ColorSpace: "${ve}".`),null;throw ve})}parseShading({shading:fe,resources:Te,localColorSpaceCache:be,localShadingPatternCache:ve}){let te=ve.get(fe);if(!te){var ie=K.Pattern.parseShading(fe,this.xref,Te,this._pdfFunctionFactory,be);const ge=ie.getIR();te=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(te=`${this.idFactory.getDocId()}_type3_${te}`),ve.set(fe,te),this.parsingType3Font?this.handler.send("commonobj",[te,"Pattern",ge]):this.handler.send("obj",[te,this.pageIndex,"Pattern",ge])}return te}handleColorN(fe,Te,be,ve,te,ie,ge,he,ue,we){const Ce=be.pop();if(Ce instanceof U.Name){const le=te.getRaw(Ce.name),ke=le instanceof U.Ref&&ue.getByRef(le);if(ke)try{const de=ve.base?ve.base.getRgb(be,0):null,Ee=(0,K.getTilingPatternIR)(ke.operatorListIR,ke.dict,de);fe.addOp(Te,Ee);return}catch{}const Fe=this.xref.fetchIfRef(le);if(Fe){const de=Fe instanceof T.BaseStream?Fe.dict:Fe,Ee=de.get("PatternType");if(Ee===D.TILING){const Oe=ve.base?ve.base.getRgb(be,0):null;return this.handleTilingType(Te,Oe,ie,Fe,de,fe,ge,ue)}else if(Ee===D.SHADING){const Oe=de.get("Shading"),Ne=de.getArray("Matrix"),et=this.parseShading({shading:Oe,resources:ie,localColorSpaceCache:he,localShadingPatternCache:we});fe.addOp(Te,["Shading",et,Ne]);return}throw new n.FormatError(`Unknown PatternType: ${Ee}`)}}throw new n.FormatError(`Unknown PatternName: ${Ce}`)}_parseVisibilityExpression(fe,Te,be){if(++Te>10){(0,n.warn)("Visibility expression is too deeply nested");return}const te=fe.length,ie=this.xref.fetchIfRef(fe[0]);if(te<2||!(ie instanceof U.Name)){(0,n.warn)("Invalid visibility expression");return}switch(ie.name){case"And":case"Or":case"Not":be.push(ie.name);break;default:(0,n.warn)(`Invalid operator ${ie.name} in visibility expression`);return}for(let ge=1;ge<te;ge++){const he=fe[ge],ue=this.xref.fetchIfRef(he);if(Array.isArray(ue)){const we=[];be.push(we),this._parseVisibilityExpression(ue,Te,we)}else he instanceof U.Ref&&be.push(he.toString())}}async parseMarkedContentProps(fe,Te){var te;let be;if(fe instanceof U.Name)be=Te.get("Properties").get(fe.name);else if(fe instanceof U.Dict)be=fe;else throw new n.FormatError("Optional content properties malformed.");const ve=(te=be.get("Type"))==null?void 0:te.name;if(ve==="OCG")return{type:ve,id:be.objId};if(ve==="OCMD"){const ie=be.get("VE");if(Array.isArray(ie)){const he=[];if(this._parseVisibilityExpression(ie,0,he),he.length>0)return{type:"OCMD",expression:he}}const ge=be.get("OCGs");if(Array.isArray(ge)||ge instanceof U.Dict){const he=[];if(Array.isArray(ge))for(const ue of ge)he.push(ue.toString());else he.push(ge.objId);return{type:ve,ids:he,policy:be.get("P")instanceof U.Name?be.get("P").name:null,expression:null}}else if(ge instanceof U.Ref)return{type:ve,id:ge.toString()}}return null}getOperatorList({stream:fe,task:Te,resources:be,operatorList:ve,initialState:te=null,fallbackFontDict:ie=null}){if(be||(be=U.Dict.empty),te||(te=new E),!ve)throw new Error('getOperatorList: missing "operatorList" parameter');const ge=this,he=this.xref;let ue=!1;const we=new p.LocalImageCache,Ce=new p.LocalColorSpaceCache,le=new p.LocalGStateCache,ke=new p.LocalTilingPatternCache,Fe=new Map,de=be.get("XObject")||U.Dict.empty,Ee=be.get("Pattern")||U.Dict.empty,Oe=new r(te),Ne=new G(fe,he,Oe),et=new I;function rt(Ge){for(let je=0,$e=Ne.savedStatesDepth;je<$e;je++)ve.addOp(n.OPS.restore,[])}return new Promise(function Ge(je,$e){const ze=function(Ve){Promise.all([Ve,ve.ready]).then(function(){try{Ge(je,$e)}catch(Re){$e(Re)}},$e)};Te.ensureNotTerminated(),et.reset();const at={};let mt,At,Qe,Ke,pt,st;for(;!(mt=et.check())&&(at.args=null,!!Ne.read(at));){let Ve=at.args,Re=at.fn;switch(Re|0){case n.OPS.paintXObject:if(st=Ve[0]instanceof U.Name,pt=Ve[0].name,st){const Ze=we.getByName(pt);if(Ze){ve.addImageOps(Ze.fn,Ze.args,Ze.optionalContent),S(Ze),Ve=null;continue}}ze(new Promise(function(Ze,lt){if(!st)throw new n.FormatError("XObject must be referred to by name.");let gt=de.getRaw(pt);if(gt instanceof U.Ref){const jt=we.getByRef(gt)||ge._regionalImageCache.getByRef(gt);if(jt){ve.addImageOps(jt.fn,jt.args,jt.optionalContent),S(jt),Ze();return}const Mt=ge.globalImageCache.getData(gt,ge.pageIndex);if(Mt){ve.addDependency(Mt.objId),ve.addImageOps(Mt.fn,Mt.args,Mt.optionalContent),Ze();return}gt=he.fetch(gt)}if(!(gt instanceof T.BaseStream))throw new n.FormatError("XObject should be a stream");const xt=gt.dict.get("Subtype");if(!(xt instanceof U.Name))throw new n.FormatError("XObject should have a Name subtype");if(xt.name==="Form"){Oe.save(),ge.buildFormXObject(be,gt,null,ve,Te,Oe.state.clone(),Ce).then(function(){Oe.restore(),Ze()},lt);return}else if(xt.name==="Image"){ge.buildPaintImageXObject({resources:be,image:gt,operatorList:ve,cacheKey:pt,localImageCache:we,localColorSpaceCache:Ce}).then(Ze,lt);return}else if(xt.name==="PS")(0,n.info)("Ignored XObject subtype PS");else throw new n.FormatError(`Unhandled XObject subtype ${xt.name}`);Ze()}).catch(function(Ze){if(!(Ze instanceof n.AbortException)){if(ge.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring XObject: "${Ze}".`);return}throw Ze}}));return;case n.OPS.setFont:var St=Ve[1];ze(ge.handleSetFont(be,Ve,null,ve,Te,Oe.state,ie).then(function(Ze){ve.addDependency(Ze),ve.addOp(n.OPS.setFont,[Ze,St])}));return;case n.OPS.beginText:ue=!0;break;case n.OPS.endText:ue=!1;break;case n.OPS.endInlineImage:var kt=Ve[0].cacheKey;if(kt){const Ze=we.getByName(kt);if(Ze){ve.addImageOps(Ze.fn,Ze.args,Ze.optionalContent),S(Ze),Ve=null;continue}}ze(ge.buildPaintImageXObject({resources:be,image:Ve[0],isInline:!0,operatorList:ve,cacheKey:kt,localImageCache:we,localColorSpaceCache:Ce}));return;case n.OPS.showText:if(!Oe.state.font){ge.ensureStateFont(Oe.state);continue}Ve[0]=ge.handleText(Ve[0],Oe.state);break;case n.OPS.showSpacedText:if(!Oe.state.font){ge.ensureStateFont(Oe.state);continue}var zn=[],ft=Oe.state;for(const Ze of Ve[0])typeof Ze=="string"?zn.push(...ge.handleText(Ze,ft)):typeof Ze=="number"&&zn.push(Ze);Ve[0]=zn,Re=n.OPS.showText;break;case n.OPS.nextLineShowText:if(!Oe.state.font){ge.ensureStateFont(Oe.state);continue}ve.addOp(n.OPS.nextLine),Ve[0]=ge.handleText(Ve[0],Oe.state),Re=n.OPS.showText;break;case n.OPS.nextLineSetSpacingShowText:if(!Oe.state.font){ge.ensureStateFont(Oe.state);continue}ve.addOp(n.OPS.nextLine),ve.addOp(n.OPS.setWordSpacing,[Ve.shift()]),ve.addOp(n.OPS.setCharSpacing,[Ve.shift()]),Ve[0]=ge.handleText(Ve[0],Oe.state),Re=n.OPS.showText;break;case n.OPS.setTextRenderingMode:Oe.state.textRenderingMode=Ve[0];break;case n.OPS.setFillColorSpace:{const Ze=P.ColorSpace.getCached(Ve[0],he,Ce);if(Ze){Oe.state.fillColorSpace=Ze;continue}ze(ge.parseColorSpace({cs:Ve[0],resources:be,localColorSpaceCache:Ce}).then(function(lt){lt&&(Oe.state.fillColorSpace=lt)}));return}case n.OPS.setStrokeColorSpace:{const Ze=P.ColorSpace.getCached(Ve[0],he,Ce);if(Ze){Oe.state.strokeColorSpace=Ze;continue}ze(ge.parseColorSpace({cs:Ve[0],resources:be,localColorSpaceCache:Ce}).then(function(lt){lt&&(Oe.state.strokeColorSpace=lt)}));return}case n.OPS.setFillColor:Ke=Oe.state.fillColorSpace,Ve=Ke.getRgb(Ve,0),Re=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColor:Ke=Oe.state.strokeColorSpace,Ve=Ke.getRgb(Ve,0),Re=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillGray:Oe.state.fillColorSpace=P.ColorSpace.singletons.gray,Ve=P.ColorSpace.singletons.gray.getRgb(Ve,0),Re=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeGray:Oe.state.strokeColorSpace=P.ColorSpace.singletons.gray,Ve=P.ColorSpace.singletons.gray.getRgb(Ve,0),Re=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillCMYKColor:Oe.state.fillColorSpace=P.ColorSpace.singletons.cmyk,Ve=P.ColorSpace.singletons.cmyk.getRgb(Ve,0),Re=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeCMYKColor:Oe.state.strokeColorSpace=P.ColorSpace.singletons.cmyk,Ve=P.ColorSpace.singletons.cmyk.getRgb(Ve,0),Re=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillRGBColor:Oe.state.fillColorSpace=P.ColorSpace.singletons.rgb,Ve=P.ColorSpace.singletons.rgb.getRgb(Ve,0);break;case n.OPS.setStrokeRGBColor:Oe.state.strokeColorSpace=P.ColorSpace.singletons.rgb,Ve=P.ColorSpace.singletons.rgb.getRgb(Ve,0);break;case n.OPS.setFillColorN:if(Ke=Oe.state.fillColorSpace,Ke.name==="Pattern"){ze(ge.handleColorN(ve,n.OPS.setFillColorN,Ve,Ke,Ee,be,Te,Ce,ke,Fe));return}Ve=Ke.getRgb(Ve,0),Re=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColorN:if(Ke=Oe.state.strokeColorSpace,Ke.name==="Pattern"){ze(ge.handleColorN(ve,n.OPS.setStrokeColorN,Ve,Ke,Ee,be,Te,Ce,ke,Fe));return}Ve=Ke.getRgb(Ve,0),Re=n.OPS.setStrokeRGBColor;break;case n.OPS.shadingFill:var en=be.get("Shading");if(!en)throw new n.FormatError("No shading resource found");var Xt=en.get(Ve[0].name);if(!Xt)throw new n.FormatError("No shading object found");Ve=[ge.parseShading({shading:Xt,resources:be,localColorSpaceCache:Ce,localShadingPatternCache:Fe})],Re=n.OPS.shadingFill;break;case n.OPS.setGState:if(st=Ve[0]instanceof U.Name,pt=Ve[0].name,st){const Ze=le.getByName(pt);if(Ze){Ze.length>0&&ve.addOp(n.OPS.setGState,[Ze]),Ve=null;continue}}ze(new Promise(function(Ze,lt){if(!st)throw new n.FormatError("GState must be referred to by name.");const gt=be.get("ExtGState");if(!(gt instanceof U.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const xt=gt.get(pt);if(!(xt instanceof U.Dict))throw new n.FormatError("GState should be a dictionary.");ge.setGState({resources:be,gState:xt,operatorList:ve,cacheKey:pt,task:Te,stateManager:Oe,localGStateCache:le,localColorSpaceCache:Ce}).then(Ze,lt)}).catch(function(Ze){if(!(Ze instanceof n.AbortException)){if(ge.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring ExtGState: "${Ze}".`);return}throw Ze}}));return;case n.OPS.moveTo:case n.OPS.lineTo:case n.OPS.curveTo:case n.OPS.curveTo2:case n.OPS.curveTo3:case n.OPS.closePath:case n.OPS.rectangle:ge.buildPath(ve,Re,Ve,ue);continue;case n.OPS.markPoint:case n.OPS.markPointProps:case n.OPS.beginCompat:case n.OPS.endCompat:continue;case n.OPS.beginMarkedContentProps:if(!(Ve[0]instanceof U.Name)){(0,n.warn)(`Expected name for beginMarkedContentProps arg0=${Ve[0]}`);continue}if(Ve[0].name==="OC"){ze(ge.parseMarkedContentProps(Ve[1],be).then(Ze=>{ve.addOp(n.OPS.beginMarkedContentProps,["OC",Ze])}).catch(Ze=>{if(!(Ze instanceof n.AbortException)){if(ge.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${Ze}".`);return}throw Ze}}));return}Ve=[Ve[0].name,Ve[1]instanceof U.Dict?Ve[1].get("MCID"):null];break;case n.OPS.beginMarkedContent:case n.OPS.endMarkedContent:default:if(Ve!==null){for(At=0,Qe=Ve.length;At<Qe&&!(Ve[At]instanceof U.Dict);At++);if(At<Qe){(0,n.warn)("getOperatorList - ignoring operator: "+Re);continue}}}ve.addOp(Re,Ve)}if(mt){ze(N);return}rt(),je()}).catch(Ge=>{if(!(Ge instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring errors during "${Te.name}" task: "${Ge}".`),rt();return}throw Ge}})}getTextContent({stream:fe,task:Te,resources:be,stateManager:ve=null,includeMarkedContent:te=!1,sink:ie,seenStyles:ge=new Set,viewBox:he,markedContentData:ue=null,disableNormalization:we=!1}){be||(be=U.Dict.empty),ve||(ve=new r(new A)),te&&(ue||(ue={level:0}));const Ce={items:[],styles:Object.create(null)},le={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},ke=[" "," "];let Fe=0;function de(Mt){const Dt=(Fe+1)%2,Kt=ke[Fe]!==" "&&ke[Dt]===" ";return ke[Fe]=Mt,Fe=Dt,Kt}function Ee(){return ke[Fe]!==" "&&ke[(Fe+1)%2]===" "}function Oe(){ke[0]=ke[1]=" ",Fe=0}const Ne=.102,et=.03,rt=-.2,Ge=.102,je=.6,$e=.25,ze=this,at=this.xref,mt=[];let At=null;const Qe=new p.LocalImageCache,Ke=new p.LocalGStateCache,pt=new G(fe,at,ve);let st;function St({width:Mt=0,height:Dt=0,transform:Kt=le.prevTransform,fontName:Wt=le.fontName}){Ce.items.push({str:" ",dir:"ltr",width:Mt,height:Dt,transform:Kt,fontName:Wt,hasEOL:!1})}function kt(){const Mt=st.font,Dt=[st.fontSize*st.textHScale,0,0,st.fontSize,0,st.textRise];if(Mt.isType3Font&&(st.fontSize<=1||Mt.isCharBBox)&&!(0,n.isArrayEqual)(st.fontMatrix,n.FONT_IDENTITY_MATRIX)){const Kt=Mt.bbox[3]-Mt.bbox[1];Kt>0&&(Dt[3]*=Kt*st.fontMatrix[3])}return n.Util.transform(st.ctm,n.Util.transform(st.textMatrix,Dt))}function zn(){if(le.initialized)return le;const{font:Mt,loadedName:Dt}=st;ge.has(Dt)||(ge.add(Dt),Ce.styles[Dt]={fontFamily:Mt.fallbackName,ascent:Mt.ascent,descent:Mt.descent,vertical:Mt.vertical}),le.fontName=Dt;const Kt=le.transform=kt();Mt.vertical?(le.width=le.totalWidth=Math.hypot(Kt[0],Kt[1]),le.height=le.totalHeight=0,le.vertical=!0):(le.width=le.totalWidth=0,le.height=le.totalHeight=Math.hypot(Kt[2],Kt[3]),le.vertical=!1);const Wt=Math.hypot(st.textLineMatrix[0],st.textLineMatrix[1]),Zt=Math.hypot(st.ctm[0],st.ctm[1]);le.textAdvanceScale=Zt*Wt;const{fontSize:qn}=st;return le.trackingSpaceMin=qn*Ne,le.notASpace=qn*et,le.negativeSpaceMax=qn*rt,le.spaceInFlowMin=qn*Ge,le.spaceInFlowMax=qn*je,le.hasEOL=!1,le.initialized=!0,le}function ft(){if(!le.initialized)return;const Mt=Math.hypot(st.textLineMatrix[0],st.textLineMatrix[1]),Kt=Math.hypot(st.ctm[0],st.ctm[1])*Mt;Kt!==le.textAdvanceScale&&(le.vertical?(le.totalHeight+=le.height*le.textAdvanceScale,le.height=0):(le.totalWidth+=le.width*le.textAdvanceScale,le.width=0),le.textAdvanceScale=Kt)}function en(Mt){let Dt=Mt.str.join("");we||(Dt=(0,n.normalizeUnicode)(Dt));const Kt=(0,F.bidi)(Dt,-1,Mt.vertical);return{str:Kt.str,dir:Kt.dir,width:Math.abs(Mt.totalWidth),height:Math.abs(Mt.totalHeight),transform:Mt.transform,fontName:Mt.fontName,hasEOL:Mt.hasEOL}}function Xt(Mt,Dt){return ze.loadFont(Mt,Dt,be).then(function(Kt){return Kt.font.isType3Font?Kt.loadType3Data(ze,be,Te).catch(function(){}).then(function(){return Kt}):Kt}).then(function(Kt){st.loadedName=Kt.loadedName,st.font=Kt.font,st.fontMatrix=Kt.font.fontMatrix||n.FONT_IDENTITY_MATRIX})}function Ve(Mt,Dt,Kt){const Wt=Math.hypot(Kt[0],Kt[1]);return[(Kt[0]*Mt+Kt[1]*Dt)/Wt,(Kt[2]*Mt+Kt[3]*Dt)/Wt]}function Re(Mt){var Ot;const Dt=kt();let Kt=Dt[4],Wt=Dt[5];if((Ot=st.font)!=null&&Ot.vertical){if(Kt<he[0]||Kt>he[2]||Wt+Mt<he[1]||Wt>he[3])return!1}else if(Kt+Mt<he[0]||Kt>he[2]||Wt<he[1]||Wt>he[3])return!1;if(!st.font||!le.prevTransform)return!0;let Zt=le.prevTransform[4],qn=le.prevTransform[5];if(Zt===Kt&&qn===Wt)return!0;let Hn=-1;switch(Dt[0]&&Dt[1]===0&&Dt[2]===0?Hn=Dt[0]>0?0:180:Dt[1]&&Dt[0]===0&&Dt[3]===0&&(Hn=Dt[1]>0?90:270),Hn){case 0:break;case 90:[Kt,Wt]=[Wt,Kt],[Zt,qn]=[qn,Zt];break;case 180:[Kt,Wt,Zt,qn]=[-Kt,-Wt,-Zt,-qn];break;case 270:[Kt,Wt]=[-Wt,-Kt],[Zt,qn]=[-qn,-Zt];break;default:[Kt,Wt]=Ve(Kt,Wt,Dt),[Zt,qn]=Ve(Zt,qn,le.prevTransform)}if(st.font.vertical){const Gt=(qn-Wt)/le.textAdvanceScale,zt=Kt-Zt,$n=Math.sign(le.height);return Gt<$n*le.negativeSpaceMax?Math.abs(zt)>.5*le.width?(Ze(),!0):(Oe(),gt(),!0):Math.abs(zt)>le.width?(Ze(),!0):(Gt<=$n*le.notASpace&&Oe(),Gt<=$n*le.trackingSpaceMin?Ee()?(Oe(),gt(),St({height:Math.abs(Gt)})):le.height+=Gt:lt(Gt,le.prevTransform,$n)||(le.str.length===0?(Oe(),St({height:Math.abs(Gt)})):le.height+=Gt),Math.abs(zt)>le.width*$e&&gt(),!0)}const $i=(Kt-Zt)/le.textAdvanceScale,hr=Wt-qn,Lt=Math.sign(le.width);return $i<Lt*le.negativeSpaceMax?Math.abs(hr)>.5*le.height?(Ze(),!0):(Oe(),gt(),!0):Math.abs(hr)>le.height?(Ze(),!0):($i<=Lt*le.notASpace&&Oe(),$i<=Lt*le.trackingSpaceMin?Ee()?(Oe(),gt(),St({width:Math.abs($i)})):le.width+=$i:lt($i,le.prevTransform,Lt)||(le.str.length===0?(Oe(),St({width:Math.abs($i)})):le.width+=$i),Math.abs(hr)>le.height*$e&&gt(),!0)}function qe({chars:Mt,extraSpacing:Dt}){const Kt=st.font;if(!Mt){const qn=st.charSpacing+Dt;qn&&(Kt.vertical?st.translateTextMatrix(0,-qn):st.translateTextMatrix(qn*st.textHScale,0));return}const Wt=Kt.charsToGlyphs(Mt),Zt=st.fontMatrix[0]*st.fontSize;for(let qn=0,Hn=Wt.length;qn<Hn;qn++){const $i=Wt[qn],{category:hr}=$i;if(hr.isInvisibleFormatMark)continue;let Lt=st.charSpacing+(qn+1===Hn?Dt:0),Ot=$i.width;Kt.vertical&&(Ot=$i.vmetric?$i.vmetric[0]:-Ot);let Gt=Ot*Zt;if(hr.isWhitespace){Kt.vertical?(Lt+=-Gt+st.wordSpacing,st.translateTextMatrix(0,-Lt)):(Lt+=Gt+st.wordSpacing,st.translateTextMatrix(Lt*st.textHScale,0)),de(" ");continue}if(!hr.isZeroWidthDiacritic&&!Re(Gt)){Kt.vertical?st.translateTextMatrix(0,Gt):st.translateTextMatrix(Gt*st.textHScale,0);continue}const zt=zn();hr.isZeroWidthDiacritic&&(Gt=0),Kt.vertical?(st.translateTextMatrix(0,Gt),Gt=Math.abs(Gt),zt.height+=Gt):(Gt*=st.textHScale,st.translateTextMatrix(Gt,0),zt.width+=Gt),Gt&&(zt.prevTransform=kt());const $n=$i.unicode;de($n)&&zt.str.push(" "),zt.str.push($n),Lt&&(Kt.vertical?st.translateTextMatrix(0,-Lt):st.translateTextMatrix(Lt*st.textHScale,0))}}function Ze(){Oe(),le.initialized?(le.hasEOL=!0,gt()):Ce.items.push({str:"",dir:"ltr",width:0,height:0,transform:kt(),fontName:st.loadedName,hasEOL:!0})}function lt(Mt,Dt,Kt){if(Kt*le.spaceInFlowMin<=Mt&&Mt<=Kt*le.spaceInFlowMax)return le.initialized&&(Oe(),le.str.push(" ")),!1;const Wt=le.fontName;let Zt=0;return le.vertical&&(Zt=Mt,Mt=0),gt(),Oe(),St({width:Math.abs(Mt),height:Math.abs(Zt),transform:Dt||kt(),fontName:Wt}),!0}function gt(){!le.initialized||!le.str||(le.vertical?le.totalHeight+=le.height*le.textAdvanceScale:le.totalWidth+=le.width*le.textAdvanceScale,Ce.items.push(en(le)),le.initialized=!1,le.str.length=0)}function xt(Mt=!1){const Dt=Ce.items.length;Dt!==0&&(Mt&&Dt<Z||(ie.enqueue(Ce,Dt),Ce.items=[],Ce.styles=Object.create(null)))}const jt=new I;return new Promise(function Mt(Dt,Kt){const Wt=function(Gt){xt(!0),Promise.all([Gt,ie.ready]).then(function(){try{Mt(Dt,Kt)}catch(zt){Kt(zt)}},Kt)};Te.ensureNotTerminated(),jt.reset();const Zt={};let qn,Hn=[];for(;!(qn=jt.check())&&(Hn.length=0,Zt.args=Hn,!!pt.read(Zt));){const Gt=st;st=ve.state;const zt=Zt.fn;switch(Hn=Zt.args,zt|0){case n.OPS.setFont:var $i=Hn[0].name,hr=Hn[1];if(st.font&&$i===st.fontName&&hr===st.fontSize)break;gt(),st.fontName=$i,st.fontSize=hr,Wt(Xt($i,null));return;case n.OPS.setTextRise:st.textRise=Hn[0];break;case n.OPS.setHScale:st.textHScale=Hn[0]/100;break;case n.OPS.setLeading:st.leading=Hn[0];break;case n.OPS.moveText:st.translateTextLineMatrix(Hn[0],Hn[1]),st.textMatrix=st.textLineMatrix.slice();break;case n.OPS.setLeadingMoveText:st.leading=-Hn[1],st.translateTextLineMatrix(Hn[0],Hn[1]),st.textMatrix=st.textLineMatrix.slice();break;case n.OPS.nextLine:st.carriageReturn();break;case n.OPS.setTextMatrix:st.setTextMatrix(Hn[0],Hn[1],Hn[2],Hn[3],Hn[4],Hn[5]),st.setTextLineMatrix(Hn[0],Hn[1],Hn[2],Hn[3],Hn[4],Hn[5]),ft();break;case n.OPS.setCharSpacing:st.charSpacing=Hn[0];break;case n.OPS.setWordSpacing:st.wordSpacing=Hn[0];break;case n.OPS.beginText:st.textMatrix=n.IDENTITY_MATRIX.slice(),st.textLineMatrix=n.IDENTITY_MATRIX.slice();break;case n.OPS.showSpacedText:if(!ve.state.font){ze.ensureStateFont(ve.state);continue}const $n=(st.font.vertical?1:-1)*st.fontSize/1e3,Di=Hn[0];for(let jn=0,Yt=Di.length;jn<Yt;jn++){const Pi=Di[jn];if(typeof Pi=="string")mt.push(Pi);else if(typeof Pi=="number"&&Pi!==0){const Vi=mt.join("");mt.length=0,qe({chars:Vi,extraSpacing:Pi*$n})}}if(mt.length>0){const jn=mt.join("");mt.length=0,qe({chars:jn,extraSpacing:0})}break;case n.OPS.showText:if(!ve.state.font){ze.ensureStateFont(ve.state);continue}qe({chars:Hn[0],extraSpacing:0});break;case n.OPS.nextLineShowText:if(!ve.state.font){ze.ensureStateFont(ve.state);continue}st.carriageReturn(),qe({chars:Hn[0],extraSpacing:0});break;case n.OPS.nextLineSetSpacingShowText:if(!ve.state.font){ze.ensureStateFont(ve.state);continue}st.wordSpacing=Hn[0],st.charSpacing=Hn[1],st.carriageReturn(),qe({chars:Hn[2],extraSpacing:0});break;case n.OPS.paintXObject:gt(),At||(At=be.get("XObject")||U.Dict.empty);var Lt=Hn[0]instanceof U.Name,Ot=Hn[0].name;if(Lt&&Qe.getByName(Ot))break;Wt(new Promise(function(jn,Yt){if(!Lt)throw new n.FormatError("XObject must be referred to by name.");let Pi=At.getRaw(Ot);if(Pi instanceof U.Ref){if(Qe.getByRef(Pi)){jn();return}if(ze.globalImageCache.getData(Pi,ze.pageIndex)){jn();return}Pi=at.fetch(Pi)}if(!(Pi instanceof T.BaseStream))throw new n.FormatError("XObject should be a stream");const Vi=Pi.dict.get("Subtype");if(!(Vi instanceof U.Name))throw new n.FormatError("XObject should have a Name subtype");if(Vi.name!=="Form"){Qe.set(Ot,Pi.dict.objId,!0),jn();return}const gr=ve.state.clone(),Gi=new r(gr),zi=Pi.dict.getArray("Matrix");Array.isArray(zi)&&zi.length===6&&Gi.transform(zi),xt();const dr={enqueueInvoked:!1,enqueue(_i,Wi){this.enqueueInvoked=!0,ie.enqueue(_i,Wi)},get desiredSize(){return ie.desiredSize},get ready(){return ie.ready}};ze.getTextContent({stream:Pi,task:Te,resources:Pi.dict.get("Resources")||be,stateManager:Gi,includeMarkedContent:te,sink:dr,seenStyles:ge,viewBox:he,markedContentData:ue,disableNormalization:we}).then(function(){dr.enqueueInvoked||Qe.set(Ot,Pi.dict.objId,!0),jn()},Yt)}).catch(function(jn){if(!(jn instanceof n.AbortException)){if(ze.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring XObject: "${jn}".`);return}throw jn}}));return;case n.OPS.setGState:if(Lt=Hn[0]instanceof U.Name,Ot=Hn[0].name,Lt&&Ke.getByName(Ot))break;Wt(new Promise(function(jn,Yt){if(!Lt)throw new n.FormatError("GState must be referred to by name.");const Pi=be.get("ExtGState");if(!(Pi instanceof U.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const Vi=Pi.get(Ot);if(!(Vi instanceof U.Dict))throw new n.FormatError("GState should be a dictionary.");const gr=Vi.get("Font");if(!gr){Ke.set(Ot,Vi.objId,!0),jn();return}gt(),st.fontName=null,st.fontSize=gr[1],Xt(null,gr[0]).then(jn,Yt)}).catch(function(jn){if(!(jn instanceof n.AbortException)){if(ze.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring ExtGState: "${jn}".`);return}throw jn}}));return;case n.OPS.beginMarkedContent:gt(),te&&(ue.level++,Ce.items.push({type:"beginMarkedContent",tag:Hn[0]instanceof U.Name?Hn[0].name:null}));break;case n.OPS.beginMarkedContentProps:if(gt(),te){ue.level++;let jn=null;Hn[1]instanceof U.Dict&&(jn=Hn[1].get("MCID")),Ce.items.push({type:"beginMarkedContentProps",id:Number.isInteger(jn)?`${ze.idFactory.getPageObjId()}_mc${jn}`:null,tag:Hn[0]instanceof U.Name?Hn[0].name:null})}break;case n.OPS.endMarkedContent:if(gt(),te){if(ue.level===0)break;ue.level--,Ce.items.push({type:"endMarkedContent"})}break;case n.OPS.restore:Gt&&(Gt.font!==st.font||Gt.fontSize!==st.fontSize||Gt.fontName!==st.fontName)&&gt();break}if(Ce.items.length>=ie.desiredSize){qn=!0;break}}if(qn){Wt(N);return}gt(),xt(),Dt()}).catch(Mt=>{if(!(Mt instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring errors during "${Te.name}" task: "${Mt}".`),gt(),xt();return}throw Mt}})}extractDataStructures(fe,Te,be){const ve=this.xref;let te;const ie=this.readToUnicode(be.toUnicode||fe.get("ToUnicode")||Te.get("ToUnicode"));if(be.composite){const le=fe.get("CIDSystemInfo");le instanceof U.Dict&&(be.cidSystemInfo={registry:(0,n.stringToPDFString)(le.get("Registry")),ordering:(0,n.stringToPDFString)(le.get("Ordering")),supplement:le.get("Supplement")});try{const ke=fe.get("CIDToGIDMap");ke instanceof T.BaseStream&&(te=ke.getBytes())}catch(ke){if(!this.options.ignoreErrors)throw ke;(0,n.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${ke}".`)}}const ge=[];let he=null,ue;if(fe.has("Encoding")){if(ue=fe.get("Encoding"),ue instanceof U.Dict){if(he=ue.get("BaseEncoding"),he=he instanceof U.Name?he.name:null,ue.has("Differences")){const le=ue.get("Differences");let ke=0;for(const Fe of le){const de=ve.fetchIfRef(Fe);if(typeof de=="number")ke=de;else if(de instanceof U.Name)ge[ke++]=de.name;else throw new n.FormatError(`Invalid entry in 'Differences' array: ${de}`)}}}else if(ue instanceof U.Name)he=ue.name;else{const le="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new n.FormatError(le);(0,n.warn)(le)}he!=="MacRomanEncoding"&&he!=="MacExpertEncoding"&&he!=="WinAnsiEncoding"&&(he=null)}const we=!be.file||be.isInternalFont,Ce=(0,o.getSymbolsFonts)()[be.name];if(he&&we&&Ce&&(he=null),he)be.defaultEncoding=(0,t.getEncoding)(he);else{const le=!!(be.flags&H.FontFlags.Symbolic),ke=!!(be.flags&H.FontFlags.Nonsymbolic);ue=t.StandardEncoding,be.type==="TrueType"&&!ke&&(ue=t.WinAnsiEncoding),(le||Ce)&&(ue=t.MacRomanEncoding,we&&(/Symbol/i.test(be.name)?ue=t.SymbolSetEncoding:/Dingbats/i.test(be.name)?ue=t.ZapfDingbatsEncoding:/Wingdings/i.test(be.name)&&(ue=t.WinAnsiEncoding))),be.defaultEncoding=ue}return be.differences=ge,be.baseEncodingName=he,be.hasEncoding=!!he||ge.length>0,be.dict=fe,ie.then(le=>(be.toUnicode=le,this.buildToUnicode(be))).then(le=>(be.toUnicode=le,te&&(be.cidToGidMap=this.readCidToGidMap(te,le)),be))}_simpleFontToUnicode(fe,Te=!1){(0,n.assert)(!fe.composite,"Must be a simple font.");const be=[],ve=fe.defaultEncoding.slice(),te=fe.baseEncodingName,ie=fe.differences;for(const he in ie){const ue=ie[he];ue!==".notdef"&&(ve[he]=ue)}const ge=(0,se.getGlyphsUnicode)();for(const he in ve){let ue=ve[he];if(ue==="")continue;let we=ge[ue];if(we!==void 0){be[he]=String.fromCharCode(we);continue}let Ce=0;switch(ue[0]){case"G":ue.length===3&&(Ce=parseInt(ue.substring(1),16));break;case"g":ue.length===5&&(Ce=parseInt(ue.substring(1),16));break;case"C":case"c":if(ue.length>=3&&ue.length<=4){const le=ue.substring(1);if(Te){Ce=parseInt(le,16);break}if(Ce=+le,Number.isNaN(Ce)&&Number.isInteger(parseInt(le,16)))return this._simpleFontToUnicode(fe,!0)}break;case"u":we=(0,Q.getUnicodeForGlyph)(ue,ge),we!==-1&&(Ce=we);break;default:switch(ue){case"f_h":case"f_t":case"T_h":be[he]=ue.replaceAll("_","");continue}break}if(Ce>0&&Ce<=1114111&&Number.isInteger(Ce)){if(te&&Ce===+he){const le=(0,t.getEncoding)(te);if(le&&(ue=le[he])){be[he]=String.fromCharCode(ge[ue]);continue}}be[he]=String.fromCodePoint(Ce)}}return be}async buildToUnicode(fe){var Te;if(fe.hasIncludedToUnicodeMap=((Te=fe.toUnicode)==null?void 0:Te.length)>0,fe.hasIncludedToUnicodeMap)return!fe.composite&&fe.hasEncoding&&(fe.fallbackToUnicode=this._simpleFontToUnicode(fe)),fe.toUnicode;if(!fe.composite)return new L.ToUnicodeMap(this._simpleFontToUnicode(fe));if(fe.composite&&(fe.cMap.builtInCMap&&!(fe.cMap instanceof x.IdentityCMap)||fe.cidSystemInfo.registry==="Adobe"&&(fe.cidSystemInfo.ordering==="GB1"||fe.cidSystemInfo.ordering==="CNS1"||fe.cidSystemInfo.ordering==="Japan1"||fe.cidSystemInfo.ordering==="Korea1"))){const{registry:be,ordering:ve}=fe.cidSystemInfo,te=U.Name.get(`${be}-${ve}-UCS2`),ie=await x.CMapFactory.create({encoding:te,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),ge=[],he=[];return fe.cMap.forEach(function(ue,we){if(we>65535)throw new n.FormatError("Max size of CID is 65,535");const Ce=ie.lookup(we);if(Ce){he.length=0;for(let le=0,ke=Ce.length;le<ke;le+=2)he.push((Ce.charCodeAt(le)<<8)+Ce.charCodeAt(le+1));ge[ue]=String.fromCharCode(...he)}}),new L.ToUnicodeMap(ge)}return new L.IdentityToUnicodeMap(fe.firstChar,fe.lastChar)}readToUnicode(fe){return fe?fe instanceof U.Name?x.CMapFactory.create({encoding:fe,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Te){return Te instanceof x.IdentityCMap?new L.IdentityToUnicodeMap(0,65535):new L.ToUnicodeMap(Te.getMap())}):fe instanceof T.BaseStream?x.CMapFactory.create({encoding:fe,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Te){if(Te instanceof x.IdentityCMap)return new L.IdentityToUnicodeMap(0,65535);const be=new Array(Te.length);return Te.forEach(function(ve,te){if(typeof te=="number"){be[ve]=String.fromCodePoint(te);return}const ie=[];for(let ge=0;ge<te.length;ge+=2){const he=te.charCodeAt(ge)<<8|te.charCodeAt(ge+1);if((he&63488)!==55296){ie.push(he);continue}ge+=2;const ue=te.charCodeAt(ge)<<8|te.charCodeAt(ge+1);ie.push(((he&1023)<<10)+(ue&1023)+65536)}be[ve]=String.fromCodePoint(...ie)}),new L.ToUnicodeMap(be)},Te=>{if(Te instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`readToUnicode - ignoring ToUnicode data: "${Te}".`),null;throw Te}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(fe,Te){const be=[];for(let ve=0,te=fe.length;ve<te;ve++){const ie=fe[ve++]<<8|fe[ve],ge=ve>>1;ie===0&&!Te.has(ge)||(be[ge]=ie)}return be}extractWidths(fe,Te,be){const ve=this.xref;let te=[],ie=0;const ge=[];let he,ue,we,Ce,le,ke,Fe,de;if(be.composite){if(ie=fe.has("DW")?fe.get("DW"):1e3,de=fe.get("W"),de)for(ue=0,we=de.length;ue<we;ue++)if(ke=ve.fetchIfRef(de[ue++]),Fe=ve.fetchIfRef(de[ue]),Array.isArray(Fe))for(Ce=0,le=Fe.length;Ce<le;Ce++)te[ke++]=ve.fetchIfRef(Fe[Ce]);else{const Ne=ve.fetchIfRef(de[++ue]);for(Ce=ke;Ce<=Fe;Ce++)te[Ce]=Ne}if(be.vertical){let Ne=fe.getArray("DW2")||[880,-1e3];if(he=[Ne[1],ie*.5,Ne[0]],Ne=fe.get("W2"),Ne)for(ue=0,we=Ne.length;ue<we;ue++)if(ke=ve.fetchIfRef(Ne[ue++]),Fe=ve.fetchIfRef(Ne[ue]),Array.isArray(Fe))for(Ce=0,le=Fe.length;Ce<le;Ce++)ge[ke++]=[ve.fetchIfRef(Fe[Ce++]),ve.fetchIfRef(Fe[Ce++]),ve.fetchIfRef(Fe[Ce])];else{const et=[ve.fetchIfRef(Ne[++ue]),ve.fetchIfRef(Ne[++ue]),ve.fetchIfRef(Ne[++ue])];for(Ce=ke;Ce<=Fe;Ce++)ge[Ce]=et}}}else{const Ne=be.firstChar;if(de=fe.get("Widths"),de){for(Ce=Ne,ue=0,we=de.length;ue<we;ue++)te[Ce++]=ve.fetchIfRef(de[ue]);ie=parseFloat(Te.get("MissingWidth"))||0}else{const et=fe.get("BaseFont");if(et instanceof U.Name){const rt=this.getBaseFontMetrics(et.name);te=this.buildCharCodeToWidth(rt.widths,be),ie=rt.defaultWidth}}}let Ee=!0,Oe=ie;for(const Ne in te){const et=te[Ne];if(et){if(!Oe){Oe=et;continue}if(Oe!==et){Ee=!1;break}}}Ee?be.flags|=H.FontFlags.FixedPitch:be.flags&=~H.FontFlags.FixedPitch,be.defaultWidth=ie,be.widths=te,be.defaultVMetrics=he,be.vmetrics=ge}isSerifFont(fe){const Te=fe.split("-")[0];return Te in(0,o.getSerifFonts)()||/serif/gi.test(Te)}getBaseFontMetrics(fe){let Te=0,be=Object.create(null),ve=!1,ie=(0,o.getStdFontMap)()[fe]||fe;const ge=(0,_.getMetrics)();ie in ge||(ie=this.isSerifFont(fe)?"Times-Roman":"Helvetica");const he=ge[ie];return typeof he=="number"?(Te=he,ve=!0):be=he(),{defaultWidth:Te,monospace:ve,widths:be}}buildCharCodeToWidth(fe,Te){const be=Object.create(null),ve=Te.differences,te=Te.defaultEncoding;for(let ie=0;ie<256;ie++){if(ie in ve&&fe[ve[ie]]){be[ie]=fe[ve[ie]];continue}if(ie in te&&fe[te[ie]]){be[ie]=fe[te[ie]];continue}}return be}preEvaluateFont(fe){const Te=fe;let be=fe.get("Subtype");if(!(be instanceof U.Name))throw new n.FormatError("invalid font Subtype");let ve=!1,te,ie;if(be.name==="Type0"){const we=fe.get("DescendantFonts");if(!we)throw new n.FormatError("Descendant fonts are not specified");if(fe=Array.isArray(we)?this.xref.fetchIfRef(we[0]):we,!(fe instanceof U.Dict))throw new n.FormatError("Descendant font is not a dictionary.");if(be=fe.get("Subtype"),!(be instanceof U.Name))throw new n.FormatError("invalid font Subtype");ve=!0}const ge=fe.get("FirstChar")||0,he=fe.get("LastChar")||(ve?65535:255),ue=fe.get("FontDescriptor");if(ue){te=new w.MurmurHash3_64;const we=Te.getRaw("Encoding");if(we instanceof U.Name)te.update(we.name);else if(we instanceof U.Ref)te.update(we.toString());else if(we instanceof U.Dict){for(const le of we.getRawValues())if(le instanceof U.Name)te.update(le.name);else if(le instanceof U.Ref)te.update(le.toString());else if(Array.isArray(le)){const ke=le.length,Fe=new Array(ke);for(let de=0;de<ke;de++){const Ee=le[de];Ee instanceof U.Name?Fe[de]=Ee.name:(typeof Ee=="number"||Ee instanceof U.Ref)&&(Fe[de]=Ee.toString())}te.update(Fe.join())}}if(te.update(`${ge}-${he}`),ie=fe.get("ToUnicode")||Te.get("ToUnicode"),ie instanceof T.BaseStream){const le=ie.str||ie,ke=le.buffer?new Uint8Array(le.buffer.buffer,0,le.bufferLength):new Uint8Array(le.bytes.buffer,le.start,le.end-le.start);te.update(ke)}else ie instanceof U.Name&&te.update(ie.name);const Ce=fe.get("Widths")||Te.get("Widths");if(Array.isArray(Ce)){const le=[];for(const ke of Ce)(typeof ke=="number"||ke instanceof U.Ref)&&le.push(ke.toString());te.update(le.join())}if(ve){te.update("compositeFont");const le=fe.get("W")||Te.get("W");if(Array.isArray(le)){const Fe=[];for(const de of le)if(typeof de=="number"||de instanceof U.Ref)Fe.push(de.toString());else if(Array.isArray(de)){const Ee=[];for(const Oe of de)(typeof Oe=="number"||Oe instanceof U.Ref)&&Ee.push(Oe.toString());Fe.push(`[${Ee.join()}]`)}te.update(Fe.join())}const ke=fe.getRaw("CIDToGIDMap")||Te.getRaw("CIDToGIDMap");ke instanceof U.Name?te.update(ke.name):ke instanceof U.Ref?te.update(ke.toString()):ke instanceof T.BaseStream&&te.update(ke.peekBytes())}}return{descriptor:ue,dict:fe,baseDict:Te,composite:ve,type:be.name,firstChar:ge,lastChar:he,toUnicode:ie,hash:te?te.hexdigest():""}}async translateFont({descriptor:fe,dict:Te,baseDict:be,composite:ve,type:te,firstChar:ie,lastChar:ge,toUnicode:he,cssFontInfo:ue}){const we=te==="Type3";let Ce;if(!fe)if(we)fe=new U.Dict(null),fe.set("FontName",U.Name.get(te)),fe.set("FontBBox",Te.getArray("FontBBox")||[0,0,0,0]);else{let ze=Te.get("BaseFont");if(!(ze instanceof U.Name))throw new n.FormatError("Base font is not specified");ze=ze.name.replaceAll(/[,_]/g,"-");const at=this.getBaseFontMetrics(ze),mt=ze.split("-")[0],At=(this.isSerifFont(mt)?H.FontFlags.Serif:0)|(at.monospace?H.FontFlags.FixedPitch:0)|((0,o.getSymbolsFonts)()[mt]?H.FontFlags.Symbolic:H.FontFlags.Nonsymbolic);Ce={type:te,name:ze,loadedName:be.loadedName,systemFontInfo:null,widths:at.widths,defaultWidth:at.defaultWidth,isSimulatedFlags:!0,flags:At,firstChar:ie,lastChar:ge,toUnicode:he,xHeight:0,capHeight:0,italicAngle:0,isType3Font:we};const Qe=Te.get("Widths"),Ke=(0,o.getStandardFontName)(ze);let pt=null;return Ke&&(pt=await this.fetchStandardFontData(Ke),Ce.isInternalFont=!!pt),!Ce.isInternalFont&&this.options.useSystemFonts&&(Ce.systemFontInfo=(0,$.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,ze,Ke)),this.extractDataStructures(Te,Te,Ce).then(st=>{if(Qe){const St=[];let kt=ie;for(const zn of Qe)St[kt++]=this.xref.fetchIfRef(zn);st.widths=St}else st.widths=this.buildCharCodeToWidth(at.widths,st);return new e.Font(ze,pt,st)})}let le=fe.get("FontName"),ke=Te.get("BaseFont");typeof le=="string"&&(le=U.Name.get(le)),typeof ke=="string"&&(ke=U.Name.get(ke));const Fe=le==null?void 0:le.name,de=ke==null?void 0:ke.name;if(!we&&Fe!==de&&((0,n.info)(`The FontDescriptor's FontName is "${Fe}" but should be the same as the Font's BaseFont "${de}".`),Fe&&de&&(de.startsWith(Fe)||!(0,o.isKnownFontName)(Fe)&&(0,o.isKnownFontName)(de))&&(le=null)),le||(le=ke),!(le instanceof U.Name))throw new n.FormatError("invalid font name");let Ee,Oe,Ne,et,rt;try{Ee=fe.get("FontFile","FontFile2","FontFile3")}catch(ze){if(!this.options.ignoreErrors)throw ze;(0,n.warn)(`translateFont - fetching "${le.name}" font file: "${ze}".`),Ee=new i.NullStream}let Ge=!1,je=null,$e=null;if(Ee){if(Ee.dict){const ze=Ee.dict.get("Subtype");ze instanceof U.Name&&(Oe=ze.name),Ne=Ee.dict.get("Length1"),et=Ee.dict.get("Length2"),rt=Ee.dict.get("Length3")}}else if(ue){const ze=(0,X.getXfaFontName)(le.name);ze&&(ue.fontFamily=`${ue.fontFamily}-PdfJS-XFA`,ue.metrics=ze.metrics||null,je=ze.factors||null,Ee=await this.fetchStandardFontData(ze.name),Ge=!!Ee,be=Te=(0,X.getXfaFontDict)(le.name),ve=!0)}else if(!we){const ze=(0,o.getStandardFontName)(le.name);ze&&(Ee=await this.fetchStandardFontData(ze),Ge=!!Ee),!Ge&&this.options.useSystemFonts&&($e=(0,$.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,le.name,ze))}if(Ce={type:te,name:le.name,subtype:Oe,file:Ee,length1:Ne,length2:et,length3:rt,isInternalFont:Ge,loadedName:be.loadedName,composite:ve,fixedPitch:!1,fontMatrix:Te.getArray("FontMatrix")||n.FONT_IDENTITY_MATRIX,firstChar:ie,lastChar:ge,toUnicode:he,bbox:fe.getArray("FontBBox")||Te.getArray("FontBBox"),ascent:fe.get("Ascent"),descent:fe.get("Descent"),xHeight:fe.get("XHeight")||0,capHeight:fe.get("CapHeight")||0,flags:fe.get("Flags"),italicAngle:fe.get("ItalicAngle")||0,isType3Font:we,cssFontInfo:ue,scaleFactors:je,systemFontInfo:$e},ve){const ze=be.get("Encoding");ze instanceof U.Name&&(Ce.cidEncoding=ze.name);const at=await x.CMapFactory.create({encoding:ze,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Ce.cMap=at,Ce.vertical=Ce.cMap.vertical}return this.extractDataStructures(Te,be,Ce).then(ze=>(this.extractWidths(Te,fe,ze),new e.Font(le.name,Ee,ze)))}static buildFontPaths(fe,Te,be,ve){function te(ie){const ge=`${fe.loadedName}_path_${ie}`;try{if(fe.renderer.hasBuiltPath(ie))return;be.send("commonobj",[ge,"FontPath",fe.renderer.getPathJs(ie)])}catch(he){if(ve.ignoreErrors){(0,n.warn)(`buildFontPaths - ignoring ${ge} glyph: "${he}".`);return}throw he}}for(const ie of Te){te(ie.fontChar);const ge=ie.accent;ge!=null&&ge.fontChar&&te(ge.fontChar)}}static get fallbackFontDict(){const fe=new U.Dict;return fe.set("BaseFont",U.Name.get("Helvetica")),fe.set("Type",U.Name.get("FallbackType")),fe.set("Subtype",U.Name.get("FallbackType")),fe.set("Encoding",U.Name.get("WinAnsiEncoding")),(0,n.shadow)(this,"fallbackFontDict",fe)}}h.PartialEvaluator=u;class y{constructor({loadedName:fe,font:Te,dict:be,evaluatorOptions:ve}){this.loadedName=fe,this.font=Te,this.dict=be,this._evaluatorOptions=ve||b,this.type3Loaded=null,this.type3Dependencies=Te.isType3Font?new Set:null,this.sent=!1}send(fe){this.sent||(this.sent=!0,fe.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(fe){this.font.data&&(this.font.disableFontFace=!0,u.buildFontPaths(this.font,this.font.glyphCacheValues,fe,this._evaluatorOptions))}loadType3Data(fe,Te,be){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const ve=fe.clone({ignoreErrors:!1});ve.parsingType3Font=!0;const te=new U.RefSet(fe.type3FontRefs);this.dict.objId&&!te.has(this.dict.objId)&&te.put(this.dict.objId),ve.type3FontRefs=te;const ie=this.font,ge=this.type3Dependencies;let he=Promise.resolve();const ue=this.dict.get("CharProcs"),we=this.dict.get("Resources")||Te,Ce=Object.create(null),le=n.Util.normalizeRect(ie.bbox||[0,0,0,0]),ke=le[2]-le[0],Fe=le[3]-le[1],de=Math.hypot(ke,Fe);for(const Ee of ue.getKeys())he=he.then(()=>{const Oe=ue.get(Ee),Ne=new q.OperatorList;return ve.getOperatorList({stream:Oe,task:be,resources:we,operatorList:Ne}).then(()=>{Ne.fnArray[0]===n.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Ne,de),Ce[Ee]=Ne.getIR();for(const et of Ne.dependencies)ge.add(et)}).catch(function(et){(0,n.warn)(`Type3 font resource "${Ee}" is not available.`);const rt=new q.OperatorList;Ce[Ee]=rt.getIR()})});return this.type3Loaded=he.then(()=>{ie.charProcOperatorList=Ce,this._bbox&&(ie.isCharBBox=!0,ie.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(fe,Te=NaN){const be=n.Util.normalizeRect(fe.argsArray[0].slice(2)),ve=be[2]-be[0],te=be[3]-be[1],ie=Math.hypot(ve,te);ve===0||te===0?(fe.fnArray.splice(0,1),fe.argsArray.splice(0,1)):(Te===0||Math.round(ie/Te)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],be[0]),this._bbox[1]=Math.min(this._bbox[1],be[1]),this._bbox[2]=Math.max(this._bbox[2],be[2]),this._bbox[3]=Math.max(this._bbox[3],be[3]));let ge=0,he=fe.length;for(;ge<he;){switch(fe.fnArray[ge]){case n.OPS.setCharWidthAndBounds:break;case n.OPS.setStrokeColorSpace:case n.OPS.setFillColorSpace:case n.OPS.setStrokeColor:case n.OPS.setStrokeColorN:case n.OPS.setFillColor:case n.OPS.setFillColorN:case n.OPS.setStrokeGray:case n.OPS.setFillGray:case n.OPS.setStrokeRGBColor:case n.OPS.setFillRGBColor:case n.OPS.setStrokeCMYKColor:case n.OPS.setFillCMYKColor:case n.OPS.shadingFill:case n.OPS.setRenderingIntent:fe.fnArray.splice(ge,1),fe.argsArray.splice(ge,1),he--;continue;case n.OPS.setGState:const[ue]=fe.argsArray[ge];let we=0,Ce=ue.length;for(;we<Ce;){const[le]=ue[we];switch(le){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":ue.splice(we,1),Ce--;continue}we++}break}ge++}}}class r{constructor(fe=new E){this.state=fe,this.stateStack=[]}save(){const fe=this.state;this.stateStack.push(this.state),this.state=fe.clone()}restore(){const fe=this.stateStack.pop();fe&&(this.state=fe)}transform(fe){this.state.ctm=n.Util.transform(this.state.ctm,fe)}}class A{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.textMatrix=n.IDENTITY_MATRIX.slice(),this.textLineMatrix=n.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(fe,Te,be,ve,te,ie){const ge=this.textMatrix;ge[0]=fe,ge[1]=Te,ge[2]=be,ge[3]=ve,ge[4]=te,ge[5]=ie}setTextLineMatrix(fe,Te,be,ve,te,ie){const ge=this.textLineMatrix;ge[0]=fe,ge[1]=Te,ge[2]=be,ge[3]=ve,ge[4]=te,ge[5]=ie}translateTextMatrix(fe,Te){const be=this.textMatrix;be[4]=be[0]*fe+be[2]*Te+be[4],be[5]=be[1]*fe+be[3]*Te+be[5]}translateTextLineMatrix(fe,Te){const be=this.textLineMatrix;be[4]=be[0]*fe+be[2]*Te+be[4],be[5]=be[1]*fe+be[3]*Te+be[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const fe=Object.create(this);return fe.textMatrix=this.textMatrix.slice(),fe.textLineMatrix=this.textLineMatrix.slice(),fe.fontMatrix=this.fontMatrix.slice(),fe}}class E{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=n.TextRenderingMode.FILL,this.fillColorSpace=P.ColorSpace.singletons.gray,this.strokeColorSpace=P.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const ce=class ce{static get opMap(){return(0,n.shadow)(this,"opMap",{w:{id:n.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:n.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:n.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:n.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:n.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:n.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:n.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:n.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:n.OPS.save,numArgs:0,variableArgs:!1},Q:{id:n.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:n.OPS.transform,numArgs:6,variableArgs:!1},m:{id:n.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:n.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:n.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:n.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:n.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:n.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:n.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:n.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:n.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:n.OPS.fill,numArgs:0,variableArgs:!1},F:{id:n.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:n.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:n.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:n.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:n.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:n.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:n.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:n.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:n.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:n.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:n.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:n.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:n.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:n.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:n.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:n.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:n.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:n.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:n.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:n.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:n.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:n.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:n.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:n.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:n.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:n.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:n.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:n.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:n.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:n.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:n.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:n.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:n.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:n.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:n.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:n.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:n.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:n.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:n.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:n.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:n.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:n.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:n.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:n.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:n.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:n.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:n.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:n.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:n.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:n.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:n.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:n.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}constructor(fe,Te,be=new r){this.parser=new f.Parser({lexer:new f.Lexer(fe,ce.opMap),xref:Te}),this.stateManager=be,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(fe){let Te=fe.args;for(;;){const be=this.parser.getObj();if(be instanceof U.Cmd){const ve=be.cmd,te=ce.opMap[ve];if(!te){(0,n.warn)(`Unknown command "${ve}".`);continue}const ie=te.id,ge=te.numArgs;let he=Te!==null?Te.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=ie>=n.OPS.moveTo&&ie<=n.OPS.endPath,te.variableArgs)he>ge&&(0,n.info)(`Command ${ve}: expected [0, ${ge}] args, but received ${he} args.`);else{if(he!==ge){const ue=this.nonProcessedArgs;for(;he>ge;)ue.push(Te.shift()),he--;for(;he<ge&&ue.length!==0;)Te===null&&(Te=[]),Te.unshift(ue.pop()),he++}if(he<ge){const ue=`command ${ve}: expected ${ge} args, but received ${he} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>ce.MAX_INVALID_PATH_OPS)throw new n.FormatError(`Invalid ${ue}`);(0,n.warn)(`Skipping ${ue}`),Te!==null&&(Te.length=0);continue}}return this.preprocessCommand(ie,Te),fe.fn=ie,fe.args=Te,!0}if(be===U.EOF)return!1;if(be!==null&&(Te===null&&(Te=[]),Te.push(be),Te.length>33))throw new n.FormatError("Too many arguments")}}preprocessCommand(fe,Te){switch(fe|0){case n.OPS.save:this.stateManager.save();break;case n.OPS.restore:this.stateManager.restore();break;case n.OPS.transform:this.stateManager.transform(Te);break}}};br(ce,"MAX_INVALID_PATH_OPS",10);let G=ce;h.EvaluatorPreprocessor=G},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.IdentityCMap=h.CMapFactory=h.CMap=void 0;var n=re(2),x=re(4),U=re(5),e=re(15),t=re(16),o=re(3),K=re(8);const X=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],L=2**24-1;class O{constructor(b=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=b}addCodespaceRange(b,D,Z){this.codespaceRanges[b-1].push(D,Z),this.numCodespaceRanges++}mapCidRange(b,D,Z){if(D-b>L)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;b<=D;)this._map[b++]=Z++}mapBfRange(b,D,Z){if(D-b>L)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const N=Z.length-1;for(;b<=D;){this._map[b++]=Z;const v=Z.charCodeAt(N)+1;if(v>255){Z=Z.substring(0,N-1)+String.fromCharCode(Z.charCodeAt(N-1)+1)+"\0";continue}Z=Z.substring(0,N)+String.fromCharCode(v)}}mapBfRangeToArray(b,D,Z){if(D-b>L)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const N=Z.length;let v=0;for(;b<=D&&v<N;)this._map[b]=Z[v++],++b}mapOne(b,D){this._map[b]=D}lookup(b){return this._map[b]}contains(b){return this._map[b]!==void 0}forEach(b){const D=this._map,Z=D.length;if(Z<=65536)for(let N=0;N<Z;N++)D[N]!==void 0&&b(N,D[N]);else for(const N in D)b(N,D[N])}charCodeOf(b){const D=this._map;if(D.length<=65536)return D.indexOf(b);for(const Z in D)if(D[Z]===b)return Z|0;return-1}getMap(){return this._map}readCharCode(b,D,Z){let N=0;const v=this.codespaceRanges;for(let S=0,I=v.length;S<I;S++){N=(N<<8|b.charCodeAt(D+S))>>>0;const u=v[S];for(let y=0,r=u.length;y<r;){const A=u[y++],E=u[y++];if(N>=A&&N<=E){Z.charcode=N,Z.length=S+1;return}}}Z.charcode=0,Z.length=1}getCharCodeLength(b){const D=this.codespaceRanges;for(let Z=0,N=D.length;Z<N;Z++){const v=D[Z];for(let S=0,I=v.length;S<I;){const u=v[S++],y=v[S++];if(b>=u&&b<=y)return Z+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let b=0;b<65536;b++)if(this._map[b]!==b)return!1;return!0}}h.CMap=O;class f extends O{constructor(b,D){super(),this.vertical=b,this.addCodespaceRange(D,0,65535)}mapCidRange(b,D,Z){(0,n.unreachable)("should not call mapCidRange")}mapBfRange(b,D,Z){(0,n.unreachable)("should not call mapBfRange")}mapBfRangeToArray(b,D,Z){(0,n.unreachable)("should not call mapBfRangeToArray")}mapOne(b,D){(0,n.unreachable)("should not call mapCidOne")}lookup(b){return Number.isInteger(b)&&b<=65535?b:void 0}contains(b){return Number.isInteger(b)&&b<=65535}forEach(b){for(let D=0;D<=65535;D++)b(D,D)}charCodeOf(b){return Number.isInteger(b)&&b<=65535?b:-1}getMap(){const b=new Array(65536);for(let D=0;D<=65535;D++)b[D]=D;return b}get length(){return 65536}get isIdentityCMap(){(0,n.unreachable)("should not access .isIdentityCMap")}}h.IdentityCMap=f;function p(l){let b=0;for(let D=0;D<l.length;D++)b=b<<8|l.charCodeAt(D);return b>>>0}function i(l){if(typeof l!="string")throw new n.FormatError("Malformed CMap: expected string.")}function T(l){if(!Number.isInteger(l))throw new n.FormatError("Malformed CMap: expected int.")}function F(l,b){for(;;){let D=b.getObj();if(D===x.EOF)break;if((0,x.isCmd)(D,"endbfchar"))return;i(D);const Z=p(D);D=b.getObj(),i(D);const N=D;l.mapOne(Z,N)}}function P(l,b){for(;;){let D=b.getObj();if(D===x.EOF)break;if((0,x.isCmd)(D,"endbfrange"))return;i(D);const Z=p(D);D=b.getObj(),i(D);const N=p(D);if(D=b.getObj(),Number.isInteger(D)||typeof D=="string"){const v=Number.isInteger(D)?String.fromCharCode(D):D;l.mapBfRange(Z,N,v)}else if((0,x.isCmd)(D,"[")){D=b.getObj();const v=[];for(;!(0,x.isCmd)(D,"]")&&D!==x.EOF;)v.push(D),D=b.getObj();l.mapBfRangeToArray(Z,N,v)}else break}throw new n.FormatError("Invalid bf range.")}function C(l,b){for(;;){let D=b.getObj();if(D===x.EOF)break;if((0,x.isCmd)(D,"endcidchar"))return;i(D);const Z=p(D);D=b.getObj(),T(D);const N=D;l.mapOne(Z,N)}}function H(l,b){for(;;){let D=b.getObj();if(D===x.EOF)break;if((0,x.isCmd)(D,"endcidrange"))return;i(D);const Z=p(D);D=b.getObj(),i(D);const N=p(D);D=b.getObj(),T(D);const v=D;l.mapCidRange(Z,N,v)}}function $(l,b){for(;;){let D=b.getObj();if(D===x.EOF)break;if((0,x.isCmd)(D,"endcodespacerange"))return;if(typeof D!="string")break;const Z=p(D);if(D=b.getObj(),typeof D!="string")break;const N=p(D);l.addCodespaceRange(D.length,Z,N)}throw new n.FormatError("Invalid codespace range.")}function se(l,b){const D=b.getObj();Number.isInteger(D)&&(l.vertical=!!D)}function _(l,b){const D=b.getObj();D instanceof x.Name&&(l.name=D.name)}async function Q(l,b,D,Z){let N,v;e:for(;;)try{const S=b.getObj();if(S===x.EOF)break;if(S instanceof x.Name)S.name==="WMode"?se(l,b):S.name==="CMapName"&&_(l,b),N=S;else if(S instanceof x.Cmd)switch(S.cmd){case"endcmap":break e;case"usecmap":N instanceof x.Name&&(v=N.name);break;case"begincodespacerange":$(l,b);break;case"beginbfchar":F(l,b);break;case"begincidchar":C(l,b);break;case"beginbfrange":P(l,b);break;case"begincidrange":H(l,b);break}}catch(S){if(S instanceof o.MissingDataException)throw S;(0,n.warn)("Invalid cMap data: "+S);continue}return!Z&&v&&(Z=v),Z?d(l,D,Z):l}async function d(l,b,D){if(l.useCMap=await w(D,b),l.numCodespaceRanges===0){const Z=l.useCMap.codespaceRanges;for(let N=0;N<Z.length;N++)l.codespaceRanges[N]=Z[N].slice();l.numCodespaceRanges=l.useCMap.numCodespaceRanges}return l.useCMap.forEach(function(Z,N){l.contains(Z)||l.mapOne(Z,l.useCMap.lookup(Z))}),l}async function w(l,b){if(l==="Identity-H")return new f(!1,2);if(l==="Identity-V")return new f(!0,2);if(!X.includes(l))throw new Error("Unknown CMap name: "+l);if(!b)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:D,compressionType:Z}=await b(l),N=new O(!0);if(Z===n.CMapCompressionType.BINARY)return new e.BinaryCMapReader().process(D,N,v=>d(N,b,v));if(Z===n.CMapCompressionType.NONE){const v=new t.Lexer(new K.Stream(D));return Q(N,v,b,null)}throw new Error(`Invalid CMap "compressionType" value: ${Z}`)}class q{static async create({encoding:b,fetchBuiltInCMap:D,useCMap:Z}){if(b instanceof x.Name)return w(b.name,D);if(b instanceof U.BaseStream){const N=await Q(new O,new t.Lexer(b),D,Z);return N.isIdentityCMap?w(N.name,D):N}throw new Error("Encoding required.")}}h.CMapFactory=q},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BinaryCMapReader=void 0;var n=re(2);function x(O,f){let p=0;for(let i=0;i<=f;i++)p=p<<8|O[i];return p>>>0}function U(O,f){return f===1?String.fromCharCode(O[0],O[1]):f===3?String.fromCharCode(O[0],O[1],O[2],O[3]):String.fromCharCode(...O.subarray(0,f+1))}function e(O,f,p){let i=0;for(let T=p;T>=0;T--)i+=O[T]+f[T],O[T]=i&255,i>>=8}function t(O,f){let p=1;for(let i=f;i>=0&&p>0;i--)p+=O[i],O[i]=p&255,p>>=8}const o=16,K=19;class X{constructor(f){this.buffer=f,this.pos=0,this.end=f.length,this.tmpBuf=new Uint8Array(K)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let f=0,p;do{const i=this.readByte();if(i<0)throw new n.FormatError("unexpected EOF in bcmap");p=!(i&128),f=f<<7|i&127}while(!p);return f}readSigned(){const f=this.readNumber();return f&1?~(f>>>1):f>>>1}readHex(f,p){f.set(this.buffer.subarray(this.pos,this.pos+p+1)),this.pos+=p+1}readHexNumber(f,p){let i;const T=this.tmpBuf;let F=0;do{const $=this.readByte();if($<0)throw new n.FormatError("unexpected EOF in bcmap");i=!($&128),T[F++]=$&127}while(!i);let P=p,C=0,H=0;for(;P>=0;){for(;H<8&&T.length>0;)C|=T[--F]<<H,H+=7;f[P]=C&255,P--,C>>=8,H-=8}}readHexSigned(f,p){this.readHexNumber(f,p);const i=f[p]&1?255:0;let T=0;for(let F=0;F<=p;F++)T=(T&1)<<8|f[F],f[F]=T>>1^i}readString(){const f=this.readNumber(),p=new Array(f);for(let i=0;i<f;i++)p[i]=this.readNumber();return String.fromCharCode(...p)}}class L{async process(f,p,i){const T=new X(f),F=T.readByte();p.vertical=!!(F&1);let P=null;const C=new Uint8Array(o),H=new Uint8Array(o),$=new Uint8Array(o),se=new Uint8Array(o),_=new Uint8Array(o);let Q,d;for(;(d=T.readByte())>=0;){const w=d>>5;if(w===7){switch(d&31){case 0:T.readString();break;case 1:P=T.readString();break}continue}const q=!!(d&16),l=d&15;if(l+1>o)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const b=1,D=T.readNumber();switch(w){case 0:T.readHex(C,l),T.readHexNumber(H,l),e(H,C,l),p.addCodespaceRange(l+1,x(C,l),x(H,l));for(let Z=1;Z<D;Z++)t(H,l),T.readHexNumber(C,l),e(C,H,l),T.readHexNumber(H,l),e(H,C,l),p.addCodespaceRange(l+1,x(C,l),x(H,l));break;case 1:T.readHex(C,l),T.readHexNumber(H,l),e(H,C,l),T.readNumber();for(let Z=1;Z<D;Z++)t(H,l),T.readHexNumber(C,l),e(C,H,l),T.readHexNumber(H,l),e(H,C,l),T.readNumber();break;case 2:T.readHex($,l),Q=T.readNumber(),p.mapOne(x($,l),Q);for(let Z=1;Z<D;Z++)t($,l),q||(T.readHexNumber(_,l),e($,_,l)),Q=T.readSigned()+(Q+1),p.mapOne(x($,l),Q);break;case 3:T.readHex(C,l),T.readHexNumber(H,l),e(H,C,l),Q=T.readNumber(),p.mapCidRange(x(C,l),x(H,l),Q);for(let Z=1;Z<D;Z++)t(H,l),q?C.set(H):(T.readHexNumber(C,l),e(C,H,l)),T.readHexNumber(H,l),e(H,C,l),Q=T.readNumber(),p.mapCidRange(x(C,l),x(H,l),Q);break;case 4:T.readHex($,b),T.readHex(se,l),p.mapOne(x($,b),U(se,l));for(let Z=1;Z<D;Z++)t($,b),q||(T.readHexNumber(_,b),e($,_,b)),t(se,l),T.readHexSigned(_,l),e(se,_,l),p.mapOne(x($,b),U(se,l));break;case 5:T.readHex(C,b),T.readHexNumber(H,b),e(H,C,b),T.readHex(se,l),p.mapBfRange(x(C,b),x(H,b),U(se,l));for(let Z=1;Z<D;Z++)t(H,b),q?C.set(H):(T.readHexNumber(C,b),e(C,H,b)),T.readHexNumber(H,b),e(H,C,b),T.readHex(se,l),p.mapBfRange(x(C,b),x(H,b),U(se,l));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${w}`)}}return P?i(P):p}}h.BinaryCMapReader=L},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Parser=h.Linearization=h.Lexer=void 0;var n=re(2),x=re(4),U=re(3),e=re(8),t=re(17),o=re(19),K=re(20),X=re(22),L=re(23),O=re(26),f=re(29),p=re(31),i=re(32),T=re(33);const F=1e3;function P(Q){const d=[],w=Q.length;let q=0;for(;q<w-1;)d.push(Q[q++]<<8|Q[q++]);return q<w&&d.push(Q[q]),w+"_"+String.fromCharCode.apply(null,d)}class C{constructor({lexer:d,xref:w,allowStreams:q=!1,recoveryMode:l=!1}){this.lexer=d,this.xref=w,this.allowStreams=q,this.recoveryMode=l,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof x.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(d){if(d instanceof U.MissingDataException)throw d;return!1}}getObj(d=null){const w=this.buf1;if(this.shift(),w instanceof x.Cmd)switch(w.cmd){case"BI":return this.makeInlineImage(d);case"[":const q=[];for(;!(0,x.isCmd)(this.buf1,"]")&&this.buf1!==x.EOF;)q.push(this.getObj(d));if(this.buf1===x.EOF){if(this.recoveryMode)return q;throw new U.ParserEOFException("End of file inside array.")}return this.shift(),q;case"<<":const l=new x.Dict(this.xref);for(;!(0,x.isCmd)(this.buf1,">>")&&this.buf1!==x.EOF;){if(!(this.buf1 instanceof x.Name)){(0,n.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const b=this.buf1.name;if(this.shift(),this.buf1===x.EOF)break;l.set(b,this.getObj(d))}if(this.buf1===x.EOF){if(this.recoveryMode)return l;throw new U.ParserEOFException("End of file inside dictionary.")}return(0,x.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(l,d):l:(this.shift(),l);default:return w}if(Number.isInteger(w)){if(Number.isInteger(this.buf1)&&(0,x.isCmd)(this.buf2,"R")){const q=x.Ref.get(w,this.buf1);return this.shift(),this.shift(),q}return w}return typeof w=="string"&&d?d.decryptString(w):w}findDefaultInlineStreamEnd(d){const{knownCommands:N}=this.lexer,v=d.pos,S=15;let I=0,u,y;for(;(u=d.getByte())!==-1;)if(I===0)I=u===69?1:0;else if(I===1)I=u===73?2:0;else if(u===32||u===10||u===13){y=d.pos;const A=d.peekBytes(S),E=A.length;if(E===0)break;for(let ce=0;ce<E;ce++)if(u=A[ce],!(u===0&&A[ce+1]!==0)&&u!==10&&u!==13&&(u<32||u>127)){I=0;break}if(I!==2)continue;if(!N){(0,n.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const G=new se(new e.Stream(A.slice()),N);G._hexStringWarn=()=>{};let ae=0;for(;;){const ce=G.getObj();if(ce===x.EOF){I=0;break}if(ce instanceof x.Cmd){const Ie=N[ce.cmd];if(Ie){if(Ie.variableArgs?ae<=Ie.numArgs:ae===Ie.numArgs)break}else{I=0;break}ae=0;continue}ae++}if(I===2)break}else I=0;u===-1&&((0,n.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),y&&((0,n.warn)('... trying to recover by using the last "EI" occurrence.'),d.skip(-(d.pos-y))));let r=4;return d.skip(-r),u=d.peekByte(),d.skip(r),(0,U.isWhiteSpace)(u)||r--,d.pos-r-v}findDCTDecodeInlineStreamEnd(d){const w=d.pos;let q=!1,l,b;for(;(l=d.getByte())!==-1;)if(l===255){switch(d.getByte()){case 0:break;case 255:d.skip(-1);break;case 217:q=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:b=d.getUint16(),b>2?d.skip(b-2):d.skip(-2);break}if(q)break}const D=d.pos-w;return l===-1?((0,n.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),d.skip(-D),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),D)}findASCII85DecodeInlineStreamEnd(d){const l=d.pos;let b;for(;(b=d.getByte())!==-1;)if(b===126){const Z=d.pos;for(b=d.peekByte();(0,U.isWhiteSpace)(b);)d.skip(),b=d.peekByte();if(b===62){d.skip();break}if(d.pos>Z){const N=d.peekBytes(2);if(N[0]===69&&N[1]===73)break}}const D=d.pos-l;return b===-1?((0,n.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),d.skip(-D),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),D)}findASCIIHexDecodeInlineStreamEnd(d){const q=d.pos;let l;for(;(l=d.getByte())!==-1&&l!==62;);const b=d.pos-q;return l===-1?((0,n.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),d.skip(-b),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),b)}inlineStreamSkipEI(d){let l=0,b;for(;(b=d.getByte())!==-1;)if(l===0)l=b===69?1:0;else if(l===1)l=b===73?2:0;else if(l===2)break}makeInlineImage(d){const w=this.lexer,q=w.stream,l=Object.create(null);let b;for(;!(0,x.isCmd)(this.buf1,"ID")&&this.buf1!==x.EOF;){if(!(this.buf1 instanceof x.Name))throw new n.FormatError("Dictionary key must be a name object");const y=this.buf1.name;if(this.shift(),this.buf1===x.EOF)break;l[y]=this.getObj(d)}w.beginInlineImagePos!==-1&&(b=q.pos-w.beginInlineImagePos);const D=this.xref.fetchIfRef(l.F||l.Filter);let Z;if(D instanceof x.Name)Z=D.name;else if(Array.isArray(D)){const y=this.xref.fetchIfRef(D[0]);y instanceof x.Name&&(Z=y.name)}const N=q.pos;let v;switch(Z){case"DCT":case"DCTDecode":v=this.findDCTDecodeInlineStreamEnd(q);break;case"A85":case"ASCII85Decode":v=this.findASCII85DecodeInlineStreamEnd(q);break;case"AHx":case"ASCIIHexDecode":v=this.findASCIIHexDecodeInlineStreamEnd(q);break;default:v=this.findDefaultInlineStreamEnd(q)}let S;if(v<F&&b>0){const y=q.pos;q.pos=w.beginInlineImagePos,S=P(q.getBytes(b+v)),q.pos=y;const r=this.imageCache[S];if(r!==void 0)return this.buf2=x.Cmd.get("EI"),this.shift(),r.reset(),r}const I=new x.Dict(this.xref);for(const y in l)I.set(y,l[y]);let u=q.makeSubStream(N,v,I);return d&&(u=d.createStream(u,v)),u=this.filter(u,I,v),u.dict=I,S!==void 0&&(u.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[S]=u),this.buf2=x.Cmd.get("EI"),this.shift(),u}_findStreamLength(d,w){const{stream:q}=this.lexer;q.pos=d;const l=2048,b=w.length;for(;q.pos<q.end;){const D=q.peekBytes(l),Z=D.length-b;if(Z<=0)break;let N=0;for(;N<Z;){let v=0;for(;v<b&&D[N+v]===w[v];)v++;if(v>=b)return q.pos+=N,q.pos-d;N++}q.pos+=Z}return-1}makeStream(d,w){const q=this.lexer;let l=q.stream;q.skipToNextLine();const b=l.pos-1;let D=d.get("Length");if(Number.isInteger(D)||((0,n.info)(`Bad length "${D&&D.toString()}" in stream.`),D=0),l.pos=b+D,q.nextChar(),this.tryShift()&&(0,x.isCmd)(this.buf2,"endstream"))this.shift();else{const Z=new Uint8Array([101,110,100,115,116,114,101,97,109]);let N=this._findStreamLength(b,Z);if(N<0){for(let S=1;S<=1;S++){const I=Z.length-S,u=Z.slice(0,I),y=this._findStreamLength(b,u);if(y>=0){const r=l.peekBytes(I+1)[I];if(!(0,U.isWhiteSpace)(r))break;(0,n.info)(`Found "${(0,n.bytesToString)(u)}" when searching for endstream command.`),N=y;break}}if(N<0)throw new n.FormatError("Missing endstream command.")}D=N,q.nextChar(),this.shift(),this.shift()}return this.shift(),l=l.makeSubStream(b,D,d),w&&(l=w.createStream(l,D)),l=this.filter(l,d,D),l.dict=d,l}filter(d,w,q){let l=w.get("F","Filter"),b=w.get("DP","DecodeParms");if(l instanceof x.Name)return Array.isArray(b)&&(0,n.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(d,l.name,q,b);let D=q;if(Array.isArray(l)){const Z=l,N=b;for(let v=0,S=Z.length;v<S;++v){if(l=this.xref.fetchIfRef(Z[v]),!(l instanceof x.Name))throw new n.FormatError(`Bad filter name "${l}"`);b=null,Array.isArray(N)&&v in N&&(b=this.xref.fetchIfRef(N[v])),d=this.makeFilter(d,l.name,D,b),D=null}}return d}makeFilter(d,w,q,l){if(q===0)return(0,n.warn)(`Empty "${w}" stream.`),new e.NullStream;try{switch(w){case"Fl":case"FlateDecode":return l?new i.PredictorStream(new X.FlateStream(d,q),q,l):new X.FlateStream(d,q);case"LZW":case"LZWDecode":let b=1;return l?(l.has("EarlyChange")&&(b=l.get("EarlyChange")),new i.PredictorStream(new p.LZWStream(d,q,b),q,l)):new p.LZWStream(d,q,b);case"DCT":case"DCTDecode":return new O.JpegStream(d,q,l);case"JPX":case"JPXDecode":return new f.JpxStream(d,q,l);case"A85":case"ASCII85Decode":return new t.Ascii85Stream(d,q);case"AHx":case"ASCIIHexDecode":return new o.AsciiHexStream(d,q);case"CCF":case"CCITTFaxDecode":return new K.CCITTFaxStream(d,q,l);case"RL":case"RunLengthDecode":return new T.RunLengthStream(d,q);case"JBIG2Decode":return new L.Jbig2Stream(d,q,l)}return(0,n.warn)(`Filter "${w}" is not supported.`),d}catch(b){if(b instanceof U.MissingDataException)throw b;return(0,n.warn)(`Invalid stream: "${b}"`),new e.NullStream}}}h.Parser=C;const H=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function $(Q){return Q>=48&&Q<=57?Q&15:Q>=65&&Q<=70||Q>=97&&Q<=102?(Q&15)+9:-1}class se{constructor(d,w=null){this.stream=d,this.nextChar(),this.strBuf=[],this.knownCommands=w,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let d=this.currentChar,w=!1,q=0,l=1;if(d===45?(l=-1,d=this.nextChar(),d===45&&(d=this.nextChar())):d===43&&(d=this.nextChar()),d===10||d===13)do d=this.nextChar();while(d===10||d===13);if(d===46&&(q=10,d=this.nextChar()),d<48||d>57){const N=`Invalid number: ${String.fromCharCode(d)} (charCode ${d})`;if((0,U.isWhiteSpace)(d)||d===-1)return(0,n.info)(`Lexer.getNumber - "${N}".`),0;throw new n.FormatError(N)}let b=d-48,D=0,Z=1;for(;(d=this.nextChar())>=0;)if(d>=48&&d<=57){const N=d-48;w?D=D*10+N:(q!==0&&(q*=10),b=b*10+N)}else if(d===46)if(q===0)q=1;else break;else if(d===45)(0,n.warn)("Badly formatted number: minus sign in the middle");else if(d===69||d===101){if(d=this.peekChar(),d===43||d===45)Z=d===45?-1:1,this.nextChar();else if(d<48||d>57)break;w=!0}else break;return q!==0&&(b/=q),w&&(b*=10**(Z*D)),l*b}getString(){let d=1,w=!1;const q=this.strBuf;q.length=0;let l=this.nextChar();for(;;){let b=!1;switch(l|0){case-1:(0,n.warn)("Unterminated string"),w=!0;break;case 40:++d,q.push("(");break;case 41:--d===0?(this.nextChar(),w=!0):q.push(")");break;case 92:switch(l=this.nextChar(),l){case-1:(0,n.warn)("Unterminated string"),w=!0;break;case 110:q.push(`
`);break;case 114:q.push("\r");break;case 116:q.push("	");break;case 98:q.push("\b");break;case 102:q.push("\f");break;case 92:case 40:case 41:q.push(String.fromCharCode(l));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let D=l&15;l=this.nextChar(),b=!0,l>=48&&l<=55&&(D=(D<<3)+(l&15),l=this.nextChar(),l>=48&&l<=55&&(b=!1,D=(D<<3)+(l&15))),q.push(String.fromCharCode(D));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:q.push(String.fromCharCode(l));break}break;default:q.push(String.fromCharCode(l));break}if(w)break;b||(l=this.nextChar())}return q.join("")}getName(){let d,w;const q=this.strBuf;for(q.length=0;(d=this.nextChar())>=0&&!H[d];)if(d===35){if(d=this.nextChar(),H[d]){(0,n.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),q.push("#");break}const l=$(d);if(l!==-1){w=d,d=this.nextChar();const b=$(d);if(b===-1){if((0,n.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(d)}) in hexadecimal number.`),q.push("#",String.fromCharCode(w)),H[d])break;q.push(String.fromCharCode(d));continue}q.push(String.fromCharCode(l<<4|b))}else q.push("#",String.fromCharCode(d))}else q.push(String.fromCharCode(d));return q.length>127&&(0,n.warn)(`Name token is longer than allowed by the spec: ${q.length}`),x.Name.get(q.join(""))}_hexStringWarn(d){if(this._hexStringNumWarn++===5){(0,n.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,n.warn)(`getHexString - ignoring invalid character: ${d}`)}getHexString(){const d=this.strBuf;d.length=0;let w=this.currentChar,q=!0,l,b;for(this._hexStringNumWarn=0;;)if(w<0){(0,n.warn)("Unterminated hex string");break}else if(w===62){this.nextChar();break}else if(H[w]===1){w=this.nextChar();continue}else{if(q){if(l=$(w),l===-1){this._hexStringWarn(w),w=this.nextChar();continue}}else{if(b=$(w),b===-1){this._hexStringWarn(w),w=this.nextChar();continue}d.push(String.fromCharCode(l<<4|b))}q=!q,w=this.nextChar()}return d.join("")}getObj(){let d=!1,w=this.currentChar;for(;;){if(w<0)return x.EOF;if(d)(w===10||w===13)&&(d=!1);else if(w===37)d=!0;else if(H[w]!==1)break;w=this.nextChar()}switch(w|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),x.Cmd.get("[");case 93:return this.nextChar(),x.Cmd.get("]");case 60:return w=this.nextChar(),w===60?(this.nextChar(),x.Cmd.get("<<")):this.getHexString();case 62:return w=this.nextChar(),w===62?(this.nextChar(),x.Cmd.get(">>")):x.Cmd.get(">");case 123:return this.nextChar(),x.Cmd.get("{");case 125:return this.nextChar(),x.Cmd.get("}");case 41:throw this.nextChar(),new n.FormatError(`Illegal character: ${w}`)}let q=String.fromCharCode(w);if(w<32||w>127){const D=this.peekChar();if(D>=32&&D<=127)return this.nextChar(),x.Cmd.get(q)}const l=this.knownCommands;let b=(l==null?void 0:l[q])!==void 0;for(;(w=this.nextChar())>=0&&!H[w];){const D=q+String.fromCharCode(w);if(b&&l[D]===void 0)break;if(q.length===128)throw new n.FormatError(`Command token too long: ${q.length}`);q=D,b=(l==null?void 0:l[q])!==void 0}return q==="true"?!0:q==="false"?!1:q==="null"?null:(q==="BI"&&(this.beginInlineImagePos=this.stream.pos),x.Cmd.get(q))}skipToNextLine(){let d=this.currentChar;for(;d>=0;){if(d===13){d=this.nextChar(),d===10&&this.nextChar();break}else if(d===10){this.nextChar();break}d=this.nextChar()}}}h.Lexer=se;class _{static create(d){function w(I,u,y=!1){const r=I.get(u);if(Number.isInteger(r)&&(y?r>=0:r>0))return r;throw new Error(`The "${u}" parameter in the linearization dictionary is invalid.`)}function q(I){const u=I.get("H");let y;if(Array.isArray(u)&&((y=u.length)===2||y===4)){for(let r=0;r<y;r++){const A=u[r];if(!(Number.isInteger(A)&&A>0))throw new Error(`Hint (${r}) in the linearization dictionary is invalid.`)}return u}throw new Error("Hint array in the linearization dictionary is invalid.")}const l=new C({lexer:new se(d),xref:null}),b=l.getObj(),D=l.getObj(),Z=l.getObj(),N=l.getObj();let v,S;if(Number.isInteger(b)&&Number.isInteger(D)&&(0,x.isCmd)(Z,"obj")&&N instanceof x.Dict&&typeof(v=N.get("Linearized"))=="number"&&v>0){if((S=w(N,"L"))!==d.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:S,hints:q(N),objectNumberFirst:w(N,"O"),endFirst:w(N,"E"),numPages:w(N,"N"),mainXRefEntriesOffset:w(N,"T"),pageFirst:N.has("P")?w(N,"P",!0):0}}}h.Linearization=_},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Ascii85Stream=void 0;var n=re(18),x=re(3);class U extends n.DecodeStream{constructor(t,o){o&&(o*=.8),super(o),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const X=this.str;let L=X.getByte();for(;(0,x.isWhiteSpace)(L);)L=X.getByte();if(L===-1||L===126){this.eof=!0;return}const O=this.bufferLength;let f,p;if(L===122){for(f=this.ensureBuffer(O+4),p=0;p<4;++p)f[O+p]=0;this.bufferLength+=4}else{const i=this.input;for(i[0]=L,p=1;p<5;++p){for(L=X.getByte();(0,x.isWhiteSpace)(L);)L=X.getByte();if(i[p]=L,L===-1||L===126)break}if(f=this.ensureBuffer(O+p-1),this.bufferLength+=p-1,p<5){for(;p<5;++p)i[p]=117;this.eof=!0}let T=0;for(p=0;p<5;++p)T=T*85+(i[p]-33);for(p=3;p>=0;--p)f[O+p]=T&255,T>>=8}}}h.Ascii85Stream=U},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StreamsSequenceStream=h.DecodeStream=void 0;var n=re(5),x=re(8);const U=new Uint8Array(0);class e extends n.BaseStream{constructor(K){if(super(),this._rawMinBufferLength=K||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=U,this.minBufferLength=512,K)for(;this.minBufferLength<K;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(K){const X=this.buffer;if(K<=X.byteLength)return X;let L=this.minBufferLength;for(;L<K;)L*=2;const O=new Uint8Array(L);return O.set(X),this.buffer=O}getByte(){const K=this.pos;for(;this.bufferLength<=K;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(K){const X=this.pos;let L;if(K){for(this.ensureBuffer(X+K),L=X+K;!this.eof&&this.bufferLength<L;)this.readBlock();const O=this.bufferLength;L>O&&(L=O)}else{for(;!this.eof;)this.readBlock();L=this.bufferLength}return this.pos=L,this.buffer.subarray(X,L)}reset(){this.pos=0}makeSubStream(K,X,L=null){if(X===void 0)for(;!this.eof;)this.readBlock();else{const O=K+X;for(;this.bufferLength<=O&&!this.eof;)this.readBlock()}return new x.Stream(this.buffer,K,X,L)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}h.DecodeStream=e;class t extends e{constructor(K,X=null){let L=0;for(const O of K)L+=O instanceof e?O._rawMinBufferLength:O.length;super(L),this.streams=K,this._onError=X}readBlock(){var i;const K=this.streams;if(K.length===0){this.eof=!0;return}const X=K.shift();let L;try{L=X.getBytes()}catch(T){if(this._onError){this._onError(T,(i=X.dict)==null?void 0:i.objId);return}throw T}const O=this.bufferLength,f=O+L.length;this.ensureBuffer(f).set(L,O),this.bufferLength=f}getBaseStreams(){const K=[];for(const X of this.streams){const L=X.getBaseStreams();L&&K.push(...L)}return K.length>0?K:null}}h.StreamsSequenceStream=t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AsciiHexStream=void 0;var n=re(18);class x extends n.DecodeStream{constructor(e,t){t&&(t*=.5),super(t),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const t=this.str.getBytes(8e3);if(!t.length){this.eof=!0;return}const o=t.length+1>>1,K=this.ensureBuffer(this.bufferLength+o);let X=this.bufferLength,L=this.firstDigit;for(const O of t){let f;if(O>=48&&O<=57)f=O&15;else if(O>=65&&O<=70||O>=97&&O<=102)f=(O&15)+9;else if(O===62){this.eof=!0;break}else continue;L<0?L=f:(K[X++]=L<<4|f,L=-1)}L>=0&&this.eof&&(K[X++]=L<<4,L=-1),this.firstDigit=L,this.bufferLength=X}}h.AsciiHexStream=x},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CCITTFaxStream=void 0;var n=re(21),x=re(18),U=re(4);class e extends x.DecodeStream{constructor(o,K,X){super(K),this.str=o,this.dict=o.dict,X instanceof U.Dict||(X=U.Dict.empty);const L={next(){return o.getByte()}};this.ccittFaxDecoder=new n.CCITTFaxDecoder(L,{K:X.get("K"),EndOfLine:X.get("EndOfLine"),EncodedByteAlign:X.get("EncodedByteAlign"),Columns:X.get("Columns"),Rows:X.get("Rows"),EndOfBlock:X.get("EndOfBlock"),BlackIs1:X.get("BlackIs1")})}readBlock(){for(;!this.eof;){const o=this.ccittFaxDecoder.readNextChar();if(o===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=o}}}h.CCITTFaxStream=e},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CCITTFaxDecoder=void 0;var n=re(2);const x=-2,U=-1,e=0,t=1,o=2,K=3,X=4,L=5,O=6,f=7,p=8,i=[[-1,-1],[-1,-1],[7,p],[7,f],[6,O],[6,O],[6,L],[6,L],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,X],[3,X],[3,X],[3,X],[3,X],[3,X],[3,X],[3,X],[3,X],[3,X],[3,X],[3,X],[3,X],[3,X],[3,X],[3,X],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[3,K],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o]],T=[[-1,-1],[12,x],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],F=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],P=[[-1,-1],[-1,-1],[12,x],[12,x],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],C=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],H=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class ${constructor(_,Q={}){if(!_||typeof _.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=_,this.eof=!1,this.encoding=Q.K||0,this.eoline=Q.EndOfLine||!1,this.byteAlign=Q.EncodedByteAlign||!1,this.columns=Q.Columns||1728,this.rows=Q.Rows||0,this.eoblock=Q.EndOfBlock??!0,this.black=Q.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let d;for(;(d=this._lookBits(12))===0;)this._eatBits(1);d===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const _=this.refLine,Q=this.codingLine,d=this.columns;let w,q,l,b;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let Z,N,v;if(this.nextLine2D){for(b=0;Q[b]<d;++b)_[b]=Q[b];for(_[b++]=d,_[b]=d,Q[0]=0,this.codingPos=0,w=0,q=0;Q[this.codingPos]<d;)switch(Z=this._getTwoDimCode(),Z){case e:this._addPixels(_[w+1],q),_[w+1]<d&&(w+=2);break;case t:if(Z=N=0,q){do Z+=v=this._getBlackCode();while(v>=64);do N+=v=this._getWhiteCode();while(v>=64)}else{do Z+=v=this._getWhiteCode();while(v>=64);do N+=v=this._getBlackCode();while(v>=64)}for(this._addPixels(Q[this.codingPos]+Z,q),Q[this.codingPos]<d&&this._addPixels(Q[this.codingPos]+N,q^1);_[w]<=Q[this.codingPos]&&_[w]<d;)w+=2;break;case f:if(this._addPixels(_[w]+3,q),q^=1,Q[this.codingPos]<d)for(++w;_[w]<=Q[this.codingPos]&&_[w]<d;)w+=2;break;case L:if(this._addPixels(_[w]+2,q),q^=1,Q[this.codingPos]<d)for(++w;_[w]<=Q[this.codingPos]&&_[w]<d;)w+=2;break;case K:if(this._addPixels(_[w]+1,q),q^=1,Q[this.codingPos]<d)for(++w;_[w]<=Q[this.codingPos]&&_[w]<d;)w+=2;break;case o:if(this._addPixels(_[w],q),q^=1,Q[this.codingPos]<d)for(++w;_[w]<=Q[this.codingPos]&&_[w]<d;)w+=2;break;case p:if(this._addPixelsNeg(_[w]-3,q),q^=1,Q[this.codingPos]<d)for(w>0?--w:++w;_[w]<=Q[this.codingPos]&&_[w]<d;)w+=2;break;case O:if(this._addPixelsNeg(_[w]-2,q),q^=1,Q[this.codingPos]<d)for(w>0?--w:++w;_[w]<=Q[this.codingPos]&&_[w]<d;)w+=2;break;case X:if(this._addPixelsNeg(_[w]-1,q),q^=1,Q[this.codingPos]<d)for(w>0?--w:++w;_[w]<=Q[this.codingPos]&&_[w]<d;)w+=2;break;case U:this._addPixels(d,0),this.eof=!0;break;default:(0,n.info)("bad 2d code"),this._addPixels(d,0),this.err=!0}}else for(Q[0]=0,this.codingPos=0,q=0;Q[this.codingPos]<d;){if(Z=0,q)do Z+=v=this._getBlackCode();while(v>=64);else do Z+=v=this._getWhiteCode();while(v>=64);this._addPixels(Q[this.codingPos]+Z,q),q^=1}let S=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(Z=this._lookBits(12),this.eoline)for(;Z!==U&&Z!==1;)this._eatBits(1),Z=this._lookBits(12);else for(;Z===0;)this._eatBits(1),Z=this._lookBits(12);Z===1?(this._eatBits(12),S=!0):Z===U&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&S&&this.byteAlign){if(Z=this._lookBits(12),Z===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(b=0;b<4;++b)Z=this._lookBits(12),Z!==1&&(0,n.info)("bad rtc code: "+Z),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(Z=this._lookBits(13),Z===U)return this.eof=!0,-1;if(Z>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(Z&1))}this.outputBits=Q[0]>0?Q[this.codingPos=0]:Q[this.codingPos=1],this.row++}let D;if(this.outputBits>=8)D=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&Q[this.codingPos]<d&&(this.codingPos++,this.outputBits=Q[this.codingPos]-Q[this.codingPos-1]);else{l=8,D=0;do{if(typeof this.outputBits!="number")throw new n.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>l?(D<<=l,this.codingPos&1||(D|=255>>8-l),this.outputBits-=l,l=0):(D<<=this.outputBits,this.codingPos&1||(D|=255>>8-this.outputBits),l-=this.outputBits,this.outputBits=0,Q[this.codingPos]<d?(this.codingPos++,this.outputBits=Q[this.codingPos]-Q[this.codingPos-1]):l>0&&(D<<=l,l=0))}while(l)}return this.black&&(D^=255),D}_addPixels(_,Q){const d=this.codingLine;let w=this.codingPos;_>d[w]&&(_>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,_=this.columns),w&1^Q&&++w,d[w]=_),this.codingPos=w}_addPixelsNeg(_,Q){const d=this.codingLine;let w=this.codingPos;if(_>d[w])_>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,_=this.columns),w&1^Q&&++w,d[w]=_;else if(_<d[w]){for(_<0&&((0,n.info)("invalid code"),this.err=!0,_=0);w>0&&_<d[w-1];)--w;d[w]=_}this.codingPos=w}_findTableCode(_,Q,d,w){const q=w||0;for(let l=_;l<=Q;++l){let b=this._lookBits(l);if(b===U)return[!0,1,!1];if(l<Q&&(b<<=Q-l),!q||b>=q){const D=d[b-q];if(D[0]===l)return this._eatBits(l),[!0,D[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let _=0,Q;if(this.eoblock){if(_=this._lookBits(7),Q=i[_],(Q==null?void 0:Q[0])>0)return this._eatBits(Q[0]),Q[1]}else{const d=this._findTableCode(1,7,i);if(d[0]&&d[2])return d[1]}return(0,n.info)("Bad two dim code"),U}_getWhiteCode(){let _=0,Q;if(this.eoblock){if(_=this._lookBits(12),_===U)return 1;if(Q=_>>5?F[_>>3]:T[_],Q[0]>0)return this._eatBits(Q[0]),Q[1]}else{let d=this._findTableCode(1,9,F);if(d[0]||(d=this._findTableCode(11,12,T),d[0]))return d[1]}return(0,n.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let _,Q;if(this.eoblock){if(_=this._lookBits(13),_===U)return 1;if(_>>7?!(_>>9)&&_>>7?Q=C[(_>>1)-64]:Q=H[_>>7]:Q=P[_],Q[0]>0)return this._eatBits(Q[0]),Q[1]}else{let d=this._findTableCode(2,6,H);if(d[0]||(d=this._findTableCode(7,12,C,64),d[0])||(d=this._findTableCode(10,13,P),d[0]))return d[1]}return(0,n.info)("bad black code"),this._eatBits(1),1}_lookBits(_){let Q;for(;this.inputBits<_;){if((Q=this.source.next())===-1)return this.inputBits===0?U:this.inputBuf<<_-this.inputBits&65535>>16-_;this.inputBuf=this.inputBuf<<8|Q,this.inputBits+=8}return this.inputBuf>>this.inputBits-_&65535>>16-_}_eatBits(_){(this.inputBits-=_)<0&&(this.inputBits=0)}}h.CCITTFaxDecoder=$},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FlateStream=void 0;var n=re(18),x=re(2);const U=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),t=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),o=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],K=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class X extends n.DecodeStream{constructor(O,f){super(f),this.str=O,this.dict=O.dict;const p=O.getByte(),i=O.getByte();if(p===-1||i===-1)throw new x.FormatError(`Invalid header in flate stream: ${p}, ${i}`);if((p&15)!==8)throw new x.FormatError(`Unknown compression method in flate stream: ${p}, ${i}`);if(((p<<8)+i)%31!==0)throw new x.FormatError(`Bad FCHECK in flate stream: ${p}, ${i}`);if(i&32)throw new x.FormatError(`FDICT bit set in flate stream: ${p}, ${i}`);this.codeSize=0,this.codeBuf=0}getBits(O){const f=this.str;let p=this.codeSize,i=this.codeBuf,T;for(;p<O;){if((T=f.getByte())===-1)throw new x.FormatError("Bad encoding in flate stream");i|=T<<p,p+=8}return T=i&(1<<O)-1,this.codeBuf=i>>O,this.codeSize=p-=O,T}getCode(O){const f=this.str,p=O[0],i=O[1];let T=this.codeSize,F=this.codeBuf,P;for(;T<i&&(P=f.getByte())!==-1;)F|=P<<T,T+=8;const C=p[F&(1<<i)-1],H=C>>16,$=C&65535;if(H<1||T<H)throw new x.FormatError("Bad encoding in flate stream");return this.codeBuf=F>>H,this.codeSize=T-H,$}generateHuffmanTable(O){const f=O.length;let p=0,i;for(i=0;i<f;++i)O[i]>p&&(p=O[i]);const T=1<<p,F=new Int32Array(T);for(let P=1,C=0,H=2;P<=p;++P,C<<=1,H<<=1)for(let $=0;$<f;++$)if(O[$]===P){let se=0,_=C;for(i=0;i<P;++i)se=se<<1|_&1,_>>=1;for(i=se;i<T;i+=H)F[i]=P<<16|$;++C}return[F,p]}readBlock(){let O,f;const p=this.str;let i=this.getBits(3);if(i&1&&(this.eof=!0),i>>=1,i===0){let H;if((H=p.getByte())===-1)throw new x.FormatError("Bad block header in flate stream");let $=H;if((H=p.getByte())===-1)throw new x.FormatError("Bad block header in flate stream");if($|=H<<8,(H=p.getByte())===-1)throw new x.FormatError("Bad block header in flate stream");let se=H;if((H=p.getByte())===-1)throw new x.FormatError("Bad block header in flate stream");if(se|=H<<8,se!==(~$&65535)&&($!==0||se!==0))throw new x.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const _=this.bufferLength,Q=_+$;if(O=this.ensureBuffer(Q),this.bufferLength=Q,$===0)p.peekByte()===-1&&(this.eof=!0);else{const d=p.getBytes($);O.set(d,_),d.length<$&&(this.eof=!0)}return}let T,F;if(i===1)T=o,F=K;else if(i===2){const H=this.getBits(5)+257,$=this.getBits(5)+1,se=this.getBits(4)+4,_=new Uint8Array(U.length);let Q;for(Q=0;Q<se;++Q)_[U[Q]]=this.getBits(3);const d=this.generateHuffmanTable(_);f=0,Q=0;const w=H+$,q=new Uint8Array(w);let l,b,D;for(;Q<w;){const Z=this.getCode(d);if(Z===16)l=2,b=3,D=f;else if(Z===17)l=3,b=3,D=f=0;else if(Z===18)l=7,b=11,D=f=0;else{q[Q++]=f=Z;continue}let N=this.getBits(l)+b;for(;N-- >0;)q[Q++]=D}T=this.generateHuffmanTable(q.subarray(0,H)),F=this.generateHuffmanTable(q.subarray(H,w))}else throw new x.FormatError("Unknown block type in flate stream");O=this.buffer;let P=O?O.length:0,C=this.bufferLength;for(;;){let H=this.getCode(T);if(H<256){C+1>=P&&(O=this.ensureBuffer(C+1),P=O.length),O[C++]=H;continue}if(H===256){this.bufferLength=C;return}H-=257,H=e[H];let $=H>>16;$>0&&($=this.getBits($)),f=(H&65535)+$,H=this.getCode(F),H=t[H],$=H>>16,$>0&&($=this.getBits($));const se=(H&65535)+$;C+f>=P&&(O=this.ensureBuffer(C+f),P=O.length);for(let _=0;_<f;++_,++C)O[C]=O[C-se]}}}h.FlateStream=X},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Jbig2Stream=void 0;var n=re(5),x=re(18),U=re(4),e=re(24),t=re(2);class o extends x.DecodeStream{constructor(X,L,O){super(L),this.stream=X,this.dict=X.dict,this.maybeLength=L,this.params=O}get bytes(){return(0,t.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(X){}readBlock(){if(this.eof)return;const X=new e.Jbig2Image,L=[];if(this.params instanceof U.Dict){const p=this.params.get("JBIG2Globals");if(p instanceof n.BaseStream){const i=p.getBytes();L.push({data:i,start:0,end:i.length})}}L.push({data:this.bytes,start:0,end:this.bytes.length});const O=X.parseChunks(L),f=O.length;for(let p=0;p<f;p++)O[p]^=255;this.buffer=O,this.bufferLength=f,this.eof=!0}}h.Jbig2Stream=o},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Jbig2Image=void 0;var n=re(2),x=re(3),U=re(25),e=re(21);class t extends n.BaseException{constructor(ve){super(`JBIG2 error: ${ve}`,"Jbig2Error")}}class o{getContexts(ve){return ve in this?this[ve]:this[ve]=new Int8Array(65536)}}class K{constructor(ve,te,ie){this.data=ve,this.start=te,this.end=ie}get decoder(){const ve=new U.ArithmeticDecoder(this.data,this.start,this.end);return(0,n.shadow)(this,"decoder",ve)}get contextCache(){const ve=new o;return(0,n.shadow)(this,"contextCache",ve)}}const X=2**31-1,L=-(2**31);function O(be,ve,te){const ie=be.getContexts(ve);let ge=1;function he(le){let ke=0;for(let Fe=0;Fe<le;Fe++){const de=te.readBit(ie,ge);ge=ge<256?ge<<1|de:(ge<<1|de)&511|256,ke=ke<<1|de}return ke>>>0}const ue=he(1),we=he(1)?he(1)?he(1)?he(1)?he(1)?he(32)+4436:he(12)+340:he(8)+84:he(6)+20:he(4)+4:he(2);let Ce;return ue===0?Ce=we:we>0&&(Ce=-we),Ce>=L&&Ce<=X?Ce:null}function f(be,ve,te){const ie=be.getContexts("IAID");let ge=1;for(let he=0;he<te;he++){const ue=ve.readBit(ie,ge);ge=ge<<1|ue}return te<31?ge&(1<<te)-1:ge&2147483647}const p=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],i=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],T=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],F=[39717,1941,229,405],P=[32,8];function C(be,ve,te){const ie=te.decoder,ge=te.contextCache.getContexts("GB"),he=[];let ue,we,Ce,le,ke,Fe,de;const Ee=31735;for(we=0;we<ve;we++)for(ke=he[we]=new Uint8Array(be),Fe=we<1?ke:he[we-1],de=we<2?ke:he[we-2],ue=de[0]<<13|de[1]<<12|de[2]<<11|Fe[0]<<7|Fe[1]<<6|Fe[2]<<5|Fe[3]<<4,Ce=0;Ce<be;Ce++)ke[Ce]=le=ie.readBit(ge,ue),ue=(ue&Ee)<<1|(Ce+3<be?de[Ce+3]<<11:0)|(Ce+4<be?Fe[Ce+4]<<4:0)|le;return he}function H(be,ve,te,ie,ge,he,ue,we){if(be){const lt=new E(we.data,we.start,we.end);return fe(lt,ve,te,!1)}if(ie===0&&!he&&!ge&&ue.length===4&&ue[0].x===3&&ue[0].y===-1&&ue[1].x===-3&&ue[1].y===-1&&ue[2].x===2&&ue[2].y===-2&&ue[3].x===-2&&ue[3].y===-2)return C(ve,te,we);const Ce=!!he,le=i[ie].concat(ue);le.sort(function(lt,gt){return lt.y-gt.y||lt.x-gt.x});const ke=le.length,Fe=new Int8Array(ke),de=new Int8Array(ke),Ee=[];let Oe=0,Ne=0,et=0,rt=0,Ge,je;for(je=0;je<ke;je++)Fe[je]=le[je].x,de[je]=le[je].y,Ne=Math.min(Ne,le[je].x),et=Math.max(et,le[je].x),rt=Math.min(rt,le[je].y),je<ke-1&&le[je].y===le[je+1].y&&le[je].x===le[je+1].x-1?Oe|=1<<ke-1-je:Ee.push(je);const $e=Ee.length,ze=new Int8Array($e),at=new Int8Array($e),mt=new Uint16Array($e);for(Ge=0;Ge<$e;Ge++)je=Ee[Ge],ze[Ge]=le[je].x,at[Ge]=le[je].y,mt[Ge]=1<<ke-1-je;const At=-Ne,Qe=-rt,Ke=ve-et,pt=F[ie];let st=new Uint8Array(ve);const St=[],kt=we.decoder,zn=we.contextCache.getContexts("GB");let ft=0,en,Xt,Ve,Re=0,qe,Ze;for(let lt=0;lt<te;lt++){if(ge){const gt=kt.readBit(zn,pt);if(ft^=gt,ft){St.push(st);continue}}for(st=new Uint8Array(st),St.push(st),en=0;en<ve;en++){if(Ce&&he[lt][en]){st[en]=0;continue}if(en>=At&&en<Ke&&lt>=Qe)for(Re=Re<<1&Oe,je=0;je<$e;je++)Xt=lt+at[je],Ve=en+ze[je],qe=St[Xt][Ve],qe&&(qe=mt[je],Re|=qe);else for(Re=0,Ze=ke-1,je=0;je<ke;je++,Ze--)Ve=en+Fe[je],Ve>=0&&Ve<ve&&(Xt=lt+de[je],Xt>=0&&(qe=St[Xt][Ve],qe&&(Re|=qe<<Ze)));const gt=kt.readBit(zn,Re);st[en]=gt}}return St}function $(be,ve,te,ie,ge,he,ue,we,Ce){let le=T[te].coding;te===0&&(le=le.concat([we[0]]));const ke=le.length,Fe=new Int32Array(ke),de=new Int32Array(ke);let Ee;for(Ee=0;Ee<ke;Ee++)Fe[Ee]=le[Ee].x,de[Ee]=le[Ee].y;let Oe=T[te].reference;te===0&&(Oe=Oe.concat([we[1]]));const Ne=Oe.length,et=new Int32Array(Ne),rt=new Int32Array(Ne);for(Ee=0;Ee<Ne;Ee++)et[Ee]=Oe[Ee].x,rt[Ee]=Oe[Ee].y;const Ge=ie[0].length,je=ie.length,$e=P[te],ze=[],at=Ce.decoder,mt=Ce.contextCache.getContexts("GR");let At=0;for(let Qe=0;Qe<ve;Qe++){if(ue){const pt=at.readBit(mt,$e);if(At^=pt,At)throw new t("prediction is not supported")}const Ke=new Uint8Array(be);ze.push(Ke);for(let pt=0;pt<be;pt++){let st,St,kt=0;for(Ee=0;Ee<ke;Ee++)st=Qe+de[Ee],St=pt+Fe[Ee],st<0||St<0||St>=be?kt<<=1:kt=kt<<1|ze[st][St];for(Ee=0;Ee<Ne;Ee++)st=Qe+rt[Ee]-he,St=pt+et[Ee]-ge,st<0||st>=je||St<0||St>=Ge?kt<<=1:kt=kt<<1|ie[st][St];const zn=at.readBit(mt,kt);Ke[pt]=zn}}return ze}function se(be,ve,te,ie,ge,he,ue,we,Ce,le,ke,Fe){if(be&&ve)throw new t("symbol refinement with Huffman is not supported");const de=[];let Ee=0,Oe=(0,x.log2)(te.length+ie);const Ne=ke.decoder,et=ke.contextCache;let rt,Ge;for(be&&(rt=A(1),Ge=[],Oe=Math.max(Oe,1));de.length<ie;){const Qe=be?he.tableDeltaHeight.decode(Fe):O(et,"IADH",Ne);Ee+=Qe;let Ke=0,pt=0;const st=be?Ge.length:0;for(;;){const St=be?he.tableDeltaWidth.decode(Fe):O(et,"IADW",Ne);if(St===null)break;Ke+=St,pt+=Ke;let kt;if(ve){const zn=O(et,"IAAI",Ne);if(zn>1)kt=_(be,ve,Ke,Ee,0,zn,1,te.concat(de),Oe,0,0,1,0,he,Ce,le,ke,0,Fe);else{const ft=f(et,Ne,Oe),en=O(et,"IARDX",Ne),Xt=O(et,"IARDY",Ne),Ve=ft<te.length?te[ft]:de[ft-te.length];kt=$(Ke,Ee,Ce,Ve,en,Xt,!1,le,ke)}de.push(kt)}else be?Ge.push(Ke):(kt=H(!1,Ke,Ee,ue,!1,null,we,ke),de.push(kt))}if(be&&!ve){const St=he.tableBitmapSize.decode(Fe);Fe.byteAlign();let kt;if(St===0)kt=Ie(Fe,pt,Ee);else{const ft=Fe.end,en=Fe.position+St;Fe.end=en,kt=fe(Fe,pt,Ee,!1),Fe.end=ft,Fe.position=en}const zn=Ge.length;if(st===zn-1)de.push(kt);else{let ft,en,Xt=0,Ve,Re,qe;for(ft=st;ft<zn;ft++){for(Re=Ge[ft],Ve=Xt+Re,qe=[],en=0;en<Ee;en++)qe.push(kt[en].subarray(Xt,Ve));de.push(qe),Xt=Ve}}}}const je=[],$e=[];let ze=!1,at,mt;const At=te.length+ie;for(;$e.length<At;){let Qe=be?rt.decode(Fe):O(et,"IAEX",Ne);for(;Qe--;)$e.push(ze);ze=!ze}for(at=0,mt=te.length;at<mt;at++)$e[at]&&je.push(te[at]);for(let Qe=0;Qe<ie;at++,Qe++)$e[at]&&je.push(de[Qe]);return je}function _(be,ve,te,ie,ge,he,ue,we,Ce,le,ke,Fe,de,Ee,Oe,Ne,et,rt,Ge){if(be&&ve)throw new t("refinement with Huffman is not supported");const je=[];let $e,ze;for($e=0;$e<ie;$e++){if(ze=new Uint8Array(te),ge)for(let Ke=0;Ke<te;Ke++)ze[Ke]=ge;je.push(ze)}const at=et.decoder,mt=et.contextCache;let At=be?-Ee.tableDeltaT.decode(Ge):-O(mt,"IADT",at),Qe=0;for($e=0;$e<he;){const Ke=be?Ee.tableDeltaT.decode(Ge):O(mt,"IADT",at);At+=Ke;const pt=be?Ee.tableFirstS.decode(Ge):O(mt,"IAFS",at);Qe+=pt;let st=Qe;do{let St=0;ue>1&&(St=be?Ge.readBits(rt):O(mt,"IAIT",at));const kt=ue*At+St,zn=be?Ee.symbolIDTable.decode(Ge):f(mt,at,Ce),ft=ve&&(be?Ge.readBit():O(mt,"IARI",at));let en=we[zn],Xt=en[0].length,Ve=en.length;if(ft){const jt=O(mt,"IARDW",at),Mt=O(mt,"IARDH",at),Dt=O(mt,"IARDX",at),Kt=O(mt,"IARDY",at);Xt+=jt,Ve+=Mt,en=$(Xt,Ve,Oe,en,(jt>>1)+Dt,(Mt>>1)+Kt,!1,Ne,et)}const Re=kt-(Fe&1?0:Ve-1),qe=st-(Fe&2?Xt-1:0);let Ze,lt,gt;if(le){for(Ze=0;Ze<Ve;Ze++){if(ze=je[qe+Ze],!ze)continue;gt=en[Ze];const jt=Math.min(te-Re,Xt);switch(de){case 0:for(lt=0;lt<jt;lt++)ze[Re+lt]|=gt[lt];break;case 2:for(lt=0;lt<jt;lt++)ze[Re+lt]^=gt[lt];break;default:throw new t(`operator ${de} is not supported`)}}st+=Ve-1}else{for(lt=0;lt<Ve;lt++)if(ze=je[Re+lt],!!ze)switch(gt=en[lt],de){case 0:for(Ze=0;Ze<Xt;Ze++)ze[qe+Ze]|=gt[Ze];break;case 2:for(Ze=0;Ze<Xt;Ze++)ze[qe+Ze]^=gt[Ze];break;default:throw new t(`operator ${de} is not supported`)}st+=Xt-1}$e++;const xt=be?Ee.tableDeltaS.decode(Ge):O(mt,"IADS",at);if(xt===null)break;st+=xt+ke}while(!0)}return je}function Q(be,ve,te,ie,ge,he){const ue=[];be||(ue.push({x:-ve,y:0}),ge===0&&ue.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const we=(ie+1)*ve,Ce=H(be,we,te,ge,!1,null,ue,he),le=[];for(let ke=0;ke<=ie;ke++){const Fe=[],de=ve*ke,Ee=de+ve;for(let Oe=0;Oe<te;Oe++)Fe.push(Ce[Oe].subarray(de,Ee));le.push(Fe)}return le}function d(be,ve,te,ie,ge,he,ue,we,Ce,le,ke,Fe,de,Ee,Oe){if(ue)throw new t("skip is not supported");if(we!==0)throw new t(`operator "${we}" is not supported in halftone region`);const et=[];let rt,Ge,je;for(rt=0;rt<ge;rt++){if(je=new Uint8Array(ie),he)for(Ge=0;Ge<ie;Ge++)je[Ge]=he;et.push(je)}const $e=ve.length,ze=ve[0],at=ze[0].length,mt=ze.length,At=(0,x.log2)($e),Qe=[];be||(Qe.push({x:te<=1?3:2,y:-1}),te===0&&Qe.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Ke=[];let pt,st;for(be&&(pt=new E(Oe.data,Oe.start,Oe.end)),rt=At-1;rt>=0;rt--)be?st=fe(pt,Ce,le,!0):st=H(!1,Ce,le,te,!1,null,Qe,Oe),Ke[rt]=st;let St,kt,zn,ft,en,Xt,Ve,Re,qe;for(St=0;St<le;St++)for(kt=0;kt<Ce;kt++){for(zn=0,ft=0,Ge=At-1;Ge>=0;Ge--)zn^=Ke[Ge][St][kt],ft|=zn<<Ge;if(en=ve[ft],Xt=ke+St*Ee+kt*de>>8,Ve=Fe+St*de-kt*Ee>>8,Xt>=0&&Xt+at<=ie&&Ve>=0&&Ve+mt<=ge)for(rt=0;rt<mt;rt++)for(qe=et[Ve+rt],Re=en[rt],Ge=0;Ge<at;Ge++)qe[Xt+Ge]|=Re[Ge];else{let Ze,lt;for(rt=0;rt<mt;rt++)if(lt=Ve+rt,!(lt<0||lt>=ge))for(qe=et[lt],Re=en[rt],Ge=0;Ge<at;Ge++)Ze=Xt+Ge,Ze>=0&&Ze<ie&&(qe[Ze]|=Re[Ge])}}return et}function w(be,ve){const te={};te.number=(0,x.readUint32)(be,ve);const ie=be[ve+4],ge=ie&63;if(!p[ge])throw new t("invalid segment type: "+ge);te.type=ge,te.typeName=p[ge],te.deferredNonRetain=!!(ie&128);const he=!!(ie&64),ue=be[ve+5];let we=ue>>5&7;const Ce=[ue&31];let le=ve+6;if(ue===7){we=(0,x.readUint32)(be,le-1)&536870911,le+=3;let Oe=we+7>>3;for(Ce[0]=be[le++];--Oe>0;)Ce.push(be[le++])}else if(ue===5||ue===6)throw new t("invalid referred-to flags");te.retainBits=Ce;let ke=4;te.number<=256?ke=1:te.number<=65536&&(ke=2);const Fe=[];let de,Ee;for(de=0;de<we;de++){let Oe;ke===1?Oe=be[le]:ke===2?Oe=(0,x.readUint16)(be,le):Oe=(0,x.readUint32)(be,le),Fe.push(Oe),le+=ke}if(te.referredTo=Fe,he?(te.pageAssociation=(0,x.readUint32)(be,le),le+=4):te.pageAssociation=be[le++],te.length=(0,x.readUint32)(be,le),le+=4,te.length===4294967295)if(ge===38){const Oe=l(be,le),et=!!(be[le+b]&1),rt=6,Ge=new Uint8Array(rt);for(et||(Ge[0]=255,Ge[1]=172),Ge[2]=Oe.height>>>24&255,Ge[3]=Oe.height>>16&255,Ge[4]=Oe.height>>8&255,Ge[5]=Oe.height&255,de=le,Ee=be.length;de<Ee;de++){let je=0;for(;je<rt&&Ge[je]===be[de+je];)je++;if(je===rt){te.length=de+rt;break}}if(te.length===4294967295)throw new t("segment end was not found")}else throw new t("invalid unknown segment length");return te.headerEnd=le,te}function q(be,ve,te,ie){const ge=[];let he=te;for(;he<ie;){const ue=w(ve,he);he=ue.headerEnd;const we={header:ue,data:ve};if(be.randomAccess||(we.start=he,he+=ue.length,we.end=he),ge.push(we),ue.type===51)break}if(be.randomAccess)for(let ue=0,we=ge.length;ue<we;ue++)ge[ue].start=he,he+=ge[ue].header.length,ge[ue].end=he;return ge}function l(be,ve){return{width:(0,x.readUint32)(be,ve),height:(0,x.readUint32)(be,ve+4),x:(0,x.readUint32)(be,ve+8),y:(0,x.readUint32)(be,ve+12),combinationOperator:be[ve+16]&7}}const b=17;function D(be,ve){const te=be.header,ie=be.data,ge=be.end;let he=be.start,ue,we,Ce,le;switch(te.type){case 0:const Fe={},de=(0,x.readUint16)(ie,he);if(Fe.huffman=!!(de&1),Fe.refinement=!!(de&2),Fe.huffmanDHSelector=de>>2&3,Fe.huffmanDWSelector=de>>4&3,Fe.bitmapSizeSelector=de>>6&1,Fe.aggregationInstancesSelector=de>>7&1,Fe.bitmapCodingContextUsed=!!(de&256),Fe.bitmapCodingContextRetained=!!(de&512),Fe.template=de>>10&3,Fe.refinementTemplate=de>>12&1,he+=2,!Fe.huffman){for(le=Fe.template===0?4:1,we=[],Ce=0;Ce<le;Ce++)we.push({x:(0,x.readInt8)(ie,he),y:(0,x.readInt8)(ie,he+1)}),he+=2;Fe.at=we}if(Fe.refinement&&!Fe.refinementTemplate){for(we=[],Ce=0;Ce<2;Ce++)we.push({x:(0,x.readInt8)(ie,he),y:(0,x.readInt8)(ie,he+1)}),he+=2;Fe.refinementAt=we}Fe.numberOfExportedSymbols=(0,x.readUint32)(ie,he),he+=4,Fe.numberOfNewSymbols=(0,x.readUint32)(ie,he),he+=4,ue=[Fe,te.number,te.referredTo,ie,he,ge];break;case 6:case 7:const Ee={};Ee.info=l(ie,he),he+=b;const Oe=(0,x.readUint16)(ie,he);if(he+=2,Ee.huffman=!!(Oe&1),Ee.refinement=!!(Oe&2),Ee.logStripSize=Oe>>2&3,Ee.stripSize=1<<Ee.logStripSize,Ee.referenceCorner=Oe>>4&3,Ee.transposed=!!(Oe&64),Ee.combinationOperator=Oe>>7&3,Ee.defaultPixelValue=Oe>>9&1,Ee.dsOffset=Oe<<17>>27,Ee.refinementTemplate=Oe>>15&1,Ee.huffman){const mt=(0,x.readUint16)(ie,he);he+=2,Ee.huffmanFS=mt&3,Ee.huffmanDS=mt>>2&3,Ee.huffmanDT=mt>>4&3,Ee.huffmanRefinementDW=mt>>6&3,Ee.huffmanRefinementDH=mt>>8&3,Ee.huffmanRefinementDX=mt>>10&3,Ee.huffmanRefinementDY=mt>>12&3,Ee.huffmanRefinementSizeSelector=!!(mt&16384)}if(Ee.refinement&&!Ee.refinementTemplate){for(we=[],Ce=0;Ce<2;Ce++)we.push({x:(0,x.readInt8)(ie,he),y:(0,x.readInt8)(ie,he+1)}),he+=2;Ee.refinementAt=we}Ee.numberOfSymbolInstances=(0,x.readUint32)(ie,he),he+=4,ue=[Ee,te.referredTo,ie,he,ge];break;case 16:const Ne={},et=ie[he++];Ne.mmr=!!(et&1),Ne.template=et>>1&3,Ne.patternWidth=ie[he++],Ne.patternHeight=ie[he++],Ne.maxPatternIndex=(0,x.readUint32)(ie,he),he+=4,ue=[Ne,te.number,ie,he,ge];break;case 22:case 23:const rt={};rt.info=l(ie,he),he+=b;const Ge=ie[he++];rt.mmr=!!(Ge&1),rt.template=Ge>>1&3,rt.enableSkip=!!(Ge&8),rt.combinationOperator=Ge>>4&7,rt.defaultPixelValue=Ge>>7&1,rt.gridWidth=(0,x.readUint32)(ie,he),he+=4,rt.gridHeight=(0,x.readUint32)(ie,he),he+=4,rt.gridOffsetX=(0,x.readUint32)(ie,he)&4294967295,he+=4,rt.gridOffsetY=(0,x.readUint32)(ie,he)&4294967295,he+=4,rt.gridVectorX=(0,x.readUint16)(ie,he),he+=2,rt.gridVectorY=(0,x.readUint16)(ie,he),he+=2,ue=[rt,te.referredTo,ie,he,ge];break;case 38:case 39:const je={};je.info=l(ie,he),he+=b;const $e=ie[he++];if(je.mmr=!!($e&1),je.template=$e>>1&3,je.prediction=!!($e&8),!je.mmr){for(le=je.template===0?4:1,we=[],Ce=0;Ce<le;Ce++)we.push({x:(0,x.readInt8)(ie,he),y:(0,x.readInt8)(ie,he+1)}),he+=2;je.at=we}ue=[je,ie,he,ge];break;case 48:const ze={width:(0,x.readUint32)(ie,he),height:(0,x.readUint32)(ie,he+4),resolutionX:(0,x.readUint32)(ie,he+8),resolutionY:(0,x.readUint32)(ie,he+12)};ze.height===4294967295&&delete ze.height;const at=ie[he+16];(0,x.readUint16)(ie,he+17),ze.lossless=!!(at&1),ze.refinement=!!(at&2),ze.defaultPixelValue=at>>2&1,ze.combinationOperator=at>>3&3,ze.requiresBuffer=!!(at&32),ze.combinationOperatorOverride=!!(at&64),ue=[ze];break;case 49:break;case 50:break;case 51:break;case 53:ue=[te.number,ie,he,ge];break;case 62:break;default:throw new t(`segment type ${te.typeName}(${te.type}) is not implemented`)}const ke="on"+te.typeName;ke in ve&&ve[ke].apply(ve,ue)}function Z(be,ve){for(let te=0,ie=be.length;te<ie;te++)D(be[te],ve)}function N(be){const ve=new v;for(let te=0,ie=be.length;te<ie;te++){const ge=be[te],he=q({},ge.data,ge.start,ge.end);Z(he,ve)}return ve.buffer}class v{onPageInformation(ve){this.currentPageInfo=ve;const te=ve.width+7>>3,ie=new Uint8ClampedArray(te*ve.height);ve.defaultPixelValue&&ie.fill(255),this.buffer=ie}drawBitmap(ve,te){const ie=this.currentPageInfo,ge=ve.width,he=ve.height,ue=ie.width+7>>3,we=ie.combinationOperatorOverride?ve.combinationOperator:ie.combinationOperator,Ce=this.buffer,le=128>>(ve.x&7);let ke=ve.y*ue+(ve.x>>3),Fe,de,Ee,Oe;switch(we){case 0:for(Fe=0;Fe<he;Fe++){for(Ee=le,Oe=ke,de=0;de<ge;de++)te[Fe][de]&&(Ce[Oe]|=Ee),Ee>>=1,Ee||(Ee=128,Oe++);ke+=ue}break;case 2:for(Fe=0;Fe<he;Fe++){for(Ee=le,Oe=ke,de=0;de<ge;de++)te[Fe][de]&&(Ce[Oe]^=Ee),Ee>>=1,Ee||(Ee=128,Oe++);ke+=ue}break;default:throw new t(`operator ${we} is not supported`)}}onImmediateGenericRegion(ve,te,ie,ge){const he=ve.info,ue=new K(te,ie,ge),we=H(ve.mmr,he.width,he.height,ve.template,ve.prediction,null,ve.at,ue);this.drawBitmap(he,we)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(ve,te,ie,ge,he,ue){let we,Ce;ve.huffman&&(we=ce(ve,ie,this.customTables),Ce=new E(ge,he,ue));let le=this.symbols;le||(this.symbols=le={});const ke=[];for(const de of ie){const Ee=le[de];Ee&&ke.push(...Ee)}const Fe=new K(ge,he,ue);le[te]=se(ve.huffman,ve.refinement,ke,ve.numberOfNewSymbols,ve.numberOfExportedSymbols,we,ve.template,ve.at,ve.refinementTemplate,ve.refinementAt,Fe,Ce)}onImmediateTextRegion(ve,te,ie,ge,he){const ue=ve.info;let we,Ce;const le=this.symbols,ke=[];for(const Oe of te){const Ne=le[Oe];Ne&&ke.push(...Ne)}const Fe=(0,x.log2)(ke.length);ve.huffman&&(Ce=new E(ie,ge,he),we=ae(ve,te,this.customTables,ke.length,Ce));const de=new K(ie,ge,he),Ee=_(ve.huffman,ve.refinement,ue.width,ue.height,ve.defaultPixelValue,ve.numberOfSymbolInstances,ve.stripSize,ke,Fe,ve.transposed,ve.dsOffset,ve.referenceCorner,ve.combinationOperator,we,ve.refinementTemplate,ve.refinementAt,de,ve.logStripSize,Ce);this.drawBitmap(ue,Ee)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(ve,te,ie,ge,he){let ue=this.patterns;ue||(this.patterns=ue={});const we=new K(ie,ge,he);ue[te]=Q(ve.mmr,ve.patternWidth,ve.patternHeight,ve.maxPatternIndex,ve.template,we)}onImmediateHalftoneRegion(ve,te,ie,ge,he){const ue=this.patterns[te[0]],we=ve.info,Ce=new K(ie,ge,he),le=d(ve.mmr,ue,ve.template,we.width,we.height,ve.defaultPixelValue,ve.enableSkip,ve.combinationOperator,ve.gridWidth,ve.gridHeight,ve.gridOffsetX,ve.gridOffsetY,ve.gridVectorX,ve.gridVectorY,Ce);this.drawBitmap(we,le)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(ve,te,ie,ge){let he=this.customTables;he||(this.customTables=he={}),he[ve]=y(te,ie,ge)}}class S{constructor(ve){ve.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=ve[0],this.rangeLength=0,this.prefixCode=ve[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=ve[0],this.prefixLength=ve[1],this.rangeLength=ve[2],this.prefixCode=ve[3],this.isLowerRange=ve[4]==="lower")}}class I{constructor(ve){this.children=[],ve?(this.isLeaf=!0,this.rangeLength=ve.rangeLength,this.rangeLow=ve.rangeLow,this.isLowerRange=ve.isLowerRange,this.isOOB=ve.isOOB):this.isLeaf=!1}buildTree(ve,te){const ie=ve.prefixCode>>te&1;if(te<=0)this.children[ie]=new I(ve);else{let ge=this.children[ie];ge||(this.children[ie]=ge=new I(null)),ge.buildTree(ve,te-1)}}decodeNode(ve){if(this.isLeaf){if(this.isOOB)return null;const ie=ve.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-ie:ie)}const te=this.children[ve.readBit()];if(!te)throw new t("invalid Huffman data");return te.decodeNode(ve)}}class u{constructor(ve,te){te||this.assignPrefixCodes(ve),this.rootNode=new I(null);for(let ie=0,ge=ve.length;ie<ge;ie++){const he=ve[ie];he.prefixLength>0&&this.rootNode.buildTree(he,he.prefixLength-1)}}decode(ve){return this.rootNode.decodeNode(ve)}assignPrefixCodes(ve){const te=ve.length;let ie=0;for(let ke=0;ke<te;ke++)ie=Math.max(ie,ve[ke].prefixLength);const ge=new Uint32Array(ie+1);for(let ke=0;ke<te;ke++)ge[ve[ke].prefixLength]++;let he=1,ue=0,we,Ce,le;for(ge[0]=0;he<=ie;){for(ue=ue+ge[he-1]<<1,we=ue,Ce=0;Ce<te;)le=ve[Ce],le.prefixLength===he&&(le.prefixCode=we,we++),Ce++;he++}}}function y(be,ve,te){const ie=be[ve],ge=(0,x.readUint32)(be,ve+1)&4294967295,he=(0,x.readUint32)(be,ve+5)&4294967295,ue=new E(be,ve+9,te),we=(ie>>1&7)+1,Ce=(ie>>4&7)+1,le=[];let ke,Fe,de=ge;do ke=ue.readBits(we),Fe=ue.readBits(Ce),le.push(new S([de,ke,Fe,0])),de+=1<<Fe;while(de<he);return ke=ue.readBits(we),le.push(new S([ge-1,ke,32,0,"lower"])),ke=ue.readBits(we),le.push(new S([he,ke,32,0])),ie&1&&(ke=ue.readBits(we),le.push(new S([ke,0]))),new u(le,!1)}const r={};function A(be){let ve=r[be];if(ve)return ve;let te;switch(be){case 1:te=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:te=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:te=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:te=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:te=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:te=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:te=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:te=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:te=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:te=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:te=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:te=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:te=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:te=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:te=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new t(`standard table B.${be} does not exist`)}for(let ie=0,ge=te.length;ie<ge;ie++)te[ie]=new S(te[ie]);return ve=new u(te,!0),r[be]=ve,ve}class E{constructor(ve,te,ie){this.data=ve,this.start=te,this.end=ie,this.position=te,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new t("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const ve=this.currentByte>>this.shift&1;return this.shift--,ve}readBits(ve){let te=0,ie;for(ie=ve-1;ie>=0;ie--)te|=this.readBit()<<ie;return te}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function G(be,ve,te){let ie=0;for(let ge=0,he=ve.length;ge<he;ge++){const ue=te[ve[ge]];if(ue){if(be===ie)return ue;ie++}}throw new t("can't find custom Huffman table")}function ae(be,ve,te,ie,ge){const he=[];for(let de=0;de<=34;de++){const Ee=ge.readBits(4);he.push(new S([de,Ee,0,0]))}const ue=new u(he,!1);he.length=0;for(let de=0;de<ie;){const Ee=ue.decode(ge);if(Ee>=32){let Oe,Ne,et;switch(Ee){case 32:if(de===0)throw new t("no previous value in symbol ID table");Ne=ge.readBits(2)+3,Oe=he[de-1].prefixLength;break;case 33:Ne=ge.readBits(3)+3,Oe=0;break;case 34:Ne=ge.readBits(7)+11,Oe=0;break;default:throw new t("invalid code length in symbol ID table")}for(et=0;et<Ne;et++)he.push(new S([de,Oe,0,0])),de++}else he.push(new S([de,Ee,0,0])),de++}ge.byteAlign();const we=new u(he,!1);let Ce=0,le,ke,Fe;switch(be.huffmanFS){case 0:case 1:le=A(be.huffmanFS+6);break;case 3:le=G(Ce,ve,te),Ce++;break;default:throw new t("invalid Huffman FS selector")}switch(be.huffmanDS){case 0:case 1:case 2:ke=A(be.huffmanDS+8);break;case 3:ke=G(Ce,ve,te),Ce++;break;default:throw new t("invalid Huffman DS selector")}switch(be.huffmanDT){case 0:case 1:case 2:Fe=A(be.huffmanDT+11);break;case 3:Fe=G(Ce,ve,te),Ce++;break;default:throw new t("invalid Huffman DT selector")}if(be.refinement)throw new t("refinement with Huffman is not supported");return{symbolIDTable:we,tableFirstS:le,tableDeltaS:ke,tableDeltaT:Fe}}function ce(be,ve,te){let ie=0,ge,he;switch(be.huffmanDHSelector){case 0:case 1:ge=A(be.huffmanDHSelector+4);break;case 3:ge=G(ie,ve,te),ie++;break;default:throw new t("invalid Huffman DH selector")}switch(be.huffmanDWSelector){case 0:case 1:he=A(be.huffmanDWSelector+2);break;case 3:he=G(ie,ve,te),ie++;break;default:throw new t("invalid Huffman DW selector")}let ue,we;return be.bitmapSizeSelector?(ue=G(ie,ve,te),ie++):ue=A(1),be.aggregationInstancesSelector?we=G(ie,ve,te):we=A(1),{tableDeltaHeight:ge,tableDeltaWidth:he,tableBitmapSize:ue,tableAggregateInstances:we}}function Ie(be,ve,te){const ie=[];for(let ge=0;ge<te;ge++){const he=new Uint8Array(ve);ie.push(he);for(let ue=0;ue<ve;ue++)he[ue]=be.readBit();be.byteAlign()}return ie}function fe(be,ve,te,ie){const ge={K:-1,Columns:ve,Rows:te,BlackIs1:!0,EndOfBlock:ie},he=new e.CCITTFaxDecoder(be,ge),ue=[];let we,Ce=!1;for(let le=0;le<te;le++){const ke=new Uint8Array(ve);ue.push(ke);let Fe=-1;for(let de=0;de<ve;de++)Fe<0&&(we=he.readNextChar(),we===-1&&(we=0,Ce=!0),Fe=7),ke[de]=we>>Fe&1,Fe--}if(ie&&!Ce)for(let ke=0;ke<5&&he.readNextChar()!==-1;ke++);return ue}class Te{parseChunks(ve){return N(ve)}parse(ve){throw new Error("Not implemented: Jbig2Image.parse")}}h.Jbig2Image=Te},(Pe,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ArithmeticDecoder=void 0;const re=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class n{constructor(U,e,t){this.data=U,this.bp=e,this.dataEnd=t,this.chigh=U[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const U=this.data;let e=this.bp;U[e]===255?U[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=U[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?U[e]<<8:65280,this.ct=8,this.bp=e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(U,e){let t=U[e]>>1,o=U[e]&1;const K=re[t],X=K.qe;let L,O=this.a-X;if(this.chigh<X)O<X?(O=X,L=o,t=K.nmps):(O=X,L=1^o,K.switchFlag===1&&(o=L),t=K.nlps);else{if(this.chigh-=X,O&32768)return this.a=O,o;O<X?(L=1^o,K.switchFlag===1&&(o=L),t=K.nlps):(L=o,t=K.nmps)}do this.ct===0&&this.byteIn(),O<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(O&32768));return this.a=O,U[e]=t<<1|o,L}}h.ArithmeticDecoder=n},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.JpegStream=void 0;var n=re(18),x=re(4),U=re(27),e=re(2);class t extends n.DecodeStream{constructor(K,X,L){let O;for(;(O=K.getByte())!==-1;)if(O===255){K.skip(-1);break}super(X),this.stream=K,this.dict=K.dict,this.maybeLength=X,this.params=L}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(K){}readBlock(){if(this.eof)return;const K={decodeTransform:void 0,colorTransform:void 0},X=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(X)){const f=this.dict.get("BPC","BitsPerComponent")||8,p=X.length,i=new Int32Array(p);let T=!1;const F=(1<<f)-1;for(let P=0;P<p;P+=2)i[P]=(X[P+1]-X[P])*256|0,i[P+1]=X[P]*F|0,(i[P]!==256||i[P+1]!==0)&&(T=!0);T&&(K.decodeTransform=i)}if(this.params instanceof x.Dict){const f=this.params.get("ColorTransform");Number.isInteger(f)&&(K.colorTransform=f)}const L=new U.JpegImage(K);L.parse(this.bytes);const O=L.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=O,this.bufferLength=O.length,this.eof=!0}}h.JpegStream=t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.JpegImage=void 0;var n=re(2),x=re(28),U=re(3);class e extends n.BaseException{constructor(w){super(`JPEG error: ${w}`,"JpegError")}}class t extends n.BaseException{constructor(w,q){super(w,"DNLMarkerError"),this.scanLines=q}}class o extends n.BaseException{constructor(w){super(w,"EOIMarkerError")}}const K=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),X=4017,L=799,O=3406,f=2276,p=1567,i=3784,T=5793,F=2896;function P(d,w){let q=0,l,b,D=16;for(;D>0&&!d[D-1];)D--;const Z=[{children:[],index:0}];let N=Z[0],v;for(l=0;l<D;l++){for(b=0;b<d[l];b++){for(N=Z.pop(),N.children[N.index]=w[q];N.index>0;)N=Z.pop();for(N.index++,Z.push(N);Z.length<=l;)Z.push(v={children:[],index:0}),N.children[N.index]=v.children,N=v;q++}l+1<D&&(Z.push(v={children:[],index:0}),N.children[N.index]=v.children,N=v)}return Z[0].children}function C(d,w,q){return 64*((d.blocksPerLine+1)*w+q)}function H(d,w,q,l,b,D,Z,N,v,S=!1){const I=q.mcusPerLine,u=q.progressive,y=w;let r=0,A=0;function E(){if(A>0)return A--,r>>A&1;if(r=d[w++],r===255){const $e=d[w++];if($e){if($e===220&&S){w+=2;const ze=(0,U.readUint16)(d,w);if(w+=2,ze>0&&ze!==q.scanLines)throw new t("Found DNL marker (0xFFDC) while parsing scan data",ze)}else if($e===217){if(S){const ze=he*(q.precision===8?8:0);if(ze>0&&Math.round(q.scanLines/ze)>=5)throw new t("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",ze)}throw new o("Found EOI marker (0xFFD9) while parsing scan data")}throw new e(`unexpected marker ${(r<<8|$e).toString(16)}`)}}return A=7,r>>>7}function G($e){let ze=$e;for(;;){switch(ze=ze[E()],typeof ze){case"number":return ze;case"object":continue}throw new e("invalid huffman sequence")}}function ae($e){let ze=0;for(;$e>0;)ze=ze<<1|E(),$e--;return ze}function ce($e){if($e===1)return E()===1?1:-1;const ze=ae($e);return ze>=1<<$e-1?ze:ze+(-1<<$e)+1}function Ie($e,ze){const at=G($e.huffmanTableDC),mt=at===0?0:ce(at);$e.blockData[ze]=$e.pred+=mt;let At=1;for(;At<64;){const Qe=G($e.huffmanTableAC),Ke=Qe&15,pt=Qe>>4;if(Ke===0){if(pt<15)break;At+=16;continue}At+=pt;const st=K[At];$e.blockData[ze+st]=ce(Ke),At++}}function fe($e,ze){const at=G($e.huffmanTableDC),mt=at===0?0:ce(at)<<v;$e.blockData[ze]=$e.pred+=mt}function Te($e,ze){$e.blockData[ze]|=E()<<v}let be=0;function ve($e,ze){if(be>0){be--;return}let at=D;const mt=Z;for(;at<=mt;){const At=G($e.huffmanTableAC),Qe=At&15,Ke=At>>4;if(Qe===0){if(Ke<15){be=ae(Ke)+(1<<Ke)-1;break}at+=16;continue}at+=Ke;const pt=K[at];$e.blockData[ze+pt]=ce(Qe)*(1<<v),at++}}let te=0,ie;function ge($e,ze){let at=D;const mt=Z;let At=0,Qe,Ke;for(;at<=mt;){const pt=ze+K[at],st=$e.blockData[pt]<0?-1:1;switch(te){case 0:if(Ke=G($e.huffmanTableAC),Qe=Ke&15,At=Ke>>4,Qe===0)At<15?(be=ae(At)+(1<<At),te=4):(At=16,te=1);else{if(Qe!==1)throw new e("invalid ACn encoding");ie=ce(Qe),te=At?2:3}continue;case 1:case 2:$e.blockData[pt]?$e.blockData[pt]+=st*(E()<<v):(At--,At===0&&(te=te===2?3:0));break;case 3:$e.blockData[pt]?$e.blockData[pt]+=st*(E()<<v):($e.blockData[pt]=ie<<v,te=0);break;case 4:$e.blockData[pt]&&($e.blockData[pt]+=st*(E()<<v));break}at++}te===4&&(be--,be===0&&(te=0))}let he=0;function ue($e,ze,at,mt,At){const Qe=at/I|0,Ke=at%I;he=Qe*$e.v+mt;const pt=Ke*$e.h+At,st=C($e,he,pt);ze($e,st)}function we($e,ze,at){he=at/$e.blocksPerLine|0;const mt=at%$e.blocksPerLine,At=C($e,he,mt);ze($e,At)}const Ce=l.length;let le,ke,Fe,de,Ee,Oe;u?D===0?Oe=N===0?fe:Te:Oe=N===0?ve:ge:Oe=Ie;let Ne=0,et;const rt=Ce===1?l[0].blocksPerLine*l[0].blocksPerColumn:I*q.mcusPerColumn;let Ge,je;for(;Ne<=rt;){const $e=b?Math.min(rt-Ne,b):rt;if($e>0){for(ke=0;ke<Ce;ke++)l[ke].pred=0;if(be=0,Ce===1)for(le=l[0],Ee=0;Ee<$e;Ee++)we(le,Oe,Ne),Ne++;else for(Ee=0;Ee<$e;Ee++){for(ke=0;ke<Ce;ke++)for(le=l[ke],Ge=le.h,je=le.v,Fe=0;Fe<je;Fe++)for(de=0;de<Ge;de++)ue(le,Oe,Ne,Fe,de);Ne++}}if(A=0,et=_(d,w),!et)break;if(et.invalid){const ze=$e>0?"unexpected":"excessive";(0,n.warn)(`decodeScan - ${ze} MCU data, current marker is: ${et.invalid}`),w=et.offset}if(et.marker>=65488&&et.marker<=65495)w+=2;else break}return w-y}function $(d,w,q){const l=d.quantizationTable,b=d.blockData;let D,Z,N,v,S,I,u,y,r,A,E,G,ae,ce,Ie,fe,Te;if(!l)throw new e("missing required Quantization Table.");for(let be=0;be<64;be+=8){if(r=b[w+be],A=b[w+be+1],E=b[w+be+2],G=b[w+be+3],ae=b[w+be+4],ce=b[w+be+5],Ie=b[w+be+6],fe=b[w+be+7],r*=l[be],!(A|E|G|ae|ce|Ie|fe)){Te=T*r+512>>10,q[be]=Te,q[be+1]=Te,q[be+2]=Te,q[be+3]=Te,q[be+4]=Te,q[be+5]=Te,q[be+6]=Te,q[be+7]=Te;continue}A*=l[be+1],E*=l[be+2],G*=l[be+3],ae*=l[be+4],ce*=l[be+5],Ie*=l[be+6],fe*=l[be+7],D=T*r+128>>8,Z=T*ae+128>>8,N=E,v=Ie,S=F*(A-fe)+128>>8,y=F*(A+fe)+128>>8,I=G<<4,u=ce<<4,D=D+Z+1>>1,Z=D-Z,Te=N*i+v*p+128>>8,N=N*p-v*i+128>>8,v=Te,S=S+u+1>>1,u=S-u,y=y+I+1>>1,I=y-I,D=D+v+1>>1,v=D-v,Z=Z+N+1>>1,N=Z-N,Te=S*f+y*O+2048>>12,S=S*O-y*f+2048>>12,y=Te,Te=I*L+u*X+2048>>12,I=I*X-u*L+2048>>12,u=Te,q[be]=D+y,q[be+7]=D-y,q[be+1]=Z+u,q[be+6]=Z-u,q[be+2]=N+I,q[be+5]=N-I,q[be+3]=v+S,q[be+4]=v-S}for(let be=0;be<8;++be){if(r=q[be],A=q[be+8],E=q[be+16],G=q[be+24],ae=q[be+32],ce=q[be+40],Ie=q[be+48],fe=q[be+56],!(A|E|G|ae|ce|Ie|fe)){Te=T*r+8192>>14,Te<-2040?Te=0:Te>=2024?Te=255:Te=Te+2056>>4,b[w+be]=Te,b[w+be+8]=Te,b[w+be+16]=Te,b[w+be+24]=Te,b[w+be+32]=Te,b[w+be+40]=Te,b[w+be+48]=Te,b[w+be+56]=Te;continue}D=T*r+2048>>12,Z=T*ae+2048>>12,N=E,v=Ie,S=F*(A-fe)+2048>>12,y=F*(A+fe)+2048>>12,I=G,u=ce,D=(D+Z+1>>1)+4112,Z=D-Z,Te=N*i+v*p+2048>>12,N=N*p-v*i+2048>>12,v=Te,S=S+u+1>>1,u=S-u,y=y+I+1>>1,I=y-I,D=D+v+1>>1,v=D-v,Z=Z+N+1>>1,N=Z-N,Te=S*f+y*O+2048>>12,S=S*O-y*f+2048>>12,y=Te,Te=I*L+u*X+2048>>12,I=I*X-u*L+2048>>12,u=Te,r=D+y,fe=D-y,A=Z+u,Ie=Z-u,E=N+I,ce=N-I,G=v+S,ae=v-S,r<16?r=0:r>=4080?r=255:r>>=4,A<16?A=0:A>=4080?A=255:A>>=4,E<16?E=0:E>=4080?E=255:E>>=4,G<16?G=0:G>=4080?G=255:G>>=4,ae<16?ae=0:ae>=4080?ae=255:ae>>=4,ce<16?ce=0:ce>=4080?ce=255:ce>>=4,Ie<16?Ie=0:Ie>=4080?Ie=255:Ie>>=4,fe<16?fe=0:fe>=4080?fe=255:fe>>=4,b[w+be]=r,b[w+be+8]=A,b[w+be+16]=E,b[w+be+24]=G,b[w+be+32]=ae,b[w+be+40]=ce,b[w+be+48]=Ie,b[w+be+56]=fe}}function se(d,w){const q=w.blocksPerLine,l=w.blocksPerColumn,b=new Int16Array(64);for(let D=0;D<l;D++)for(let Z=0;Z<q;Z++){const N=C(w,D,Z);$(w,N,b)}return w.blockData}function _(d,w,q=w){const l=d.length-1;let b=q<w?q:w;if(w>=l)return null;const D=(0,U.readUint16)(d,w);if(D>=65472&&D<=65534)return{invalid:null,marker:D,offset:w};let Z=(0,U.readUint16)(d,b);for(;!(Z>=65472&&Z<=65534);){if(++b>=l)return null;Z=(0,U.readUint16)(d,b)}return{invalid:D.toString(16),marker:Z,offset:b}}class Q{constructor({decodeTransform:w=null,colorTransform:q=-1}={}){this._decodeTransform=w,this._colorTransform=q}parse(w,{dnlScanLines:q=null}={}){function l(){const E=(0,U.readUint16)(w,D);D+=2;let G=D+E-2;const ae=_(w,G,D);ae!=null&&ae.invalid&&((0,n.warn)("readDataBlock - incorrect length, current marker is: "+ae.invalid),G=ae.offset);const ce=w.subarray(D,G);return D+=ce.length,ce}function b(E){const G=Math.ceil(E.samplesPerLine/8/E.maxH),ae=Math.ceil(E.scanLines/8/E.maxV);for(const ce of E.components){const Ie=Math.ceil(Math.ceil(E.samplesPerLine/8)*ce.h/E.maxH),fe=Math.ceil(Math.ceil(E.scanLines/8)*ce.v/E.maxV),Te=G*ce.h,ve=64*(ae*ce.v)*(Te+1);ce.blockData=new Int16Array(ve),ce.blocksPerLine=Ie,ce.blocksPerColumn=fe}E.mcusPerLine=G,E.mcusPerColumn=ae}let D=0,Z=null,N=null,v,S,I=0;const u=[],y=[],r=[];let A=(0,U.readUint16)(w,D);if(D+=2,A!==65496)throw new e("SOI not found");A=(0,U.readUint16)(w,D),D+=2;e:for(;A!==65497;){let E,G,ae;switch(A){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const ce=l();A===65504&&ce[0]===74&&ce[1]===70&&ce[2]===73&&ce[3]===70&&ce[4]===0&&(Z={version:{major:ce[5],minor:ce[6]},densityUnits:ce[7],xDensity:ce[8]<<8|ce[9],yDensity:ce[10]<<8|ce[11],thumbWidth:ce[12],thumbHeight:ce[13],thumbData:ce.subarray(14,14+3*ce[12]*ce[13])}),A===65518&&ce[0]===65&&ce[1]===100&&ce[2]===111&&ce[3]===98&&ce[4]===101&&(N={version:ce[5]<<8|ce[6],flags0:ce[7]<<8|ce[8],flags1:ce[9]<<8|ce[10],transformCode:ce[11]});break;case 65499:const Ie=(0,U.readUint16)(w,D);D+=2;const fe=Ie+D-2;let Te;for(;D<fe;){const de=w[D++],Ee=new Uint16Array(64);if(de>>4)if(de>>4===1)for(G=0;G<64;G++)Te=K[G],Ee[Te]=(0,U.readUint16)(w,D),D+=2;else throw new e("DQT - invalid table spec");else for(G=0;G<64;G++)Te=K[G],Ee[Te]=w[D++];u[de&15]=Ee}break;case 65472:case 65473:case 65474:if(v)throw new e("Only single frame JPEGs supported");D+=2,v={},v.extended=A===65473,v.progressive=A===65474,v.precision=w[D++];const be=(0,U.readUint16)(w,D);D+=2,v.scanLines=q||be,v.samplesPerLine=(0,U.readUint16)(w,D),D+=2,v.components=[],v.componentIds={};const ve=w[D++];let te=0,ie=0;for(E=0;E<ve;E++){const de=w[D],Ee=w[D+1]>>4,Oe=w[D+1]&15;te<Ee&&(te=Ee),ie<Oe&&(ie=Oe);const Ne=w[D+2];ae=v.components.push({h:Ee,v:Oe,quantizationId:Ne,quantizationTable:null}),v.componentIds[de]=ae-1,D+=3}v.maxH=te,v.maxV=ie,b(v);break;case 65476:const ge=(0,U.readUint16)(w,D);for(D+=2,E=2;E<ge;){const de=w[D++],Ee=new Uint8Array(16);let Oe=0;for(G=0;G<16;G++,D++)Oe+=Ee[G]=w[D];const Ne=new Uint8Array(Oe);for(G=0;G<Oe;G++,D++)Ne[G]=w[D];E+=17+Oe,(de>>4?y:r)[de&15]=P(Ee,Ne)}break;case 65501:D+=2,S=(0,U.readUint16)(w,D),D+=2;break;case 65498:const he=++I===1&&!q;D+=2;const ue=w[D++],we=[];for(E=0;E<ue;E++){const de=w[D++],Ee=v.componentIds[de],Oe=v.components[Ee];Oe.index=de;const Ne=w[D++];Oe.huffmanTableDC=r[Ne>>4],Oe.huffmanTableAC=y[Ne&15],we.push(Oe)}const Ce=w[D++],le=w[D++],ke=w[D++];try{const de=H(w,D,v,we,S,Ce,le,ke>>4,ke&15,he);D+=de}catch(de){if(de instanceof t)return(0,n.warn)(`${de.message} -- attempting to re-parse the JPEG image.`),this.parse(w,{dnlScanLines:de.scanLines});if(de instanceof o){(0,n.warn)(`${de.message} -- ignoring the rest of the image data.`);break e}throw de}break;case 65500:D+=4;break;case 65535:w[D]!==255&&D--;break;default:const Fe=_(w,D-2,D-3);if(Fe!=null&&Fe.invalid){(0,n.warn)("JpegImage.parse - unexpected data, current marker is: "+Fe.invalid),D=Fe.offset;break}if(!Fe||D>=w.length-1){(0,n.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new e("JpegImage.parse - unknown marker: "+A.toString(16))}A=(0,U.readUint16)(w,D),D+=2}this.width=v.samplesPerLine,this.height=v.scanLines,this.jfif=Z,this.adobe=N,this.components=[];for(const E of v.components){const G=u[E.quantizationId];G&&(E.quantizationTable=G),this.components.push({index:E.index,output:se(v,E),scaleX:E.h/v.maxH,scaleY:E.v/v.maxV,blocksPerLine:E.blocksPerLine,blocksPerColumn:E.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(w,q,l=!1){const b=this.width/w,D=this.height/q;let Z,N,v,S,I,u,y,r,A,E,G=0,ae;const ce=this.components.length,Ie=w*q*ce,fe=new Uint8ClampedArray(Ie),Te=new Uint32Array(w),be=4294967288;let ve;for(y=0;y<ce;y++){if(Z=this.components[y],N=Z.scaleX*b,v=Z.scaleY*D,G=y,ae=Z.output,S=Z.blocksPerLine+1<<3,N!==ve){for(I=0;I<w;I++)r=0|I*N,Te[I]=(r&be)<<3|r&7;ve=N}for(u=0;u<q;u++)for(r=0|u*v,E=S*(r&be)|(r&7)<<3,I=0;I<w;I++)fe[G]=ae[E+Te[I]],G+=ce}let te=this._decodeTransform;if(!l&&ce===4&&!te&&(te=new Int32Array([-256,255,-256,255,-256,255,-256,255])),te)for(y=0;y<Ie;)for(r=0,A=0;r<ce;r++,y++,A+=2)fe[y]=(fe[y]*te[A]>>8)+te[A+1];return fe}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(w){let q,l,b;for(let D=0,Z=w.length;D<Z;D+=3)q=w[D],l=w[D+1],b=w[D+2],w[D]=q-179.456+1.402*b,w[D+1]=q+135.459-.344*l-.714*b,w[D+2]=q-226.816+1.772*l;return w}_convertYccToRgba(w,q){for(let l=0,b=0,D=w.length;l<D;l+=3,b+=4){const Z=w[l],N=w[l+1],v=w[l+2];q[b]=Z-179.456+1.402*v,q[b+1]=Z+135.459-.344*N-.714*v,q[b+2]=Z-226.816+1.772*N,q[b+3]=255}return q}_convertYcckToRgb(w){let q,l,b,D,Z=0;for(let N=0,v=w.length;N<v;N+=4)q=w[N],l=w[N+1],b=w[N+2],D=w[N+3],w[Z++]=-122.67195406894+l*(-660635669420364e-19*l+.000437130475926232*b-54080610064599e-18*q+.00048449797120281*D-.154362151871126)+b*(-.000957964378445773*b+.000817076911346625*q-.00477271405408747*D+1.53380253221734)+q*(.000961250184130688*q-.00266257332283933*D+.48357088451265)+D*(-.000336197177618394*D+.484791561490776),w[Z++]=107.268039397724+l*(219927104525741e-19*l-.000640992018297945*b+.000659397001245577*q+.000426105652938837*D-.176491792462875)+b*(-.000778269941513683*b+.00130872261408275*q+.000770482631801132*D-.151051492775562)+q*(.00126935368114843*q-.00265090189010898*D+.25802910206845)+D*(-.000318913117588328*D-.213742400323665),w[Z++]=-20.810012546947+l*(-.000570115196973677*l-263409051004589e-19*b+.0020741088115012*q-.00288260236853442*D+.814272968359295)+b*(-153496057440975e-19*b-.000132689043961446*q+.000560833691242812*D-.195152027534049)+q*(.00174418132927582*q-.00255243321439347*D+.116935020465145)+D*(-.000343531996510555*D+.24165260232407);return w.subarray(0,Z)}_convertYcckToRgba(w){for(let q=0,l=w.length;q<l;q+=4){const b=w[q],D=w[q+1],Z=w[q+2],N=w[q+3];w[q]=-122.67195406894+D*(-660635669420364e-19*D+.000437130475926232*Z-54080610064599e-18*b+.00048449797120281*N-.154362151871126)+Z*(-.000957964378445773*Z+.000817076911346625*b-.00477271405408747*N+1.53380253221734)+b*(.000961250184130688*b-.00266257332283933*N+.48357088451265)+N*(-.000336197177618394*N+.484791561490776),w[q+1]=107.268039397724+D*(219927104525741e-19*D-.000640992018297945*Z+.000659397001245577*b+.000426105652938837*N-.176491792462875)+Z*(-.000778269941513683*Z+.00130872261408275*b+.000770482631801132*N-.151051492775562)+b*(.00126935368114843*b-.00265090189010898*N+.25802910206845)+N*(-.000318913117588328*N-.213742400323665),w[q+2]=-20.810012546947+D*(-.000570115196973677*D-263409051004589e-19*Z+.0020741088115012*b-.00288260236853442*N+.814272968359295)+Z*(-153496057440975e-19*Z-.000132689043961446*b+.000560833691242812*N-.195152027534049)+b*(.00174418132927582*b-.00255243321439347*N+.116935020465145)+N*(-.000343531996510555*N+.24165260232407),w[q+3]=255}return w}_convertYcckToCmyk(w){let q,l,b;for(let D=0,Z=w.length;D<Z;D+=4)q=w[D],l=w[D+1],b=w[D+2],w[D]=434.456-q-1.402*b,w[D+1]=119.541-q+.344*l+.714*b,w[D+2]=481.816-q-1.772*l;return w}_convertCmykToRgb(w){let q,l,b,D,Z=0;for(let N=0,v=w.length;N<v;N+=4)q=w[N],l=w[N+1],b=w[N+2],D=w[N+3],w[Z++]=255+q*(-6747147073602441e-20*q+.0008379262121013727*l+.0002894718188643294*b+.003264231057537806*D-1.1185611867203937)+l*(26374107616089405e-21*l-8626949158638572e-20*b-.0002748769067499491*D-.02155688794978967)+b*(-3878099212869363e-20*b-.0003267808279485286*D+.0686742238595345)-D*(.0003361971776183937*D+.7430659151342254),w[Z++]=255+q*(.00013596372813588848*q+.000924537132573585*l+.00010567359618683593*b+.0004791864687436512*D-.3109689587515875)+l*(-.00023545346108370344*l+.0002702845253534714*b+.0020200308977307156*D-.7488052167015494)+b*(6834815998235662e-20*b+.00015168452363460973*D-.09751927774728933)-D*(.0003189131175883281*D+.7364883807733168),w[Z++]=255+q*(13598650411385307e-21*q+.00012423956175490851*l+.0004751985097583589*b-36729317476630422e-22*D-.05562186980264034)+l*(.00016141380598724676*l+.0009692239130725186*b+.0007782692450036253*D-.44015232367526463)+b*(5068882914068769e-22*b+.0017778369011375071*D-.7591454649749609)-D*(.0003435319965105553*D+.7063770186160144);return w.subarray(0,Z)}_convertCmykToRgba(w){for(let q=0,l=w.length;q<l;q+=4){const b=w[q],D=w[q+1],Z=w[q+2],N=w[q+3];w[q]=255+b*(-6747147073602441e-20*b+.0008379262121013727*D+.0002894718188643294*Z+.003264231057537806*N-1.1185611867203937)+D*(26374107616089405e-21*D-8626949158638572e-20*Z-.0002748769067499491*N-.02155688794978967)+Z*(-3878099212869363e-20*Z-.0003267808279485286*N+.0686742238595345)-N*(.0003361971776183937*N+.7430659151342254),w[q+1]=255+b*(.00013596372813588848*b+.000924537132573585*D+.00010567359618683593*Z+.0004791864687436512*N-.3109689587515875)+D*(-.00023545346108370344*D+.0002702845253534714*Z+.0020200308977307156*N-.7488052167015494)+Z*(6834815998235662e-20*Z+.00015168452363460973*N-.09751927774728933)-N*(.0003189131175883281*N+.7364883807733168),w[q+2]=255+b*(13598650411385307e-21*b+.00012423956175490851*D+.0004751985097583589*Z-36729317476630422e-22*N-.05562186980264034)+D*(.00016141380598724676*D+.0009692239130725186*Z+.0007782692450036253*N-.44015232367526463)+Z*(5068882914068769e-22*Z+.0017778369011375071*N-.7591454649749609)-N*(.0003435319965105553*N+.7063770186160144),w[q+3]=255}return w}getData({width:w,height:q,forceRGBA:l=!1,forceRGB:b=!1,isSourcePDF:D=!1}){if(this.numComponents>4)throw new e("Unsupported color mode");const Z=this._getLinearizedBlockData(w,q,D);if(this.numComponents===1&&(l||b)){const N=Z.length*(l?4:3),v=new Uint8ClampedArray(N);let S=0;if(l)(0,x.grayToRGBA)(Z,new Uint32Array(v.buffer));else for(const I of Z)v[S++]=I,v[S++]=I,v[S++]=I;return v}else if(this.numComponents===3&&this._isColorConversionNeeded){if(l){const N=new Uint8ClampedArray(Z.length/3*4);return this._convertYccToRgba(Z,N)}return this._convertYccToRgb(Z)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return l?this._convertYcckToRgba(Z):b?this._convertYcckToRgb(Z):this._convertYcckToCmyk(Z);if(l)return this._convertCmykToRgba(Z);if(b)return this._convertCmykToRgb(Z)}return Z}}h.JpegImage=Q},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.convertBlackAndWhiteToRGBA=U,h.convertToRGBA=x,h.grayToRGBA=t;var n=re(2);function x(o){switch(o.kind){case n.ImageKind.GRAYSCALE_1BPP:return U(o);case n.ImageKind.RGB_24BPP:return e(o)}return null}function U({src:o,srcPos:K=0,dest:X,width:L,height:O,nonBlackColor:f=4294967295,inverseDecode:p=!1}){const i=n.FeatureTest.isLittleEndian?4278190080:255,[T,F]=p?[f,i]:[i,f],P=L>>3,C=L&7,H=o.length;X=new Uint32Array(X.buffer);let $=0;for(let se=0;se<O;se++){for(const Q=K+P;K<Q;K++){const d=K<H?o[K]:255;X[$++]=d&128?F:T,X[$++]=d&64?F:T,X[$++]=d&32?F:T,X[$++]=d&16?F:T,X[$++]=d&8?F:T,X[$++]=d&4?F:T,X[$++]=d&2?F:T,X[$++]=d&1?F:T}if(C===0)continue;const _=K<H?o[K++]:255;for(let Q=0;Q<C;Q++)X[$++]=_&1<<7-Q?F:T}return{srcPos:K,destPos:$}}function e({src:o,srcPos:K=0,dest:X,destPos:L=0,width:O,height:f}){let p=0;const i=o.length>>2,T=new Uint32Array(o.buffer,K,i);if(n.FeatureTest.isLittleEndian){for(;p<i-2;p+=3,L+=4){const F=T[p],P=T[p+1],C=T[p+2];X[L]=F|4278190080,X[L+1]=F>>>24|P<<8|4278190080,X[L+2]=P>>>16|C<<16|4278190080,X[L+3]=C>>>8|4278190080}for(let F=p*4,P=o.length;F<P;F+=3)X[L++]=o[F]|o[F+1]<<8|o[F+2]<<16|4278190080}else{for(;p<i-2;p+=3,L+=4){const F=T[p],P=T[p+1],C=T[p+2];X[L]=F|255,X[L+1]=F<<24|P>>>8|255,X[L+2]=P<<16|C>>>16|255,X[L+3]=C<<8|255}for(let F=p*4,P=o.length;F<P;F+=3)X[L++]=o[F]<<24|o[F+1]<<16|o[F+2]<<8|255}return{srcPos:K,destPos:L}}function t(o,K){if(n.FeatureTest.isLittleEndian)for(let X=0,L=o.length;X<L;X++)K[X]=o[X]*65793|4278190080;else for(let X=0,L=o.length;X<L;X++)K[X]=o[X]*16843008|255}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.JpxStream=void 0;var n=re(18),x=re(30),U=re(2);class e extends n.DecodeStream{constructor(o,K,X){super(K),this.stream=o,this.dict=o.dict,this.maybeLength=K,this.params=X}get bytes(){return(0,U.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(o){}readBlock(){if(this.eof)return;const o=new x.JpxImage;o.parse(this.bytes);const K=o.width,X=o.height,L=o.componentsCount,O=o.tiles.length;if(O===1)this.buffer=o.tiles[0].items;else{const f=new Uint8ClampedArray(K*X*L);for(let p=0;p<O;p++){const i=o.tiles[p],T=i.width,F=i.height,P=i.left,C=i.top,H=i.items;let $=0,se=(K*C+P)*L;const _=K*L,Q=T*L;for(let d=0;d<F;d++){const w=H.subarray($,$+Q);f.set(w,se),$+=Q,se+=_}}this.buffer=f}this.bufferLength=this.buffer.length,this.eof=!0}}h.JpxStream=e},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.JpxImage=void 0;var n=re(2),x=re(3),U=re(25);class e extends n.BaseException{constructor(u){super(`JPX error: ${u}`,"JpxError")}}const t={LL:0,LH:1,HL:1,HH:2};class o{constructor(){this.failOnCorruptedImage=!1}parse(u){if((0,x.readUint16)(u,0)===65359){this.parseCodestream(u,0,u.length);return}const r=u.length;let A=0;for(;A<r;){let E=8,G=(0,x.readUint32)(u,A);const ae=(0,x.readUint32)(u,A+4);if(A+=E,G===1&&(G=(0,x.readUint32)(u,A)*4294967296+(0,x.readUint32)(u,A+4),A+=8,E+=8),G===0&&(G=r-A+E),G<E)throw new e("Invalid box field size");const ce=G-E;let Ie=!0;switch(ae){case 1785737832:Ie=!1;break;case 1668246642:const fe=u[A];if(fe===1){const be=(0,x.readUint32)(u,A+3);switch(be){case 16:case 17:case 18:break;default:(0,n.warn)("Unknown colorspace "+be);break}}else fe===2&&(0,n.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(u,A,A+ce);break;case 1783636e3:(0,x.readUint32)(u,A)!==218793738&&(0,n.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const Te=String.fromCharCode(ae>>24&255,ae>>16&255,ae>>8&255,ae&255);(0,n.warn)(`Unsupported header type ${ae} (${Te}).`);break}Ie&&(A+=ce)}}parseImageProperties(u){let y=u.getByte();for(;y>=0;){const r=y;if(y=u.getByte(),(r<<8|y)===65361){u.skip(4);const E=u.getInt32()>>>0,G=u.getInt32()>>>0,ae=u.getInt32()>>>0,ce=u.getInt32()>>>0;u.skip(16);const Ie=u.getUint16();this.width=E-ae,this.height=G-ce,this.componentsCount=Ie,this.bitsPerComponent=8;return}}throw new e("No size marker found in JPX stream")}parseCodestream(u,y,r){const A={};let E=!1;try{let G=y;for(;G+1<r;){const ae=(0,x.readUint16)(u,G);G+=2;let ce=0,Ie,fe,Te,be,ve,te;switch(ae){case 65359:A.mainHeader=!0;break;case 65497:break;case 65361:ce=(0,x.readUint16)(u,G);const ie={};ie.Xsiz=(0,x.readUint32)(u,G+4),ie.Ysiz=(0,x.readUint32)(u,G+8),ie.XOsiz=(0,x.readUint32)(u,G+12),ie.YOsiz=(0,x.readUint32)(u,G+16),ie.XTsiz=(0,x.readUint32)(u,G+20),ie.YTsiz=(0,x.readUint32)(u,G+24),ie.XTOsiz=(0,x.readUint32)(u,G+28),ie.YTOsiz=(0,x.readUint32)(u,G+32);const ge=(0,x.readUint16)(u,G+36);ie.Csiz=ge;const he=[];Ie=G+38;for(let Ee=0;Ee<ge;Ee++){const Oe={precision:(u[Ie]&127)+1,isSigned:!!(u[Ie]&128),XRsiz:u[Ie+1],YRsiz:u[Ie+2]};Ie+=3,K(Oe,ie),he.push(Oe)}A.SIZ=ie,A.components=he,X(A,he),A.QCC=[],A.COC=[];break;case 65372:ce=(0,x.readUint16)(u,G);const ue={};switch(Ie=G+2,fe=u[Ie++],fe&31){case 0:be=8,ve=!0;break;case 1:be=16,ve=!1;break;case 2:be=16,ve=!0;break;default:throw new Error("Invalid SQcd value "+fe)}for(ue.noQuantization=be===8,ue.scalarExpounded=ve,ue.guardBits=fe>>5,Te=[];Ie<ce+G;){const Ee={};be===8?(Ee.epsilon=u[Ie++]>>3,Ee.mu=0):(Ee.epsilon=u[Ie]>>3,Ee.mu=(u[Ie]&7)<<8|u[Ie+1],Ie+=2),Te.push(Ee)}ue.SPqcds=Te,A.mainHeader?A.QCD=ue:(A.currentTile.QCD=ue,A.currentTile.QCC=[]);break;case 65373:ce=(0,x.readUint16)(u,G);const we={};Ie=G+2;let Ce;switch(A.SIZ.Csiz<257?Ce=u[Ie++]:(Ce=(0,x.readUint16)(u,Ie),Ie+=2),fe=u[Ie++],fe&31){case 0:be=8,ve=!0;break;case 1:be=16,ve=!1;break;case 2:be=16,ve=!0;break;default:throw new Error("Invalid SQcd value "+fe)}for(we.noQuantization=be===8,we.scalarExpounded=ve,we.guardBits=fe>>5,Te=[];Ie<ce+G;){const Ee={};be===8?(Ee.epsilon=u[Ie++]>>3,Ee.mu=0):(Ee.epsilon=u[Ie]>>3,Ee.mu=(u[Ie]&7)<<8|u[Ie+1],Ie+=2),Te.push(Ee)}we.SPqcds=Te,A.mainHeader?A.QCC[Ce]=we:A.currentTile.QCC[Ce]=we;break;case 65362:ce=(0,x.readUint16)(u,G);const le={};Ie=G+2;const ke=u[Ie++];le.entropyCoderWithCustomPrecincts=!!(ke&1),le.sopMarkerUsed=!!(ke&2),le.ephMarkerUsed=!!(ke&4),le.progressionOrder=u[Ie++],le.layersCount=(0,x.readUint16)(u,Ie),Ie+=2,le.multipleComponentTransform=u[Ie++],le.decompositionLevelsCount=u[Ie++],le.xcb=(u[Ie++]&15)+2,le.ycb=(u[Ie++]&15)+2;const Fe=u[Ie++];if(le.selectiveArithmeticCodingBypass=!!(Fe&1),le.resetContextProbabilities=!!(Fe&2),le.terminationOnEachCodingPass=!!(Fe&4),le.verticallyStripe=!!(Fe&8),le.predictableTermination=!!(Fe&16),le.segmentationSymbolUsed=!!(Fe&32),le.reversibleTransformation=u[Ie++],le.entropyCoderWithCustomPrecincts){const Ee=[];for(;Ie<ce+G;){const Oe=u[Ie++];Ee.push({PPx:Oe&15,PPy:Oe>>4})}le.precinctsSizes=Ee}const de=[];le.selectiveArithmeticCodingBypass&&de.push("selectiveArithmeticCodingBypass"),le.terminationOnEachCodingPass&&de.push("terminationOnEachCodingPass"),le.verticallyStripe&&de.push("verticallyStripe"),le.predictableTermination&&de.push("predictableTermination"),de.length>0&&(E=!0,(0,n.warn)(`JPX: Unsupported COD options (${de.join(", ")}).`)),A.mainHeader?A.COD=le:(A.currentTile.COD=le,A.currentTile.COC=[]);break;case 65424:ce=(0,x.readUint16)(u,G),te={},te.index=(0,x.readUint16)(u,G+2),te.length=(0,x.readUint32)(u,G+4),te.dataEnd=te.length+G-2,te.partIndex=u[G+8],te.partsCount=u[G+9],A.mainHeader=!1,te.partIndex===0&&(te.COD=A.COD,te.COC=A.COC.slice(0),te.QCD=A.QCD,te.QCC=A.QCC.slice(0)),A.currentTile=te;break;case 65427:te=A.currentTile,te.partIndex===0&&(q(A,te.index),se(A)),ce=te.dataEnd-G,_(A,u,G,ce);break;case 65363:(0,n.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:ce=(0,x.readUint16)(u,G);break;default:throw new Error("Unknown codestream code: "+ae.toString(16))}G+=ce}}catch(G){if(E||this.failOnCorruptedImage)throw new e(G.message);(0,n.warn)(`JPX: Trying to recover from: "${G.message}".`)}this.tiles=w(A),this.width=A.SIZ.Xsiz-A.SIZ.XOsiz,this.height=A.SIZ.Ysiz-A.SIZ.YOsiz,this.componentsCount=A.SIZ.Csiz}}h.JpxImage=o;function K(I,u){I.x0=Math.ceil(u.XOsiz/I.XRsiz),I.x1=Math.ceil(u.Xsiz/I.XRsiz),I.y0=Math.ceil(u.YOsiz/I.YRsiz),I.y1=Math.ceil(u.Ysiz/I.YRsiz),I.width=I.x1-I.x0,I.height=I.y1-I.y0}function X(I,u){const y=I.SIZ,r=[];let A;const E=Math.ceil((y.Xsiz-y.XTOsiz)/y.XTsiz),G=Math.ceil((y.Ysiz-y.YTOsiz)/y.YTsiz);for(let ce=0;ce<G;ce++)for(let Ie=0;Ie<E;Ie++)A={},A.tx0=Math.max(y.XTOsiz+Ie*y.XTsiz,y.XOsiz),A.ty0=Math.max(y.YTOsiz+ce*y.YTsiz,y.YOsiz),A.tx1=Math.min(y.XTOsiz+(Ie+1)*y.XTsiz,y.Xsiz),A.ty1=Math.min(y.YTOsiz+(ce+1)*y.YTsiz,y.Ysiz),A.width=A.tx1-A.tx0,A.height=A.ty1-A.ty0,A.components=[],r.push(A);I.tiles=r;const ae=y.Csiz;for(let ce=0,Ie=ae;ce<Ie;ce++){const fe=u[ce];for(let Te=0,be=r.length;Te<be;Te++){const ve={};A=r[Te],ve.tcx0=Math.ceil(A.tx0/fe.XRsiz),ve.tcy0=Math.ceil(A.ty0/fe.YRsiz),ve.tcx1=Math.ceil(A.tx1/fe.XRsiz),ve.tcy1=Math.ceil(A.ty1/fe.YRsiz),ve.width=ve.tcx1-ve.tcx0,ve.height=ve.tcy1-ve.tcy0,A.components[ce]=ve}}}function L(I,u,y){const r=u.codingStyleParameters,A={};return r.entropyCoderWithCustomPrecincts?(A.PPx=r.precinctsSizes[y].PPx,A.PPy=r.precinctsSizes[y].PPy):(A.PPx=15,A.PPy=15),A.xcb_=y>0?Math.min(r.xcb,A.PPx-1):Math.min(r.xcb,A.PPx),A.ycb_=y>0?Math.min(r.ycb,A.PPy-1):Math.min(r.ycb,A.PPy),A}function O(I,u,y){const r=1<<y.PPx,A=1<<y.PPy,E=u.resLevel===0,G=1<<y.PPx+(E?0:-1),ae=1<<y.PPy+(E?0:-1),ce=u.trx1>u.trx0?Math.ceil(u.trx1/r)-Math.floor(u.trx0/r):0,Ie=u.try1>u.try0?Math.ceil(u.try1/A)-Math.floor(u.try0/A):0,fe=ce*Ie;u.precinctParameters={precinctWidth:r,precinctHeight:A,numprecinctswide:ce,numprecinctshigh:Ie,numprecincts:fe,precinctWidthInSubband:G,precinctHeightInSubband:ae}}function f(I,u,y){const r=y.xcb_,A=y.ycb_,E=1<<r,G=1<<A,ae=u.tbx0>>r,ce=u.tby0>>A,Ie=u.tbx1+E-1>>r,fe=u.tby1+G-1>>A,Te=u.resolution.precinctParameters,be=[],ve=[];let te,ie,ge,he;for(ie=ce;ie<fe;ie++)for(te=ae;te<Ie;te++){ge={cbx:te,cby:ie,tbx0:E*te,tby0:G*ie,tbx1:E*(te+1),tby1:G*(ie+1)},ge.tbx0_=Math.max(u.tbx0,ge.tbx0),ge.tby0_=Math.max(u.tby0,ge.tby0),ge.tbx1_=Math.min(u.tbx1,ge.tbx1),ge.tby1_=Math.min(u.tby1,ge.tby1);const ue=Math.floor((ge.tbx0_-u.tbx0)/Te.precinctWidthInSubband),we=Math.floor((ge.tby0_-u.tby0)/Te.precinctHeightInSubband);if(he=ue+we*Te.numprecinctswide,ge.precinctNumber=he,ge.subbandType=u.type,ge.Lblock=3,ge.tbx1_<=ge.tbx0_||ge.tby1_<=ge.tby0_)continue;be.push(ge);let Ce=ve[he];Ce!==void 0?(te<Ce.cbxMin?Ce.cbxMin=te:te>Ce.cbxMax&&(Ce.cbxMax=te),ie<Ce.cbyMin?Ce.cbxMin=ie:ie>Ce.cbyMax&&(Ce.cbyMax=ie)):ve[he]=Ce={cbxMin:te,cbyMin:ie,cbxMax:te,cbyMax:ie},ge.precinct=Ce}u.codeblockParameters={codeblockWidth:r,codeblockHeight:A,numcodeblockwide:Ie-ae+1,numcodeblockhigh:fe-ce+1},u.codeblocks=be,u.precincts=ve}function p(I,u,y){const r=[],A=I.subbands;for(let E=0,G=A.length;E<G;E++){const ce=A[E].codeblocks;for(let Ie=0,fe=ce.length;Ie<fe;Ie++){const Te=ce[Ie];Te.precinctNumber===u&&r.push(Te)}}return{layerNumber:y,codeblocks:r}}function i(I){const u=I.SIZ,y=I.currentTile.index,r=I.tiles[y],A=r.codingStyleDefaultParameters.layersCount,E=u.Csiz;let G=0;for(let Te=0;Te<E;Te++)G=Math.max(G,r.components[Te].codingStyleParameters.decompositionLevelsCount);let ae=0,ce=0,Ie=0,fe=0;this.nextPacket=function(){for(;ae<A;ae++){for(;ce<=G;ce++){for(;Ie<E;Ie++){const be=r.components[Ie];if(ce>be.codingStyleParameters.decompositionLevelsCount)continue;const ve=be.resolutions[ce],te=ve.precinctParameters.numprecincts;for(;fe<te;){const ie=p(ve,fe,ae);return fe++,ie}fe=0}Ie=0}ce=0}throw new e("Out of packets")}}function T(I){const u=I.SIZ,y=I.currentTile.index,r=I.tiles[y],A=r.codingStyleDefaultParameters.layersCount,E=u.Csiz;let G=0;for(let Te=0;Te<E;Te++)G=Math.max(G,r.components[Te].codingStyleParameters.decompositionLevelsCount);let ae=0,ce=0,Ie=0,fe=0;this.nextPacket=function(){for(;ae<=G;ae++){for(;ce<A;ce++){for(;Ie<E;Ie++){const be=r.components[Ie];if(ae>be.codingStyleParameters.decompositionLevelsCount)continue;const ve=be.resolutions[ae],te=ve.precinctParameters.numprecincts;for(;fe<te;){const ie=p(ve,fe,ce);return fe++,ie}fe=0}Ie=0}ce=0}throw new e("Out of packets")}}function F(I){const u=I.SIZ,y=I.currentTile.index,r=I.tiles[y],A=r.codingStyleDefaultParameters.layersCount,E=u.Csiz;let G,ae,ce,Ie,fe=0;for(ce=0;ce<E;ce++){const be=r.components[ce];fe=Math.max(fe,be.codingStyleParameters.decompositionLevelsCount)}const Te=new Int32Array(fe+1);for(ae=0;ae<=fe;++ae){let be=0;for(ce=0;ce<E;++ce){const ve=r.components[ce].resolutions;ae<ve.length&&(be=Math.max(be,ve[ae].precinctParameters.numprecincts))}Te[ae]=be}G=0,ae=0,ce=0,Ie=0,this.nextPacket=function(){for(;ae<=fe;ae++){for(;Ie<Te[ae];Ie++){for(;ce<E;ce++){const ve=r.components[ce];if(ae>ve.codingStyleParameters.decompositionLevelsCount)continue;const te=ve.resolutions[ae],ie=te.precinctParameters.numprecincts;if(!(Ie>=ie)){for(;G<A;){const ge=p(te,Ie,G);return G++,ge}G=0}}ce=0}Ie=0}throw new e("Out of packets")}}function P(I){const u=I.SIZ,y=I.currentTile.index,r=I.tiles[y],A=r.codingStyleDefaultParameters.layersCount,E=u.Csiz,G=$(r),ae=G;let ce=0,Ie=0,fe=0,Te=0,be=0;this.nextPacket=function(){for(;be<ae.maxNumHigh;be++){for(;Te<ae.maxNumWide;Te++){for(;fe<E;fe++){const te=r.components[fe],ie=te.codingStyleParameters.decompositionLevelsCount;for(;Ie<=ie;Ie++){const ge=te.resolutions[Ie],he=G.components[fe].resolutions[Ie],ue=H(Te,be,he,ae,ge);if(ue!==null){for(;ce<A;){const we=p(ge,ue,ce);return ce++,we}ce=0}}Ie=0}fe=0}Te=0}throw new e("Out of packets")}}function C(I){const u=I.SIZ,y=I.currentTile.index,r=I.tiles[y],A=r.codingStyleDefaultParameters.layersCount,E=u.Csiz,G=$(r);let ae=0,ce=0,Ie=0,fe=0,Te=0;this.nextPacket=function(){for(;Ie<E;++Ie){const ve=r.components[Ie],te=G.components[Ie],ie=ve.codingStyleParameters.decompositionLevelsCount;for(;Te<te.maxNumHigh;Te++){for(;fe<te.maxNumWide;fe++){for(;ce<=ie;ce++){const ge=ve.resolutions[ce],he=te.resolutions[ce],ue=H(fe,Te,he,te,ge);if(ue!==null){for(;ae<A;){const we=p(ge,ue,ae);return ae++,we}ae=0}}ce=0}fe=0}Te=0}throw new e("Out of packets")}}function H(I,u,y,r,A){const E=I*r.minWidth,G=u*r.minHeight;if(E%y.width!==0||G%y.height!==0)return null;const ae=G/y.width*A.precinctParameters.numprecinctswide;return E/y.height+ae}function $(I){const u=I.components.length;let y=Number.MAX_VALUE,r=Number.MAX_VALUE,A=0,E=0;const G=new Array(u);for(let ae=0;ae<u;ae++){const ce=I.components[ae],Ie=ce.codingStyleParameters.decompositionLevelsCount,fe=new Array(Ie+1);let Te=Number.MAX_VALUE,be=Number.MAX_VALUE,ve=0,te=0,ie=1;for(let ge=Ie;ge>=0;--ge){const he=ce.resolutions[ge],ue=ie*he.precinctParameters.precinctWidth,we=ie*he.precinctParameters.precinctHeight;Te=Math.min(Te,ue),be=Math.min(be,we),ve=Math.max(ve,he.precinctParameters.numprecinctswide),te=Math.max(te,he.precinctParameters.numprecinctshigh),fe[ge]={width:ue,height:we},ie<<=1}y=Math.min(y,Te),r=Math.min(r,be),A=Math.max(A,ve),E=Math.max(E,te),G[ae]={resolutions:fe,minWidth:Te,minHeight:be,maxNumWide:ve,maxNumHigh:te}}return{components:G,minWidth:y,minHeight:r,maxNumWide:A,maxNumHigh:E}}function se(I){const u=I.SIZ,y=I.currentTile.index,r=I.tiles[y],A=u.Csiz;for(let G=0;G<A;G++){const ae=r.components[G],ce=ae.codingStyleParameters.decompositionLevelsCount,Ie=[],fe=[];for(let Te=0;Te<=ce;Te++){const be=L(I,ae,Te),ve={},te=1<<ce-Te;ve.trx0=Math.ceil(ae.tcx0/te),ve.try0=Math.ceil(ae.tcy0/te),ve.trx1=Math.ceil(ae.tcx1/te),ve.try1=Math.ceil(ae.tcy1/te),ve.resLevel=Te,O(I,ve,be),Ie.push(ve);let ie;if(Te===0)ie={},ie.type="LL",ie.tbx0=Math.ceil(ae.tcx0/te),ie.tby0=Math.ceil(ae.tcy0/te),ie.tbx1=Math.ceil(ae.tcx1/te),ie.tby1=Math.ceil(ae.tcy1/te),ie.resolution=ve,f(I,ie,be),fe.push(ie),ve.subbands=[ie];else{const ge=1<<ce-Te+1,he=[];ie={},ie.type="HL",ie.tbx0=Math.ceil(ae.tcx0/ge-.5),ie.tby0=Math.ceil(ae.tcy0/ge),ie.tbx1=Math.ceil(ae.tcx1/ge-.5),ie.tby1=Math.ceil(ae.tcy1/ge),ie.resolution=ve,f(I,ie,be),fe.push(ie),he.push(ie),ie={},ie.type="LH",ie.tbx0=Math.ceil(ae.tcx0/ge),ie.tby0=Math.ceil(ae.tcy0/ge-.5),ie.tbx1=Math.ceil(ae.tcx1/ge),ie.tby1=Math.ceil(ae.tcy1/ge-.5),ie.resolution=ve,f(I,ie,be),fe.push(ie),he.push(ie),ie={},ie.type="HH",ie.tbx0=Math.ceil(ae.tcx0/ge-.5),ie.tby0=Math.ceil(ae.tcy0/ge-.5),ie.tbx1=Math.ceil(ae.tcx1/ge-.5),ie.tby1=Math.ceil(ae.tcy1/ge-.5),ie.resolution=ve,f(I,ie,be),fe.push(ie),he.push(ie),ve.subbands=he}}ae.resolutions=Ie,ae.subbands=fe}const E=r.codingStyleDefaultParameters.progressionOrder;switch(E){case 0:r.packetsIterator=new i(I);break;case 1:r.packetsIterator=new T(I);break;case 2:r.packetsIterator=new F(I);break;case 3:r.packetsIterator=new P(I);break;case 4:r.packetsIterator=new C(I);break;default:throw new e(`Unsupported progression order ${E}`)}}function _(I,u,y,r){let A=0,E,G=0,ae=!1;function ce(ue){for(;G<ue;){const we=u[y+A];A++,ae?(E=E<<7|we,G+=7,ae=!1):(E=E<<8|we,G+=8),we===255&&(ae=!0)}return G-=ue,E>>>G&(1<<ue)-1}function Ie(ue){return u[y+A-1]===255&&u[y+A]===ue?(fe(1),!0):u[y+A]===255&&u[y+A+1]===ue?(fe(2),!0):!1}function fe(ue){A+=ue}function Te(){G=0,ae&&(A++,ae=!1)}function be(){if(ce(1)===0)return 1;if(ce(1)===0)return 2;let ue=ce(2);return ue<3?ue+3:(ue=ce(5),ue<31?ue+6:(ue=ce(7),ue+37))}const ve=I.currentTile.index,te=I.tiles[ve],ie=I.COD.sopMarkerUsed,ge=I.COD.ephMarkerUsed,he=te.packetsIterator;for(;A<r;){Te(),ie&&Ie(145)&&fe(4);const ue=he.nextPacket();if(!ce(1))continue;const we=ue.layerNumber,Ce=[];let le;for(let ke=0,Fe=ue.codeblocks.length;ke<Fe;ke++){le=ue.codeblocks[ke];let de=le.precinct;const Ee=le.cbx-de.cbxMin,Oe=le.cby-de.cbyMin;let Ne=!1,et=!1,rt,Ge;if(le.included!==void 0)Ne=!!ce(1);else{de=le.precinct;let mt;if(de.inclusionTree!==void 0)mt=de.inclusionTree;else{const At=de.cbxMax-de.cbxMin+1,Qe=de.cbyMax-de.cbyMin+1;mt=new b(At,Qe,we),Ge=new l(At,Qe),de.inclusionTree=mt,de.zeroBitPlanesTree=Ge;for(let Ke=0;Ke<we;Ke++)if(ce(1)!==0)throw new e("Invalid tag tree")}if(mt.reset(Ee,Oe,we))for(;;)if(ce(1)){if(rt=!mt.nextLevel(),rt){le.included=!0,Ne=et=!0;break}}else{mt.incrementValue(we);break}}if(!Ne)continue;if(et){for(Ge=de.zeroBitPlanesTree,Ge.reset(Ee,Oe);;)if(ce(1)){if(rt=!Ge.nextLevel(),rt)break}else Ge.incrementValue();le.zeroBitPlanes=Ge.value}const je=be();for(;ce(1);)le.Lblock++;const $e=(0,x.log2)(je),ze=(je<1<<$e?$e-1:$e)+le.Lblock,at=ce(ze);Ce.push({codeblock:le,codingpasses:je,dataLength:at})}for(Te(),ge&&Ie(146);Ce.length>0;){const ke=Ce.shift();le=ke.codeblock,le.data===void 0&&(le.data=[]),le.data.push({data:u,start:y+A,end:y+A+ke.dataLength,codingpasses:ke.codingpasses}),A+=ke.dataLength}}return A}function Q(I,u,y,r,A,E,G,ae,ce){const Ie=r.tbx0,fe=r.tby0,Te=r.tbx1-r.tbx0,be=r.codeblocks,ve=r.type.charAt(0)==="H"?1:0,te=r.type.charAt(1)==="H"?u:0;for(let ie=0,ge=be.length;ie<ge;++ie){const he=be[ie],ue=he.tbx1_-he.tbx0_,we=he.tby1_-he.tby0_;if(ue===0||we===0||he.data===void 0)continue;const Ce=new D(ue,we,he.subbandType,he.zeroBitPlanes,E);let le=2;const ke=he.data;let Fe=0,de=0,Ee,Oe,Ne;for(Ee=0,Oe=ke.length;Ee<Oe;Ee++)Ne=ke[Ee],Fe+=Ne.end-Ne.start,de+=Ne.codingpasses;const et=new Uint8Array(Fe);let rt=0;for(Ee=0,Oe=ke.length;Ee<Oe;Ee++){Ne=ke[Ee];const st=Ne.data.subarray(Ne.start,Ne.end);et.set(st,rt),rt+=st.length}const Ge=new U.ArithmeticDecoder(et,0,Fe);for(Ce.setDecoder(Ge),Ee=0;Ee<de;Ee++){switch(le){case 0:Ce.runSignificancePropagationPass();break;case 1:Ce.runMagnitudeRefinementPass();break;case 2:Ce.runCleanupPass(),ae&&Ce.checkSegmentationSymbol();break}ce&&Ce.reset(),le=(le+1)%3}let je=he.tbx0_-Ie+(he.tby0_-fe)*Te;const $e=Ce.coefficentsSign,ze=Ce.coefficentsMagnitude,at=Ce.bitsDecoded,mt=G?0:.5;let At,Qe,Ke;rt=0;const pt=r.type!=="LL";for(Ee=0;Ee<we;Ee++){const St=2*(je/Te|0)*(u-Te)+ve+te;for(At=0;At<ue;At++){if(Qe=ze[rt],Qe!==0){Qe=(Qe+mt)*A,$e[rt]!==0&&(Qe=-Qe),Ke=at[rt];const kt=pt?St+(je<<1):je;I[kt]=G&&Ke>=E?Qe:Qe*(1<<E-Ke)}je++,rt++}je+=Te-ue}}}function d(I,u,y){const r=u.components[y],A=r.codingStyleParameters,E=r.quantizationParameters,G=A.decompositionLevelsCount,ae=E.SPqcds,ce=E.scalarExpounded,Ie=E.guardBits,fe=A.segmentationSymbolUsed,Te=A.resetContextProbabilities,be=I.components[y].precision,ve=A.reversibleTransformation,te=ve?new v:new N,ie=[];let ge=0;for(let ue=0;ue<=G;ue++){const we=r.resolutions[ue],Ce=we.trx1-we.trx0,le=we.try1-we.try0,ke=new Float32Array(Ce*le);for(let Fe=0,de=we.subbands.length;Fe<de;Fe++){let Ee,Oe;ce?(Ee=ae[ge].mu,Oe=ae[ge].epsilon,ge++):(Ee=ae[0].mu,Oe=ae[0].epsilon+(ue>0?1-ue:0));const Ne=we.subbands[Fe],et=t[Ne.type],rt=ve?1:2**(be+et-Oe)*(1+Ee/2048),Ge=Ie+Oe-1;Q(ke,Ce,le,Ne,rt,Ge,ve,fe,Te)}ie.push({width:Ce,height:le,items:ke})}const he=te.calculate(ie,r.tcx0,r.tcy0);return{left:r.tcx0,top:r.tcy0,width:he.width,height:he.height,items:he.items}}function w(I){const u=I.SIZ,y=I.components,r=u.Csiz,A=[];for(let E=0,G=I.tiles.length;E<G;E++){const ae=I.tiles[E],ce=[];for(let Ce=0;Ce<r;Ce++)ce[Ce]=d(I,ae,Ce);const Ie=ce[0],fe=new Uint8ClampedArray(Ie.items.length*r),Te={left:Ie.left,top:Ie.top,width:Ie.width,height:Ie.height,items:fe};let be,ve,te=0,ie,ge,he,ue,we;if(ae.codingStyleDefaultParameters.multipleComponentTransform){const Ce=r===4,le=ce[0].items,ke=ce[1].items,Fe=ce[2].items,de=Ce?ce[3].items:null;be=y[0].precision-8,ve=(128<<be)+.5;const Ee=ae.components[0],Oe=r-3;if(ge=le.length,Ee.codingStyleParameters.reversibleTransformation)for(ie=0;ie<ge;ie++,te+=Oe){he=le[ie]+ve,ue=ke[ie],we=Fe[ie];const Ne=he-(we+ue>>2);fe[te++]=Ne+we>>be,fe[te++]=Ne>>be,fe[te++]=Ne+ue>>be}else for(ie=0;ie<ge;ie++,te+=Oe)he=le[ie]+ve,ue=ke[ie],we=Fe[ie],fe[te++]=he+1.402*we>>be,fe[te++]=he-.34413*ue-.71414*we>>be,fe[te++]=he+1.772*ue>>be;if(Ce)for(ie=0,te=3;ie<ge;ie++,te+=4)fe[te]=de[ie]+ve>>be}else for(let Ce=0;Ce<r;Ce++){const le=ce[Ce].items;for(be=y[Ce].precision-8,ve=(128<<be)+.5,te=Ce,ie=0,ge=le.length;ie<ge;ie++)fe[te]=le[ie]+ve>>be,te+=r}A.push(Te)}return A}function q(I,u){const r=I.SIZ.Csiz,A=I.tiles[u];for(let E=0;E<r;E++){const G=A.components[E],ae=I.currentTile.QCC[E]!==void 0?I.currentTile.QCC[E]:I.currentTile.QCD;G.quantizationParameters=ae;const ce=I.currentTile.COC[E]!==void 0?I.currentTile.COC[E]:I.currentTile.COD;G.codingStyleParameters=ce}A.codingStyleDefaultParameters=I.currentTile.COD}class l{constructor(u,y){const r=(0,x.log2)(Math.max(u,y))+1;this.levels=[];for(let A=0;A<r;A++){const E={width:u,height:y,items:[]};this.levels.push(E),u=Math.ceil(u/2),y=Math.ceil(y/2)}}reset(u,y){let r=0,A=0,E;for(;r<this.levels.length;){E=this.levels[r];const G=u+y*E.width;if(E.items[G]!==void 0){A=E.items[G];break}E.index=G,u>>=1,y>>=1,r++}r--,E=this.levels[r],E.items[E.index]=A,this.currentLevel=r,delete this.value}incrementValue(){const u=this.levels[this.currentLevel];u.items[u.index]++}nextLevel(){let u=this.currentLevel,y=this.levels[u];const r=y.items[y.index];return u--,u<0?(this.value=r,!1):(this.currentLevel=u,y=this.levels[u],y.items[y.index]=r,!0)}}class b{constructor(u,y,r){const A=(0,x.log2)(Math.max(u,y))+1;this.levels=[];for(let E=0;E<A;E++){const G=new Uint8Array(u*y);for(let ce=0,Ie=G.length;ce<Ie;ce++)G[ce]=r;const ae={width:u,height:y,items:G};this.levels.push(ae),u=Math.ceil(u/2),y=Math.ceil(y/2)}}reset(u,y,r){let A=0;for(;A<this.levels.length;){const E=this.levels[A],G=u+y*E.width;E.index=G;const ae=E.items[G];if(ae===255)break;if(ae>r)return this.currentLevel=A,this.propagateValues(),!1;u>>=1,y>>=1,A++}return this.currentLevel=A-1,!0}incrementValue(u){const y=this.levels[this.currentLevel];y.items[y.index]=u+1,this.propagateValues()}propagateValues(){let u=this.currentLevel,y=this.levels[u];const r=y.items[y.index];for(;--u>=0;)y=this.levels[u],y.items[y.index]=r}nextLevel(){let u=this.currentLevel,y=this.levels[u];const r=y.items[y.index];return y.items[y.index]=255,u--,u<0?!1:(this.currentLevel=u,y=this.levels[u],y.items[y.index]=r,!0)}}const S=class S{constructor(u,y,r,A,E){this.width=u,this.height=y;let G;r==="HH"?G=S.HHContextLabel:r==="HL"?G=S.HLContextLabel:G=S.LLAndLHContextsLabel,this.contextLabelTable=G;const ae=u*y;this.neighborsSignificance=new Uint8Array(ae),this.coefficentsSign=new Uint8Array(ae);let ce;E>14?ce=new Uint32Array(ae):E>6?ce=new Uint16Array(ae):ce=new Uint8Array(ae),this.coefficentsMagnitude=ce,this.processingFlags=new Uint8Array(ae);const Ie=new Uint8Array(ae);if(A!==0)for(let fe=0;fe<ae;fe++)Ie[fe]=A;this.bitsDecoded=Ie,this.reset()}setDecoder(u){this.decoder=u}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[S.UNIFORM_CONTEXT]=92,this.contexts[S.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(u,y,r){const A=this.neighborsSignificance,E=this.width,G=this.height,ae=y>0,ce=y+1<E;let Ie;u>0&&(Ie=r-E,ae&&(A[Ie-1]+=16),ce&&(A[Ie+1]+=16),A[Ie]+=4),u+1<G&&(Ie=r+E,ae&&(A[Ie-1]+=16),ce&&(A[Ie+1]+=16),A[Ie]+=4),ae&&(A[r-1]+=1),ce&&(A[r+1]+=1),A[r]|=128}runSignificancePropagationPass(){const u=this.decoder,y=this.width,r=this.height,A=this.coefficentsMagnitude,E=this.coefficentsSign,G=this.neighborsSignificance,ae=this.processingFlags,ce=this.contexts,Ie=this.contextLabelTable,fe=this.bitsDecoded,Te=-2,be=1,ve=2;for(let te=0;te<r;te+=4)for(let ie=0;ie<y;ie++){let ge=te*y+ie;for(let he=0;he<4;he++,ge+=y){const ue=te+he;if(ue>=r)break;if(ae[ge]&=Te,A[ge]||!G[ge])continue;const we=Ie[G[ge]];if(u.readBit(ce,we)){const le=this.decodeSignBit(ue,ie,ge);E[ge]=le,A[ge]=1,this.setNeighborsSignificance(ue,ie,ge),ae[ge]|=ve}fe[ge]++,ae[ge]|=be}}}decodeSignBit(u,y,r){const A=this.width,E=this.height,G=this.coefficentsMagnitude,ae=this.coefficentsSign;let ce,Ie,fe,Te,be,ve;Te=y>0&&G[r-1]!==0,y+1<A&&G[r+1]!==0?(fe=ae[r+1],Te?(Ie=ae[r-1],ce=1-fe-Ie):ce=1-fe-fe):Te?(Ie=ae[r-1],ce=1-Ie-Ie):ce=0;const te=3*ce;return Te=u>0&&G[r-A]!==0,u+1<E&&G[r+A]!==0?(fe=ae[r+A],Te?(Ie=ae[r-A],ce=1-fe-Ie+te):ce=1-fe-fe+te):Te?(Ie=ae[r-A],ce=1-Ie-Ie+te):ce=te,ce>=0?(be=9+ce,ve=this.decoder.readBit(this.contexts,be)):(be=9-ce,ve=this.decoder.readBit(this.contexts,be)^1),ve}runMagnitudeRefinementPass(){const u=this.decoder,y=this.width,r=this.height,A=this.coefficentsMagnitude,E=this.neighborsSignificance,G=this.contexts,ae=this.bitsDecoded,ce=this.processingFlags,Ie=1,fe=2,Te=y*r,be=y*4;for(let ve=0,te;ve<Te;ve=te){te=Math.min(Te,ve+be);for(let ie=0;ie<y;ie++)for(let ge=ve+ie;ge<te;ge+=y){if(!A[ge]||ce[ge]&Ie)continue;let he=16;ce[ge]&fe&&(ce[ge]^=fe,he=(E[ge]&127)===0?15:14);const ue=u.readBit(G,he);A[ge]=A[ge]<<1|ue,ae[ge]++,ce[ge]|=Ie}}}runCleanupPass(){const u=this.decoder,y=this.width,r=this.height,A=this.neighborsSignificance,E=this.coefficentsMagnitude,G=this.coefficentsSign,ae=this.contexts,ce=this.contextLabelTable,Ie=this.bitsDecoded,fe=this.processingFlags,Te=1,be=2,ve=y,te=y*2,ie=y*3;let ge;for(let he=0;he<r;he=ge){ge=Math.min(he+4,r);const ue=he*y,we=he+3<r;for(let Ce=0;Ce<y;Ce++){const le=ue+Ce,ke=we&&fe[le]===0&&fe[le+ve]===0&&fe[le+te]===0&&fe[le+ie]===0&&A[le]===0&&A[le+ve]===0&&A[le+te]===0&&A[le+ie]===0;let Fe=0,de=le,Ee=he,Oe;if(ke){if(!u.readBit(ae,S.RUNLENGTH_CONTEXT)){Ie[le]++,Ie[le+ve]++,Ie[le+te]++,Ie[le+ie]++;continue}Fe=u.readBit(ae,S.UNIFORM_CONTEXT)<<1|u.readBit(ae,S.UNIFORM_CONTEXT),Fe!==0&&(Ee=he+Fe,de+=Fe*y),Oe=this.decodeSignBit(Ee,Ce,de),G[de]=Oe,E[de]=1,this.setNeighborsSignificance(Ee,Ce,de),fe[de]|=be,de=le;for(let et=he;et<=Ee;et++,de+=y)Ie[de]++;Fe++}for(Ee=he+Fe;Ee<ge;Ee++,de+=y){if(E[de]||fe[de]&Te)continue;const Ne=ce[A[de]];u.readBit(ae,Ne)===1&&(Oe=this.decodeSignBit(Ee,Ce,de),G[de]=Oe,E[de]=1,this.setNeighborsSignificance(Ee,Ce,de),fe[de]|=be),Ie[de]++}}}}checkSegmentationSymbol(){const u=this.decoder,y=this.contexts;if((u.readBit(y,S.UNIFORM_CONTEXT)<<3|u.readBit(y,S.UNIFORM_CONTEXT)<<2|u.readBit(y,S.UNIFORM_CONTEXT)<<1|u.readBit(y,S.UNIFORM_CONTEXT))!==10)throw new e("Invalid segmentation symbol")}};br(S,"UNIFORM_CONTEXT",17),br(S,"RUNLENGTH_CONTEXT",18),br(S,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),br(S,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),br(S,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));let D=S;class Z{constructor(){this.constructor===Z&&(0,n.unreachable)("Cannot initialize Transform.")}calculate(u,y,r){let A=u[0];for(let E=1,G=u.length;E<G;E++)A=this.iterate(A,u[E],y,r);return A}extend(u,y,r){let A=y-1,E=y+1,G=y+r-2,ae=y+r;u[A--]=u[E++],u[ae++]=u[G--],u[A--]=u[E++],u[ae++]=u[G--],u[A--]=u[E++],u[ae++]=u[G--],u[A]=u[E],u[ae]=u[G]}filter(u,y,r){(0,n.unreachable)("Abstract method `filter` called")}iterate(u,y,r,A){const E=u.width,G=u.height;let ae=u.items;const ce=y.width,Ie=y.height,fe=y.items;let Te,be,ve,te,ie,ge;for(ve=0,Te=0;Te<G;Te++)for(te=Te*2*ce,be=0;be<E;be++,ve++,te+=2)fe[te]=ae[ve];ae=u.items=null;const he=4,ue=new Float32Array(ce+2*he);if(ce===1){if(r&1)for(ge=0,ve=0;ge<Ie;ge++,ve+=ce)fe[ve]*=.5}else for(ge=0,ve=0;ge<Ie;ge++,ve+=ce)ue.set(fe.subarray(ve,ve+ce),he),this.extend(ue,he,ce),this.filter(ue,he,ce),fe.set(ue.subarray(he,he+ce),ve);let we=16;const Ce=[];for(Te=0;Te<we;Te++)Ce.push(new Float32Array(Ie+2*he));let le,ke=0;if(u=he+Ie,Ie===1){if(A&1)for(ie=0;ie<ce;ie++)fe[ie]*=.5}else for(ie=0;ie<ce;ie++){if(ke===0){for(we=Math.min(ce-ie,we),ve=ie,te=he;te<u;ve+=ce,te++)for(le=0;le<we;le++)Ce[le][te]=fe[ve+le];ke=we}ke--;const Fe=Ce[ke];if(this.extend(Fe,he,Ie),this.filter(Fe,he,Ie),ke===0)for(ve=ie-we+1,te=he;te<u;ve+=ce,te++)for(le=0;le<we;le++)fe[ve+le]=Ce[le][te]}return{width:ce,height:Ie,items:fe}}}class N extends Z{filter(u,y,r){const A=r>>1;y|=0;let E,G,ae,ce;const Ie=-1.586134342059924,fe=-.052980118572961,Te=.882911075530934,be=.443506852043971,ve=1.230174104914001,te=1/ve;for(E=y-3,G=A+4;G--;E+=2)u[E]*=te;for(E=y-2,ae=be*u[E-1],G=A+3;G--&&(ce=be*u[E+1],u[E]=ve*u[E]-ae-ce,G--);E+=2)E+=2,ae=be*u[E+1],u[E]=ve*u[E]-ae-ce;for(E=y-1,ae=Te*u[E-1],G=A+2;G--&&(ce=Te*u[E+1],u[E]-=ae+ce,G--);E+=2)E+=2,ae=Te*u[E+1],u[E]-=ae+ce;for(E=y,ae=fe*u[E-1],G=A+1;G--&&(ce=fe*u[E+1],u[E]-=ae+ce,G--);E+=2)E+=2,ae=fe*u[E+1],u[E]-=ae+ce;if(A!==0)for(E=y+1,ae=Ie*u[E-1],G=A;G--&&(ce=Ie*u[E+1],u[E]-=ae+ce,G--);E+=2)E+=2,ae=Ie*u[E+1],u[E]-=ae+ce}}class v extends Z{filter(u,y,r){const A=r>>1;y|=0;let E,G;for(E=y,G=A+1;G--;E+=2)u[E]-=u[E-1]+u[E+1]+2>>2;for(E=y+1,G=A;G--;E+=2)u[E]+=u[E-1]+u[E+1]>>1}}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.LZWStream=void 0;var n=re(18);class x extends n.DecodeStream{constructor(e,t,o){super(t),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const K=4096,X={earlyChange:o,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(K),dictionaryLengths:new Uint16Array(K),dictionaryPrevCodes:new Uint16Array(K),currentSequence:new Uint8Array(K),currentSequenceLength:0};for(let L=0;L<256;++L)X.dictionaryValues[L]=L,X.dictionaryLengths[L]=1;this.lzwState=X}readBits(e){let t=this.bitsCached,o=this.cachedData;for(;t<e;){const K=this.str.getByte();if(K===-1)return this.eof=!0,null;o=o<<8|K,t+=8}return this.bitsCached=t-=e,this.cachedData=o,this.lastCode=null,o>>>t&(1<<e)-1}readBlock(){let o=1024,K,X,L;const O=this.lzwState;if(!O)return;const f=O.earlyChange;let p=O.nextCode;const i=O.dictionaryValues,T=O.dictionaryLengths,F=O.dictionaryPrevCodes;let P=O.codeLength,C=O.prevCode;const H=O.currentSequence;let $=O.currentSequenceLength,se=0,_=this.bufferLength,Q=this.ensureBuffer(this.bufferLength+o);for(K=0;K<512;K++){const d=this.readBits(P),w=$>0;if(d<256)H[0]=d,$=1;else if(d>=258)if(d<p)for($=T[d],X=$-1,L=d;X>=0;X--)H[X]=i[L],L=F[L];else H[$++]=H[0];else if(d===256){P=9,p=258,$=0;continue}else{this.eof=!0,delete this.lzwState;break}if(w&&(F[p]=C,T[p]=T[C]+1,i[p]=H[0],p++,P=p+f&p+f-1?P:Math.min(Math.log(p+f)/.6931471805599453+1,12)|0),C=d,se+=$,o<se){do o+=512;while(o<se);Q=this.ensureBuffer(this.bufferLength+o)}for(X=0;X<$;X++)Q[_++]=H[X]}O.nextCode=p,O.codeLength=P,O.prevCode=C,O.currentSequenceLength=$,this.bufferLength=_}}h.LZWStream=x},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PredictorStream=void 0;var n=re(18),x=re(4),U=re(2);class e extends n.DecodeStream{constructor(o,K,X){if(super(K),!(X instanceof x.Dict))return o;const L=this.predictor=X.get("Predictor")||1;if(L<=1)return o;if(L!==2&&(L<10||L>15))throw new U.FormatError(`Unsupported predictor: ${L}`);this.readBlock=L===2?this.readBlockTiff:this.readBlockPng,this.str=o,this.dict=o.dict;const O=this.colors=X.get("Colors")||1,f=this.bits=X.get("BPC","BitsPerComponent")||8,p=this.columns=X.get("Columns")||1;return this.pixBytes=O*f+7>>3,this.rowBytes=p*O*f+7>>3,this}readBlockTiff(){const o=this.rowBytes,K=this.bufferLength,X=this.ensureBuffer(K+o),L=this.bits,O=this.colors,f=this.str.getBytes(o);if(this.eof=!f.length,this.eof)return;let p=0,i=0,T=0,F=0,P=K,C;if(L===1&&O===1)for(C=0;C<o;++C){let H=f[C]^p;H^=H>>1,H^=H>>2,H^=H>>4,p=(H&1)<<7,X[P++]=H}else if(L===8){for(C=0;C<O;++C)X[P++]=f[C];for(;C<o;++C)X[P]=X[P-O]+f[C],P++}else if(L===16){const H=O*2;for(C=0;C<H;++C)X[P++]=f[C];for(;C<o;C+=2){const $=((f[C]&255)<<8)+(f[C+1]&255)+((X[P-H]&255)<<8)+(X[P-H+1]&255);X[P++]=$>>8&255,X[P++]=$&255}}else{const H=new Uint8Array(O+1),$=(1<<L)-1;let se=0,_=K;const Q=this.columns;for(C=0;C<Q;++C)for(let d=0;d<O;++d)T<L&&(p=p<<8|f[se++]&255,T+=8),H[d]=H[d]+(p>>T-L)&$,T-=L,i=i<<L|H[d],F+=L,F>=8&&(X[_++]=i>>F-8&255,F-=8);F>0&&(X[_++]=(i<<8-F)+(p&(1<<8-F)-1))}this.bufferLength+=o}readBlockPng(){const o=this.rowBytes,K=this.pixBytes,X=this.str.getByte(),L=this.str.getBytes(o);if(this.eof=!L.length,this.eof)return;const O=this.bufferLength,f=this.ensureBuffer(O+o);let p=f.subarray(O-o,O);p.length===0&&(p=new Uint8Array(o));let i,T=O,F,P;switch(X){case 0:for(i=0;i<o;++i)f[T++]=L[i];break;case 1:for(i=0;i<K;++i)f[T++]=L[i];for(;i<o;++i)f[T]=f[T-K]+L[i]&255,T++;break;case 2:for(i=0;i<o;++i)f[T++]=p[i]+L[i]&255;break;case 3:for(i=0;i<K;++i)f[T++]=(p[i]>>1)+L[i];for(;i<o;++i)f[T]=(p[i]+f[T-K]>>1)+L[i]&255,T++;break;case 4:for(i=0;i<K;++i)F=p[i],P=L[i],f[T++]=F+P;for(;i<o;++i){F=p[i];const C=p[i-K],H=f[T-K],$=H+F-C;let se=$-H;se<0&&(se=-se);let _=$-F;_<0&&(_=-_);let Q=$-C;Q<0&&(Q=-Q),P=L[i],se<=_&&se<=Q?f[T++]=H+P:_<=Q?f[T++]=F+P:f[T++]=C+P}break;default:throw new U.FormatError(`Unsupported predictor: ${X}`)}this.bufferLength+=o}}h.PredictorStream=e},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RunLengthStream=void 0;var n=re(18);class x extends n.DecodeStream{constructor(e,t){super(t),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}let t,o=this.bufferLength,K=e[0];if(K<128){if(t=this.ensureBuffer(o+K+1),t[o++]=e[1],K>0){const X=this.str.getBytes(K);t.set(X,o),o+=K}}else{K=257-K;const X=e[1];t=this.ensureBuffer(o+K+1);for(let L=0;L<K;L++)t[o++]=X}this.bufferLength=o}}h.RunLengthStream=x},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Font=h.ErrorFont=void 0;var n=re(2),x=re(35),U=re(38),e=re(40),t=re(39),o=re(37),K=re(41),X=re(42),L=re(43),O=re(44),f=re(45),p=re(46),i=re(14),T=re(47),F=re(3),P=re(8),C=re(48);const H=[[57344,63743],[1048576,1114109]],$=1e3,se=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],_=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function Q(le){if(!le.fontMatrix||le.fontMatrix[0]===n.FONT_IDENTITY_MATRIX[0])return;const ke=.001/le.fontMatrix[0],Fe=le.widths;for(const de in Fe)Fe[de]*=ke;le.defaultWidth*=ke}function d(le,ke,Fe){if(le.isInternalFont||le.hasIncludedToUnicodeMap||le.hasEncoding||le.toUnicode instanceof X.IdentityToUnicodeMap||!ke||Fe.length===0||le.defaultEncoding===o.WinAnsiEncoding)return;for(const Ne of Fe)if(!Ie(Ne))return;const de=o.WinAnsiEncoding,Ee=[],Oe=(0,t.getGlyphsUnicode)();for(const Ne in de){const et=de[Ne];if(et==="")continue;const rt=Oe[et];rt!==void 0&&(Ee[Ne]=String.fromCharCode(rt))}Ee.length>0&&le.toUnicode.amend(Ee)}function w(le,ke){if(le.isInternalFont||le.hasIncludedToUnicodeMap||ke===le.defaultEncoding||le.toUnicode instanceof X.IdentityToUnicodeMap)return;const Fe=[],de=(0,t.getGlyphsUnicode)();for(const Ee in ke){if(le.hasEncoding&&(le.baseEncodingName||le.differences[Ee]!==void 0))continue;const Oe=ke[Ee],Ne=(0,e.getUnicodeForGlyph)(Oe,de);Ne!==-1&&(Fe[Ee]=String.fromCharCode(Ne))}Fe.length>0&&le.toUnicode.amend(Fe)}function q(le){if(!le.fallbackToUnicode||le.toUnicode instanceof X.IdentityToUnicodeMap)return;const ke=[];for(const Fe in le.fallbackToUnicode)le.toUnicode.has(Fe)||(ke[Fe]=le.fallbackToUnicode[Fe]);ke.length>0&&le.toUnicode.amend(ke)}class l{constructor(ke,Fe,de,Ee,Oe,Ne,et,rt,Ge){this.originalCharCode=ke,this.fontChar=Fe,this.unicode=de,this.accent=Ee,this.width=Oe,this.vmetric=Ne,this.operatorListId=et,this.isSpace=rt,this.isInFont=Ge}get category(){return(0,n.shadow)(this,"category",(0,e.getCharUnicodeCategory)(this.unicode),!0)}}function b(le,ke){return(le<<8)+ke}function D(le,ke,Fe){le[ke+1]=Fe,le[ke]=Fe>>>8}function Z(le,ke){const Fe=(le<<8)+ke;return Fe&32768?Fe-65536:Fe}function N(le,ke,Fe,de){return(le<<24)+(ke<<16)+(Fe<<8)+de}function v(le){return String.fromCharCode(le>>8&255,le&255)}function S(le){return le>32767?le=32767:le<-32768&&(le=-32768),String.fromCharCode(le>>8&255,le&255)}function I(le){const ke=le.peekBytes(4);return(0,F.readUint32)(ke,0)===65536||(0,n.bytesToString)(ke)==="true"}function u(le){const ke=le.peekBytes(4);return(0,n.bytesToString)(ke)==="ttcf"}function y(le){const ke=le.peekBytes(4);return(0,n.bytesToString)(ke)==="OTTO"}function r(le){const ke=le.peekBytes(2);return ke[0]===37&&ke[1]===33||ke[0]===128&&ke[1]===1}function A(le){const ke=le.peekBytes(4);return ke[0]>=1&&ke[3]>=1&&ke[3]<=4}function E(le,{type:ke,subtype:Fe,composite:de}){let Ee,Oe;return I(le)||u(le)?Ee=de?"CIDFontType2":"TrueType":y(le)?Ee=de?"CIDFontType2":"OpenType":r(le)?de?Ee="CIDFontType0":Ee=ke==="MMType1"?"MMType1":"Type1":A(le)?de?(Ee="CIDFontType0",Oe="CIDFontType0C"):(Ee=ke==="MMType1"?"MMType1":"Type1",Oe="Type1C"):((0,n.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),Ee=ke,Oe=Fe),[Ee,Oe]}function G(le,ke){for(const Fe in ke)le[+Fe]=ke[Fe]}function ae(le,ke,Fe){const de=[];let Ee;for(let Oe=0,Ne=le.length;Oe<Ne;Oe++)Ee=(0,e.getUnicodeForGlyph)(le[Oe],ke),Ee!==-1&&(de[Oe]=Ee);for(const Oe in Fe)Ee=(0,e.getUnicodeForGlyph)(Fe[Oe],ke),Ee!==-1&&(de[+Oe]=Ee);return de}function ce(le){return le.platform===1&&le.encoding===0&&le.language===0}function Ie(le){return le.platform===3&&le.encoding===1&&le.language===1033}function fe(le,ke,Fe=!1){switch(ke.length){case 1:return ke.charCodeAt(0);case 2:return ke.charCodeAt(0)<<8|ke.charCodeAt(1)}const de=`Unsupported CID string (charCode ${le}): "${ke}".`;if(Fe)throw new n.FormatError(de);return(0,n.warn)(de),ke}function Te(le,ke,Fe,de){const Ee=Object.create(null),Oe=new Map,Ne=[],et=new Set;let rt=0,je=H[rt][0],$e=H[rt][1];const ze=at=>H[0][0]<=at&&at<=H[0][1]||H[1][0]<=at&&at<=H[1][1];for(let at in le){at|=0;let mt=le[at];if(!ke(mt))continue;if(je>$e){if(rt++,rt>=H.length){(0,n.warn)("Ran out of space in font private use area.");break}je=H[rt][0],$e=H[rt][1]}const At=je++;mt===0&&(mt=Fe);let Qe=de.get(at);typeof Qe=="string"&&(Qe=Qe.codePointAt(0)),Qe&&!ze(Qe)&&!et.has(mt)&&(Oe.set(Qe,mt),et.add(mt)),Ee[At]=mt,Ne[at]=At}return{toFontChar:Ne,charCodeToGlyphId:Ee,toUnicodeExtraMap:Oe,nextAvailableFontCharCode:je}}function be(le,ke,Fe){const de=[];for(const Ne in le)le[Ne]>=Fe||de.push({fontCharCode:Ne|0,glyphId:le[Ne]});if(ke)for(const[Ne,et]of ke)et>=Fe||de.push({fontCharCode:Ne,glyphId:et});de.length===0&&de.push({fontCharCode:0,glyphId:0}),de.sort(function(et,rt){return et.fontCharCode-rt.fontCharCode});const Ee=[],Oe=de.length;for(let Ne=0;Ne<Oe;){const et=de[Ne].fontCharCode,rt=[de[Ne].glyphId];++Ne;let Ge=et;for(;Ne<Oe&&Ge+1===de[Ne].fontCharCode&&(rt.push(de[Ne].glyphId),++Ge,++Ne,Ge!==65535););Ee.push([et,Ge,rt])}return Ee}function ve(le,ke,Fe){const de=be(le,ke,Fe),Ee=de.at(-1)[1]>65535?2:1;let Oe="\0\0"+v(Ee)+"\0\0"+(0,n.string32)(4+Ee*8),Ne,et,rt,Ge;for(Ne=de.length-1;Ne>=0&&!(de[Ne][0]<=65535);--Ne);const je=Ne+1;de[Ne][0]<65535&&de[Ne][1]===65535&&(de[Ne][1]=65534);const $e=de[Ne][1]<65535?1:0,ze=je+$e,at=T.OpenTypeFileBuilder.getSearchParams(ze,2);let mt="",At="",Qe="",Ke="",pt="",st=0,St,kt,zn,ft;for(Ne=0,et=je;Ne<et;Ne++){St=de[Ne],kt=St[0],zn=St[1],mt+=v(kt),At+=v(zn),ft=St[2];let Re=!0;for(rt=1,Ge=ft.length;rt<Ge;++rt)if(ft[rt]!==ft[rt-1]+1){Re=!1;break}if(Re){const qe=ft[0];Qe+=v(qe-kt&65535),Ke+=v(0)}else{const qe=(ze-Ne)*2+st*2;for(st+=zn-kt+1,Qe+=v(0),Ke+=v(qe),rt=0,Ge=ft.length;rt<Ge;++rt)pt+=v(ft[rt])}}$e>0&&(At+="ÿÿ",mt+="ÿÿ",Qe+="\0",Ke+="\0\0");const en="\0\0"+v(2*ze)+v(at.range)+v(at.entry)+v(at.rangeShift)+At+"\0\0"+mt+Qe+Ke+pt;let Xt="",Ve="";if(Ee>1){for(Oe+=`\0\0
`+(0,n.string32)(4+Ee*8+4+en.length),Xt="",Ne=0,et=de.length;Ne<et;Ne++){St=de[Ne],kt=St[0],ft=St[2];let Re=ft[0];for(rt=1,Ge=ft.length;rt<Ge;++rt)ft[rt]!==ft[rt-1]+1&&(zn=St[0]+rt-1,Xt+=(0,n.string32)(kt)+(0,n.string32)(zn)+(0,n.string32)(Re),kt=zn+1,Re=ft[rt]);Xt+=(0,n.string32)(kt)+(0,n.string32)(St[1])+(0,n.string32)(Re)}Ve="\0\f\0\0"+(0,n.string32)(Xt.length+16)+"\0\0\0\0"+(0,n.string32)(Xt.length/12)}return Oe+"\0"+v(en.length+4)+en+Ve+Xt}function te(le,ke){ke.pos=(ke.start||0)+le.offset;const Fe=ke.getUint16();ke.skip(60);const de=ke.getUint16();if(Fe<4&&de&768)return!1;const Ee=ke.getUint16(),Oe=ke.getUint16();return Ee>Oe||(ke.skip(6),ke.getUint16()===0)?!1:(le.data[8]=le.data[9]=0,!0)}function ie(le,ke,Fe){Fe||(Fe={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let de=0,Ee=0,Oe=0,Ne=0,et=null,rt=0,Ge=-1;if(ke){for(let Ke in ke)if(Ke|=0,(et>Ke||!et)&&(et=Ke),rt<Ke&&(rt=Ke),Ge=(0,e.getUnicodeRangeFor)(Ke,Ge),Ge<32)de|=1<<Ge;else if(Ge<64)Ee|=1<<Ge-32;else if(Ge<96)Oe|=1<<Ge-64;else if(Ge<123)Ne|=1<<Ge-96;else throw new n.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");rt>65535&&(rt=65535)}else et=0,rt=255;const je=le.bbox||[0,0,0,0],$e=Fe.unitsPerEm||1/(le.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],ze=le.ascentScaled?1:$e/$,at=Fe.ascent||Math.round(ze*(le.ascent||je[3]));let mt=Fe.descent||Math.round(ze*(le.descent||je[1]));mt>0&&le.descent>0&&je[1]<0&&(mt=-mt);const At=Fe.yMax||at,Qe=-Fe.yMin||-mt;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(le.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,n.string32)(de)+(0,n.string32)(Ee)+(0,n.string32)(Oe)+(0,n.string32)(Ne)+"*21*"+v(le.italicAngle?1:0)+v(et||le.firstChar)+v(rt||le.lastChar)+v(at)+v(mt)+"\0d"+v(At)+v(Qe)+"\0\0\0\0\0\0\0\0"+v(le.xHeight)+v(le.capHeight)+v(0)+v(et||le.firstChar)+"\0"}function ge(le){const ke=Math.floor(le.italicAngle*65536);return"\0\0\0"+(0,n.string32)(ke)+"\0\0\0\0"+(0,n.string32)(le.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function he(le){return le.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function ue(le,ke){ke||(ke=[[],[]]);const Fe=[ke[0][0]||"Original licence",ke[0][1]||le,ke[0][2]||"Unknown",ke[0][3]||"uniqueID",ke[0][4]||le,ke[0][5]||"Version 0.11",ke[0][6]||he(le),ke[0][7]||"Unknown",ke[0][8]||"Unknown",ke[0][9]||"Unknown"],de=[];let Ee,Oe,Ne,et,rt;for(Ee=0,Oe=Fe.length;Ee<Oe;Ee++){rt=ke[1][Ee]||Fe[Ee];const Qe=[];for(Ne=0,et=rt.length;Ne<et;Ne++)Qe.push(v(rt.charCodeAt(Ne)));de.push(Qe.join(""))}const Ge=[Fe,de],je=["\0","\0"],$e=["\0\0","\0"],ze=["\0\0","	"],at=Fe.length*je.length;let mt="\0\0"+v(at)+v(at*12+6),At=0;for(Ee=0,Oe=je.length;Ee<Oe;Ee++){const Qe=Ge[Ee];for(Ne=0,et=Qe.length;Ne<et;Ne++){rt=Qe[Ne];const Ke=je[Ee]+$e[Ee]+ze[Ee]+v(Ne)+v(rt.length)+v(At);mt+=Ke,At+=rt.length}}return mt+=Fe.join("")+de.join(""),mt}class we{constructor(ke,Fe,de){var Ge;this.name=ke,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=de.loadedName,this.isType3Font=de.isType3Font,this.missingFile=!1,this.cssFontInfo=de.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let Ee=!!(de.flags&U.FontFlags.Serif);if(!Ee&&!de.isSimulatedFlags){const je=ke.replaceAll(/[,_]/g,"-").split("-")[0],$e=(0,K.getSerifFonts)();for(const ze of je.split("+"))if($e[ze]){Ee=!0;break}}this.isSerifFont=Ee,this.isSymbolicFont=!!(de.flags&U.FontFlags.Symbolic),this.isMonospace=!!(de.flags&U.FontFlags.FixedPitch);let{type:Oe,subtype:Ne}=de;this.type=Oe,this.subtype=Ne,this.systemFontInfo=de.systemFontInfo;const et=ke.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!et,this.isInvalidPDFjsFont?this.fallbackName=et[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(Ge=this.systemFontInfo)!=null&&Ge.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=de.differences,this.widths=de.widths,this.defaultWidth=de.defaultWidth,this.composite=de.composite,this.cMap=de.cMap,this.capHeight=de.capHeight/$,this.ascent=de.ascent/$,this.descent=de.descent/$,this.lineHeight=this.ascent-this.descent,this.fontMatrix=de.fontMatrix,this.bbox=de.bbox,this.defaultEncoding=de.defaultEncoding,this.toUnicode=de.toUnicode,this.toFontChar=[],de.type==="Type3"){for(let je=0;je<256;je++)this.toFontChar[je]=this.differences[je]||de.defaultEncoding[je];return}if(this.cidEncoding=de.cidEncoding||"",this.vertical=!!de.vertical,this.vertical&&(this.vmetrics=de.vmetrics,this.defaultVMetrics=de.defaultVMetrics),!Fe||Fe.isEmpty){Fe&&(0,n.warn)('Font file is empty in "'+ke+'" ('+this.loadedName+")"),this.fallbackToSystemFont(de);return}[Oe,Ne]=E(Fe,de),(Oe!==this.type||Ne!==this.subtype)&&(0,n.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${Oe}/${Ne}.`);let rt;try{switch(Oe){case"MMType1":(0,n.info)("MMType1 font ("+ke+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const je=Ne==="Type1C"||Ne==="CIDFontType0C"?new L.CFFFont(Fe,de):new C.Type1Font(ke,Fe,de);Q(de),rt=this.convert(ke,je,de);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",rt=this.checkAndRepair(ke,Fe,de),this.isOpenType&&(Q(de),Oe="OpenType");break;default:throw new n.FormatError(`Font ${Oe} is not supported`)}}catch(je){(0,n.warn)(je),this.fallbackToSystemFont(de);return}q(de),this.data=rt,this.type=Oe,this.subtype=Ne,this.fontMatrix=de.fontMatrix,this.widths=de.widths,this.defaultWidth=de.defaultWidth,this.toUnicode=de.toUnicode,this.seacMap=de.seacMap}get renderer(){const ke=O.FontRendererFactory.create(this,U.SEAC_ANALYSIS_ENABLED);return(0,n.shadow)(this,"renderer",ke)}exportData(ke=!1){const Fe=ke?[...se,..._]:se,de=Object.create(null);let Ee,Oe;for(Ee of Fe)Oe=this[Ee],Oe!==void 0&&(de[Ee]=Oe);return de}fallbackToSystemFont(ke){this.missingFile=!0;const{name:Fe,type:de}=this;let Ee=(0,U.normalizeFontName)(Fe);const Oe=(0,K.getStdFontMap)(),Ne=(0,K.getNonStdFontMap)(),et=!!Oe[Ee],rt=!!(Ne[Ee]&&Oe[Ne[Ee]]);Ee=Oe[Ee]||Ne[Ee]||Ee;const je=(0,f.getFontBasicMetrics)()[Ee];je&&(isNaN(this.ascent)&&(this.ascent=je.ascent/$),isNaN(this.descent)&&(this.descent=je.descent/$),isNaN(this.capHeight)&&(this.capHeight=je.capHeight/$)),this.bold=/bold/gi.test(Ee),this.italic=/oblique|italic/gi.test(Ee),this.black=/Black/g.test(Fe);const $e=/Narrow/g.test(Fe);if(this.remeasure=(!et||$e)&&Object.keys(this.widths).length>0,(et||rt)&&de==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const ze=ke.cidToGidMap,at=[];if(G(at,(0,K.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(Fe)?G(at,(0,K.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(Fe)&&G(at,(0,K.getSupplementalGlyphMapForCalibri)()),ze){for(const mt in at){const At=at[mt];ze[At]!==void 0&&(at[+mt]=ze[At])}ze.length!==this.toUnicode.length&&ke.hasIncludedToUnicodeMap&&this.toUnicode instanceof X.IdentityToUnicodeMap&&this.toUnicode.forEach(function(mt,At){const Qe=at[mt];ze[Qe]===void 0&&(at[+mt]=At)})}this.toUnicode instanceof X.IdentityToUnicodeMap||this.toUnicode.forEach(function(mt,At){at[+mt]=At}),this.toFontChar=at,this.toUnicode=new X.ToUnicodeMap(at)}else if(/Symbol/i.test(Ee))this.toFontChar=ae(o.SymbolSetEncoding,(0,t.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(Ee))this.toFontChar=ae(o.ZapfDingbatsEncoding,(0,t.getDingbatsGlyphsUnicode)(),this.differences);else if(et){const ze=ae(this.defaultEncoding,(0,t.getGlyphsUnicode)(),this.differences);de==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof X.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(at,mt){ze[+at]=mt}),this.toFontChar=ze}else{const ze=(0,t.getGlyphsUnicode)(),at=[];this.toUnicode.forEach((mt,At)=>{if(!this.composite){const Qe=this.differences[mt]||this.defaultEncoding[mt],Ke=(0,e.getUnicodeForGlyph)(Qe,ze);Ke!==-1&&(At=Ke)}at[+mt]=At}),this.composite&&this.toUnicode instanceof X.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(Fe)&&G(at,(0,K.getGlyphMapForStandardFonts)()),this.toFontChar=at}q(ke),this.loadedName=Ee.split("-")[0]}checkAndRepair(ke,Fe,de){var Hn,$i,hr;const Ee=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function Oe(Lt,Ot){const Gt=Object.create(null);Gt["OS/2"]=null,Gt.cmap=null,Gt.head=null,Gt.hhea=null,Gt.hmtx=null,Gt.maxp=null,Gt.name=null,Gt.post=null;for(let zt=0;zt<Ot;zt++){const $n=Ne(Lt);Ee.includes($n.tag)&&$n.length!==0&&(Gt[$n.tag]=$n)}return Gt}function Ne(Lt){const Ot=Lt.getString(4),Gt=Lt.getInt32()>>>0,zt=Lt.getInt32()>>>0,$n=Lt.getInt32()>>>0,Di=Lt.pos;Lt.pos=Lt.start||0,Lt.skip(zt);const jn=Lt.getBytes($n);return Lt.pos=Di,Ot==="head"&&(jn[8]=jn[9]=jn[10]=jn[11]=0,jn[17]|=32),{tag:Ot,checksum:Gt,length:$n,offset:zt,data:jn}}function et(Lt){return{version:Lt.getString(4),numTables:Lt.getUint16(),searchRange:Lt.getUint16(),entrySelector:Lt.getUint16(),rangeShift:Lt.getUint16()}}function rt(Lt){const Ot=Lt.getString(4);(0,n.assert)(Ot==="ttcf","Must be a TrueType Collection font.");const Gt=Lt.getUint16(),zt=Lt.getUint16(),$n=Lt.getInt32()>>>0,Di=[];for(let Yt=0;Yt<$n;Yt++)Di.push(Lt.getInt32()>>>0);const jn={ttcTag:Ot,majorVersion:Gt,minorVersion:zt,numFonts:$n,offsetTable:Di};switch(Gt){case 1:return jn;case 2:return jn.dsigTag=Lt.getInt32()>>>0,jn.dsigLength=Lt.getInt32()>>>0,jn.dsigOffset=Lt.getInt32()>>>0,jn}throw new n.FormatError(`Invalid TrueType Collection majorVersion: ${Gt}.`)}function Ge(Lt,Ot){var jn;const{numFonts:Gt,offsetTable:zt}=rt(Lt),$n=Ot.split("+");let Di;for(let Yt=0;Yt<Gt;Yt++){Lt.pos=(Lt.start||0)+zt[Yt];const Pi=et(Lt),Vi=Oe(Lt,Pi.numTables);if(!Vi.name)throw new n.FormatError('TrueType Collection font must contain a "name" table.');const[gr]=Qe(Vi.name);for(let Gi=0,zi=gr.length;Gi<zi;Gi++)for(let dr=0,_i=gr[Gi].length;dr<_i;dr++){const Wi=(jn=gr[Gi][dr])==null?void 0:jn.replaceAll(/\s/g,"");if(Wi){if(Wi===Ot)return{header:Pi,tables:Vi};if(!($n.length<2))for(const xi of $n)Wi===xi&&(Di={name:xi,header:Pi,tables:Vi})}}}if(Di)return(0,n.warn)(`TrueType Collection does not contain "${Ot}" font, falling back to "${Di.name}" font instead.`),{header:Di.header,tables:Di.tables};throw new n.FormatError(`TrueType Collection does not contain "${Ot}" font.`)}function je(Lt,Ot,Gt,zt){if(!Lt)return(0,n.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let $n,Di=(Ot.start||0)+Lt.offset;Ot.pos=Di,Ot.skip(2);const jn=Ot.getUint16();let Yt,Pi=!1;for(let _i=0;_i<jn;_i++){const Wi=Ot.getUint16(),xi=Ot.getUint16(),ur=Ot.getInt32()>>>0;let Yi=!1;if(!((Yt==null?void 0:Yt.platformId)===Wi&&(Yt==null?void 0:Yt.encodingId)===xi)){if(Wi===0&&(xi===0||xi===1||xi===3))Yi=!0;else if(Wi===1&&xi===0)Yi=!0;else if(Wi===3&&xi===1&&(zt||!Yt))Yi=!0,Gt||(Pi=!0);else if(Gt&&Wi===3&&xi===0){Yi=!0;let Nr=!0;if(_i<jn-1){const Ji=Ot.peekBytes(2);b(Ji[0],Ji[1])<Wi&&(Nr=!1)}Nr&&(Pi=!0)}if(Yi&&(Yt={platformId:Wi,encodingId:xi,offset:ur}),Pi)break}}if(Yt&&(Ot.pos=Di+Yt.offset),!Yt||Ot.peekByte()===-1)return(0,n.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const Vi=Ot.getUint16();let gr=!1;const Gi=[];let zi,dr;if(Vi===0){for(Ot.skip(4),zi=0;zi<256;zi++){const _i=Ot.getByte();_i&&Gi.push({charCode:zi,glyphId:_i})}gr=!0}else if(Vi===2){Ot.skip(4);const _i=[];let Wi=0;for(let ur=0;ur<256;ur++){const Yi=Ot.getUint16()>>3;_i.push(Yi),Wi=Math.max(Yi,Wi)}const xi=[];for(let ur=0;ur<=Wi;ur++)xi.push({firstCode:Ot.getUint16(),entryCount:Ot.getUint16(),idDelta:Z(Ot.getByte(),Ot.getByte()),idRangePos:Ot.pos+Ot.getUint16()});for(let ur=0;ur<256;ur++)if(_i[ur]===0)Ot.pos=xi[0].idRangePos+2*ur,dr=Ot.getUint16(),Gi.push({charCode:ur,glyphId:dr});else{const Yi=xi[_i[ur]];for(zi=0;zi<Yi.entryCount;zi++){const Nr=(ur<<8)+zi+Yi.firstCode;Ot.pos=Yi.idRangePos+2*zi,dr=Ot.getUint16(),dr!==0&&(dr=(dr+Yi.idDelta)%65536),Gi.push({charCode:Nr,glyphId:dr})}}}else if(Vi===4){Ot.skip(4);const _i=Ot.getUint16()>>1;Ot.skip(6);const Wi=[];let xi;for(xi=0;xi<_i;xi++)Wi.push({end:Ot.getUint16()});for(Ot.skip(2),xi=0;xi<_i;xi++)Wi[xi].start=Ot.getUint16();for(xi=0;xi<_i;xi++)Wi[xi].delta=Ot.getUint16();let ur=0,Yi;for(xi=0;xi<_i;xi++){$n=Wi[xi];const Ji=Ot.getUint16();if(!Ji){$n.offsetIndex=-1;continue}Yi=(Ji>>1)-(_i-xi),$n.offsetIndex=Yi,ur=Math.max(ur,Yi+$n.end-$n.start+1)}const Nr=[];for(zi=0;zi<ur;zi++)Nr.push(Ot.getUint16());for(xi=0;xi<_i;xi++){$n=Wi[xi],Di=$n.start;const Ji=$n.end,rr=$n.delta;for(Yi=$n.offsetIndex,zi=Di;zi<=Ji;zi++)zi!==65535&&(dr=Yi<0?zi:Nr[Yi+zi-Di],dr=dr+rr&65535,Gi.push({charCode:zi,glyphId:dr}))}}else if(Vi===6){Ot.skip(4);const _i=Ot.getUint16(),Wi=Ot.getUint16();for(zi=0;zi<Wi;zi++){dr=Ot.getUint16();const xi=_i+zi;Gi.push({charCode:xi,glyphId:dr})}}else if(Vi===12){Ot.skip(10);const _i=Ot.getInt32()>>>0;for(zi=0;zi<_i;zi++){const Wi=Ot.getInt32()>>>0,xi=Ot.getInt32()>>>0;let ur=Ot.getInt32()>>>0;for(let Yi=Wi;Yi<=xi;Yi++)Gi.push({charCode:Yi,glyphId:ur++})}}else return(0,n.warn)("cmap table has unsupported format: "+Vi),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};Gi.sort(function(_i,Wi){return _i.charCode-Wi.charCode});for(let _i=1;_i<Gi.length;_i++)Gi[_i-1].charCode===Gi[_i].charCode&&(Gi.splice(_i,1),_i--);return{platformId:Yt.platformId,encodingId:Yt.encodingId,mappings:Gi,hasShortCmap:gr}}function $e(Lt,Ot,Gt,zt,$n,Di){if(!Ot){Gt&&(Gt.data=null);return}Lt.pos=(Lt.start||0)+Ot.offset,Lt.pos+=4,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2,Lt.pos+=2;const jn=Lt.getUint16();Lt.pos+=8,Lt.pos+=2;let Yt=Lt.getUint16();jn!==0&&(b(zt.data[44],zt.data[45])&2||(Ot.data[22]=0,Ot.data[23]=0)),Yt>$n&&((0,n.info)(`The numOfMetrics (${Yt}) should not be greater than the numGlyphs (${$n}).`),Yt=$n,Ot.data[34]=(Yt&65280)>>8,Ot.data[35]=Yt&255);const Vi=$n-Yt-(Gt.length-Yt*4>>1);if(Vi>0){const gr=new Uint8Array(Gt.length+Vi*2);gr.set(Gt.data),Di&&(gr[Gt.length]=Gt.data[2],gr[Gt.length+1]=Gt.data[3]),Gt.data=gr}}function ze(Lt,Ot,Gt,zt,$n,Di){const jn={length:0,sizeOfInstructions:0};if(Ot<0||Ot>=Lt.length||Gt>Lt.length||Gt-Ot<=12)return jn;const Yt=Lt.subarray(Ot,Gt),Pi=Z(Yt[2],Yt[3]),Vi=Z(Yt[4],Yt[5]),gr=Z(Yt[6],Yt[7]),Gi=Z(Yt[8],Yt[9]);Pi>gr&&(D(Yt,2,gr),D(Yt,6,Pi)),Vi>Gi&&(D(Yt,4,Gi),D(Yt,8,Vi));const zi=Z(Yt[0],Yt[1]);if(zi<0)return zi<-1||(zt.set(Yt,$n),jn.length=Yt.length),jn;let dr,_i=10,Wi=0;for(dr=0;dr<zi;dr++)Wi=(Yt[_i]<<8|Yt[_i+1])+1,_i+=2;const xi=_i,ur=Yt[_i]<<8|Yt[_i+1];jn.sizeOfInstructions=ur,_i+=2+ur;const Yi=_i;let Nr=0;for(dr=0;dr<Wi;dr++){const rr=Yt[_i++];rr&192&&(Yt[_i-1]=rr&63);let vr=2;rr&2?vr=1:rr&16&&(vr=0);let Or=2;rr&4?Or=1:rr&32&&(Or=0);const zr=vr+Or;if(Nr+=zr,rr&8){const ys=Yt[_i++];ys===0&&(Yt[_i-1]^=8),dr+=ys,Nr+=ys*zr}}if(Nr===0)return jn;let Ji=_i+Nr;return Ji>Yt.length?jn:!Di&&ur>0?(zt.set(Yt.subarray(0,xi),$n),zt.set([0,0],$n+xi),zt.set(Yt.subarray(Yi,Ji),$n+xi+2),Ji-=ur,Yt.length-Ji>3&&(Ji=Ji+3&-4),jn.length=Ji,jn):Yt.length-Ji>3?(Ji=Ji+3&-4,zt.set(Yt.subarray(0,Ji),$n),jn.length=Ji,jn):(zt.set(Yt,$n),jn.length=Yt.length,jn)}function at(Lt,Ot,Gt){const zt=Lt.data,$n=N(zt[0],zt[1],zt[2],zt[3]);$n>>16!==1&&((0,n.info)("Attempting to fix invalid version in head table: "+$n),zt[0]=0,zt[1]=1,zt[2]=0,zt[3]=0);const Di=b(zt[50],zt[51]);if(Di<0||Di>1){(0,n.info)("Attempting to fix invalid indexToLocFormat in head table: "+Di);const jn=Ot+1;if(Gt===jn<<1)zt[50]=0,zt[51]=0;else if(Gt===jn<<2)zt[50]=0,zt[51]=1;else throw new n.FormatError("Could not fix indexToLocFormat: "+Di)}}function mt(Lt,Ot,Gt,zt,$n,Di,jn){let Yt,Pi,Vi;zt?(Yt=4,Pi=function(vr,Or){return vr[Or]<<24|vr[Or+1]<<16|vr[Or+2]<<8|vr[Or+3]},Vi=function(vr,Or,zr){vr[Or]=zr>>>24&255,vr[Or+1]=zr>>16&255,vr[Or+2]=zr>>8&255,vr[Or+3]=zr&255}):(Yt=2,Pi=function(vr,Or){return vr[Or]<<9|vr[Or+1]<<1},Vi=function(vr,Or,zr){vr[Or]=zr>>9&255,vr[Or+1]=zr>>1&255});const gr=Di?Gt+1:Gt,Gi=Yt*(1+gr),zi=new Uint8Array(Gi);zi.set(Lt.data.subarray(0,Gi)),Lt.data=zi;const dr=Ot.data,_i=dr.length,Wi=new Uint8Array(_i);let xi,ur;const Yi=[];for(xi=0,ur=0;xi<Gt+1;xi++,ur+=Yt){let rr=Pi(zi,ur);rr>_i&&(rr=_i),Yi.push({index:xi,offset:rr,endOffset:0})}for(Yi.sort((rr,vr)=>rr.offset-vr.offset),xi=0;xi<Gt;xi++)Yi[xi].endOffset=Yi[xi+1].offset;for(Yi.sort((rr,vr)=>rr.index-vr.index),xi=0;xi<Gt;xi++){const{offset:rr,endOffset:vr}=Yi[xi];if(rr!==0||vr!==0)break;const Or=Yi[xi+1].offset;if(Or!==0){Yi[xi].endOffset=Or;break}}const Nr=Object.create(null);let Ji=0;for(Vi(zi,0,Ji),xi=0,ur=Yt;xi<Gt;xi++,ur+=Yt){const rr=ze(dr,Yi[xi].offset,Yi[xi].endOffset,Wi,Ji,$n),vr=rr.length;vr===0&&(Nr[xi]=!0),rr.sizeOfInstructions>jn&&(jn=rr.sizeOfInstructions),Ji+=vr,Vi(zi,ur,Ji)}if(Ji===0){const rr=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(xi=0,ur=Yt;xi<gr;xi++,ur+=Yt)Vi(zi,ur,rr.length);Ot.data=rr}else if(Di){const rr=Pi(zi,Yt);Wi.length>rr+Ji?Ot.data=Wi.subarray(0,rr+Ji):(Ot.data=new Uint8Array(rr+Ji),Ot.data.set(Wi.subarray(0,Ji))),Ot.data.set(Wi.subarray(0,rr),Ji),Vi(Lt.data,zi.length-Yt,Ji+rr)}else Ot.data=Wi.subarray(0,Ji);return{missingGlyphs:Nr,maxSizeOfInstructions:jn}}function At(Lt,Ot,Gt){const zt=(Fe.start||0)+Lt.offset;Fe.pos=zt;const $n=Lt.length,Di=zt+$n,jn=Fe.getInt32();Fe.skip(28);let Yt,Pi=!0,Vi;switch(jn){case 65536:Yt=U.MacStandardGlyphOrdering;break;case 131072:const gr=Fe.getUint16();if(gr!==Gt){Pi=!1;break}const Gi=[];for(Vi=0;Vi<gr;++Vi){const _i=Fe.getUint16();if(_i>=32768){Pi=!1;break}Gi.push(_i)}if(!Pi)break;const zi=[],dr=[];for(;Fe.pos<Di;){const _i=Fe.getByte();for(dr.length=_i,Vi=0;Vi<_i;++Vi)dr[Vi]=String.fromCharCode(Fe.getByte());zi.push(dr.join(""))}for(Yt=[],Vi=0;Vi<gr;++Vi){const _i=Gi[Vi];if(_i<258){Yt.push(U.MacStandardGlyphOrdering[_i]);continue}Yt.push(zi[_i-258])}break;case 196608:break;default:(0,n.warn)("Unknown/unsupported post table version "+jn),Pi=!1,Ot.defaultEncoding&&(Yt=Ot.defaultEncoding);break}return Ot.glyphNames=Yt,Pi}function Qe(Lt){const Ot=(Fe.start||0)+Lt.offset;Fe.pos=Ot;const Gt=[[],[]],zt=[],$n=Lt.length,Di=Ot+$n;if(Fe.getUint16()!==0||$n<6)return[Gt,zt];const Pi=Fe.getUint16(),Vi=Fe.getUint16(),gr=12;let Gi,zi;for(Gi=0;Gi<Pi&&Fe.pos+gr<=Di;Gi++){const dr={platform:Fe.getUint16(),encoding:Fe.getUint16(),language:Fe.getUint16(),name:Fe.getUint16(),length:Fe.getUint16(),offset:Fe.getUint16()};(ce(dr)||Ie(dr))&&zt.push(dr)}for(Gi=0,zi=zt.length;Gi<zi;Gi++){const dr=zt[Gi];if(dr.length<=0)continue;const _i=Ot+Vi+dr.offset;if(_i+dr.length>Di)continue;Fe.pos=_i;const Wi=dr.name;if(dr.encoding){let xi="";for(let ur=0,Yi=dr.length;ur<Yi;ur+=2)xi+=String.fromCharCode(Fe.getUint16());Gt[1][Wi]=xi}else Gt[0][Wi]=Fe.getString(dr.length)}return[Gt,zt]}const Ke=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function pt(Lt,Ot){let Gt=Lt.data,zt=0,$n,Di,jn,Yt,Pi,Vi=0,gr=0;const Gi=[],zi=[],dr=[];let _i=Ot.tooComplexToFollowFunctions,Wi=!1,xi=0,ur=0;for(let Nr=Gt.length;zt<Nr;){const Ji=Gt[zt++];if(Ji===64)if(Di=Gt[zt++],Wi||ur)zt+=Di;else for($n=0;$n<Di;$n++)Gi.push(Gt[zt++]);else if(Ji===65)if(Di=Gt[zt++],Wi||ur)zt+=Di*2;else for($n=0;$n<Di;$n++)jn=Gt[zt++],Gi.push(jn<<8|Gt[zt++]);else if((Ji&248)===176)if(Di=Ji-176+1,Wi||ur)zt+=Di;else for($n=0;$n<Di;$n++)Gi.push(Gt[zt++]);else if((Ji&248)===184)if(Di=Ji-184+1,Wi||ur)zt+=Di*2;else for($n=0;$n<Di;$n++)jn=Gt[zt++],Gi.push(jn<<8|Gt[zt++]);else if(Ji===43&&!_i){if(!Wi&&!ur){if(Yt=Gi.at(-1),isNaN(Yt))(0,n.info)("TT: CALL empty stack (or invalid entry).");else if(Ot.functionsUsed[Yt]=!0,Yt in Ot.functionsStackDeltas){const rr=Gi.length+Ot.functionsStackDeltas[Yt];if(rr<0){(0,n.warn)("TT: CALL invalid functions stack delta."),Ot.hintsValid=!1;return}Gi.length=rr}else if(Yt in Ot.functionsDefined&&!dr.includes(Yt)){if(zi.push({data:Gt,i:zt,stackTop:Gi.length-1}),dr.push(Yt),Pi=Ot.functionsDefined[Yt],!Pi){(0,n.warn)("TT: CALL non-existent function"),Ot.hintsValid=!1;return}Gt=Pi.data,zt=Pi.i}}}else if(Ji===44&&!_i)(Wi||ur)&&((0,n.warn)("TT: nested FDEFs not allowed"),_i=!0),Wi=!0,gr=zt,Yt=Gi.pop(),Ot.functionsDefined[Yt]={data:Gt,i:zt};else if(Ji===45)if(Wi)Wi=!1,Vi=zt;else{if(Pi=zi.pop(),!Pi){(0,n.warn)("TT: ENDF bad stack"),Ot.hintsValid=!1;return}Yt=dr.pop(),Gt=Pi.data,zt=Pi.i,Ot.functionsStackDeltas[Yt]=Gi.length-Pi.stackTop}else if(Ji===137)(Wi||ur)&&((0,n.warn)("TT: nested IDEFs not allowed"),_i=!0),Wi=!0,gr=zt;else if(Ji===88)++xi;else if(Ji===27)ur=xi;else if(Ji===89)ur===xi&&(ur=0),--xi;else if(Ji===28&&!Wi&&!ur){const rr=Gi.at(-1);rr>0&&(zt+=rr-1)}if(!Wi&&!ur){let rr=0;for(Ji<=142?rr=Ke[Ji]:Ji>=192&&Ji<=223?rr=-1:Ji>=224&&(rr=-2),Ji>=113&&Ji<=117&&(Di=Gi.pop(),isNaN(Di)||(rr=-Di*2));rr<0&&Gi.length>0;)Gi.pop(),rr++;for(;rr>0;)Gi.push(NaN),rr--}}Ot.tooComplexToFollowFunctions=_i;const Yi=[Gt];zt>Gt.length&&Yi.push(new Uint8Array(zt-Gt.length)),gr>Vi&&((0,n.warn)("TT: complementing a missing function tail"),Yi.push(new Uint8Array([34,45]))),St(Lt,Yi)}function st(Lt,Ot){if(!Lt.tooComplexToFollowFunctions){if(Lt.functionsDefined.length>Ot){(0,n.warn)("TT: more functions defined than expected"),Lt.hintsValid=!1;return}for(let Gt=0,zt=Lt.functionsUsed.length;Gt<zt;Gt++){if(Gt>Ot){(0,n.warn)("TT: invalid function id: "+Gt),Lt.hintsValid=!1;return}if(Lt.functionsUsed[Gt]&&!Lt.functionsDefined[Gt]){(0,n.warn)("TT: undefined function: "+Gt),Lt.hintsValid=!1;return}}}}function St(Lt,Ot){if(Ot.length>1){let Gt=0,zt,$n;for(zt=0,$n=Ot.length;zt<$n;zt++)Gt+=Ot[zt].length;Gt=Gt+3&-4;const Di=new Uint8Array(Gt);let jn=0;for(zt=0,$n=Ot.length;zt<$n;zt++)Di.set(Ot[zt],jn),jn+=Ot[zt].length;Lt.data=Di,Lt.length=Gt}}function kt(Lt,Ot,Gt,zt){const $n={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Lt&&pt(Lt,$n),Ot&&pt(Ot,$n),Lt&&st($n,zt),Gt&&Gt.length&1){const Di=new Uint8Array(Gt.length+1);Di.set(Gt.data),Gt.data=Di}return $n.hintsValid}Fe=new P.Stream(new Uint8Array(Fe.getBytes()));let zn,ft;if(u(Fe)){const Lt=Ge(Fe,this.name);zn=Lt.header,ft=Lt.tables}else zn=et(Fe),ft=Oe(Fe,zn.numTables);let en,Xt;const Ve=!ft["CFF "];if(Ve){if(!ft.loca)throw new n.FormatError('Required "loca" table is not found');ft.glyf||((0,n.warn)('Required "glyf" table is not found -- trying to recover.'),ft.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const Lt=de.composite&&(((Hn=de.cidToGidMap)==null?void 0:Hn.length)>0||!(de.cMap instanceof i.IdentityCMap));if(zn.version==="OTTO"&&!Lt||!ft.head||!ft.hhea||!ft.maxp||!ft.post)return Xt=new P.Stream(ft["CFF "].data),en=new L.CFFFont(Xt,de),Q(de),this.convert(ke,en,de);delete ft.glyf,delete ft.loca,delete ft.fpgm,delete ft.prep,delete ft["cvt "],this.isOpenType=!0}if(!ft.maxp)throw new n.FormatError('Required "maxp" table is not found');Fe.pos=(Fe.start||0)+ft.maxp.offset;const Re=Fe.getInt32(),qe=Fe.getUint16();if((($i=de.scaleFactors)==null?void 0:$i.length)===qe&&Ve){const{scaleFactors:Lt}=de,Ot=b(ft.head.data[50],ft.head.data[51]),Gt=new p.GlyfTable({glyfTable:ft.glyf.data,isGlyphLocationsLong:Ot,locaTable:ft.loca.data,numGlyphs:qe});Gt.scale(Lt);const{glyf:zt,loca:$n,isLocationLong:Di}=Gt.write();ft.glyf.data=zt,ft.loca.data=$n,Di!==!!Ot&&(ft.head.data[50]=0,ft.head.data[51]=Di?1:0);const jn=ft.hmtx.data;for(let Yt=0;Yt<qe;Yt++){const Pi=4*Yt,Vi=Math.round(Lt[Yt]*b(jn[Pi],jn[Pi+1]));jn[Pi]=Vi>>8&255,jn[Pi+1]=Vi&255;const gr=Math.round(Lt[Yt]*Z(jn[Pi+2],jn[Pi+3]));D(jn,Pi+2,gr)}}let Ze=qe+1,lt=!0;Ze>65535&&(lt=!1,Ze=qe,(0,n.warn)("Not enough space in glyfs to duplicate first glyph."));let gt=0,xt=0;Re>=65536&&ft.maxp.length>=22&&(Fe.pos+=8,Fe.getUint16()>2&&(ft.maxp.data[14]=0,ft.maxp.data[15]=2),Fe.pos+=4,gt=Fe.getUint16(),Fe.pos+=4,xt=Fe.getUint16()),ft.maxp.data[4]=Ze>>8,ft.maxp.data[5]=Ze&255;const jt=kt(ft.fpgm,ft.prep,ft["cvt "],gt);if(jt||(delete ft.fpgm,delete ft.prep,delete ft["cvt "]),$e(Fe,ft.hhea,ft.hmtx,ft.head,Ze,lt),!ft.head)throw new n.FormatError('Required "head" table is not found');at(ft.head,qe,Ve?ft.loca.length:0);let Mt=Object.create(null);if(Ve){const Lt=b(ft.head.data[50],ft.head.data[51]),Ot=mt(ft.loca,ft.glyf,qe,Lt,jt,lt,xt);Mt=Ot.missingGlyphs,Re>=65536&&ft.maxp.length>=22&&(ft.maxp.data[26]=Ot.maxSizeOfInstructions>>8,ft.maxp.data[27]=Ot.maxSizeOfInstructions&255)}if(!ft.hhea)throw new n.FormatError('Required "hhea" table is not found');ft.hhea.data[10]===0&&ft.hhea.data[11]===0&&(ft.hhea.data[10]=255,ft.hhea.data[11]=255);const Dt={unitsPerEm:b(ft.head.data[18],ft.head.data[19]),yMax:Z(ft.head.data[42],ft.head.data[43]),yMin:Z(ft.head.data[38],ft.head.data[39]),ascent:Z(ft.hhea.data[4],ft.hhea.data[5]),descent:Z(ft.hhea.data[6],ft.hhea.data[7]),lineGap:Z(ft.hhea.data[8],ft.hhea.data[9])};this.ascent=Dt.ascent/Dt.unitsPerEm,this.descent=Dt.descent/Dt.unitsPerEm,this.lineGap=Dt.lineGap/Dt.unitsPerEm,(hr=this.cssFontInfo)!=null&&hr.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,ft.post&&At(ft.post,de,qe),ft.post={tag:"post",data:ge(de)};const Kt=[];function Wt(Lt){return!Mt[Lt]}if(de.composite){const Lt=de.cidToGidMap||[],Ot=Lt.length===0;de.cMap.forEach(function(Gt,zt){if(typeof zt=="string"&&(zt=fe(Gt,zt,!0)),zt>65535)throw new n.FormatError("Max size of CID is 65,535");let $n=-1;Ot?$n=zt:Lt[zt]!==void 0&&($n=Lt[zt]),$n>=0&&$n<qe&&Wt($n)&&(Kt[Gt]=$n)})}else{const Lt=je(ft.cmap,Fe,this.isSymbolicFont,de.hasEncoding),Ot=Lt.platformId,Gt=Lt.encodingId,zt=Lt.mappings;let $n=[],Di=!1;if(de.hasEncoding&&(de.baseEncodingName==="MacRomanEncoding"||de.baseEncodingName==="WinAnsiEncoding")&&($n=(0,o.getEncoding)(de.baseEncodingName)),de.hasEncoding&&!this.isSymbolicFont&&(Ot===3&&Gt===1||Ot===1&&Gt===0)){const jn=(0,t.getGlyphsUnicode)();for(let Yt=0;Yt<256;Yt++){let Pi;if(this.differences[Yt]!==void 0?Pi=this.differences[Yt]:$n.length&&$n[Yt]!==""?Pi=$n[Yt]:Pi=o.StandardEncoding[Yt],!Pi)continue;const Vi=(0,U.recoverGlyphName)(Pi,jn);let gr;if(Ot===3&&Gt===1?gr=jn[Vi]:Ot===1&&Gt===0&&(gr=o.MacRomanEncoding.indexOf(Vi)),gr===void 0){if(!de.glyphNames&&de.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof X.IdentityToUnicodeMap)){const Gi=this.toUnicode.get(Yt);Gi&&(gr=Gi.codePointAt(0))}if(gr===void 0)continue}for(const Gi of zt)if(Gi.charCode===gr){Kt[Yt]=Gi.glyphId;break}}}else if(Ot===0){for(const jn of zt)Kt[jn.charCode]=jn.glyphId;Di=!0}else for(const jn of zt){let Yt=jn.charCode;Ot===3&&Yt>=61440&&Yt<=61695&&(Yt&=255),Kt[Yt]=jn.glyphId}if(de.glyphNames&&($n.length||this.differences.length))for(let jn=0;jn<256;++jn){if(!Di&&Kt[jn]!==void 0)continue;const Yt=this.differences[jn]||$n[jn];if(!Yt)continue;const Pi=de.glyphNames.indexOf(Yt);Pi>0&&Wt(Pi)&&(Kt[jn]=Pi)}}Kt.length===0&&(Kt[0]=0);let Zt=Ze-1;if(lt||(Zt=0),!de.cssFontInfo){const Lt=Te(Kt,Wt,Zt,this.toUnicode);this.toFontChar=Lt.toFontChar,ft.cmap={tag:"cmap",data:ve(Lt.charCodeToGlyphId,Lt.toUnicodeExtraMap,Ze)},(!ft["OS/2"]||!te(ft["OS/2"],Fe))&&(ft["OS/2"]={tag:"OS/2",data:ie(de,Lt.charCodeToGlyphId,Dt)})}if(!Ve)try{Xt=new P.Stream(ft["CFF "].data),en=new x.CFFParser(Xt,de,U.SEAC_ANALYSIS_ENABLED).parse(),en.duplicateFirstGlyph();const Ot=new x.CFFCompiler(en);ft["CFF "].data=Ot.compile()}catch{(0,n.warn)("Failed to compile font "+de.loadedName)}if(!ft.name)ft.name={tag:"name",data:ue(this.name)};else{const[Lt,Ot]=Qe(ft.name);ft.name.data=ue(ke,Lt),this.psName=Lt[0][6]||null,de.composite||d(de,this.isSymbolicFont,Ot)}const qn=new T.OpenTypeFileBuilder(zn.version);for(const Lt in ft)qn.addTable(Lt,ft[Lt].data);return qn.toArray()}convert(ke,Fe,de){de.fixedPitch=!1,de.builtInEncoding&&w(de,de.builtInEncoding);let Ee=1;Fe instanceof L.CFFFont&&(Ee=Fe.numGlyphs-1);const Oe=Fe.getGlyphMapping(de);let Ne=null,et=Oe,rt=null;de.cssFontInfo||(Ne=Te(Oe,Fe.hasGlyphId.bind(Fe),Ee,this.toUnicode),this.toFontChar=Ne.toFontChar,et=Ne.charCodeToGlyphId,rt=Ne.toUnicodeExtraMap);const Ge=Fe.numGlyphs;function je(At,Qe){let Ke=null;for(const pt in At)Qe===At[pt]&&(Ke||(Ke=[])).push(pt|0);return Ke}function $e(At,Qe){for(const Ke in At)if(Qe===At[Ke])return Ke|0;return Ne.charCodeToGlyphId[Ne.nextAvailableFontCharCode]=Qe,Ne.nextAvailableFontCharCode++}const ze=Fe.seacs;if(Ne&&U.SEAC_ANALYSIS_ENABLED&&(ze!=null&&ze.length)){const At=de.fontMatrix||n.FONT_IDENTITY_MATRIX,Qe=Fe.getCharset(),Ke=Object.create(null);for(let pt in ze){pt|=0;const st=ze[pt],St=o.StandardEncoding[st[2]],kt=o.StandardEncoding[st[3]],zn=Qe.indexOf(St),ft=Qe.indexOf(kt);if(zn<0||ft<0)continue;const en={x:st[0]*At[0]+st[1]*At[2]+At[4],y:st[0]*At[1]+st[1]*At[3]+At[5]},Xt=je(Oe,pt);if(Xt)for(const Ve of Xt){const Re=Ne.charCodeToGlyphId,qe=$e(Re,zn),Ze=$e(Re,ft);Ke[Ve]={baseFontCharCode:qe,accentFontCharCode:Ze,accentOffset:en}}}de.seacMap=Ke}const at=1/(de.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],mt=new T.OpenTypeFileBuilder("OTTO");return mt.addTable("CFF ",Fe.data),mt.addTable("OS/2",ie(de,et)),mt.addTable("cmap",ve(et,rt,Ge)),mt.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+S(at)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+S(de.descent)+"ÿ"+S(de.ascent)+v(de.italicAngle?2:0)+"\0\0\0\0\0\0\0"),mt.addTable("hhea","\0\0\0"+S(de.ascent)+S(de.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+S(de.capHeight)+S(Math.tan(de.italicAngle)*de.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+v(Ge)),mt.addTable("hmtx",function(){const Qe=Fe.charstrings,Ke=Fe.cff?Fe.cff.widths:null;let pt="\0\0\0\0";for(let st=1,St=Ge;st<St;st++){let kt=0;if(Qe){const zn=Qe[st-1];kt="width"in zn?zn.width:0}else Ke&&(kt=Math.ceil(Ke[st]||0));pt+=v(kt)+v(0)}return pt}()),mt.addTable("maxp","\0\0P\0"+v(Ge)),mt.addTable("name",ue(ke)),mt.addTable("post",ge(de)),mt.toArray()}get spaceWidth(){const ke=["space","minus","one","i","I"];let Fe;for(const de of ke){if(de in this.widths){Fe=this.widths[de];break}const Oe=(0,t.getGlyphsUnicode)()[de];let Ne=0;if(this.composite&&this.cMap.contains(Oe)&&(Ne=this.cMap.lookup(Oe),typeof Ne=="string"&&(Ne=fe(Oe,Ne))),!Ne&&this.toUnicode&&(Ne=this.toUnicode.charCodeOf(Oe)),Ne<=0&&(Ne=Oe),Fe=this.widths[Ne],Fe)break}return(0,n.shadow)(this,"spaceWidth",Fe||this.defaultWidth)}_charToGlyph(ke,Fe=!1){var at,mt,At;let de=this._glyphCache[ke];if((de==null?void 0:de.isSpace)===Fe)return de;let Ee,Oe,Ne,et=ke;(at=this.cMap)!=null&&at.contains(ke)&&(et=this.cMap.lookup(ke),typeof et=="string"&&(et=fe(ke,et))),Oe=this.widths[et],typeof Oe!="number"&&(Oe=this.defaultWidth);const rt=(mt=this.vmetrics)==null?void 0:mt[et];let Ge=this.toUnicode.get(ke)||ke;typeof Ge=="number"&&(Ge=String.fromCharCode(Ge));let je=this.toFontChar[ke]!==void 0;if(Ee=this.toFontChar[ke]||ke,this.missingFile){const Qe=this.differences[ke]||this.defaultEncoding[ke];(Qe===".notdef"||Qe==="")&&this.type==="Type1"&&(Ee=32),Ee=(0,e.mapSpecialUnicodeValues)(Ee)}this.isType3Font&&(Ne=Ee);let $e=null;if((At=this.seacMap)!=null&&At[ke]){je=!0;const Qe=this.seacMap[ke];Ee=Qe.baseFontCharCode,$e={fontChar:String.fromCodePoint(Qe.accentFontCharCode),offset:Qe.accentOffset}}let ze="";return typeof Ee=="number"&&(Ee<=1114111?ze=String.fromCodePoint(Ee):(0,n.warn)(`charToGlyph - invalid fontCharCode: ${Ee}`)),de=new l(ke,ze,Ge,$e,Oe,rt,Ne,Fe,je),this._glyphCache[ke]=de}charsToGlyphs(ke){let Fe=this._charsCache[ke];if(Fe)return Fe;if(Fe=[],this.cMap){const de=Object.create(null),Ee=ke.length;let Oe=0;for(;Oe<Ee;){this.cMap.readCharCode(ke,Oe,de);const{charcode:Ne,length:et}=de;Oe+=et;const rt=this._charToGlyph(Ne,et===1&&ke.charCodeAt(Oe-1)===32);Fe.push(rt)}}else for(let de=0,Ee=ke.length;de<Ee;++de){const Oe=ke.charCodeAt(de),Ne=this._charToGlyph(Oe,Oe===32);Fe.push(Ne)}return this._charsCache[ke]=Fe}getCharPositions(ke){const Fe=[];if(this.cMap){const de=Object.create(null);let Ee=0;for(;Ee<ke.length;){this.cMap.readCharCode(ke,Ee,de);const Oe=de.length;Fe.push([Ee,Ee+Oe]),Ee+=Oe}}else for(let de=0,Ee=ke.length;de<Ee;++de)Fe.push([de,de+1]);return Fe}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(ke){const Fe=[],de=[],Ee=()=>Fe.length%2===1,Oe=this.toUnicode instanceof X.IdentityToUnicodeMap?Ne=>this.toUnicode.charCodeOf(Ne):Ne=>this.toUnicode.charCodeOf(String.fromCodePoint(Ne));for(let Ne=0,et=ke.length;Ne<et;Ne++){const rt=ke.codePointAt(Ne);if(rt>55295&&(rt<57344||rt>65533)&&Ne++,this.toUnicode){const Ge=Oe(rt);if(Ge!==-1){Ee()&&(Fe.push(de.join("")),de.length=0);const je=this.cMap?this.cMap.getCharCodeLength(Ge):1;for(let $e=je-1;$e>=0;$e--)de.push(String.fromCharCode(Ge>>8*$e&255));continue}}Ee()||(Fe.push(de.join("")),de.length=0),de.push(String.fromCodePoint(rt))}return Fe.push(de.join("")),Fe}}h.Font=we;class Ce{constructor(ke){this.error=ke,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(ke){return[ke]}exportData(ke=!1){return{error:this.error}}}h.ErrorFont=Ce},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CFFTopDict=h.CFFStrings=h.CFFStandardStrings=h.CFFPrivateDict=h.CFFParser=h.CFFIndex=h.CFFHeader=h.CFFFDSelect=h.CFFCompiler=h.CFFCharset=h.CFF=void 0;var n=re(2),x=re(36),U=re(37);const e=10,t=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];h.CFFStandardStrings=t;const o=391,K=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],X=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(q,l){q[l-2]=q[l-2]+q[l-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(q,l){q[l-2]=q[l-2]-q[l-1]}},{id:"div",min:2,stackDelta:-1,stackFn(q,l){q[l-2]=q[l-2]/q[l-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(q,l){q[l-1]=-q[l-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(q,l){q[l-2]=q[l-2]*q[l-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class L{constructor(l,b,D){this.bytes=l.getBytes(),this.properties=b,this.seacAnalysisEnabled=!!D}parse(){const l=this.properties,b=new O;this.cff=b;const D=this.parseHeader(),Z=this.parseIndex(D.endPos),N=this.parseIndex(Z.endPos),v=this.parseIndex(N.endPos),S=this.parseIndex(v.endPos),I=this.parseDict(N.obj.get(0)),u=this.createDict(P,I,b.strings);b.header=D.obj,b.names=this.parseNameIndex(Z.obj),b.strings=this.parseStringIndex(v.obj),b.topDict=u,b.globalSubrIndex=S.obj,this.parsePrivateDict(b.topDict),b.isCIDFont=u.hasName("ROS");const y=u.getByName("CharStrings"),r=this.parseIndex(y).obj,A=u.getByName("FontMatrix");A&&(l.fontMatrix=A);const E=u.getByName("FontBBox");E&&(l.ascent=Math.max(E[3],E[1]),l.descent=Math.min(E[1],E[3]),l.ascentScaled=!0);let G,ae;if(b.isCIDFont){const Ie=this.parseIndex(u.getByName("FDArray")).obj;for(let fe=0,Te=Ie.count;fe<Te;++fe){const be=Ie.get(fe),ve=this.createDict(P,this.parseDict(be),b.strings);this.parsePrivateDict(ve),b.fdArray.push(ve)}ae=null,G=this.parseCharsets(u.getByName("charset"),r.count,b.strings,!0),b.fdSelect=this.parseFDSelect(u.getByName("FDSelect"),r.count)}else G=this.parseCharsets(u.getByName("charset"),r.count,b.strings,!1),ae=this.parseEncoding(u.getByName("Encoding"),l,b.strings,G.charset);b.charset=G,b.encoding=ae;const ce=this.parseCharStrings({charStrings:r,localSubrIndex:u.privateDict.subrsIndex,globalSubrIndex:S.obj,fdSelect:b.fdSelect,fdArray:b.fdArray,privateDict:u.privateDict});return b.charStrings=ce.charStrings,b.seacs=ce.seacs,b.widths=ce.widths,b}parseHeader(){let l=this.bytes;const b=l.length;let D=0;for(;D<b&&l[D]!==1;)++D;if(D>=b)throw new n.FormatError("Invalid CFF header");D!==0&&((0,n.info)("cff data is shifted"),l=l.subarray(D),this.bytes=l);const Z=l[0],N=l[1],v=l[2],S=l[3];return{obj:new f(Z,N,v,S),endPos:v}}parseDict(l){let b=0;function D(){let I=l[b++];return I===30?Z():I===28?(I=l[b++],I=(I<<24|l[b++]<<16)>>16,I):I===29?(I=l[b++],I=I<<8|l[b++],I=I<<8|l[b++],I=I<<8|l[b++],I):I>=32&&I<=246?I-139:I>=247&&I<=250?(I-247)*256+l[b++]+108:I>=251&&I<=254?-((I-251)*256)-l[b++]-108:((0,n.warn)('CFFParser_parseDict: "'+I+'" is a reserved command.'),NaN)}function Z(){let I="";const y=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],r=l.length;for(;b<r;){const A=l[b++],E=A>>4,G=A&15;if(E===15||(I+=y[E],G===15))break;I+=y[G]}return parseFloat(I)}let N=[];const v=[];b=0;const S=l.length;for(;b<S;){let I=l[b];I<=21?(I===12&&(I=I<<8|l[++b]),v.push([I,N]),N=[],++b):N.push(D())}return v}parseIndex(l){const b=new i,D=this.bytes,Z=D[l++]<<8|D[l++],N=[];let v=l,S,I;if(Z!==0){const u=D[l++],y=l+(Z+1)*u-1;for(S=0,I=Z+1;S<I;++S){let r=0;for(let A=0;A<u;++A)r<<=8,r+=D[l++];N.push(y+r)}v=N[Z]}for(S=0,I=N.length-1;S<I;++S){const u=N[S],y=N[S+1];b.add(D.subarray(u,y))}return{obj:b,endPos:v}}parseNameIndex(l){const b=[];for(let D=0,Z=l.count;D<Z;++D){const N=l.get(D);b.push((0,n.bytesToString)(N))}return b}parseStringIndex(l){const b=new p;for(let D=0,Z=l.count;D<Z;++D){const N=l.get(D);b.add((0,n.bytesToString)(N))}return b}createDict(l,b,D){const Z=new l(D);for(const[N,v]of b)Z.setByKey(N,v);return Z}parseCharString(l,b,D,Z){if(!b||l.callDepth>e)return!1;let N=l.stackSize;const v=l.stack;let S=b.length;for(let I=0;I<S;){const u=b[I++];let y=null;if(u===12){const r=b[I++];r===0?(b[I-2]=139,b[I-1]=22,N=0):y=X[r]}else if(u===28)v[N]=(b[I]<<24|b[I+1]<<16)>>16,I+=2,N++;else if(u===14){if(N>=4&&(N-=4,this.seacAnalysisEnabled))return l.seac=v.slice(N,N+4),!1;y=K[u]}else if(u>=32&&u<=246)v[N]=u-139,N++;else if(u>=247&&u<=254)v[N]=u<251?(u-247<<8)+b[I]+108:-(u-251<<8)-b[I]-108,I++,N++;else if(u===255)v[N]=(b[I]<<24|b[I+1]<<16|b[I+2]<<8|b[I+3])/65536,I+=4,N++;else if(u===19||u===20){if(l.hints+=N>>1,l.hints===0){b.copyWithin(I-1,I,-1),I-=1,S-=1;continue}I+=l.hints+7>>3,N%=2,y=K[u]}else if(u===10||u===29){const r=u===10?D:Z;if(!r)return y=K[u],(0,n.warn)("Missing subrsIndex for "+y.id),!1;let A=32768;r.count<1240?A=107:r.count<33900&&(A=1131);const E=v[--N]+A;if(E<0||E>=r.count||isNaN(E))return y=K[u],(0,n.warn)("Out of bounds subrIndex for "+y.id),!1;if(l.stackSize=N,l.callDepth++,!this.parseCharString(l,r.get(E),D,Z))return!1;l.callDepth--,N=l.stackSize;continue}else{if(u===11)return l.stackSize=N,!0;if(u===0&&I===b.length)b[I-1]=14,y=K[14];else if(u===9){b.copyWithin(I-1,I,-1),I-=1,S-=1;continue}else y=K[u]}if(y){if(y.stem&&(l.hints+=N>>1,u===3||u===23?l.hasVStems=!0:l.hasVStems&&(u===1||u===18)&&((0,n.warn)("CFF stem hints are in wrong order"),b[I-1]=u===1?3:23)),"min"in y&&!l.undefStack&&N<y.min)return(0,n.warn)("Not enough parameters for "+y.id+"; actual: "+N+", expected: "+y.min),N===0?(b[I-1]=14,!0):!1;l.firstStackClearing&&y.stackClearing&&(l.firstStackClearing=!1,N-=y.min,N>=2&&y.stem?N%=2:N>1&&(0,n.warn)("Found too many parameters for stack-clearing command"),N>0&&(l.width=v[N-1])),"stackDelta"in y?("stackFn"in y&&y.stackFn(v,N),N+=y.stackDelta):y.stackClearing?N=0:y.resetStack?(N=0,l.undefStack=!1):y.undefStack&&(N=0,l.undefStack=!0,l.firstStackClearing=!1)}}return S<b.length&&b.fill(14,S),l.stackSize=N,!0}parseCharStrings({charStrings:l,localSubrIndex:b,globalSubrIndex:D,fdSelect:Z,fdArray:N,privateDict:v}){const S=[],I=[],u=l.count;for(let y=0;y<u;y++){const r=l.get(y),A={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let E=!0,G=null,ae=v;if(Z&&N.length){const ce=Z.getFDIndex(y);ce===-1&&((0,n.warn)("Glyph index is not in fd select."),E=!1),ce>=N.length&&((0,n.warn)("Invalid fd index for glyph index."),E=!1),E&&(ae=N[ce].privateDict,G=ae.subrsIndex)}else b&&(G=b);if(E&&(E=this.parseCharString(A,r,G,D)),A.width!==null){const ce=ae.getByName("nominalWidthX");I[y]=ce+A.width}else{const ce=ae.getByName("defaultWidthX");I[y]=ce}A.seac!==null&&(S[y]=A.seac),E||l.set(y,new Uint8Array([14]))}return{charStrings:l,seacs:S,widths:I}}emptyPrivateDictionary(l){const b=this.createDict(H,[],l.strings);l.setByKey(18,[0,0]),l.privateDict=b}parsePrivateDict(l){if(!l.hasName("Private")){this.emptyPrivateDictionary(l);return}const b=l.getByName("Private");if(!Array.isArray(b)||b.length!==2){l.removeByName("Private");return}const D=b[0],Z=b[1];if(D===0||Z>=this.bytes.length){this.emptyPrivateDictionary(l);return}const N=Z+D,v=this.bytes.subarray(Z,N),S=this.parseDict(v),I=this.createDict(H,S,l.strings);if(l.privateDict=I,I.getByName("ExpansionFactor")===0&&I.setByName("ExpansionFactor",.06),!I.getByName("Subrs"))return;const u=I.getByName("Subrs"),y=Z+u;if(u===0||y>=this.bytes.length){this.emptyPrivateDictionary(l);return}const r=this.parseIndex(y);I.subrsIndex=r.obj}parseCharsets(l,b,D,Z){if(l===0)return new se(!0,$.ISO_ADOBE,x.ISOAdobeCharset);if(l===1)return new se(!0,$.EXPERT,x.ExpertCharset);if(l===2)return new se(!0,$.EXPERT_SUBSET,x.ExpertSubsetCharset);const N=this.bytes,v=l,S=N[l++],I=[Z?0:".notdef"];let u,y,r;switch(b-=1,S){case 0:for(r=0;r<b;r++)u=N[l++]<<8|N[l++],I.push(Z?u:D.get(u));break;case 1:for(;I.length<=b;)for(u=N[l++]<<8|N[l++],y=N[l++],r=0;r<=y;r++)I.push(Z?u++:D.get(u++));break;case 2:for(;I.length<=b;)for(u=N[l++]<<8|N[l++],y=N[l++]<<8|N[l++],r=0;r<=y;r++)I.push(Z?u++:D.get(u++));break;default:throw new n.FormatError("Unknown charset format")}const A=l,E=N.subarray(v,A);return new se(!1,S,I,E)}parseEncoding(l,b,D,Z){const N=Object.create(null),v=this.bytes;let S=!1,I,u,y,r=null;function A(){const E=v[l++];for(u=0;u<E;u++){const G=v[l++],ae=(v[l++]<<8)+(v[l++]&255);N[G]=Z.indexOf(D.get(ae))}}if(l===0||l===1){S=!0,I=l;const E=l?U.ExpertEncoding:U.StandardEncoding;for(u=0,y=Z.length;u<y;u++){const G=E.indexOf(Z[u]);G!==-1&&(N[G]=u)}}else{const E=l;switch(I=v[l++],I&127){case 0:const ae=v[l++];for(u=1;u<=ae;u++)N[v[l++]]=u;break;case 1:const ce=v[l++];let Ie=1;for(u=0;u<ce;u++){const fe=v[l++],Te=v[l++];for(let be=fe;be<=fe+Te;be++)N[be]=Ie++}break;default:throw new n.FormatError(`Unknown encoding format: ${I} in CFF`)}const G=l;I&128&&(v[E]&=127,A()),r=v.subarray(E,G)}return I&=127,new _(S,I,N,r)}parseFDSelect(l,b){const D=this.bytes,Z=D[l++],N=[];let v;switch(Z){case 0:for(v=0;v<b;++v){const I=D[l++];N.push(I)}break;case 3:const S=D[l++]<<8|D[l++];for(v=0;v<S;++v){let I=D[l++]<<8|D[l++];v===0&&I!==0&&((0,n.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),I=0);const u=D[l++],y=D[l]<<8|D[l+1];for(let r=I;r<y;++r)N.push(u)}l+=2;break;default:throw new n.FormatError(`parseFDSelect: Unknown format "${Z}".`)}if(N.length!==b)throw new n.FormatError("parseFDSelect: Invalid font data.");return new Q(Z,N)}}h.CFFParser=L;class O{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new p,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,n.warn)("Not enough space in charstrings to duplicate first glyph.");return}const l=this.charStrings.get(0);this.charStrings.add(l),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(l){return l<0||l>=this.charStrings.count?!1:this.charStrings.get(l).length>0}}h.CFF=O;class f{constructor(l,b,D,Z){this.major=l,this.minor=b,this.hdrSize=D,this.offSize=Z}}h.CFFHeader=f;class p{constructor(){this.strings=[]}get(l){return l>=0&&l<=o-1?t[l]:l-o<=this.strings.length?this.strings[l-o]:t[0]}getSID(l){let b=t.indexOf(l);return b!==-1?b:(b=this.strings.indexOf(l),b!==-1?b+o:-1)}add(l){this.strings.push(l)}get count(){return this.strings.length}}h.CFFStrings=p;class i{constructor(){this.objects=[],this.length=0}add(l){this.length+=l.length,this.objects.push(l)}set(l,b){this.length+=b.length-this.objects[l].length,this.objects[l]=b}get(l){return this.objects[l]}get count(){return this.objects.length}}h.CFFIndex=i;class T{constructor(l,b){this.keyToNameMap=l.keyToNameMap,this.nameToKeyMap=l.nameToKeyMap,this.defaults=l.defaults,this.types=l.types,this.opcodes=l.opcodes,this.order=l.order,this.strings=b,this.values=Object.create(null)}setByKey(l,b){if(!(l in this.keyToNameMap))return!1;if(b.length===0)return!0;for(const Z of b)if(isNaN(Z))return(0,n.warn)(`Invalid CFFDict value: "${b}" for key "${l}".`),!0;const D=this.types[l];return(D==="num"||D==="sid"||D==="offset")&&(b=b[0]),this.values[l]=b,!0}setByName(l,b){if(!(l in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name "${l}"`);this.values[this.nameToKeyMap[l]]=b}hasName(l){return this.nameToKeyMap[l]in this.values}getByName(l){if(!(l in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name ${l}"`);const b=this.nameToKeyMap[l];return b in this.values?this.values[b]:this.defaults[b]}removeByName(l){delete this.values[this.nameToKeyMap[l]]}static createTables(l){const b={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const D of l){const Z=Array.isArray(D[0])?(D[0][0]<<8)+D[0][1]:D[0];b.keyToNameMap[Z]=D[1],b.nameToKeyMap[D[1]]=Z,b.types[Z]=D[2],b.defaults[Z]=D[3],b.opcodes[Z]=Array.isArray(D[0])?D[0]:[D[0]],b.order.push(Z)}return b}}const F=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class P extends T{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(F))}constructor(l){super(P.tables,l),this.privateDict=null}}h.CFFTopDict=P;const C=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class H extends T{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(C))}constructor(l){super(H.tables,l),this.subrsIndex=null}}h.CFFPrivateDict=H;const $={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class se{constructor(l,b,D,Z){this.predefined=l,this.format=b,this.charset=D,this.raw=Z}}h.CFFCharset=se;class _{constructor(l,b,D,Z){this.predefined=l,this.format=b,this.encoding=D,this.raw=Z}}class Q{constructor(l,b){this.format=l,this.fdSelect=b}getFDIndex(l){return l<0||l>=this.fdSelect.length?-1:this.fdSelect[l]}}h.CFFFDSelect=Q;class d{constructor(){this.offsets=Object.create(null)}isTracking(l){return l in this.offsets}track(l,b){if(l in this.offsets)throw new n.FormatError(`Already tracking location of ${l}`);this.offsets[l]=b}offset(l){for(const b in this.offsets)this.offsets[b]+=l}setEntryLocation(l,b,D){if(!(l in this.offsets))throw new n.FormatError(`Not tracking location of ${l}`);const Z=D.data,N=this.offsets[l],v=5;for(let S=0,I=b.length;S<I;++S){const u=S*v+N,y=u+1,r=u+2,A=u+3,E=u+4;if(Z[u]!==29||Z[y]!==0||Z[r]!==0||Z[A]!==0||Z[E]!==0)throw new n.FormatError("writing to an offset that is not empty");const G=b[S];Z[u]=29,Z[y]=G>>24&255,Z[r]=G>>16&255,Z[A]=G>>8&255,Z[E]=G&255}}}class w{constructor(l){this.cff=l}compile(){const l=this.cff,b={data:[],length:0,add(A){try{this.data.push(...A)}catch{this.data=this.data.concat(A)}this.length=this.data.length}},D=this.compileHeader(l.header);b.add(D);const Z=this.compileNameIndex(l.names);if(b.add(Z),l.isCIDFont&&l.topDict.hasName("FontMatrix")){const A=l.topDict.getByName("FontMatrix");l.topDict.removeByName("FontMatrix");for(const E of l.fdArray){let G=A.slice(0);E.hasName("FontMatrix")&&(G=n.Util.transform(G,E.getByName("FontMatrix"))),E.setByName("FontMatrix",G)}}const N=l.topDict.getByName("XUID");(N==null?void 0:N.length)>16&&l.topDict.removeByName("XUID"),l.topDict.setByName("charset",0);let v=this.compileTopDicts([l.topDict],b.length,l.isCIDFont);b.add(v.output);const S=v.trackers[0],I=this.compileStringIndex(l.strings.strings);b.add(I);const u=this.compileIndex(l.globalSubrIndex);if(b.add(u),l.encoding&&l.topDict.hasName("Encoding"))if(l.encoding.predefined)S.setEntryLocation("Encoding",[l.encoding.format],b);else{const A=this.compileEncoding(l.encoding);S.setEntryLocation("Encoding",[b.length],b),b.add(A)}const y=this.compileCharset(l.charset,l.charStrings.count,l.strings,l.isCIDFont);S.setEntryLocation("charset",[b.length],b),b.add(y);const r=this.compileCharStrings(l.charStrings);if(S.setEntryLocation("CharStrings",[b.length],b),b.add(r),l.isCIDFont){S.setEntryLocation("FDSelect",[b.length],b);const A=this.compileFDSelect(l.fdSelect);b.add(A),v=this.compileTopDicts(l.fdArray,b.length,!0),S.setEntryLocation("FDArray",[b.length],b),b.add(v.output);const E=v.trackers;this.compilePrivateDicts(l.fdArray,E,b)}return this.compilePrivateDicts([l.topDict],[S],b),b.add([0]),b.data}encodeNumber(l){return Number.isInteger(l)?this.encodeInteger(l):this.encodeFloat(l)}static get EncodeFloatRegExp(){return(0,n.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(l){let b=l.toString();const D=w.EncodeFloatRegExp.exec(b);if(D){const I=parseFloat("1e"+((D[2]?+D[2]:0)+D[1].length));b=(Math.round(l*I)/I).toString()}let Z="",N,v;for(N=0,v=b.length;N<v;++N){const I=b[N];I==="e"?Z+=b[++N]==="-"?"c":"b":I==="."?Z+="a":I==="-"?Z+="e":Z+=I}Z+=Z.length&1?"f":"ff";const S=[30];for(N=0,v=Z.length;N<v;N+=2)S.push(parseInt(Z.substring(N,N+2),16));return S}encodeInteger(l){let b;return l>=-107&&l<=107?b=[l+139]:l>=108&&l<=1131?(l-=108,b=[(l>>8)+247,l&255]):l>=-1131&&l<=-108?(l=-l-108,b=[(l>>8)+251,l&255]):l>=-32768&&l<=32767?b=[28,l>>8&255,l&255]:b=[29,l>>24&255,l>>16&255,l>>8&255,l&255],b}compileHeader(l){return[l.major,l.minor,4,l.offSize]}compileNameIndex(l){const b=new i;for(const D of l){const Z=Math.min(D.length,127);let N=new Array(Z);for(let v=0;v<Z;v++){let S=D[v];(S<"!"||S>"~"||S==="["||S==="]"||S==="("||S===")"||S==="{"||S==="}"||S==="<"||S===">"||S==="/"||S==="%")&&(S="_"),N[v]=S}N=N.join(""),N===""&&(N="Bad_Font_Name"),b.add((0,n.stringToBytes)(N))}return this.compileIndex(b)}compileTopDicts(l,b,D){const Z=[];let N=new i;for(const v of l){D&&(v.removeByName("CIDFontVersion"),v.removeByName("CIDFontRevision"),v.removeByName("CIDFontType"),v.removeByName("CIDCount"),v.removeByName("UIDBase"));const S=new d,I=this.compileDict(v,S);Z.push(S),N.add(I),S.offset(b)}return N=this.compileIndex(N,Z),{trackers:Z,output:N}}compilePrivateDicts(l,b,D){for(let Z=0,N=l.length;Z<N;++Z){const v=l[Z],S=v.privateDict;if(!S||!v.hasName("Private"))throw new n.FormatError("There must be a private dictionary.");const I=new d,u=this.compileDict(S,I);let y=D.length;if(I.offset(y),u.length||(y=0),b[Z].setEntryLocation("Private",[u.length,y],D),D.add(u),S.subrsIndex&&S.hasName("Subrs")){const r=this.compileIndex(S.subrsIndex);I.setEntryLocation("Subrs",[u.length],D),D.add(r)}}}compileDict(l,b){const D=[];for(const Z of l.order){if(!(Z in l.values))continue;let N=l.values[Z],v=l.types[Z];if(Array.isArray(v)||(v=[v]),Array.isArray(N)||(N=[N]),N.length!==0){for(let S=0,I=v.length;S<I;++S){const u=v[S],y=N[S];switch(u){case"num":case"sid":D.push(...this.encodeNumber(y));break;case"offset":const r=l.keyToNameMap[Z];b.isTracking(r)||b.track(r,D.length),D.push(29,0,0,0,0);break;case"array":case"delta":D.push(...this.encodeNumber(y));for(let A=1,E=N.length;A<E;++A)D.push(...this.encodeNumber(N[A]));break;default:throw new n.FormatError(`Unknown data type of ${u}`)}}D.push(...l.opcodes[Z])}}return D}compileStringIndex(l){const b=new i;for(const D of l)b.add((0,n.stringToBytes)(D));return this.compileIndex(b)}compileCharStrings(l){const b=new i;for(let D=0;D<l.count;D++){const Z=l.get(D);if(Z.length===0){b.add(new Uint8Array([139,14]));continue}b.add(Z)}return this.compileIndex(b)}compileCharset(l,b,D,Z){let N;const v=b-1;if(Z)N=new Uint8Array([2,0,0,v>>8&255,v&255]);else{const S=1+v*2;N=new Uint8Array(S),N[0]=0;let I=0;const u=l.charset.length;let y=!1;for(let r=1;r<N.length;r+=2){let A=0;if(I<u){const E=l.charset[I++];A=D.getSID(E),A===-1&&(A=0,y||(y=!0,(0,n.warn)(`Couldn't find ${E} in CFF strings`)))}N[r]=A>>8&255,N[r+1]=A&255}}return this.compileTypedArray(N)}compileEncoding(l){return this.compileTypedArray(l.raw)}compileFDSelect(l){const b=l.format;let D,Z;switch(b){case 0:for(D=new Uint8Array(1+l.fdSelect.length),D[0]=b,Z=0;Z<l.fdSelect.length;Z++)D[Z+1]=l.fdSelect[Z];break;case 3:const N=0;let v=l.fdSelect[0];const S=[b,0,0,N>>8&255,N&255,v];for(Z=1;Z<l.fdSelect.length;Z++){const u=l.fdSelect[Z];u!==v&&(S.push(Z>>8&255,Z&255,u),v=u)}const I=(S.length-3)/3;S[1]=I>>8&255,S[2]=I&255,S.push(Z>>8&255,Z&255),D=new Uint8Array(S);break}return this.compileTypedArray(D)}compileTypedArray(l){return Array.from(l)}compileIndex(l,b=[]){const D=l.objects,Z=D.length;if(Z===0)return[0,0];const N=[Z>>8&255,Z&255];let v=1,S;for(S=0;S<Z;++S)v+=D[S].length;let I;v<256?I=1:v<65536?I=2:v<16777216?I=3:I=4,N.push(I);let u=1;for(S=0;S<Z+1;S++)I===1?N.push(u&255):I===2?N.push(u>>8&255,u&255):I===3?N.push(u>>16&255,u>>8&255,u&255):N.push(u>>>24&255,u>>16&255,u>>8&255,u&255),D[S]&&(u+=D[S].length);for(S=0;S<Z;S++)b[S]&&b[S].offset(N.length),N.push(...D[S]);return N}}h.CFFCompiler=w},(Pe,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ISOAdobeCharset=h.ExpertSubsetCharset=h.ExpertCharset=void 0;const re=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];h.ISOAdobeCharset=re;const n=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];h.ExpertCharset=n;const x=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];h.ExpertSubsetCharset=x},(Pe,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ZapfDingbatsEncoding=h.WinAnsiEncoding=h.SymbolSetEncoding=h.StandardEncoding=h.MacRomanEncoding=h.ExpertEncoding=void 0,h.getEncoding=K;const re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];h.ExpertEncoding=re;const n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],x=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];h.MacRomanEncoding=x;const U=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];h.StandardEncoding=U;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];h.WinAnsiEncoding=e;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];h.SymbolSetEncoding=t;const o=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];h.ZapfDingbatsEncoding=o;function K(X){switch(X){case"WinAnsiEncoding":return e;case"StandardEncoding":return U;case"MacRomanEncoding":return x;case"SymbolSetEncoding":return t;case"ZapfDingbatsEncoding":return o;case"ExpertEncoding":return re;case"MacExpertEncoding":return n;default:return null}}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SEAC_ANALYSIS_ENABLED=h.MacStandardGlyphOrdering=h.FontFlags=void 0,h.normalizeFontName=O,h.recoverGlyphName=X,h.type1FontGlyphMapping=L;var n=re(37),x=re(39),U=re(40),e=re(2);const t=!0;h.SEAC_ANALYSIS_ENABLED=t;const o={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};h.FontFlags=o;const K=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];h.MacStandardGlyphOrdering=K;function X(f,p){if(p[f]!==void 0)return f;const i=(0,U.getUnicodeForGlyph)(f,p);if(i!==-1){for(const T in p)if(p[T]===i)return T}return(0,e.info)("Unable to recover a standard glyph name for: "+f),f}function L(f,p,i){const T=Object.create(null);let F,P,C;const H=!!(f.flags&o.Symbolic);if(f.isInternalFont)for(C=p,P=0;P<C.length;P++)F=i.indexOf(C[P]),T[P]=F>=0?F:0;else if(f.baseEncodingName)for(C=(0,n.getEncoding)(f.baseEncodingName),P=0;P<C.length;P++)F=i.indexOf(C[P]),T[P]=F>=0?F:0;else if(H)for(P in p)T[P]=p[P];else for(C=n.StandardEncoding,P=0;P<C.length;P++)F=i.indexOf(C[P]),T[P]=F>=0?F:0;const $=f.differences;let se;if($)for(P in $){const _=$[P];if(F=i.indexOf(_),F===-1){se||(se=(0,x.getGlyphsUnicode)());const Q=X(_,se);Q!==_&&(F=i.indexOf(Q))}T[P]=F>=0?F:0}return T}function O(f){return f.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.getGlyphsUnicode=h.getDingbatsGlyphsUnicode=void 0;var n=re(3);const x=(0,n.getLookupTableFactory)(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052,e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36,e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.f_f=64256,e.ffi=64259,e.f_f_i=64259,e.ffl=64260,e.f_f_l=64260,e.fi=64257,e.f_i=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.f_l=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222,e.kmonospace=65355,e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.planckover2pi=8463,e.planckover2pi1=8463,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431,e.reviamugrashhebrew=1431,e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657,e.whiterightpointingtriangle=9655,e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[".notdef"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739});h.getGlyphsUnicode=x;const U=(0,n.getLookupTableFactory)(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[".notdef"]=0});h.getDingbatsGlyphsUnicode=U},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.clearUnicodeCaches=O,h.getCharUnicodeCategory=L,h.getUnicodeForGlyph=e,h.getUnicodeRangeFor=o,h.mapSpecialUnicodeValues=U;var n=re(3);const x=(0,n.getLookupTableFactory)(function(f){f[63721]=169,f[63193]=169,f[63720]=174,f[63194]=174,f[63722]=8482,f[63195]=8482,f[63729]=9127,f[63730]=9128,f[63731]=9129,f[63740]=9131,f[63741]=9132,f[63742]=9133,f[63726]=9121,f[63727]=9122,f[63728]=9123,f[63737]=9124,f[63738]=9125,f[63739]=9126,f[63723]=9115,f[63724]=9116,f[63725]=9117,f[63734]=9118,f[63735]=9119,f[63736]=9120});function U(f){return f>=65520&&f<=65535?0:f>=62976&&f<=63743?x()[f]||f:f===173?45:f}function e(f,p){let i=p[f];if(i!==void 0)return i;if(!f)return-1;if(f[0]==="u"){const T=f.length;let F;if(T===7&&f[1]==="n"&&f[2]==="i")F=f.substring(3);else if(T>=5&&T<=7)F=f.substring(1);else return-1;if(F===F.toUpperCase()&&(i=parseInt(F,16),i>=0))return i}return-1}const t=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function o(f,p=-1){if(p!==-1){const i=t[p];for(let T=0,F=i.length;T<F;T+=2)if(f>=i[T]&&f<=i[T+1])return p}for(let i=0,T=t.length;i<T;i++){const F=t[i];for(let P=0,C=F.length;P<C;P+=2)if(f>=F[P]&&f<=F[P+1])return i}return-1}const K=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),X=new Map;function L(f){const p=X.get(f);if(p)return p;const i=f.match(K),T={isWhitespace:!!(i!=null&&i[1]),isZeroWidthDiacritic:!!(i!=null&&i[2]),isInvisibleFormatMark:!!(i!=null&&i[3])};return X.set(f,T),T}function O(){X.clear()}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.getSerifFonts=h.getNonStdFontMap=h.getGlyphMapForStandardFonts=h.getFontNameToFileMap=void 0,h.getStandardFontName=f,h.getSymbolsFonts=h.getSupplementalGlyphMapForCalibri=h.getSupplementalGlyphMapForArialBlack=h.getStdFontMap=void 0,h.isKnownFontName=p;var n=re(3),x=re(38);const U=(0,n.getLookupTableFactory)(function(i){i["Times-Roman"]="Times-Roman",i.Helvetica="Helvetica",i.Courier="Courier",i.Symbol="Symbol",i["Times-Bold"]="Times-Bold",i["Helvetica-Bold"]="Helvetica-Bold",i["Courier-Bold"]="Courier-Bold",i.ZapfDingbats="ZapfDingbats",i["Times-Italic"]="Times-Italic",i["Helvetica-Oblique"]="Helvetica-Oblique",i["Courier-Oblique"]="Courier-Oblique",i["Times-BoldItalic"]="Times-BoldItalic",i["Helvetica-BoldOblique"]="Helvetica-BoldOblique",i["Courier-BoldOblique"]="Courier-BoldOblique",i.ArialNarrow="Helvetica",i["ArialNarrow-Bold"]="Helvetica-Bold",i["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",i["ArialNarrow-Italic"]="Helvetica-Oblique",i.ArialBlack="Helvetica",i["ArialBlack-Bold"]="Helvetica-Bold",i["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",i["ArialBlack-Italic"]="Helvetica-Oblique",i["Arial-Black"]="Helvetica",i["Arial-Black-Bold"]="Helvetica-Bold",i["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Black-Italic"]="Helvetica-Oblique",i.Arial="Helvetica",i["Arial-Bold"]="Helvetica-Bold",i["Arial-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Italic"]="Helvetica-Oblique",i.ArialMT="Helvetica",i["Arial-BoldItalicMT"]="Helvetica-BoldOblique",i["Arial-BoldMT"]="Helvetica-Bold",i["Arial-ItalicMT"]="Helvetica-Oblique",i["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",i["Arial-BoldMT-Bold"]="Helvetica-Bold",i["Arial-ItalicMT-Italic"]="Helvetica-Oblique",i.ArialUnicodeMS="Helvetica",i["ArialUnicodeMS-Bold"]="Helvetica-Bold",i["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",i["ArialUnicodeMS-Italic"]="Helvetica-Oblique",i["Courier-BoldItalic"]="Courier-BoldOblique",i["Courier-Italic"]="Courier-Oblique",i.CourierNew="Courier",i["CourierNew-Bold"]="Courier-Bold",i["CourierNew-BoldItalic"]="Courier-BoldOblique",i["CourierNew-Italic"]="Courier-Oblique",i["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",i["CourierNewPS-BoldMT"]="Courier-Bold",i["CourierNewPS-ItalicMT"]="Courier-Oblique",i.CourierNewPSMT="Courier",i["Helvetica-BoldItalic"]="Helvetica-BoldOblique",i["Helvetica-Italic"]="Helvetica-Oblique",i["Symbol-Bold"]="Symbol",i["Symbol-BoldItalic"]="Symbol",i["Symbol-Italic"]="Symbol",i.TimesNewRoman="Times-Roman",i["TimesNewRoman-Bold"]="Times-Bold",i["TimesNewRoman-BoldItalic"]="Times-BoldItalic",i["TimesNewRoman-Italic"]="Times-Italic",i.TimesNewRomanPS="Times-Roman",i["TimesNewRomanPS-Bold"]="Times-Bold",i["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",i["TimesNewRomanPS-BoldMT"]="Times-Bold",i["TimesNewRomanPS-Italic"]="Times-Italic",i["TimesNewRomanPS-ItalicMT"]="Times-Italic",i.TimesNewRomanPSMT="Times-Roman",i["TimesNewRomanPSMT-Bold"]="Times-Bold",i["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPSMT-Italic"]="Times-Italic"});h.getStdFontMap=U;const e=(0,n.getLookupTableFactory)(function(i){i.Courier="FoxitFixed.pfb",i["Courier-Bold"]="FoxitFixedBold.pfb",i["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",i["Courier-Oblique"]="FoxitFixedItalic.pfb",i.Helvetica="LiberationSans-Regular.ttf",i["Helvetica-Bold"]="LiberationSans-Bold.ttf",i["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",i["Helvetica-Oblique"]="LiberationSans-Italic.ttf",i["Times-Roman"]="FoxitSerif.pfb",i["Times-Bold"]="FoxitSerifBold.pfb",i["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",i["Times-Italic"]="FoxitSerifItalic.pfb",i.Symbol="FoxitSymbol.pfb",i.ZapfDingbats="FoxitDingbats.pfb",i["LiberationSans-Regular"]="LiberationSans-Regular.ttf",i["LiberationSans-Bold"]="LiberationSans-Bold.ttf",i["LiberationSans-Italic"]="LiberationSans-Italic.ttf",i["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});h.getFontNameToFileMap=e;const t=(0,n.getLookupTableFactory)(function(i){i.Calibri="Helvetica",i["Calibri-Bold"]="Helvetica-Bold",i["Calibri-BoldItalic"]="Helvetica-BoldOblique",i["Calibri-Italic"]="Helvetica-Oblique",i.CenturyGothic="Helvetica",i["CenturyGothic-Bold"]="Helvetica-Bold",i["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",i["CenturyGothic-Italic"]="Helvetica-Oblique",i.ComicSansMS="Comic Sans MS",i["ComicSansMS-Bold"]="Comic Sans MS-Bold",i["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",i["ComicSansMS-Italic"]="Comic Sans MS-Italic",i.Impact="Helvetica",i["ItcSymbol-Bold"]="Helvetica-Bold",i["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",i["ItcSymbol-Book"]="Helvetica",i["ItcSymbol-BookItalic"]="Helvetica-Oblique",i["ItcSymbol-Medium"]="Helvetica",i["ItcSymbol-MediumItalic"]="Helvetica-Oblique",i.LucidaConsole="Courier",i["LucidaConsole-Bold"]="Courier-Bold",i["LucidaConsole-BoldItalic"]="Courier-BoldOblique",i["LucidaConsole-Italic"]="Courier-Oblique",i["LucidaSans-Demi"]="Helvetica-Bold",i["MS-Gothic"]="MS Gothic",i["MS-Gothic-Bold"]="MS Gothic-Bold",i["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",i["MS-Gothic-Italic"]="MS Gothic-Italic",i["MS-Mincho"]="MS Mincho",i["MS-Mincho-Bold"]="MS Mincho-Bold",i["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",i["MS-Mincho-Italic"]="MS Mincho-Italic",i["MS-PGothic"]="MS PGothic",i["MS-PGothic-Bold"]="MS PGothic-Bold",i["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",i["MS-PGothic-Italic"]="MS PGothic-Italic",i["MS-PMincho"]="MS PMincho",i["MS-PMincho-Bold"]="MS PMincho-Bold",i["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",i["MS-PMincho-Italic"]="MS PMincho-Italic",i.NuptialScript="Times-Italic",i.SegoeUISymbol="Helvetica"});h.getNonStdFontMap=t;const o=(0,n.getLookupTableFactory)(function(i){i["Adobe Jenson"]=!0,i["Adobe Text"]=!0,i.Albertus=!0,i.Aldus=!0,i.Alexandria=!0,i.Algerian=!0,i["American Typewriter"]=!0,i.Antiqua=!0,i.Apex=!0,i.Arno=!0,i.Aster=!0,i.Aurora=!0,i.Baskerville=!0,i.Bell=!0,i.Bembo=!0,i["Bembo Schoolbook"]=!0,i.Benguiat=!0,i["Berkeley Old Style"]=!0,i["Bernhard Modern"]=!0,i["Berthold City"]=!0,i.Bodoni=!0,i["Bauer Bodoni"]=!0,i["Book Antiqua"]=!0,i.Bookman=!0,i["Bordeaux Roman"]=!0,i["Californian FB"]=!0,i.Calisto=!0,i.Calvert=!0,i.Capitals=!0,i.Cambria=!0,i.Cartier=!0,i.Caslon=!0,i.Catull=!0,i.Centaur=!0,i["Century Old Style"]=!0,i["Century Schoolbook"]=!0,i.Chaparral=!0,i["Charis SIL"]=!0,i.Cheltenham=!0,i["Cholla Slab"]=!0,i.Clarendon=!0,i.Clearface=!0,i.Cochin=!0,i.Colonna=!0,i["Computer Modern"]=!0,i["Concrete Roman"]=!0,i.Constantia=!0,i["Cooper Black"]=!0,i.Corona=!0,i.Ecotype=!0,i.Egyptienne=!0,i.Elephant=!0,i.Excelsior=!0,i.Fairfield=!0,i["FF Scala"]=!0,i.Folkard=!0,i.Footlight=!0,i.FreeSerif=!0,i["Friz Quadrata"]=!0,i.Garamond=!0,i.Gentium=!0,i.Georgia=!0,i.Gloucester=!0,i["Goudy Old Style"]=!0,i["Goudy Schoolbook"]=!0,i["Goudy Pro Font"]=!0,i.Granjon=!0,i["Guardian Egyptian"]=!0,i.Heather=!0,i.Hercules=!0,i["High Tower Text"]=!0,i.Hiroshige=!0,i["Hoefler Text"]=!0,i["Humana Serif"]=!0,i.Imprint=!0,i["Ionic No. 5"]=!0,i.Janson=!0,i.Joanna=!0,i.Korinna=!0,i.Lexicon=!0,i.LiberationSerif=!0,i["Liberation Serif"]=!0,i["Linux Libertine"]=!0,i.Literaturnaya=!0,i.Lucida=!0,i["Lucida Bright"]=!0,i.Melior=!0,i.Memphis=!0,i.Miller=!0,i.Minion=!0,i.Modern=!0,i["Mona Lisa"]=!0,i["Mrs Eaves"]=!0,i["MS Serif"]=!0,i["Museo Slab"]=!0,i["New York"]=!0,i["Nimbus Roman"]=!0,i["NPS Rawlinson Roadway"]=!0,i.NuptialScript=!0,i.Palatino=!0,i.Perpetua=!0,i.Plantin=!0,i["Plantin Schoolbook"]=!0,i.Playbill=!0,i["Poor Richard"]=!0,i["Rawlinson Roadway"]=!0,i.Renault=!0,i.Requiem=!0,i.Rockwell=!0,i.Roman=!0,i["Rotis Serif"]=!0,i.Sabon=!0,i.Scala=!0,i.Seagull=!0,i.Sistina=!0,i.Souvenir=!0,i.STIX=!0,i["Stone Informal"]=!0,i["Stone Serif"]=!0,i.Sylfaen=!0,i.Times=!0,i.Trajan=!0,i.Trinité=!0,i["Trump Mediaeval"]=!0,i.Utopia=!0,i["Vale Type"]=!0,i["Bitstream Vera"]=!0,i["Vera Serif"]=!0,i.Versailles=!0,i.Wanted=!0,i.Weiss=!0,i["Wide Latin"]=!0,i.Windsor=!0,i.XITS=!0});h.getSerifFonts=o;const K=(0,n.getLookupTableFactory)(function(i){i.Dingbats=!0,i.Symbol=!0,i.ZapfDingbats=!0,i.Wingdings=!0,i["Wingdings-Bold"]=!0,i["Wingdings-Regular"]=!0});h.getSymbolsFonts=K;const X=(0,n.getLookupTableFactory)(function(i){i[2]=10,i[3]=32,i[4]=33,i[5]=34,i[6]=35,i[7]=36,i[8]=37,i[9]=38,i[10]=39,i[11]=40,i[12]=41,i[13]=42,i[14]=43,i[15]=44,i[16]=45,i[17]=46,i[18]=47,i[19]=48,i[20]=49,i[21]=50,i[22]=51,i[23]=52,i[24]=53,i[25]=54,i[26]=55,i[27]=56,i[28]=57,i[29]=58,i[30]=894,i[31]=60,i[32]=61,i[33]=62,i[34]=63,i[35]=64,i[36]=65,i[37]=66,i[38]=67,i[39]=68,i[40]=69,i[41]=70,i[42]=71,i[43]=72,i[44]=73,i[45]=74,i[46]=75,i[47]=76,i[48]=77,i[49]=78,i[50]=79,i[51]=80,i[52]=81,i[53]=82,i[54]=83,i[55]=84,i[56]=85,i[57]=86,i[58]=87,i[59]=88,i[60]=89,i[61]=90,i[62]=91,i[63]=92,i[64]=93,i[65]=94,i[66]=95,i[67]=96,i[68]=97,i[69]=98,i[70]=99,i[71]=100,i[72]=101,i[73]=102,i[74]=103,i[75]=104,i[76]=105,i[77]=106,i[78]=107,i[79]=108,i[80]=109,i[81]=110,i[82]=111,i[83]=112,i[84]=113,i[85]=114,i[86]=115,i[87]=116,i[88]=117,i[89]=118,i[90]=119,i[91]=120,i[92]=121,i[93]=122,i[94]=123,i[95]=124,i[96]=125,i[97]=126,i[98]=196,i[99]=197,i[100]=199,i[101]=201,i[102]=209,i[103]=214,i[104]=220,i[105]=225,i[106]=224,i[107]=226,i[108]=228,i[109]=227,i[110]=229,i[111]=231,i[112]=233,i[113]=232,i[114]=234,i[115]=235,i[116]=237,i[117]=236,i[118]=238,i[119]=239,i[120]=241,i[121]=243,i[122]=242,i[123]=244,i[124]=246,i[125]=245,i[126]=250,i[127]=249,i[128]=251,i[129]=252,i[130]=8224,i[131]=176,i[132]=162,i[133]=163,i[134]=167,i[135]=8226,i[136]=182,i[137]=223,i[138]=174,i[139]=169,i[140]=8482,i[141]=180,i[142]=168,i[143]=8800,i[144]=198,i[145]=216,i[146]=8734,i[147]=177,i[148]=8804,i[149]=8805,i[150]=165,i[151]=181,i[152]=8706,i[153]=8721,i[154]=8719,i[156]=8747,i[157]=170,i[158]=186,i[159]=8486,i[160]=230,i[161]=248,i[162]=191,i[163]=161,i[164]=172,i[165]=8730,i[166]=402,i[167]=8776,i[168]=8710,i[169]=171,i[170]=187,i[171]=8230,i[179]=8220,i[180]=8221,i[181]=8216,i[182]=8217,i[200]=193,i[203]=205,i[207]=211,i[210]=218,i[223]=711,i[224]=321,i[225]=322,i[226]=352,i[227]=353,i[228]=381,i[229]=382,i[233]=221,i[234]=253,i[252]=263,i[253]=268,i[254]=269,i[258]=258,i[260]=260,i[261]=261,i[265]=280,i[266]=281,i[267]=282,i[268]=283,i[269]=313,i[275]=323,i[276]=324,i[278]=328,i[283]=344,i[284]=345,i[285]=346,i[286]=347,i[292]=367,i[295]=377,i[296]=378,i[298]=380,i[305]=963,i[306]=964,i[307]=966,i[308]=8215,i[309]=8252,i[310]=8319,i[311]=8359,i[312]=8592,i[313]=8593,i[337]=9552,i[493]=1039,i[494]=1040,i[672]=1488,i[673]=1489,i[674]=1490,i[675]=1491,i[676]=1492,i[677]=1493,i[678]=1494,i[679]=1495,i[680]=1496,i[681]=1497,i[682]=1498,i[683]=1499,i[684]=1500,i[685]=1501,i[686]=1502,i[687]=1503,i[688]=1504,i[689]=1505,i[690]=1506,i[691]=1507,i[692]=1508,i[693]=1509,i[694]=1510,i[695]=1511,i[696]=1512,i[697]=1513,i[698]=1514,i[705]=1524,i[706]=8362,i[710]=64288,i[711]=64298,i[759]=1617,i[761]=1776,i[763]=1778,i[775]=1652,i[777]=1764,i[778]=1780,i[779]=1781,i[780]=1782,i[782]=771,i[783]=64726,i[786]=8363,i[788]=8532,i[790]=768,i[791]=769,i[792]=768,i[795]=803,i[797]=64336,i[798]=64337,i[799]=64342,i[800]=64343,i[801]=64344,i[802]=64345,i[803]=64362,i[804]=64363,i[805]=64364,i[2424]=7821,i[2425]=7822,i[2426]=7823,i[2427]=7824,i[2428]=7825,i[2429]=7826,i[2430]=7827,i[2433]=7682,i[2678]=8045,i[2679]=8046,i[2830]=1552,i[2838]=686,i[2840]=751,i[2842]=753,i[2843]=754,i[2844]=755,i[2846]=757,i[2856]=767,i[2857]=848,i[2858]=849,i[2862]=853,i[2863]=854,i[2864]=855,i[2865]=861,i[2866]=862,i[2906]=7460,i[2908]=7462,i[2909]=7463,i[2910]=7464,i[2912]=7466,i[2913]=7467,i[2914]=7468,i[2916]=7470,i[2917]=7471,i[2918]=7472,i[2920]=7474,i[2921]=7475,i[2922]=7476,i[2924]=7478,i[2925]=7479,i[2926]=7480,i[2928]=7482,i[2929]=7483,i[2930]=7484,i[2932]=7486,i[2933]=7487,i[2934]=7488,i[2936]=7490,i[2937]=7491,i[2938]=7492,i[2940]=7494,i[2941]=7495,i[2942]=7496,i[2944]=7498,i[2946]=7500,i[2948]=7502,i[2950]=7504,i[2951]=7505,i[2952]=7506,i[2954]=7508,i[2955]=7509,i[2956]=7510,i[2958]=7512,i[2959]=7513,i[2960]=7514,i[2962]=7516,i[2963]=7517,i[2964]=7518,i[2966]=7520,i[2967]=7521,i[2968]=7522,i[2970]=7524,i[2971]=7525,i[2972]=7526,i[2974]=7528,i[2975]=7529,i[2976]=7530,i[2978]=1537,i[2979]=1538,i[2980]=1539,i[2982]=1549,i[2983]=1551,i[2984]=1552,i[2986]=1554,i[2987]=1555,i[2988]=1556,i[2990]=1623,i[2991]=1624,i[2995]=1775,i[2999]=1791,i[3002]=64290,i[3003]=64291,i[3004]=64292,i[3006]=64294,i[3007]=64295,i[3008]=64296,i[3011]=1900,i[3014]=8223,i[3015]=8244,i[3017]=7532,i[3018]=7533,i[3019]=7534,i[3075]=7590,i[3076]=7591,i[3079]=7594,i[3080]=7595,i[3083]=7598,i[3084]=7599,i[3087]=7602,i[3088]=7603,i[3091]=7606,i[3092]=7607,i[3095]=7610,i[3096]=7611,i[3099]=7614,i[3100]=7615,i[3103]=7618,i[3104]=7619,i[3107]=8337,i[3108]=8338,i[3116]=1884,i[3119]=1885,i[3120]=1885,i[3123]=1886,i[3124]=1886,i[3127]=1887,i[3128]=1887,i[3131]=1888,i[3132]=1888,i[3135]=1889,i[3136]=1889,i[3139]=1890,i[3140]=1890,i[3143]=1891,i[3144]=1891,i[3147]=1892,i[3148]=1892,i[3153]=580,i[3154]=581,i[3157]=584,i[3158]=585,i[3161]=588,i[3162]=589,i[3165]=891,i[3166]=892,i[3169]=1274,i[3170]=1275,i[3173]=1278,i[3174]=1279,i[3181]=7622,i[3182]=7623,i[3282]=11799,i[3316]=578,i[3379]=42785,i[3393]=1159,i[3416]=8377});h.getGlyphMapForStandardFonts=X;const L=(0,n.getLookupTableFactory)(function(i){i[227]=322,i[264]=261,i[291]=346});h.getSupplementalGlyphMapForArialBlack=L;const O=(0,n.getLookupTableFactory)(function(i){i[1]=32,i[4]=65,i[5]=192,i[6]=193,i[9]=196,i[17]=66,i[18]=67,i[21]=268,i[24]=68,i[28]=69,i[29]=200,i[30]=201,i[32]=282,i[38]=70,i[39]=71,i[44]=72,i[47]=73,i[48]=204,i[49]=205,i[58]=74,i[60]=75,i[62]=76,i[68]=77,i[69]=78,i[75]=79,i[76]=210,i[80]=214,i[87]=80,i[89]=81,i[90]=82,i[92]=344,i[94]=83,i[97]=352,i[100]=84,i[104]=85,i[109]=220,i[115]=86,i[116]=87,i[121]=88,i[122]=89,i[124]=221,i[127]=90,i[129]=381,i[258]=97,i[259]=224,i[260]=225,i[263]=228,i[268]=261,i[271]=98,i[272]=99,i[273]=263,i[275]=269,i[282]=100,i[286]=101,i[287]=232,i[288]=233,i[290]=283,i[295]=281,i[296]=102,i[336]=103,i[346]=104,i[349]=105,i[350]=236,i[351]=237,i[361]=106,i[364]=107,i[367]=108,i[371]=322,i[373]=109,i[374]=110,i[381]=111,i[382]=242,i[383]=243,i[386]=246,i[393]=112,i[395]=113,i[396]=114,i[398]=345,i[400]=115,i[401]=347,i[403]=353,i[410]=116,i[437]=117,i[442]=252,i[448]=118,i[449]=119,i[454]=120,i[455]=121,i[457]=253,i[460]=122,i[462]=382,i[463]=380,i[853]=44,i[855]=58,i[856]=46,i[876]=47,i[878]=45,i[882]=45,i[894]=40,i[895]=41,i[896]=91,i[897]=93,i[923]=64,i[1004]=48,i[1005]=49,i[1006]=50,i[1007]=51,i[1008]=52,i[1009]=53,i[1010]=54,i[1011]=55,i[1012]=56,i[1013]=57,i[1081]=37,i[1085]=43,i[1086]=45});h.getSupplementalGlyphMapForCalibri=O;function f(i){const T=(0,x.normalizeFontName)(i);return U()[T]}function p(i){const T=(0,x.normalizeFontName)(i);return!!(U()[T]||t()[T]||o()[T]||K()[T])}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ToUnicodeMap=h.IdentityToUnicodeMap=void 0;var n=re(2);class x{constructor(t=[]){this._map=t}get length(){return this._map.length}forEach(t){for(const o in this._map)t(o,this._map[o].charCodeAt(0))}has(t){return this._map[t]!==void 0}get(t){return this._map[t]}charCodeOf(t){const o=this._map;if(o.length<=65536)return o.indexOf(t);for(const K in o)if(o[K]===t)return K|0;return-1}amend(t){for(const o in t)this._map[o]=t[o]}}h.ToUnicodeMap=x;class U{constructor(t,o){this.firstChar=t,this.lastChar=o}get length(){return this.lastChar+1-this.firstChar}forEach(t){for(let o=this.firstChar,K=this.lastChar;o<=K;o++)t(o,o)}has(t){return this.firstChar<=t&&t<=this.lastChar}get(t){if(this.firstChar<=t&&t<=this.lastChar)return String.fromCharCode(t)}charCodeOf(t){return Number.isInteger(t)&&t>=this.firstChar&&t<=this.lastChar?t:-1}amend(t){(0,n.unreachable)("Should not call amend()")}}h.IdentityToUnicodeMap=U},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CFFFont=void 0;var n=re(35),x=re(38),U=re(2);class e{constructor(o,K){this.properties=K;const X=new n.CFFParser(o,K,x.SEAC_ANALYSIS_ENABLED);this.cff=X.parse(),this.cff.duplicateFirstGlyph();const L=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=L.compile()}catch{(0,U.warn)("Failed to compile font "+K.loadedName),this.data=o}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const o=this.cff,K=this.properties,{cidToGidMap:X,cMap:L}=K,O=o.charset.charset;let f,p;if(K.composite){let T;if((X==null?void 0:X.length)>0){T=Object.create(null);for(let P=0,C=X.length;P<C;P++){const H=X[P];H!==void 0&&(T[H]=P)}}f=Object.create(null);let F;if(o.isCIDFont)for(p=0;p<O.length;p++){const P=O[p];F=L.charCodeOf(P),(T==null?void 0:T[F])!==void 0&&(F=T[F]),f[F]=p}else for(p=0;p<o.charStrings.count;p++)F=L.charCodeOf(p),f[F]=p;return f}let i=o.encoding?o.encoding.encoding:null;return K.isInternalFont&&(i=K.defaultEncoding),f=(0,x.type1FontGlyphMapping)(K,i,O),f}hasGlyphId(o){return this.cff.hasGlyphId(o)}_createBuiltInEncoding(){const{charset:o,encoding:K}=this.cff;if(!o||!K)return;const X=o.charset,L=K.encoding,O=[];for(const f in L){const p=L[f];if(p>=0){const i=X[p];i&&(O[f]=i)}}O.length>0&&(this.properties.builtInEncoding=O)}}h.CFFFont=e},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FontRendererFactory=void 0;var n=re(2),x=re(35),U=re(39),e=re(37),t=re(8);function o(d,w){return(d[w]<<24|d[w+1]<<16|d[w+2]<<8|d[w+3])>>>0}function K(d,w){return d[w]<<8|d[w+1]}function X(d,w){return(d[w]<<24|d[w+1]<<16)>>16}function L(d,w){return d[w]<<24>>24}function O(d,w){return X(d,w)/16384}function f(d){const w=d.length;let q=32768;return w<1240?q=107:w<33900&&(q=1131),q}function p(d,w,q){const l=K(d,w+2)===1?o(d,w+8):o(d,w+16),b=K(d,w+l);let D,Z,N;if(b===4){K(d,w+l+2);const v=K(d,w+l+6)>>1;for(Z=w+l+14,D=[],N=0;N<v;N++,Z+=2)D[N]={end:K(d,Z)};for(Z+=2,N=0;N<v;N++,Z+=2)D[N].start=K(d,Z);for(N=0;N<v;N++,Z+=2)D[N].idDelta=K(d,Z);for(N=0;N<v;N++,Z+=2){let S=K(d,Z);if(S!==0){D[N].ids=[];for(let I=0,u=D[N].end-D[N].start+1;I<u;I++)D[N].ids[I]=K(d,Z+S),S+=2}}return D}else if(b===12){const v=o(d,w+l+12);for(Z=w+l+16,D=[],N=0;N<v;N++)w=o(d,Z),D.push({start:w,end:o(d,Z+4),idDelta:o(d,Z+8)-w}),Z+=12;return D}throw new n.FormatError(`unsupported cmap: ${b}`)}function i(d,w,q,l){var N,v,S;const b={},Z=new x.CFFParser(new t.Stream(d,w,q-w),b,l).parse();return{glyphs:Z.charStrings.objects,subrs:(v=(N=Z.topDict.privateDict)==null?void 0:N.subrsIndex)==null?void 0:v.objects,gsubrs:(S=Z.globalSubrIndex)==null?void 0:S.objects,isCFFCIDFont:Z.isCIDFont,fdSelect:Z.fdSelect,fdArray:Z.fdArray}}function T(d,w,q){let l,b;q?(l=4,b=o):(l=2,b=(N,v)=>2*K(N,v));const D=[];let Z=b(w,0);for(let N=l;N<w.length;N+=l){const v=b(w,N);D.push(d.subarray(Z,v)),Z=v}return D}function F(d,w){const q=w.codePointAt(0);let l=0,b=0,D=d.length-1;for(;b<D;){const Z=b+D+1>>1;q<d[Z].start?D=Z-1:b=Z}return d[b].start<=q&&q<=d[b].end&&(l=d[b].idDelta+(d[b].ids?d[b].ids[q-d[b].start]:q)&65535),{charCode:q,glyphId:l}}function P(d,w,q){function l(u,y){w.push({cmd:"moveTo",args:[u,y]})}function b(u,y){w.push({cmd:"lineTo",args:[u,y]})}function D(u,y,r,A){w.push({cmd:"quadraticCurveTo",args:[u,y,r,A]})}let Z=0;const N=X(d,Z);let v,S=0,I=0;if(Z+=10,N<0)do{v=K(d,Z);const u=K(d,Z+2);Z+=4;let y,r;v&1?(v&2?(y=X(d,Z),r=X(d,Z+2)):(y=K(d,Z),r=K(d,Z+2)),Z+=4):v&2?(y=L(d,Z++),r=L(d,Z++)):(y=d[Z++],r=d[Z++]),v&2?(S=y,I=r):(S=0,I=0);let A=1,E=1,G=0,ae=0;v&8?(A=E=O(d,Z),Z+=2):v&64?(A=O(d,Z),E=O(d,Z+2),Z+=4):v&128&&(A=O(d,Z),G=O(d,Z+2),ae=O(d,Z+4),E=O(d,Z+6),Z+=8);const ce=q.glyphs[u];ce&&(w.push({cmd:"save"},{cmd:"transform",args:[A,G,ae,E,S,I]}),P(ce,w,q),w.push({cmd:"restore"}))}while(v&32);else{const u=[];let y,r;for(y=0;y<N;y++)u.push(K(d,Z)),Z+=2;const A=K(d,Z);Z+=2+A;const E=u.at(-1)+1,G=[];for(;G.length<E;){v=d[Z++];let ce=1;for(v&8&&(ce+=d[Z++]);ce-- >0;)G.push({flags:v})}for(y=0;y<E;y++){switch(G[y].flags&18){case 0:S+=X(d,Z),Z+=2;break;case 2:S-=d[Z++];break;case 18:S+=d[Z++];break}G[y].x=S}for(y=0;y<E;y++){switch(G[y].flags&36){case 0:I+=X(d,Z),Z+=2;break;case 4:I-=d[Z++];break;case 36:I+=d[Z++];break}G[y].y=I}let ae=0;for(Z=0;Z<N;Z++){const ce=u[Z],Ie=G.slice(ae,ce+1);if(Ie[0].flags&1)Ie.push(Ie[0]);else if(Ie.at(-1).flags&1)Ie.unshift(Ie.at(-1));else{const fe={flags:1,x:(Ie[0].x+Ie.at(-1).x)/2,y:(Ie[0].y+Ie.at(-1).y)/2};Ie.unshift(fe),Ie.push(fe)}for(l(Ie[0].x,Ie[0].y),y=1,r=Ie.length;y<r;y++)Ie[y].flags&1?b(Ie[y].x,Ie[y].y):Ie[y+1].flags&1?(D(Ie[y].x,Ie[y].y,Ie[y+1].x,Ie[y+1].y),y++):D(Ie[y].x,Ie[y].y,(Ie[y].x+Ie[y+1].x)/2,(Ie[y].y+Ie[y+1].y)/2);ae=ce+1}}}function C(d,w,q,l){function b(y,r){w.push({cmd:"moveTo",args:[y,r]})}function D(y,r){w.push({cmd:"lineTo",args:[y,r]})}function Z(y,r,A,E,G,ae){w.push({cmd:"bezierCurveTo",args:[y,r,A,E,G,ae]})}const N=[];let v=0,S=0,I=0;function u(y){var A;let r=0;for(;r<y.length;){let E=!1,G=y[r++],ae,ce,Ie,fe,Te,be,ve,te,ie;switch(G){case 1:I+=N.length>>1,E=!0;break;case 3:I+=N.length>>1,E=!0;break;case 4:S+=N.pop(),b(v,S),E=!0;break;case 5:for(;N.length>0;)v+=N.shift(),S+=N.shift(),D(v,S);break;case 6:for(;N.length>0&&(v+=N.shift(),D(v,S),N.length!==0);)S+=N.shift(),D(v,S);break;case 7:for(;N.length>0&&(S+=N.shift(),D(v,S),N.length!==0);)v+=N.shift(),D(v,S);break;case 8:for(;N.length>0;)ae=v+N.shift(),Ie=S+N.shift(),ce=ae+N.shift(),fe=Ie+N.shift(),v=ce+N.shift(),S=fe+N.shift(),Z(ae,Ie,ce,fe,v,S);break;case 10:if(te=N.pop(),ie=null,q.isCFFCIDFont){const ge=q.fdSelect.getFDIndex(l);if(ge>=0&&ge<q.fdArray.length){const he=q.fdArray[ge];let ue;(A=he.privateDict)!=null&&A.subrsIndex&&(ue=he.privateDict.subrsIndex.objects),ue&&(te+=f(ue),ie=ue[te])}else(0,n.warn)("Invalid fd index for glyph index.")}else ie=q.subrs[te+q.subrsBias];ie&&u(ie);break;case 11:return;case 12:switch(G=y[r++],G){case 34:ae=v+N.shift(),ce=ae+N.shift(),Te=S+N.shift(),v=ce+N.shift(),Z(ae,S,ce,Te,v,Te),ae=v+N.shift(),ce=ae+N.shift(),v=ce+N.shift(),Z(ae,Te,ce,S,v,S);break;case 35:ae=v+N.shift(),Ie=S+N.shift(),ce=ae+N.shift(),fe=Ie+N.shift(),v=ce+N.shift(),S=fe+N.shift(),Z(ae,Ie,ce,fe,v,S),ae=v+N.shift(),Ie=S+N.shift(),ce=ae+N.shift(),fe=Ie+N.shift(),v=ce+N.shift(),S=fe+N.shift(),Z(ae,Ie,ce,fe,v,S),N.pop();break;case 36:ae=v+N.shift(),Te=S+N.shift(),ce=ae+N.shift(),be=Te+N.shift(),v=ce+N.shift(),Z(ae,Te,ce,be,v,be),ae=v+N.shift(),ce=ae+N.shift(),ve=be+N.shift(),v=ce+N.shift(),Z(ae,be,ce,ve,v,S);break;case 37:const ge=v,he=S;ae=v+N.shift(),Ie=S+N.shift(),ce=ae+N.shift(),fe=Ie+N.shift(),v=ce+N.shift(),S=fe+N.shift(),Z(ae,Ie,ce,fe,v,S),ae=v+N.shift(),Ie=S+N.shift(),ce=ae+N.shift(),fe=Ie+N.shift(),v=ce,S=fe,Math.abs(v-ge)>Math.abs(S-he)?v+=N.shift():S+=N.shift(),Z(ae,Ie,ce,fe,v,S);break;default:throw new n.FormatError(`unknown operator: 12 ${G}`)}break;case 14:if(N.length>=4){const ge=N.pop(),he=N.pop();S=N.pop(),v=N.pop(),w.push({cmd:"save"},{cmd:"translate",args:[v,S]});let ue=F(q.cmap,String.fromCharCode(q.glyphNameMap[e.StandardEncoding[ge]]));C(q.glyphs[ue.glyphId],w,q,ue.glyphId),w.push({cmd:"restore"}),ue=F(q.cmap,String.fromCharCode(q.glyphNameMap[e.StandardEncoding[he]])),C(q.glyphs[ue.glyphId],w,q,ue.glyphId)}return;case 18:I+=N.length>>1,E=!0;break;case 19:I+=N.length>>1,r+=I+7>>3,E=!0;break;case 20:I+=N.length>>1,r+=I+7>>3,E=!0;break;case 21:S+=N.pop(),v+=N.pop(),b(v,S),E=!0;break;case 22:v+=N.pop(),b(v,S),E=!0;break;case 23:I+=N.length>>1,E=!0;break;case 24:for(;N.length>2;)ae=v+N.shift(),Ie=S+N.shift(),ce=ae+N.shift(),fe=Ie+N.shift(),v=ce+N.shift(),S=fe+N.shift(),Z(ae,Ie,ce,fe,v,S);v+=N.shift(),S+=N.shift(),D(v,S);break;case 25:for(;N.length>6;)v+=N.shift(),S+=N.shift(),D(v,S);ae=v+N.shift(),Ie=S+N.shift(),ce=ae+N.shift(),fe=Ie+N.shift(),v=ce+N.shift(),S=fe+N.shift(),Z(ae,Ie,ce,fe,v,S);break;case 26:for(N.length%2&&(v+=N.shift());N.length>0;)ae=v,Ie=S+N.shift(),ce=ae+N.shift(),fe=Ie+N.shift(),v=ce,S=fe+N.shift(),Z(ae,Ie,ce,fe,v,S);break;case 27:for(N.length%2&&(S+=N.shift());N.length>0;)ae=v+N.shift(),Ie=S,ce=ae+N.shift(),fe=Ie+N.shift(),v=ce+N.shift(),S=fe,Z(ae,Ie,ce,fe,v,S);break;case 28:N.push((y[r]<<24|y[r+1]<<16)>>16),r+=2;break;case 29:te=N.pop()+q.gsubrsBias,ie=q.gsubrs[te],ie&&u(ie);break;case 30:for(;N.length>0&&(ae=v,Ie=S+N.shift(),ce=ae+N.shift(),fe=Ie+N.shift(),v=ce+N.shift(),S=fe+(N.length===1?N.shift():0),Z(ae,Ie,ce,fe,v,S),N.length!==0);)ae=v+N.shift(),Ie=S,ce=ae+N.shift(),fe=Ie+N.shift(),S=fe+N.shift(),v=ce+(N.length===1?N.shift():0),Z(ae,Ie,ce,fe,v,S);break;case 31:for(;N.length>0&&(ae=v+N.shift(),Ie=S,ce=ae+N.shift(),fe=Ie+N.shift(),S=fe+N.shift(),v=ce+(N.length===1?N.shift():0),Z(ae,Ie,ce,fe,v,S),N.length!==0);)ae=v,Ie=S+N.shift(),ce=ae+N.shift(),fe=Ie+N.shift(),v=ce+N.shift(),S=fe+(N.length===1?N.shift():0),Z(ae,Ie,ce,fe,v,S);break;default:if(G<32)throw new n.FormatError(`unknown operator: ${G}`);G<247?N.push(G-139):G<251?N.push((G-247)*256+y[r++]+108):G<255?N.push(-(G-251)*256-y[r++]-108):(N.push((y[r]<<24|y[r+1]<<16|y[r+2]<<8|y[r+3])/65536),r+=4);break}E&&(N.length=0)}}u(d)}const H=[];class ${constructor(w){this.constructor===$&&(0,n.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=w,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(w){const{charCode:q,glyphId:l}=F(this.cmap,w);let b=this.compiledGlyphs[l];if(!b)try{b=this.compileGlyph(this.glyphs[l],l),this.compiledGlyphs[l]=b}catch(D){throw this.compiledGlyphs[l]=H,this.compiledCharCodeToGlyphId[q]===void 0&&(this.compiledCharCodeToGlyphId[q]=l),D}return this.compiledCharCodeToGlyphId[q]===void 0&&(this.compiledCharCodeToGlyphId[q]=l),b}compileGlyph(w,q){if(!w||w.length===0||w[0]===14)return H;let l=this.fontMatrix;if(this.isCFFCIDFont){const D=this.fdSelect.getFDIndex(q);D>=0&&D<this.fdArray.length?l=this.fdArray[D].getByName("FontMatrix")||n.FONT_IDENTITY_MATRIX:(0,n.warn)("Invalid fd index for glyph index.")}const b=[{cmd:"save"},{cmd:"transform",args:l.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(w,b,q),b.push({cmd:"restore"}),b}compileGlyphImpl(){(0,n.unreachable)("Children classes should implement this.")}hasBuiltPath(w){const{charCode:q,glyphId:l}=F(this.cmap,w);return this.compiledGlyphs[l]!==void 0&&this.compiledCharCodeToGlyphId[q]!==void 0}}class se extends ${constructor(w,q,l){super(l||[488e-6,0,0,488e-6,0,0]),this.glyphs=w,this.cmap=q}compileGlyphImpl(w,q){P(w,q,this)}}class _ extends ${constructor(w,q,l,b){super(l||[.001,0,0,.001,0,0]),this.glyphs=w.glyphs,this.gsubrs=w.gsubrs||[],this.subrs=w.subrs||[],this.cmap=q,this.glyphNameMap=b||(0,U.getGlyphsUnicode)(),this.gsubrsBias=f(this.gsubrs),this.subrsBias=f(this.subrs),this.isCFFCIDFont=w.isCFFCIDFont,this.fdSelect=w.fdSelect,this.fdArray=w.fdArray}compileGlyphImpl(w,q,l){C(w,q,this,l)}}class Q{static create(w,q){const l=new Uint8Array(w.data);let b,D,Z,N,v,S;const I=K(l,4);for(let u=0,y=12;u<I;u++,y+=16){const r=(0,n.bytesToString)(l.subarray(y,y+4)),A=o(l,y+8),E=o(l,y+12);switch(r){case"cmap":b=p(l,A);break;case"glyf":D=l.subarray(A,A+E);break;case"loca":Z=l.subarray(A,A+E);break;case"head":S=K(l,A+18),v=K(l,A+50);break;case"CFF ":N=i(l,A,A+E,q);break}}if(D){const u=S?[1/S,0,0,1/S,0,0]:w.fontMatrix;return new se(T(D,Z,v),b,u)}return new _(N,b,w.fontMatrix,w.glyphNameMap)}}h.FontRendererFactory=Q},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.getMetrics=h.getFontBasicMetrics=void 0;var n=re(3);const x=(0,n.getLookupTableFactory)(function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-BoldOblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Oblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e.Symbol=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790}),e["Times-Roman"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-BoldItalic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Italic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e.ZapfDingbats=(0,n.getLookupTableFactory)(function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918})});h.getMetrics=x;const U=(0,n.getLookupTableFactory)(function(e){e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});h.getFontBasicMetrics=U},(Pe,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GlyfTable=void 0;const re=1,n=2,x=4,U=8,e=16,t=32,o=64,K=1,X=2,L=8,O=32,f=64,p=128,i=256;class T{constructor({glyfTable:_,isGlyphLocationsLong:Q,locaTable:d,numGlyphs:w}){this.glyphs=[];const q=new DataView(d.buffer,d.byteOffset,d.byteLength),l=new DataView(_.buffer,_.byteOffset,_.byteLength),b=Q?4:2;let D=Q?q.getUint32(0):2*q.getUint16(0),Z=0;for(let N=0;N<w;N++){Z+=b;const v=Q?q.getUint32(Z):2*q.getUint16(Z);if(v===D){this.glyphs.push(new F({}));continue}const S=F.parse(D,l);this.glyphs.push(S),D=v}}getSize(){return this.glyphs.reduce((_,Q)=>{const d=Q.getSize();return _+(d+3&-4)},0)}write(){const _=this.getSize(),Q=new DataView(new ArrayBuffer(_)),d=_>131070,w=d?4:2,q=new DataView(new ArrayBuffer((this.glyphs.length+1)*w));d?q.setUint32(0,0):q.setUint16(0,0);let l=0,b=0;for(const D of this.glyphs)l+=D.write(l,Q),l=l+3&-4,b+=w,d?q.setUint32(b,l):q.setUint16(b,l>>1);return{isLocationLong:d,loca:new Uint8Array(q.buffer),glyf:new Uint8Array(Q.buffer)}}scale(_){for(let Q=0,d=this.glyphs.length;Q<d;Q++)this.glyphs[Q].scale(_[Q])}}h.GlyfTable=T;class F{constructor({header:_=null,simple:Q=null,composites:d=null}){this.header=_,this.simple=Q,this.composites=d}static parse(_,Q){const[d,w]=P.parse(_,Q);if(_+=d,w.numberOfContours<0){const l=[];for(;;){const[b,D]=$.parse(_,Q);if(_+=b,l.push(D),!(D.flags&O))break}return new F({header:w,composites:l})}const q=H.parse(_,Q,w.numberOfContours);return new F({header:w,simple:q})}getSize(){if(!this.header)return 0;const _=this.simple?this.simple.getSize():this.composites.reduce((Q,d)=>Q+d.getSize(),0);return this.header.getSize()+_}write(_,Q){if(!this.header)return 0;const d=_;if(_+=this.header.write(_,Q),this.simple)_+=this.simple.write(_,Q);else for(const w of this.composites)_+=w.write(_,Q);return _-d}scale(_){if(!this.header)return;const Q=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(Q,_),this.simple)this.simple.scale(Q,_);else for(const d of this.composites)d.scale(Q,_)}}class P{constructor({numberOfContours:_,xMin:Q,yMin:d,xMax:w,yMax:q}){this.numberOfContours=_,this.xMin=Q,this.yMin=d,this.xMax=w,this.yMax=q}static parse(_,Q){return[10,new P({numberOfContours:Q.getInt16(_),xMin:Q.getInt16(_+2),yMin:Q.getInt16(_+4),xMax:Q.getInt16(_+6),yMax:Q.getInt16(_+8)})]}getSize(){return 10}write(_,Q){return Q.setInt16(_,this.numberOfContours),Q.setInt16(_+2,this.xMin),Q.setInt16(_+4,this.yMin),Q.setInt16(_+6,this.xMax),Q.setInt16(_+8,this.yMax),10}scale(_,Q){this.xMin=Math.round(_+(this.xMin-_)*Q),this.xMax=Math.round(_+(this.xMax-_)*Q)}}class C{constructor({flags:_,xCoordinates:Q,yCoordinates:d}){this.xCoordinates=Q,this.yCoordinates=d,this.flags=_}}class H{constructor({contours:_,instructions:Q}){this.contours=_,this.instructions=Q}static parse(_,Q,d){const w=[];for(let r=0;r<d;r++){const A=Q.getUint16(_);_+=2,w.push(A)}const q=w[d-1]+1,l=Q.getUint16(_);_+=2;const b=new Uint8Array(Q).slice(_,_+l);_+=l;const D=[];for(let r=0;r<q;_++,r++){let A=Q.getUint8(_);if(D.push(A),A&U){const E=Q.getUint8(++_);A^=U;for(let G=0;G<E;G++)D.push(A);r+=E}}const Z=[];let N=[],v=[],S=[];const I=[];let u=0,y=0;for(let r=0;r<q;r++){const A=D[r];if(A&n){const E=Q.getUint8(_++);y+=A&e?E:-E,N.push(y)}else A&e||(y+=Q.getInt16(_),_+=2),N.push(y);w[u]===r&&(u++,Z.push(N),N=[])}y=0,u=0;for(let r=0;r<q;r++){const A=D[r];if(A&x){const E=Q.getUint8(_++);y+=A&t?E:-E,v.push(y)}else A&t||(y+=Q.getInt16(_),_+=2),v.push(y);S.push(A&re|A&o),w[u]===r&&(N=Z[u],u++,I.push(new C({flags:S,xCoordinates:N,yCoordinates:v})),v=[],S=[])}return new H({contours:I,instructions:b})}getSize(){let _=this.contours.length*2+2+this.instructions.length,Q=0,d=0;for(const w of this.contours){_+=w.flags.length;for(let q=0,l=w.xCoordinates.length;q<l;q++){const b=w.xCoordinates[q],D=w.yCoordinates[q];let Z=Math.abs(b-Q);Z>255?_+=2:Z>0&&(_+=1),Q=b,Z=Math.abs(D-d),Z>255?_+=2:Z>0&&(_+=1),d=D}}return _}write(_,Q){const d=_,w=[],q=[],l=[];let b=0,D=0;for(const Z of this.contours){for(let N=0,v=Z.xCoordinates.length;N<v;N++){let S=Z.flags[N];const I=Z.xCoordinates[N];let u=I-b;if(u===0)S|=e,w.push(0);else{const r=Math.abs(u);r<=255?(S|=u>=0?n|e:n,w.push(r)):w.push(u)}b=I;const y=Z.yCoordinates[N];if(u=y-D,u===0)S|=t,q.push(0);else{const r=Math.abs(u);r<=255?(S|=u>=0?x|t:x,q.push(r)):q.push(u)}D=y,l.push(S)}Q.setUint16(_,w.length-1),_+=2}Q.setUint16(_,this.instructions.length),_+=2,this.instructions.length&&(new Uint8Array(Q.buffer,0,Q.buffer.byteLength).set(this.instructions,_),_+=this.instructions.length);for(const Z of l)Q.setUint8(_++,Z);for(let Z=0,N=w.length;Z<N;Z++){const v=w[Z],S=l[Z];S&n?Q.setUint8(_++,v):S&e||(Q.setInt16(_,v),_+=2)}for(let Z=0,N=q.length;Z<N;Z++){const v=q[Z],S=l[Z];S&x?Q.setUint8(_++,v):S&t||(Q.setInt16(_,v),_+=2)}return _-d}scale(_,Q){for(const d of this.contours)if(d.xCoordinates.length!==0)for(let w=0,q=d.xCoordinates.length;w<q;w++)d.xCoordinates[w]=Math.round(_+(d.xCoordinates[w]-_)*Q)}}class ${constructor({flags:_,glyphIndex:Q,argument1:d,argument2:w,transf:q,instructions:l}){this.flags=_,this.glyphIndex=Q,this.argument1=d,this.argument2=w,this.transf=q,this.instructions=l}static parse(_,Q){const d=_,w=[];let q=Q.getUint16(_);const l=Q.getUint16(_+2);_+=4;let b,D;q&K?(q&X?(b=Q.getInt16(_),D=Q.getInt16(_+2)):(b=Q.getUint16(_),D=Q.getUint16(_+2)),_+=4,q^=K):(q&X?(b=Q.getInt8(_),D=Q.getInt8(_+1)):(b=Q.getUint8(_),D=Q.getUint8(_+1)),_+=2),q&L?(w.push(Q.getUint16(_)),_+=2):q&f?(w.push(Q.getUint16(_),Q.getUint16(_+2)),_+=4):q&p&&(w.push(Q.getUint16(_),Q.getUint16(_+2),Q.getUint16(_+4),Q.getUint16(_+6)),_+=8);let Z=null;if(q&i){const N=Q.getUint16(_);_+=2,Z=new Uint8Array(Q).slice(_,_+N),_+=N}return[_-d,new $({flags:q,glyphIndex:l,argument1:b,argument2:D,transf:w,instructions:Z})]}getSize(){let _=4+this.transf.length*2;return this.flags&i&&(_+=2+this.instructions.length),_+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(_+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(_+=2),_}write(_,Q){const d=_;return this.flags&X?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=K):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=K),Q.setUint16(_,this.flags),Q.setUint16(_+2,this.glyphIndex),_+=4,this.flags&K?(this.flags&X?(Q.setInt16(_,this.argument1),Q.setInt16(_+2,this.argument2)):(Q.setUint16(_,this.argument1),Q.setUint16(_+2,this.argument2)),_+=4):(Q.setUint8(_,this.argument1),Q.setUint8(_+1,this.argument2),_+=2),this.flags&i&&(Q.setUint16(_,this.instructions.length),_+=2,this.instructions.length&&(new Uint8Array(Q.buffer,0,Q.buffer.byteLength).set(this.instructions,_),_+=this.instructions.length)),_-d}scale(_,Q){}}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.OpenTypeFileBuilder=void 0;var n=re(3),x=re(2);function U(L,O,f){L[O]=f>>8&255,L[O+1]=f&255}function e(L,O,f){L[O]=f>>24&255,L[O+1]=f>>16&255,L[O+2]=f>>8&255,L[O+3]=f&255}function t(L,O,f){if(f instanceof Uint8Array)L.set(f,O);else if(typeof f=="string")for(let p=0,i=f.length;p<i;p++)L[O++]=f.charCodeAt(p)&255;else for(const p of f)L[O++]=p&255}const o=12,K=16;class X{constructor(O){this.sfnt=O,this.tables=Object.create(null)}static getSearchParams(O,f){let p=1,i=0;for(;(p^O)>p;)p<<=1,i++;const T=p*f;return{range:T,entry:i,rangeShift:f*O-T}}toArray(){let O=this.sfnt;const f=this.tables,p=Object.keys(f);p.sort();const i=p.length;let T,F,P,C,H,$=o+i*K;const se=[$];for(T=0;T<i;T++){C=f[p[T]];const d=(C.length+3&-4)>>>0;$+=d,se.push($)}const _=new Uint8Array($);for(T=0;T<i;T++)C=f[p[T]],t(_,se[T],C);O==="true"&&(O=(0,x.string32)(65536)),_[0]=O.charCodeAt(0)&255,_[1]=O.charCodeAt(1)&255,_[2]=O.charCodeAt(2)&255,_[3]=O.charCodeAt(3)&255,U(_,4,i);const Q=X.getSearchParams(i,16);for(U(_,6,Q.range),U(_,8,Q.entry),U(_,10,Q.rangeShift),$=o,T=0;T<i;T++){H=p[T],_[$]=H.charCodeAt(0)&255,_[$+1]=H.charCodeAt(1)&255,_[$+2]=H.charCodeAt(2)&255,_[$+3]=H.charCodeAt(3)&255;let d=0;for(F=se[T],P=se[T+1];F<P;F+=4){const w=(0,n.readUint32)(_,F);d=d+w>>>0}e(_,$+4,d),e(_,$+8,se[T]),e(_,$+12,f[H].length),$+=K}return _}addTable(O,f){if(O in this.tables)throw new Error("Table "+O+" already exists");this.tables[O]=f}}h.OpenTypeFileBuilder=X},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Type1Font=void 0;var n=re(35),x=re(2),U=re(38),e=re(3),t=re(8),o=re(49);function K(f,p,i){const T=f.length,F=p.length,P=T-F;let C=i,H=!1;for(;C<P;){let $=0;for(;$<F&&f[C+$]===p[$];)$++;if($>=F){for(C+=$;C<T&&(0,e.isWhiteSpace)(f[C]);)C++;H=!0;break}C++}return{found:H,length:C}}function X(f,p){const i=[101,101,120,101,99],T=f.pos;let F,P,C;try{F=f.getBytes(p),P=F.length}catch{}if(P===p&&(C=K(F,i,p-2*i.length),C.found&&C.length===p))return{stream:new t.Stream(F),length:p};(0,x.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),f.pos=T;const H=2048;let $;for(;;){const se=f.peekBytes(H);if(C=K(se,i,0),C.length===0)break;if(f.pos+=C.length,C.found){$=f.pos-T;break}}return f.pos=T,$?{stream:new t.Stream(f.getBytes($)),length:$}:((0,x.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new t.Stream(f.getBytes(p)),length:p})}function L(f,p){const i=f.getBytes();if(i.length===0)throw new x.FormatError("getEexecBlock - no font program found.");return{stream:new t.Stream(i),length:i.length}}class O{constructor(p,i,T){let P=T.length1;T.length2;let C=i.peekBytes(6);const H=C[0]===128&&C[1]===1;H&&(i.skip(6),P=C[5]<<24|C[4]<<16|C[3]<<8|C[2]);const $=X(i,P);new o.Type1Parser($.stream,!1,U.SEAC_ANALYSIS_ENABLED).extractFontHeader(T),H&&(C=i.getBytes(6),C[5]<<24|C[4]<<16|C[3]<<8|C[2]);const _=L(i),d=new o.Type1Parser(_.stream,!0,U.SEAC_ANALYSIS_ENABLED).extractFontProgram(T);for(const b in d.properties)T[b]=d.properties[b];const w=d.charstrings,q=this.getType2Charstrings(w),l=this.getType2Subrs(d.subrs);this.charstrings=w,this.data=this.wrap(p,q,this.charstrings,l,T),this.seacs=this.getSeacs(d.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const p=[".notdef"];for(const{glyphName:i}of this.charstrings)p.push(i);return p}getGlyphMapping(p){const i=this.charstrings;if(p.composite){const H=Object.create(null);for(let $=0,se=i.length;$<se;$++){const _=p.cMap.charCodeOf($);H[_]=$+1}return H}const T=[".notdef"];let F,P;for(P=0;P<i.length;P++)T.push(i[P].glyphName);const C=p.builtInEncoding;if(C){F=Object.create(null);for(const H in C)P=T.indexOf(C[H]),P>=0&&(F[H]=P)}return(0,U.type1FontGlyphMapping)(p,F,T)}hasGlyphId(p){return p<0||p>=this.numGlyphs?!1:p===0?!0:this.charstrings[p-1].charstring.length>0}getSeacs(p){const i=[];for(let T=0,F=p.length;T<F;T++){const P=p[T];P.seac&&(i[T+1]=P.seac)}return i}getType2Charstrings(p){const i=[];for(const T of p)i.push(T.charstring);return i}getType2Subrs(p){let i=0;const T=p.length;T<1133?i=107:T<33769?i=1131:i=32768;const F=[];let P;for(P=0;P<i;P++)F.push([11]);for(P=0;P<T;P++)F.push(p[P]);return F}wrap(p,i,T,F,P){const C=new n.CFF;C.header=new n.CFFHeader(1,0,4,4),C.names=[p];const H=new n.CFFTopDict;H.setByName("version",391),H.setByName("Notice",392),H.setByName("FullName",393),H.setByName("FamilyName",394),H.setByName("Weight",395),H.setByName("Encoding",null),H.setByName("FontMatrix",P.fontMatrix),H.setByName("FontBBox",P.bbox),H.setByName("charset",null),H.setByName("CharStrings",null),H.setByName("Private",null),C.topDict=H;const $=new n.CFFStrings;$.add("Version 0.11"),$.add("See original notice"),$.add(p),$.add(p),$.add("Medium"),C.strings=$,C.globalSubrIndex=new n.CFFIndex;const se=i.length,_=[".notdef"];let Q,d;for(Q=0;Q<se;Q++){const Z=T[Q].glyphName;n.CFFStandardStrings.indexOf(Z)===-1&&$.add(Z),_.push(Z)}C.charset=new n.CFFCharset(!1,0,_);const w=new n.CFFIndex;for(w.add([139,14]),Q=0;Q<se;Q++)w.add(i[Q]);C.charStrings=w;const q=new n.CFFPrivateDict;q.setByName("Subrs",null);const l=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(Q=0,d=l.length;Q<d;Q++){const Z=l[Q];if(!(Z in P.privateData))continue;const N=P.privateData[Z];if(Array.isArray(N))for(let v=N.length-1;v>0;v--)N[v]-=N[v-1];q.setByName(Z,N)}C.topDict.privateDict=q;const b=new n.CFFIndex;for(Q=0,d=F.length;Q<d;Q++)b.add(F[Q]);return q.subrsIndex=b,new n.CFFCompiler(C).compile()}}h.Type1Font=O},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Type1Parser=void 0;var n=re(37),x=re(3),U=re(8),e=re(2);const t=!1,o={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class K{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(P,C,H){const $=P.length;let se=!1,_,Q,d;for(let w=0;w<$;w++){let q=P[w];if(q<32){switch(q===12&&(q=(q<<8)+P[++w]),q){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){se=!0;break}const N=this.stack.pop();this.stack.push(0,N);break}se=this.executeCommand(1,o.vmoveto);break;case 5:se=this.executeCommand(2,o.rlineto);break;case 6:se=this.executeCommand(1,o.hlineto);break;case 7:se=this.executeCommand(1,o.vlineto);break;case 8:se=this.executeCommand(6,o.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){se=!0;break}if(d=this.stack.pop(),!C[d]){se=!0;break}se=this.convert(C[d],C,H);break;case 11:return se;case 13:if(this.stack.length<2){se=!0;break}_=this.stack.pop(),Q=this.stack.pop(),this.lsb=Q,this.width=_,this.stack.push(_,Q),se=this.executeCommand(2,o.hmoveto);break;case 14:this.output.push(o.endchar[0]);break;case 21:if(this.flexing)break;se=this.executeCommand(2,o.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}se=this.executeCommand(1,o.hmoveto);break;case 30:se=this.executeCommand(4,o.vhcurveto);break;case 31:se=this.executeCommand(4,o.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(H){const N=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-N,se=this.executeCommand(0,o.endchar)}else se=this.executeCommand(4,o.endchar);break;case 3079:if(this.stack.length<4){se=!0;break}this.stack.pop(),_=this.stack.pop();const l=this.stack.pop();Q=this.stack.pop(),this.lsb=Q,this.width=_,this.stack.push(_,Q,l),se=this.executeCommand(3,o.rmoveto);break;case 3084:if(this.stack.length<2){se=!0;break}const b=this.stack.pop(),D=this.stack.pop();this.stack.push(D/b);break;case 3088:if(this.stack.length<2){se=!0;break}d=this.stack.pop();const Z=this.stack.pop();if(d===0&&Z===3){const N=this.stack.splice(-17,17);this.stack.push(N[2]+N[0],N[3]+N[1],N[4],N[5],N[6],N[7],N[8],N[9],N[10],N[11],N[12],N[13],N[14]),se=this.executeCommand(13,o.flex,!0),this.flexing=!1,this.stack.push(N[15],N[16])}else d===1&&Z===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,e.warn)('Unknown type 1 charstring command of "'+q+'"');break}if(se)break;continue}else q<=246?q-=139:q<=250?q=(q-247)*256+P[++w]+108:q<=254?q=-((q-251)*256)-P[++w]-108:q=(P[++w]&255)<<24|(P[++w]&255)<<16|(P[++w]&255)<<8|(P[++w]&255)<<0;this.stack.push(q)}return se}executeCommand(P,C,H){const $=this.stack.length;if(P>$)return!0;const se=$-P;for(let _=se;_<$;_++){let Q=this.stack[_];Number.isInteger(Q)?this.output.push(28,Q>>8&255,Q&255):(Q=65536*Q|0,this.output.push(255,Q>>24&255,Q>>16&255,Q>>8&255,Q&255))}return this.output.push(...C),H?this.stack.splice(se,P):this.stack.length=0,!1}}const X=55665,L=4330;function O(F){return F>=48&&F<=57||F>=65&&F<=70||F>=97&&F<=102}function f(F,P,C){if(C>=F.length)return new Uint8Array(0);const H=52845,$=22719;let se=P|0,_,Q;for(_=0;_<C;_++)se=(F[_]+se)*H+$&65535;const d=F.length-C,w=new Uint8Array(d);for(_=C,Q=0;Q<d;_++,Q++){const q=F[_];w[Q]=q^se>>8,se=(q+se)*H+$&65535}return w}function p(F,P,C){let se=P|0;const _=F.length,Q=_>>>1,d=new Uint8Array(Q);let w,q;for(w=0,q=0;w<_;w++){const l=F[w];if(!O(l))continue;w++;let b;for(;w<_&&!O(b=F[w]);)w++;if(w<_){const D=parseInt(String.fromCharCode(l,b),16);d[q++]=D^se>>8,se=(D+se)*52845+22719&65535}}return d.slice(C,q)}function i(F){return F===47||F===91||F===93||F===123||F===125||F===40||F===41}class T{constructor(P,C,H){if(C){const $=P.getBytes(),se=!((O($[0])||(0,x.isWhiteSpace)($[0]))&&O($[1])&&O($[2])&&O($[3])&&O($[4])&&O($[5])&&O($[6])&&O($[7]));P=new U.Stream(se?f($,X,4):p($,X,4))}this.seacAnalysisEnabled=!!H,this.stream=P,this.nextChar()}readNumberArray(){this.getToken();const P=[];for(;;){const C=this.getToken();if(C===null||C==="]"||C==="}")break;P.push(parseFloat(C||0))}return P}readNumber(){const P=this.getToken();return parseFloat(P||0)}readInt(){const P=this.getToken();return parseInt(P||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let P=!1,C=this.currentChar;for(;;){if(C===-1)return null;if(P)(C===10||C===13)&&(P=!1);else if(C===37)P=!0;else if(!(0,x.isWhiteSpace)(C))break;C=this.nextChar()}if(i(C))return this.nextChar(),String.fromCharCode(C);let H="";do H+=String.fromCharCode(C),C=this.nextChar();while(C>=0&&!(0,x.isWhiteSpace)(C)&&!i(C));return H}readCharStrings(P,C){return C===-1?P:f(P,L,C)}extractFontProgram(P){const C=this.stream,H=[],$=[],se=Object.create(null);se.lenIV=4;const _={subrs:[],charstrings:[],properties:{privateData:se}};let Q,d,w,q;for(;(Q=this.getToken())!==null;)if(Q==="/")switch(Q=this.getToken(),Q){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();Q=this.getToken(),!(Q===null||Q==="end");){if(Q!=="/")continue;const b=this.getToken();d=this.readInt(),this.getToken(),w=d>0?C.getBytes(d):new Uint8Array(0),q=_.properties.privateData.lenIV;const D=this.readCharStrings(w,q);this.nextChar(),Q=this.getToken(),Q==="noaccess"?this.getToken():Q==="/"&&this.prevChar(),$.push({glyph:b,encoded:D})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const b=this.readInt();d=this.readInt(),this.getToken(),w=d>0?C.getBytes(d):new Uint8Array(0),q=_.properties.privateData.lenIV;const D=this.readCharStrings(w,q);this.nextChar(),Q=this.getToken(),Q==="noaccess"&&this.getToken(),H[b]=D}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const l=this.readNumberArray();l.length>0&&l.length%2===0&&t&&(_.properties.privateData[Q]=l);break;case"StemSnapH":case"StemSnapV":_.properties.privateData[Q]=this.readNumberArray();break;case"StdHW":case"StdVW":_.properties.privateData[Q]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":_.properties.privateData[Q]=this.readNumber();break;case"ExpansionFactor":_.properties.privateData[Q]=this.readNumber()||.06;break;case"ForceBold":_.properties.privateData[Q]=this.readBoolean();break}for(const{encoded:l,glyph:b}of $){const D=new K,Z=D.convert(l,H,this.seacAnalysisEnabled);let N=D.output;Z&&(N=[14]);const v={glyphName:b,charstring:N,width:D.width,lsb:D.lsb,seac:D.seac};if(b===".notdef"?_.charstrings.unshift(v):_.charstrings.push(v),P.builtInEncoding){const S=P.builtInEncoding.indexOf(b);S>-1&&P.widths[S]===void 0&&S>=P.firstChar&&S<=P.lastChar&&(P.widths[S]=D.width)}}return _}extractFontHeader(P){let C;for(;(C=this.getToken())!==null;)if(C==="/")switch(C=this.getToken(),C){case"FontMatrix":const H=this.readNumberArray();P.fontMatrix=H;break;case"Encoding":const $=this.getToken();let se;if(!/^\d+$/.test($))se=(0,n.getEncoding)($);else{se=[];const Q=parseInt($,10)|0;this.getToken();for(let d=0;d<Q;d++){for(C=this.getToken();C!=="dup"&&C!=="def";)if(C=this.getToken(),C===null)return;if(C==="def")break;const w=this.readInt();this.getToken();const q=this.getToken();se[w]=q,this.getToken()}}P.builtInEncoding=se;break;case"FontBBox":const _=this.readNumberArray();P.ascent=Math.max(_[3],_[1]),P.descent=Math.min(_[1],_[3]),P.ascentScaled=!0;break}}}h.Type1Parser=T},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Pattern=void 0,h.clearPatternCaches=i,h.getTilingPatternIR=P;var n=re(2),x=re(5),U=re(12),e=re(3);const t={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class o{constructor(){(0,n.unreachable)("Cannot initialize Pattern.")}static parseShading(se,_,Q,d,w){const q=se instanceof x.BaseStream?se.dict:se,l=q.get("ShadingType");try{switch(l){case t.AXIAL:case t.RADIAL:return new X(q,_,Q,d,w);case t.FREE_FORM_MESH:case t.LATTICE_FORM_MESH:case t.COONS_PATCH_MESH:case t.TENSOR_PATCH_MESH:return new T(se,_,Q,d,w);default:throw new n.FormatError("Unsupported ShadingType: "+l)}}catch(b){if(b instanceof e.MissingDataException)throw b;return(0,n.warn)(b),new F}}}h.Pattern=o;const C=class C{constructor(){this.constructor===C&&(0,n.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,n.unreachable)("Abstract method `getIR` called.")}};br(C,"SMALL_NUMBER",1e-6);let K=C;class X extends K{constructor(se,_,Q,d,w){super(),this.coordsArr=se.getArray("Coords"),this.shadingType=se.get("ShadingType");const q=U.ColorSpace.parse({cs:se.getRaw("CS")||se.getRaw("ColorSpace"),xref:_,resources:Q,pdfFunctionFactory:d,localColorSpaceCache:w}),l=se.getArray("BBox");this.bbox=Array.isArray(l)&&l.length===4?n.Util.normalizeRect(l):null;let b=0,D=1;if(se.has("Domain")){const we=se.getArray("Domain");b=we[0],D=we[1]}let Z=!1,N=!1;if(se.has("Extend")){const we=se.getArray("Extend");Z=we[0],N=we[1]}if(this.shadingType===t.RADIAL&&(!Z||!N)){const[we,Ce,le,ke,Fe,de]=this.coordsArr,Ee=Math.hypot(we-ke,Ce-Fe);le<=de+Ee&&de<=le+Ee&&(0,n.warn)("Unsupported radial gradient.")}this.extendStart=Z,this.extendEnd=N;const v=se.getRaw("Function"),S=d.createFromArray(v),I=840,u=(D-b)/I,y=this.colorStops=[];if(b>=D||u<=0){(0,n.info)("Bad shading domain.");return}const r=new Float32Array(q.numComps),A=new Float32Array(1);let E,G=0;A[0]=b,S(A,0,r,0);let ae=q.getRgb(r,0);const ce=n.Util.makeHexColor(ae[0],ae[1],ae[2]);y.push([0,ce]);let Ie=1;A[0]=b+u,S(A,0,r,0);let fe=q.getRgb(r,0),Te=fe[0]-ae[0]+1,be=fe[1]-ae[1]+1,ve=fe[2]-ae[2]+1,te=fe[0]-ae[0]-1,ie=fe[1]-ae[1]-1,ge=fe[2]-ae[2]-1;for(let we=2;we<I;we++){A[0]=b+we*u,S(A,0,r,0),E=q.getRgb(r,0);const Ce=we-G;if(Te=Math.min(Te,(E[0]-ae[0]+1)/Ce),be=Math.min(be,(E[1]-ae[1]+1)/Ce),ve=Math.min(ve,(E[2]-ae[2]+1)/Ce),te=Math.max(te,(E[0]-ae[0]-1)/Ce),ie=Math.max(ie,(E[1]-ae[1]-1)/Ce),ge=Math.max(ge,(E[2]-ae[2]-1)/Ce),!(te<=Te&&ie<=be&&ge<=ve)){const ke=n.Util.makeHexColor(fe[0],fe[1],fe[2]);y.push([Ie/I,ke]),Te=E[0]-fe[0]+1,be=E[1]-fe[1]+1,ve=E[2]-fe[2]+1,te=E[0]-fe[0]-1,ie=E[1]-fe[1]-1,ge=E[2]-fe[2]-1,G=Ie,ae=fe}Ie=we,fe=E}const he=n.Util.makeHexColor(fe[0],fe[1],fe[2]);y.push([1,he]);let ue="transparent";se.has("Background")&&(E=q.getRgb(se.get("Background"),0),ue=n.Util.makeHexColor(E[0],E[1],E[2])),Z||(y.unshift([0,ue]),y[1][0]+=K.SMALL_NUMBER),N||(y.at(-1)[0]-=K.SMALL_NUMBER,y.push([1,ue])),this.colorStops=y}getIR(){const se=this.coordsArr,_=this.shadingType;let Q,d,w,q,l;return _===t.AXIAL?(d=[se[0],se[1]],w=[se[2],se[3]],q=null,l=null,Q="axial"):_===t.RADIAL?(d=[se[0],se[1]],w=[se[3],se[4]],q=se[2],l=se[5],Q="radial"):(0,n.unreachable)(`getPattern type unknown: ${_}`),["RadialAxial",Q,this.bbox,this.colorStops,d,w,q,l]}}class L{constructor(se,_){this.stream=se,this.context=_,this.buffer=0,this.bufferLength=0;const Q=_.numComps;this.tmpCompsBuf=new Float32Array(Q);const d=_.colorSpace.numComps;this.tmpCsCompsBuf=_.colorFn?new Float32Array(d):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const se=this.stream.getByte();return se<0?!1:(this.buffer=se,this.bufferLength=8,!0)}readBits(se){let _=this.buffer,Q=this.bufferLength;if(se===32){if(Q===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;_=_<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const d=this.stream.getByte();return this.buffer=d&(1<<Q)-1,(_<<8-Q|(d&255)>>Q)>>>0}if(se===8&&Q===0)return this.stream.getByte();for(;Q<se;)_=_<<8|this.stream.getByte(),Q+=8;return Q-=se,this.bufferLength=Q,this.buffer=_&(1<<Q)-1,_>>Q}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const se=this.context.bitsPerCoordinate,_=this.readBits(se),Q=this.readBits(se),d=this.context.decode,w=se<32?1/((1<<se)-1):23283064365386963e-26;return[_*w*(d[1]-d[0])+d[0],Q*w*(d[3]-d[2])+d[2]]}readComponents(){const se=this.context.numComps,_=this.context.bitsPerComponent,Q=_<32?1/((1<<_)-1):23283064365386963e-26,d=this.context.decode,w=this.tmpCompsBuf;for(let l=0,b=4;l<se;l++,b+=2){const D=this.readBits(_);w[l]=D*Q*(d[b+1]-d[b])+d[b]}const q=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(w,0,q,0),this.context.colorSpace.getRgb(q,0)}}let O=Object.create(null);function f($){const se=[];for(let _=0;_<=$;_++){const Q=_/$,d=1-Q;se.push(new Float32Array([d**3,3*Q*d**2,3*Q**2*d,Q**3]))}return se}function p($){return O[$]||(O[$]=f($))}function i(){O=Object.create(null)}const H=class H extends K{constructor(se,_,Q,d,w){if(super(),!(se instanceof x.BaseStream))throw new n.FormatError("Mesh data is not a stream");const q=se.dict;this.shadingType=q.get("ShadingType");const l=q.getArray("BBox");this.bbox=Array.isArray(l)&&l.length===4?n.Util.normalizeRect(l):null;const b=U.ColorSpace.parse({cs:q.getRaw("CS")||q.getRaw("ColorSpace"),xref:_,resources:Q,pdfFunctionFactory:d,localColorSpaceCache:w});this.background=q.has("Background")?b.getRgb(q.get("Background"),0):null;const D=q.getRaw("Function"),Z=D?d.createFromArray(D):null;this.coords=[],this.colors=[],this.figures=[];const N={bitsPerCoordinate:q.get("BitsPerCoordinate"),bitsPerComponent:q.get("BitsPerComponent"),bitsPerFlag:q.get("BitsPerFlag"),decode:q.getArray("Decode"),colorFn:Z,colorSpace:b,numComps:Z?1:b.numComps},v=new L(se,N);let S=!1;switch(this.shadingType){case t.FREE_FORM_MESH:this._decodeType4Shading(v);break;case t.LATTICE_FORM_MESH:const I=q.get("VerticesPerRow")|0;if(I<2)throw new n.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(v,I);break;case t.COONS_PATCH_MESH:this._decodeType6Shading(v),S=!0;break;case t.TENSOR_PATCH_MESH:this._decodeType7Shading(v),S=!0;break;default:(0,n.unreachable)("Unsupported mesh type.");break}if(S){this._updateBounds();for(let I=0,u=this.figures.length;I<u;I++)this._buildFigureFromPatch(I)}this._updateBounds(),this._packData()}_decodeType4Shading(se){const _=this.coords,Q=this.colors,d=[];let w=0;for(;se.hasData;){const q=se.readFlag(),l=se.readCoordinate(),b=se.readComponents();if(w===0){if(!(0<=q&&q<=2))throw new n.FormatError("Unknown type4 flag");switch(q){case 0:w=3;break;case 1:d.push(d.at(-2),d.at(-1)),w=1;break;case 2:d.push(d.at(-3),d.at(-1)),w=1;break}}d.push(_.length),_.push(l),Q.push(b),w--,se.align()}this.figures.push({type:"triangles",coords:new Int32Array(d),colors:new Int32Array(d)})}_decodeType5Shading(se,_){const Q=this.coords,d=this.colors,w=[];for(;se.hasData;){const q=se.readCoordinate(),l=se.readComponents();w.push(Q.length),Q.push(q),d.push(l)}this.figures.push({type:"lattice",coords:new Int32Array(w),colors:new Int32Array(w),verticesPerRow:_})}_decodeType6Shading(se){const _=this.coords,Q=this.colors,d=new Int32Array(16),w=new Int32Array(4);for(;se.hasData;){const q=se.readFlag();if(!(0<=q&&q<=3))throw new n.FormatError("Unknown type6 flag");const l=_.length;for(let S=0,I=q!==0?8:12;S<I;S++)_.push(se.readCoordinate());const b=Q.length;for(let S=0,I=q!==0?2:4;S<I;S++)Q.push(se.readComponents());let D,Z,N,v;switch(q){case 0:d[12]=l+3,d[13]=l+4,d[14]=l+5,d[15]=l+6,d[8]=l+2,d[11]=l+7,d[4]=l+1,d[7]=l+8,d[0]=l,d[1]=l+11,d[2]=l+10,d[3]=l+9,w[2]=b+1,w[3]=b+2,w[0]=b,w[1]=b+3;break;case 1:D=d[12],Z=d[13],N=d[14],v=d[15],d[12]=v,d[13]=l+0,d[14]=l+1,d[15]=l+2,d[8]=N,d[11]=l+3,d[4]=Z,d[7]=l+4,d[0]=D,d[1]=l+7,d[2]=l+6,d[3]=l+5,D=w[2],Z=w[3],w[2]=Z,w[3]=b,w[0]=D,w[1]=b+1;break;case 2:D=d[15],Z=d[11],d[12]=d[3],d[13]=l+0,d[14]=l+1,d[15]=l+2,d[8]=d[7],d[11]=l+3,d[4]=Z,d[7]=l+4,d[0]=D,d[1]=l+7,d[2]=l+6,d[3]=l+5,D=w[3],w[2]=w[1],w[3]=b,w[0]=D,w[1]=b+1;break;case 3:d[12]=d[0],d[13]=l+0,d[14]=l+1,d[15]=l+2,d[8]=d[1],d[11]=l+3,d[4]=d[2],d[7]=l+4,d[0]=d[3],d[1]=l+7,d[2]=l+6,d[3]=l+5,w[2]=w[0],w[3]=b,w[0]=w[1],w[1]=b+1;break}d[5]=_.length,_.push([(-4*_[d[0]][0]-_[d[15]][0]+6*(_[d[4]][0]+_[d[1]][0])-2*(_[d[12]][0]+_[d[3]][0])+3*(_[d[13]][0]+_[d[7]][0]))/9,(-4*_[d[0]][1]-_[d[15]][1]+6*(_[d[4]][1]+_[d[1]][1])-2*(_[d[12]][1]+_[d[3]][1])+3*(_[d[13]][1]+_[d[7]][1]))/9]),d[6]=_.length,_.push([(-4*_[d[3]][0]-_[d[12]][0]+6*(_[d[2]][0]+_[d[7]][0])-2*(_[d[0]][0]+_[d[15]][0])+3*(_[d[4]][0]+_[d[14]][0]))/9,(-4*_[d[3]][1]-_[d[12]][1]+6*(_[d[2]][1]+_[d[7]][1])-2*(_[d[0]][1]+_[d[15]][1])+3*(_[d[4]][1]+_[d[14]][1]))/9]),d[9]=_.length,_.push([(-4*_[d[12]][0]-_[d[3]][0]+6*(_[d[8]][0]+_[d[13]][0])-2*(_[d[0]][0]+_[d[15]][0])+3*(_[d[11]][0]+_[d[1]][0]))/9,(-4*_[d[12]][1]-_[d[3]][1]+6*(_[d[8]][1]+_[d[13]][1])-2*(_[d[0]][1]+_[d[15]][1])+3*(_[d[11]][1]+_[d[1]][1]))/9]),d[10]=_.length,_.push([(-4*_[d[15]][0]-_[d[0]][0]+6*(_[d[11]][0]+_[d[14]][0])-2*(_[d[12]][0]+_[d[3]][0])+3*(_[d[2]][0]+_[d[8]][0]))/9,(-4*_[d[15]][1]-_[d[0]][1]+6*(_[d[11]][1]+_[d[14]][1])-2*(_[d[12]][1]+_[d[3]][1])+3*(_[d[2]][1]+_[d[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(d),colors:new Int32Array(w)})}}_decodeType7Shading(se){const _=this.coords,Q=this.colors,d=new Int32Array(16),w=new Int32Array(4);for(;se.hasData;){const q=se.readFlag();if(!(0<=q&&q<=3))throw new n.FormatError("Unknown type7 flag");const l=_.length;for(let S=0,I=q!==0?12:16;S<I;S++)_.push(se.readCoordinate());const b=Q.length;for(let S=0,I=q!==0?2:4;S<I;S++)Q.push(se.readComponents());let D,Z,N,v;switch(q){case 0:d[12]=l+3,d[13]=l+4,d[14]=l+5,d[15]=l+6,d[8]=l+2,d[9]=l+13,d[10]=l+14,d[11]=l+7,d[4]=l+1,d[5]=l+12,d[6]=l+15,d[7]=l+8,d[0]=l,d[1]=l+11,d[2]=l+10,d[3]=l+9,w[2]=b+1,w[3]=b+2,w[0]=b,w[1]=b+3;break;case 1:D=d[12],Z=d[13],N=d[14],v=d[15],d[12]=v,d[13]=l+0,d[14]=l+1,d[15]=l+2,d[8]=N,d[9]=l+9,d[10]=l+10,d[11]=l+3,d[4]=Z,d[5]=l+8,d[6]=l+11,d[7]=l+4,d[0]=D,d[1]=l+7,d[2]=l+6,d[3]=l+5,D=w[2],Z=w[3],w[2]=Z,w[3]=b,w[0]=D,w[1]=b+1;break;case 2:D=d[15],Z=d[11],d[12]=d[3],d[13]=l+0,d[14]=l+1,d[15]=l+2,d[8]=d[7],d[9]=l+9,d[10]=l+10,d[11]=l+3,d[4]=Z,d[5]=l+8,d[6]=l+11,d[7]=l+4,d[0]=D,d[1]=l+7,d[2]=l+6,d[3]=l+5,D=w[3],w[2]=w[1],w[3]=b,w[0]=D,w[1]=b+1;break;case 3:d[12]=d[0],d[13]=l+0,d[14]=l+1,d[15]=l+2,d[8]=d[1],d[9]=l+9,d[10]=l+10,d[11]=l+3,d[4]=d[2],d[5]=l+8,d[6]=l+11,d[7]=l+4,d[0]=d[3],d[1]=l+7,d[2]=l+6,d[3]=l+5,w[2]=w[0],w[3]=b,w[0]=w[1],w[1]=b+1;break}this.figures.push({type:"patch",coords:new Int32Array(d),colors:new Int32Array(w)})}}_buildFigureFromPatch(se){const _=this.figures[se];(0,n.assert)(_.type==="patch","Unexpected patch mesh figure");const Q=this.coords,d=this.colors,w=_.coords,q=_.colors,l=Math.min(Q[w[0]][0],Q[w[3]][0],Q[w[12]][0],Q[w[15]][0]),b=Math.min(Q[w[0]][1],Q[w[3]][1],Q[w[12]][1],Q[w[15]][1]),D=Math.max(Q[w[0]][0],Q[w[3]][0],Q[w[12]][0],Q[w[15]][0]),Z=Math.max(Q[w[0]][1],Q[w[3]][1],Q[w[12]][1],Q[w[15]][1]);let N=Math.ceil((D-l)*H.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));N=Math.max(H.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(H.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,N));let v=Math.ceil((Z-b)*H.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));v=Math.max(H.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(H.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,v));const S=N+1,I=new Int32Array((v+1)*S),u=new Int32Array((v+1)*S);let y=0;const r=new Uint8Array(3),A=new Uint8Array(3),E=d[q[0]],G=d[q[1]],ae=d[q[2]],ce=d[q[3]],Ie=p(v),fe=p(N);for(let Te=0;Te<=v;Te++){r[0]=(E[0]*(v-Te)+ae[0]*Te)/v|0,r[1]=(E[1]*(v-Te)+ae[1]*Te)/v|0,r[2]=(E[2]*(v-Te)+ae[2]*Te)/v|0,A[0]=(G[0]*(v-Te)+ce[0]*Te)/v|0,A[1]=(G[1]*(v-Te)+ce[1]*Te)/v|0,A[2]=(G[2]*(v-Te)+ce[2]*Te)/v|0;for(let be=0;be<=N;be++,y++){if((Te===0||Te===v)&&(be===0||be===N))continue;let ve=0,te=0,ie=0;for(let he=0;he<=3;he++)for(let ue=0;ue<=3;ue++,ie++){const we=Ie[Te][he]*fe[be][ue];ve+=Q[w[ie]][0]*we,te+=Q[w[ie]][1]*we}I[y]=Q.length,Q.push([ve,te]),u[y]=d.length;const ge=new Uint8Array(3);ge[0]=(r[0]*(N-be)+A[0]*be)/N|0,ge[1]=(r[1]*(N-be)+A[1]*be)/N|0,ge[2]=(r[2]*(N-be)+A[2]*be)/N|0,d.push(ge)}}I[0]=w[0],u[0]=q[0],I[N]=w[3],u[N]=q[1],I[S*v]=w[12],u[S*v]=q[2],I[S*v+N]=w[15],u[S*v+N]=q[3],this.figures[se]={type:"lattice",coords:I,colors:u,verticesPerRow:S}}_updateBounds(){let se=this.coords[0][0],_=this.coords[0][1],Q=se,d=_;for(let w=1,q=this.coords.length;w<q;w++){const l=this.coords[w][0],b=this.coords[w][1];se=se>l?l:se,_=_>b?b:_,Q=Q<l?l:Q,d=d<b?b:d}this.bounds=[se,_,Q,d]}_packData(){let se,_,Q,d;const w=this.coords,q=new Float32Array(w.length*2);for(se=0,Q=0,_=w.length;se<_;se++){const Z=w[se];q[Q++]=Z[0],q[Q++]=Z[1]}this.coords=q;const l=this.colors,b=new Uint8Array(l.length*3);for(se=0,Q=0,_=l.length;se<_;se++){const Z=l[se];b[Q++]=Z[0],b[Q++]=Z[1],b[Q++]=Z[2]}this.colors=b;const D=this.figures;for(se=0,_=D.length;se<_;se++){const Z=D[se],N=Z.coords,v=Z.colors;for(Q=0,d=N.length;Q<d;Q++)N[Q]*=2,v[Q]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};br(H,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),br(H,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),br(H,"TRIANGLE_DENSITY",20);let T=H;class F extends K{getIR(){return["Dummy"]}}function P($,se,_){const Q=se.getArray("Matrix"),d=n.Util.normalizeRect(se.getArray("BBox")),w=se.get("XStep"),q=se.get("YStep"),l=se.get("PaintType"),b=se.get("TilingType");if(d[2]-d[0]===0||d[3]-d[1]===0)throw new n.FormatError(`Invalid getTilingPatternIR /BBox array: [${d}].`);return["TilingPattern",_,$,Q,d,w,q,l,b]}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.getXfaFontDict=p,h.getXfaFontName=O;var n=re(52),x=re(4),U=re(53),e=re(54),t=re(55),o=re(56),K=re(3),X=re(38);const L=(0,K.getLookupTableFactory)(function(i){i["MyriadPro-Regular"]=i["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:t.MyriadProRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:t.MyriadProRegularMetrics},i["MyriadPro-Bold"]=i["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:t.MyriadProBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:t.MyriadProBoldMetrics},i["MyriadPro-It"]=i["MyriadPro-Italic"]=i["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:t.MyriadProItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:t.MyriadProItalicMetrics},i["MyriadPro-BoldIt"]=i["MyriadPro-BoldItalic"]=i["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.MyriadProBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:t.MyriadProBoldItalicMetrics},i.ArialMT=i.Arial=i["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping},i["Arial-BoldMT"]=i["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping},i["Arial-ItalicMT"]=i["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping},i["Arial-BoldItalicMT"]=i["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping},i["Calibri-Regular"]={name:"LiberationSans-Regular",factors:n.CalibriRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:n.CalibriRegularMetrics},i["Calibri-Bold"]={name:"LiberationSans-Bold",factors:n.CalibriBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:n.CalibriBoldMetrics},i["Calibri-Italic"]={name:"LiberationSans-Italic",factors:n.CalibriItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:n.CalibriItalicMetrics},i["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:n.CalibriBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:n.CalibriBoldItalicMetrics},i["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:o.SegoeuiRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:o.SegoeuiRegularMetrics},i["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:o.SegoeuiBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:o.SegoeuiBoldMetrics},i["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:o.SegoeuiItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:o.SegoeuiItalicMetrics},i["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:o.SegoeuiBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:o.SegoeuiBoldItalicMetrics},i["Helvetica-Regular"]=i.Helvetica={name:"LiberationSans-Regular",factors:U.HelveticaRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:U.HelveticaRegularMetrics},i["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:U.HelveticaBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:U.HelveticaBoldMetrics},i["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:U.HelveticaItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:U.HelveticaItalicMetrics},i["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:U.HelveticaBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:U.HelveticaBoldItalicMetrics}});function O(i){const T=(0,X.normalizeFontName)(i);return L()[T]}function f(i){const T=O(i);if(!T)return null;const{baseWidths:F,baseMapping:P,factors:C}=T,H=C?F.map((Q,d)=>Q*C[d]):F;let $=-2,se;const _=[];for(const[Q,d]of P.map((w,q)=>[w,q]).sort(([w],[q])=>w-q))Q!==-1&&(Q===$+1?(se.push(H[d]),$+=1):($=Q,se=[H[d]],_.push(Q,se)));return _}function p(i){const T=f(i),F=new x.Dict(null);F.set("BaseFont",x.Name.get(i)),F.set("Type",x.Name.get("Font")),F.set("Subtype",x.Name.get("CIDFontType2")),F.set("Encoding",x.Name.get("Identity-H")),F.set("CIDToGIDMap",x.Name.get("Identity")),F.set("W",T),F.set("FirstChar",T[0]),F.set("LastChar",T.at(-2)+T.at(-1).length-1);const P=new x.Dict(null);F.set("FontDescriptor",P);const C=new x.Dict(null);return C.set("Ordering","Identity"),C.set("Registry","Adobe"),C.set("Supplement",0),F.set("CIDSystemInfo",C),F}},(Pe,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CalibriRegularMetrics=h.CalibriRegularFactors=h.CalibriItalicMetrics=h.CalibriItalicFactors=h.CalibriBoldMetrics=h.CalibriBoldItalicMetrics=h.CalibriBoldItalicFactors=h.CalibriBoldFactors=void 0;const re=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];h.CalibriBoldFactors=re;const n={lineHeight:1.2207,lineGap:.2207};h.CalibriBoldMetrics=n;const x=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];h.CalibriBoldItalicFactors=x;const U={lineHeight:1.2207,lineGap:.2207};h.CalibriBoldItalicMetrics=U;const e=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];h.CalibriItalicFactors=e;const t={lineHeight:1.2207,lineGap:.2207};h.CalibriItalicMetrics=t;const o=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];h.CalibriRegularFactors=o;const K={lineHeight:1.2207,lineGap:.2207};h.CalibriRegularMetrics=K},(Pe,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.HelveticaRegularMetrics=h.HelveticaRegularFactors=h.HelveticaItalicMetrics=h.HelveticaItalicFactors=h.HelveticaBoldMetrics=h.HelveticaBoldItalicMetrics=h.HelveticaBoldItalicFactors=h.HelveticaBoldFactors=void 0;const re=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];h.HelveticaBoldFactors=re;const n={lineHeight:1.2,lineGap:.2};h.HelveticaBoldMetrics=n;const x=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];h.HelveticaBoldItalicFactors=x;const U={lineHeight:1.35,lineGap:.2};h.HelveticaBoldItalicMetrics=U;const e=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];h.HelveticaItalicFactors=e;const t={lineHeight:1.35,lineGap:.2};h.HelveticaItalicMetrics=t;const o=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];h.HelveticaRegularFactors=o;const K={lineHeight:1.2,lineGap:.2};h.HelveticaRegularMetrics=K},(Pe,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.LiberationSansRegularWidths=h.LiberationSansRegularMapping=h.LiberationSansItalicWidths=h.LiberationSansItalicMapping=h.LiberationSansBoldWidths=h.LiberationSansBoldMapping=h.LiberationSansBoldItalicWidths=h.LiberationSansBoldItalicMapping=void 0;const re=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];h.LiberationSansBoldWidths=re;const n=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];h.LiberationSansBoldMapping=n;const x=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];h.LiberationSansBoldItalicWidths=x;const U=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];h.LiberationSansBoldItalicMapping=U;const e=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];h.LiberationSansItalicWidths=e;const t=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];h.LiberationSansItalicMapping=t;const o=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];h.LiberationSansRegularWidths=o;const K=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];h.LiberationSansRegularMapping=K},(Pe,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.MyriadProRegularMetrics=h.MyriadProRegularFactors=h.MyriadProItalicMetrics=h.MyriadProItalicFactors=h.MyriadProBoldMetrics=h.MyriadProBoldItalicMetrics=h.MyriadProBoldItalicFactors=h.MyriadProBoldFactors=void 0;const re=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];h.MyriadProBoldFactors=re;const n={lineHeight:1.2,lineGap:.2};h.MyriadProBoldMetrics=n;const x=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];h.MyriadProBoldItalicFactors=x;const U={lineHeight:1.2,lineGap:.2};h.MyriadProBoldItalicMetrics=U;const e=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];h.MyriadProItalicFactors=e;const t={lineHeight:1.2,lineGap:.2};h.MyriadProItalicMetrics=t;const o=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];h.MyriadProRegularFactors=o;const K={lineHeight:1.2,lineGap:.2};h.MyriadProRegularMetrics=K},(Pe,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SegoeuiRegularMetrics=h.SegoeuiRegularFactors=h.SegoeuiItalicMetrics=h.SegoeuiItalicFactors=h.SegoeuiBoldMetrics=h.SegoeuiBoldItalicMetrics=h.SegoeuiBoldItalicFactors=h.SegoeuiBoldFactors=void 0;const re=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];h.SegoeuiBoldFactors=re;const n={lineHeight:1.33008,lineGap:0};h.SegoeuiBoldMetrics=n;const x=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];h.SegoeuiBoldItalicFactors=x;const U={lineHeight:1.33008,lineGap:0};h.SegoeuiBoldItalicMetrics=U;const e=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];h.SegoeuiItalicFactors=e;const t={lineHeight:1.33008,lineGap:0};h.SegoeuiItalicMetrics=t;const o=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];h.SegoeuiRegularFactors=o;const K={lineHeight:1.33008,lineGap:0};h.SegoeuiRegularMetrics=K},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PostScriptEvaluator=h.PostScriptCompiler=h.PDFFunctionFactory=void 0,h.isPDFFunction=L;var n=re(4),x=re(2),U=re(58),e=re(5),t=re(59);class o{constructor({xref:b,isEvalSupported:D=!0}){this.xref=b,this.isEvalSupported=D!==!1}create(b){const D=this.getCached(b);if(D)return D;const Z=X.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:b instanceof n.Ref?this.xref.fetch(b):b});return this._cache(b,Z),Z}createFromArray(b){const D=this.getCached(b);if(D)return D;const Z=X.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:b instanceof n.Ref?this.xref.fetch(b):b});return this._cache(b,Z),Z}getCached(b){var Z;let D;if(b instanceof n.Ref?D=b:b instanceof n.Dict?D=b.objId:b instanceof e.BaseStream&&(D=(Z=b.dict)==null?void 0:Z.objId),D){const N=this._localFunctionCache.getByRef(D);if(N)return N}return null}_cache(b,D){var N;if(!D)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let Z;b instanceof n.Ref?Z=b:b instanceof n.Dict?Z=b.objId:b instanceof e.BaseStream&&(Z=(N=b.dict)==null?void 0:N.objId),Z&&this._localFunctionCache.set(null,Z,D)}get _localFunctionCache(){return(0,x.shadow)(this,"_localFunctionCache",new t.LocalFunctionCache)}}h.PDFFunctionFactory=o;function K(l){if(!Array.isArray(l))return null;const b=l.length;for(let D=0;D<b;D++)if(typeof l[D]!="number"){const Z=new Array(b);for(let N=0;N<b;N++)Z[N]=+l[N];return Z}return l}class X{static getSampleArray(b,D,Z,N){let v,S,I=1;for(v=0,S=b.length;v<S;v++)I*=b[v];I*=D;const u=new Array(I);let y=0,r=0;const A=1/(2**Z-1),E=N.getBytes((I*Z+7)/8);let G=0;for(v=0;v<I;v++){for(;y<Z;)r<<=8,r|=E[G++],y+=8;y-=Z,u[v]=(r>>y)*A,r&=(1<<y)-1}return u}static parse({xref:b,isEvalSupported:D,fn:Z}){const N=Z.dict||Z;switch(N.get("FunctionType")){case 0:return this.constructSampled({xref:b,isEvalSupported:D,fn:Z,dict:N});case 1:break;case 2:return this.constructInterpolated({xref:b,isEvalSupported:D,dict:N});case 3:return this.constructStiched({xref:b,isEvalSupported:D,dict:N});case 4:return this.constructPostScript({xref:b,isEvalSupported:D,fn:Z,dict:N})}throw new x.FormatError("Unknown type of function")}static parseArray({xref:b,isEvalSupported:D,fnObj:Z}){if(!Array.isArray(Z))return this.parse({xref:b,isEvalSupported:D,fn:Z});const N=[];for(const v of Z)N.push(this.parse({xref:b,isEvalSupported:D,fn:b.fetchIfRef(v)}));return function(v,S,I,u){for(let y=0,r=N.length;y<r;y++)N[y](v,S,I,u+y)}}static constructSampled({xref:b,isEvalSupported:D,fn:Z,dict:N}){function v(fe){const Te=fe.length,be=[];let ve=0;for(let te=0;te<Te;te+=2)be[ve++]=[fe[te],fe[te+1]];return be}function S(fe,Te,be,ve,te){return ve+(fe-Te)*((te-ve)/(be-Te))}let I=K(N.getArray("Domain")),u=K(N.getArray("Range"));if(!I||!u)throw new x.FormatError("No domain or range");const y=I.length/2,r=u.length/2;I=v(I),u=v(u);const A=K(N.getArray("Size")),E=N.get("BitsPerSample"),G=N.get("Order")||1;G!==1&&(0,x.info)("No support for cubic spline interpolation: "+G);let ae=K(N.getArray("Encode"));if(ae)ae=v(ae);else{ae=[];for(let fe=0;fe<y;++fe)ae.push([0,A[fe]-1])}let ce=K(N.getArray("Decode"));ce=ce?v(ce):u;const Ie=this.getSampleArray(A,r,E,Z);return function(Te,be,ve,te){const ie=1<<y,ge=new Float64Array(ie),he=new Uint32Array(ie);let ue,we;for(we=0;we<ie;we++)ge[we]=1;let Ce=r,le=1;for(ue=0;ue<y;++ue){const ke=I[ue][0],Fe=I[ue][1],de=Math.min(Math.max(Te[be+ue],ke),Fe);let Ee=S(de,ke,Fe,ae[ue][0],ae[ue][1]);const Oe=A[ue];Ee=Math.min(Math.max(Ee,0),Oe-1);const Ne=Ee<Oe-1?Math.floor(Ee):Ee-1,et=Ne+1-Ee,rt=Ee-Ne,Ge=Ne*Ce,je=Ge+Ce;for(we=0;we<ie;we++)we&le?(ge[we]*=rt,he[we]+=je):(ge[we]*=et,he[we]+=Ge);Ce*=Oe,le<<=1}for(we=0;we<r;++we){let ke=0;for(ue=0;ue<ie;ue++)ke+=Ie[he[ue]+we]*ge[ue];ke=S(ke,0,1,ce[we][0],ce[we][1]),ve[te+we]=Math.min(Math.max(ke,u[we][0]),u[we][1])}}}static constructInterpolated({xref:b,isEvalSupported:D,dict:Z}){const N=K(Z.getArray("C0"))||[0],v=K(Z.getArray("C1"))||[1],S=Z.get("N"),I=[];for(let y=0,r=N.length;y<r;++y)I.push(v[y]-N[y]);const u=I.length;return function(r,A,E,G){const ae=S===1?r[A]:r[A]**S;for(let ce=0;ce<u;++ce)E[G+ce]=N[ce]+ae*I[ce]}}static constructStiched({xref:b,isEvalSupported:D,dict:Z}){const N=K(Z.getArray("Domain"));if(!N)throw new x.FormatError("No domain");if(N.length/2!==1)throw new x.FormatError("Bad domain for stiched function");const S=[];for(const r of Z.get("Functions"))S.push(this.parse({xref:b,isEvalSupported:D,fn:b.fetchIfRef(r)}));const I=K(Z.getArray("Bounds")),u=K(Z.getArray("Encode")),y=new Float32Array(1);return function(A,E,G,ae){const Ie=function(he,ue,we){return he>we?he=we:he<ue&&(he=ue),he}(A[E],N[0],N[1]),fe=I.length;let Te;for(Te=0;Te<fe&&!(Ie<I[Te]);++Te);let be=N[0];Te>0&&(be=I[Te-1]);let ve=N[1];Te<I.length&&(ve=I[Te]);const te=u[2*Te],ie=u[2*Te+1];y[0]=be===ve?te:te+(Ie-be)*(ie-te)/(ve-be),S[Te](y,0,G,ae)}}static constructPostScript({xref:b,isEvalSupported:D,fn:Z,dict:N}){const v=K(N.getArray("Domain")),S=K(N.getArray("Range"));if(!v)throw new x.FormatError("No domain.");if(!S)throw new x.FormatError("No range.");const I=new U.PostScriptLexer(Z),y=new U.PostScriptParser(I).parse();if(D&&x.FeatureTest.isEvalSupported){const fe=new w().compile(y,v,S);if(fe)return new Function("src","srcOffset","dest","destOffset",fe)}(0,x.info)("Unable to compile PS function");const r=S.length>>1,A=v.length>>1,E=new f(y),G=Object.create(null);let ce=2048*4;const Ie=new Float32Array(A);return function(Te,be,ve,te){let ie,ge,he="";const ue=Ie;for(ie=0;ie<A;ie++)ge=Te[be+ie],ue[ie]=ge,he+=ge+"_";const we=G[he];if(we!==void 0){ve.set(we,te);return}const Ce=new Float32Array(r),le=E.execute(ue),ke=le.length-r;for(ie=0;ie<r;ie++){ge=le[ke+ie];let Fe=S[ie*2];ge<Fe?ge=Fe:(Fe=S[ie*2+1],ge>Fe&&(ge=Fe)),Ce[ie]=ge}ce>0&&(ce--,G[he]=Ce),ve.set(Ce,te)}}}function L(l){let b;if(l instanceof n.Dict)b=l;else if(l instanceof e.BaseStream)b=l.dict;else return!1;return b.has("FunctionType")}const q=class q{constructor(b){this.stack=b?Array.from(b):[]}push(b){if(this.stack.length>=q.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(b)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(b){if(this.stack.length+b>=q.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const D=this.stack;for(let Z=D.length-b,N=b-1;N>=0;N--,Z++)D.push(D[Z])}index(b){this.push(this.stack[this.stack.length-b-1])}roll(b,D){const Z=this.stack,N=Z.length-b,v=Z.length-1,S=N+(D-Math.floor(D/b)*b);for(let I=N,u=v;I<u;I++,u--){const y=Z[I];Z[I]=Z[u],Z[u]=y}for(let I=N,u=S-1;I<u;I++,u--){const y=Z[I];Z[I]=Z[u],Z[u]=y}for(let I=S,u=v;I<u;I++,u--){const y=Z[I];Z[I]=Z[u],Z[u]=y}}};br(q,"MAX_STACK_SIZE",100);let O=q;class f{constructor(b){this.operators=b}execute(b){const D=new O(b);let Z=0;const N=this.operators,v=N.length;let S,I,u;for(;Z<v;){if(S=N[Z++],typeof S=="number"){D.push(S);continue}switch(S){case"jz":u=D.pop(),I=D.pop(),I||(Z=u);break;case"j":I=D.pop(),Z=I;break;case"abs":I=D.pop(),D.push(Math.abs(I));break;case"add":u=D.pop(),I=D.pop(),D.push(I+u);break;case"and":u=D.pop(),I=D.pop(),typeof I=="boolean"&&typeof u=="boolean"?D.push(I&&u):D.push(I&u);break;case"atan":u=D.pop(),I=D.pop(),I=Math.atan2(I,u)/Math.PI*180,I<0&&(I+=360),D.push(I);break;case"bitshift":u=D.pop(),I=D.pop(),I>0?D.push(I<<u):D.push(I>>u);break;case"ceiling":I=D.pop(),D.push(Math.ceil(I));break;case"copy":I=D.pop(),D.copy(I);break;case"cos":I=D.pop(),D.push(Math.cos(I%360/180*Math.PI));break;case"cvi":I=D.pop()|0,D.push(I);break;case"cvr":break;case"div":u=D.pop(),I=D.pop(),D.push(I/u);break;case"dup":D.copy(1);break;case"eq":u=D.pop(),I=D.pop(),D.push(I===u);break;case"exch":D.roll(2,1);break;case"exp":u=D.pop(),I=D.pop(),D.push(I**u);break;case"false":D.push(!1);break;case"floor":I=D.pop(),D.push(Math.floor(I));break;case"ge":u=D.pop(),I=D.pop(),D.push(I>=u);break;case"gt":u=D.pop(),I=D.pop(),D.push(I>u);break;case"idiv":u=D.pop(),I=D.pop(),D.push(I/u|0);break;case"index":I=D.pop(),D.index(I);break;case"le":u=D.pop(),I=D.pop(),D.push(I<=u);break;case"ln":I=D.pop(),D.push(Math.log(I));break;case"log":I=D.pop(),D.push(Math.log10(I));break;case"lt":u=D.pop(),I=D.pop(),D.push(I<u);break;case"mod":u=D.pop(),I=D.pop(),D.push(I%u);break;case"mul":u=D.pop(),I=D.pop(),D.push(I*u);break;case"ne":u=D.pop(),I=D.pop(),D.push(I!==u);break;case"neg":I=D.pop(),D.push(-I);break;case"not":I=D.pop(),typeof I=="boolean"?D.push(!I):D.push(~I);break;case"or":u=D.pop(),I=D.pop(),typeof I=="boolean"&&typeof u=="boolean"?D.push(I||u):D.push(I|u);break;case"pop":D.pop();break;case"roll":u=D.pop(),I=D.pop(),D.roll(I,u);break;case"round":I=D.pop(),D.push(Math.round(I));break;case"sin":I=D.pop(),D.push(Math.sin(I%360/180*Math.PI));break;case"sqrt":I=D.pop(),D.push(Math.sqrt(I));break;case"sub":u=D.pop(),I=D.pop(),D.push(I-u);break;case"true":D.push(!0);break;case"truncate":I=D.pop(),I=I<0?Math.ceil(I):Math.floor(I),D.push(I);break;case"xor":u=D.pop(),I=D.pop(),typeof I=="boolean"&&typeof u=="boolean"?D.push(I!==u):D.push(I^u);break;default:throw new x.FormatError(`Unknown operator ${S}`)}}return D.stack}}h.PostScriptEvaluator=f;class p{constructor(b){this.type=b}visit(b){(0,x.unreachable)("abstract method")}}class i extends p{constructor(b,D,Z){super("args"),this.index=b,this.min=D,this.max=Z}visit(b){b.visitArgument(this)}}class T extends p{constructor(b){super("literal"),this.number=b,this.min=b,this.max=b}visit(b){b.visitLiteral(this)}}class F extends p{constructor(b,D,Z,N,v){super("binary"),this.op=b,this.arg1=D,this.arg2=Z,this.min=N,this.max=v}visit(b){b.visitBinaryOperation(this)}}class P extends p{constructor(b,D){super("max"),this.arg=b,this.min=b.min,this.max=D}visit(b){b.visitMin(this)}}class C extends p{constructor(b,D,Z){super("var"),this.index=b,this.min=D,this.max=Z}visit(b){b.visitVariable(this)}}class H extends p{constructor(b,D){super("definition"),this.variable=b,this.arg=D}visit(b){b.visitVariableDefinition(this)}}class ${constructor(){this.parts=[]}visitArgument(b){this.parts.push("Math.max(",b.min,", Math.min(",b.max,", src[srcOffset + ",b.index,"]))")}visitVariable(b){this.parts.push("v",b.index)}visitLiteral(b){this.parts.push(b.number)}visitBinaryOperation(b){this.parts.push("("),b.arg1.visit(this),this.parts.push(" ",b.op," "),b.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(b){this.parts.push("var "),b.variable.visit(this),this.parts.push(" = "),b.arg.visit(this),this.parts.push(";")}visitMin(b){this.parts.push("Math.min("),b.arg.visit(this),this.parts.push(", ",b.max,")")}toString(){return this.parts.join("")}}function se(l,b){return b.type==="literal"&&b.number===0?l:l.type==="literal"&&l.number===0?b:b.type==="literal"&&l.type==="literal"?new T(l.number+b.number):new F("+",l,b,l.min+b.min,l.max+b.max)}function _(l,b){if(b.type==="literal"){if(b.number===0)return new T(0);if(b.number===1)return l;if(l.type==="literal")return new T(l.number*b.number)}if(l.type==="literal"){if(l.number===0)return new T(0);if(l.number===1)return b}const D=Math.min(l.min*b.min,l.min*b.max,l.max*b.min,l.max*b.max),Z=Math.max(l.min*b.min,l.min*b.max,l.max*b.min,l.max*b.max);return new F("*",l,b,D,Z)}function Q(l,b){if(b.type==="literal"){if(b.number===0)return l;if(l.type==="literal")return new T(l.number-b.number)}return b.type==="binary"&&b.op==="-"&&l.type==="literal"&&l.number===1&&b.arg1.type==="literal"&&b.arg1.number===1?b.arg2:new F("-",l,b,l.min-b.max,l.max-b.min)}function d(l,b){return l.min>=b?new T(b):l.max<=b?l:new P(l,b)}class w{compile(b,D,Z){const N=[],v=[],S=D.length>>1,I=Z.length>>1;let u=0,y,r,A,E,G,ae,ce,Ie;for(let Te=0;Te<S;Te++)N.push(new i(Te,D[Te*2],D[Te*2+1]));for(let Te=0,be=b.length;Te<be;Te++){if(Ie=b[Te],typeof Ie=="number"){N.push(new T(Ie));continue}switch(Ie){case"add":if(N.length<2)return null;E=N.pop(),A=N.pop(),N.push(se(A,E));break;case"cvr":if(N.length<1)return null;break;case"mul":if(N.length<2)return null;E=N.pop(),A=N.pop(),N.push(_(A,E));break;case"sub":if(N.length<2)return null;E=N.pop(),A=N.pop(),N.push(Q(A,E));break;case"exch":if(N.length<2)return null;G=N.pop(),ae=N.pop(),N.push(G,ae);break;case"pop":if(N.length<1)return null;N.pop();break;case"index":if(N.length<1||(A=N.pop(),A.type!=="literal")||(y=A.number,y<0||!Number.isInteger(y)||N.length<y))return null;if(G=N[N.length-y-1],G.type==="literal"||G.type==="var"){N.push(G);break}ce=new C(u++,G.min,G.max),N[N.length-y-1]=ce,N.push(ce),v.push(new H(ce,G));break;case"dup":if(N.length<1)return null;if(typeof b[Te+1]=="number"&&b[Te+2]==="gt"&&b[Te+3]===Te+7&&b[Te+4]==="jz"&&b[Te+5]==="pop"&&b[Te+6]===b[Te+1]){A=N.pop(),N.push(d(A,b[Te+1])),Te+=6;break}if(G=N.at(-1),G.type==="literal"||G.type==="var"){N.push(G);break}ce=new C(u++,G.min,G.max),N[N.length-1]=ce,N.push(ce),v.push(new H(ce,G));break;case"roll":if(N.length<2||(E=N.pop(),A=N.pop(),E.type!=="literal"||A.type!=="literal")||(r=E.number,y=A.number,y<=0||!Number.isInteger(y)||!Number.isInteger(r)||N.length<y))return null;if(r=(r%y+y)%y,r===0)break;N.push(...N.splice(N.length-y,y-r));break;default:return null}}if(N.length!==I)return null;const fe=[];for(const Te of v){const be=new $;Te.visit(be),fe.push(be.toString())}for(let Te=0,be=N.length;Te<be;Te++){const ve=N[Te],te=new $;ve.visit(te);const ie=Z[Te*2],ge=Z[Te*2+1],he=[te.toString()];ie>ve.min&&(he.unshift("Math.max(",ie,", "),he.push(")")),ge<ve.max&&(he.unshift("Math.min(",ge,", "),he.push(")")),he.unshift("dest[destOffset + ",Te,"] = "),he.push(";"),fe.push(he.join(""))}return fe.join(`
`)}}h.PostScriptCompiler=w},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PostScriptParser=h.PostScriptLexer=void 0;var n=re(2),x=re(4),U=re(3);class e{constructor(L){this.lexer=L,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(L){return this.token.type===L?(this.nextToken(),!0):!1}expect(L){if(this.accept(L))return!0;throw new n.FormatError(`Unexpected symbol: found ${this.token.type} expected ${L}.`)}parse(){return this.nextToken(),this.expect(t.LBRACE),this.parseBlock(),this.expect(t.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(t.NUMBER))this.operators.push(this.prev.value);else if(this.accept(t.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(t.LBRACE))this.parseCondition();else return}parseCondition(){const L=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(t.RBRACE),this.accept(t.IF))this.operators[L]=this.operators.length,this.operators[L+1]="jz";else if(this.accept(t.LBRACE)){const O=this.operators.length;this.operators.push(null,null);const f=this.operators.length;this.parseBlock(),this.expect(t.RBRACE),this.expect(t.IFELSE),this.operators[O]=this.operators.length,this.operators[O+1]="j",this.operators[L]=f,this.operators[L+1]="jz"}else throw new n.FormatError("PS Function: error parsing conditional.")}}h.PostScriptParser=e;const t={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class o{static get opCache(){return(0,n.shadow)(this,"opCache",Object.create(null))}constructor(L,O){this.type=L,this.value=O}static getOperator(L){var O;return(O=o.opCache)[L]||(O[L]=new o(t.OPERATOR,L))}static get LBRACE(){return(0,n.shadow)(this,"LBRACE",new o(t.LBRACE,"{"))}static get RBRACE(){return(0,n.shadow)(this,"RBRACE",new o(t.RBRACE,"}"))}static get IF(){return(0,n.shadow)(this,"IF",new o(t.IF,"IF"))}static get IFELSE(){return(0,n.shadow)(this,"IFELSE",new o(t.IFELSE,"IFELSE"))}}class K{constructor(L){this.stream=L,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let L=!1,O=this.currentChar;for(;;){if(O<0)return x.EOF;if(L)(O===10||O===13)&&(L=!1);else if(O===37)L=!0;else if(!(0,U.isWhiteSpace)(O))break;O=this.nextChar()}switch(O|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new o(t.NUMBER,this.getNumber());case 123:return this.nextChar(),o.LBRACE;case 125:return this.nextChar(),o.RBRACE}const f=this.strBuf;for(f.length=0,f[0]=String.fromCharCode(O);(O=this.nextChar())>=0&&(O>=65&&O<=90||O>=97&&O<=122);)f.push(String.fromCharCode(O));const p=f.join("");switch(p.toLowerCase()){case"if":return o.IF;case"ifelse":return o.IFELSE;default:return o.getOperator(p)}}getNumber(){let L=this.currentChar;const O=this.strBuf;for(O.length=0,O[0]=String.fromCharCode(L);(L=this.nextChar())>=0&&(L>=48&&L<=57||L===45||L===46);)O.push(String.fromCharCode(L));const f=parseFloat(O.join(""));if(isNaN(f))throw new n.FormatError(`Invalid floating point number: ${f}`);return f}}h.PostScriptLexer=K},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RegionalImageCache=h.LocalTilingPatternCache=h.LocalImageCache=h.LocalGStateCache=h.LocalFunctionCache=h.LocalColorSpaceCache=h.GlobalImageCache=void 0;var n=re(2),x=re(4);class U{constructor(i){this.constructor===U&&(0,n.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(i==null?void 0:i.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new x.RefSetCache}getByName(i){this._onlyRefs&&(0,n.unreachable)("Should not call `getByName` method.");const T=this._nameRefMap.get(i);return T?this.getByRef(T):this._imageMap.get(i)||null}getByRef(i){return this._imageCache.get(i)||null}set(i,T,F){(0,n.unreachable)("Abstract method `set` called.")}}class e extends U{set(i,T=null,F){if(typeof i!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(T){if(this._imageCache.has(T))return;this._nameRefMap.set(i,T),this._imageCache.put(T,F);return}this._imageMap.has(i)||this._imageMap.set(i,F)}}h.LocalImageCache=e;class t extends U{set(i=null,T=null,F){if(typeof i!="string"&&!T)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(T){if(this._imageCache.has(T))return;i!==null&&this._nameRefMap.set(i,T),this._imageCache.put(T,F);return}this._imageMap.has(i)||this._imageMap.set(i,F)}}h.LocalColorSpaceCache=t;class o extends U{constructor(i){super({onlyRefs:!0})}set(i=null,T,F){if(!T)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(T)||this._imageCache.put(T,F)}}h.LocalFunctionCache=o;class K extends U{set(i,T=null,F){if(typeof i!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(T){if(this._imageCache.has(T))return;this._nameRefMap.set(i,T),this._imageCache.put(T,F);return}this._imageMap.has(i)||this._imageMap.set(i,F)}}h.LocalGStateCache=K;class X extends U{constructor(i){super({onlyRefs:!0})}set(i=null,T,F){if(!T)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(T)||this._imageCache.put(T,F)}}h.LocalTilingPatternCache=X;class L extends U{constructor(i){super({onlyRefs:!0})}set(i=null,T,F){if(!T)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(T)||this._imageCache.put(T,F)}}h.RegionalImageCache=L;const f=class f{constructor(){this._refCache=new x.RefSetCache,this._imageCache=new x.RefSetCache}get _byteSize(){let i=0;for(const T of this._imageCache)i+=T.byteSize;return i}get _cacheLimitReached(){return!(this._imageCache.size<f.MIN_IMAGES_TO_CACHE||this._byteSize<f.MAX_BYTE_SIZE)}shouldCache(i,T){let F=this._refCache.get(i);return F||(F=new Set,this._refCache.put(i,F)),F.add(T),!(F.size<f.NUM_PAGES_THRESHOLD||!this._imageCache.has(i)&&this._cacheLimitReached)}addByteSize(i,T){const F=this._imageCache.get(i);F&&(F.byteSize||(F.byteSize=T))}getData(i,T){const F=this._refCache.get(i);if(!F||F.size<f.NUM_PAGES_THRESHOLD)return null;const P=this._imageCache.get(i);return P?(F.add(T),P):null}setData(i,T){if(!this._refCache.has(i))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(i)){if(this._cacheLimitReached){(0,n.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(i,T)}}clear(i=!1){i||this._refCache.clear(),this._imageCache.clear()}};br(f,"NUM_PAGES_THRESHOLD",2),br(f,"MIN_IMAGES_TO_CACHE",10),br(f,"MAX_BYTE_SIZE",5*n.MAX_IMAGE_SIZE_TO_CACHE);let O=f;h.GlobalImageCache=O},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.bidi=p;var n=re(2);const x=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],U=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function e(i){return(i&1)!==0}function t(i){return(i&1)===0}function o(i,T,F){let P,C;for(P=T,C=i.length;P<C;++P)if(i[P]!==F)return P;return P}function K(i,T,F,P){for(let C=T;C<F;++C)i[C]=P}function X(i,T,F){for(let P=T,C=F-1;P<C;++P,--C){const H=i[P];i[P]=i[C],i[C]=H}}function L(i,T,F=!1){let P="ltr";return F?P="ttb":T||(P="rtl"),{str:i,dir:P}}const O=[],f=[];function p(i,T=-1,F=!1){let P=!0;const C=i.length;if(C===0||F)return L(i,P,F);O.length=C,f.length=C;let H=0,$,se;for($=0;$<C;++$){O[$]=i.charAt($);const N=i.charCodeAt($);let v="L";N<=255?v=x[N]:1424<=N&&N<=1524?v="R":1536<=N&&N<=1791?(v=U[N&255],v||(0,n.warn)("Bidi: invalid Unicode character "+N.toString(16))):(1792<=N&&N<=2220||64336<=N&&N<=65023||65136<=N&&N<=65279)&&(v="AL"),(v==="R"||v==="AL"||v==="AN")&&H++,f[$]=v}if(H===0)return P=!0,L(i,P);T===-1&&(H/C<.3&&C>4?(P=!0,T=0):(P=!1,T=1));const _=[];for($=0;$<C;++$)_[$]=T;const Q=e(T)?"R":"L",d=Q,w=d;let q=d;for($=0;$<C;++$)f[$]==="NSM"?f[$]=q:q=f[$];q=d;let l;for($=0;$<C;++$)l=f[$],l==="EN"?f[$]=q==="AL"?"AN":"EN":(l==="R"||l==="L"||l==="AL")&&(q=l);for($=0;$<C;++$)l=f[$],l==="AL"&&(f[$]="R");for($=1;$<C-1;++$)f[$]==="ES"&&f[$-1]==="EN"&&f[$+1]==="EN"&&(f[$]="EN"),f[$]==="CS"&&(f[$-1]==="EN"||f[$-1]==="AN")&&f[$+1]===f[$-1]&&(f[$]=f[$-1]);for($=0;$<C;++$)if(f[$]==="EN"){for(let N=$-1;N>=0&&f[N]==="ET";--N)f[N]="EN";for(let N=$+1;N<C&&f[N]==="ET";++N)f[N]="EN"}for($=0;$<C;++$)l=f[$],(l==="WS"||l==="ES"||l==="ET"||l==="CS")&&(f[$]="ON");for(q=d,$=0;$<C;++$)l=f[$],l==="EN"?f[$]=q==="L"?"L":"EN":(l==="R"||l==="L")&&(q=l);for($=0;$<C;++$)if(f[$]==="ON"){const N=o(f,$+1,"ON");let v=d;$>0&&(v=f[$-1]);let S=w;N+1<C&&(S=f[N+1]),v!=="L"&&(v="R"),S!=="L"&&(S="R"),v===S&&K(f,$,N,v),$=N-1}for($=0;$<C;++$)f[$]==="ON"&&(f[$]=Q);for($=0;$<C;++$)l=f[$],t(_[$])?l==="R"?_[$]+=1:(l==="AN"||l==="EN")&&(_[$]+=2):(l==="L"||l==="AN"||l==="EN")&&(_[$]+=1);let b=-1,D=99,Z;for($=0,se=_.length;$<se;++$)Z=_[$],b<Z&&(b=Z),D>Z&&e(Z)&&(D=Z);for(Z=b;Z>=D;--Z){let N=-1;for($=0,se=_.length;$<se;++$)_[$]<Z?N>=0&&(X(O,N,$),N=-1):N<0&&(N=$);N>=0&&X(O,N,_.length)}for($=0,se=O.length;$<se;++$){const N=O[$];(N==="<"||N===">")&&(O[$]="")}return L(O.join(""),P)}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.getFontSubstitution=f;var n=re(38),x=re(3);const U={style:"normal",weight:"normal"},e={style:"normal",weight:"bold"},t={style:"italic",weight:"normal"},o={style:"italic",weight:"bold"},K=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:U,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:t,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:o,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:U,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:t,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:o,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:U,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:t,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:o,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:U,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:t,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:o,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:U,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:t,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:o,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:U}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),X=new Map([["Arial-Black","ArialBlack"]]);function L(p){switch(p){case e:return"Bold";case t:return"Italic";case o:return"Bold Italic";default:if((p==null?void 0:p.weight)==="bold")return"Bold";if((p==null?void 0:p.style)==="italic")return"Italic"}return""}function O({alias:p,local:i,path:T,fallback:F,style:P,ultimate:C},H,$,se=!0,_=!0,Q=""){const d={style:null,ultimate:null};if(i){const w=Q?` ${Q}`:"";for(const q of i)H.push(`local(${q}${w})`)}if(p){const w=K.get(p),q=Q||L(P);Object.assign(d,O(w,H,$,se&&!F,_&&!T,q))}if(P&&(d.style=P),C&&(d.ultimate=C),se&&F){const w=K.get(F),{ultimate:q}=O(w,H,$,se,_&&!T,Q);d.ultimate||(d.ultimate=q)}return _&&T&&$&&H.push(`url(${$}${T})`),d}function f(p,i,T,F,P){F=(0,n.normalizeFontName)(F);const C=F;let H=p.get(C);if(H)return H;let $=K.get(F);if(!$){for(const[b,D]of X)if(F.startsWith(b)){F=`${D}${F.substring(b.length)}`,$=K.get(F);break}}let se=!1;$||($=K.get(P),se=!0);const _=`${i.getDocId()}_s${i.createFontId()}`;if(!$){if(!(0,x.validateFontName)(F))return p.set(C,null),null;const b=/bold/gi.test(F),D=/oblique|italic/gi.test(F),Z=b&&D&&o||b&&e||D&&t||U;return H={css:_,guessFallback:!0,loadedName:_,baseFontName:F,src:`local(${F})`,style:Z},p.set(C,H),H}const Q=[];se&&(0,x.validateFontName)(F)&&Q.push(`local(${F})`);const{style:d,ultimate:w}=O($,Q,T),q=w===null,l=q?"":`,${w}`;return H={css:`${_}${l}`,guessFallback:q,loadedName:_,baseFontName:F,src:Q.join(","),style:d},p.set(C,H),H}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ImageResizer=void 0;var n=re(2);const x=2048,U=65537,e=128;class t{constructor(K,X){this._imgData=K,this._isMask=X}static needsToBeResized(K,X){if(K<=this._goodSquareLength&&X<=this._goodSquareLength)return!1;const{MAX_DIM:L}=this;if(K>L||X>L)return!0;const O=K*X;if(this._hasMaxArea)return O>this.MAX_AREA;if(O<this._goodSquareLength**2)return!1;if(this._areGoodDims(K,X))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(K*X))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,L,e,0);const f=this.MAX_AREA=this._goodSquareLength**2;return O>f}static get MAX_DIM(){return(0,n.shadow)(this,"MAX_DIM",this._guessMax(x,U,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",this._guessMax(t._goodSquareLength,this.MAX_DIM,e,0)**2)}static set MAX_AREA(K){K>=0&&(this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",K))}static setMaxArea(K){this._hasMaxArea||(this.MAX_AREA=K>>2)}static _areGoodDims(K,X){try{const L=new OffscreenCanvas(K,X),O=L.getContext("2d");O.fillRect(0,0,1,1);const f=O.getImageData(0,0,1,1).data[3];return L.width=L.height=1,f!==0}catch{return!1}}static _guessMax(K,X,L,O){for(;K+L+1<X;){const f=Math.floor((K+X)/2),p=O||f;this._areGoodDims(f,p)?K=f:X=f}return K}static async createImage(K,X=!1){return new t(K,X)._createImage()}async _createImage(){const K=this._encodeBMP(),X=new Blob([K.buffer],{type:"image/bmp"}),L=createImageBitmap(X),{MAX_AREA:O,MAX_DIM:f}=t,{_imgData:p}=this,{width:i,height:T}=p,F=Math.max(i/f,T/f,Math.sqrt(i*T/O)),P=Math.max(F,2),C=Math.round(10*(F+1.25))/10/P,H=Math.floor(Math.log2(C)),$=new Array(H+2).fill(2);$[0]=P,$.splice(-1,1,C/(1<<H));let se=i,_=T,Q=await L;for(const d of $){const w=se,q=_;se=Math.floor(se/d)-1,_=Math.floor(_/d)-1;const l=new OffscreenCanvas(se,_);l.getContext("2d").drawImage(Q,0,0,w,q,0,0,se,_),Q=l.transferToImageBitmap()}return p.data=null,p.bitmap=Q,p.width=se,p.height=_,p}_encodeBMP(){const{width:K,height:X,kind:L}=this._imgData;let O=this._imgData.data,f,p=new Uint8Array(0),i=p,T=0;switch(L){case n.ImageKind.GRAYSCALE_1BPP:{f=1,p=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const _=K+7>>3,Q=_+3&-4;if(_!==Q){const d=new Uint8Array(Q*X);let w=0;for(let q=0,l=X*_;q<l;q+=_,w+=Q)d.set(O.subarray(q,q+_),w);O=d}break}case n.ImageKind.RGB_24BPP:{if(f=24,K&3){const _=3*K,Q=_+3&-4,d=Q-_,w=new Uint8Array(Q*X);let q=0;for(let l=0,b=X*_;l<b;l+=_){const D=O.subarray(l,l+_);for(let Z=0;Z<_;Z+=3)w[q++]=D[Z+2],w[q++]=D[Z+1],w[q++]=D[Z];q+=d}O=w}else for(let _=0,Q=O.length;_<Q;_+=3){const d=O[_];O[_]=O[_+2],O[_+2]=d}break}case n.ImageKind.RGBA_32BPP:f=32,T=3,i=new Uint8Array(68);const se=new DataView(i.buffer);n.FeatureTest.isLittleEndian?(se.setUint32(0,255,!0),se.setUint32(4,65280,!0),se.setUint32(8,16711680,!0),se.setUint32(12,4278190080,!0)):(se.setUint32(0,4278190080,!0),se.setUint32(4,16711680,!0),se.setUint32(8,65280,!0),se.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let F=0;const P=40+i.length,C=14+P+p.length+O.length,H=new Uint8Array(C),$=new DataView(H.buffer);return $.setUint16(F,19778,!0),F+=2,$.setUint32(F,C,!0),F+=4,$.setUint32(F,0,!0),F+=4,$.setUint32(F,14+P+p.length,!0),F+=4,$.setUint32(F,P,!0),F+=4,$.setInt32(F,K,!0),F+=4,$.setInt32(F,-X,!0),F+=4,$.setUint16(F,1,!0),F+=2,$.setUint16(F,f,!0),F+=2,$.setUint32(F,T,!0),F+=4,$.setUint32(F,0,!0),F+=4,$.setInt32(F,0,!0),F+=4,$.setInt32(F,0,!0),F+=4,$.setUint32(F,p.length/4,!0),F+=4,$.setUint32(F,0,!0),F+=4,H.set(i,F),F+=i.length,H.set(p,F),F+=p.length,H.set(O,F),H}}h.ImageResizer=t,t._goodSquareLength=x},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.MurmurHash3_64=void 0;var n=re(2);const x=3285377520,U=4294901760,e=65535;class t{constructor(K){this.h1=K?K&4294967295:x,this.h2=K?K&4294967295:x}update(K){let X,L;if(typeof K=="string"){X=new Uint8Array(K.length*2),L=0;for(let _=0,Q=K.length;_<Q;_++){const d=K.charCodeAt(_);d<=255?X[L++]=d:(X[L++]=d>>>8,X[L++]=d&255)}}else if((0,n.isArrayBuffer)(K))X=K.slice(),L=X.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const O=L>>2,f=L-O*4,p=new Uint32Array(X.buffer,0,O);let i=0,T=0,F=this.h1,P=this.h2;const C=3432918353,H=461845907,$=C&e,se=H&e;for(let _=0;_<O;_++)_&1?(i=p[_],i=i*C&U|i*$&e,i=i<<15|i>>>17,i=i*H&U|i*se&e,F^=i,F=F<<13|F>>>19,F=F*5+3864292196):(T=p[_],T=T*C&U|T*$&e,T=T<<15|T>>>17,T=T*H&U|T*se&e,P^=T,P=P<<13|P>>>19,P=P*5+3864292196);switch(i=0,f){case 3:i^=X[O*4+2]<<16;case 2:i^=X[O*4+1]<<8;case 1:i^=X[O*4],i=i*C&U|i*$&e,i=i<<15|i>>>17,i=i*H&U|i*se&e,O&1?F^=i:P^=i}this.h1=F,this.h2=P}hexdigest(){let K=this.h1,X=this.h2;return K^=X>>>1,K=K*3981806797&U|K*36045&e,X=X*4283543511&U|((X<<16|K>>>16)*2950163797&U)>>>16,K^=X>>>1,K=K*444984403&U|K*60499&e,X=X*3301882366&U|((X<<16|K>>>16)*3120437893&U)>>>16,K^=X>>>1,(K>>>0).toString(16).padStart(8,"0")+(X>>>0).toString(16).padStart(8,"0")}}h.MurmurHash3_64=t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.OperatorList=void 0;var n=re(2);function x(X,L,O,f,p){let i=X;for(let T=0,F=L.length-1;T<F;T++){const P=L[T];i=i[P]||(i[P]=[])}i[L.at(-1)]={checkFn:O,iterateFn:f,processFn:p}}const U=[];x(U,[n.OPS.save,n.OPS.transform,n.OPS.paintInlineImageXObject,n.OPS.restore],null,function(L,O){const f=L.fnArray,p=L.iCurr-3,i=(O-p)%4;switch(i){case 0:return f[O]===n.OPS.save;case 1:return f[O]===n.OPS.transform;case 2:return f[O]===n.OPS.paintInlineImageXObject;case 3:return f[O]===n.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${i}`)},function(L,O){const F=L.fnArray,P=L.argsArray,C=L.iCurr,H=C-3,$=C-2,se=C-1,_=Math.min(Math.floor((O-H)/4),200);if(_<10)return O-(O-H)%4;let Q=0;const d=[];let w=0,q=1,l=1;for(let S=0;S<_;S++){const I=P[$+(S<<2)],u=P[se+(S<<2)][0];q+u.width>1e3&&(Q=Math.max(Q,q),l+=w+2,q=0,w=0),d.push({transform:I,x:q,y:l,w:u.width,h:u.height}),q+=u.width+2,w=Math.max(w,u.height)}const b=Math.max(Q,q)+1,D=l+w+1,Z=new Uint8Array(b*D*4),N=b<<2;for(let S=0;S<_;S++){const I=P[se+(S<<2)][0].data,u=d[S].w<<2;let y=0,r=d[S].x+d[S].y*b<<2;Z.set(I.subarray(0,u),r-N);for(let A=0,E=d[S].h;A<E;A++)Z.set(I.subarray(y,y+u),r),y+=u,r+=N;for(Z.set(I.subarray(y-u,y),r);r>=0;)I[r-4]=I[r],I[r-3]=I[r+1],I[r-2]=I[r+2],I[r-1]=I[r+3],I[r+u]=I[r+u-4],I[r+u+1]=I[r+u-3],I[r+u+2]=I[r+u-2],I[r+u+3]=I[r+u-1],r-=N}const v={width:b,height:D};if(L.isOffscreenCanvasSupported){const S=new OffscreenCanvas(b,D);S.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(Z.buffer),b,D),0,0),v.bitmap=S.transferToImageBitmap(),v.data=null}else v.kind=n.ImageKind.RGBA_32BPP,v.data=Z;return F.splice(H,_*4,n.OPS.paintInlineImageXObjectGroup),P.splice(H,_*4,[v,d]),H+1}),x(U,[n.OPS.save,n.OPS.transform,n.OPS.paintImageMaskXObject,n.OPS.restore],null,function(L,O){const f=L.fnArray,p=L.iCurr-3,i=(O-p)%4;switch(i){case 0:return f[O]===n.OPS.save;case 1:return f[O]===n.OPS.transform;case 2:return f[O]===n.OPS.paintImageMaskXObject;case 3:return f[O]===n.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${i}`)},function(L,O){const T=L.fnArray,F=L.argsArray,P=L.iCurr,C=P-3,H=P-2,$=P-1;let se=Math.floor((O-C)/4);if(se<10)return O-(O-C)%4;let _=!1,Q,d;const w=F[$][0],q=F[H][0],l=F[H][1],b=F[H][2],D=F[H][3];if(l===b){_=!0,Q=H+4;let Z=$+4;for(let N=1;N<se;N++,Q+=4,Z+=4)if(d=F[Q],F[Z][0]!==w||d[0]!==q||d[1]!==l||d[2]!==b||d[3]!==D){N<10?_=!1:se=N;break}}if(_){se=Math.min(se,1e3);const Z=new Float32Array(se*2);Q=H;for(let N=0;N<se;N++,Q+=4)d=F[Q],Z[N<<1]=d[4],Z[(N<<1)+1]=d[5];T.splice(C,se*4,n.OPS.paintImageMaskXObjectRepeat),F.splice(C,se*4,[w,q,l,b,D,Z])}else{se=Math.min(se,100);const Z=[];for(let N=0;N<se;N++){d=F[H+(N<<2)];const v=F[$+(N<<2)][0];Z.push({data:v.data,width:v.width,height:v.height,interpolate:v.interpolate,count:v.count,transform:d})}T.splice(C,se*4,n.OPS.paintImageMaskXObjectGroup),F.splice(C,se*4,[Z])}return C+1}),x(U,[n.OPS.save,n.OPS.transform,n.OPS.paintImageXObject,n.OPS.restore],function(X){const L=X.argsArray,O=X.iCurr-2;return L[O][1]===0&&L[O][2]===0},function(L,O){const f=L.fnArray,p=L.argsArray,i=L.iCurr-3,T=(O-i)%4;switch(T){case 0:return f[O]===n.OPS.save;case 1:if(f[O]!==n.OPS.transform)return!1;const F=L.iCurr-2,P=p[F][0],C=p[F][3];return!(p[O][0]!==P||p[O][1]!==0||p[O][2]!==0||p[O][3]!==C);case 2:if(f[O]!==n.OPS.paintImageXObject)return!1;const H=L.iCurr-1,$=p[H][0];return p[O][0]===$;case 3:return f[O]===n.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${T}`)},function(X,L){const p=X.fnArray,i=X.argsArray,T=X.iCurr,F=T-3,P=T-2,C=T-1,H=i[C][0],$=i[P][0],se=i[P][3],_=Math.min(Math.floor((L-F)/4),1e3);if(_<3)return L-(L-F)%4;const Q=new Float32Array(_*2);let d=P;for(let q=0;q<_;q++,d+=4){const l=i[d];Q[q<<1]=l[4],Q[(q<<1)+1]=l[5]}const w=[H,$,se,Q];return p.splice(F,_*4,n.OPS.paintImageXObjectRepeat),i.splice(F,_*4,w),F+1}),x(U,[n.OPS.beginText,n.OPS.setFont,n.OPS.setTextMatrix,n.OPS.showText,n.OPS.endText],null,function(L,O){const f=L.fnArray,p=L.argsArray,i=L.iCurr-4,T=(O-i)%5;switch(T){case 0:return f[O]===n.OPS.beginText;case 1:return f[O]===n.OPS.setFont;case 2:return f[O]===n.OPS.setTextMatrix;case 3:if(f[O]!==n.OPS.showText)return!1;const F=L.iCurr-3,P=p[F][0],C=p[F][1];return!(p[O][0]!==P||p[O][1]!==C);case 4:return f[O]===n.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${T}`)},function(X,L){const p=X.fnArray,i=X.argsArray,T=X.iCurr,F=T-4,P=T-3,C=T-2,H=T-1,$=T,se=i[P][0],_=i[P][1];let Q=Math.min(Math.floor((L-F)/5),1e3);if(Q<3)return L-(L-F)%5;let d=F;F>=4&&p[F-4]===p[P]&&p[F-3]===p[C]&&p[F-2]===p[H]&&p[F-1]===p[$]&&i[F-4][0]===se&&i[F-4][1]===_&&(Q++,d-=5);let w=d+4;for(let q=1;q<Q;q++)p.splice(w,3),i.splice(w,3),w+=2;return w+1});class e{constructor(L){this.queue=L}_optimize(){}push(L,O){this.queue.fnArray.push(L),this.queue.argsArray.push(O),this._optimize()}flush(){}reset(){}}class t extends e{constructor(L){super(L),this.state=null,this.context={iCurr:0,fnArray:L.fnArray,argsArray:L.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(L){this.context.isOffscreenCanvasSupported=L}_optimize(){const L=this.queue.fnArray;let O=this.lastProcessed,f=L.length,p=this.state,i=this.match;if(!p&&!i&&O+1===f&&!U[L[O]]){this.lastProcessed=f;return}const T=this.context;for(;O<f;){if(i){if((0,i.iterateFn)(T,O)){O++;continue}if(O=(0,i.processFn)(T,O+1),f=L.length,i=null,p=null,O>=f)break}if(p=(p||U)[L[O]],!p||Array.isArray(p)){O++;continue}if(T.iCurr=O,O++,p.checkFn&&!(0,p.checkFn)(T)){p=null;continue}i=p,p=null}this.state=p,this.match=i,this.lastProcessed=O}flush(){for(;this.match;){const L=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,L),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const K=class K{constructor(L=0,O){this._streamSink=O,this.fnArray=[],this.argsArray=[],this.optimizer=O&&!(L&n.RenderingIntentFlag.OPLIST)?new t(this):new e(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=O?null:Promise.resolve()}set isOffscreenCanvasSupported(L){this.optimizer.isOffscreenCanvasSupported=L}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(L,O){this.optimizer.push(L,O),this.weight++,this._streamSink&&(this.weight>=K.CHUNK_SIZE?this.flush():this.weight>=K.CHUNK_SIZE_ABOUT&&(L===n.OPS.restore||L===n.OPS.endText)&&this.flush())}addImageOps(L,O,f){f!==void 0&&this.addOp(n.OPS.beginMarkedContentProps,["OC",f]),this.addOp(L,O),f!==void 0&&this.addOp(n.OPS.endMarkedContent,[])}addDependency(L){this.dependencies.has(L)||(this.dependencies.add(L),this.addOp(n.OPS.dependency,[L]))}addDependencies(L){for(const O of L)this.addDependency(O)}addOpList(L){if(!(L instanceof K)){(0,n.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const O of L.dependencies)this.dependencies.add(O);for(let O=0,f=L.length;O<f;O++)this.addOp(L.fnArray[O],L.argsArray[O])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var i;const L=[],{fnArray:O,argsArray:f,length:p}=this;for(let T=0;T<p;T++)switch(O[T]){case n.OPS.paintInlineImageXObject:case n.OPS.paintInlineImageXObjectGroup:case n.OPS.paintImageMaskXObject:const F=f[T][0];!F.cached&&((i=F.data)==null?void 0:i.buffer)instanceof ArrayBuffer&&L.push(F.data.buffer);break}return L}flush(L=!1,O=null){this.optimizer.flush();const f=this.length;this._totalLength+=f,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:L,separateAnnots:O,length:f},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};br(K,"CHUNK_SIZE",1e3),br(K,"CHUNK_SIZE_ABOUT",K.CHUNK_SIZE-5);let o=K;h.OperatorList=o},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFImage=void 0;var n=re(2),x=re(28),U=re(5),e=re(12),t=re(18),o=re(62),K=re(26),X=re(30),L=re(4);function O(i,T,F,P){return i=T+i*F,i<0?i=0:i>P&&(i=P),i}function f(i,T,F,P,C,H){const $=C*H;let se;T<=8?se=new Uint8Array($):T<=16?se=new Uint16Array($):se=new Uint32Array($);const _=F/C,Q=P/H;let d,w,q,l=0,b;const D=new Uint16Array(C),Z=F;for(d=0;d<C;d++)D[d]=Math.floor(d*_);for(d=0;d<H;d++)for(q=Math.floor(d*Q)*Z,w=0;w<C;w++)b=q+D[w],se[l++]=i[b];return se}class p{constructor({xref:T,res:F,image:P,isInline:C=!1,smask:H=null,mask:$=null,isMask:se=!1,pdfFunctionFactory:_,localColorSpaceCache:Q}){var Z;this.image=P;const d=P.dict,w=d.get("F","Filter");let q;if(w instanceof L.Name)q=w.name;else if(Array.isArray(w)){const N=T.fetchIfRef(w[0]);N instanceof L.Name&&(q=N.name)}switch(q){case"JPXDecode":const N=new X.JpxImage;N.parseImageProperties(P.stream),P.stream.reset(),P.width=N.width,P.height=N.height,P.bitsPerComponent=N.bitsPerComponent,P.numComps=N.componentsCount;break;case"JBIG2Decode":P.bitsPerComponent=1,P.numComps=1;break}let l=d.get("W","Width"),b=d.get("H","Height");if(Number.isInteger(P.width)&&P.width>0&&Number.isInteger(P.height)&&P.height>0&&(P.width!==l||P.height!==b)&&((0,n.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),l=P.width,b=P.height),l<1||b<1)throw new n.FormatError(`Invalid image width: ${l} or height: ${b}`);this.width=l,this.height=b,this.interpolate=d.get("I","Interpolate"),this.imageMask=d.get("IM","ImageMask")||!1,this.matte=d.get("Matte")||!1;let D=P.bitsPerComponent;if(!D&&(D=d.get("BPC","BitsPerComponent"),!D))if(this.imageMask)D=1;else throw new n.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=D,!this.imageMask){let N=d.getRaw("CS")||d.getRaw("ColorSpace");if(!N)switch((0,n.info)("JPX images (which do not require color spaces)"),P.numComps){case 1:N=L.Name.get("DeviceGray");break;case 3:N=L.Name.get("DeviceRGB");break;case 4:N=L.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${P.numComps} color components not supported.`)}this.colorSpace=e.ColorSpace.parse({cs:N,xref:T,resources:C?F:null,pdfFunctionFactory:_,localColorSpaceCache:Q}),this.numComps=this.colorSpace.numComps}if(this.decode=d.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,D)||se&&!e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const N=(1<<D)-1;this.decodeCoefficients=[],this.decodeAddends=[];const v=((Z=this.colorSpace)==null?void 0:Z.name)==="Indexed";for(let S=0,I=0;S<this.decode.length;S+=2,++I){const u=this.decode[S],y=this.decode[S+1];this.decodeCoefficients[I]=v?(y-u)/N:y-u,this.decodeAddends[I]=v?u:N*u}}H?this.smask=new p({xref:T,res:F,image:H,isInline:C,pdfFunctionFactory:_,localColorSpaceCache:Q}):$&&($ instanceof U.BaseStream?$.dict.get("IM","ImageMask")?this.mask=new p({xref:T,res:F,image:$,isInline:C,isMask:!0,pdfFunctionFactory:_,localColorSpaceCache:Q}):(0,n.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=$)}static async buildImage({xref:T,res:F,image:P,isInline:C=!1,pdfFunctionFactory:H,localColorSpaceCache:$}){const se=P;let _=null,Q=null;const d=P.dict.get("SMask"),w=P.dict.get("Mask");return d?d instanceof U.BaseStream?_=d:(0,n.warn)("Unsupported /SMask format."):w&&(w instanceof U.BaseStream||Array.isArray(w)?Q=w:(0,n.warn)("Unsupported /Mask format.")),new p({xref:T,res:F,image:se,isInline:C,smask:_,mask:Q,pdfFunctionFactory:H,localColorSpaceCache:$})}static createRawMask({imgArray:T,width:F,height:P,imageIsFromDecodeStream:C,inverseDecode:H,interpolate:$}){const se=(F+7>>3)*P,_=T.byteLength,Q=se===_;let d,w;if(C&&(!H||Q)?d=T:H?(d=new Uint8Array(se),d.set(T),d.fill(255,_)):d=new Uint8Array(T),H)for(w=0;w<_;w++)d[w]^=255;return{data:d,width:F,height:P,interpolate:$}}static async createMask({imgArray:T,width:F,height:P,imageIsFromDecodeStream:C,inverseDecode:H,interpolate:$,isOffscreenCanvasSupported:se=!1}){const _=F===1&&P===1&&H===(T.length===0||!!(T[0]&128));if(_)return{isSingleOpaquePixel:_};if(se){if(o.ImageResizer.needsToBeResized(F,P)){const l=new Uint8ClampedArray(F*P*4);return(0,x.convertBlackAndWhiteToRGBA)({src:T,dest:l,width:F,height:P,nonBlackColor:0,inverseDecode:H}),o.ImageResizer.createImage({kind:n.ImageKind.RGBA_32BPP,data:l,width:F,height:P,interpolate:$})}const Q=new OffscreenCanvas(F,P),d=Q.getContext("2d"),w=d.createImageData(F,P);(0,x.convertBlackAndWhiteToRGBA)({src:T,dest:w.data,width:F,height:P,nonBlackColor:0,inverseDecode:H}),d.putImageData(w,0,0);const q=Q.transferToImageBitmap();return{data:null,width:F,height:P,interpolate:$,bitmap:q}}return this.createRawMask({imgArray:T,width:F,height:P,inverseDecode:H,imageIsFromDecodeStream:C,interpolate:$})}get drawWidth(){var T,F;return Math.max(this.width,((T=this.smask)==null?void 0:T.width)||0,((F=this.mask)==null?void 0:F.width)||0)}get drawHeight(){var T,F;return Math.max(this.height,((T=this.smask)==null?void 0:T.height)||0,((F=this.mask)==null?void 0:F.height)||0)}decodeBuffer(T){const F=this.bpc,P=this.numComps,C=this.decodeAddends,H=this.decodeCoefficients,$=(1<<F)-1;let se,_;if(F===1){for(se=0,_=T.length;se<_;se++)T[se]=+!T[se];return}let Q=0;for(se=0,_=this.width*this.height;se<_;se++)for(let d=0;d<P;d++)T[Q]=O(T[Q],C[d],H[d],$),Q++}getComponents(T){const F=this.bpc;if(F===8)return T;const P=this.width,C=this.height,H=this.numComps,$=P*C*H;let se=0,_;F<=8?_=new Uint8Array($):F<=16?_=new Uint16Array($):_=new Uint32Array($);const Q=P*H,d=(1<<F)-1;let w=0,q,l;if(F===1){let b,D,Z;for(let N=0;N<C;N++){for(D=w+(Q&-8),Z=w+Q;w<D;)l=T[se++],_[w]=l>>7&1,_[w+1]=l>>6&1,_[w+2]=l>>5&1,_[w+3]=l>>4&1,_[w+4]=l>>3&1,_[w+5]=l>>2&1,_[w+6]=l>>1&1,_[w+7]=l&1,w+=8;if(w<Z)for(l=T[se++],b=128;w<Z;)_[w++]=+!!(l&b),b>>=1}}else{let b=0;for(l=0,w=0,q=$;w<q;++w){for(w%Q===0&&(l=0,b=0);b<F;)l=l<<8|T[se++],b+=8;const D=b-F;let Z=l>>D;Z<0?Z=0:Z>d&&(Z=d),_[w]=Z,l&=(1<<D)-1,b=D}}return _}fillOpacity(T,F,P,C,H){const $=this.smask,se=this.mask;let _,Q,d,w,q,l;if($)Q=$.width,d=$.height,_=new Uint8ClampedArray(Q*d),$.fillGrayBuffer(_),(Q!==F||d!==P)&&(_=f(_,$.bpc,Q,d,F,P));else if(se)if(se instanceof p){for(Q=se.width,d=se.height,_=new Uint8ClampedArray(Q*d),se.numComps=1,se.fillGrayBuffer(_),w=0,q=Q*d;w<q;++w)_[w]=255-_[w];(Q!==F||d!==P)&&(_=f(_,se.bpc,Q,d,F,P))}else if(Array.isArray(se)){_=new Uint8ClampedArray(F*P);const b=this.numComps;for(w=0,q=F*P;w<q;++w){let D=0;const Z=w*b;for(l=0;l<b;++l){const N=H[Z+l],v=l*2;if(N<se[v]||N>se[v+1]){D=255;break}}_[w]=D}}else throw new n.FormatError("Unknown mask format.");if(_)for(w=0,l=3,q=F*C;w<q;++w,l+=4)T[l]=_[w];else for(w=0,l=3,q=F*C;w<q;++w,l+=4)T[l]=255}undoPreblend(T,F,P){var d;const C=(d=this.smask)==null?void 0:d.matte;if(!C)return;const H=this.colorSpace.getRgb(C,0),$=H[0],se=H[1],_=H[2],Q=F*P*4;for(let w=0;w<Q;w+=4){const q=T[w+3];if(q===0){T[w]=255,T[w+1]=255,T[w+2]=255;continue}const l=255/q;T[w]=(T[w]-$)*l+$,T[w+1]=(T[w+1]-se)*l+se,T[w+2]=(T[w+2]-_)*l+_}}async createImageData(T=!1,F=!1){const P=this.drawWidth,C=this.drawHeight,H={width:P,height:C,interpolate:this.interpolate,kind:0,data:null},$=this.numComps,se=this.width,_=this.height,Q=this.bpc,d=se*$*Q+7>>3,w=F&&o.ImageResizer.needsToBeResized(P,C);if(!T){let u;if(this.colorSpace.name==="DeviceGray"&&Q===1?u=n.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&Q===8&&!this.needsDecode&&(u=n.ImageKind.RGB_24BPP),u&&!this.smask&&!this.mask&&P===se&&C===_){const y=this.getImageBytes(_*d,{});if(F)return w?o.ImageResizer.createImage({data:y,kind:u,width:P,height:C,interpolate:this.interpolate},this.needsDecode):this.createBitmap(u,se,_,y);if(H.kind=u,H.data=y,this.needsDecode){(0,n.assert)(u===n.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const r=H.data;for(let A=0,E=r.length;A<E;A++)r[A]^=255}return H}if(this.image instanceof K.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let y=_*d;if(F&&!w){let r=!1;switch(this.colorSpace.name){case"DeviceGray":y*=4,r=!0;break;case"DeviceRGB":y=y/3*4,r=!0;break;case"DeviceCMYK":r=!0;break}if(r){const A=this.getImageBytes(y,{drawWidth:P,drawHeight:C,forceRGBA:!0});return this.createBitmap(n.ImageKind.RGBA_32BPP,P,C,A)}}else switch(this.colorSpace.name){case"DeviceGray":y*=3;case"DeviceRGB":case"DeviceCMYK":return H.kind=n.ImageKind.RGB_24BPP,H.data=this.getImageBytes(y,{drawWidth:P,drawHeight:C,forceRGB:!0}),w?o.ImageResizer.createImage(H):H}}}const q=this.getImageBytes(_*d,{internal:!0}),l=0|q.length/d*C/_,b=this.getComponents(q);let D,Z,N,v,S,I;if(F&&!w&&(N=new OffscreenCanvas(P,C),v=N.getContext("2d"),S=v.createImageData(P,C),I=S.data),H.kind=n.ImageKind.RGBA_32BPP,!T&&!this.smask&&!this.mask?(!F||w?(H.kind=n.ImageKind.RGB_24BPP,I=new Uint8ClampedArray(P*C*3),D=0):(new Uint32Array(I.buffer).fill(n.FeatureTest.isLittleEndian?4278190080:255),D=1),Z=!1):((!F||w)&&(I=new Uint8ClampedArray(P*C*4)),D=1,Z=!0,this.fillOpacity(I,P,C,l,b)),this.needsDecode&&this.decodeBuffer(b),this.colorSpace.fillRgb(I,se,_,P,C,l,Q,b,D),Z&&this.undoPreblend(I,P,l),F&&!w){v.putImageData(S,0,0);const u=N.transferToImageBitmap();return{data:null,width:P,height:C,bitmap:u,interpolate:this.interpolate}}return H.data=I,w?o.ImageResizer.createImage(H):H}fillGrayBuffer(T){const F=this.numComps;if(F!==1)throw new n.FormatError(`Reading gray scale from a color image: ${F}`);const P=this.width,C=this.height,H=this.bpc,$=P*F*H+7>>3,se=this.getImageBytes(C*$,{internal:!0}),_=this.getComponents(se);let Q,d;if(H===1){if(d=P*C,this.needsDecode)for(Q=0;Q<d;++Q)T[Q]=_[Q]-1&255;else for(Q=0;Q<d;++Q)T[Q]=-_[Q]&255;return}this.needsDecode&&this.decodeBuffer(_),d=P*C;const w=255/((1<<H)-1);for(Q=0;Q<d;++Q)T[Q]=w*_[Q]}createBitmap(T,F,P,C){const H=new OffscreenCanvas(F,P),$=H.getContext("2d");let se;T===n.ImageKind.RGBA_32BPP?se=new ImageData(C,F,P):(se=$.createImageData(F,P),(0,x.convertToRGBA)({kind:T,src:C,dest:new Uint32Array(se.data.buffer),width:F,height:P,inverseDecode:this.needsDecode})),$.putImageData(se,0,0);const _=H.transferToImageBitmap();return{data:null,width:F,height:P,bitmap:_,interpolate:this.interpolate}}getImageBytes(T,{drawWidth:F,drawHeight:P,forceRGBA:C=!1,forceRGB:H=!1,internal:$=!1}){this.image.reset(),this.image.drawWidth=F||this.width,this.image.drawHeight=P||this.height,this.image.forceRGBA=!!C,this.image.forceRGB=!!H;const se=this.image.getBytes(T);return $||this.image instanceof t.DecodeStream?se:((0,n.assert)(se instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(se))}}h.PDFImage=p},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Catalog=void 0;var n=re(3),x=re(2),U=re(4),e=re(67),t=re(5),o=re(68),K=re(12),X=re(69),L=re(59),O=re(70),f=re(72);function p(T){return T instanceof U.Dict&&(T=T.get("D")),Array.isArray(T)?T:null}class i{constructor(F,P){if(this.pdfManager=F,this.xref=P,this._catDict=P.getCatalogObj(),!(this._catDict instanceof U.Dict))throw new x.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new U.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new L.GlobalImageCache,this.pageKidsCountCache=new U.RefSetCache,this.pageIndexCache=new U.RefSetCache,this.nonBlendModesSet=new U.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const F=this._catDict.get("Version");if(F instanceof U.Name){if(n.PDF_VERSION_REGEXP.test(F.name))return(0,x.shadow)(this,"version",F.name);(0,x.warn)(`Invalid PDF catalog version: ${F.name}`)}return(0,x.shadow)(this,"version",null)}get lang(){const F=this._catDict.get("Lang");return(0,x.shadow)(this,"lang",typeof F=="string"?(0,x.stringToPDFString)(F):null)}get needsRendering(){const F=this._catDict.get("NeedsRendering");return(0,x.shadow)(this,"needsRendering",typeof F=="boolean"?F:!1)}get collection(){let F=null;try{const P=this._catDict.get("Collection");P instanceof U.Dict&&P.size>0&&(F=P)}catch(P){if(P instanceof n.MissingDataException)throw P;(0,x.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,x.shadow)(this,"collection",F)}get acroForm(){let F=null;try{const P=this._catDict.get("AcroForm");P instanceof U.Dict&&P.size>0&&(F=P)}catch(P){if(P instanceof n.MissingDataException)throw P;(0,x.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,x.shadow)(this,"acroForm",F)}get acroFormRef(){const F=this._catDict.getRaw("AcroForm");return(0,x.shadow)(this,"acroFormRef",F instanceof U.Ref?F:null)}get metadata(){var C;const F=this._catDict.getRaw("Metadata");if(!(F instanceof U.Ref))return(0,x.shadow)(this,"metadata",null);let P=null;try{const H=this.xref.fetch(F,!((C=this.xref.encrypt)!=null&&C.encryptMetadata));if(H instanceof t.BaseStream&&H.dict instanceof U.Dict){const $=H.dict.get("Type"),se=H.dict.get("Subtype");if((0,U.isName)($,"Metadata")&&(0,U.isName)(se,"XML")){const _=(0,x.stringToUTF8String)(H.getString());_&&(P=new O.MetadataParser(_).serializable)}}}catch(H){if(H instanceof n.MissingDataException)throw H;(0,x.info)(`Skipping invalid Metadata: "${H}".`)}return(0,x.shadow)(this,"metadata",P)}get markInfo(){let F=null;try{F=this._readMarkInfo()}catch(P){if(P instanceof n.MissingDataException)throw P;(0,x.warn)("Unable to read mark info.")}return(0,x.shadow)(this,"markInfo",F)}_readMarkInfo(){const F=this._catDict.get("MarkInfo");if(!(F instanceof U.Dict))return null;const P={Marked:!1,UserProperties:!1,Suspects:!1};for(const C in P){const H=F.get(C);typeof H=="boolean"&&(P[C]=H)}return P}get structTreeRoot(){let F=null;try{F=this._readStructTreeRoot()}catch(P){if(P instanceof n.MissingDataException)throw P;(0,x.warn)("Unable read to structTreeRoot info.")}return(0,x.shadow)(this,"structTreeRoot",F)}_readStructTreeRoot(){const F=this._catDict.getRaw("StructTreeRoot"),P=this.xref.fetchIfRef(F);if(!(P instanceof U.Dict))return null;const C=new f.StructTreeRoot(P,F);return C.init(),C}get toplevelPagesDict(){const F=this._catDict.get("Pages");if(!(F instanceof U.Dict))throw new x.FormatError("Invalid top-level pages dictionary.");return(0,x.shadow)(this,"toplevelPagesDict",F)}get documentOutline(){let F=null;try{F=this._readDocumentOutline()}catch(P){if(P instanceof n.MissingDataException)throw P;(0,x.warn)("Unable to read document outline.")}return(0,x.shadow)(this,"documentOutline",F)}_readDocumentOutline(){let F=this._catDict.get("Outlines");if(!(F instanceof U.Dict)||(F=F.getRaw("First"),!(F instanceof U.Ref)))return null;const P={items:[]},C=[{obj:F,parent:P}],H=new U.RefSet;H.put(F);const $=this.xref,se=new Uint8ClampedArray(3);for(;C.length>0;){const _=C.shift(),Q=$.fetchIfRef(_.obj);if(Q===null)continue;if(!Q.has("Title"))throw new x.FormatError("Invalid outline item encountered.");const d={url:null,dest:null,action:null};i.parseDestDictionary({destDict:Q,resultObj:d,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const w=Q.get("Title"),q=Q.get("F")||0,l=Q.getArray("C"),b=Q.get("Count");let D=se;Array.isArray(l)&&l.length===3&&(l[0]!==0||l[1]!==0||l[2]!==0)&&(D=K.ColorSpace.singletons.rgb.getRgb(l,0));const Z={action:d.action,attachment:d.attachment,dest:d.dest,url:d.url,unsafeUrl:d.unsafeUrl,newWindow:d.newWindow,setOCGState:d.setOCGState,title:(0,x.stringToPDFString)(w),color:D,count:Number.isInteger(b)?b:void 0,bold:!!(q&2),italic:!!(q&1),items:[]};_.parent.items.push(Z),F=Q.getRaw("First"),F instanceof U.Ref&&!H.has(F)&&(C.push({obj:F,parent:Z}),H.put(F)),F=Q.getRaw("Next"),F instanceof U.Ref&&!H.has(F)&&(C.push({obj:F,parent:_.parent}),H.put(F))}return P.items.length>0?P.items:null}get permissions(){let F=null;try{F=this._readPermissions()}catch(P){if(P instanceof n.MissingDataException)throw P;(0,x.warn)("Unable to read permissions.")}return(0,x.shadow)(this,"permissions",F)}_readPermissions(){const F=this.xref.trailer.get("Encrypt");if(!(F instanceof U.Dict))return null;let P=F.get("P");if(typeof P!="number")return null;P+=4294967296;const C=[];for(const H in x.PermissionFlag){const $=x.PermissionFlag[H];P&$&&C.push($)}return C}get optionalContentConfig(){let F=null;try{const P=this._catDict.get("OCProperties");if(!P)return(0,x.shadow)(this,"optionalContentConfig",null);const C=P.get("D");if(!C)return(0,x.shadow)(this,"optionalContentConfig",null);const H=P.get("OCGs");if(!Array.isArray(H))return(0,x.shadow)(this,"optionalContentConfig",null);const $=[],se=[];for(const _ of H){if(!(_ instanceof U.Ref))continue;se.push(_);const Q=this.xref.fetchIfRef(_);$.push({id:_.toString(),name:typeof Q.get("Name")=="string"?(0,x.stringToPDFString)(Q.get("Name")):null,intent:typeof Q.get("Intent")=="string"?(0,x.stringToPDFString)(Q.get("Intent")):null})}F=this._readOptionalContentConfig(C,se),F.groups=$}catch(P){if(P instanceof n.MissingDataException)throw P;(0,x.warn)(`Unable to read optional content config: ${P}`)}return(0,x.shadow)(this,"optionalContentConfig",F)}_readOptionalContentConfig(F,P){function C(d){const w=[];if(Array.isArray(d))for(const q of d)q instanceof U.Ref&&P.includes(q)&&w.push(q.toString());return w}function H(d,w=0){if(!Array.isArray(d))return null;const q=[];for(const b of d){if(b instanceof U.Ref&&P.includes(b)){_.put(b),q.push(b.toString());continue}const D=$(b,w);D&&q.push(D)}if(w>0)return q;const l=[];for(const b of P)_.has(b)||l.push(b.toString());return l.length&&q.push({name:null,order:l}),q}function $(d,w){if(++w>Q)return(0,x.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const q=se.fetchIfRef(d);if(!Array.isArray(q))return null;const l=se.fetchIfRef(q[0]);if(typeof l!="string")return null;const b=H(q.slice(1),w);return!b||!b.length?null:{name:(0,x.stringToPDFString)(l),order:b}}const se=this.xref,_=new U.RefSet,Q=10;return{name:typeof F.get("Name")=="string"?(0,x.stringToPDFString)(F.get("Name")):null,creator:typeof F.get("Creator")=="string"?(0,x.stringToPDFString)(F.get("Creator")):null,baseState:F.get("BaseState")instanceof U.Name?F.get("BaseState").name:null,on:C(F.get("ON")),off:C(F.get("OFF")),order:H(F.get("Order")),groups:null}}setActualNumPages(F=null){this._actualNumPages=F}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const F=this.toplevelPagesDict.get("Count");if(!Number.isInteger(F))throw new x.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,x.shadow)(this,"_pagesCount",F)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const F=this._readDests(),P=Object.create(null);if(F instanceof e.NameTree)for(const[C,H]of F.getAll()){const $=p(H);$&&(P[(0,x.stringToPDFString)(C)]=$)}else F instanceof U.Dict&&F.forEach(function(C,H){const $=p(H);$&&(P[C]=$)});return(0,x.shadow)(this,"destinations",P)}getDestination(F){const P=this._readDests();if(P instanceof e.NameTree){const C=p(P.get(F));if(C)return C;const H=this.destinations[F];if(H)return(0,x.warn)(`Found "${F}" at an incorrect position in the NameTree.`),H}else if(P instanceof U.Dict){const C=p(P.get(F));if(C)return C}return null}_readDests(){const F=this._catDict.get("Names");if(F!=null&&F.has("Dests"))return new e.NameTree(F.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let F=null;try{F=this._readPageLabels()}catch(P){if(P instanceof n.MissingDataException)throw P;(0,x.warn)("Unable to read page labels.")}return(0,x.shadow)(this,"pageLabels",F)}_readPageLabels(){const F=this._catDict.getRaw("PageLabels");if(!F)return null;const P=new Array(this.numPages);let C=null,H="";const se=new e.NumberTree(F,this.xref).getAll();let _="",Q=1;for(let d=0,w=this.numPages;d<w;d++){const q=se.get(d);if(q!==void 0){if(!(q instanceof U.Dict))throw new x.FormatError("PageLabel is not a dictionary.");if(q.has("Type")&&!(0,U.isName)(q.get("Type"),"PageLabel"))throw new x.FormatError("Invalid type in PageLabel dictionary.");if(q.has("S")){const l=q.get("S");if(!(l instanceof U.Name))throw new x.FormatError("Invalid style in PageLabel dictionary.");C=l.name}else C=null;if(q.has("P")){const l=q.get("P");if(typeof l!="string")throw new x.FormatError("Invalid prefix in PageLabel dictionary.");H=(0,x.stringToPDFString)(l)}else H="";if(q.has("St")){const l=q.get("St");if(!(Number.isInteger(l)&&l>=1))throw new x.FormatError("Invalid start in PageLabel dictionary.");Q=l}else Q=1}switch(C){case"D":_=Q;break;case"R":case"r":_=(0,n.toRomanNumerals)(Q,C==="r");break;case"A":case"a":const l=26,Z=C==="a"?97:65,N=Q-1;_=String.fromCharCode(Z+N%l).repeat(Math.floor(N/l)+1);break;default:if(C)throw new x.FormatError(`Invalid style "${C}" in PageLabel dictionary.`);_=""}P[d]=H+_,Q++}return P}get pageLayout(){const F=this._catDict.get("PageLayout");let P="";if(F instanceof U.Name)switch(F.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":P=F.name}return(0,x.shadow)(this,"pageLayout",P)}get pageMode(){const F=this._catDict.get("PageMode");let P="UseNone";if(F instanceof U.Name)switch(F.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":P=F.name}return(0,x.shadow)(this,"pageMode",P)}get viewerPreferences(){const F=this._catDict.get("ViewerPreferences");if(!(F instanceof U.Dict))return(0,x.shadow)(this,"viewerPreferences",null);let P=null;for(const C of F.getKeys()){const H=F.get(C);let $;switch(C){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof H=="boolean"&&($=H);break;case"NonFullScreenPageMode":if(H instanceof U.Name)switch(H.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":$=H.name;break;default:$="UseNone"}break;case"Direction":if(H instanceof U.Name)switch(H.name){case"L2R":case"R2L":$=H.name;break;default:$="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(H instanceof U.Name)switch(H.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":$=H.name;break;default:$="CropBox"}break;case"PrintScaling":if(H instanceof U.Name)switch(H.name){case"None":case"AppDefault":$=H.name;break;default:$="AppDefault"}break;case"Duplex":if(H instanceof U.Name)switch(H.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":$=H.name;break;default:$="None"}break;case"PrintPageRange":Array.isArray(H)&&H.length%2===0&&H.every((_,Q,d)=>Number.isInteger(_)&&_>0&&(Q===0||_>=d[Q-1])&&_<=this.numPages)&&($=H);break;case"NumCopies":Number.isInteger(H)&&H>0&&($=H);break;default:(0,x.warn)(`Ignoring non-standard key in ViewerPreferences: ${C}.`);continue}if($===void 0){(0,x.warn)(`Bad value, for key "${C}", in ViewerPreferences: ${H}.`);continue}P||(P=Object.create(null)),P[C]=$}return(0,x.shadow)(this,"viewerPreferences",P)}get openAction(){const F=this._catDict.get("OpenAction"),P=Object.create(null);if(F instanceof U.Dict){const C=new U.Dict(this.xref);C.set("A",F);const H={url:null,dest:null,action:null};i.parseDestDictionary({destDict:C,resultObj:H}),Array.isArray(H.dest)?P.dest=H.dest:H.action&&(P.action=H.action)}else Array.isArray(F)&&(P.dest=F);return(0,x.shadow)(this,"openAction",(0,x.objectSize)(P)>0?P:null)}get attachments(){const F=this._catDict.get("Names");let P=null;if(F instanceof U.Dict&&F.has("EmbeddedFiles")){const C=new e.NameTree(F.getRaw("EmbeddedFiles"),this.xref);for(const[H,$]of C.getAll()){const se=new X.FileSpec($,this.xref);P||(P=Object.create(null)),P[(0,x.stringToPDFString)(H)]=se.serializable}}return(0,x.shadow)(this,"attachments",P)}get xfaImages(){const F=this._catDict.get("Names");let P=null;if(F instanceof U.Dict&&F.has("XFAImages")){const C=new e.NameTree(F.getRaw("XFAImages"),this.xref);for(const[H,$]of C.getAll())P||(P=new U.Dict(this.xref)),P.set((0,x.stringToPDFString)(H),$)}return(0,x.shadow)(this,"xfaImages",P)}_collectJavaScript(){const F=this._catDict.get("Names");let P=null;function C($,se){if(!(se instanceof U.Dict)||!(0,U.isName)(se.get("S"),"JavaScript"))return;let _=se.get("JS");if(_ instanceof t.BaseStream)_=_.getString();else if(typeof _!="string")return;_=(0,x.stringToPDFString)(_).replaceAll("\0",""),_&&(P||(P=new Map)).set($,_)}if(F instanceof U.Dict&&F.has("JavaScript")){const $=new e.NameTree(F.getRaw("JavaScript"),this.xref);for(const[se,_]of $.getAll())C((0,x.stringToPDFString)(se),_)}const H=this._catDict.get("OpenAction");return H&&C("OpenAction",H),P}get jsActions(){const F=this._collectJavaScript();let P=(0,n.collectActions)(this.xref,this._catDict,x.DocumentActionEventType);if(F){P||(P=Object.create(null));for(const[C,H]of F)C in P?P[C].push(H):P[C]=[H]}return(0,x.shadow)(this,"jsActions",P)}async fontFallback(F,P){const C=await Promise.all(this.fontCache);for(const H of C)if(H.loadedName===F){H.fallback(P);return}}async cleanup(F=!1){(0,o.clearGlobalCaches)(),this.globalImageCache.clear(F),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const P=await Promise.all(this.fontCache);for(const{dict:C}of P)delete C.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(F){const P=[this.toplevelPagesDict],C=new U.RefSet,H=this._catDict.getRaw("Pages");H instanceof U.Ref&&C.put(H);const $=this.xref,se=this.pageKidsCountCache,_=this.pageIndexCache;let Q=0;for(;P.length;){const d=P.pop();if(d instanceof U.Ref){const b=se.get(d);if(b>=0&&Q+b<=F){Q+=b;continue}if(C.has(d))throw new x.FormatError("Pages tree contains circular reference.");C.put(d);const D=await $.fetchAsync(d);if(D instanceof U.Dict){let Z=D.getRaw("Type");if(Z instanceof U.Ref&&(Z=await $.fetchAsync(Z)),(0,U.isName)(Z,"Page")||!D.has("Kids")){if(se.has(d)||se.put(d,1),_.has(d)||_.put(d,Q),Q===F)return[D,d];Q++;continue}}P.push(D);continue}if(!(d instanceof U.Dict))throw new x.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:w}=d;let q=d.getRaw("Count");if(q instanceof U.Ref&&(q=await $.fetchAsync(q)),Number.isInteger(q)&&q>=0&&(w&&!se.has(w)&&se.put(w,q),Q+q<=F)){Q+=q;continue}let l=d.getRaw("Kids");if(l instanceof U.Ref&&(l=await $.fetchAsync(l)),!Array.isArray(l)){let b=d.getRaw("Type");if(b instanceof U.Ref&&(b=await $.fetchAsync(b)),(0,U.isName)(b,"Page")||!d.has("Kids")){if(Q===F)return[d,null];Q++;continue}throw new x.FormatError("Page dictionary kids object is not an array.")}for(let b=l.length-1;b>=0;b--)P.push(l[b])}throw new Error(`Page index ${F} not found.`)}async getAllPageDicts(F=!1){const{ignoreErrors:P}=this.pdfManager.evaluatorOptions,C=[{currentNode:this.toplevelPagesDict,posInKids:0}],H=new U.RefSet,$=this._catDict.getRaw("Pages");$ instanceof U.Ref&&H.put($);const se=new Map,_=this.xref,Q=this.pageIndexCache;let d=0;function w(l,b){b&&!Q.has(b)&&Q.put(b,d),se.set(d++,[l,b])}function q(l){if(l instanceof n.XRefEntryException&&!F)throw l;F&&P&&d===0&&((0,x.warn)(`getAllPageDicts - Skipping invalid first page: "${l}".`),l=U.Dict.empty),se.set(d++,[l,null])}for(;C.length>0;){const l=C.at(-1),{currentNode:b,posInKids:D}=l;let Z=b.getRaw("Kids");if(Z instanceof U.Ref)try{Z=await _.fetchAsync(Z)}catch(I){q(I);break}if(!Array.isArray(Z)){q(new x.FormatError("Page dictionary kids object is not an array."));break}if(D>=Z.length){C.pop();continue}const N=Z[D];let v;if(N instanceof U.Ref){if(H.has(N)){q(new x.FormatError("Pages tree contains circular reference."));break}H.put(N);try{v=await _.fetchAsync(N)}catch(I){q(I);break}}else v=N;if(!(v instanceof U.Dict)){q(new x.FormatError("Page dictionary kid reference points to wrong type of object."));break}let S=v.getRaw("Type");if(S instanceof U.Ref)try{S=await _.fetchAsync(S)}catch(I){q(I);break}(0,U.isName)(S,"Page")||!v.has("Kids")?w(v,N instanceof U.Ref?N:null):C.push({currentNode:v,posInKids:0}),l.posInKids++}return se}getPageIndex(F){const P=this.pageIndexCache.get(F);if(P!==void 0)return Promise.resolve(P);const C=this.xref;function H(_){let Q=0,d;return C.fetchAsync(_).then(function(w){if((0,U.isRefsEqual)(_,F)&&!(0,U.isDict)(w,"Page")&&!(w instanceof U.Dict&&!w.has("Type")&&w.has("Contents")))throw new x.FormatError("The reference does not point to a /Page dictionary.");if(!w)return null;if(!(w instanceof U.Dict))throw new x.FormatError("Node must be a dictionary.");return d=w.getRaw("Parent"),w.getAsync("Parent")}).then(function(w){if(!w)return null;if(!(w instanceof U.Dict))throw new x.FormatError("Parent must be a dictionary.");return w.getAsync("Kids")}).then(function(w){if(!w)return null;const q=[];let l=!1;for(const b of w){if(!(b instanceof U.Ref))throw new x.FormatError("Kid must be a reference.");if((0,U.isRefsEqual)(b,_)){l=!0;break}q.push(C.fetchAsync(b).then(function(D){if(!(D instanceof U.Dict))throw new x.FormatError("Kid node must be a dictionary.");D.has("Count")?Q+=D.get("Count"):Q++}))}if(!l)throw new x.FormatError("Kid reference not found in parent's kids.");return Promise.all(q).then(function(){return[Q,d]})})}let $=0;const se=_=>H(_).then(Q=>{if(!Q)return this.pageIndexCache.put(F,$),$;const[d,w]=Q;return $+=d,se(w)});return se(F)}get baseUrl(){const F=this._catDict.get("URI");if(F instanceof U.Dict){const P=F.get("Base");if(typeof P=="string"){const C=(0,x.createValidAbsoluteUrl)(P,null,{tryConvertEncoding:!0});if(C)return(0,x.shadow)(this,"baseUrl",C.href)}}return(0,x.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:F,resultObj:P,docBaseUrl:C=null,docAttachments:H=null}){if(!(F instanceof U.Dict)){(0,x.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let $=F.get("A"),se,_;if($ instanceof U.Dict||(F.has("Dest")?$=F.get("Dest"):($=F.get("AA"),$ instanceof U.Dict&&($.has("D")?$=$.get("D"):$.has("U")&&($=$.get("U"))))),$ instanceof U.Dict){const Q=$.get("S");if(!(Q instanceof U.Name)){(0,x.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const d=Q.name;switch(d){case"ResetForm":const w=$.get("Flags"),q=((typeof w=="number"?w:0)&1)===0,l=[],b=[];for(const ae of $.get("Fields")||[])ae instanceof U.Ref?b.push(ae.toString()):typeof ae=="string"&&l.push((0,x.stringToPDFString)(ae));P.resetForm={fields:l,refs:b,include:q};break;case"URI":se=$.get("URI"),se instanceof U.Name&&(se="/"+se.name);break;case"GoTo":_=$.get("D");break;case"Launch":case"GoToR":const D=$.get("F");D instanceof U.Dict?se=D.get("F")||null:typeof D=="string"&&(se=D);let Z=$.get("D");if(Z&&(Z instanceof U.Name&&(Z=Z.name),typeof se=="string")){const ae=se.split("#")[0];typeof Z=="string"?se=ae+"#"+Z:Array.isArray(Z)&&(se=ae+"#"+JSON.stringify(Z))}const N=$.get("NewWindow");typeof N=="boolean"&&(P.newWindow=N);break;case"GoToE":const v=$.get("T");let S;if(H&&v instanceof U.Dict){const ae=v.get("R"),ce=v.get("N");(0,U.isName)(ae,"C")&&typeof ce=="string"&&(S=H[(0,x.stringToPDFString)(ce)])}S?P.attachment=S:(0,x.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const I=$.get("N");I instanceof U.Name&&(P.action=I.name);break;case"SetOCGState":const u=$.get("State"),y=$.get("PreserveRB");if(!Array.isArray(u)||u.length===0)break;const r=[];for(const ae of u)if(ae instanceof U.Name)switch(ae.name){case"ON":case"OFF":case"Toggle":r.push(ae.name);break}else ae instanceof U.Ref&&r.push(ae.toString());if(r.length!==u.length)break;P.setOCGState={state:r,preserveRB:typeof y=="boolean"?y:!0};break;case"JavaScript":const A=$.get("JS");let E;A instanceof t.BaseStream?E=A.getString():typeof A=="string"&&(E=A);const G=E&&(0,n.recoverJsURL)((0,x.stringToPDFString)(E));if(G){se=G.url,P.newWindow=G.newWindow;break}default:if(d==="JavaScript"||d==="SubmitForm")break;(0,x.warn)(`parseDestDictionary - unsupported action: "${d}".`);break}}else F.has("Dest")&&(_=F.get("Dest"));if(typeof se=="string"){const Q=(0,x.createValidAbsoluteUrl)(se,C,{addDefaultProtocol:!0,tryConvertEncoding:!0});Q&&(P.url=Q.href),P.unsafeUrl=se}_&&(_ instanceof U.Name&&(_=_.name),typeof _=="string"?P.dest=(0,x.stringToPDFString)(_):Array.isArray(_)&&(P.dest=_))}}h.Catalog=i},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NumberTree=h.NameTree=void 0;var n=re(4),x=re(2);class U{constructor(K,X,L){this.constructor===U&&(0,x.unreachable)("Cannot initialize NameOrNumberTree."),this.root=K,this.xref=X,this._type=L}getAll(){const K=new Map;if(!this.root)return K;const X=this.xref,L=new n.RefSet;L.put(this.root);const O=[this.root];for(;O.length>0;){const f=X.fetchIfRef(O.shift());if(!(f instanceof n.Dict))continue;if(f.has("Kids")){const i=f.get("Kids");if(!Array.isArray(i))continue;for(const T of i){if(L.has(T))throw new x.FormatError(`Duplicate entry in "${this._type}" tree.`);O.push(T),L.put(T)}continue}const p=f.get(this._type);if(Array.isArray(p))for(let i=0,T=p.length;i<T;i+=2)K.set(X.fetchIfRef(p[i]),X.fetchIfRef(p[i+1]))}return K}get(K){if(!this.root)return null;const X=this.xref;let L=X.fetchIfRef(this.root),O=0;const f=10;for(;L.has("Kids");){if(++O>f)return(0,x.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const i=L.get("Kids");if(!Array.isArray(i))return null;let T=0,F=i.length-1;for(;T<=F;){const P=T+F>>1,C=X.fetchIfRef(i[P]),H=C.get("Limits");if(K<X.fetchIfRef(H[0]))F=P-1;else if(K>X.fetchIfRef(H[1]))T=P+1;else{L=C;break}}if(T>F)return null}const p=L.get(this._type);if(Array.isArray(p)){let i=0,T=p.length-2;for(;i<=T;){const F=i+T>>1,P=F+(F&1),C=X.fetchIfRef(p[P]);if(K<C)T=P-2;else if(K>C)i=P+2;else return X.fetchIfRef(p[P+1])}}return null}}class e extends U{constructor(K,X){super(K,X,"Names")}}h.NameTree=e;class t extends U{constructor(K,X){super(K,X,"Nums")}}h.NumberTree=t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.clearGlobalCaches=e;var n=re(50),x=re(4),U=re(40);function e(){(0,n.clearPatternCaches)(),(0,x.clearPrimitiveCaches)(),(0,U.clearUnicodeCaches)()}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FileSpec=void 0;var n=re(2),x=re(5),U=re(4);function e(o){return o.has("UF")?o.get("UF"):o.has("F")?o.get("F"):o.has("Unix")?o.get("Unix"):o.has("Mac")?o.get("Mac"):o.has("DOS")?o.get("DOS"):null}class t{constructor(K,X){K instanceof U.Dict&&(this.xref=X,this.root=K,K.has("FS")&&(this.fs=K.get("FS")),this.description=K.has("Desc")?(0,n.stringToPDFString)(K.get("Desc")):"",K.has("RF")&&(0,n.warn)("Related file specifications are not supported"),this.contentAvailable=!0,K.has("EF")||(this.contentAvailable=!1,(0,n.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const K=e(this.root)||"unnamed";this._filename=(0,n.stringToPDFString)(K).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=e(this.root.get("EF")));let K=null;if(this.contentRef){const X=this.xref.fetchIfRef(this.contentRef);X instanceof x.BaseStream?K=X.getBytes():(0,n.warn)("Embedded file specification points to non-existing/invalid content")}else(0,n.warn)("Embedded file specification does not have a content");return K}get serializable(){return{filename:this.filename,content:this.content}}}h.FileSpec=t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.MetadataParser=void 0;var n=re(71);class x{constructor(e){e=this._repair(e);const o=new n.SimpleXMLParser({lowerCaseName:!0}).parseFromString(e);this._metadataMap=new Map,this._data=e,o&&this._parse(o)}_repair(e){return e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(t,o){const K=o.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(L,O,f,p){return String.fromCharCode(O*64+f*8+p*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(L,O){switch(O){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${O} isn't defined.`)}),X=[">"];for(let L=0,O=K.length;L<O;L+=2){const f=K.charCodeAt(L)*256+K.charCodeAt(L+1);f>=32&&f<127&&f!==60&&f!==62&&f!==38?X.push(String.fromCharCode(f)):X.push("&#x"+(65536+f).toString(16).substring(1)+";")}return X.join("")})}_getSequence(e){const t=e.nodeName;return t!=="rdf:bag"&&t!=="rdf:seq"&&t!=="rdf:alt"?null:e.childNodes.filter(o=>o.nodeName==="rdf:li")}_parseArray(e){if(!e.hasChildNodes())return;const[t]=e.childNodes,o=this._getSequence(t)||[];this._metadataMap.set(e.nodeName,o.map(K=>K.textContent.trim()))}_parse(e){let t=e.documentElement;if(t.nodeName!=="rdf:rdf")for(t=t.firstChild;t&&t.nodeName!=="rdf:rdf";)t=t.nextSibling;if(!(!t||t.nodeName!=="rdf:rdf"||!t.hasChildNodes())){for(const o of t.childNodes)if(o.nodeName==="rdf:description")for(const K of o.childNodes){const X=K.nodeName;switch(X){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(K);continue}this._metadataMap.set(X,K.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}h.MetadataParser=x},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XMLParserErrorCode=h.XMLParserBase=h.SimpleXMLParser=h.SimpleDOMNode=void 0;var n=re(3);const x={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};h.XMLParserErrorCode=x;function U(X,L){const O=X[L];return O===" "||O===`
`||O==="\r"||O==="	"}function e(X){for(let L=0,O=X.length;L<O;L++)if(!U(X,L))return!1;return!0}class t{_resolveEntities(L){return L.replaceAll(/&([^;]+);/g,(O,f)=>{if(f.substring(0,2)==="#x")return String.fromCodePoint(parseInt(f.substring(2),16));if(f.substring(0,1)==="#")return String.fromCodePoint(parseInt(f.substring(1),10));switch(f){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(f)})}_parseContent(L,O){const f=[];let p=O;function i(){for(;p<L.length&&U(L,p);)++p}for(;p<L.length&&!U(L,p)&&L[p]!==">"&&L[p]!=="/";)++p;const T=L.substring(O,p);for(i();p<L.length&&L[p]!==">"&&L[p]!=="/"&&L[p]!=="?";){i();let F="",P="";for(;p<L.length&&!U(L,p)&&L[p]!=="=";)F+=L[p],++p;if(i(),L[p]!=="=")return null;++p,i();const C=L[p];if(C!=='"'&&C!=="'")return null;const H=L.indexOf(C,++p);if(H<0)return null;P=L.substring(p,H),f.push({name:F,value:this._resolveEntities(P)}),p=H+1,i()}return{name:T,attributes:f,parsed:p-O}}_parseProcessingInstruction(L,O){let f=O;function p(){for(;f<L.length&&U(L,f);)++f}for(;f<L.length&&!U(L,f)&&L[f]!==">"&&L[f]!=="?"&&L[f]!=="/";)++f;const i=L.substring(O,f);p();const T=f;for(;f<L.length&&(L[f]!=="?"||L[f+1]!==">");)++f;const F=L.substring(T,f);return{name:i,value:F,parsed:f-O}}parseXml(L){let O=0;for(;O<L.length;){const f=L[O];let p=O;if(f==="<"){++p;const i=L[p];let T;switch(i){case"/":if(++p,T=L.indexOf(">",p),T<0){this.onError(x.UnterminatedElement);return}this.onEndElement(L.substring(p,T)),p=T+1;break;case"?":++p;const F=this._parseProcessingInstruction(L,p);if(L.substring(p+F.parsed,p+F.parsed+2)!=="?>"){this.onError(x.UnterminatedXmlDeclaration);return}this.onPi(F.name,F.value),p+=F.parsed+2;break;case"!":if(L.substring(p+1,p+3)==="--"){if(T=L.indexOf("-->",p+3),T<0){this.onError(x.UnterminatedComment);return}this.onComment(L.substring(p+3,T)),p=T+3}else if(L.substring(p+1,p+8)==="[CDATA["){if(T=L.indexOf("]]>",p+8),T<0){this.onError(x.UnterminatedCdat);return}this.onCdata(L.substring(p+8,T)),p=T+3}else if(L.substring(p+1,p+8)==="DOCTYPE"){const H=L.indexOf("[",p+8);let $=!1;if(T=L.indexOf(">",p+8),T<0){this.onError(x.UnterminatedDoctypeDeclaration);return}if(H>0&&T>H){if(T=L.indexOf("]>",p+8),T<0){this.onError(x.UnterminatedDoctypeDeclaration);return}$=!0}const se=L.substring(p+8,T+($?1:0));this.onDoctype(se),p=T+($?2:1)}else{this.onError(x.MalformedElement);return}break;default:const P=this._parseContent(L,p);if(P===null){this.onError(x.MalformedElement);return}let C=!1;if(L.substring(p+P.parsed,p+P.parsed+2)==="/>")C=!0;else if(L.substring(p+P.parsed,p+P.parsed+1)!==">"){this.onError(x.UnterminatedElement);return}this.onBeginElement(P.name,P.attributes,C),p+=P.parsed+(C?2:1);break}}else{for(;p<L.length&&L[p]!=="<";)p++;const i=L.substring(O,p);this.onText(this._resolveEntities(i))}O=p}}onResolveEntity(L){return`&${L};`}onPi(L,O){}onComment(L){}onCdata(L){}onDoctype(L){}onText(L){}onBeginElement(L,O,f){}onEndElement(L){}onError(L){}}h.XMLParserBase=t;class o{constructor(L,O){this.nodeName=L,this.nodeValue=O,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var L;return(L=this.childNodes)==null?void 0:L[0]}get nextSibling(){const L=this.parentNode.childNodes;if(!L)return;const O=L.indexOf(this);if(O!==-1)return L[O+1]}get textContent(){return this.childNodes?this.childNodes.map(function(L){return L.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var L;return((L=this.childNodes)==null?void 0:L.length)>0}searchNode(L,O){var T;if(O>=L.length)return this;const f=L[O];if(f.name.startsWith("#")&&O<L.length-1)return this.searchNode(L,O+1);const p=[];let i=this;for(;;){if(f.name===i.nodeName)if(f.pos===0){const F=i.searchNode(L,O+1);if(F!==null)return F}else{if(p.length===0)return null;{const[F]=p.pop();let P=0;for(const C of F.childNodes)if(f.name===C.nodeName){if(P===f.pos)return C.searchNode(L,O+1);P++}return i.searchNode(L,O+1)}}if(((T=i.childNodes)==null?void 0:T.length)>0)p.push([i,0]),i=i.childNodes[0];else{if(p.length===0)return null;for(;p.length!==0;){const[F,P]=p.pop(),C=P+1;if(C<F.childNodes.length){p.push([F,C]),i=F.childNodes[C];break}}if(p.length===0)return null}}}dump(L){if(this.nodeName==="#text"){L.push((0,n.encodeToXmlString)(this.nodeValue));return}if(L.push(`<${this.nodeName}`),this.attributes)for(const O of this.attributes)L.push(` ${O.name}="${(0,n.encodeToXmlString)(O.value)}"`);if(this.hasChildNodes()){L.push(">");for(const O of this.childNodes)O.dump(L);L.push(`</${this.nodeName}>`)}else this.nodeValue?L.push(`>${(0,n.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):L.push("/>")}}h.SimpleDOMNode=o;class K extends t{constructor({hasAttributes:L=!1,lowerCaseName:O=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=x.NoError,this._hasAttributes=L,this._lowerCaseName=O}parseFromString(L){if(this._currentFragment=[],this._stack=[],this._errorCode=x.NoError,this.parseXml(L),this._errorCode!==x.NoError)return;const[O]=this._currentFragment;if(O)return{documentElement:O}}onText(L){if(e(L))return;const O=new o("#text",L);this._currentFragment.push(O)}onCdata(L){const O=new o("#text",L);this._currentFragment.push(O)}onBeginElement(L,O,f){this._lowerCaseName&&(L=L.toLowerCase());const p=new o(L);p.childNodes=[],this._hasAttributes&&(p.attributes=O),this._currentFragment.push(p),!f&&(this._stack.push(this._currentFragment),this._currentFragment=p.childNodes)}onEndElement(L){this._currentFragment=this._stack.pop()||[];const O=this._currentFragment.at(-1);if(!O)return null;for(const f of O.childNodes)f.parentNode=O;return O}onError(L){this._errorCode=L}}h.SimpleXMLParser=K},(Pe,h,re)=>{var f,id,i,$0,F,rd,C,sd;Object.defineProperty(h,"__esModule",{value:!0}),h.StructTreeRoot=h.StructTreePage=void 0;var n=re(2),x=re(4),U=re(67),e=re(73);const t=40,o={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5},$=class ${constructor(_,Q){ct(this,f);this.dict=_,this.ref=Q instanceof x.Ref?Q:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(_,Q){dt(this,f,id).call(this,_,Q,o.ANNOTATION)}readRoleMap(){const _=this.dict.get("RoleMap");_ instanceof x.Dict&&_.forEach((Q,d)=>{d instanceof x.Name&&this.roleMap.set(Q,d.name)})}static async canCreateStructureTree({catalogRef:_,pdfManager:Q,newAnnotationsByPage:d}){var l;if(!(_ instanceof x.Ref))return(0,n.warn)("Cannot save the struct tree: no catalog reference."),!1;let w=0,q=!0;for(const[b,D]of d){const{ref:Z}=await Q.getPage(b);if(!(Z instanceof x.Ref)){(0,n.warn)(`Cannot save the struct tree: page ${b} has no ref.`),q=!0;break}for(const N of D)(l=N.accessibilityData)!=null&&l.type&&(N.parentTreeId=w++,q=!1)}if(q){for(const b of d.values())for(const D of b)delete D.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:_,xref:Q,catalogRef:d,pdfManager:w,newRefs:q}){const l=w.catalog.cloneDict(),b=Q.getNewTemporaryRef();l.set("StructTreeRoot",b);const D=[];await(0,e.writeObject)(d,l,D,Q),q.push({ref:d,data:D.join("")});const Z=new x.Dict(Q);Z.set("Type",x.Name.get("StructTreeRoot"));const N=Q.getNewTemporaryRef();Z.set("ParentTree",N);const v=[];Z.set("K",v);const S=new x.Dict(Q),I=[];S.set("Nums",I);const u=await dt(this,i,$0).call(this,{newAnnotationsByPage:_,structTreeRootRef:b,kids:v,nums:I,xref:Q,pdfManager:w,newRefs:q,buffer:D});Z.set("ParentTreeNextKey",u),D.length=0,await(0,e.writeObject)(N,S,D,Q),q.push({ref:N,data:D.join("")}),D.length=0,await(0,e.writeObject)(b,Z,D,Q),q.push({ref:b,data:D.join("")})}async canUpdateStructTree({pdfManager:_,newAnnotationsByPage:Q}){var D,Z;if(!this.ref)return(0,n.warn)("Cannot update the struct tree: no root reference."),!1;let d=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(d)||d<0)return(0,n.warn)("Cannot update the struct tree: invalid next key."),!1;const w=this.dict.get("ParentTree");if(!(w instanceof x.Dict))return(0,n.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const q=w.get("Nums");if(!Array.isArray(q))return(0,n.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:l}=_.catalog;for(const N of Q.keys()){const{pageDict:v,ref:S}=await _.getPage(N);if(!(S instanceof x.Ref))return(0,n.warn)(`Cannot save the struct tree: page ${N} has no ref.`),!1;const I=v.get("StructParents");if(!Number.isInteger(I)||I<0||I>=l)return(0,n.warn)(`Cannot save the struct tree: page ${N} has no id.`),!1}let b=!0;for(const[N,v]of Q){const{pageDict:S}=await _.getPage(N);dt(D=$,F,rd).call(D,{elements:v,xref:this.dict.xref,pageDict:S,parentTree:w});for(const I of v)(Z=I.accessibilityData)!=null&&Z.type&&(I.parentTreeId=d++,b=!1)}if(b){for(const N of Q.values())for(const v of N)delete v.parentTreeId,delete v.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:_,pdfManager:Q,newRefs:d}){var y;const w=this.dict.xref,q=this.dict.clone(),l=this.ref;let b=q.getRaw("ParentTree"),D;b instanceof x.Ref?D=w.fetch(b):(D=b,b=w.getNewTemporaryRef(),q.set("ParentTree",b)),D=D.clone();let Z=D.getRaw("Nums"),N=null;Z instanceof x.Ref&&(N=Z,Z=w.fetch(N)),Z=Z.slice(),N||D.set("Nums",Z);let v=q.getRaw("K"),S=null;v instanceof x.Ref?(S=v,v=w.fetch(S)):(S=w.getNewTemporaryRef(),q.set("K",S)),v=Array.isArray(v)?v.slice():[v];const I=[],u=await dt(y=$,i,$0).call(y,{newAnnotationsByPage:_,structTreeRootRef:l,kids:v,nums:Z,xref:w,pdfManager:Q,newRefs:d,buffer:I});q.set("ParentTreeNextKey",u),I.length=0,await(0,e.writeObject)(S,v,I,w),d.push({ref:S,data:I.join("")}),N&&(I.length=0,await(0,e.writeObject)(N,Z,I,w),d.push({ref:N,data:I.join("")})),I.length=0,await(0,e.writeObject)(b,D,I,w),d.push({ref:b,data:I.join("")}),I.length=0,await(0,e.writeObject)(l,q,I,w),d.push({ref:l,data:I.join("")})}};f=new WeakSet,id=function(_,Q,d){if(!(_ instanceof x.Ref)||Q<0)return;this.structParentIds||(this.structParentIds=new x.RefSetCache);let w=this.structParentIds.get(_);w||(w=[],this.structParentIds.put(_,w)),w.push([Q,d])},i=new WeakSet,$0=async function({newAnnotationsByPage:_,structTreeRootRef:Q,kids:d,nums:w,xref:q,pdfManager:l,newRefs:b,buffer:D}){const Z=x.Name.get("OBJR");let N=-1/0;for(const[v,S]of _){const{ref:I}=await l.getPage(v);for(const{accessibilityData:{type:u,title:y,lang:r,alt:A,expanded:E,actualText:G},ref:ae,parentTreeId:ce,structTreeParent:Ie}of S){N=Math.max(N,ce);const fe=q.getNewTemporaryRef(),Te=new x.Dict(q);Te.set("S",x.Name.get(u)),y&&Te.set("T",y),r&&Te.set("Lang",r),A&&Te.set("Alt",A),E&&Te.set("E",E),G&&Te.set("ActualText",G),Ie?await dt(this,C,sd).call(this,{structTreeParent:Ie,tagDict:Te,newTagRef:fe,fallbackRef:Q,xref:q,newRefs:b,buffer:D}):Te.set("P",Q);const be=new x.Dict(q);Te.set("K",be),be.set("Type",Z),be.set("Pg",I),be.set("Obj",ae),D.length=0,await(0,e.writeObject)(fe,Te,D,q),b.push({ref:fe,data:D.join("")}),w.push(ce,fe),d.push(fe)}}return N+1},F=new WeakSet,rd=function({elements:_,xref:Q,pageDict:d,parentTree:w}){const q=new Map;for(const N of _)if(N.structTreeParentId){const v=parseInt(N.structTreeParentId.split("_mc")[1],10);q.set(v,N)}const l=d.get("StructParents"),D=new U.NumberTree(w,Q).get(l);if(!Array.isArray(D))return;const Z=(N,v,S)=>{const I=q.get(N);if(I){const u=v.getRaw("P"),y=Q.fetchIfRef(u);return u instanceof x.Ref&&y instanceof x.Dict&&(I.structTreeParent={ref:S,dict:v}),!0}return!1};for(const N of D){if(!(N instanceof x.Ref))continue;const v=Q.fetch(N),S=v.get("K");if(Number.isInteger(S)){Z(S,v,N);continue}if(Array.isArray(S)){for(let I of S)if(I=Q.fetchIfRef(I),Number.isInteger(I)&&Z(I,v,N))break}}},C=new WeakSet,sd=async function({structTreeParent:{ref:_,dict:Q},tagDict:d,newTagRef:w,fallbackRef:q,xref:l,newRefs:b,buffer:D}){const Z=Q.getRaw("P");let N=l.fetchIfRef(Z);d.set("P",Z);let v=!1,S,I=N.getRaw("K");if(I instanceof x.Ref?S=l.fetch(I):(S=I,I=l.getNewTemporaryRef(),N=N.clone(),N.set("K",I),v=!0),Array.isArray(S)){const u=S.indexOf(_);if(u>=0)S=S.slice(),S.splice(u+1,0,w);else{(0,n.warn)("Cannot update the struct tree: parent kid not found."),d.set("P",q);return}}else S instanceof x.Dict&&(S=[I,w],I=l.getNewTemporaryRef(),N.set("K",I),v=!0);D.length=0,await(0,e.writeObject)(I,S,D,l),b.push({ref:I,data:D.join("")}),v&&(D.length=0,await(0,e.writeObject)(Z,N,D,l),b.push({ref:Z,data:D.join("")}))},ct($,i),ct($,F),ct($,C);let K=$;h.StructTreeRoot=K;class X{constructor(_,Q){this.tree=_,this.dict=Q,this.kids=[],this.parseKids()}get role(){const _=this.dict.get("S"),Q=_ instanceof x.Name?_.name:"",{root:d}=this.tree;return d.roleMap.has(Q)?d.roleMap.get(Q):Q}parseKids(){let _=null;const Q=this.dict.getRaw("Pg");Q instanceof x.Ref&&(_=Q.toString());const d=this.dict.get("K");if(Array.isArray(d))for(const w of d){const q=this.parseKid(_,w);q&&this.kids.push(q)}else{const w=this.parseKid(_,d);w&&this.kids.push(w)}}parseKid(_,Q){if(Number.isInteger(Q))return this.tree.pageDict.objId!==_?null:new L({type:o.PAGE_CONTENT,mcid:Q,pageObjId:_});let d=null;if(Q instanceof x.Ref?d=this.dict.xref.fetch(Q):Q instanceof x.Dict&&(d=Q),!d)return null;const w=d.getRaw("Pg");w instanceof x.Ref&&(_=w.toString());const q=d.get("Type")instanceof x.Name?d.get("Type").name:null;if(q==="MCR"){if(this.tree.pageDict.objId!==_)return null;const l=d.getRaw("Stm");return new L({type:o.STREAM_CONTENT,refObjId:l instanceof x.Ref?l.toString():null,pageObjId:_,mcid:d.get("MCID")})}if(q==="OBJR"){if(this.tree.pageDict.objId!==_)return null;const l=d.getRaw("Obj");return new L({type:o.OBJECT,refObjId:l instanceof x.Ref?l.toString():null,pageObjId:_})}return new L({type:o.ELEMENT,dict:d})}}class L{constructor({type:_,dict:Q=null,mcid:d=null,pageObjId:w=null,refObjId:q=null}){this.type=_,this.dict=Q,this.mcid=d,this.pageObjId=w,this.refObjId=q,this.parentNode=null}}class O{constructor(_,Q){this.root=_,this.rootDict=_?_.dict:null,this.pageDict=Q,this.nodes=[]}parse(_){var b,D;if(!this.root||!this.rootDict)return;const Q=this.rootDict.get("ParentTree");if(!Q)return;const d=this.pageDict.get("StructParents"),w=_ instanceof x.Ref&&((b=this.root.structParentIds)==null?void 0:b.get(_));if(!Number.isInteger(d)&&!w)return;const q=new Map,l=new U.NumberTree(Q,this.rootDict.xref);if(Number.isInteger(d)){const Z=l.get(d);if(Array.isArray(Z))for(const N of Z)N instanceof x.Ref&&this.addNode(this.rootDict.xref.fetch(N),q)}if(w)for(const[Z,N]of w){const v=l.get(Z);if(v){const S=this.addNode(this.rootDict.xref.fetchIfRef(v),q);((D=S==null?void 0:S.kids)==null?void 0:D.length)===1&&S.kids[0].type===o.OBJECT&&(S.kids[0].type=N)}}}addNode(_,Q,d=0){if(d>t)return(0,n.warn)("StructTree MAX_DEPTH reached."),null;if(Q.has(_))return Q.get(_);const w=new X(this,_);Q.set(_,w);const q=_.get("P");if(!q||(0,x.isName)(q.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(_,w)||Q.delete(_),w;const l=this.addNode(q,Q,d+1);if(!l)return w;let b=!1;for(const D of l.kids)D.type===o.ELEMENT&&D.dict===_&&(D.parentNode=w,b=!0);return b||Q.delete(_),w}addTopLevelNode(_,Q){const d=this.rootDict.get("K");if(!d)return!1;if(d instanceof x.Dict)return d.objId!==_.objId?!1:(this.nodes[0]=Q,!0);if(!Array.isArray(d))return!0;let w=!1;for(let q=0;q<d.length;q++){const l=d[q];(l==null?void 0:l.toString())===_.objId&&(this.nodes[q]=Q,w=!0)}return w}get serializable(){function _(d,w,q=0){if(q>t){(0,n.warn)("StructTree too deep to be fully serialized.");return}const l=Object.create(null);l.role=d.role,l.children=[],w.children.push(l);const b=d.dict.get("Alt");typeof b=="string"&&(l.alt=(0,n.stringToPDFString)(b));const D=d.dict.get("Lang");typeof D=="string"&&(l.lang=(0,n.stringToPDFString)(D));for(const Z of d.kids){const N=Z.type===o.ELEMENT?Z.parentNode:null;if(N){_(N,l,q+1);continue}else Z.type===o.PAGE_CONTENT||Z.type===o.STREAM_CONTENT?l.children.push({type:"content",id:`p${Z.pageObjId}_mc${Z.mcid}`}):Z.type===o.OBJECT?l.children.push({type:"object",id:Z.refObjId}):Z.type===o.ANNOTATION&&l.children.push({type:"annotation",id:`${n.AnnotationPrefix}${Z.refObjId}`})}}const Q=Object.create(null);Q.children=[],Q.role="Root";for(const d of this.nodes)d&&_(d,Q);return Q}}h.StructTreePage=O},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.incrementalUpdate=H,h.writeDict=X,h.writeObject=K;var n=re(2),x=re(4),U=re(3),e=re(71),t=re(5),o=re(74);async function K($,se,_,{encrypt:Q=null}){const d=Q==null?void 0:Q.createCipherTransform($.num,$.gen);_.push(`${$.num} ${$.gen} obj
`),se instanceof x.Dict?await X(se,_,d):se instanceof t.BaseStream?await L(se,_,d):Array.isArray(se)&&await O(se,_,d),_.push(`
endobj
`)}async function X($,se,_){se.push("<<");for(const Q of $.getKeys())se.push(` /${(0,U.escapePDFName)(Q)} `),await f($.getRaw(Q),se,_);se.push(">>")}async function L($,se,_){let Q=$.getString();const{dict:d}=$,[w,q]=await Promise.all([d.getAsync("Filter"),d.getAsync("DecodeParms")]),l=Array.isArray(w)?await d.xref.fetchIfRefAsync(w[0]):w,b=(0,x.isName)(l,"FlateDecode"),D=256;if(typeof CompressionStream<"u"&&(Q.length>=D||b))try{const Z=(0,n.stringToBytes)(Q),N=new CompressionStream("deflate"),v=N.writable.getWriter();v.write(Z),v.close();const S=await new Response(N.readable).arrayBuffer();Q=(0,n.bytesToString)(new Uint8Array(S));let I,u;w?b||(I=Array.isArray(w)?[x.Name.get("FlateDecode"),...w]:[x.Name.get("FlateDecode"),w],q&&(u=Array.isArray(q)?[null,...q]:[null,q])):I=x.Name.get("FlateDecode"),I&&d.set("Filter",I),u&&d.set("DecodeParms",u)}catch(Z){(0,n.info)(`writeStream - cannot compress data: "${Z}".`)}_&&(Q=_.encryptString(Q)),d.set("Length",Q.length),await X(d,se,_),se.push(` stream
`,Q,`
endstream`)}async function O($,se,_){se.push("[");let Q=!0;for(const d of $)Q?Q=!1:se.push(" "),await f(d,se,_);se.push("]")}async function f($,se,_){$ instanceof x.Name?se.push(`/${(0,U.escapePDFName)($.name)}`):$ instanceof x.Ref?se.push(`${$.num} ${$.gen} R`):Array.isArray($)?await O($,se,_):typeof $=="string"?(_&&($=_.encryptString($)),se.push(`(${(0,U.escapeString)($)})`)):typeof $=="number"?se.push((0,U.numberToString)($)):typeof $=="boolean"?se.push($.toString()):$ instanceof x.Dict?await X($,se,_):$ instanceof t.BaseStream?await L($,se,_):$===null?se.push("null"):(0,n.warn)(`Unhandled value in writer: ${typeof $}, please file a bug.`)}function p($,se,_,Q){for(let d=se+_-1;d>_-1;d--)Q[d]=$&255,$>>=8;return _+se}function i($,se,_){for(let Q=0,d=$.length;Q<d;Q++)_[se+Q]=$.charCodeAt(Q)&255}function T($,se){const _=Math.floor(Date.now()/1e3),Q=se.filename||"",d=[_.toString(),Q,$.toString()];let w=d.reduce((b,D)=>b+D.length,0);for(const b of Object.values(se.info))d.push(b),w+=b.length;const q=new Uint8Array(w);let l=0;for(const b of d)i(b,l,q),l+=b.length;return(0,n.bytesToString)((0,o.calculateMD5)(q))}function F($,se){const _=new e.SimpleXMLParser({hasAttributes:!0}).parseFromString($);for(const{xfa:d}of se){if(!d)continue;const{path:w,value:q}=d;if(!w)continue;const l=(0,U.parseXFAPath)(w);let b=_.documentElement.searchNode(l,0);!b&&l.length>1&&(b=_.documentElement.searchNode([l.at(-1)],0)),b?b.childNodes=Array.isArray(q)?q.map(D=>new e.SimpleDOMNode("value",D)):[new e.SimpleDOMNode("#text",q)]:(0,n.warn)(`Node not found for path: ${w}`)}const Q=[];return _.documentElement.dump(Q),Q.join("")}async function P({xref:$,acroForm:se,acroFormRef:_,hasXfa:Q,hasXfaDatasetsEntry:d,xfaDatasetsRef:w,needAppearances:q,newRefs:l}){if(Q&&!d&&!w&&(0,n.warn)("XFA - Cannot save it"),!q&&(!Q||!w||d))return;const b=se.clone();if(Q&&!d){const Z=se.get("XFA").slice();Z.splice(2,0,"datasets"),Z.splice(3,0,w),b.set("XFA",Z)}q&&b.set("NeedAppearances",!0);const D=[];await K(_,b,D,$),l.push({ref:_,data:D.join("")})}function C({xfaData:$,xfaDatasetsRef:se,newRefs:_,xref:Q}){if($===null){const q=Q.fetchIfRef(se);$=F(q.getString(),_)}const d=Q.encrypt;d&&($=d.createCipherTransform(se.num,se.gen).encryptString($));const w=`${se.num} ${se.gen} obj
<< /Type /EmbeddedFile /Length ${$.length}>>
stream
`+$+`
endstream
endobj
`;_.push({ref:se,data:w})}async function H({originalData:$,xrefInfo:se,newRefs:_,xref:Q=null,hasXfa:d=!1,xfaDatasetsRef:w=null,hasXfaDatasetsEntry:q=!1,needAppearances:l,acroFormRef:b=null,acroForm:D=null,xfaData:Z=null}){await P({xref:Q,acroForm:D,acroFormRef:b,hasXfa:d,hasXfaDatasetsEntry:q,xfaDatasetsRef:w,needAppearances:l,newRefs:_}),d&&C({xfaData:Z,xfaDatasetsRef:w,newRefs:_,xref:Q});const N=new x.Dict(null),v=se.newRef;let S,I;const u=$.at(-1);u===10||u===13?(S=[],I=$.length):(S=[`
`],I=$.length+1),N.set("Size",v.num+1),N.set("Prev",se.startXRef),N.set("Type",x.Name.get("XRef")),se.rootRef!==null&&N.set("Root",se.rootRef),se.infoRef!==null&&N.set("Info",se.infoRef),se.encryptRef!==null&&N.set("Encrypt",se.encryptRef),_.push({ref:v,data:""}),_=_.sort((ve,te)=>ve.ref.num-te.ref.num);const y=[[0,1,65535]],r=[0,1];let A=0;for(const{ref:ve,data:te}of _)A=Math.max(A,I),y.push([1,I,Math.min(ve.gen,65535)]),I+=te.length,r.push(ve.num,1),S.push(te);if(N.set("Index",r),Array.isArray(se.fileIds)&&se.fileIds.length>0){const ve=T(I,se);N.set("ID",[se.fileIds[0],ve])}const G=[1,Math.ceil(Math.log2(A)/8),2],ce=(G[0]+G[1]+G[2])*y.length;N.set("W",G),N.set("Length",ce),S.push(`${v.num} ${v.gen} obj
`),await X(N,S,null),S.push(` stream
`);const Ie=S.reduce((ve,te)=>ve+te.length,0),fe=`
endstream
endobj
startxref
${I}
%%EOF
`,Te=new Uint8Array($.length+Ie+ce+fe.length);Te.set($);let be=$.length;for(const ve of S)i(ve,be,Te),be+=ve.length;for(const[ve,te,ie]of y)be=p(ve,G[0],be,Te),be=p(te,G[1],be,Te),be=p(ie,G[2],be,Te);return i(fe,be,Te),Te}},(Pe,h,re)=>{var H,$,ad,_,j0,d,od,q,OA,b,G0;Object.defineProperty(h,"__esModule",{value:!0}),h.calculateSHA256=h.calculateMD5=h.PDF20=h.PDF17=h.CipherTransformFactory=h.ARCFourCipher=h.AES256Cipher=h.AES128Cipher=void 0,h.calculateSHA384=L,h.calculateSHA512=void 0;var n=re(2),x=re(4),U=re(75);class e{constructor(v){this.a=0,this.b=0;const S=new Uint8Array(256),I=v.length;for(let u=0;u<256;++u)S[u]=u;for(let u=0,y=0;u<256;++u){const r=S[u];y=y+r+v[u%I]&255,S[u]=S[y],S[y]=r}this.s=S}encryptBlock(v){let S=this.a,I=this.b;const u=this.s,y=v.length,r=new Uint8Array(y);for(let A=0;A<y;++A){S=S+1&255;const E=u[S];I=I+E&255;const G=u[I];u[S]=G,u[I]=E,r[A]=v[A]^u[E+G&255]}return this.a=S,this.b=I,r}decryptBlock(v){return this.encryptBlock(v)}encrypt(v){return this.encryptBlock(v)}}h.ARCFourCipher=e;const t=function(){const v=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),S=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function I(u,y,r){let A=1732584193,E=-271733879,G=-1732584194,ae=271733878;const ce=r+72&-64,Ie=new Uint8Array(ce);let fe,Te;for(fe=0;fe<r;++fe)Ie[fe]=u[y++];Ie[fe++]=128;const be=ce-8;for(;fe<be;)Ie[fe++]=0;Ie[fe++]=r<<3&255,Ie[fe++]=r>>5&255,Ie[fe++]=r>>13&255,Ie[fe++]=r>>21&255,Ie[fe++]=r>>>29&255,Ie[fe++]=0,Ie[fe++]=0,Ie[fe++]=0;const ve=new Int32Array(16);for(fe=0;fe<ce;){for(Te=0;Te<16;++Te,fe+=4)ve[Te]=Ie[fe]|Ie[fe+1]<<8|Ie[fe+2]<<16|Ie[fe+3]<<24;let te=A,ie=E,ge=G,he=ae,ue,we;for(Te=0;Te<64;++Te){Te<16?(ue=ie&ge|~ie&he,we=Te):Te<32?(ue=he&ie|~he&ge,we=5*Te+1&15):Te<48?(ue=ie^ge^he,we=3*Te+5&15):(ue=ge^(ie|~he),we=7*Te&15);const Ce=he,le=te+ue+S[Te]+ve[we]|0,ke=v[Te];he=ge,ge=ie,ie=ie+(le<<ke|le>>>32-ke)|0,te=Ce}A=A+te|0,E=E+ie|0,G=G+ge|0,ae=ae+he|0}return new Uint8Array([A&255,A>>8&255,A>>16&255,A>>>24&255,E&255,E>>8&255,E>>16&255,E>>>24&255,G&255,G>>8&255,G>>16&255,G>>>24&255,ae&255,ae>>8&255,ae>>16&255,ae>>>24&255])}return I}();h.calculateMD5=t;class o{constructor(v,S){this.high=v|0,this.low=S|0}and(v){this.high&=v.high,this.low&=v.low}xor(v){this.high^=v.high,this.low^=v.low}or(v){this.high|=v.high,this.low|=v.low}shiftRight(v){v>=32?(this.low=this.high>>>v-32|0,this.high=0):(this.low=this.low>>>v|this.high<<32-v,this.high=this.high>>>v|0)}shiftLeft(v){v>=32?(this.high=this.low<<v-32,this.low=0):(this.high=this.high<<v|this.low>>>32-v,this.low<<=v)}rotateRight(v){let S,I;v&32?(I=this.low,S=this.high):(S=this.low,I=this.high),v&=31,this.low=S>>>v|I<<32-v,this.high=I>>>v|S<<32-v}not(){this.high=~this.high,this.low=~this.low}add(v){const S=(this.low>>>0)+(v.low>>>0);let I=(this.high>>>0)+(v.high>>>0);S>4294967295&&(I+=1),this.low=S|0,this.high=I|0}copyTo(v,S){v[S]=this.high>>>24&255,v[S+1]=this.high>>16&255,v[S+2]=this.high>>8&255,v[S+3]=this.high&255,v[S+4]=this.low>>>24&255,v[S+5]=this.low>>16&255,v[S+6]=this.low>>8&255,v[S+7]=this.low&255}assign(v){this.high=v.high,this.low=v.low}}const K=function(){function v(ae,ce){return ae>>>ce|ae<<32-ce}function S(ae,ce,Ie){return ae&ce^~ae&Ie}function I(ae,ce,Ie){return ae&ce^ae&Ie^ce&Ie}function u(ae){return v(ae,2)^v(ae,13)^v(ae,22)}function y(ae){return v(ae,6)^v(ae,11)^v(ae,25)}function r(ae){return v(ae,7)^v(ae,18)^ae>>>3}function A(ae){return v(ae,17)^v(ae,19)^ae>>>10}const E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function G(ae,ce,Ie){let fe=1779033703,Te=3144134277,be=1013904242,ve=2773480762,te=1359893119,ie=2600822924,ge=528734635,he=1541459225;const ue=Math.ceil((Ie+9)/64)*64,we=new Uint8Array(ue);let Ce,le;for(Ce=0;Ce<Ie;++Ce)we[Ce]=ae[ce++];we[Ce++]=128;const ke=ue-8;for(;Ce<ke;)we[Ce++]=0;we[Ce++]=0,we[Ce++]=0,we[Ce++]=0,we[Ce++]=Ie>>>29&255,we[Ce++]=Ie>>21&255,we[Ce++]=Ie>>13&255,we[Ce++]=Ie>>5&255,we[Ce++]=Ie<<3&255;const Fe=new Uint32Array(64);for(Ce=0;Ce<ue;){for(le=0;le<16;++le)Fe[le]=we[Ce]<<24|we[Ce+1]<<16|we[Ce+2]<<8|we[Ce+3],Ce+=4;for(le=16;le<64;++le)Fe[le]=A(Fe[le-2])+Fe[le-7]+r(Fe[le-15])+Fe[le-16]|0;let de=fe,Ee=Te,Oe=be,Ne=ve,et=te,rt=ie,Ge=ge,je=he,$e,ze;for(le=0;le<64;++le)$e=je+y(et)+S(et,rt,Ge)+E[le]+Fe[le],ze=u(de)+I(de,Ee,Oe),je=Ge,Ge=rt,rt=et,et=Ne+$e|0,Ne=Oe,Oe=Ee,Ee=de,de=$e+ze|0;fe=fe+de|0,Te=Te+Ee|0,be=be+Oe|0,ve=ve+Ne|0,te=te+et|0,ie=ie+rt|0,ge=ge+Ge|0,he=he+je|0}return new Uint8Array([fe>>24&255,fe>>16&255,fe>>8&255,fe&255,Te>>24&255,Te>>16&255,Te>>8&255,Te&255,be>>24&255,be>>16&255,be>>8&255,be&255,ve>>24&255,ve>>16&255,ve>>8&255,ve&255,te>>24&255,te>>16&255,te>>8&255,te&255,ie>>24&255,ie>>16&255,ie>>8&255,ie&255,ge>>24&255,ge>>16&255,ge>>8&255,ge&255,he>>24&255,he>>16&255,he>>8&255,he&255])}return G}();h.calculateSHA256=K;const X=function(){function v(G,ae,ce,Ie,fe){G.assign(ae),G.and(ce),fe.assign(ae),fe.not(),fe.and(Ie),G.xor(fe)}function S(G,ae,ce,Ie,fe){G.assign(ae),G.and(ce),fe.assign(ae),fe.and(Ie),G.xor(fe),fe.assign(ce),fe.and(Ie),G.xor(fe)}function I(G,ae,ce){G.assign(ae),G.rotateRight(28),ce.assign(ae),ce.rotateRight(34),G.xor(ce),ce.assign(ae),ce.rotateRight(39),G.xor(ce)}function u(G,ae,ce){G.assign(ae),G.rotateRight(14),ce.assign(ae),ce.rotateRight(18),G.xor(ce),ce.assign(ae),ce.rotateRight(41),G.xor(ce)}function y(G,ae,ce){G.assign(ae),G.rotateRight(1),ce.assign(ae),ce.rotateRight(8),G.xor(ce),ce.assign(ae),ce.shiftRight(7),G.xor(ce)}function r(G,ae,ce){G.assign(ae),G.rotateRight(19),ce.assign(ae),ce.rotateRight(61),G.xor(ce),ce.assign(ae),ce.shiftRight(6),G.xor(ce)}const A=[new o(1116352408,3609767458),new o(1899447441,602891725),new o(3049323471,3964484399),new o(3921009573,2173295548),new o(961987163,4081628472),new o(1508970993,3053834265),new o(2453635748,2937671579),new o(2870763221,3664609560),new o(3624381080,2734883394),new o(310598401,1164996542),new o(607225278,1323610764),new o(1426881987,3590304994),new o(1925078388,4068182383),new o(2162078206,991336113),new o(2614888103,633803317),new o(3248222580,3479774868),new o(3835390401,2666613458),new o(4022224774,944711139),new o(264347078,2341262773),new o(604807628,2007800933),new o(770255983,1495990901),new o(1249150122,1856431235),new o(1555081692,3175218132),new o(1996064986,2198950837),new o(2554220882,3999719339),new o(2821834349,766784016),new o(2952996808,2566594879),new o(3210313671,3203337956),new o(3336571891,1034457026),new o(3584528711,2466948901),new o(113926993,3758326383),new o(338241895,168717936),new o(666307205,1188179964),new o(773529912,1546045734),new o(1294757372,1522805485),new o(1396182291,2643833823),new o(1695183700,2343527390),new o(1986661051,1014477480),new o(2177026350,1206759142),new o(2456956037,344077627),new o(2730485921,1290863460),new o(2820302411,3158454273),new o(3259730800,3505952657),new o(3345764771,106217008),new o(3516065817,3606008344),new o(3600352804,1432725776),new o(4094571909,1467031594),new o(275423344,851169720),new o(430227734,3100823752),new o(506948616,1363258195),new o(659060556,3750685593),new o(883997877,3785050280),new o(958139571,3318307427),new o(1322822218,3812723403),new o(1537002063,2003034995),new o(1747873779,3602036899),new o(1955562222,1575990012),new o(2024104815,1125592928),new o(2227730452,2716904306),new o(2361852424,442776044),new o(2428436474,593698344),new o(2756734187,3733110249),new o(3204031479,2999351573),new o(3329325298,3815920427),new o(3391569614,3928383900),new o(3515267271,566280711),new o(3940187606,3454069534),new o(4118630271,4000239992),new o(116418474,1914138554),new o(174292421,2731055270),new o(289380356,3203993006),new o(460393269,320620315),new o(685471733,587496836),new o(852142971,1086792851),new o(1017036298,365543100),new o(1126000580,2618297676),new o(1288033470,3409855158),new o(1501505948,4234509866),new o(1607167915,987167468),new o(1816402316,1246189591)];function E(G,ae,ce,Ie=!1){let fe,Te,be,ve,te,ie,ge,he;Ie?(fe=new o(3418070365,3238371032),Te=new o(1654270250,914150663),be=new o(2438529370,812702999),ve=new o(355462360,4144912697),te=new o(1731405415,4290775857),ie=new o(2394180231,1750603025),ge=new o(3675008525,1694076839),he=new o(1203062813,3204075428)):(fe=new o(1779033703,4089235720),Te=new o(3144134277,2227873595),be=new o(1013904242,4271175723),ve=new o(2773480762,1595750129),te=new o(1359893119,2917565137),ie=new o(2600822924,725511199),ge=new o(528734635,4215389547),he=new o(1541459225,327033209));const ue=Math.ceil((ce+17)/128)*128,we=new Uint8Array(ue);let Ce,le;for(Ce=0;Ce<ce;++Ce)we[Ce]=G[ae++];we[Ce++]=128;const ke=ue-16;for(;Ce<ke;)we[Ce++]=0;we[Ce++]=0,we[Ce++]=0,we[Ce++]=0,we[Ce++]=0,we[Ce++]=0,we[Ce++]=0,we[Ce++]=0,we[Ce++]=0,we[Ce++]=0,we[Ce++]=0,we[Ce++]=0,we[Ce++]=ce>>>29&255,we[Ce++]=ce>>21&255,we[Ce++]=ce>>13&255,we[Ce++]=ce>>5&255,we[Ce++]=ce<<3&255;const Fe=new Array(80);for(Ce=0;Ce<80;Ce++)Fe[Ce]=new o(0,0);let de=new o(0,0),Ee=new o(0,0),Oe=new o(0,0),Ne=new o(0,0),et=new o(0,0),rt=new o(0,0),Ge=new o(0,0),je=new o(0,0);const $e=new o(0,0),ze=new o(0,0),at=new o(0,0),mt=new o(0,0);let At;for(Ce=0;Ce<ue;){for(le=0;le<16;++le)Fe[le].high=we[Ce]<<24|we[Ce+1]<<16|we[Ce+2]<<8|we[Ce+3],Fe[le].low=we[Ce+4]<<24|we[Ce+5]<<16|we[Ce+6]<<8|we[Ce+7],Ce+=8;for(le=16;le<80;++le)At=Fe[le],r(At,Fe[le-2],mt),At.add(Fe[le-7]),y(at,Fe[le-15],mt),At.add(at),At.add(Fe[le-16]);for(de.assign(fe),Ee.assign(Te),Oe.assign(be),Ne.assign(ve),et.assign(te),rt.assign(ie),Ge.assign(ge),je.assign(he),le=0;le<80;++le)$e.assign(je),u(at,et,mt),$e.add(at),v(at,et,rt,Ge,mt),$e.add(at),$e.add(A[le]),$e.add(Fe[le]),I(ze,de,mt),S(at,de,Ee,Oe,mt),ze.add(at),At=je,je=Ge,Ge=rt,rt=et,Ne.add($e),et=Ne,Ne=Oe,Oe=Ee,Ee=de,At.assign($e),At.add(ze),de=At;fe.add(de),Te.add(Ee),be.add(Oe),ve.add(Ne),te.add(et),ie.add(rt),ge.add(Ge),he.add(je)}let Qe;return Ie?(Qe=new Uint8Array(48),fe.copyTo(Qe,0),Te.copyTo(Qe,8),be.copyTo(Qe,16),ve.copyTo(Qe,24),te.copyTo(Qe,32),ie.copyTo(Qe,40)):(Qe=new Uint8Array(64),fe.copyTo(Qe,0),Te.copyTo(Qe,8),be.copyTo(Qe,16),ve.copyTo(Qe,24),te.copyTo(Qe,32),ie.copyTo(Qe,40),ge.copyTo(Qe,48),he.copyTo(Qe,56)),Qe}return E}();h.calculateSHA512=X;function L(N,v,S){return X(N,v,S,!0)}class O{decryptBlock(v){return v}encrypt(v){return v}}class f{constructor(){this.constructor===f&&(0,n.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let v=0;v<256;v++)this._mixCol[v]=v<128?v<<1:v<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(v){(0,n.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(v,S){let I,u,y;const r=new Uint8Array(16);r.set(v);for(let A=0,E=this._keySize;A<16;++A,++E)r[A]^=S[E];for(let A=this._cyclesOfRepetition-1;A>=1;--A){I=r[13],r[13]=r[9],r[9]=r[5],r[5]=r[1],r[1]=I,I=r[14],u=r[10],r[14]=r[6],r[10]=r[2],r[6]=I,r[2]=u,I=r[15],u=r[11],y=r[7],r[15]=r[3],r[11]=I,r[7]=u,r[3]=y;for(let E=0;E<16;++E)r[E]=this._inv_s[r[E]];for(let E=0,G=A*16;E<16;++E,++G)r[E]^=S[G];for(let E=0;E<16;E+=4){const G=this._mix[r[E]],ae=this._mix[r[E+1]],ce=this._mix[r[E+2]],Ie=this._mix[r[E+3]];I=G^ae>>>8^ae<<24^ce>>>16^ce<<16^Ie>>>24^Ie<<8,r[E]=I>>>24&255,r[E+1]=I>>16&255,r[E+2]=I>>8&255,r[E+3]=I&255}}I=r[13],r[13]=r[9],r[9]=r[5],r[5]=r[1],r[1]=I,I=r[14],u=r[10],r[14]=r[6],r[10]=r[2],r[6]=I,r[2]=u,I=r[15],u=r[11],y=r[7],r[15]=r[3],r[11]=I,r[7]=u,r[3]=y;for(let A=0;A<16;++A)r[A]=this._inv_s[r[A]],r[A]^=S[A];return r}_encrypt(v,S){const I=this._s;let u,y,r;const A=new Uint8Array(16);A.set(v);for(let E=0;E<16;++E)A[E]^=S[E];for(let E=1;E<this._cyclesOfRepetition;E++){for(let G=0;G<16;++G)A[G]=I[A[G]];r=A[1],A[1]=A[5],A[5]=A[9],A[9]=A[13],A[13]=r,r=A[2],y=A[6],A[2]=A[10],A[6]=A[14],A[10]=r,A[14]=y,r=A[3],y=A[7],u=A[11],A[3]=A[15],A[7]=r,A[11]=y,A[15]=u;for(let G=0;G<16;G+=4){const ae=A[G+0],ce=A[G+1],Ie=A[G+2],fe=A[G+3];u=ae^ce^Ie^fe,A[G+0]^=u^this._mixCol[ae^ce],A[G+1]^=u^this._mixCol[ce^Ie],A[G+2]^=u^this._mixCol[Ie^fe],A[G+3]^=u^this._mixCol[fe^ae]}for(let G=0,ae=E*16;G<16;++G,++ae)A[G]^=S[ae]}for(let E=0;E<16;++E)A[E]=I[A[E]];r=A[1],A[1]=A[5],A[5]=A[9],A[9]=A[13],A[13]=r,r=A[2],y=A[6],A[2]=A[10],A[6]=A[14],A[10]=r,A[14]=y,r=A[3],y=A[7],u=A[11],A[3]=A[15],A[7]=r,A[11]=y,A[15]=u;for(let E=0,G=this._keySize;E<16;++E,++G)A[E]^=S[G];return A}_decryptBlock2(v,S){const I=v.length;let u=this.buffer,y=this.bufferPosition;const r=[];let A=this.iv;for(let ae=0;ae<I;++ae){if(u[y]=v[ae],++y,y<16)continue;const ce=this._decrypt(u,this._key);for(let Ie=0;Ie<16;++Ie)ce[Ie]^=A[Ie];A=u,r.push(ce),u=new Uint8Array(16),y=0}if(this.buffer=u,this.bufferLength=y,this.iv=A,r.length===0)return new Uint8Array(0);let E=16*r.length;if(S){const ae=r.at(-1);let ce=ae[15];if(ce<=16){for(let Ie=15,fe=16-ce;Ie>=fe;--Ie)if(ae[Ie]!==ce){ce=0;break}E-=ce,r[r.length-1]=ae.subarray(0,16-ce)}}const G=new Uint8Array(E);for(let ae=0,ce=0,Ie=r.length;ae<Ie;++ae,ce+=16)G.set(r[ae],ce);return G}decryptBlock(v,S,I=null){const u=v.length,y=this.buffer;let r=this.bufferPosition;if(I)this.iv=I;else{for(let A=0;r<16&&A<u;++A,++r)y[r]=v[A];if(r<16)return this.bufferLength=r,new Uint8Array(0);this.iv=y,v=v.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(v,S)}encrypt(v,S){const I=v.length;let u=this.buffer,y=this.bufferPosition;const r=[];S||(S=new Uint8Array(16));for(let G=0;G<I;++G){if(u[y]=v[G],++y,y<16)continue;for(let ce=0;ce<16;++ce)u[ce]^=S[ce];const ae=this._encrypt(u,this._key);S=ae,r.push(ae),u=new Uint8Array(16),y=0}if(this.buffer=u,this.bufferLength=y,this.iv=S,r.length===0)return new Uint8Array(0);const A=16*r.length,E=new Uint8Array(A);for(let G=0,ae=0,ce=r.length;G<ce;++G,ae+=16)E.set(r[G],ae);return E}}class p extends f{constructor(v){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(v)}_expandKey(v){const I=this._s,u=this._rcon,y=new Uint8Array(176);y.set(v);for(let r=16,A=1;r<176;++A){let E=y[r-3],G=y[r-2],ae=y[r-1],ce=y[r-4];E=I[E],G=I[G],ae=I[ae],ce=I[ce],E^=u[A];for(let Ie=0;Ie<4;++Ie)y[r]=E^=y[r-16],r++,y[r]=G^=y[r-16],r++,y[r]=ae^=y[r-16],r++,y[r]=ce^=y[r-16],r++}return y}}h.AES128Cipher=p;class i extends f{constructor(v){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(v)}_expandKey(v){const I=this._s,u=new Uint8Array(240);u.set(v);let y=1,r,A,E,G;for(let ae=32,ce=1;ae<240;++ce){ae%32===16?(r=I[r],A=I[A],E=I[E],G=I[G]):ae%32===0&&(r=u[ae-3],A=u[ae-2],E=u[ae-1],G=u[ae-4],r=I[r],A=I[A],E=I[E],G=I[G],r^=y,(y<<=1)>=256&&(y=(y^27)&255));for(let Ie=0;Ie<4;++Ie)u[ae]=r^=u[ae-32],ae++,u[ae]=A^=u[ae-32],ae++,u[ae]=E^=u[ae-32],ae++,u[ae]=G^=u[ae-32],ae++}return u}}h.AES256Cipher=i;class T{checkOwnerPassword(v,S,I,u){const y=new Uint8Array(v.length+56);y.set(v,0),y.set(S,v.length),y.set(I,v.length+S.length);const r=K(y,0,y.length);return(0,n.isArrayEqual)(r,u)}checkUserPassword(v,S,I){const u=new Uint8Array(v.length+8);u.set(v,0),u.set(S,v.length);const y=K(u,0,u.length);return(0,n.isArrayEqual)(y,I)}getOwnerKey(v,S,I,u){const y=new Uint8Array(v.length+56);y.set(v,0),y.set(S,v.length),y.set(I,v.length+S.length);const r=K(y,0,y.length);return new i(r).decryptBlock(u,!1,new Uint8Array(16))}getUserKey(v,S,I){const u=new Uint8Array(v.length+8);u.set(v,0),u.set(S,v.length);const y=K(u,0,u.length);return new i(y).decryptBlock(I,!1,new Uint8Array(16))}}h.PDF17=T;class F{_hash(v,S,I){let u=K(S,0,S.length).subarray(0,32),y=[0],r=0;for(;r<64||y.at(-1)>r-32;){const A=v.length+u.length+I.length,E=new Uint8Array(A);let G=0;E.set(v,G),G+=v.length,E.set(u,G),G+=u.length,E.set(I,G);const ae=new Uint8Array(A*64);for(let fe=0,Te=0;fe<64;fe++,Te+=A)ae.set(E,Te);y=new p(u.subarray(0,16)).encrypt(ae,u.subarray(16,32));const Ie=y.slice(0,16).reduce((fe,Te)=>fe+Te,0)%3;Ie===0?u=K(y,0,y.length):Ie===1?u=L(y,0,y.length):Ie===2&&(u=X(y,0,y.length)),r++}return u.subarray(0,32)}checkOwnerPassword(v,S,I,u){const y=new Uint8Array(v.length+56);y.set(v,0),y.set(S,v.length),y.set(I,v.length+S.length);const r=this._hash(v,y,I);return(0,n.isArrayEqual)(r,u)}checkUserPassword(v,S,I){const u=new Uint8Array(v.length+8);u.set(v,0),u.set(S,v.length);const y=this._hash(v,u,[]);return(0,n.isArrayEqual)(y,I)}getOwnerKey(v,S,I,u){const y=new Uint8Array(v.length+56);y.set(v,0),y.set(S,v.length),y.set(I,v.length+S.length);const r=this._hash(v,y,I);return new i(r).decryptBlock(u,!1,new Uint8Array(16))}getUserKey(v,S,I){const u=new Uint8Array(v.length+8);u.set(v,0),u.set(S,v.length);const y=this._hash(v,u,[]);return new i(y).decryptBlock(I,!1,new Uint8Array(16))}}h.PDF20=F;class P{constructor(v,S){this.StringCipherConstructor=v,this.StreamCipherConstructor=S}createStream(v,S){const I=new this.StreamCipherConstructor;return new U.DecryptStream(v,S,function(y,r){return I.decryptBlock(y,r)})}decryptString(v){const S=new this.StringCipherConstructor;let I=(0,n.stringToBytes)(v);return I=S.decryptBlock(I,!0),(0,n.bytesToString)(I)}encryptString(v){const S=new this.StringCipherConstructor;if(S instanceof f){const y=16-v.length%16;v+=String.fromCharCode(y).repeat(y);const r=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(r);else for(let G=0;G<16;G++)r[G]=Math.floor(256*Math.random());let A=(0,n.stringToBytes)(v);A=S.encrypt(A,r);const E=new Uint8Array(16+A.length);return E.set(r),E.set(A,16),(0,n.bytesToString)(E)}let I=(0,n.stringToBytes)(v);return I=S.encrypt(I),(0,n.bytesToString)(I)}}const Z=class Z{constructor(v,S,I){ct(this,$);ct(this,_);ct(this,d);ct(this,q);ct(this,b);const u=v.get("Filter");if(!(0,x.isName)(u,"Standard"))throw new n.FormatError("unknown encryption method");this.filterName=u.name,this.dict=v;const y=v.get("V");if(!Number.isInteger(y)||y!==1&&y!==2&&y!==4&&y!==5)throw new n.FormatError("unsupported encryption algorithm");this.algorithm=y;let r=v.get("Length");if(!r)if(y<=3)r=40;else{const te=v.get("CF"),ie=v.get("StmF");if(te instanceof x.Dict&&ie instanceof x.Name){te.suppressEncryption=!0;const ge=te.get(ie.name);r=(ge==null?void 0:ge.get("Length"))||128,r<40&&(r<<=3)}}if(!Number.isInteger(r)||r<40||r%8!==0)throw new n.FormatError("invalid key length");const A=(0,n.stringToBytes)(v.get("O")),E=(0,n.stringToBytes)(v.get("U")),G=A.subarray(0,32),ae=E.subarray(0,32),ce=v.get("P"),Ie=v.get("R"),fe=(y===4||y===5)&&v.get("EncryptMetadata")!==!1;this.encryptMetadata=fe;const Te=(0,n.stringToBytes)(S);let be;if(I){if(Ie===6)try{I=(0,n.utf8StringToString)(I)}catch{(0,n.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}be=(0,n.stringToBytes)(I)}let ve;if(y!==5)ve=dt(this,_,j0).call(this,Te,be,G,ae,ce,Ie,r,fe);else{const te=A.subarray(32,40),ie=A.subarray(40,48),ge=E.subarray(0,48),he=E.subarray(32,40),ue=E.subarray(40,48),we=(0,n.stringToBytes)(v.get("OE")),Ce=(0,n.stringToBytes)(v.get("UE")),le=(0,n.stringToBytes)(v.get("Perms"));ve=dt(this,$,ad).call(this,Ie,be,G,te,ie,ge,ae,he,ue,we,Ce,le)}if(!ve&&!I)throw new n.PasswordException("No password given",n.PasswordResponses.NEED_PASSWORD);if(!ve&&I){const te=dt(this,d,od).call(this,be,G,Ie,r);ve=dt(this,_,j0).call(this,Te,te,G,ae,ce,Ie,r,fe)}if(!ve)throw new n.PasswordException("Incorrect Password",n.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=ve,y>=4){const te=v.get("CF");te instanceof x.Dict&&(te.suppressEncryption=!0),this.cf=te,this.stmf=v.get("StmF")||x.Name.get("Identity"),this.strf=v.get("StrF")||x.Name.get("Identity"),this.eff=v.get("EFF")||this.stmf}}createCipherTransform(v,S){if(this.algorithm===4||this.algorithm===5)return new P(dt(this,b,G0).call(this,this.cf,this.strf,v,S,this.encryptionKey),dt(this,b,G0).call(this,this.cf,this.stmf,v,S,this.encryptionKey));const I=dt(this,q,OA).call(this,v,S,this.encryptionKey,!1),u=function(){return new e(I)};return new P(u,u)}};H=new WeakMap,$=new WeakSet,ad=function(v,S,I,u,y,r,A,E,G,ae,ce,Ie){if(S){const Te=Math.min(127,S.length);S=S.subarray(0,Te)}else S=[];const fe=v===6?new F:new T;return fe.checkUserPassword(S,E,A)?fe.getUserKey(S,G,ce):S.length&&fe.checkOwnerPassword(S,u,r,I)?fe.getOwnerKey(S,y,r,ae):null},_=new WeakSet,j0=function(v,S,I,u,y,r,A,E){const G=40+I.length+v.length,ae=new Uint8Array(G);let ce=0,Ie,fe;if(S)for(fe=Math.min(32,S.length);ce<fe;++ce)ae[ce]=S[ce];for(Ie=0;ce<32;)ae[ce++]=Ue(Z,H)[Ie++];for(Ie=0,fe=I.length;Ie<fe;++Ie)ae[ce++]=I[Ie];for(ae[ce++]=y&255,ae[ce++]=y>>8&255,ae[ce++]=y>>16&255,ae[ce++]=y>>>24&255,Ie=0,fe=v.length;Ie<fe;++Ie)ae[ce++]=v[Ie];r>=4&&!E&&(ae[ce++]=255,ae[ce++]=255,ae[ce++]=255,ae[ce++]=255);let Te=t(ae,0,ce);const be=A>>3;if(r>=3)for(Ie=0;Ie<50;++Ie)Te=t(Te,0,be);const ve=Te.subarray(0,be);let te,ie;if(r>=3){for(ce=0;ce<32;++ce)ae[ce]=Ue(Z,H)[ce];for(Ie=0,fe=v.length;Ie<fe;++Ie)ae[ce++]=v[Ie];te=new e(ve),ie=te.encryptBlock(t(ae,0,ce)),fe=ve.length;const ge=new Uint8Array(fe);for(Ie=1;Ie<=19;++Ie){for(let he=0;he<fe;++he)ge[he]=ve[he]^Ie;te=new e(ge),ie=te.encryptBlock(ie)}for(Ie=0,fe=ie.length;Ie<fe;++Ie)if(u[Ie]!==ie[Ie])return null}else for(te=new e(ve),ie=te.encryptBlock(Ue(Z,H)),Ie=0,fe=ie.length;Ie<fe;++Ie)if(u[Ie]!==ie[Ie])return null;return ve},d=new WeakSet,od=function(v,S,I,u){const y=new Uint8Array(32);let r=0;const A=Math.min(32,v.length);for(;r<A;++r)y[r]=v[r];let E=0;for(;r<32;)y[r++]=Ue(Z,H)[E++];let G=t(y,0,r);const ae=u>>3;if(I>=3)for(E=0;E<50;++E)G=t(G,0,G.length);let ce,Ie;if(I>=3){Ie=S;const fe=new Uint8Array(ae);for(E=19;E>=0;E--){for(let Te=0;Te<ae;++Te)fe[Te]=G[Te]^E;ce=new e(fe),Ie=ce.encryptBlock(Ie)}}else ce=new e(G.subarray(0,ae)),Ie=ce.encryptBlock(S);return Ie},q=new WeakSet,OA=function(v,S,I,u=!1){const y=new Uint8Array(I.length+9),r=I.length;let A;for(A=0;A<r;++A)y[A]=I[A];return y[A++]=v&255,y[A++]=v>>8&255,y[A++]=v>>16&255,y[A++]=S&255,y[A++]=S>>8&255,u&&(y[A++]=115,y[A++]=65,y[A++]=108,y[A++]=84),t(y,0,A).subarray(0,Math.min(I.length+5,16))},b=new WeakSet,G0=function(v,S,I,u,y){if(!(S instanceof x.Name))throw new n.FormatError("Invalid crypt filter name.");const r=this,A=v.get(S.name),E=A==null?void 0:A.get("CFM");if(!E||E.name==="None")return function(){return new O};if(E.name==="V2")return function(){var G;return new e(dt(G=r,q,OA).call(G,I,u,y,!1))};if(E.name==="AESV2")return function(){var G;return new p(dt(G=r,q,OA).call(G,I,u,y,!0))};if(E.name==="AESV3")return function(){return new i(y)};throw new n.FormatError("Unknown crypto method")},ct(Z,H,new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]));let C=Z;h.CipherTransformFactory=C},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DecryptStream=void 0;var n=re(18);const x=512;class U extends n.DecodeStream{constructor(t,o,K){super(o),this.str=t,this.dict=t.dict,this.decrypt=K,this.nextChunk=null,this.initialized=!1}readBlock(){var f;let t;if(this.initialized?t=this.nextChunk:(t=this.str.getBytes(x),this.initialized=!0),!t||t.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(x);const o=((f=this.nextChunk)==null?void 0:f.length)>0,K=this.decrypt;t=K(t,!o);const X=this.bufferLength,L=X+t.length;this.ensureBuffer(L).set(t,X),this.bufferLength=L}}h.DecryptStream=U},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ObjectLoader=void 0;var n=re(4),x=re(5),U=re(3),e=re(2);function t(X){return X instanceof n.Ref||X instanceof n.Dict||X instanceof x.BaseStream||Array.isArray(X)}function o(X,L){if(X instanceof n.Dict)X=X.getRawValues();else if(X instanceof x.BaseStream)X=X.dict.getRawValues();else if(!Array.isArray(X))return;for(const O of X)t(O)&&L.push(O)}class K{constructor(L,O,f){this.dict=L,this.keys=O,this.xref=f,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:L,dict:O}=this;this.refSet=new n.RefSet;const f=[];for(const p of L){const i=O.getRaw(p);i!==void 0&&f.push(i)}return this._walk(f)}async _walk(L){const O=[],f=[];for(;L.length;){let p=L.pop();if(p instanceof n.Ref){if(this.refSet.has(p))continue;try{this.refSet.put(p),p=this.xref.fetch(p)}catch(i){if(!(i instanceof U.MissingDataException)){(0,e.warn)(`ObjectLoader._walk - requesting all data: "${i}".`),this.refSet=null;const{manager:T}=this.xref.stream;return T.requestAllChunks()}O.push(p),f.push({begin:i.begin,end:i.end})}}if(p instanceof x.BaseStream){const i=p.getBaseStreams();if(i){let T=!1;for(const F of i)F.isDataLoaded||(T=!0,f.push({begin:F.start,end:F.end}));T&&O.push(p)}}o(p,L)}if(f.length){await this.xref.stream.manager.requestRanges(f);for(const p of O)p instanceof n.Ref&&this.refSet.remove(p);return this._walk(O)}this.refSet=null}}h.ObjectLoader=K},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XFAFactory=void 0;var n=re(78),x=re(79),U=re(89),e=re(85),t=re(84),o=re(2),K=re(90),X=re(100);class L{constructor(f){try{this.root=new K.XFAParser().parse(L._createDocument(f));const p=new x.Binder(this.root);this.form=p.bind(),this.dataHandler=new U.DataHandler(this.root,p.getData()),this.form[n.$globalData].template=this.form}catch(p){(0,o.warn)(`XFA - an error occurred during parsing and binding: ${p}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const f=this.form[n.$toPages]();return new Promise((p,i)=>{const T=()=>{try{const F=f.next();F.done?p(F.value):setTimeout(T,0)}catch(F){i(F)}};setTimeout(T,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(f=>{const{width:p,height:i}=f.attributes.style;return[0,0,parseInt(p),parseInt(i)]})}catch(f){(0,o.warn)(`XFA - an error occurred during layout: ${f}`)}}getBoundingBox(f){return this.dims[f]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(f){this.form[n.$globalData].images=f}setFonts(f){this.form[n.$globalData].fontFinder=new e.FontFinder(f);const p=[];for(let i of this.form[n.$globalData].usedTypefaces)i=(0,t.stripQuotes)(i),this.form[n.$globalData].fontFinder.find(i)||p.push(i);return p.length>0?p:null}appendFonts(f,p){this.form[n.$globalData].fontFinder.add(f,p)}async getPages(){this.pages||await this._createPages();const f=this.pages;return this.pages=null,f}serializeData(f){return this.dataHandler.serialize(f)}static _createDocument(f){return f["/xdp:xdp"]?Object.values(f).join(""):f["xdp:xdp"]}static getRichTextAsHtml(f){if(!f||typeof f!="string")return null;try{let p=new K.XFAParser(X.XhtmlNamespace,!0).parse(f);if(!["body","xhtml"].includes(p[n.$nodeName])){const P=X.XhtmlNamespace.body({});P[n.$appendChild](p),p=P}const i=p[n.$toHTML]();if(!i.success)return null;const{html:T}=i,{attributes:F}=T;return F&&(F.class&&(F.class=F.class.filter(P=>!P.startsWith("xfa"))),F.dir="auto"),{html:T,str:p[n.$text]()}}catch(p){(0,o.warn)(`XFA - an error occurred during parsing of rich text: ${p}`)}return null}}h.XFAFactory=L},(Pe,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.$uid=h.$toStyle=h.$toString=h.$toPages=h.$toHTML=h.$text=h.$tabIndex=h.$setValue=h.$setSetAttributes=h.$setId=h.$searchNode=h.$root=h.$resolvePrototypes=h.$removeChild=h.$pushPara=h.$pushGlyphs=h.$popPara=h.$onText=h.$onChildCheck=h.$onChild=h.$nsAttributes=h.$nodeName=h.$namespaceId=h.$lastAttribute=h.$isUsable=h.$isTransparent=h.$isThereMoreWidth=h.$isSplittable=h.$isNsAgnostic=h.$isDescendent=h.$isDataValue=h.$isCDATAXml=h.$isBindable=h.$insertAt=h.$indexOf=h.$ids=h.$hasSettableValue=h.$globalData=h.$getTemplateRoot=h.$getSubformParent=h.$getRealChildrenByNameIt=h.$getParent=h.$getNextPage=h.$getExtra=h.$getDataValue=h.$getContainedChildren=h.$getChildrenByNameIt=h.$getChildrenByName=h.$getChildrenByClass=h.$getChildren=h.$getAvailableSpace=h.$getAttributes=h.$getAttributeIt=h.$flushHTML=h.$finalize=h.$extra=h.$dump=h.$data=h.$content=h.$consumed=h.$clone=h.$cleanup=h.$cleanPage=h.$clean=h.$childrenToHTML=h.$appendChild=h.$addHTML=h.$acceptWhitespace=void 0;const re=Symbol();h.$acceptWhitespace=re;const n=Symbol();h.$addHTML=n;const x=Symbol();h.$appendChild=x;const U=Symbol();h.$childrenToHTML=U;const e=Symbol();h.$clean=e;const t=Symbol();h.$cleanPage=t;const o=Symbol();h.$cleanup=o;const K=Symbol();h.$clone=K;const X=Symbol();h.$consumed=X;const L=Symbol("content");h.$content=L;const O=Symbol("data");h.$data=O;const f=Symbol();h.$dump=f;const p=Symbol("extra");h.$extra=p;const i=Symbol();h.$finalize=i;const T=Symbol();h.$flushHTML=T;const F=Symbol();h.$getAttributeIt=F;const P=Symbol();h.$getAttributes=P;const C=Symbol();h.$getAvailableSpace=C;const H=Symbol();h.$getChildrenByClass=H;const $=Symbol();h.$getChildrenByName=$;const se=Symbol();h.$getChildrenByNameIt=se;const _=Symbol();h.$getDataValue=_;const Q=Symbol();h.$getExtra=Q;const d=Symbol();h.$getRealChildrenByNameIt=d;const w=Symbol();h.$getChildren=w;const q=Symbol();h.$getContainedChildren=q;const l=Symbol();h.$getNextPage=l;const b=Symbol();h.$getSubformParent=b;const D=Symbol();h.$getParent=D;const Z=Symbol();h.$getTemplateRoot=Z;const N=Symbol();h.$globalData=N;const v=Symbol();h.$hasSettableValue=v;const S=Symbol();h.$ids=S;const I=Symbol();h.$indexOf=I;const u=Symbol();h.$insertAt=u;const y=Symbol();h.$isCDATAXml=y;const r=Symbol();h.$isBindable=r;const A=Symbol();h.$isDataValue=A;const E=Symbol();h.$isDescendent=E;const G=Symbol();h.$isNsAgnostic=G;const ae=Symbol();h.$isSplittable=ae;const ce=Symbol();h.$isThereMoreWidth=ce;const Ie=Symbol();h.$isTransparent=Ie;const fe=Symbol();h.$isUsable=fe;const Te=Symbol();h.$lastAttribute=Te;const be=Symbol("namespaceId");h.$namespaceId=be;const ve=Symbol("nodeName");h.$nodeName=ve;const te=Symbol();h.$nsAttributes=te;const ie=Symbol();h.$onChild=ie;const ge=Symbol();h.$onChildCheck=ge;const he=Symbol();h.$onText=he;const ue=Symbol();h.$pushGlyphs=ue;const we=Symbol();h.$popPara=we;const Ce=Symbol();h.$pushPara=Ce;const le=Symbol();h.$removeChild=le;const ke=Symbol("root");h.$root=ke;const Fe=Symbol();h.$resolvePrototypes=Fe;const de=Symbol();h.$searchNode=de;const Ee=Symbol();h.$setId=Ee;const Oe=Symbol();h.$setSetAttributes=Oe;const Ne=Symbol();h.$setValue=Ne;const et=Symbol();h.$tabIndex=et;const rt=Symbol();h.$text=rt;const Ge=Symbol();h.$toPages=Ge;const je=Symbol();h.$toHTML=je;const $e=Symbol();h.$toString=$e;const ze=Symbol();h.$toStyle=ze;const at=Symbol("uid");h.$uid=at},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Binder=void 0;var n=re(78),x=re(80),U=re(88),e=re(87),t=re(81),o=re(2);const K=t.NamespaceIds.datasets.id;function X(O){const f=new x.Text({});return f[n.$content]=O,f}class L{constructor(f){var p;this.root=f,this.datasets=f.datasets,this.data=((p=f.datasets)==null?void 0:p.data)||new e.XmlObject(t.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[n.$getChildren]().length===0,this.root.form=this.form=f.template[n.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(f,p,i){var T,F;if(f[n.$data]=p,f[n.$hasSettableValue]())if(p[n.$isDataValue]()){const P=p[n.$getDataValue]();f[n.$setValue](X(P))}else if(f instanceof x.Field&&((F=(T=f.ui)==null?void 0:T.choiceList)==null?void 0:F.open)==="multiSelect"){const P=p[n.$getChildren]().map(C=>C[n.$content].trim()).join(`
`);f[n.$setValue](X(P))}else this._isConsumeData()&&(0,o.warn)("XFA - Nodes haven't the same type.");else!p[n.$isDataValue]()||this._isMatchTemplate()?this._bindElement(f,p):(0,o.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(f,p,i,T){if(!f)return null;let F,P;for(let C=0;C<3;C++){for(F=i[n.$getRealChildrenByNameIt](f,!1,!0);P=F.next().value,!!P;)if(p===P[n.$isDataValue]())return P;if(i[n.$namespaceId]===t.NamespaceIds.datasets.id&&i[n.$nodeName]==="data")break;i=i[n.$getParent]()}return T?(F=this.data[n.$getRealChildrenByNameIt](f,!0,!1),P=F.next().value,P||(F=this.data[n.$getAttributeIt](f,!0),P=F.next().value,P!=null&&P[n.$isDataValue]())?P:null):null}_setProperties(f,p){if(f.hasOwnProperty("setProperty"))for(const{ref:i,target:T,connection:F}of f.setProperty.children){if(F||!i)continue;const P=(0,U.searchNode)(this.root,p,i,!1,!1);if(!P){(0,o.warn)(`XFA - Invalid reference: ${i}.`);continue}const[C]=P;if(!C[n.$isDescendent](this.data)){(0,o.warn)("XFA - Invalid node: must be a data node.");continue}const H=(0,U.searchNode)(this.root,f,T,!1,!1);if(!H){(0,o.warn)(`XFA - Invalid target: ${T}.`);continue}const[$]=H;if(!$[n.$isDescendent](f)){(0,o.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const se=$[n.$getParent]();if($ instanceof x.SetProperty||se instanceof x.SetProperty){(0,o.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if($ instanceof x.BindItems||se instanceof x.BindItems){(0,o.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const _=C[n.$text](),Q=$[n.$nodeName];if($ instanceof e.XFAAttribute){const d=Object.create(null);d[Q]=_;const w=Reflect.construct(Object.getPrototypeOf(se).constructor,[d]);se[Q]=w[Q];continue}if(!$.hasOwnProperty(n.$content)){(0,o.warn)("XFA - Invalid node to use in setProperty");continue}$[n.$data]=C,$[n.$content]=_,$[n.$finalize]()}}_bindItems(f,p){if(!f.hasOwnProperty("items")||!f.hasOwnProperty("bindItems")||f.bindItems.isEmpty())return;for(const F of f.items.children)f[n.$removeChild](F);f.items.clear();const i=new x.Items({}),T=new x.Items({});f[n.$appendChild](i),f.items.push(i),f[n.$appendChild](T),f.items.push(T);for(const{ref:F,labelRef:P,valueRef:C,connection:H}of f.bindItems.children){if(H||!F)continue;const $=(0,U.searchNode)(this.root,p,F,!1,!1);if(!$){(0,o.warn)(`XFA - Invalid reference: ${F}.`);continue}for(const se of $){if(!se[n.$isDescendent](this.datasets)){(0,o.warn)(`XFA - Invalid ref (${F}): must be a datasets child.`);continue}const _=(0,U.searchNode)(this.root,se,P,!0,!1);if(!_){(0,o.warn)(`XFA - Invalid label: ${P}.`);continue}const[Q]=_;if(!Q[n.$isDescendent](this.datasets)){(0,o.warn)("XFA - Invalid label: must be a datasets child.");continue}const d=(0,U.searchNode)(this.root,se,C,!0,!1);if(!d){(0,o.warn)(`XFA - Invalid value: ${C}.`);continue}const[w]=d;if(!w[n.$isDescendent](this.datasets)){(0,o.warn)("XFA - Invalid value: must be a datasets child.");continue}const q=X(Q[n.$text]()),l=X(w[n.$text]());i[n.$appendChild](q),i.text.push(q),T[n.$appendChild](l),T.text.push(l)}}}_bindOccurrences(f,p,i){let T;if(p.length>1&&(T=f[n.$clone](),T[n.$removeChild](T.occur),T.occur=null),this._bindValue(f,p[0],i),this._setProperties(f,p[0]),this._bindItems(f,p[0]),p.length===1)return;const F=f[n.$getParent](),P=f[n.$nodeName],C=F[n.$indexOf](f);for(let H=1,$=p.length;H<$;H++){const se=p[H],_=T[n.$clone]();F[P].push(_),F[n.$insertAt](C+H,_),this._bindValue(_,se,i),this._setProperties(_,se),this._bindItems(_,se)}}_createOccurrences(f){if(!this.emptyMerge)return;const{occur:p}=f;if(!p||p.initial<=1)return;const i=f[n.$getParent](),T=f[n.$nodeName];if(!(i[T]instanceof e.XFAObjectArray))return;let F;f.name?F=i[T].children.filter(H=>H.name===f.name).length:F=i[T].children.length;const P=i[n.$indexOf](f)+1,C=p.initial-F;if(C){const H=f[n.$clone]();H[n.$removeChild](H.occur),H.occur=null,i[T].push(H),i[n.$insertAt](P,H);for(let $=1;$<C;$++){const se=H[n.$clone]();i[T].push(se),i[n.$insertAt](P+$,se)}}}_getOccurInfo(f){const{name:p,occur:i}=f;if(!i||!p)return[1,1];const T=i.max===-1?1/0:i.max;return[i.min,T]}_setAndBind(f,p){this._setProperties(f,p),this._bindItems(f,p),this._bindElement(f,p)}_bindElement(f,p){const i=[];this._createOccurrences(f);for(const T of f[n.$getChildren]()){if(T[n.$data])continue;if(this._mergeMode===void 0&&T[n.$nodeName]==="subform"){this._mergeMode=T.mergeMode==="consumeData";const _=p[n.$getChildren]();if(_.length>0)this._bindOccurrences(T,[_[0]],null);else if(this.emptyMerge){const Q=p[n.$namespaceId]===K?-1:p[n.$namespaceId],d=T[n.$data]=new e.XmlObject(Q,T.name||"root");p[n.$appendChild](d),this._bindElement(T,d)}continue}if(!T[n.$isBindable]())continue;let F=!1,P=null,C=null,H=null;if(T.bind){switch(T.bind.match){case"none":this._setAndBind(T,p);continue;case"global":F=!0;break;case"dataRef":if(!T.bind.ref){(0,o.warn)(`XFA - ref is empty in node ${T[n.$nodeName]}.`),this._setAndBind(T,p);continue}C=T.bind.ref;break}T.bind.picture&&(P=T.bind.picture[n.$content])}const[$,se]=this._getOccurInfo(T);if(C)if(H=(0,U.searchNode)(this.root,p,C,!0,!1),H===null){if(H=(0,U.createDataNode)(this.data,p,C),!H)continue;this._isConsumeData()&&(H[n.$consumed]=!0),this._setAndBind(T,H);continue}else this._isConsumeData()&&(H=H.filter(_=>!_[n.$consumed])),H.length>se?H=H.slice(0,se):H.length===0&&(H=null),H&&this._isConsumeData()&&H.forEach(_=>{_[n.$consumed]=!0});else{if(!T.name){this._setAndBind(T,p);continue}if(this._isConsumeData()){const _=[];for(;_.length<se;){const Q=this._findDataByNameToConsume(T.name,T[n.$hasSettableValue](),p,F);if(!Q)break;Q[n.$consumed]=!0,_.push(Q)}H=_.length>0?_:null}else{if(H=p[n.$getRealChildrenByNameIt](T.name,!1,this.emptyMerge).next().value,!H){if($===0){i.push(T);continue}const _=p[n.$namespaceId]===K?-1:p[n.$namespaceId];H=T[n.$data]=new e.XmlObject(_,T.name),this.emptyMerge&&(H[n.$consumed]=!0),p[n.$appendChild](H),this._setAndBind(T,H);continue}this.emptyMerge&&(H[n.$consumed]=!0),H=[H]}}H?this._bindOccurrences(T,H,P):$>0?this._setAndBind(T,p):i.push(T)}i.forEach(T=>T[n.$getParent]()[n.$removeChild](T))}}h.Binder=L},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Value=h.Text=h.TemplateNamespace=h.Template=h.SetProperty=h.Items=h.Field=h.BindItems=void 0;var n=re(78),x=re(81),U=re(82),e=re(83),t=re(87),o=re(84),K=re(2),X=re(85),L=re(3),O=re(88);const f=x.NamespaceIds.template.id,p="http://www.w3.org/2000/svg",i=2,T=3,F=5e3,P=/^H(\d+)$/,C=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),H=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function $(_t){if(!_t||!_t.border)return{w:0,h:0};const c=_t.border[n.$getExtra]();return c?{w:c.widths[0]+c.widths[2]+c.insets[0]+c.insets[2],h:c.widths[1]+c.widths[3]+c.insets[1]+c.insets[3]}:{w:0,h:0}}function se(_t){return _t.margin&&(_t.margin.topInset||_t.margin.rightInset||_t.margin.bottomInset||_t.margin.leftInset)}function _(_t,c){if(!_t.value){const Be=new Bs({});_t[n.$appendChild](Be),_t.value=Be}_t.value[n.$setValue](c)}function*Q(_t){for(const c of _t[n.$getChildren]()){if(c instanceof Ts){yield*c[n.$getContainedChildren]();continue}yield c}}function d(_t){var c;return((c=_t.validate)==null?void 0:c.nullTest)==="error"}function w(_t){for(;_t;){if(!_t.traversal){_t[n.$tabIndex]=_t[n.$getParent]()[n.$tabIndex];return}if(_t[n.$tabIndex])return;let c=null;for(const Nt of _t.traversal[n.$getChildren]())if(Nt.operation==="next"){c=Nt;break}if(!c||!c.ref){_t[n.$tabIndex]=_t[n.$getParent]()[n.$tabIndex];return}const Be=_t[n.$getTemplateRoot]();_t[n.$tabIndex]=++Be[n.$tabIndex];const Bt=Be[n.$searchNode](c.ref,_t);if(!Bt)return;_t=Bt[0]}}function q(_t,c){var Bt;const Be=_t.assist;if(Be){const Nt=Be[n.$toHTML]();Nt&&(c.title=Nt);const Zn=Be.role.match(P);if(Zn){const Oi="heading",ki=Zn[1];c.role=Oi,c["aria-level"]=ki}}if(_t.layout==="table")c.role="table";else if(_t.layout==="row")c.role="row";else{const Nt=_t[n.$getParent]();Nt.layout==="row"&&(c.role=((Bt=Nt.assist)==null?void 0:Bt.role)==="TH"?"columnheader":"cell")}}function l(_t){if(!_t.assist)return null;const c=_t.assist;return c.speak&&c.speak[n.$content]!==""?c.speak[n.$content]:c.toolTip?c.toolTip[n.$content]:null}function b(_t){return o.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:_t}]})}function D(_t){const c=_t[n.$getTemplateRoot]();c[n.$extra].firstUnsplittable===null&&(c[n.$extra].firstUnsplittable=_t,c[n.$extra].noLayoutFailure=!0)}function Z(_t){const c=_t[n.$getTemplateRoot]();c[n.$extra].firstUnsplittable===_t&&(c[n.$extra].noLayoutFailure=!1)}function N(_t){if(_t[n.$extra]||(_t[n.$extra]=Object.create(null),_t.targetType==="auto"))return!1;const c=_t[n.$getTemplateRoot]();let Be=null;if(_t.target){if(Be=c[n.$searchNode](_t.target,_t[n.$getParent]()),!Be)return!1;Be=Be[0]}const{currentPageArea:Bt,currentContentArea:Nt}=c[n.$extra];if(_t.targetType==="pageArea")return Be instanceof Gi||(Be=null),_t.startNew?(_t[n.$extra].target=Be||Bt,!0):Be&&Be!==Bt?(_t[n.$extra].target=Be,!0):!1;Be instanceof ke||(Be=null);const Vt=Be&&Be[n.$getParent]();let Zn,Oi=Vt;if(_t.startNew)if(Be){const ki=Vt.contentArea.children,fr=ki.indexOf(Nt),mr=ki.indexOf(Be);fr!==-1&&fr<mr&&(Oi=null),Zn=mr-1}else Zn=Bt.contentArea.children.indexOf(Nt);else if(Be&&Be!==Nt)Zn=Vt.contentArea.children.indexOf(Be)-1,Oi=Vt===Bt?null:Vt;else return!1;return _t[n.$extra].target=Oi,_t[n.$extra].index=Zn,!0}function v(_t,c,Be){const Bt=_t[n.$getTemplateRoot](),Nt=Bt[n.$extra].noLayoutFailure,Vt=c[n.$getSubformParent];c[n.$getSubformParent]=()=>_t,Bt[n.$extra].noLayoutFailure=!0;const Zn=c[n.$toHTML](Be);_t[n.$addHTML](Zn.html,Zn.bbox),Bt[n.$extra].noLayoutFailure=Nt,c[n.$getSubformParent]=Vt}class S extends t.StringObject{constructor(c){super(f,"appearanceFilter"),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||""}}class I extends t.XFAObject{constructor(c){super(f,"arc",!0),this.circular=(0,o.getInteger)({data:c.circular,defaultValue:0,validate:Be=>Be===1}),this.hand=(0,o.getStringOption)(c.hand,["even","left","right"]),this.id=c.id||"",this.startAngle=(0,o.getFloat)({data:c.startAngle,defaultValue:0,validate:Be=>!0}),this.sweepAngle=(0,o.getFloat)({data:c.sweepAngle,defaultValue:360,validate:Be=>!0}),this.use=c.use||"",this.usehref=c.usehref||"",this.edge=null,this.fill=null}[n.$toHTML](){var ki;const c=this.edge||new ze({}),Be=c[n.$toStyle](),Bt=Object.create(null);((ki=this.fill)==null?void 0:ki.presence)==="visible"?Object.assign(Bt,this.fill[n.$toStyle]()):Bt.fill="transparent",Bt.strokeWidth=(0,e.measureToString)(c.presence==="visible"?c.thickness:0),Bt.stroke=Be.color;let Nt;const Vt={xmlns:p,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)Nt={name:"ellipse",attributes:{xmlns:p,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:Bt}};else{const fr=this.startAngle*Math.PI/180,mr=this.sweepAngle*Math.PI/180,Ir=this.sweepAngle>180?1:0,[Sr,_r,Rr,pr]=[50*(1+Math.cos(fr)),50*(1-Math.sin(fr)),50*(1+Math.cos(fr+mr)),50*(1-Math.sin(fr+mr))];Nt={name:"path",attributes:{xmlns:p,d:`M ${Sr} ${_r} A 50 50 0 ${Ir} 0 ${Rr} ${pr}`,vectorEffect:"non-scaling-stroke",style:Bt}},Object.assign(Vt,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const Zn={name:"svg",children:[Nt],attributes:Vt},Oi=this[n.$getParent]()[n.$getParent]();return se(Oi)?o.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Zn]}):(Zn.attributes.style.position="absolute",o.HTMLResult.success(Zn))}}class u extends t.XFAObject{constructor(c){super(f,"area",!0),this.colSpan=(0,o.getInteger)({data:c.colSpan,defaultValue:1,validate:Be=>Be>=1||Be===-1}),this.id=c.id||"",this.name=c.name||"",this.relevant=(0,o.getRelevant)(c.relevant),this.use=c.use||"",this.usehref=c.usehref||"",this.x=(0,o.getMeasurement)(c.x,"0pt"),this.y=(0,o.getMeasurement)(c.y,"0pt"),this.desc=null,this.extras=null,this.area=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[n.$getContainedChildren](){yield*Q(this)}[n.$isTransparent](){return!0}[n.$isBindable](){return!0}[n.$addHTML](c,Be){const[Bt,Nt,Vt,Zn]=Be;this[n.$extra].width=Math.max(this[n.$extra].width,Bt+Vt),this[n.$extra].height=Math.max(this[n.$extra].height,Nt+Zn),this[n.$extra].children.push(c)}[n.$getAvailableSpace](){return this[n.$extra].availableSpace}[n.$toHTML](c){const Be=(0,e.toStyle)(this,"position"),Bt={style:Be,id:this[n.$uid],class:["xfaArea"]};(0,e.isPrintOnly)(this)&&Bt.class.push("xfaPrintOnly"),this.name&&(Bt.xfaName=this.name);const Nt=[];this[n.$extra]={children:Nt,width:0,height:0,availableSpace:c};const Vt=this[n.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Vt.success)return Vt.isBreak()?Vt:(delete this[n.$extra],o.HTMLResult.FAILURE);Be.width=(0,e.measureToString)(this[n.$extra].width),Be.height=(0,e.measureToString)(this[n.$extra].height);const Zn={name:"div",attributes:Bt,children:Nt},Oi=[this.x,this.y,this[n.$extra].width,this[n.$extra].height];return delete this[n.$extra],o.HTMLResult.success(Zn,Oi)}}class y extends t.XFAObject{constructor(c){super(f,"assist",!0),this.id=c.id||"",this.role=c.role||"",this.use=c.use||"",this.usehref=c.usehref||"",this.speak=null,this.toolTip=null}[n.$toHTML](){var c;return((c=this.toolTip)==null?void 0:c[n.$content])||null}}class r extends t.XFAObject{constructor(c){super(f,"barcode",!0),this.charEncoding=(0,o.getKeyword)({data:c.charEncoding?c.charEncoding.toLowerCase():"",defaultValue:"",validate:Be=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Be)||Be.match(/iso-8859-\d{2}/)}),this.checksum=(0,o.getStringOption)(c.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,o.getInteger)({data:c.dataColumnCount,defaultValue:-1,validate:Be=>Be>=0}),this.dataLength=(0,o.getInteger)({data:c.dataLength,defaultValue:-1,validate:Be=>Be>=0}),this.dataPrep=(0,o.getStringOption)(c.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,o.getInteger)({data:c.dataRowCount,defaultValue:-1,validate:Be=>Be>=0}),this.endChar=c.endChar||"",this.errorCorrectionLevel=(0,o.getInteger)({data:c.errorCorrectionLevel,defaultValue:-1,validate:Be=>Be>=0&&Be<=8}),this.id=c.id||"",this.moduleHeight=(0,o.getMeasurement)(c.moduleHeight,"5mm"),this.moduleWidth=(0,o.getMeasurement)(c.moduleWidth,"0.25mm"),this.printCheckDigit=(0,o.getInteger)({data:c.printCheckDigit,defaultValue:0,validate:Be=>Be===1}),this.rowColumnRatio=(0,o.getRatio)(c.rowColumnRatio),this.startChar=c.startChar||"",this.textLocation=(0,o.getStringOption)(c.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,o.getInteger)({data:c.truncate,defaultValue:0,validate:Be=>Be===1}),this.type=(0,o.getStringOption)(c.type?c.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,o.getStringOption)(c.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=c.use||"",this.usehref=c.usehref||"",this.wideNarrowRatio=(0,o.getRatio)(c.wideNarrowRatio),this.encrypt=null,this.extras=null}}class A extends t.XFAObject{constructor(c){super(f,"bind",!0),this.match=(0,o.getStringOption)(c.match,["once","dataRef","global","none"]),this.ref=c.ref||"",this.picture=null}}class E extends t.XFAObject{constructor(c){super(f,"bindItems"),this.connection=c.connection||"",this.labelRef=c.labelRef||"",this.ref=c.ref||"",this.valueRef=c.valueRef||""}}h.BindItems=E;class G extends t.XFAObject{constructor(c){super(f,"bookend"),this.id=c.id||"",this.leader=c.leader||"",this.trailer=c.trailer||"",this.use=c.use||"",this.usehref=c.usehref||""}}class ae extends t.Option01{constructor(c){super(f,"boolean"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}[n.$toHTML](c){return b(this[n.$content]===1?"1":"0")}}class ce extends t.XFAObject{constructor(c){super(f,"border",!0),this.break=(0,o.getStringOption)(c.break,["close","open"]),this.hand=(0,o.getStringOption)(c.hand,["even","left","right"]),this.id=c.id||"",this.presence=(0,o.getStringOption)(c.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(c.relevant),this.use=c.use||"",this.usehref=c.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[n.$getExtra](){if(!this[n.$extra]){const c=this.edge.children.slice();if(c.length<4){const Nt=c.at(-1)||new ze({});for(let Vt=c.length;Vt<4;Vt++)c.push(Nt)}const Be=c.map(Nt=>Nt.thickness),Bt=[0,0,0,0];this.margin&&(Bt[0]=this.margin.topInset,Bt[1]=this.margin.rightInset,Bt[2]=this.margin.bottomInset,Bt[3]=this.margin.leftInset),this[n.$extra]={widths:Be,insets:Bt,edges:c}}return this[n.$extra]}[n.$toStyle](){var Nt;const{edges:c}=this[n.$getExtra](),Be=c.map(Vt=>{const Zn=Vt[n.$toStyle]();return Zn.color||(Zn.color="#000000"),Zn}),Bt=Object.create(null);if(this.margin&&Object.assign(Bt,this.margin[n.$toStyle]()),((Nt=this.fill)==null?void 0:Nt.presence)==="visible"&&Object.assign(Bt,this.fill[n.$toStyle]()),this.corner.children.some(Vt=>Vt.radius!==0)){const Vt=this.corner.children.map(Zn=>Zn[n.$toStyle]());if(Vt.length===2||Vt.length===3){const Zn=Vt.at(-1);for(let Oi=Vt.length;Oi<4;Oi++)Vt.push(Zn)}Bt.borderRadius=Vt.map(Zn=>Zn.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":Bt.borderStyle="";break;case"inactive":Bt.borderStyle="none";break;default:Bt.borderStyle=Be.map(Vt=>Vt.style).join(" ");break}return Bt.borderWidth=Be.map(Vt=>Vt.width).join(" "),Bt.borderColor=Be.map(Vt=>Vt.color).join(" "),Bt}}class Ie extends t.XFAObject{constructor(c){super(f,"break",!0),this.after=(0,o.getStringOption)(c.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=c.afterTarget||"",this.before=(0,o.getStringOption)(c.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=c.beforeTarget||"",this.bookendLeader=c.bookendLeader||"",this.bookendTrailer=c.bookendTrailer||"",this.id=c.id||"",this.overflowLeader=c.overflowLeader||"",this.overflowTarget=c.overflowTarget||"",this.overflowTrailer=c.overflowTrailer||"",this.startNew=(0,o.getInteger)({data:c.startNew,defaultValue:0,validate:Be=>Be===1}),this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null}}class fe extends t.XFAObject{constructor(c){super(f,"breakAfter",!0),this.id=c.id||"",this.leader=c.leader||"",this.startNew=(0,o.getInteger)({data:c.startNew,defaultValue:0,validate:Be=>Be===1}),this.target=c.target||"",this.targetType=(0,o.getStringOption)(c.targetType,["auto","contentArea","pageArea"]),this.trailer=c.trailer||"",this.use=c.use||"",this.usehref=c.usehref||"",this.script=null}}class Te extends t.XFAObject{constructor(c){super(f,"breakBefore",!0),this.id=c.id||"",this.leader=c.leader||"",this.startNew=(0,o.getInteger)({data:c.startNew,defaultValue:0,validate:Be=>Be===1}),this.target=c.target||"",this.targetType=(0,o.getStringOption)(c.targetType,["auto","contentArea","pageArea"]),this.trailer=c.trailer||"",this.use=c.use||"",this.usehref=c.usehref||"",this.script=null}[n.$toHTML](c){return this[n.$extra]={},o.HTMLResult.FAILURE}}class be extends t.XFAObject{constructor(c){super(f,"button",!0),this.highlight=(0,o.getStringOption)(c.highlight,["inverted","none","outline","push"]),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null}[n.$toHTML](c){const Bt=this[n.$getParent]()[n.$getParent](),Nt={name:"button",attributes:{id:this[n.$uid],class:["xfaButton"],style:{}},children:[]};for(const Vt of Bt.event.children){if(Vt.activity!=="click"||!Vt.script)continue;const Zn=(0,L.recoverJsURL)(Vt.script[n.$content]);if(!Zn)continue;const Oi=(0,e.fixURL)(Zn.url);Oi&&Nt.children.push({name:"a",attributes:{id:"link"+this[n.$uid],href:Oi,newWindow:Zn.newWindow,class:["xfaLink"],style:{}},children:[]})}return o.HTMLResult.success(Nt)}}class ve extends t.XFAObject{constructor(c){super(f,"calculate",!0),this.id=c.id||"",this.override=(0,o.getStringOption)(c.override,["disabled","error","ignore","warning"]),this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null,this.message=null,this.script=null}}class te extends t.XFAObject{constructor(c){super(f,"caption",!0),this.id=c.id||"",this.placement=(0,o.getStringOption)(c.placement,["left","bottom","inline","right","top"]),this.presence=(0,o.getStringOption)(c.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,o.getMeasurement)(c.reserve)),this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[n.$setValue](c){_(this,c)}[n.$getExtra](c){if(!this[n.$extra]){let{width:Be,height:Bt}=c;switch(this.placement){case"left":case"right":case"inline":Be=this.reserve<=0?Be:this.reserve;break;case"top":case"bottom":Bt=this.reserve<=0?Bt:this.reserve;break}this[n.$extra]=(0,e.layoutNode)(this,{width:Be,height:Bt})}return this[n.$extra]}[n.$toHTML](c){if(!this.value)return o.HTMLResult.EMPTY;this[n.$pushPara]();const Be=this.value[n.$toHTML](c).html;if(!Be)return this[n.$popPara](),o.HTMLResult.EMPTY;const Bt=this.reserve;if(this.reserve<=0){const{w:Zn,h:Oi}=this[n.$getExtra](c);switch(this.placement){case"left":case"right":case"inline":this.reserve=Zn;break;case"top":case"bottom":this.reserve=Oi;break}}const Nt=[];typeof Be=="string"?Nt.push({name:"#text",value:Be}):Nt.push(Be);const Vt=(0,e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Vt.width=(0,e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Vt.height=(0,e.measureToString)(this.reserve));break}return(0,e.setPara)(this,null,Be),this[n.$popPara](),this.reserve=Bt,o.HTMLResult.success({name:"div",attributes:{style:Vt,class:["xfaCaption"]},children:Nt})}}class ie extends t.StringObject{constructor(c){super(f,"certificate"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class ge extends t.XFAObject{constructor(c){super(f,"certificates",!0),this.credentialServerPolicy=(0,o.getStringOption)(c.credentialServerPolicy,["optional","required"]),this.id=c.id||"",this.url=c.url||"",this.urlPolicy=c.urlPolicy||"",this.use=c.use||"",this.usehref=c.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class he extends t.XFAObject{constructor(c){super(f,"checkButton",!0),this.id=c.id||"",this.mark=(0,o.getStringOption)(c.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,o.getStringOption)(c.shape,["square","round"]),this.size=(0,o.getMeasurement)(c.size,"10pt"),this.use=c.use||"",this.usehref=c.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](c){var Hr,Pr,es;const Be=(0,e.toStyle)("margin"),Bt=(0,e.measureToString)(this.size);Be.width=Be.height=Bt;let Nt,Vt,Zn;const Oi=this[n.$getParent]()[n.$getParent](),ki=Oi.items.children.length&&Oi.items.children[0][n.$toHTML]().html||[],fr={on:(ki[0]!==void 0?ki[0]:"on").toString(),off:(ki[1]!==void 0?ki[1]:"off").toString()},Ir=(((Hr=Oi.value)==null?void 0:Hr[n.$text]())||"off")===fr.on||void 0,Sr=Oi[n.$getSubformParent](),_r=Oi[n.$uid];let Rr;Sr instanceof ft?(Zn=Sr[n.$uid],Nt="radio",Vt="xfaRadio",Rr=((Pr=Sr[n.$data])==null?void 0:Pr[n.$uid])||Sr[n.$uid]):(Nt="checkbox",Vt="xfaCheckbox",Rr=((es=Oi[n.$data])==null?void 0:es[n.$uid])||Oi[n.$uid]);const pr={name:"input",attributes:{class:[Vt],style:Be,fieldId:_r,dataId:Rr,type:Nt,checked:Ir,xfaOn:fr.on,xfaOff:fr.off,"aria-label":l(Oi),"aria-required":!1}};return Zn&&(pr.attributes.name=Zn),d(Oi)&&(pr.attributes["aria-required"]=!0,pr.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[pr]})}}class ue extends t.XFAObject{constructor(c){super(f,"choiceList",!0),this.commitOn=(0,o.getStringOption)(c.commitOn,["select","exit"]),this.id=c.id||"",this.open=(0,o.getStringOption)(c.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,o.getInteger)({data:c.textEntry,defaultValue:0,validate:Be=>Be===1}),this.use=c.use||"",this.usehref=c.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](c){var fr,mr,Ir;const Be=(0,e.toStyle)(this,"border","margin"),Nt=this[n.$getParent]()[n.$getParent](),Zn={fontSize:`calc(${((fr=Nt.font)==null?void 0:fr.size)||10}px * var(--scale-factor))`},Oi=[];if(Nt.items.children.length>0){const Sr=Nt.items;let _r=0,Rr=0;Sr.children.length===2&&(_r=Sr.children[0].save,Rr=1-_r);const pr=Sr.children[_r][n.$toHTML]().html,Hr=Sr.children[Rr][n.$toHTML]().html;let Pr=!1;const es=((mr=Nt.value)==null?void 0:mr[n.$text]())||"";for(let Dr=0,wr=pr.length;Dr<wr;Dr++){const Ri={name:"option",attributes:{value:Hr[Dr]||pr[Dr],style:Zn},value:pr[Dr]};Hr[Dr]===es&&(Ri.attributes.selected=Pr=!0),Oi.push(Ri)}Pr||Oi.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const ki={class:["xfaSelect"],fieldId:Nt[n.$uid],dataId:((Ir=Nt[n.$data])==null?void 0:Ir[n.$uid])||Nt[n.$uid],style:Be,"aria-label":l(Nt),"aria-required":!1};return d(Nt)&&(ki["aria-required"]=!0,ki.required=!0),this.open==="multiSelect"&&(ki.multiple=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:Oi,attributes:ki}]})}}class we extends t.XFAObject{constructor(c){super(f,"color",!0),this.cSpace=(0,o.getStringOption)(c.cSpace,["SRGB"]),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.value=c.value?(0,o.getColor)(c.value):"",this.extras=null}[n.$hasSettableValue](){return!1}[n.$toStyle](){return this.value?K.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Ce extends t.XFAObject{constructor(c){super(f,"comb"),this.id=c.id||"",this.numberOfCells=(0,o.getInteger)({data:c.numberOfCells,defaultValue:0,validate:Be=>Be>=0}),this.use=c.use||"",this.usehref=c.usehref||""}}class le extends t.XFAObject{constructor(c){super(f,"connect",!0),this.connection=c.connection||"",this.id=c.id||"",this.ref=c.ref||"",this.usage=(0,o.getStringOption)(c.usage,["exportAndImport","exportOnly","importOnly"]),this.use=c.use||"",this.usehref=c.usehref||"",this.picture=null}}class ke extends t.XFAObject{constructor(c){super(f,"contentArea",!0),this.h=(0,o.getMeasurement)(c.h),this.id=c.id||"",this.name=c.name||"",this.relevant=(0,o.getRelevant)(c.relevant),this.use=c.use||"",this.usehref=c.usehref||"",this.w=(0,o.getMeasurement)(c.w),this.x=(0,o.getMeasurement)(c.x,"0pt"),this.y=(0,o.getMeasurement)(c.y,"0pt"),this.desc=null,this.extras=null}[n.$toHTML](c){const Be=(0,e.measureToString)(this.x),Bt=(0,e.measureToString)(this.y),Nt={left:Be,top:Bt,width:(0,e.measureToString)(this.w),height:(0,e.measureToString)(this.h)},Vt=["xfaContentarea"];return(0,e.isPrintOnly)(this)&&Vt.push("xfaPrintOnly"),o.HTMLResult.success({name:"div",children:[],attributes:{style:Nt,class:Vt,id:this[n.$uid]}})}}class Fe extends t.XFAObject{constructor(c){super(f,"corner",!0),this.id=c.id||"",this.inverted=(0,o.getInteger)({data:c.inverted,defaultValue:0,validate:Be=>Be===1}),this.join=(0,o.getStringOption)(c.join,["square","round"]),this.presence=(0,o.getStringOption)(c.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,o.getMeasurement)(c.radius),this.stroke=(0,o.getStringOption)(c.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,o.getMeasurement)(c.thickness,"0.5pt"),this.use=c.use||"",this.usehref=c.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const c=(0,e.toStyle)(this,"visibility");return c.radius=(0,e.measureToString)(this.join==="square"?0:this.radius),c}}class de extends t.ContentObject{constructor(c){super(f,"date"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}[n.$finalize](){const c=this[n.$content].trim();this[n.$content]=c?new Date(c):null}[n.$toHTML](c){return b(this[n.$content]?this[n.$content].toString():"")}}class Ee extends t.ContentObject{constructor(c){super(f,"dateTime"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}[n.$finalize](){const c=this[n.$content].trim();this[n.$content]=c?new Date(c):null}[n.$toHTML](c){return b(this[n.$content]?this[n.$content].toString():"")}}class Oe extends t.XFAObject{constructor(c){super(f,"dateTimeEdit",!0),this.hScrollPolicy=(0,o.getStringOption)(c.hScrollPolicy,["auto","off","on"]),this.id=c.id||"",this.picker=(0,o.getStringOption)(c.picker,["host","none"]),this.use=c.use||"",this.usehref=c.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](c){var Vt;const Be=(0,e.toStyle)(this,"border","font","margin"),Bt=this[n.$getParent]()[n.$getParent](),Nt={name:"input",attributes:{type:"text",fieldId:Bt[n.$uid],dataId:((Vt=Bt[n.$data])==null?void 0:Vt[n.$uid])||Bt[n.$uid],class:["xfaTextfield"],style:Be,"aria-label":l(Bt),"aria-required":!1}};return d(Bt)&&(Nt.attributes["aria-required"]=!0,Nt.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Nt]})}}class Ne extends t.ContentObject{constructor(c){super(f,"decimal"),this.fracDigits=(0,o.getInteger)({data:c.fracDigits,defaultValue:2,validate:Be=>!0}),this.id=c.id||"",this.leadDigits=(0,o.getInteger)({data:c.leadDigits,defaultValue:-1,validate:Be=>!0}),this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}[n.$finalize](){const c=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(c)?null:c}[n.$toHTML](c){return b(this[n.$content]!==null?this[n.$content].toString():"")}}class et extends t.XFAObject{constructor(c){super(f,"defaultUi",!0),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null}}class rt extends t.XFAObject{constructor(c){super(f,"desc",!0),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Ge extends t.OptionObject{constructor(c){super(f,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||""}}class je extends t.XFAObject{constructor(c){super(f,"digestMethods",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||"",this.digestMethod=new t.XFAObjectArray}}class $e extends t.XFAObject{constructor(c){super(f,"draw",!0),this.anchorType=(0,o.getStringOption)(c.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:c.colSpan,defaultValue:1,validate:Be=>Be>=1||Be===-1}),this.h=c.h?(0,o.getMeasurement)(c.h):"",this.hAlign=(0,o.getStringOption)(c.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=c.id||"",this.locale=c.locale||"",this.maxH=(0,o.getMeasurement)(c.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(c.maxW,"0pt"),this.minH=(0,o.getMeasurement)(c.minH,"0pt"),this.minW=(0,o.getMeasurement)(c.minW,"0pt"),this.name=c.name||"",this.presence=(0,o.getStringOption)(c.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(c.relevant),this.rotate=(0,o.getInteger)({data:c.rotate,defaultValue:0,validate:Be=>Be%90===0}),this.use=c.use||"",this.usehref=c.usehref||"",this.w=c.w?(0,o.getMeasurement)(c.w):"",this.x=(0,o.getMeasurement)(c.x,"0pt"),this.y=(0,o.getMeasurement)(c.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new t.XFAObjectArray}[n.$setValue](c){_(this,c)}[n.$toHTML](c){if(w(this),this.presence==="hidden"||this.presence==="inactive")return o.HTMLResult.EMPTY;(0,e.fixDimensions)(this),this[n.$pushPara]();const Be=this.w,Bt=this.h,{w:Nt,h:Vt,isBroken:Zn}=(0,e.layoutNode)(this,c);if(Nt&&this.w===""){if(Zn&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),o.HTMLResult.FAILURE;this.w=Nt}if(Vt&&this.h===""&&(this.h=Vt),D(this),!(0,U.checkDimensions)(this,c))return this.w=Be,this.h=Bt,this[n.$popPara](),o.HTMLResult.FAILURE;Z(this);const Oi=(0,e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,e.setMinMaxDimensions)(this,Oi),Oi.margin&&(Oi.padding=Oi.margin,delete Oi.margin);const ki=["xfaDraw"];this.font&&ki.push("xfaFont"),(0,e.isPrintOnly)(this)&&ki.push("xfaPrintOnly");const fr={style:Oi,id:this[n.$uid],class:ki};this.name&&(fr.xfaName=this.name);const mr={name:"div",attributes:fr,children:[]};q(this,fr);const Ir=(0,e.computeBbox)(this,mr,c),Sr=this.value?this.value[n.$toHTML](c).html:null;return Sr===null?(this.w=Be,this.h=Bt,this[n.$popPara](),o.HTMLResult.success((0,e.createWrapper)(this,mr),Ir)):(mr.children.push(Sr),(0,e.setPara)(this,Oi,Sr),this.w=Be,this.h=Bt,this[n.$popPara](),o.HTMLResult.success((0,e.createWrapper)(this,mr),Ir))}}class ze extends t.XFAObject{constructor(c){super(f,"edge",!0),this.cap=(0,o.getStringOption)(c.cap,["square","butt","round"]),this.id=c.id||"",this.presence=(0,o.getStringOption)(c.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,o.getStringOption)(c.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,o.getMeasurement)(c.thickness,"0.5pt"),this.use=c.use||"",this.usehref=c.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const c=(0,e.toStyle)(this,"visibility");if(Object.assign(c,{linecap:this.cap,width:(0,e.measureToString)(this.thickness),color:this.color?this.color[n.$toStyle]():"#000000",style:""}),this.presence!=="visible")c.style="none";else switch(this.stroke){case"solid":c.style="solid";break;case"dashDot":c.style="dashed";break;case"dashDotDot":c.style="dashed";break;case"dashed":c.style="dashed";break;case"dotted":c.style="dotted";break;case"embossed":c.style="ridge";break;case"etched":c.style="groove";break;case"lowered":c.style="inset";break;case"raised":c.style="outset";break}return c}}class at extends t.OptionObject{constructor(c){super(f,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||""}}class mt extends t.XFAObject{constructor(c){super(f,"encodings",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||"",this.encoding=new t.XFAObjectArray}}class At extends t.XFAObject{constructor(c){super(f,"encrypt",!0),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.certificate=null}}class Qe extends t.XFAObject{constructor(c){super(f,"encryptData",!0),this.id=c.id||"",this.operation=(0,o.getStringOption)(c.operation,["encrypt","decrypt"]),this.target=c.target||"",this.use=c.use||"",this.usehref=c.usehref||"",this.filter=null,this.manifest=null}}class Ke extends t.XFAObject{constructor(c){super(f,"encryption",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||"",this.certificate=new t.XFAObjectArray}}class pt extends t.OptionObject{constructor(c){super(f,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||""}}class st extends t.XFAObject{constructor(c){super(f,"encryptionMethods",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||"",this.encryptionMethod=new t.XFAObjectArray}}class St extends t.XFAObject{constructor(c){super(f,"event",!0),this.activity=(0,o.getStringOption)(c.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=c.id||"",this.listen=(0,o.getStringOption)(c.listen,["refOnly","refAndDescendents"]),this.name=c.name||"",this.ref=c.ref||"",this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class kt extends t.ContentObject{constructor(c){super(f,"exData"),this.contentType=c.contentType||"",this.href=c.href||"",this.id=c.id||"",this.maxLength=(0,o.getInteger)({data:c.maxLength,defaultValue:-1,validate:Be=>Be>=-1}),this.name=c.name||"",this.rid=c.rid||"",this.transferEncoding=(0,o.getStringOption)(c.transferEncoding,["none","base64","package"]),this.use=c.use||"",this.usehref=c.usehref||""}[n.$isCDATAXml](){return this.contentType==="text/html"}[n.$onChild](c){return this.contentType==="text/html"&&c[n.$namespaceId]===x.NamespaceIds.xhtml.id?(this[n.$content]=c,!0):this.contentType==="text/xml"?(this[n.$content]=c,!0):!1}[n.$toHTML](c){return this.contentType!=="text/html"||!this[n.$content]?o.HTMLResult.EMPTY:this[n.$content][n.$toHTML](c)}}class zn extends t.XFAObject{constructor(c){super(f,"exObject",!0),this.archive=c.archive||"",this.classId=c.classId||"",this.codeBase=c.codeBase||"",this.codeType=c.codeType||"",this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null,this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class ft extends t.XFAObject{constructor(c){super(f,"exclGroup",!0),this.access=(0,o.getStringOption)(c.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=c.accessKey||"",this.anchorType=(0,o.getStringOption)(c.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:c.colSpan,defaultValue:1,validate:Be=>Be>=1||Be===-1}),this.h=c.h?(0,o.getMeasurement)(c.h):"",this.hAlign=(0,o.getStringOption)(c.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=c.id||"",this.layout=(0,o.getStringOption)(c.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,o.getMeasurement)(c.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(c.maxW,"0pt"),this.minH=(0,o.getMeasurement)(c.minH,"0pt"),this.minW=(0,o.getMeasurement)(c.minW,"0pt"),this.name=c.name||"",this.presence=(0,o.getStringOption)(c.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(c.relevant),this.use=c.use||"",this.usehref=c.usehref||"",this.w=c.w?(0,o.getMeasurement)(c.w):"",this.x=(0,o.getMeasurement)(c.x,"0pt"),this.y=(0,o.getMeasurement)(c.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[n.$isBindable](){return!0}[n.$hasSettableValue](){return!0}[n.$setValue](c){for(const Be of this.field.children){if(!Be.value){const Bt=new Bs({});Be[n.$appendChild](Bt),Be.value=Bt}Be.value[n.$setValue](c)}}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}[n.$isSplittable](){var Be;const c=this[n.$getSubformParent]();return c[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):(Be=c.layout)!=null&&Be.endsWith("-tb")&&c[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$flushHTML](){return(0,U.flushHTML)(this)}[n.$addHTML](c,Be){(0,U.addHTML)(this,c,Be)}[n.$getAvailableSpace](){return(0,U.getAvailableSpace)(this)}[n.$toHTML](c){if(w(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return o.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const Be=[],Bt={id:this[n.$uid],class:[]};(0,e.setAccess)(this,Bt.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:Be,attributes:Bt,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,c.width),height:Math.min(this.h||1/0,c.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Nt=this[n.$isSplittable]();if(Nt||D(this),!(0,U.checkDimensions)(this,c))return o.HTMLResult.FAILURE;const Vt=new Set(["field"]);if(this.layout.includes("row")){const Pr=this[n.$getSubformParent]().columnWidths;Array.isArray(Pr)&&Pr.length>0&&(this[n.$extra].columnWidths=Pr,this[n.$extra].currentColumn=0)}const Zn=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Oi=["xfaExclgroup"],ki=(0,e.layoutClass)(this);ki&&Oi.push(ki),(0,e.isPrintOnly)(this)&&Oi.push("xfaPrintOnly"),Bt.style=Zn,Bt.class=Oi,this.name&&(Bt.xfaName=this.name),this[n.$pushPara]();const fr=this.layout==="lr-tb"||this.layout==="rl-tb",mr=fr?i:1;for(;this[n.$extra].attempt<mr;this[n.$extra].attempt++){fr&&this[n.$extra].attempt===i-1&&(this[n.$extra].numberInLine=0);const Pr=this[n.$childrenToHTML]({filter:Vt,include:!0});if(Pr.success)break;if(Pr.isBreak())return this[n.$popPara](),Pr;if(fr&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!this[n.$getTemplateRoot]()[n.$extra].noLayoutFailure){this[n.$extra].attempt=mr;break}}if(this[n.$popPara](),Nt||Z(this),this[n.$extra].attempt===mr)return Nt||delete this[n.$extra],o.HTMLResult.FAILURE;let Ir=0,Sr=0;this.margin&&(Ir=this.margin.leftInset+this.margin.rightInset,Sr=this.margin.topInset+this.margin.bottomInset);const _r=Math.max(this[n.$extra].width+Ir,this.w||0),Rr=Math.max(this[n.$extra].height+Sr,this.h||0),pr=[this.x,this.y,_r,Rr];this.w===""&&(Zn.width=(0,e.measureToString)(_r)),this.h===""&&(Zn.height=(0,e.measureToString)(Rr));const Hr={name:"div",attributes:Bt,children:Be};return q(this,Bt),delete this[n.$extra],o.HTMLResult.success((0,e.createWrapper)(this,Hr),pr)}}class en extends t.XFAObject{constructor(c){super(f,"execute"),this.connection=c.connection||"",this.executeType=(0,o.getStringOption)(c.executeType,["import","remerge"]),this.id=c.id||"",this.runAt=(0,o.getStringOption)(c.runAt,["client","both","server"]),this.use=c.use||"",this.usehref=c.usehref||""}}class Xt extends t.XFAObject{constructor(c){super(f,"extras",!0),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Ve extends t.XFAObject{constructor(c){super(f,"field",!0),this.access=(0,o.getStringOption)(c.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=c.accessKey||"",this.anchorType=(0,o.getStringOption)(c.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:c.colSpan,defaultValue:1,validate:Be=>Be>=1||Be===-1}),this.h=c.h?(0,o.getMeasurement)(c.h):"",this.hAlign=(0,o.getStringOption)(c.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=c.id||"",this.locale=c.locale||"",this.maxH=(0,o.getMeasurement)(c.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(c.maxW,"0pt"),this.minH=(0,o.getMeasurement)(c.minH,"0pt"),this.minW=(0,o.getMeasurement)(c.minW,"0pt"),this.name=c.name||"",this.presence=(0,o.getStringOption)(c.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(c.relevant),this.rotate=(0,o.getInteger)({data:c.rotate,defaultValue:0,validate:Be=>Be%90===0}),this.use=c.use||"",this.usehref=c.usehref||"",this.w=c.w?(0,o.getMeasurement)(c.w):"",this.x=(0,o.getMeasurement)(c.x,"0pt"),this.y=(0,o.getMeasurement)(c.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new t.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[n.$isBindable](){return!0}[n.$setValue](c){_(this,c)}[n.$toHTML](c){var Pr,es,Dr;if(w(this),!this.ui){this.ui=new js({}),this.ui[n.$globalData]=this[n.$globalData],this[n.$appendChild](this.ui);let wr;switch(this.items.children.length){case 0:wr=new gs({}),this.ui.textEdit=wr;break;case 1:wr=new he({}),this.ui.checkButton=wr;break;case 2:wr=new ue({}),this.ui.choiceList=wr;break}this.ui[n.$appendChild](wr)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return o.HTMLResult.EMPTY;this.caption&&delete this.caption[n.$extra],this[n.$pushPara]();const Be=this.caption?this.caption[n.$toHTML](c).html:null,Bt=this.w,Nt=this.h;let Vt=0,Zn=0;this.margin&&(Vt=this.margin.leftInset+this.margin.rightInset,Zn=this.margin.topInset+this.margin.bottomInset);let Oi=null;if(this.w===""||this.h===""){let wr=null,Ri=null,as=0,ns=0;if(this.ui.checkButton)as=ns=this.ui.checkButton.size;else{const{w:ps,h:As}=(0,e.layoutNode)(this,c);ps!==null?(as=ps,ns=As):ns=(0,X.getMetrics)(this.font,!0).lineNoGap}if(Oi=$(this.ui[n.$getExtra]()),as+=Oi.w,ns+=Oi.h,this.caption){const{w:ps,h:As,isBroken:Kr}=this.caption[n.$getExtra](c);if(Kr&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),o.HTMLResult.FAILURE;switch(wr=ps,Ri=As,this.caption.placement){case"left":case"right":case"inline":wr+=as;break;case"top":case"bottom":Ri+=ns;break}}else wr=as,Ri=ns;wr&&this.w===""&&(wr+=Vt,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<wr?wr:this.minW)),Ri&&this.h===""&&(Ri+=Zn,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Ri?Ri:this.minH))}if(this[n.$popPara](),(0,e.fixDimensions)(this),D(this),!(0,U.checkDimensions)(this,c))return this.w=Bt,this.h=Nt,this[n.$popPara](),o.HTMLResult.FAILURE;Z(this);const ki=(0,e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,e.setMinMaxDimensions)(this,ki);const fr=["xfaField"];this.font&&fr.push("xfaFont"),(0,e.isPrintOnly)(this)&&fr.push("xfaPrintOnly");const mr={style:ki,id:this[n.$uid],class:fr};ki.margin&&(ki.padding=ki.margin,delete ki.margin),(0,e.setAccess)(this,fr),this.name&&(mr.xfaName=this.name);const Ir=[],Sr={name:"div",attributes:mr,children:Ir};q(this,mr);const _r=this.border?this.border[n.$toStyle]():null,Rr=(0,e.computeBbox)(this,Sr,c),pr=this.ui[n.$toHTML]().html;if(!pr)return Object.assign(ki,_r),o.HTMLResult.success((0,e.createWrapper)(this,Sr),Rr);this[n.$tabIndex]&&((Pr=pr.children)!=null&&Pr[0]?pr.children[0].attributes.tabindex=this[n.$tabIndex]:pr.attributes.tabindex=this[n.$tabIndex]),pr.attributes.style||(pr.attributes.style=Object.create(null));let Hr=null;if(this.ui.button?(pr.children.length===1&&([Hr]=pr.children.splice(0,1)),Object.assign(pr.attributes.style,_r)):Object.assign(ki,_r),Ir.push(pr),this.value){if(this.ui.imageEdit)pr.children.push(this.value[n.$toHTML]().html);else if(!this.ui.button){let wr="";if(this.value.exData)wr=this.value.exData[n.$text]();else if(this.value.text)wr=this.value.text[n.$getExtra]();else{const Ri=this.value[n.$toHTML]().html;Ri!==null&&(wr=Ri.children[0].value)}this.ui.textEdit&&((es=this.value.text)!=null&&es.maxChars)&&(pr.children[0].attributes.maxLength=this.value.text.maxChars),wr&&(this.ui.numericEdit&&(wr=parseFloat(wr),wr=isNaN(wr)?"":wr.toString()),pr.children[0].name==="textarea"?pr.children[0].attributes.textContent=wr:pr.children[0].attributes.value=wr)}}if(!this.ui.imageEdit&&((Dr=pr.children)!=null&&Dr[0])&&this.h){Oi=Oi||$(this.ui[n.$getExtra]());let wr=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){wr=this.caption.reserve,wr<=0&&(wr=this.caption[n.$getExtra](c).h);const Ri=this.h-wr-Zn-Oi.h;pr.children[0].attributes.style.height=(0,e.measureToString)(Ri)}else pr.children[0].attributes.style.height="100%"}if(Hr&&pr.children.push(Hr),!Be)return pr.attributes.class&&pr.attributes.class.push("xfaLeft"),this.w=Bt,this.h=Nt,o.HTMLResult.success((0,e.createWrapper)(this,Sr),Rr);if(this.ui.button)return ki.padding&&delete ki.padding,Be.name==="div"&&(Be.name="span"),pr.children.push(Be),o.HTMLResult.success(Sr,Rr);switch(this.ui.checkButton&&(Be.attributes.class[0]="xfaCaptionForCheckButton"),pr.attributes.class||(pr.attributes.class=[]),pr.children.splice(0,0,Be),this.caption.placement){case"left":pr.attributes.class.push("xfaLeft");break;case"right":pr.attributes.class.push("xfaRight");break;case"top":pr.attributes.class.push("xfaTop");break;case"bottom":pr.attributes.class.push("xfaBottom");break;case"inline":pr.attributes.class.push("xfaLeft");break}return this.w=Bt,this.h=Nt,o.HTMLResult.success((0,e.createWrapper)(this,Sr),Rr)}}h.Field=Ve;class Re extends t.XFAObject{constructor(c){super(f,"fill",!0),this.id=c.id||"",this.presence=(0,o.getStringOption)(c.presence,["visible","hidden","inactive","invisible"]),this.use=c.use||"",this.usehref=c.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[n.$toStyle](){var Oi;const c=this[n.$getParent](),Bt=c[n.$getParent]()[n.$getParent](),Nt=Object.create(null);let Vt="color",Zn=Vt;c instanceof ce&&(Vt="background-color",Zn="background",Bt instanceof js&&(Nt.backgroundColor="white")),(c instanceof rr||c instanceof I)&&(Vt=Zn="fill",Nt.fill="white");for(const ki of Object.getOwnPropertyNames(this)){if(ki==="extras"||ki==="color")continue;const fr=this[ki];if(!(fr instanceof t.XFAObject))continue;const mr=fr[n.$toStyle](this.color);return mr&&(Nt[mr.startsWith("#")?Vt:Zn]=mr),Nt}if((Oi=this.color)!=null&&Oi.value){const ki=this.color[n.$toStyle]();Nt[ki.startsWith("#")?Vt:Zn]=ki}return Nt}}class qe extends t.XFAObject{constructor(c){super(f,"filter",!0),this.addRevocationInfo=(0,o.getStringOption)(c.addRevocationInfo,["","required","optional","none"]),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||"",this.version=(0,o.getInteger)({data:this.version,defaultValue:5,validate:Be=>Be>=1&&Be<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Ze extends t.ContentObject{constructor(c){super(f,"float"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}[n.$finalize](){const c=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(c)?null:c}[n.$toHTML](c){return b(this[n.$content]!==null?this[n.$content].toString():"")}}class lt extends t.XFAObject{constructor(c){super(f,"font",!0),this.baselineShift=(0,o.getMeasurement)(c.baselineShift),this.fontHorizontalScale=(0,o.getFloat)({data:c.fontHorizontalScale,defaultValue:100,validate:Be=>Be>=0}),this.fontVerticalScale=(0,o.getFloat)({data:c.fontVerticalScale,defaultValue:100,validate:Be=>Be>=0}),this.id=c.id||"",this.kerningMode=(0,o.getStringOption)(c.kerningMode,["none","pair"]),this.letterSpacing=(0,o.getMeasurement)(c.letterSpacing,"0"),this.lineThrough=(0,o.getInteger)({data:c.lineThrough,defaultValue:0,validate:Be=>Be===1||Be===2}),this.lineThroughPeriod=(0,o.getStringOption)(c.lineThroughPeriod,["all","word"]),this.overline=(0,o.getInteger)({data:c.overline,defaultValue:0,validate:Be=>Be===1||Be===2}),this.overlinePeriod=(0,o.getStringOption)(c.overlinePeriod,["all","word"]),this.posture=(0,o.getStringOption)(c.posture,["normal","italic"]),this.size=(0,o.getMeasurement)(c.size,"10pt"),this.typeface=c.typeface||"Courier",this.underline=(0,o.getInteger)({data:c.underline,defaultValue:0,validate:Be=>Be===1||Be===2}),this.underlinePeriod=(0,o.getStringOption)(c.underlinePeriod,["all","word"]),this.use=c.use||"",this.usehref=c.usehref||"",this.weight=(0,o.getStringOption)(c.weight,["normal","bold"]),this.extras=null,this.fill=null}[n.$clean](c){super[n.$clean](c),this[n.$globalData].usedTypefaces.add(this.typeface)}[n.$toStyle](){const c=(0,e.toStyle)(this,"fill"),Be=c.color;return Be&&(Be==="#000000"?delete c.color:Be.startsWith("#")||(c.background=Be,c.backgroundClip="text",c.color="transparent")),this.baselineShift&&(c.verticalAlign=(0,e.measureToString)(this.baselineShift)),c.fontKerning=this.kerningMode==="none"?"none":"normal",c.letterSpacing=(0,e.measureToString)(this.letterSpacing),this.lineThrough!==0&&(c.textDecoration="line-through",this.lineThrough===2&&(c.textDecorationStyle="double")),this.overline!==0&&(c.textDecoration="overline",this.overline===2&&(c.textDecorationStyle="double")),c.fontStyle=this.posture,c.fontSize=(0,e.measureToString)(.99*this.size),(0,e.setFontFamily)(this,this,this[n.$globalData].fontFinder,c),this.underline!==0&&(c.textDecoration="underline",this.underline===2&&(c.textDecorationStyle="double")),c.fontWeight=this.weight,c}}class gt extends t.XFAObject{constructor(c){super(f,"format",!0),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null,this.picture=null}}class xt extends t.StringObject{constructor(c){super(f,"handler"),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||""}}class jt extends t.XFAObject{constructor(c){super(f,"hyphenation"),this.excludeAllCaps=(0,o.getInteger)({data:c.excludeAllCaps,defaultValue:0,validate:Be=>Be===1}),this.excludeInitialCap=(0,o.getInteger)({data:c.excludeInitialCap,defaultValue:0,validate:Be=>Be===1}),this.hyphenate=(0,o.getInteger)({data:c.hyphenate,defaultValue:0,validate:Be=>Be===1}),this.id=c.id||"",this.pushCharacterCount=(0,o.getInteger)({data:c.pushCharacterCount,defaultValue:3,validate:Be=>Be>=0}),this.remainCharacterCount=(0,o.getInteger)({data:c.remainCharacterCount,defaultValue:3,validate:Be=>Be>=0}),this.use=c.use||"",this.usehref=c.usehref||"",this.wordCharacterCount=(0,o.getInteger)({data:c.wordCharacterCount,defaultValue:7,validate:Be=>Be>=0})}}class Mt extends t.StringObject{constructor(c){super(f,"image"),this.aspect=(0,o.getStringOption)(c.aspect,["fit","actual","height","none","width"]),this.contentType=c.contentType||"",this.href=c.href||"",this.id=c.id||"",this.name=c.name||"",this.transferEncoding=(0,o.getStringOption)(c.transferEncoding,["base64","none","package"]),this.use=c.use||"",this.usehref=c.usehref||""}[n.$toHTML](){if(this.contentType&&!C.has(this.contentType.toLowerCase()))return o.HTMLResult.EMPTY;let c=this[n.$globalData].images&&this[n.$globalData].images.get(this.href);if(!c&&(this.href||!this[n.$content])||(!c&&this.transferEncoding==="base64"&&(c=(0,K.stringToBytes)(atob(this[n.$content]))),!c))return o.HTMLResult.EMPTY;if(!this.contentType){for(const[Vt,Zn]of H)if(c.length>Vt.length&&Vt.every((Oi,ki)=>Oi===c[ki])){this.contentType=Zn;break}if(!this.contentType)return o.HTMLResult.EMPTY}const Be=new Blob([c],{type:this.contentType});let Bt;switch(this.aspect){case"fit":case"actual":break;case"height":Bt={height:"100%",objectFit:"fill"};break;case"none":Bt={width:"100%",height:"100%",objectFit:"fill"};break;case"width":Bt={width:"100%",objectFit:"fill"};break}const Nt=this[n.$getParent]();return o.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:Bt,src:URL.createObjectURL(Be),alt:Nt?l(Nt[n.$getParent]()):null}})}}class Dt extends t.XFAObject{constructor(c){super(f,"imageEdit",!0),this.data=(0,o.getStringOption)(c.data,["link","embed"]),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](c){return this.data==="embed"?o.HTMLResult.success({name:"div",children:[],attributes:{}}):o.HTMLResult.EMPTY}}class Kt extends t.ContentObject{constructor(c){super(f,"integer"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}[n.$finalize](){const c=parseInt(this[n.$content].trim(),10);this[n.$content]=isNaN(c)?null:c}[n.$toHTML](c){return b(this[n.$content]!==null?this[n.$content].toString():"")}}class Wt extends t.XFAObject{constructor(c){super(f,"issuers",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||"",this.certificate=new t.XFAObjectArray}}class Zt extends t.XFAObject{constructor(c){super(f,"items",!0),this.id=c.id||"",this.name=c.name||"",this.presence=(0,o.getStringOption)(c.presence,["visible","hidden","inactive","invisible"]),this.ref=c.ref||"",this.save=(0,o.getInteger)({data:c.save,defaultValue:0,validate:Be=>Be===1}),this.use=c.use||"",this.usehref=c.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[n.$toHTML](){const c=[];for(const Be of this[n.$getChildren]())c.push(Be[n.$text]());return o.HTMLResult.success(c)}}h.Items=Zt;class qn extends t.XFAObject{constructor(c){super(f,"keep",!0),this.id=c.id||"";const Be=["none","contentArea","pageArea"];this.intact=(0,o.getStringOption)(c.intact,Be),this.next=(0,o.getStringOption)(c.next,Be),this.previous=(0,o.getStringOption)(c.previous,Be),this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null}}class Hn extends t.XFAObject{constructor(c){super(f,"keyUsage");const Be=["","yes","no"];this.crlSign=(0,o.getStringOption)(c.crlSign,Be),this.dataEncipherment=(0,o.getStringOption)(c.dataEncipherment,Be),this.decipherOnly=(0,o.getStringOption)(c.decipherOnly,Be),this.digitalSignature=(0,o.getStringOption)(c.digitalSignature,Be),this.encipherOnly=(0,o.getStringOption)(c.encipherOnly,Be),this.id=c.id||"",this.keyAgreement=(0,o.getStringOption)(c.keyAgreement,Be),this.keyCertSign=(0,o.getStringOption)(c.keyCertSign,Be),this.keyEncipherment=(0,o.getStringOption)(c.keyEncipherment,Be),this.nonRepudiation=(0,o.getStringOption)(c.nonRepudiation,Be),this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||""}}class $i extends t.XFAObject{constructor(c){super(f,"line",!0),this.hand=(0,o.getStringOption)(c.hand,["even","left","right"]),this.id=c.id||"",this.slope=(0,o.getStringOption)(c.slope,["\\","/"]),this.use=c.use||"",this.usehref=c.usehref||"",this.edge=null}[n.$toHTML](){const c=this[n.$getParent]()[n.$getParent](),Be=this.edge||new ze({}),Bt=Be[n.$toStyle](),Nt=Object.create(null),Vt=Be.presence==="visible"?Be.thickness:0;Nt.strokeWidth=(0,e.measureToString)(Vt),Nt.stroke=Bt.color;let Zn,Oi,ki,fr,mr="100%",Ir="100%";c.w<=Vt?([Zn,Oi,ki,fr]=["50%",0,"50%","100%"],mr=Nt.strokeWidth):c.h<=Vt?([Zn,Oi,ki,fr]=[0,"50%","100%","50%"],Ir=Nt.strokeWidth):this.slope==="\\"?[Zn,Oi,ki,fr]=[0,0,"100%","100%"]:[Zn,Oi,ki,fr]=[0,"100%","100%",0];const _r={name:"svg",children:[{name:"line",attributes:{xmlns:p,x1:Zn,y1:Oi,x2:ki,y2:fr,style:Nt}}],attributes:{xmlns:p,width:mr,height:Ir,style:{overflow:"visible"}}};return se(c)?o.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[_r]}):(_r.attributes.style.position="absolute",o.HTMLResult.success(_r))}}class hr extends t.XFAObject{constructor(c){super(f,"linear",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["toRight","toBottom","toLeft","toTop"]),this.use=c.use||"",this.usehref=c.usehref||"",this.color=null,this.extras=null}[n.$toStyle](c){c=c?c[n.$toStyle]():"#FFFFFF";const Be=this.type.replace(/([RBLT])/," $1").toLowerCase(),Bt=this.color?this.color[n.$toStyle]():"#000000";return`linear-gradient(${Be}, ${c}, ${Bt})`}}class Lt extends t.ContentObject{constructor(c){super(f,"lockDocument"),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||""}[n.$finalize](){this[n.$content]=(0,o.getStringOption)(this[n.$content],["auto","0","1"])}}class Ot extends t.XFAObject{constructor(c){super(f,"manifest",!0),this.action=(0,o.getStringOption)(c.action,["include","all","exclude"]),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null,this.ref=new t.XFAObjectArray}}class Gt extends t.XFAObject{constructor(c){super(f,"margin",!0),this.bottomInset=(0,o.getMeasurement)(c.bottomInset,"0"),this.id=c.id||"",this.leftInset=(0,o.getMeasurement)(c.leftInset,"0"),this.rightInset=(0,o.getMeasurement)(c.rightInset,"0"),this.topInset=(0,o.getMeasurement)(c.topInset,"0"),this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null}[n.$toStyle](){return{margin:(0,e.measureToString)(this.topInset)+" "+(0,e.measureToString)(this.rightInset)+" "+(0,e.measureToString)(this.bottomInset)+" "+(0,e.measureToString)(this.leftInset)}}}class zt extends t.XFAObject{constructor(c){super(f,"mdp"),this.id=c.id||"",this.permissions=(0,o.getInteger)({data:c.permissions,defaultValue:2,validate:Be=>Be===1||Be===3}),this.signatureType=(0,o.getStringOption)(c.signatureType,["filler","author"]),this.use=c.use||"",this.usehref=c.usehref||""}}class $n extends t.XFAObject{constructor(c){super(f,"medium"),this.id=c.id||"",this.imagingBBox=(0,o.getBBox)(c.imagingBBox),this.long=(0,o.getMeasurement)(c.long),this.orientation=(0,o.getStringOption)(c.orientation,["portrait","landscape"]),this.short=(0,o.getMeasurement)(c.short),this.stock=c.stock||"",this.trayIn=(0,o.getStringOption)(c.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,o.getStringOption)(c.trayOut,["auto","delegate"]),this.use=c.use||"",this.usehref=c.usehref||""}}class Di extends t.XFAObject{constructor(c){super(f,"message",!0),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.text=new t.XFAObjectArray}}class jn extends t.XFAObject{constructor(c){super(f,"numericEdit",!0),this.hScrollPolicy=(0,o.getStringOption)(c.hScrollPolicy,["auto","off","on"]),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](c){var Vt;const Be=(0,e.toStyle)(this,"border","font","margin"),Bt=this[n.$getParent]()[n.$getParent](),Nt={name:"input",attributes:{type:"text",fieldId:Bt[n.$uid],dataId:((Vt=Bt[n.$data])==null?void 0:Vt[n.$uid])||Bt[n.$uid],class:["xfaTextfield"],style:Be,"aria-label":l(Bt),"aria-required":!1}};return d(Bt)&&(Nt.attributes["aria-required"]=!0,Nt.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Nt]})}}class Yt extends t.XFAObject{constructor(c){super(f,"occur",!0),this.id=c.id||"",this.initial=c.initial!==""?(0,o.getInteger)({data:c.initial,defaultValue:"",validate:Be=>!0}):"",this.max=c.max!==""?(0,o.getInteger)({data:c.max,defaultValue:1,validate:Be=>!0}):"",this.min=c.min!==""?(0,o.getInteger)({data:c.min,defaultValue:1,validate:Be=>!0}):"",this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null}[n.$clean](){const c=this[n.$getParent](),Be=this.min;this.min===""&&(this.min=c instanceof Gi||c instanceof zi?0:1),this.max===""&&(Be===""?this.max=c instanceof Gi||c instanceof zi?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=c instanceof $s?1:this.min)}}class Pi extends t.StringObject{constructor(c){super(f,"oid"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class Vi extends t.XFAObject{constructor(c){super(f,"oids",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||"",this.oid=new t.XFAObjectArray}}class gr extends t.XFAObject{constructor(c){super(f,"overflow"),this.id=c.id||"",this.leader=c.leader||"",this.target=c.target||"",this.trailer=c.trailer||"",this.use=c.use||"",this.usehref=c.usehref||""}[n.$getExtra](){if(!this[n.$extra]){const c=this[n.$getParent](),Be=this[n.$getTemplateRoot](),Bt=Be[n.$searchNode](this.target,c),Nt=Be[n.$searchNode](this.leader,c),Vt=Be[n.$searchNode](this.trailer,c);this[n.$extra]={target:(Bt==null?void 0:Bt[0])||null,leader:(Nt==null?void 0:Nt[0])||null,trailer:(Vt==null?void 0:Vt[0])||null,addLeader:!1,addTrailer:!1}}return this[n.$extra]}}class Gi extends t.XFAObject{constructor(c){super(f,"pageArea",!0),this.blankOrNotBlank=(0,o.getStringOption)(c.blankOrNotBlank,["any","blank","notBlank"]),this.id=c.id||"",this.initialNumber=(0,o.getInteger)({data:c.initialNumber,defaultValue:1,validate:Be=>!0}),this.name=c.name||"",this.numbered=(0,o.getInteger)({data:c.numbered,defaultValue:1,validate:Be=>!0}),this.oddOrEven=(0,o.getStringOption)(c.oddOrEven,["any","even","odd"]),this.pagePosition=(0,o.getStringOption)(c.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,o.getRelevant)(c.relevant),this.use=c.use||"",this.usehref=c.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray}[n.$isUsable](){return this[n.$extra]?!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max:(this[n.$extra]={numberOfUse:0},!0)}[n.$cleanPage](){delete this[n.$extra]}[n.$getNextPage](){this[n.$extra]||(this[n.$extra]={numberOfUse:0});const c=this[n.$getParent]();return c.relation==="orderedOccurrence"&&this[n.$isUsable]()?(this[n.$extra].numberOfUse+=1,this):c[n.$getNextPage]()}[n.$getAvailableSpace](){return this[n.$extra].space||{width:0,height:0}}[n.$toHTML](){this[n.$extra]||(this[n.$extra]={numberOfUse:1});const c=[];this[n.$extra].children=c;const Be=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(Be.width=(0,e.measureToString)(this.medium.short),Be.height=(0,e.measureToString)(this.medium.long),this[n.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const Bt=Be.width;Be.width=Be.height,Be.height=Bt,this[n.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,K.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[n.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[n.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),o.HTMLResult.success({name:"div",children:c,attributes:{class:["xfaPage"],id:this[n.$uid],style:Be,xfaName:this.name}})}}class zi extends t.XFAObject{constructor(c){super(f,"pageSet",!0),this.duplexImposition=(0,o.getStringOption)(c.duplexImposition,["longEdge","shortEdge"]),this.id=c.id||"",this.name=c.name||"",this.relation=(0,o.getStringOption)(c.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,o.getRelevant)(c.relevant),this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null,this.occur=null,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray}[n.$cleanPage](){for(const c of this.pageArea.children)c[n.$cleanPage]();for(const c of this.pageSet.children)c[n.$cleanPage]()}[n.$isUsable](){return!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max}[n.$getNextPage](){if(this[n.$extra]||(this[n.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[n.$extra].pageIndex+1<this.pageArea.children.length)return this[n.$extra].pageIndex+=1,this.pageArea.children[this[n.$extra].pageIndex][n.$getNextPage]();if(this[n.$extra].pageSetIndex+1<this.pageSet.children.length)return this[n.$extra].pageSetIndex+=1,this.pageSet.children[this[n.$extra].pageSetIndex][n.$getNextPage]();if(this[n.$isUsable]())return this[n.$extra].numberOfUse+=1,this[n.$extra].pageIndex=-1,this[n.$extra].pageSetIndex=-1,this[n.$getNextPage]();const Vt=this[n.$getParent]();return Vt instanceof zi?Vt[n.$getNextPage]():(this[n.$cleanPage](),this[n.$getNextPage]())}const c=this[n.$getTemplateRoot]()[n.$extra].pageNumber,Be=c%2===0?"even":"odd",Bt=c===0?"first":"rest";let Nt=this.pageArea.children.find(Vt=>Vt.oddOrEven===Be&&Vt.pagePosition===Bt);return Nt||(Nt=this.pageArea.children.find(Vt=>Vt.oddOrEven==="any"&&Vt.pagePosition===Bt),Nt)||(Nt=this.pageArea.children.find(Vt=>Vt.oddOrEven==="any"&&Vt.pagePosition==="any"),Nt)?Nt:this.pageArea.children[0]}}class dr extends t.XFAObject{constructor(c){super(f,"para",!0),this.hAlign=(0,o.getStringOption)(c.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=c.id||"",this.lineHeight=c.lineHeight?(0,o.getMeasurement)(c.lineHeight,"0pt"):"",this.marginLeft=c.marginLeft?(0,o.getMeasurement)(c.marginLeft,"0pt"):"",this.marginRight=c.marginRight?(0,o.getMeasurement)(c.marginRight,"0pt"):"",this.orphans=(0,o.getInteger)({data:c.orphans,defaultValue:0,validate:Be=>Be>=0}),this.preserve=c.preserve||"",this.radixOffset=c.radixOffset?(0,o.getMeasurement)(c.radixOffset,"0pt"):"",this.spaceAbove=c.spaceAbove?(0,o.getMeasurement)(c.spaceAbove,"0pt"):"",this.spaceBelow=c.spaceBelow?(0,o.getMeasurement)(c.spaceBelow,"0pt"):"",this.tabDefault=c.tabDefault?(0,o.getMeasurement)(this.tabDefault):"",this.tabStops=(c.tabStops||"").trim().split(/\s+/).map((Be,Bt)=>Bt%2===1?(0,o.getMeasurement)(Be):Be),this.textIndent=c.textIndent?(0,o.getMeasurement)(c.textIndent,"0pt"):"",this.use=c.use||"",this.usehref=c.usehref||"",this.vAlign=(0,o.getStringOption)(c.vAlign,["top","bottom","middle"]),this.widows=(0,o.getInteger)({data:c.widows,defaultValue:0,validate:Be=>Be>=0}),this.hyphenation=null}[n.$toStyle](){const c=(0,e.toStyle)(this,"hAlign");return this.marginLeft!==""&&(c.paddingLeft=(0,e.measureToString)(this.marginLeft)),this.marginRight!==""&&(c.paddingight=(0,e.measureToString)(this.marginRight)),this.spaceAbove!==""&&(c.paddingTop=(0,e.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(c.paddingBottom=(0,e.measureToString)(this.spaceBelow)),this.textIndent!==""&&(c.textIndent=(0,e.measureToString)(this.textIndent),(0,e.fixTextIndent)(c)),this.lineHeight>0&&(c.lineHeight=(0,e.measureToString)(this.lineHeight)),this.tabDefault!==""&&(c.tabSize=(0,e.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(c,this.hyphenatation[n.$toStyle]()),c}}class _i extends t.XFAObject{constructor(c){super(f,"passwordEdit",!0),this.hScrollPolicy=(0,o.getStringOption)(c.hScrollPolicy,["auto","off","on"]),this.id=c.id||"",this.passwordChar=c.passwordChar||"*",this.use=c.use||"",this.usehref=c.usehref||"",this.border=null,this.extras=null,this.margin=null}}class Wi extends t.XFAObject{constructor(c){super(f,"pattern",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=c.use||"",this.usehref=c.usehref||"",this.color=null,this.extras=null}[n.$toStyle](c){c=c?c[n.$toStyle]():"#FFFFFF";const Be=this.color?this.color[n.$toStyle]():"#000000",Bt=5,Nt="repeating-linear-gradient",Vt=`${c},${c} ${Bt}px,${Be} ${Bt}px,${Be} ${2*Bt}px`;switch(this.type){case"crossHatch":return`${Nt}(to top,${Vt}) ${Nt}(to right,${Vt})`;case"crossDiagonal":return`${Nt}(45deg,${Vt}) ${Nt}(-45deg,${Vt})`;case"diagonalLeft":return`${Nt}(45deg,${Vt})`;case"diagonalRight":return`${Nt}(-45deg,${Vt})`;case"horizontal":return`${Nt}(to top,${Vt})`;case"vertical":return`${Nt}(to right,${Vt})`}return""}}class xi extends t.StringObject{constructor(c){super(f,"picture"),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||""}}class ur extends t.XFAObject{constructor(c){super(f,"proto",!0),this.appearanceFilter=new t.XFAObjectArray,this.arc=new t.XFAObjectArray,this.area=new t.XFAObjectArray,this.assist=new t.XFAObjectArray,this.barcode=new t.XFAObjectArray,this.bindItems=new t.XFAObjectArray,this.bookend=new t.XFAObjectArray,this.boolean=new t.XFAObjectArray,this.border=new t.XFAObjectArray,this.break=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.button=new t.XFAObjectArray,this.calculate=new t.XFAObjectArray,this.caption=new t.XFAObjectArray,this.certificate=new t.XFAObjectArray,this.certificates=new t.XFAObjectArray,this.checkButton=new t.XFAObjectArray,this.choiceList=new t.XFAObjectArray,this.color=new t.XFAObjectArray,this.comb=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.corner=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.dateTimeEdit=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.defaultUi=new t.XFAObjectArray,this.desc=new t.XFAObjectArray,this.digestMethod=new t.XFAObjectArray,this.digestMethods=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.edge=new t.XFAObjectArray,this.encoding=new t.XFAObjectArray,this.encodings=new t.XFAObjectArray,this.encrypt=new t.XFAObjectArray,this.encryptData=new t.XFAObjectArray,this.encryption=new t.XFAObjectArray,this.encryptionMethod=new t.XFAObjectArray,this.encryptionMethods=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.execute=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.fill=new t.XFAObjectArray,this.filter=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.font=new t.XFAObjectArray,this.format=new t.XFAObjectArray,this.handler=new t.XFAObjectArray,this.hyphenation=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.imageEdit=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.issuers=new t.XFAObjectArray,this.items=new t.XFAObjectArray,this.keep=new t.XFAObjectArray,this.keyUsage=new t.XFAObjectArray,this.line=new t.XFAObjectArray,this.linear=new t.XFAObjectArray,this.lockDocument=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.margin=new t.XFAObjectArray,this.mdp=new t.XFAObjectArray,this.medium=new t.XFAObjectArray,this.message=new t.XFAObjectArray,this.numericEdit=new t.XFAObjectArray,this.occur=new t.XFAObjectArray,this.oid=new t.XFAObjectArray,this.oids=new t.XFAObjectArray,this.overflow=new t.XFAObjectArray,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray,this.para=new t.XFAObjectArray,this.passwordEdit=new t.XFAObjectArray,this.pattern=new t.XFAObjectArray,this.picture=new t.XFAObjectArray,this.radial=new t.XFAObjectArray,this.reason=new t.XFAObjectArray,this.reasons=new t.XFAObjectArray,this.rectangle=new t.XFAObjectArray,this.ref=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.signData=new t.XFAObjectArray,this.signature=new t.XFAObjectArray,this.signing=new t.XFAObjectArray,this.solid=new t.XFAObjectArray,this.speak=new t.XFAObjectArray,this.stipple=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray,this.subjectDN=new t.XFAObjectArray,this.subjectDNs=new t.XFAObjectArray,this.submit=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.textEdit=new t.XFAObjectArray,this.time=new t.XFAObjectArray,this.timeStamp=new t.XFAObjectArray,this.toolTip=new t.XFAObjectArray,this.traversal=new t.XFAObjectArray,this.traverse=new t.XFAObjectArray,this.ui=new t.XFAObjectArray,this.validate=new t.XFAObjectArray,this.value=new t.XFAObjectArray,this.variables=new t.XFAObjectArray}}class Yi extends t.XFAObject{constructor(c){super(f,"radial",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["toEdge","toCenter"]),this.use=c.use||"",this.usehref=c.usehref||"",this.color=null,this.extras=null}[n.$toStyle](c){c=c?c[n.$toStyle]():"#FFFFFF";const Be=this.color?this.color[n.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${c},${Be}`:`${Be},${c}`})`}}class Nr extends t.StringObject{constructor(c){super(f,"reason"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class Ji extends t.XFAObject{constructor(c){super(f,"reasons",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||"",this.reason=new t.XFAObjectArray}}class rr extends t.XFAObject{constructor(c){super(f,"rectangle",!0),this.hand=(0,o.getStringOption)(c.hand,["even","left","right"]),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.fill=null}[n.$toHTML](){var fr;const c=this.edge.children.length?this.edge.children[0]:new ze({}),Be=c[n.$toStyle](),Bt=Object.create(null);((fr=this.fill)==null?void 0:fr.presence)==="visible"?Object.assign(Bt,this.fill[n.$toStyle]()):Bt.fill="transparent",Bt.strokeWidth=(0,e.measureToString)(c.presence==="visible"?c.thickness:0),Bt.stroke=Be.color;const Vt=(this.corner.children.length?this.corner.children[0]:new Fe({}))[n.$toStyle](),Oi={name:"svg",children:[{name:"rect",attributes:{xmlns:p,width:"100%",height:"100%",x:0,y:0,rx:Vt.radius,ry:Vt.radius,style:Bt}}],attributes:{xmlns:p,style:{overflow:"visible"},width:"100%",height:"100%"}},ki=this[n.$getParent]()[n.$getParent]();return se(ki)?o.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Oi]}):(Oi.attributes.style.position="absolute",o.HTMLResult.success(Oi))}}class vr extends t.StringObject{constructor(c){super(f,"ref"),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||""}}class Or extends t.StringObject{constructor(c){super(f,"script"),this.binding=c.binding||"",this.contentType=c.contentType||"",this.id=c.id||"",this.name=c.name||"",this.runAt=(0,o.getStringOption)(c.runAt,["client","both","server"]),this.use=c.use||"",this.usehref=c.usehref||""}}class zr extends t.XFAObject{constructor(c){super(f,"setProperty"),this.connection=c.connection||"",this.ref=c.ref||"",this.target=c.target||""}}h.SetProperty=zr;class ys extends t.XFAObject{constructor(c){super(f,"signData",!0),this.id=c.id||"",this.operation=(0,o.getStringOption)(c.operation,["sign","clear","verify"]),this.ref=c.ref||"",this.target=c.target||"",this.use=c.use||"",this.usehref=c.usehref||"",this.filter=null,this.manifest=null}}class Qa extends t.XFAObject{constructor(c){super(f,"signature",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["PDF1.3","PDF1.6"]),this.use=c.use||"",this.usehref=c.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Is extends t.XFAObject{constructor(c){super(f,"signing",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||"",this.certificate=new t.XFAObjectArray}}class eo extends t.XFAObject{constructor(c){super(f,"solid",!0),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null}[n.$toStyle](c){return c?c[n.$toStyle]():"#FFFFFF"}}class Zs extends t.StringObject{constructor(c){super(f,"speak"),this.disable=(0,o.getInteger)({data:c.disable,defaultValue:0,validate:Be=>Be===1}),this.id=c.id||"",this.priority=(0,o.getStringOption)(c.priority,["custom","caption","name","toolTip"]),this.rid=c.rid||"",this.use=c.use||"",this.usehref=c.usehref||""}}class to extends t.XFAObject{constructor(c){super(f,"stipple",!0),this.id=c.id||"",this.rate=(0,o.getInteger)({data:c.rate,defaultValue:50,validate:Be=>Be>=0&&Be<=100}),this.use=c.use||"",this.usehref=c.usehref||"",this.color=null,this.extras=null}[n.$toStyle](c){const Be=this.rate/100;return K.Util.makeHexColor(Math.round(c.value.r*(1-Be)+this.value.r*Be),Math.round(c.value.g*(1-Be)+this.value.g*Be),Math.round(c.value.b*(1-Be)+this.value.b*Be))}}class ea extends t.XFAObject{constructor(c){super(f,"subform",!0),this.access=(0,o.getStringOption)(c.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,o.getInteger)({data:c.allowMacro,defaultValue:0,validate:Be=>Be===1}),this.anchorType=(0,o.getStringOption)(c.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:c.colSpan,defaultValue:1,validate:Be=>Be>=1||Be===-1}),this.columnWidths=(c.columnWidths||"").trim().split(/\s+/).map(Be=>Be==="-1"?-1:(0,o.getMeasurement)(Be)),this.h=c.h?(0,o.getMeasurement)(c.h):"",this.hAlign=(0,o.getStringOption)(c.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=c.id||"",this.layout=(0,o.getStringOption)(c.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=c.locale||"",this.maxH=(0,o.getMeasurement)(c.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(c.maxW,"0pt"),this.mergeMode=(0,o.getStringOption)(c.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,o.getMeasurement)(c.minH,"0pt"),this.minW=(0,o.getMeasurement)(c.minW,"0pt"),this.name=c.name||"",this.presence=(0,o.getStringOption)(c.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(c.relevant),this.restoreState=(0,o.getStringOption)(c.restoreState,["manual","auto"]),this.scope=(0,o.getStringOption)(c.scope,["name","none"]),this.use=c.use||"",this.usehref=c.usehref||"",this.w=c.w?(0,o.getMeasurement)(c.w):"",this.x=(0,o.getMeasurement)(c.x,"0pt"),this.y=(0,o.getMeasurement)(c.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.proto=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[n.$getSubformParent](){const c=this[n.$getParent]();return c instanceof Ts?c[n.$getSubformParent]():c}[n.$isBindable](){return!0}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}*[n.$getContainedChildren](){yield*Q(this)}[n.$flushHTML](){return(0,U.flushHTML)(this)}[n.$addHTML](c,Be){(0,U.addHTML)(this,c,Be)}[n.$getAvailableSpace](){return(0,U.getAvailableSpace)(this)}[n.$isSplittable](){var Be;const c=this[n.$getSubformParent]();return c[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[n.$extra]._isSplittable=!1,!1):(Be=c.layout)!=null&&Be.endsWith("-tb")&&c[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$toHTML](c){var wr;if(w(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Ri=new fe({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Ri[n.$globalData]=this[n.$globalData],this[n.$appendChild](Ri),this.breakAfter.push(Ri)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Ri=new Te({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Ri[n.$globalData]=this[n.$globalData],this[n.$appendChild](Ri),this.breakBefore.push(Ri)}if(this.break.overflowTarget!==""){const Ri=new gr({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Ri[n.$globalData]=this[n.$globalData],this[n.$appendChild](Ri),this.overflow.push(Ri)}this[n.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return o.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,K.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Ri=this.breakBefore.children[0];if(N(Ri))return o.HTMLResult.breakNode(Ri)}if((wr=this[n.$extra])!=null&&wr.afterBreakAfter)return o.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const Be=[],Bt={id:this[n.$uid],class:[]};(0,e.setAccess)(this,Bt.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:Be,line:null,attributes:Bt,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,c.width),height:Math.min(this.h||1/0,c.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Nt=this[n.$getTemplateRoot](),Vt=Nt[n.$extra].noLayoutFailure,Zn=this[n.$isSplittable]();if(Zn||D(this),!(0,U.checkDimensions)(this,c))return o.HTMLResult.FAILURE;const Oi=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Ri=this[n.$getSubformParent]().columnWidths;Array.isArray(Ri)&&Ri.length>0&&(this[n.$extra].columnWidths=Ri,this[n.$extra].currentColumn=0)}const ki=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),fr=["xfaSubform"],mr=(0,e.layoutClass)(this);if(mr&&fr.push(mr),Bt.style=ki,Bt.class=fr,this.name&&(Bt.xfaName=this.name),this.overflow){const Ri=this.overflow[n.$getExtra]();Ri.addLeader&&(Ri.addLeader=!1,v(this,Ri.leader,c))}this[n.$pushPara]();const Ir=this.layout==="lr-tb"||this.layout==="rl-tb",Sr=Ir?i:1;for(;this[n.$extra].attempt<Sr;this[n.$extra].attempt++){Ir&&this[n.$extra].attempt===i-1&&(this[n.$extra].numberInLine=0);const Ri=this[n.$childrenToHTML]({filter:Oi,include:!0});if(Ri.success)break;if(Ri.isBreak())return this[n.$popPara](),Ri;if(Ir&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!Nt[n.$extra].noLayoutFailure){this[n.$extra].attempt=Sr;break}}if(this[n.$popPara](),Zn||Z(this),Nt[n.$extra].noLayoutFailure=Vt,this[n.$extra].attempt===Sr)return this.overflow&&(this[n.$getTemplateRoot]()[n.$extra].overflowNode=this.overflow),Zn||delete this[n.$extra],o.HTMLResult.FAILURE;if(this.overflow){const Ri=this.overflow[n.$getExtra]();Ri.addTrailer&&(Ri.addTrailer=!1,v(this,Ri.trailer,c))}let _r=0,Rr=0;this.margin&&(_r=this.margin.leftInset+this.margin.rightInset,Rr=this.margin.topInset+this.margin.bottomInset);const pr=Math.max(this[n.$extra].width+_r,this.w||0),Hr=Math.max(this[n.$extra].height+Rr,this.h||0),Pr=[this.x,this.y,pr,Hr];if(this.w===""&&(ki.width=(0,e.measureToString)(pr)),this.h===""&&(ki.height=(0,e.measureToString)(Hr)),(ki.width==="0px"||ki.height==="0px")&&Be.length===0)return o.HTMLResult.EMPTY;const es={name:"div",attributes:Bt,children:Be};q(this,Bt);const Dr=o.HTMLResult.success((0,e.createWrapper)(this,es),Pr);if(this.breakAfter.children.length>=1){const Ri=this.breakAfter.children[0];if(N(Ri))return this[n.$extra].afterBreakAfter=Dr,o.HTMLResult.breakNode(Ri)}return delete this[n.$extra],Dr}}class Ts extends t.XFAObject{constructor(c){super(f,"subformSet",!0),this.id=c.id||"",this.name=c.name||"",this.relation=(0,o.getStringOption)(c.relation,["ordered","choice","unordered"]),this.relevant=(0,o.getRelevant)(c.relevant),this.use=c.use||"",this.usehref=c.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[n.$getContainedChildren](){yield*Q(this)}[n.$getSubformParent](){let c=this[n.$getParent]();for(;!(c instanceof ea);)c=c[n.$getParent]();return c}[n.$isBindable](){return!0}}class Hs extends t.ContentObject{constructor(c){super(f,"subjectDN"),this.delimiter=c.delimiter||",",this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}[n.$finalize](){this[n.$content]=new Map(this[n.$content].split(this.delimiter).map(c=>(c=c.split("=",2),c[0]=c[0].trim(),c)))}}class ds extends t.XFAObject{constructor(c){super(f,"subjectDNs",!0),this.id=c.id||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||"",this.subjectDN=new t.XFAObjectArray}}class no extends t.XFAObject{constructor(c){super(f,"submit",!0),this.embedPDF=(0,o.getInteger)({data:c.embedPDF,defaultValue:0,validate:Be=>Be===1}),this.format=(0,o.getStringOption)(c.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=c.id||"",this.target=c.target||"",this.textEncoding=(0,o.getKeyword)({data:c.textEncoding?c.textEncoding.toLowerCase():"",defaultValue:"",validate:Be=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Be)||Be.match(/iso-8859-\d{2}/)}),this.use=c.use||"",this.usehref=c.usehref||"",this.xdpContent=c.xdpContent||"",this.encrypt=null,this.encryptData=new t.XFAObjectArray,this.signData=new t.XFAObjectArray}}class $s extends t.XFAObject{constructor(c){super(f,"template",!0),this.baseProfile=(0,o.getStringOption)(c.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new t.XFAObjectArray}[n.$finalize](){this.subform.children.length===0&&(0,K.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,K.warn)("XFA - Several subforms in template node: please file a bug."),this[n.$tabIndex]=F}[n.$isSplittable](){return!0}[n.$searchNode](c,Be){return c.startsWith("#")?[this[n.$ids].get(c.slice(1))]:(0,O.searchNode)(this,Be,c,!0,!0)}*[n.$toPages](){var Rr,pr,Hr;if(!this.subform.children.length)return o.HTMLResult.success({name:"div",children:[]});this[n.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const c=this.subform.children[0];c.pageSet[n.$cleanPage]();const Be=c.pageSet.pageArea.children,Bt={name:"div",children:[]};let Nt=null,Vt=null,Zn=null;if(c.breakBefore.children.length>=1?(Vt=c.breakBefore.children[0],Zn=Vt.target):c.subform.children.length>=1&&c.subform.children[0].breakBefore.children.length>=1?(Vt=c.subform.children[0].breakBefore.children[0],Zn=Vt.target):(Rr=c.break)!=null&&Rr.beforeTarget?(Vt=c.break,Zn=Vt.beforeTarget):c.subform.children.length>=1&&((pr=c.subform.children[0].break)!=null&&pr.beforeTarget)&&(Vt=c.subform.children[0].break,Zn=Vt.beforeTarget),Vt){const Pr=this[n.$searchNode](Zn,Vt[n.$getParent]());Pr instanceof Gi&&(Nt=Pr,Vt[n.$extra]={})}Nt||(Nt=Be[0]),Nt[n.$extra]={numberOfUse:1};const Oi=Nt[n.$getParent]();Oi[n.$extra]={numberOfUse:1,pageIndex:Oi.pageArea.children.indexOf(Nt),pageSetIndex:0};let ki,fr=null,mr=null,Ir=!0,Sr=0,_r=0;for(;;){if(Ir)Sr=0;else if(Bt.children.pop(),++Sr===T)return(0,K.warn)("XFA - Something goes wrong: please file a bug."),Bt;ki=null,this[n.$extra].currentPageArea=Nt;const Pr=Nt[n.$toHTML]().html;Bt.children.push(Pr),fr&&(this[n.$extra].noLayoutFailure=!0,Pr.children.push(fr[n.$toHTML](Nt[n.$extra].space).html),fr=null),mr&&(this[n.$extra].noLayoutFailure=!0,Pr.children.push(mr[n.$toHTML](Nt[n.$extra].space).html),mr=null);const es=Nt.contentArea.children,Dr=Pr.children.filter(Ri=>Ri.attributes.class.includes("xfaContentarea"));Ir=!1,this[n.$extra].firstUnsplittable=null,this[n.$extra].noLayoutFailure=!1;const wr=Ri=>{var ns;const as=c[n.$flushHTML]();as&&(Ir||(Ir=((ns=as.children)==null?void 0:ns.length)>0),Dr[Ri].children.push(as))};for(let Ri=_r,as=es.length;Ri<as;Ri++){const ns=this[n.$extra].currentContentArea=es[Ri],ps={width:ns.w,height:ns.h};_r=0,fr&&(Dr[Ri].children.push(fr[n.$toHTML](ps).html),fr=null),mr&&(Dr[Ri].children.push(mr[n.$toHTML](ps).html),mr=null);const As=c[n.$toHTML](ps);if(As.success)return As.html?(Ir||(Ir=((Hr=As.html.children)==null?void 0:Hr.length)>0),Dr[Ri].children.push(As.html)):!Ir&&Bt.children.length>1&&Bt.children.pop(),Bt;if(As.isBreak()){const Kr=As.breakNode;if(wr(Ri),Kr.targetType==="auto")continue;Kr.leader&&(fr=this[n.$searchNode](Kr.leader,Kr[n.$getParent]()),fr=fr?fr[0]:null),Kr.trailer&&(mr=this[n.$searchNode](Kr.trailer,Kr[n.$getParent]()),mr=mr?mr[0]:null),Kr.targetType==="pageArea"?(ki=Kr[n.$extra].target,Ri=1/0):Kr[n.$extra].target?(ki=Kr[n.$extra].target,_r=Kr[n.$extra].index+1,Ri=1/0):Ri=Kr[n.$extra].index;continue}if(this[n.$extra].overflowNode){const Kr=this[n.$extra].overflowNode;this[n.$extra].overflowNode=null;const Gs=Kr[n.$getExtra](),_s=Gs.target;Gs.addLeader=Gs.leader!==null,Gs.addTrailer=Gs.trailer!==null,wr(Ri);const UA=Ri;if(Ri=1/0,_s instanceof Gi)ki=_s;else if(_s instanceof ke){const ia=es.indexOf(_s);ia!==-1?ia>UA?Ri=ia-1:_r=ia:(ki=_s[n.$getParent](),_r=ki.contentArea.children.indexOf(_s))}continue}wr(Ri)}this[n.$extra].pageNumber+=1,ki&&(ki[n.$isUsable]()?ki[n.$extra].numberOfUse+=1:ki=null),Nt=ki||Nt[n.$getNextPage](),yield null}}}h.Template=$s;class ta extends t.ContentObject{constructor(c){super(f,"text"),this.id=c.id||"",this.maxChars=(0,o.getInteger)({data:c.maxChars,defaultValue:0,validate:Be=>Be>=0}),this.name=c.name||"",this.rid=c.rid||"",this.use=c.use||"",this.usehref=c.usehref||""}[n.$acceptWhitespace](){return!0}[n.$onChild](c){return c[n.$namespaceId]===x.NamespaceIds.xhtml.id?(this[n.$content]=c,!0):((0,K.warn)(`XFA - Invalid content in Text: ${c[n.$nodeName]}.`),!1)}[n.$onText](c){this[n.$content]instanceof t.XFAObject||super[n.$onText](c)}[n.$finalize](){typeof this[n.$content]=="string"&&(this[n.$content]=this[n.$content].replaceAll(`\r
`,`
`))}[n.$getExtra](){return typeof this[n.$content]=="string"?this[n.$content].split(/[\u2029\u2028\n]/).reduce((c,Be)=>(Be&&c.push(Be),c),[]).join(`
`):this[n.$content][n.$text]()}[n.$toHTML](c){if(typeof this[n.$content]=="string"){const Be=b(this[n.$content]).html;return this[n.$content].includes("\u2029")?(Be.name="div",Be.children=[],this[n.$content].split("\u2029").map(Bt=>Bt.split(/[\u2028\n]/).reduce((Nt,Vt)=>(Nt.push({name:"span",value:Vt},{name:"br"}),Nt),[])).forEach(Bt=>{Be.children.push({name:"p",children:Bt})})):/[\u2028\n]/.test(this[n.$content])&&(Be.name="div",Be.children=[],this[n.$content].split(/[\u2028\n]/).forEach(Bt=>{Be.children.push({name:"span",value:Bt},{name:"br"})})),o.HTMLResult.success(Be)}return this[n.$content][n.$toHTML](c)}}h.Text=ta;class gs extends t.XFAObject{constructor(c){super(f,"textEdit",!0),this.allowRichText=(0,o.getInteger)({data:c.allowRichText,defaultValue:0,validate:Be=>Be===1}),this.hScrollPolicy=(0,o.getStringOption)(c.hScrollPolicy,["auto","off","on"]),this.id=c.id||"",this.multiLine=(0,o.getInteger)({data:c.multiLine,defaultValue:"",validate:Be=>Be===0||Be===1}),this.use=c.use||"",this.usehref=c.usehref||"",this.vScrollPolicy=(0,o.getStringOption)(c.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](c){var Vt,Zn;const Be=(0,e.toStyle)(this,"border","font","margin");let Bt;const Nt=this[n.$getParent]()[n.$getParent]();return this.multiLine===""&&(this.multiLine=Nt instanceof $e?1:0),this.multiLine===1?Bt={name:"textarea",attributes:{dataId:((Vt=Nt[n.$data])==null?void 0:Vt[n.$uid])||Nt[n.$uid],fieldId:Nt[n.$uid],class:["xfaTextfield"],style:Be,"aria-label":l(Nt),"aria-required":!1}}:Bt={name:"input",attributes:{type:"text",dataId:((Zn=Nt[n.$data])==null?void 0:Zn[n.$uid])||Nt[n.$uid],fieldId:Nt[n.$uid],class:["xfaTextfield"],style:Be,"aria-label":l(Nt),"aria-required":!1}},d(Nt)&&(Bt.attributes["aria-required"]=!0,Bt.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Bt]})}}class io extends t.StringObject{constructor(c){super(f,"time"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}[n.$finalize](){const c=this[n.$content].trim();this[n.$content]=c?new Date(c):null}[n.$toHTML](c){return b(this[n.$content]?this[n.$content].toString():"")}}class ro extends t.XFAObject{constructor(c){super(f,"timeStamp"),this.id=c.id||"",this.server=c.server||"",this.type=(0,o.getStringOption)(c.type,["optional","required"]),this.use=c.use||"",this.usehref=c.usehref||""}}class so extends t.StringObject{constructor(c){super(f,"toolTip"),this.id=c.id||"",this.rid=c.rid||"",this.use=c.use||"",this.usehref=c.usehref||""}}class ao extends t.XFAObject{constructor(c){super(f,"traversal",!0),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null,this.traverse=new t.XFAObjectArray}}class oo extends t.XFAObject{constructor(c){super(f,"traverse",!0),this.id=c.id||"",this.operation=(0,o.getStringOption)(c.operation,["next","back","down","first","left","right","up"]),this.ref=c.ref||"",this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[n.$isTransparent](){return!1}}class js extends t.XFAObject{constructor(c){super(f,"ui",!0),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[n.$getExtra](){if(this[n.$extra]===void 0){for(const c of Object.getOwnPropertyNames(this)){if(c==="extras"||c==="picture")continue;const Be=this[c];if(Be instanceof t.XFAObject)return this[n.$extra]=Be,Be}this[n.$extra]=null}return this[n.$extra]}[n.$toHTML](c){const Be=this[n.$getExtra]();return Be?Be[n.$toHTML](c):o.HTMLResult.EMPTY}}class ts extends t.XFAObject{constructor(c){super(f,"validate",!0),this.formatTest=(0,o.getStringOption)(c.formatTest,["warning","disabled","error"]),this.id=c.id||"",this.nullTest=(0,o.getStringOption)(c.nullTest,["disabled","error","warning"]),this.scriptTest=(0,o.getStringOption)(c.scriptTest,["error","disabled","warning"]),this.use=c.use||"",this.usehref=c.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Bs extends t.XFAObject{constructor(c){super(f,"value",!0),this.id=c.id||"",this.override=(0,o.getInteger)({data:c.override,defaultValue:0,validate:Be=>Be===1}),this.relevant=(0,o.getRelevant)(c.relevant),this.use=c.use||"",this.usehref=c.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[n.$setValue](c){var Nt;const Be=this[n.$getParent]();if(Be instanceof Ve&&(Nt=Be.ui)!=null&&Nt.imageEdit){this.image||(this.image=new Mt({}),this[n.$appendChild](this.image)),this.image[n.$content]=c[n.$content];return}const Bt=c[n.$nodeName];if(this[Bt]!==null){this[Bt][n.$content]=c[n.$content];return}for(const Vt of Object.getOwnPropertyNames(this)){const Zn=this[Vt];Zn instanceof t.XFAObject&&(this[Vt]=null,this[n.$removeChild](Zn))}this[c[n.$nodeName]]=c,this[n.$appendChild](c)}[n.$text](){if(this.exData)return typeof this.exData[n.$content]=="string"?this.exData[n.$content].trim():this.exData[n.$content][n.$text]().trim();for(const c of Object.getOwnPropertyNames(this)){if(c==="image")continue;const Be=this[c];if(Be instanceof t.XFAObject)return(Be[n.$content]||"").toString().trim()}return null}[n.$toHTML](c){for(const Be of Object.getOwnPropertyNames(this)){const Bt=this[Be];if(Bt instanceof t.XFAObject)return Bt[n.$toHTML](c)}return o.HTMLResult.EMPTY}}h.Value=Bs;class na extends t.XFAObject{constructor(c){super(f,"variables",!0),this.id=c.id||"",this.use=c.use||"",this.usehref=c.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[n.$isTransparent](){return!0}}class Cs{static[x.$buildXFAObject](c,Be){if(Cs.hasOwnProperty(c)){const Bt=Cs[c](Be);return Bt[n.$setSetAttributes](Be),Bt}}static appearanceFilter(c){return new S(c)}static arc(c){return new I(c)}static area(c){return new u(c)}static assist(c){return new y(c)}static barcode(c){return new r(c)}static bind(c){return new A(c)}static bindItems(c){return new E(c)}static bookend(c){return new G(c)}static boolean(c){return new ae(c)}static border(c){return new ce(c)}static break(c){return new Ie(c)}static breakAfter(c){return new fe(c)}static breakBefore(c){return new Te(c)}static button(c){return new be(c)}static calculate(c){return new ve(c)}static caption(c){return new te(c)}static certificate(c){return new ie(c)}static certificates(c){return new ge(c)}static checkButton(c){return new he(c)}static choiceList(c){return new ue(c)}static color(c){return new we(c)}static comb(c){return new Ce(c)}static connect(c){return new le(c)}static contentArea(c){return new ke(c)}static corner(c){return new Fe(c)}static date(c){return new de(c)}static dateTime(c){return new Ee(c)}static dateTimeEdit(c){return new Oe(c)}static decimal(c){return new Ne(c)}static defaultUi(c){return new et(c)}static desc(c){return new rt(c)}static digestMethod(c){return new Ge(c)}static digestMethods(c){return new je(c)}static draw(c){return new $e(c)}static edge(c){return new ze(c)}static encoding(c){return new at(c)}static encodings(c){return new mt(c)}static encrypt(c){return new At(c)}static encryptData(c){return new Qe(c)}static encryption(c){return new Ke(c)}static encryptionMethod(c){return new pt(c)}static encryptionMethods(c){return new st(c)}static event(c){return new St(c)}static exData(c){return new kt(c)}static exObject(c){return new zn(c)}static exclGroup(c){return new ft(c)}static execute(c){return new en(c)}static extras(c){return new Xt(c)}static field(c){return new Ve(c)}static fill(c){return new Re(c)}static filter(c){return new qe(c)}static float(c){return new Ze(c)}static font(c){return new lt(c)}static format(c){return new gt(c)}static handler(c){return new xt(c)}static hyphenation(c){return new jt(c)}static image(c){return new Mt(c)}static imageEdit(c){return new Dt(c)}static integer(c){return new Kt(c)}static issuers(c){return new Wt(c)}static items(c){return new Zt(c)}static keep(c){return new qn(c)}static keyUsage(c){return new Hn(c)}static line(c){return new $i(c)}static linear(c){return new hr(c)}static lockDocument(c){return new Lt(c)}static manifest(c){return new Ot(c)}static margin(c){return new Gt(c)}static mdp(c){return new zt(c)}static medium(c){return new $n(c)}static message(c){return new Di(c)}static numericEdit(c){return new jn(c)}static occur(c){return new Yt(c)}static oid(c){return new Pi(c)}static oids(c){return new Vi(c)}static overflow(c){return new gr(c)}static pageArea(c){return new Gi(c)}static pageSet(c){return new zi(c)}static para(c){return new dr(c)}static passwordEdit(c){return new _i(c)}static pattern(c){return new Wi(c)}static picture(c){return new xi(c)}static proto(c){return new ur(c)}static radial(c){return new Yi(c)}static reason(c){return new Nr(c)}static reasons(c){return new Ji(c)}static rectangle(c){return new rr(c)}static ref(c){return new vr(c)}static script(c){return new Or(c)}static setProperty(c){return new zr(c)}static signData(c){return new ys(c)}static signature(c){return new Qa(c)}static signing(c){return new Is(c)}static solid(c){return new eo(c)}static speak(c){return new Zs(c)}static stipple(c){return new to(c)}static subform(c){return new ea(c)}static subformSet(c){return new Ts(c)}static subjectDN(c){return new Hs(c)}static subjectDNs(c){return new ds(c)}static submit(c){return new no(c)}static template(c){return new $s(c)}static text(c){return new ta(c)}static textEdit(c){return new gs(c)}static time(c){return new io(c)}static timeStamp(c){return new ro(c)}static toolTip(c){return new so(c)}static traversal(c){return new ao(c)}static traverse(c){return new oo(c)}static ui(c){return new js(c)}static validate(c){return new ts(c)}static value(c){return new Bs(c)}static variables(c){return new na(c)}}h.TemplateNamespace=Cs},(Pe,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NamespaceIds=h.$buildXFAObject=void 0;const re=Symbol();h.$buildXFAObject=re;const n={config:{id:0,check:x=>x.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:x=>x.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:x=>x.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:x=>x.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:x=>x.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:x=>x==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:x=>x==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:x=>x.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:x=>x==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:x=>x.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:x=>x.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:x=>x==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:x=>x==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:x=>x==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:x=>x==="http://ns.adobe.com/xmpmeta/"}};h.NamespaceIds=n},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.addHTML=t,h.checkDimensions=X,h.flushHTML=e,h.getAvailableSpace=o;var n=re(78),x=re(83);function U(L,O){return{name:"div",attributes:{class:[L.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:O}}function e(L){if(!L[n.$extra])return null;const f={name:"div",attributes:L[n.$extra].attributes,children:L[n.$extra].children};if(L[n.$extra].failingNode){const p=L[n.$extra].failingNode[n.$flushHTML]();p&&(L.layout.endsWith("-tb")?f.children.push(U(L,[p])):f.children.push(p))}return f.children.length===0?null:f}function t(L,O,f){const p=L[n.$extra],i=p.availableSpace,[T,F,P,C]=f;switch(L.layout){case"position":{p.width=Math.max(p.width,T+P),p.height=Math.max(p.height,F+C),p.children.push(O);break}case"lr-tb":case"rl-tb":(!p.line||p.attempt===1)&&(p.line=U(L,[]),p.children.push(p.line),p.numberInLine=0),p.numberInLine+=1,p.line.children.push(O),p.attempt===0?(p.currentWidth+=P,p.height=Math.max(p.height,p.prevHeight+C)):(p.currentWidth=P,p.prevHeight=p.height,p.height+=C,p.attempt=0),p.width=Math.max(p.width,p.currentWidth);break;case"rl-row":case"row":{p.children.push(O),p.width+=P,p.height=Math.max(p.height,C);const H=(0,x.measureToString)(p.height);for(const $ of p.children)$.attributes.style.height=H;break}case"table":{p.width=Math.min(i.width,Math.max(p.width,P)),p.height+=C,p.children.push(O);break}case"tb":{p.width=Math.min(i.width,Math.max(p.width,P)),p.height+=C,p.children.push(O);break}}}function o(L){const O=L[n.$extra].availableSpace,f=L.margin?L.margin.topInset+L.margin.bottomInset:0,p=L.margin?L.margin.leftInset+L.margin.rightInset:0;switch(L.layout){case"lr-tb":case"rl-tb":return L[n.$extra].attempt===0?{width:O.width-p-L[n.$extra].currentWidth,height:O.height-f-L[n.$extra].prevHeight}:{width:O.width-p,height:O.height-f-L[n.$extra].height};case"rl-row":case"row":return{width:L[n.$extra].columnWidths.slice(L[n.$extra].currentColumn).reduce((T,F)=>T+F),height:O.height-p};case"table":case"tb":return{width:O.width-p,height:O.height-f-L[n.$extra].height};case"position":default:return O}}function K(L){let O=L.w===""?NaN:L.w,f=L.h===""?NaN:L.h,[p,i]=[0,0];switch(L.anchorType||""){case"bottomCenter":[p,i]=[O/2,f];break;case"bottomLeft":[p,i]=[0,f];break;case"bottomRight":[p,i]=[O,f];break;case"middleCenter":[p,i]=[O/2,f/2];break;case"middleLeft":[p,i]=[0,f/2];break;case"middleRight":[p,i]=[O,f/2];break;case"topCenter":[p,i]=[O/2,0];break;case"topRight":[p,i]=[O,0];break}let T,F;switch(L.rotate||0){case 0:[T,F]=[-p,-i];break;case 90:[T,F]=[-i,p],[O,f]=[f,-O];break;case 180:[T,F]=[p,i],[O,f]=[-O,-f];break;case 270:[T,F]=[i,-p],[O,f]=[-f,O];break}return[L.x+T+Math.min(0,O),L.y+F+Math.min(0,f),Math.abs(O),Math.abs(f)]}function X(L,O){var C;if(L[n.$getTemplateRoot]()[n.$extra].firstUnsplittable===null||L.w===0||L.h===0)return!0;const f=2,p=L[n.$getSubformParent](),i=((C=p[n.$extra])==null?void 0:C.attempt)||0,[,T,F,P]=K(L);switch(p.layout){case"lr-tb":case"rl-tb":return i===0?L[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?L.w!==""?Math.round(F-O.width)<=f:O.width>f:L.h!==""&&Math.round(P-O.height)>f?!1:L.w!==""?Math.round(F-O.width)<=f?!0:p[n.$extra].numberInLine===0?O.height>f:!1:O.width>f:L[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:L.h!==""&&Math.round(P-O.height)>f?!1:L.w===""||Math.round(F-O.width)<=f?O.height>f:p[n.$isThereMoreWidth]()?!1:O.height>f;case"table":case"tb":return L[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:L.h!==""&&!L[n.$isSplittable]()?Math.round(P-O.height)<=f:L.w===""||Math.round(F-O.width)<=f?O.height>f:p[n.$isThereMoreWidth]()?!1:O.height>f;case"position":if(L[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||L.h===""||Math.round(P+T-O.height)<=f)return!0;const H=L[n.$getTemplateRoot]()[n.$extra].currentContentArea;return P+T>H.h;case"rl-row":case"row":return L[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:L.h!==""?Math.round(P-O.height)<=f:!0;default:return!0}}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.computeBbox=p,h.createWrapper=P,h.fixDimensions=i,h.fixTextIndent=C,h.fixURL=d,h.isPrintOnly=$,h.layoutClass=T,h.layoutNode=f,h.measureToString=K,h.setAccess=H,h.setFontFamily=Q,h.setMinMaxDimensions=L,h.setPara=_,h.toStyle=F;var n=re(78),x=re(2),U=re(84),e=re(85),t=re(86),o=re(87);function K(w){return typeof w=="string"?"0px":Number.isInteger(w)?`${w}px`:`${w.toFixed(2)}px`}const X={anchorType(w,q){const l=w[n.$getSubformParent]();if(!(!l||l.layout&&l.layout!=="position"))switch("transform"in q||(q.transform=""),w.anchorType){case"bottomCenter":q.transform+="translate(-50%, -100%)";break;case"bottomLeft":q.transform+="translate(0,-100%)";break;case"bottomRight":q.transform+="translate(-100%,-100%)";break;case"middleCenter":q.transform+="translate(-50%,-50%)";break;case"middleLeft":q.transform+="translate(0,-50%)";break;case"middleRight":q.transform+="translate(-100%,-50%)";break;case"topCenter":q.transform+="translate(-50%,0)";break;case"topRight":q.transform+="translate(-100%,0)";break}},dimensions(w,q){var Z;const l=w[n.$getSubformParent]();let b=w.w;const D=w.h;if((Z=l.layout)!=null&&Z.includes("row")){const N=l[n.$extra],v=w.colSpan;let S;v===-1?(S=N.columnWidths.slice(N.currentColumn).reduce((I,u)=>I+u,0),N.currentColumn=0):(S=N.columnWidths.slice(N.currentColumn,N.currentColumn+v).reduce((I,u)=>I+u,0),N.currentColumn=(N.currentColumn+w.colSpan)%N.columnWidths.length),isNaN(S)||(b=w.w=S)}q.width=b!==""?K(b):"auto",q.height=D!==""?K(D):"auto"},position(w,q){const l=w[n.$getSubformParent]();l!=null&&l.layout&&l.layout!=="position"||(q.position="absolute",q.left=K(w.x),q.top=K(w.y))},rotate(w,q){w.rotate&&("transform"in q||(q.transform=""),q.transform+=`rotate(-${w.rotate}deg)`,q.transformOrigin="top left")},presence(w,q){switch(w.presence){case"invisible":q.visibility="hidden";break;case"hidden":case"inactive":q.display="none";break}},hAlign(w,q){if(w[n.$nodeName]==="para")switch(w.hAlign){case"justifyAll":q.textAlign="justify-all";break;case"radix":q.textAlign="left";break;default:q.textAlign=w.hAlign}else switch(w.hAlign){case"left":q.alignSelf="start";break;case"center":q.alignSelf="center";break;case"right":q.alignSelf="end";break}},margin(w,q){w.margin&&(q.margin=w.margin[n.$toStyle]().margin)}};function L(w,q){w[n.$getSubformParent]().layout==="position"&&(w.minW>0&&(q.minWidth=K(w.minW)),w.maxW>0&&(q.maxWidth=K(w.maxW)),w.minH>0&&(q.minHeight=K(w.minH)),w.maxH>0&&(q.maxHeight=K(w.maxH)))}function O(w,q,l,b,D,Z){const N=new t.TextMeasure(q,l,b,D);return typeof w=="string"?N.addString(w):w[n.$pushGlyphs](N),N.compute(Z)}function f(w,q){let l=null,b=null,D=!1;if((!w.w||!w.h)&&w.value){let Z=0,N=0;w.margin&&(Z=w.margin.leftInset+w.margin.rightInset,N=w.margin.topInset+w.margin.bottomInset);let v=null,S=null;w.para&&(S=Object.create(null),v=w.para.lineHeight===""?null:w.para.lineHeight,S.top=w.para.spaceAbove===""?0:w.para.spaceAbove,S.bottom=w.para.spaceBelow===""?0:w.para.spaceBelow,S.left=w.para.marginLeft===""?0:w.para.marginLeft,S.right=w.para.marginRight===""?0:w.para.marginRight);let I=w.font;if(!I){const r=w[n.$getTemplateRoot]();let A=w[n.$getParent]();for(;A&&A!==r;){if(A.font){I=A.font;break}A=A[n.$getParent]()}}const u=(w.w||q.width)-Z,y=w[n.$globalData].fontFinder;if(w.value.exData&&w.value.exData[n.$content]&&w.value.exData.contentType==="text/html"){const r=O(w.value.exData[n.$content],I,S,v,y,u);b=r.width,l=r.height,D=r.isBroken}else{const r=w.value[n.$text]();if(r){const A=O(r,I,S,v,y,u);b=A.width,l=A.height,D=A.isBroken}}b!==null&&!w.w&&(b+=Z),l!==null&&!w.h&&(l+=N)}return{w:b,h:l,isBroken:D}}function p(w,q,l){let b;if(w.w!==""&&w.h!=="")b=[w.x,w.y,w.w,w.h];else{if(!l)return null;let D=w.w;if(D===""){if(w.maxW===0){const N=w[n.$getSubformParent]();D=N.layout==="position"&&N.w!==""?0:w.minW}else D=Math.min(w.maxW,l.width);q.attributes.style.width=K(D)}let Z=w.h;if(Z===""){if(w.maxH===0){const N=w[n.$getSubformParent]();Z=N.layout==="position"&&N.h!==""?0:w.minH}else Z=Math.min(w.maxH,l.height);q.attributes.style.height=K(Z)}b=[w.x,w.y,D,Z]}return b}function i(w){var l;const q=w[n.$getSubformParent]();if((l=q.layout)!=null&&l.includes("row")){const b=q[n.$extra],D=w.colSpan;let Z;D===-1?Z=b.columnWidths.slice(b.currentColumn).reduce((N,v)=>N+v,0):Z=b.columnWidths.slice(b.currentColumn,b.currentColumn+D).reduce((N,v)=>N+v,0),isNaN(Z)||(w.w=Z)}q.layout&&q.layout!=="position"&&(w.x=w.y=0),w.layout==="table"&&w.w===""&&Array.isArray(w.columnWidths)&&(w.w=w.columnWidths.reduce((b,D)=>b+D,0))}function T(w){switch(w.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function F(w,...q){const l=Object.create(null);for(const b of q){const D=w[b];if(D!==null){if(X.hasOwnProperty(b)){X[b](w,l);continue}if(D instanceof o.XFAObject){const Z=D[n.$toStyle]();Z?Object.assign(l,Z):(0,x.warn)(`(DEBUG) - XFA - style for ${b} not implemented yet`)}}}return l}function P(w,q){const{attributes:l}=q,{style:b}=l,D={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(l.class.push("xfaWrapped"),w.border){const{widths:Z,insets:N}=w.border[n.$extra];let v,S,I=N[0],u=N[3];const y=N[0]+N[2],r=N[1]+N[3];switch(w.border.hand){case"even":I-=Z[0]/2,u-=Z[3]/2,v=`calc(100% + ${(Z[1]+Z[3])/2-r}px)`,S=`calc(100% + ${(Z[0]+Z[2])/2-y}px)`;break;case"left":I-=Z[0],u-=Z[3],v=`calc(100% + ${Z[1]+Z[3]-r}px)`,S=`calc(100% + ${Z[0]+Z[2]-y}px)`;break;case"right":v=r?`calc(100% - ${r}px)`:"100%",S=y?`calc(100% - ${y}px)`:"100%";break}const A=["xfaBorder"];$(w.border)&&A.push("xfaPrintOnly");const E={name:"div",attributes:{class:A,style:{top:`${I}px`,left:`${u}px`,width:v,height:S}},children:[]};for(const G of["border","borderWidth","borderColor","borderRadius","borderStyle"])b[G]!==void 0&&(E.attributes.style[G]=b[G],delete b[G]);D.children.push(E,q)}else D.children.push(q);for(const Z of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])b[Z]!==void 0&&(D.attributes.style[Z]=b[Z],delete b[Z]);return D.attributes.style.position=b.position==="absolute"?"absolute":"relative",delete b.position,b.alignSelf&&(D.attributes.style.alignSelf=b.alignSelf,delete b.alignSelf),D}function C(w){const q=(0,U.getMeasurement)(w.textIndent,"0px");if(q>=0)return;const b="padding"+((w.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),D=(0,U.getMeasurement)(w[b],"0px");w[b]=`${D-q}px`}function H(w,q){switch(w.access){case"nonInteractive":q.push("xfaNonInteractive");break;case"readOnly":q.push("xfaReadOnly");break;case"protected":q.push("xfaDisabled");break}}function $(w){return w.relevant.length>0&&!w.relevant[0].excluded&&w.relevant[0].viewname==="print"}function se(w){const q=w[n.$getTemplateRoot]()[n.$extra].paraStack;return q.length?q.at(-1):null}function _(w,q,l){var b;if((b=l.attributes.class)!=null&&b.includes("xfaRich")){q&&(w.h===""&&(q.height="auto"),w.w===""&&(q.width="auto"));const D=se(w);if(D){const Z=l.attributes.style;switch(Z.display="flex",Z.flexDirection="column",D.vAlign){case"top":Z.justifyContent="start";break;case"bottom":Z.justifyContent="end";break;case"middle":Z.justifyContent="center";break}const N=D[n.$toStyle]();for(const[v,S]of Object.entries(N))v in Z||(Z[v]=S)}}}function Q(w,q,l,b){if(!l){delete b.fontFamily;return}const D=(0,U.stripQuotes)(w.typeface);b.fontFamily=`"${D}"`;const Z=l.find(D);if(Z){const{fontFamily:N}=Z.regular.cssFontInfo;N!==D&&(b.fontFamily=`"${N}"`);const v=se(q);if(v&&v.lineHeight!==""||b.lineHeight)return;const S=(0,e.selectFont)(w,Z);S&&(b.lineHeight=Math.max(1.2,S.lineHeight))}}function d(w){const q=(0,x.createValidAbsoluteUrl)(w,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return q?q.href:null}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.HTMLResult=void 0,h.getBBox=i,h.getColor=p,h.getFloat=o,h.getInteger=t,h.getKeyword=K,h.getMeasurement=L,h.getRatio=O,h.getRelevant=f,h.getStringOption=X,h.stripQuotes=e;var n=re(2);const x={pt:F=>F,cm:F=>F/2.54*72,mm:F=>F/(10*2.54)*72,in:F=>F*72,px:F=>F},U=/([+-]?\d+\.?\d*)(.*)/;function e(F){return F.startsWith("'")||F.startsWith('"')?F.slice(1,-1):F}function t({data:F,defaultValue:P,validate:C}){if(!F)return P;F=F.trim();const H=parseInt(F,10);return!isNaN(H)&&C(H)?H:P}function o({data:F,defaultValue:P,validate:C}){if(!F)return P;F=F.trim();const H=parseFloat(F);return!isNaN(H)&&C(H)?H:P}function K({data:F,defaultValue:P,validate:C}){return F?(F=F.trim(),C(F)?F:P):P}function X(F,P){return K({data:F,defaultValue:P[0],validate:C=>P.includes(C)})}function L(F,P="0"){if(P||(P="0"),!F)return L(P);const C=F.trim().match(U);if(!C)return L(P);const[,H,$]=C,se=parseFloat(H);if(isNaN(se))return L(P);if(se===0)return 0;const _=x[$];return _?_(se):se}function O(F){if(!F)return{num:1,den:1};const P=F.trim().split(/\s*:\s*/).map($=>parseFloat($)).filter($=>!isNaN($));if(P.length===1&&P.push(1),P.length===0)return{num:1,den:1};const[C,H]=P;return{num:C,den:H}}function f(F){return F?F.trim().split(/\s+/).map(P=>({excluded:P[0]==="-",viewname:P.substring(1)})):[]}function p(F,P=[0,0,0]){let[C,H,$]=P;if(!F)return{r:C,g:H,b:$};const se=F.trim().split(/\s*,\s*/).map(_=>Math.min(Math.max(0,parseInt(_.trim(),10)),255)).map(_=>isNaN(_)?0:_);return se.length<3?{r:C,g:H,b:$}:([C,H,$]=se,{r:C,g:H,b:$})}function i(F){if(!F)return{x:-1,y:-1,width:-1,height:-1};const C=F.trim().split(/\s*,\s*/).map(Q=>L(Q,"-1"));if(C.length<4||C[2]<0||C[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[H,$,se,_]=C;return{x:H,y:$,width:se,height:_}}class T{static get FAILURE(){return(0,n.shadow)(this,"FAILURE",new T(!1,null,null,null))}static get EMPTY(){return(0,n.shadow)(this,"EMPTY",new T(!0,null,null,null))}constructor(P,C,H,$){this.success=P,this.html=C,this.bbox=H,this.breakNode=$}isBreak(){return!!this.breakNode}static breakNode(P){return new T(!1,null,null,P)}static success(P,C=null){return new T(!0,P,C,null)}}h.HTMLResult=T},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FontFinder=void 0,h.getMetrics=o,h.selectFont=t;var n=re(78),x=re(84),U=re(2);class e{constructor(X){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(X)}add(X,L=null){for(const f of X)this.addPdfFont(f);for(const f of this.fonts.values())f.regular||(f.regular=f.italic||f.bold||f.bolditalic);if(!L||L.size===0)return;const O=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const f of L)this.fonts.set(f,O)}addPdfFont(X){var T,F,P;const L=X.cssFontInfo,O=L.fontFamily;let f=this.fonts.get(O);f||(f=Object.create(null),this.fonts.set(O,f),this.defaultFont||(this.defaultFont=f));let p="";const i=parseFloat(L.fontWeight);parseFloat(L.italicAngle)!==0?p=i>=700?"bolditalic":"italic":i>=700&&(p="bold"),p||((X.name.includes("Bold")||(T=X.psName)!=null&&T.includes("Bold"))&&(p="bold"),(X.name.includes("Italic")||X.name.endsWith("It")||(F=X.psName)!=null&&F.includes("Italic")||(P=X.psName)!=null&&P.endsWith("It"))&&(p+="italic")),p||(p="regular"),f[p]=X}getDefault(){return this.defaultFont}find(X,L=!0){var T,F;let O=this.fonts.get(X)||this.cache.get(X);if(O)return O;const f=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let p=X.replaceAll(f,"");if(O=this.fonts.get(p),O)return this.cache.set(X,O),O;p=p.toLowerCase();const i=[];for(const[P,C]of this.fonts.entries())P.replaceAll(f,"").toLowerCase().startsWith(p)&&i.push(C);if(i.length===0)for(const[,P]of this.fonts.entries())(T=P.regular.name)!=null&&T.replaceAll(f,"").toLowerCase().startsWith(p)&&i.push(P);if(i.length===0){p=p.replaceAll(/psmt|mt/gi,"");for(const[P,C]of this.fonts.entries())P.replaceAll(f,"").toLowerCase().startsWith(p)&&i.push(C)}if(i.length===0)for(const P of this.fonts.values())(F=P.regular.name)!=null&&F.replaceAll(f,"").toLowerCase().startsWith(p)&&i.push(P);return i.length>=1?(i.length!==1&&L&&(0,U.warn)(`XFA - Too many choices to guess the correct font: ${X}`),this.cache.set(X,i[0]),i[0]):(L&&!this.warned.has(X)&&(this.warned.add(X),(0,U.warn)(`XFA - Cannot find the font: ${X}`)),null)}}h.FontFinder=e;function t(K,X){return K.posture==="italic"?K.weight==="bold"?X.bolditalic:X.italic:K.weight==="bold"?X.bold:X.regular}function o(K,X=!1){let L=null;if(K){const i=(0,x.stripQuotes)(K.typeface),T=K[n.$globalData].fontFinder.find(i);L=t(K,T)}if(!L)return{lineHeight:12,lineGap:2,lineNoGap:10};const O=K.size||10,f=L.lineHeight?Math.max(X?0:1.2,L.lineHeight):1.2,p=L.lineGap===void 0?.2:L.lineGap;return{lineHeight:f*O,lineGap:p*O,lineNoGap:Math.max(1,f-p)*O}}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextMeasure=void 0;var n=re(85);const x=1.02;class U{constructor(K,X,L,O){if(this.lineHeight=L,this.paraMargin=X||{top:0,bottom:0,left:0,right:0},!K){[this.pdfFont,this.xfaFont]=this.defaultFont(O);return}this.xfaFont={typeface:K.typeface,posture:K.posture,weight:K.weight,size:K.size,letterSpacing:K.letterSpacing};const f=O.find(K.typeface);if(!f){[this.pdfFont,this.xfaFont]=this.defaultFont(O);return}this.pdfFont=(0,n.selectFont)(K,f),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(O))}defaultFont(K){const X=K.find("Helvetica",!1)||K.find("Myriad Pro",!1)||K.find("Arial",!1)||K.getDefault();if(X!=null&&X.regular){const O=X.regular,p={typeface:O.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[O,p]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class e{constructor(K,X,L,O){this.fontFinder=O,this.stack=[new U(K,X,L,O)]}pushData(K,X,L){const O=this.stack.at(-1);for(const p of["typeface","posture","weight","size","letterSpacing"])K[p]||(K[p]=O.xfaFont[p]);for(const p of["top","bottom","left","right"])isNaN(X[p])&&(X[p]=O.paraMargin[p]);const f=new U(K,X,L||O.lineHeight,this.fontFinder);f.pdfFont||(f.pdfFont=O.pdfFont),this.stack.push(f)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class t{constructor(K,X,L,O){this.glyphs=[],this.fontSelector=new e(K,X,L,O),this.extraHeight=0}pushData(K,X,L){this.fontSelector.pushData(K,X,L)}popFont(K){return this.fontSelector.popFont()}addPara(){const K=this.fontSelector.topFont();this.extraHeight+=K.paraMargin.top+K.paraMargin.bottom}addString(K){if(!K)return;const X=this.fontSelector.topFont(),L=X.xfaFont.size;if(X.pdfFont){const O=X.xfaFont.letterSpacing,f=X.pdfFont,p=f.lineHeight||1.2,i=X.lineHeight||Math.max(1.2,p)*L,T=f.lineGap===void 0?.2:f.lineGap,F=p-T,P=Math.max(1,F)*L,C=L/1e3,H=f.defaultWidth||f.charsToGlyphs(" ")[0].width;for(const $ of K.split(/[\u2029\n]/)){const se=f.encodeString($).join(""),_=f.charsToGlyphs(se);for(const Q of _){const d=Q.width||H;this.glyphs.push([d*C+O,i,P,Q.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const O of K.split(/[\u2029\n]/)){for(const f of O.split(""))this.glyphs.push([L,1.2*L,L,f,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(K){let X=-1,L=0,O=0,f=0,p=0,i=0,T=!1,F=!0;for(let P=0,C=this.glyphs.length;P<C;P++){const[H,$,se,_,Q]=this.glyphs[P],d=_===" ",w=F?se:$;if(Q){O=Math.max(O,p),p=0,f+=i,i=w,X=-1,L=0,F=!1;continue}if(d){p+H>K?(O=Math.max(O,p),p=0,f+=i,i=w,X=-1,L=0,T=!0,F=!1):(i=Math.max(w,i),L=p,p+=H,X=P);continue}if(p+H>K){f+=i,i=w,X!==-1?(P=X,O=Math.max(O,L),p=0,X=-1,L=0):(O=Math.max(O,p),p=H),T=!0,F=!1;continue}p+=H,i=Math.max(w,i)}return O=Math.max(O,p),f+=i+this.extraHeight,{width:x*O,height:f,isBroken:T}}}h.TextMeasure=t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XmlObject=h.XFAObjectArray=h.XFAObject=h.XFAAttribute=h.StringObject=h.OptionObject=h.Option10=h.Option01=h.IntegerObject=h.ContentObject=void 0;var n=re(78),x=re(84),U=re(2),e=re(3),t=re(81),o=re(88);const K=Symbol(),X=Symbol(),L=Symbol(),O=Symbol("_children"),f=Symbol(),p=Symbol(),i=Symbol(),T=Symbol(),F=Symbol(),P=Symbol(),C=Symbol(),H=Symbol(),$=Symbol(),se=Symbol("parent"),_=Symbol(),Q=Symbol(),d=Symbol();let w=0;const q=t.NamespaceIds.datasets.id;class l{constructor(A,E,G=!1){this[n.$namespaceId]=A,this[n.$nodeName]=E,this[C]=G,this[se]=null,this[O]=[],this[n.$uid]=`${E}${w++}`,this[n.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(A){let E=this,G=null;for(const{name:ae,index:ce}of A){for(let Ie=0,fe=isFinite(ce)?ce:0;Ie<=fe;Ie++){const Te=E[n.$namespaceId]===q?-1:E[n.$namespaceId];G=new Z(Te,ae),E[n.$appendChild](G)}E=G}return G}[n.$onChild](A){if(!this[C]||!this[n.$onChildCheck](A))return!1;const E=A[n.$nodeName],G=this[E];if(G instanceof b){if(G.push(A))return this[n.$appendChild](A),!0}else return G!==null&&this[n.$removeChild](G),this[E]=A,this[n.$appendChild](A),!0;let ae="";return this.id?ae=` (id: ${this.id})`:this.name&&(ae=` (name: ${this.name} ${this.h.value})`),(0,U.warn)(`XFA - node "${this[n.$nodeName]}"${ae} has already enough "${E}"!`),!1}[n.$onChildCheck](A){return this.hasOwnProperty(A[n.$nodeName])&&A[n.$namespaceId]===this[n.$namespaceId]}[n.$isNsAgnostic](){return!1}[n.$acceptWhitespace](){return!1}[n.$isCDATAXml](){return!1}[n.$isBindable](){return!1}[n.$popPara](){this.para&&this[n.$getTemplateRoot]()[n.$extra].paraStack.pop()}[n.$pushPara](){this[n.$getTemplateRoot]()[n.$extra].paraStack.push(this.para)}[n.$setId](A){this.id&&this[n.$namespaceId]===t.NamespaceIds.template.id&&A.set(this.id,this)}[n.$getTemplateRoot](){return this[n.$globalData].template}[n.$isSplittable](){return!1}[n.$isThereMoreWidth](){return!1}[n.$appendChild](A){A[se]=this,this[O].push(A),!A[n.$globalData]&&this[n.$globalData]&&(A[n.$globalData]=this[n.$globalData])}[n.$removeChild](A){const E=this[O].indexOf(A);this[O].splice(E,1)}[n.$hasSettableValue](){return this.hasOwnProperty("value")}[n.$setValue](A){}[n.$onText](A){}[n.$finalize](){}[n.$clean](A){delete this[C],this[n.$cleanup]&&(A.clean(this[n.$cleanup]),delete this[n.$cleanup])}[n.$indexOf](A){return this[O].indexOf(A)}[n.$insertAt](A,E){E[se]=this,this[O].splice(A,0,E),!E[n.$globalData]&&this[n.$globalData]&&(E[n.$globalData]=this[n.$globalData])}[n.$isTransparent](){return!this.name}[n.$lastAttribute](){return""}[n.$text](){return this[O].length===0?this[n.$content]:this[O].map(A=>A[n.$text]()).join("")}get[L](){const A=Object.getPrototypeOf(this);if(!A._attributes){const E=A._attributes=new Set;for(const G of Object.getOwnPropertyNames(this)){if(this[G]===null||this[G]instanceof l||this[G]instanceof b)break;E.add(G)}}return(0,U.shadow)(this,L,A._attributes)}[n.$isDescendent](A){let E=this;for(;E;){if(E===A)return!0;E=E[n.$getParent]()}return!1}[n.$getParent](){return this[se]}[n.$getSubformParent](){return this[n.$getParent]()}[n.$getChildren](A=null){return A?this[A]:this[O]}[n.$dump](){const A=Object.create(null);this[n.$content]&&(A.$content=this[n.$content]);for(const E of Object.getOwnPropertyNames(this)){const G=this[E];G!==null&&(G instanceof l?A[E]=G[n.$dump]():G instanceof b?G.isEmpty()||(A[E]=G.dump()):A[E]=G)}return A}[n.$toStyle](){return null}[n.$toHTML](){return x.HTMLResult.EMPTY}*[n.$getContainedChildren](){for(const A of this[n.$getChildren]())yield A}*[T](A,E){for(const G of this[n.$getContainedChildren]())if(!A||E===A.has(G[n.$nodeName])){const ae=this[n.$getAvailableSpace](),ce=G[n.$toHTML](ae);ce.success||(this[n.$extra].failingNode=G),yield ce}}[n.$flushHTML](){return null}[n.$addHTML](A,E){this[n.$extra].children.push(A)}[n.$getAvailableSpace](){}[n.$childrenToHTML]({filter:A=null,include:E=!0}){if(!this[n.$extra].generator)this[n.$extra].generator=this[T](A,E);else{const G=this[n.$getAvailableSpace](),ae=this[n.$extra].failingNode[n.$toHTML](G);if(!ae.success)return ae;ae.html&&this[n.$addHTML](ae.html,ae.bbox),delete this[n.$extra].failingNode}for(;;){const G=this[n.$extra].generator.next();if(G.done)break;const ae=G.value;if(!ae.success)return ae;ae.html&&this[n.$addHTML](ae.html,ae.bbox)}return this[n.$extra].generator=null,x.HTMLResult.EMPTY}[n.$setSetAttributes](A){this[Q]=new Set(Object.keys(A))}[P](A){const E=this[L],G=this[Q];return[...A].filter(ae=>E.has(ae)&&!G.has(ae))}[n.$resolvePrototypes](A,E=new Set){for(const G of this[O])G[_](A,E)}[_](A,E){const G=this[F](A,E);G?this[K](G,A,E):this[n.$resolvePrototypes](A,E)}[F](A,E){const{use:G,usehref:ae}=this;if(!G&&!ae)return null;let ce=null,Ie=null,fe=null,Te=G;if(ae?(Te=ae,ae.startsWith("#som(")&&ae.endsWith(")")?Ie=ae.slice(5,-1):ae.startsWith(".#som(")&&ae.endsWith(")")?Ie=ae.slice(6,-1):ae.startsWith("#")?fe=ae.slice(1):ae.startsWith(".#")&&(fe=ae.slice(2))):G.startsWith("#")?fe=G.slice(1):Ie=G,this.use=this.usehref="",fe?ce=A.get(fe):(ce=(0,o.searchNode)(A.get(n.$root),this,Ie,!0,!1),ce&&(ce=ce[0])),!ce)return(0,U.warn)(`XFA - Invalid prototype reference: ${Te}.`),null;if(ce[n.$nodeName]!==this[n.$nodeName])return(0,U.warn)(`XFA - Incompatible prototype: ${ce[n.$nodeName]} !== ${this[n.$nodeName]}.`),null;if(E.has(ce))return(0,U.warn)("XFA - Cycle detected in prototypes use."),null;E.add(ce);const be=ce[F](A,E);return be&&ce[K](be,A,E),ce[n.$resolvePrototypes](A,E),E.delete(ce),ce}[K](A,E,G){if(G.has(A)){(0,U.warn)("XFA - Cycle detected in prototypes use.");return}!this[n.$content]&&A[n.$content]&&(this[n.$content]=A[n.$content]),new Set(G).add(A);for(const ce of this[P](A[Q]))this[ce]=A[ce],this[Q]&&this[Q].add(ce);for(const ce of Object.getOwnPropertyNames(this)){if(this[L].has(ce))continue;const Ie=this[ce],fe=A[ce];if(Ie instanceof b){for(const Te of Ie[O])Te[_](E,G);for(let Te=Ie[O].length,be=fe[O].length;Te<be;Te++){const ve=A[O][Te][n.$clone]();if(Ie.push(ve))ve[se]=this,this[O].push(ve),ve[_](E,G);else break}continue}if(Ie!==null){Ie[n.$resolvePrototypes](E,G),fe&&Ie[K](fe,E,G);continue}if(fe!==null){const Te=fe[n.$clone]();Te[se]=this,this[ce]=Te,this[O].push(Te),Te[_](E,G)}}}static[f](A){return Array.isArray(A)?A.map(E=>l[f](E)):typeof A=="object"&&A!==null?Object.assign({},A):A}[n.$clone](){const A=Object.create(Object.getPrototypeOf(this));for(const E of Object.getOwnPropertySymbols(this))try{A[E]=this[E]}catch{(0,U.shadow)(A,E,this[E])}A[n.$uid]=`${A[n.$nodeName]}${w++}`,A[O]=[];for(const E of Object.getOwnPropertyNames(this)){if(this[L].has(E)){A[E]=l[f](this[E]);continue}const G=this[E];A[E]=G instanceof b?new b(G[H]):null}for(const E of this[O]){const G=E[n.$nodeName],ae=E[n.$clone]();A[O].push(ae),ae[se]=A,A[G]===null?A[G]=ae:A[G][O].push(ae)}return A}[n.$getChildren](A=null){return A?this[O].filter(E=>E[n.$nodeName]===A):this[O]}[n.$getChildrenByClass](A){return this[A]}[n.$getChildrenByName](A,E,G=!0){return Array.from(this[n.$getChildrenByNameIt](A,E,G))}*[n.$getChildrenByNameIt](A,E,G=!0){if(A==="parent"){yield this[se];return}for(const ae of this[O])ae[n.$nodeName]===A&&(yield ae),ae.name===A&&(yield ae),(E||ae[n.$isTransparent]())&&(yield*ae[n.$getChildrenByNameIt](A,E,!1));G&&this[L].has(A)&&(yield new D(this,A,this[A]))}}h.XFAObject=l;class b{constructor(A=1/0){this[H]=A,this[O]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(A){return this[O].length<=this[H]?(this[O].push(A),!0):((0,U.warn)(`XFA - node "${A[n.$nodeName]}" accepts no more than ${this[H]} children`),!1)}isEmpty(){return this[O].length===0}dump(){return this[O].length===1?this[O][0][n.$dump]():this[O].map(A=>A[n.$dump]())}[n.$clone](){const A=new b(this[H]);return A[O]=this[O].map(E=>E[n.$clone]()),A}get children(){return this[O]}clear(){this[O].length=0}}h.XFAObjectArray=b;class D{constructor(A,E,G){this[se]=A,this[n.$nodeName]=E,this[n.$content]=G,this[n.$consumed]=!1,this[n.$uid]=`attribute${w++}`}[n.$getParent](){return this[se]}[n.$isDataValue](){return!0}[n.$getDataValue](){return this[n.$content].trim()}[n.$setValue](A){A=A.value||"",this[n.$content]=A.toString()}[n.$text](){return this[n.$content]}[n.$isDescendent](A){return this[se]===A||this[se][n.$isDescendent](A)}}h.XFAAttribute=D;class Z extends l{constructor(A,E,G={}){if(super(A,E),this[n.$content]="",this[p]=null,E!=="#text"){const ae=new Map;this[X]=ae;for(const[ce,Ie]of Object.entries(G))ae.set(ce,new D(this,ce,Ie));if(G.hasOwnProperty(n.$nsAttributes)){const ce=G[n.$nsAttributes].xfa.dataNode;ce!==void 0&&(ce==="dataGroup"?this[p]=!1:ce==="dataValue"&&(this[p]=!0))}}this[n.$consumed]=!1}[n.$toString](A){const E=this[n.$nodeName];if(E==="#text"){A.push((0,e.encodeToXmlString)(this[n.$content]));return}const G=(0,U.utf8StringToString)(E),ae=this[n.$namespaceId]===q?"xfa:":"";A.push(`<${ae}${G}`);for(const[ce,Ie]of this[X].entries()){const fe=(0,U.utf8StringToString)(ce);A.push(` ${fe}="${(0,e.encodeToXmlString)(Ie[n.$content])}"`)}if(this[p]!==null&&(this[p]?A.push(' xfa:dataNode="dataValue"'):A.push(' xfa:dataNode="dataGroup"')),!this[n.$content]&&this[O].length===0){A.push("/>");return}if(A.push(">"),this[n.$content])typeof this[n.$content]=="string"?A.push((0,e.encodeToXmlString)(this[n.$content])):this[n.$content][n.$toString](A);else for(const ce of this[O])ce[n.$toString](A);A.push(`</${ae}${G}>`)}[n.$onChild](A){if(this[n.$content]){const E=new Z(this[n.$namespaceId],"#text");this[n.$appendChild](E),E[n.$content]=this[n.$content],this[n.$content]=""}return this[n.$appendChild](A),!0}[n.$onText](A){this[n.$content]+=A}[n.$finalize](){if(this[n.$content]&&this[O].length>0){const A=new Z(this[n.$namespaceId],"#text");this[n.$appendChild](A),A[n.$content]=this[n.$content],delete this[n.$content]}}[n.$toHTML](){return this[n.$nodeName]==="#text"?x.HTMLResult.success({name:"#text",value:this[n.$content]}):x.HTMLResult.EMPTY}[n.$getChildren](A=null){return A?this[O].filter(E=>E[n.$nodeName]===A):this[O]}[n.$getAttributes](){return this[X]}[n.$getChildrenByClass](A){const E=this[X].get(A);return E!==void 0?E:this[n.$getChildren](A)}*[n.$getChildrenByNameIt](A,E){const G=this[X].get(A);G&&(yield G);for(const ae of this[O])ae[n.$nodeName]===A&&(yield ae),E&&(yield*ae[n.$getChildrenByNameIt](A,E))}*[n.$getAttributeIt](A,E){const G=this[X].get(A);G&&(!E||!G[n.$consumed])&&(yield G);for(const ae of this[O])yield*ae[n.$getAttributeIt](A,E)}*[n.$getRealChildrenByNameIt](A,E,G){for(const ae of this[O])ae[n.$nodeName]===A&&(!G||!ae[n.$consumed])&&(yield ae),E&&(yield*ae[n.$getRealChildrenByNameIt](A,E,G))}[n.$isDataValue](){return this[p]===null?this[O].length===0||this[O][0][n.$namespaceId]===t.NamespaceIds.xhtml.id:this[p]}[n.$getDataValue](){return this[p]===null?this[O].length===0?this[n.$content].trim():this[O][0][n.$namespaceId]===t.NamespaceIds.xhtml.id?this[O][0][n.$text]().trim():null:this[n.$content].trim()}[n.$setValue](A){A=A.value||"",this[n.$content]=A.toString()}[n.$dump](A=!1){const E=Object.create(null);A&&(E.$ns=this[n.$namespaceId]),this[n.$content]&&(E.$content=this[n.$content]),E.$name=this[n.$nodeName],E.children=[];for(const G of this[O])E.children.push(G[n.$dump](A));E.attributes=Object.create(null);for(const[G,ae]of this[X])E.attributes[G]=ae[n.$content];return E}}h.XmlObject=Z;class N extends l{constructor(A,E){super(A,E),this[n.$content]=""}[n.$onText](A){this[n.$content]+=A}[n.$finalize](){}}h.ContentObject=N;class v extends N{constructor(A,E,G){super(A,E),this[$]=G}[n.$finalize](){this[n.$content]=(0,x.getKeyword)({data:this[n.$content],defaultValue:this[$][0],validate:A=>this[$].includes(A)})}[n.$clean](A){super[n.$clean](A),delete this[$]}}h.OptionObject=v;class S extends N{[n.$finalize](){this[n.$content]=this[n.$content].trim()}}h.StringObject=S;class I extends N{constructor(A,E,G,ae){super(A,E),this[i]=G,this[d]=ae}[n.$finalize](){this[n.$content]=(0,x.getInteger)({data:this[n.$content],defaultValue:this[i],validate:this[d]})}[n.$clean](A){super[n.$clean](A),delete this[i],delete this[d]}}h.IntegerObject=I;class u extends I{constructor(A,E){super(A,E,0,G=>G===1)}}h.Option01=u;class y extends I{constructor(A,E){super(A,E,1,G=>G===0)}}h.Option10=y},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.createDataNode=f,h.searchNode=O;var n=re(78),x=re(2);const U=/^[^.[]+/,e=/^[^\]]+/,t={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},o=new Map([["$data",(p,i)=>p.datasets?p.datasets.data:p],["$record",(p,i)=>(p.datasets?p.datasets.data:p)[n.$getChildren]()[0]],["$template",(p,i)=>p.template],["$connectionSet",(p,i)=>p.connectionSet],["$form",(p,i)=>p.form],["$layout",(p,i)=>p.layout],["$host",(p,i)=>p.host],["$dataWindow",(p,i)=>p.dataWindow],["$event",(p,i)=>p.event],["!",(p,i)=>p.datasets],["$xfa",(p,i)=>p],["xfa",(p,i)=>p],["$",(p,i)=>i]]),K=new WeakMap;function X(p){return p=p.trim(),p==="*"?1/0:parseInt(p,10)||0}function L(p,i,T=!0){let F=p.match(U);if(!F)return null;let[P]=F;const C=[{name:P,cacheName:"."+P,index:0,js:null,formCalc:null,operator:t.dot}];let H=P.length;for(;H<p.length;){const $=H;if(p.charAt(H++)==="["){if(F=p.slice(H).match(e),!F)return(0,x.warn)("XFA - Invalid index in SOM expression"),null;C.at(-1).index=X(F[0]),H+=F[0].length+1;continue}let _;switch(p.charAt(H)){case".":if(!i)return null;H++,_=t.dotDot;break;case"#":H++,_=t.dotHash;break;case"[":if(T)return(0,x.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;_=t.dotBracket;break;case"(":if(T)return(0,x.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;_=t.dotParen;break;default:_=t.dot;break}if(F=p.slice(H).match(U),!F)break;[P]=F,H+=P.length,C.push({name:P,cacheName:p.slice($,H),operator:_,index:0,js:null,formCalc:null})}return C}function O(p,i,T,F=!0,P=!0){const C=L(T,F);if(!C)return null;const H=o.get(C[0].name);let $=0,se;H?(se=!0,p=[H(p,i)],$=1):(se=i===null,p=[i||p]);for(let _=C.length;$<_;$++){const{name:Q,cacheName:d,operator:w,index:q}=C[$],l=[];for(const b of p){if(!b.isXFAObject)continue;let D,Z;if(P&&(Z=K.get(b),Z||(Z=new Map,K.set(b,Z)),D=Z.get(d)),!D){switch(w){case t.dot:D=b[n.$getChildrenByName](Q,!1);break;case t.dotDot:D=b[n.$getChildrenByName](Q,!0);break;case t.dotHash:D=b[n.$getChildrenByClass](Q),D=D.isXFAObjectArray?D.children:[D];break}P&&Z.set(d,D)}D.length>0&&l.push(D)}if(l.length===0&&!se&&$===0){if(i=i[n.$getParent](),!i)return null;$=-1,p=[i];continue}p=isFinite(q)?l.filter(b=>q<b.length).map(b=>b[q]):l.flat()}return p.length===0?null:p}function f(p,i,T){const F=L(T);if(!F||F.some(H=>H.operator===t.dotDot))return null;const P=o.get(F[0].name);let C=0;P?(p=P(p,i),C=1):p=i||p;for(let H=F.length;C<H;C++){const{name:$,operator:se,index:_}=F[C];if(!isFinite(_))return F[C].index=0,p.createNodes(F.slice(C));let Q;switch(se){case t.dot:Q=p[n.$getChildrenByName]($,!1);break;case t.dotDot:Q=p[n.$getChildrenByName]($,!0);break;case t.dotHash:Q=p[n.$getChildrenByClass]($),Q=Q.isXFAObjectArray?Q.children:[Q];break}if(Q.length===0)return p.createNodes(F.slice(C));if(_<Q.length){const d=Q[_];if(!d.isXFAObject)return(0,x.warn)("XFA - Cannot create a node."),null;p=d}else return F[C].index=_-Q.length,p.createNodes(F.slice(C))}return null}},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DataHandler=void 0;var n=re(78);class x{constructor(e,t){this.data=t,this.dataset=e.datasets||null}serialize(e){const t=[[-1,this.data[n.$getChildren]()]];for(;t.length>0;){const K=t.at(-1),[X,L]=K;if(X+1===L.length){t.pop();continue}const O=L[++K[0]],f=e.get(O[n.$uid]);if(f)O[n.$setValue](f);else{const i=O[n.$getAttributes]();for(const T of i.values()){const F=e.get(T[n.$uid]);if(F){T[n.$setValue](F);break}}}const p=O[n.$getChildren]();p.length>0&&t.push([-1,p])}const o=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const K of this.dataset[n.$getChildren]())K[n.$nodeName]!=="data"&&K[n.$toString](o);return this.data[n.$toString](o),o.push("</xfa:datasets>"),o.join("")}}h.DataHandler=x},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XFAParser=void 0;var n=re(78),x=re(71),U=re(91),e=re(2);class t extends x.XMLParserBase{constructor(K=null,X=!1){super(),this._builder=new U.Builder(K),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=x.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=X}parse(K){if(this.parseXml(K),this._errorCode===x.XMLParserErrorCode.NoError)return this._current[n.$finalize](),this._current.element}onText(K){if(K=K.replace(this._nbsps,X=>X.slice(1)+" "),this._richText||this._current[n.$acceptWhitespace]()){this._current[n.$onText](K,this._richText);return}this._whiteRegex.test(K)||this._current[n.$onText](K.trim())}onCdata(K){this._current[n.$onText](K)}_mkAttributes(K,X){let L=null,O=null;const f=Object.create({});for(const{name:p,value:i}of K)if(p==="xmlns")L?(0,e.warn)(`XFA - multiple namespace definition in <${X}>`):L=i;else if(p.startsWith("xmlns:")){const T=p.substring(6);O||(O=[]),O.push({prefix:T,value:i})}else{const T=p.indexOf(":");if(T===-1)f[p]=i;else{let F=f[n.$nsAttributes];F||(F=f[n.$nsAttributes]=Object.create(null));const[P,C]=[p.slice(0,T),p.slice(T+1)],H=F[P]||(F[P]=Object.create(null));H[C]=i}}return[L,O,f]}_getNameAndPrefix(K,X){const L=K.indexOf(":");return L===-1?[K,null]:[K.substring(L+1),X?"":K.substring(0,L)]}onBeginElement(K,X,L){const[O,f,p]=this._mkAttributes(X,K),[i,T]=this._getNameAndPrefix(K,this._builder.isNsAgnostic()),F=this._builder.build({nsPrefix:T,name:i,attributes:p,namespace:O,prefixes:f});if(F[n.$globalData]=this._globalData,L){F[n.$finalize](),this._current[n.$onChild](F)&&F[n.$setId](this._ids),F[n.$clean](this._builder);return}this._stack.push(this._current),this._current=F}onEndElement(K){const X=this._current;if(X[n.$isCDATAXml]()&&typeof X[n.$content]=="string"){const L=new t;L._globalData=this._globalData;const O=L.parse(X[n.$content]);X[n.$content]=null,X[n.$onChild](O)}X[n.$finalize](),this._current=this._stack.pop(),this._current[n.$onChild](X)&&X[n.$setId](this._ids),X[n.$clean](this._builder)}onError(K){this._errorCode=K}}h.XFAParser=t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Builder=void 0;var n=re(81),x=re(78),U=re(92),e=re(80),t=re(101),o=re(2),K=re(87);class X extends K.XFAObject{constructor(p){super(-1,"root",Object.create(null)),this.element=null,this[x.$ids]=p}[x.$onChild](p){return this.element=p,!0}[x.$finalize](){super[x.$finalize](),this.element.template instanceof e.Template&&(this[x.$ids].set(x.$root,this.element),this.element.template[x.$resolvePrototypes](this[x.$ids]),this.element.template[x.$ids]=this[x.$ids])}}class L extends K.XFAObject{constructor(){super(-1,"",Object.create(null))}[x.$onChild](p){return!1}}class O{constructor(p=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(n.NamespaceIds).map(({id:i})=>i)),this._currentNamespace=p||new t.UnknownNamespace(++this._nextNsId)}buildRoot(p){return new X(p)}build({nsPrefix:p,name:i,attributes:T,namespace:F,prefixes:P}){const C=F!==null;if(C&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(F)),P&&this._addNamespacePrefix(P),T.hasOwnProperty(x.$nsAttributes)){const se=U.NamespaceSetUp.datasets,_=T[x.$nsAttributes];let Q=null;for(const[d,w]of Object.entries(_))if(this._getNamespaceToUse(d)===se){Q={xfa:w};break}Q?T[x.$nsAttributes]=Q:delete T[x.$nsAttributes]}const H=this._getNamespaceToUse(p),$=(H==null?void 0:H[n.$buildXFAObject](i,T))||new L;return $[x.$isNsAgnostic]()&&this._nsAgnosticLevel++,(C||P||$[x.$isNsAgnostic]())&&($[x.$cleanup]={hasNamespace:C,prefixes:P,nsAgnostic:$[x.$isNsAgnostic]()}),$}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(p){let i=this._namespaces.get(p);if(i)return i;for(const[T,{check:F}]of Object.entries(n.NamespaceIds))if(F(p)){if(i=U.NamespaceSetUp[T],i)return this._namespaces.set(p,i),i;break}return i=new t.UnknownNamespace(++this._nextNsId),this._namespaces.set(p,i),i}_addNamespacePrefix(p){for(const{prefix:i,value:T}of p){const F=this._searchNamespace(T);let P=this._namespacePrefixes.get(i);P||(P=[],this._namespacePrefixes.set(i,P)),P.push(F)}}_getNamespaceToUse(p){if(!p)return this._currentNamespace;const i=this._namespacePrefixes.get(p);return(i==null?void 0:i.length)>0?i.at(-1):((0,o.warn)(`Unknown namespace prefix: ${p}.`),null)}clean(p){const{hasNamespace:i,prefixes:T,nsAgnostic:F}=p;i&&(this._currentNamespace=this._namespaceStack.pop()),T&&T.forEach(({prefix:P})=>{this._namespacePrefixes.get(P).pop()}),F&&this._nsAgnosticLevel--}}h.Builder=O},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NamespaceSetUp=void 0;var n=re(93),x=re(94),U=re(95),e=re(96),t=re(97),o=re(98),K=re(80),X=re(99),L=re(100);const O={config:n.ConfigNamespace,connection:x.ConnectionSetNamespace,datasets:U.DatasetsNamespace,localeSet:e.LocaleSetNamespace,signature:t.SignatureNamespace,stylesheet:o.StylesheetNamespace,template:K.TemplateNamespace,xdp:X.XdpNamespace,xhtml:L.XhtmlNamespace};h.NamespaceSetUp=O},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ConfigNamespace=void 0;var n=re(81),x=re(78),U=re(87),e=re(84),t=re(2);const o=n.NamespaceIds.config.id;class K extends U.XFAObject{constructor(Be){super(o,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new U.XFAObjectArray}}class X extends U.XFAObject{constructor(Be){super(o,"acrobat7",!0),this.dynamicRender=null}}class L extends U.OptionObject{constructor(Be){super(o,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class O extends U.OptionObject{constructor(Be){super(o,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class f extends U.Option01{constructor(Be){super(o,"addSilentPrint")}}class p extends U.Option01{constructor(Be){super(o,"addViewerPreferences")}}class i extends U.Option10{constructor(Be){super(o,"adjustData")}}class T extends U.IntegerObject{constructor(Be){super(o,"adobeExtensionLevel",0,Bt=>Bt>=1&&Bt<=8)}}class F extends U.XFAObject{constructor(Be){super(o,"agent",!0),this.name=Be.name?Be.name.trim():"",this.common=new U.XFAObjectArray}}class P extends U.ContentObject{constructor(Be){super(o,"alwaysEmbed")}}class C extends U.StringObject{constructor(Be){super(o,"amd")}}class H extends U.XFAObject{constructor(Be){super(o,"area"),this.level=(0,e.getInteger)({data:Be.level,defaultValue:0,validate:Bt=>Bt>=1&&Bt<=3}),this.name=(0,e.getStringOption)(Be.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class $ extends U.OptionObject{constructor(Be){super(o,"attributes",["preserve","delegate","ignore"])}}class se extends U.OptionObject{constructor(Be){super(o,"autoSave",["disabled","enabled"])}}class _ extends U.StringObject{constructor(Be){super(o,"base")}}class Q extends U.XFAObject{constructor(Be){super(o,"batchOutput"),this.format=(0,e.getStringOption)(Be.format,["none","concat","zip","zipCompress"])}}class d extends U.ContentObject{constructor(Be){super(o,"behaviorOverride")}[x.$finalize](){this[x.$content]=new Map(this[x.$content].trim().split(/\s+/).filter(Be=>Be.includes(":")).map(Be=>Be.split(":",2)))}}class w extends U.XFAObject{constructor(Be){super(o,"cache",!0),this.templateCache=null}}class q extends U.Option01{constructor(Be){super(o,"change")}}class l extends U.XFAObject{constructor(Be){super(o,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new U.XFAObjectArray}}class b extends U.XFAObject{constructor(Be){super(o,"compress"),this.scope=(0,e.getStringOption)(Be.scope,["imageOnly","document"])}}class D extends U.Option01{constructor(Be){super(o,"compressLogicalStructure")}}class Z extends U.Option10{constructor(Be){super(o,"compressObjectStream")}}class N extends U.XFAObject{constructor(Be){super(o,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class v extends U.XFAObject{constructor(Be){super(o,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new U.XFAObjectArray}}class S extends U.OptionObject{constructor(Be){super(o,"conformance",["A","B"])}}class I extends U.Option01{constructor(Be){super(o,"contentCopy")}}class u extends U.IntegerObject{constructor(Be){super(o,"copies",1,Bt=>Bt>=1)}}class y extends U.StringObject{constructor(Be){super(o,"creator")}}class r extends U.IntegerObject{constructor(Be){super(o,"currentPage",0,Bt=>Bt>=0)}}class A extends U.XFAObject{constructor(Be){super(o,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new U.XFAObjectArray,this.transform=new U.XFAObjectArray}}class E extends U.XFAObject{constructor(Be){super(o,"debug",!0),this.uri=null}}class G extends U.ContentObject{constructor(Be){super(o,"defaultTypeface"),this.writingScript=(0,e.getStringOption)(Be.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class ae extends U.OptionObject{constructor(Be){super(o,"destination",["pdf","pcl","ps","webClient","zpl"])}}class ce extends U.Option01{constructor(Be){super(o,"documentAssembly")}}class Ie extends U.XFAObject{constructor(Be){super(o,"driver",!0),this.name=Be.name?Be.name.trim():"",this.fontInfo=null,this.xdc=null}}class fe extends U.OptionObject{constructor(Be){super(o,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class Te extends U.OptionObject{constructor(Be){super(o,"dynamicRender",["forbidden","required"])}}class be extends U.Option01{constructor(Be){super(o,"embed")}}class ve extends U.Option01{constructor(Be){super(o,"encrypt")}}class te extends U.XFAObject{constructor(Be){super(o,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class ie extends U.OptionObject{constructor(Be){super(o,"encryptionLevel",["40bit","128bit"])}}class ge extends U.StringObject{constructor(Be){super(o,"enforce")}}class he extends U.XFAObject{constructor(Be){super(o,"equate"),this.force=(0,e.getInteger)({data:Be.force,defaultValue:1,validate:Bt=>Bt===0}),this.from=Be.from||"",this.to=Be.to||""}}class ue extends U.XFAObject{constructor(Be){super(o,"equateRange"),this.from=Be.from||"",this.to=Be.to||"",this._unicodeRange=Be.unicodeRange||""}get unicodeRange(){const Be=[],Bt=/U\+([0-9a-fA-F]+)/,Nt=this._unicodeRange;for(let Vt of Nt.split(",").map(Zn=>Zn.trim()).filter(Zn=>!!Zn))Vt=Vt.split("-",2).map(Zn=>{const Oi=Zn.match(Bt);return Oi?parseInt(Oi[1],16):0}),Vt.length===1&&Vt.push(Vt[0]),Be.push(Vt);return(0,t.shadow)(this,"unicodeRange",Be)}}class we extends U.ContentObject{constructor(Be){super(o,"exclude")}[x.$finalize](){this[x.$content]=this[x.$content].trim().split(/\s+/).filter(Be=>Be&&["calculate","close","enter","exit","initialize","ready","validate"].includes(Be))}}class Ce extends U.StringObject{constructor(Be){super(o,"excludeNS")}}class le extends U.OptionObject{constructor(Be){super(o,"flipLabel",["usePrinterSetting","on","off"])}}class ke extends U.XFAObject{constructor(Be){super(o,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new U.XFAObjectArray,this.defaultTypeface=new U.XFAObjectArray,this.neverEmbed=new U.XFAObjectArray}}class Fe extends U.Option01{constructor(Be){super(o,"formFieldFilling")}}class de extends U.StringObject{constructor(Be){super(o,"groupParent")}}class Ee extends U.OptionObject{constructor(Be){super(o,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class Oe extends U.StringObject{constructor(Be){super(o,"includeXDPContent")}}class Ne extends U.OptionObject{constructor(Be){super(o,"incrementalLoad",["none","forwardOnly"])}}class et extends U.Option01{constructor(Be){super(o,"incrementalMerge")}}class rt extends U.Option01{constructor(Be){super(o,"interactive")}}class Ge extends U.OptionObject{constructor(Be){super(o,"jog",["usePrinterSetting","none","pageSet"])}}class je extends U.XFAObject{constructor(Be){super(o,"labelPrinter",!0),this.name=(0,e.getStringOption)(Be.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class $e extends U.OptionObject{constructor(Be){super(o,"layout",["paginate","panel"])}}class ze extends U.IntegerObject{constructor(Be){super(o,"level",0,Bt=>Bt>0)}}class at extends U.Option01{constructor(Be){super(o,"linearized")}}class mt extends U.StringObject{constructor(Be){super(o,"locale")}}class At extends U.StringObject{constructor(Be){super(o,"localeSet")}}class Qe extends U.XFAObject{constructor(Be){super(o,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Ke extends U.XFAObject{constructor(Be){super(o,"map",!0),this.equate=new U.XFAObjectArray,this.equateRange=new U.XFAObjectArray}}class pt extends U.XFAObject{constructor(Be){super(o,"mediumInfo",!0),this.map=null}}class st extends U.XFAObject{constructor(Be){super(o,"message",!0),this.msgId=null,this.severity=null}}class St extends U.XFAObject{constructor(Be){super(o,"messaging",!0),this.message=new U.XFAObjectArray}}class kt extends U.OptionObject{constructor(Be){super(o,"mode",["append","overwrite"])}}class zn extends U.Option01{constructor(Be){super(o,"modifyAnnots")}}class ft extends U.IntegerObject{constructor(Be){super(o,"msgId",1,Bt=>Bt>=1)}}class en extends U.StringObject{constructor(Be){super(o,"nameAttr")}}class Xt extends U.ContentObject{constructor(Be){super(o,"neverEmbed")}}class Ve extends U.IntegerObject{constructor(Be){super(o,"numberOfCopies",null,Bt=>Bt>=2&&Bt<=5)}}class Re extends U.XFAObject{constructor(Be){super(o,"openAction",!0),this.destination=null}}class qe extends U.XFAObject{constructor(Be){super(o,"output",!0),this.to=null,this.type=null,this.uri=null}}class Ze extends U.StringObject{constructor(Be){super(o,"outputBin")}}class lt extends U.XFAObject{constructor(Be){super(o,"outputXSL",!0),this.uri=null}}class gt extends U.OptionObject{constructor(Be){super(o,"overprint",["none","both","draw","field"])}}class xt extends U.StringObject{constructor(Be){super(o,"packets")}[x.$finalize](){this[x.$content]!=="*"&&(this[x.$content]=this[x.$content].trim().split(/\s+/).filter(Be=>["config","datasets","template","xfdf","xslt"].includes(Be)))}}class jt extends U.XFAObject{constructor(Be){super(o,"pageOffset"),this.x=(0,e.getInteger)({data:Be.x,defaultValue:"useXDCSetting",validate:Bt=>!0}),this.y=(0,e.getInteger)({data:Be.y,defaultValue:"useXDCSetting",validate:Bt=>!0})}}class Mt extends U.StringObject{constructor(Be){super(o,"pageRange")}[x.$finalize](){const Be=this[x.$content].trim().split(/\s+/).map(Nt=>parseInt(Nt,10)),Bt=[];for(let Nt=0,Vt=Be.length;Nt<Vt;Nt+=2)Bt.push(Be.slice(Nt,Nt+2));this[x.$content]=Bt}}class Dt extends U.OptionObject{constructor(Be){super(o,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Kt extends U.OptionObject{constructor(Be){super(o,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Wt extends U.IntegerObject{constructor(Be){super(o,"part",1,Bt=>!1)}}class Zt extends U.XFAObject{constructor(Be){super(o,"pcl",!0),this.name=Be.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class qn extends U.XFAObject{constructor(Be){super(o,"pdf",!0),this.name=Be.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class Hn extends U.XFAObject{constructor(Be){super(o,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class $i extends U.XFAObject{constructor(Be){super(o,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class hr extends U.Option01{constructor(Be){super(o,"pickTrayByPDFSize")}}class Lt extends U.StringObject{constructor(Be){super(o,"picture")}}class Ot extends U.Option01{constructor(Be){super(o,"plaintextMetadata")}}class Gt extends U.OptionObject{constructor(Be){super(o,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class zt extends U.XFAObject{constructor(Be){super(o,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new U.XFAObjectArray,this.labelPrinter=new U.XFAObjectArray,this.pcl=new U.XFAObjectArray,this.pdf=new U.XFAObjectArray,this.ps=new U.XFAObjectArray,this.submitUrl=new U.XFAObjectArray,this.webClient=new U.XFAObjectArray,this.zpl=new U.XFAObjectArray}}class $n extends U.Option01{constructor(Be){super(o,"print")}}class Di extends U.Option01{constructor(Be){super(o,"printHighQuality")}}class jn extends U.OptionObject{constructor(Be){super(o,"printScaling",["appdefault","noScaling"])}}class Yt extends U.StringObject{constructor(Be){super(o,"printerName")}}class Pi extends U.StringObject{constructor(Be){super(o,"producer")}}class Vi extends U.XFAObject{constructor(Be){super(o,"ps",!0),this.name=Be.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class gr extends U.ContentObject{constructor(Be){super(o,"range")}[x.$finalize](){this[x.$content]=this[x.$content].trim().split(/\s*,\s*/,2).map(Be=>Be.split("-").map(Bt=>parseInt(Bt.trim(),10))).filter(Be=>Be.every(Bt=>!isNaN(Bt))).map(Be=>(Be.length===1&&Be.push(Be[0]),Be))}}class Gi extends U.ContentObject{constructor(Be){super(o,"record")}[x.$finalize](){this[x.$content]=this[x.$content].trim();const Be=parseInt(this[x.$content],10);!isNaN(Be)&&Be>=0&&(this[x.$content]=Be)}}class zi extends U.ContentObject{constructor(Be){super(o,"relevant")}[x.$finalize](){this[x.$content]=this[x.$content].trim().split(/\s+/)}}class dr extends U.ContentObject{constructor(Be){super(o,"rename")}[x.$finalize](){this[x.$content]=this[x.$content].trim(),(this[x.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[x.$content]))&&(0,t.warn)("XFA - Rename: invalid XFA name")}}class _i extends U.OptionObject{constructor(Be){super(o,"renderPolicy",["server","client"])}}class Wi extends U.OptionObject{constructor(Be){super(o,"runScripts",["both","client","none","server"])}}class xi extends U.XFAObject{constructor(Be){super(o,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class ur extends U.OptionObject{constructor(Be){super(o,"scriptModel",["XFA","none"])}}class Yi extends U.OptionObject{constructor(Be){super(o,"severity",["ignore","error","information","trace","warning"])}}class Nr extends U.XFAObject{constructor(Be){super(o,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Ji extends U.XFAObject{constructor(Be){super(o,"staple"),this.mode=(0,e.getStringOption)(Be.mode,["usePrinterSetting","on","off"])}}class rr extends U.StringObject{constructor(Be){super(o,"startNode")}}class vr extends U.IntegerObject{constructor(Be){super(o,"startPage",0,Bt=>!0)}}class Or extends U.OptionObject{constructor(Be){super(o,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class zr extends U.StringObject{constructor(Be){super(o,"submitUrl")}}class ys extends U.IntegerObject{constructor(Be){super(o,"subsetBelow",100,Bt=>Bt>=0&&Bt<=100)}}class Qa extends U.Option01{constructor(Be){super(o,"suppressBanner")}}class Is extends U.Option01{constructor(Be){super(o,"tagged")}}class eo extends U.XFAObject{constructor(Be){super(o,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Zs extends U.OptionObject{constructor(Be){super(o,"threshold",["trace","error","information","warning"])}}class to extends U.OptionObject{constructor(Be){super(o,"to",["null","memory","stderr","stdout","system","uri"])}}class ea extends U.XFAObject{constructor(Be){super(o,"templateCache"),this.maxEntries=(0,e.getInteger)({data:Be.maxEntries,defaultValue:5,validate:Bt=>Bt>=0})}}class Ts extends U.XFAObject{constructor(Be){super(o,"trace",!0),this.area=new U.XFAObjectArray}}class Hs extends U.XFAObject{constructor(Be){super(o,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class ds extends U.OptionObject{constructor(Be){super(o,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class no extends U.StringObject{constructor(Be){super(o,"uri")}}class $s extends U.OptionObject{constructor(Be){super(o,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class ta extends U.ContentObject{constructor(Be){super(o,"validateApprovalSignatures")}[x.$finalize](){this[x.$content]=this[x.$content].trim().split(/\s+/).filter(Be=>["docReady","postSign"].includes(Be))}}class gs extends U.OptionObject{constructor(Be){super(o,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class io extends U.OptionObject{constructor(Be){super(o,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class ro extends U.XFAObject{constructor(Be){super(o,"VersionControl"),this.outputBelow=(0,e.getStringOption)(Be.outputBelow,["warn","error","update"]),this.sourceAbove=(0,e.getStringOption)(Be.sourceAbove,["warn","error"]),this.sourceBelow=(0,e.getStringOption)(Be.sourceBelow,["update","maintain"])}}class so extends U.XFAObject{constructor(Be){super(o,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class ao extends U.XFAObject{constructor(Be){super(o,"webClient",!0),this.name=Be.name?Be.name.trim():"",this.fontInfo=null,this.xdc=null}}class oo extends U.OptionObject{constructor(Be){super(o,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class js extends U.ContentObject{constructor(Be){super(o,"window")}[x.$finalize](){const Be=this[x.$content].trim().split(/\s*,\s*/,2).map(Bt=>parseInt(Bt,10));if(Be.some(Bt=>isNaN(Bt))){this[x.$content]=[0,0];return}Be.length===1&&Be.push(Be[0]),this[x.$content]=Be}}class ts extends U.XFAObject{constructor(Be){super(o,"xdc",!0),this.uri=new U.XFAObjectArray,this.xsl=new U.XFAObjectArray}}class Bs extends U.XFAObject{constructor(Be){super(o,"xdp",!0),this.packets=null}}class na extends U.XFAObject{constructor(Be){super(o,"xsl",!0),this.debug=null,this.uri=null}}class Cs extends U.XFAObject{constructor(Be){super(o,"zpl",!0),this.name=Be.name?Be.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class _t{static[n.$buildXFAObject](Be,Bt){if(_t.hasOwnProperty(Be))return _t[Be](Bt)}static acrobat(Be){return new K(Be)}static acrobat7(Be){return new X(Be)}static ADBE_JSConsole(Be){return new L(Be)}static ADBE_JSDebugger(Be){return new O(Be)}static addSilentPrint(Be){return new f(Be)}static addViewerPreferences(Be){return new p(Be)}static adjustData(Be){return new i(Be)}static adobeExtensionLevel(Be){return new T(Be)}static agent(Be){return new F(Be)}static alwaysEmbed(Be){return new P(Be)}static amd(Be){return new C(Be)}static area(Be){return new H(Be)}static attributes(Be){return new $(Be)}static autoSave(Be){return new se(Be)}static base(Be){return new _(Be)}static batchOutput(Be){return new Q(Be)}static behaviorOverride(Be){return new d(Be)}static cache(Be){return new w(Be)}static change(Be){return new q(Be)}static common(Be){return new l(Be)}static compress(Be){return new b(Be)}static compressLogicalStructure(Be){return new D(Be)}static compressObjectStream(Be){return new Z(Be)}static compression(Be){return new N(Be)}static config(Be){return new v(Be)}static conformance(Be){return new S(Be)}static contentCopy(Be){return new I(Be)}static copies(Be){return new u(Be)}static creator(Be){return new y(Be)}static currentPage(Be){return new r(Be)}static data(Be){return new A(Be)}static debug(Be){return new E(Be)}static defaultTypeface(Be){return new G(Be)}static destination(Be){return new ae(Be)}static documentAssembly(Be){return new ce(Be)}static driver(Be){return new Ie(Be)}static duplexOption(Be){return new fe(Be)}static dynamicRender(Be){return new Te(Be)}static embed(Be){return new be(Be)}static encrypt(Be){return new ve(Be)}static encryption(Be){return new te(Be)}static encryptionLevel(Be){return new ie(Be)}static enforce(Be){return new ge(Be)}static equate(Be){return new he(Be)}static equateRange(Be){return new ue(Be)}static exclude(Be){return new we(Be)}static excludeNS(Be){return new Ce(Be)}static flipLabel(Be){return new le(Be)}static fontInfo(Be){return new ke(Be)}static formFieldFilling(Be){return new Fe(Be)}static groupParent(Be){return new de(Be)}static ifEmpty(Be){return new Ee(Be)}static includeXDPContent(Be){return new Oe(Be)}static incrementalLoad(Be){return new Ne(Be)}static incrementalMerge(Be){return new et(Be)}static interactive(Be){return new rt(Be)}static jog(Be){return new Ge(Be)}static labelPrinter(Be){return new je(Be)}static layout(Be){return new $e(Be)}static level(Be){return new ze(Be)}static linearized(Be){return new at(Be)}static locale(Be){return new mt(Be)}static localeSet(Be){return new At(Be)}static log(Be){return new Qe(Be)}static map(Be){return new Ke(Be)}static mediumInfo(Be){return new pt(Be)}static message(Be){return new st(Be)}static messaging(Be){return new St(Be)}static mode(Be){return new kt(Be)}static modifyAnnots(Be){return new zn(Be)}static msgId(Be){return new ft(Be)}static nameAttr(Be){return new en(Be)}static neverEmbed(Be){return new Xt(Be)}static numberOfCopies(Be){return new Ve(Be)}static openAction(Be){return new Re(Be)}static output(Be){return new qe(Be)}static outputBin(Be){return new Ze(Be)}static outputXSL(Be){return new lt(Be)}static overprint(Be){return new gt(Be)}static packets(Be){return new xt(Be)}static pageOffset(Be){return new jt(Be)}static pageRange(Be){return new Mt(Be)}static pagination(Be){return new Dt(Be)}static paginationOverride(Be){return new Kt(Be)}static part(Be){return new Wt(Be)}static pcl(Be){return new Zt(Be)}static pdf(Be){return new qn(Be)}static pdfa(Be){return new Hn(Be)}static permissions(Be){return new $i(Be)}static pickTrayByPDFSize(Be){return new hr(Be)}static picture(Be){return new Lt(Be)}static plaintextMetadata(Be){return new Ot(Be)}static presence(Be){return new Gt(Be)}static present(Be){return new zt(Be)}static print(Be){return new $n(Be)}static printHighQuality(Be){return new Di(Be)}static printScaling(Be){return new jn(Be)}static printerName(Be){return new Yt(Be)}static producer(Be){return new Pi(Be)}static ps(Be){return new Vi(Be)}static range(Be){return new gr(Be)}static record(Be){return new Gi(Be)}static relevant(Be){return new zi(Be)}static rename(Be){return new dr(Be)}static renderPolicy(Be){return new _i(Be)}static runScripts(Be){return new Wi(Be)}static script(Be){return new xi(Be)}static scriptModel(Be){return new ur(Be)}static severity(Be){return new Yi(Be)}static silentPrint(Be){return new Nr(Be)}static staple(Be){return new Ji(Be)}static startNode(Be){return new rr(Be)}static startPage(Be){return new vr(Be)}static submitFormat(Be){return new Or(Be)}static submitUrl(Be){return new zr(Be)}static subsetBelow(Be){return new ys(Be)}static suppressBanner(Be){return new Qa(Be)}static tagged(Be){return new Is(Be)}static template(Be){return new eo(Be)}static templateCache(Be){return new ea(Be)}static threshold(Be){return new Zs(Be)}static to(Be){return new to(Be)}static trace(Be){return new Ts(Be)}static transform(Be){return new Hs(Be)}static type(Be){return new ds(Be)}static uri(Be){return new no(Be)}static validate(Be){return new $s(Be)}static validateApprovalSignatures(Be){return new ta(Be)}static validationMessaging(Be){return new gs(Be)}static version(Be){return new io(Be)}static versionControl(Be){return new ro(Be)}static viewerPreferences(Be){return new so(Be)}static webClient(Be){return new ao(Be)}static whitespace(Be){return new oo(Be)}static window(Be){return new js(Be)}static xdc(Be){return new ts(Be)}static xdp(Be){return new Bs(Be)}static xsl(Be){return new na(Be)}static zpl(Be){return new Cs(Be)}}h.ConfigNamespace=_t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ConnectionSetNamespace=void 0;var n=re(81),x=re(87);const U=n.NamespaceIds.connectionSet.id;class e extends x.XFAObject{constructor(H){super(U,"connectionSet",!0),this.wsdlConnection=new x.XFAObjectArray,this.xmlConnection=new x.XFAObjectArray,this.xsdConnection=new x.XFAObjectArray}}class t extends x.XFAObject{constructor(H){super(U,"effectiveInputPolicy"),this.id=H.id||"",this.name=H.name||"",this.use=H.use||"",this.usehref=H.usehref||""}}class o extends x.XFAObject{constructor(H){super(U,"effectiveOutputPolicy"),this.id=H.id||"",this.name=H.name||"",this.use=H.use||"",this.usehref=H.usehref||""}}class K extends x.StringObject{constructor(H){super(U,"operation"),this.id=H.id||"",this.input=H.input||"",this.name=H.name||"",this.output=H.output||"",this.use=H.use||"",this.usehref=H.usehref||""}}class X extends x.StringObject{constructor(H){super(U,"rootElement"),this.id=H.id||"",this.name=H.name||"",this.use=H.use||"",this.usehref=H.usehref||""}}class L extends x.StringObject{constructor(H){super(U,"soapAction"),this.id=H.id||"",this.name=H.name||"",this.use=H.use||"",this.usehref=H.usehref||""}}class O extends x.StringObject{constructor(H){super(U,"soapAddress"),this.id=H.id||"",this.name=H.name||"",this.use=H.use||"",this.usehref=H.usehref||""}}class f extends x.StringObject{constructor(H){super(U,"uri"),this.id=H.id||"",this.name=H.name||"",this.use=H.use||"",this.usehref=H.usehref||""}}class p extends x.StringObject{constructor(H){super(U,"wsdlAddress"),this.id=H.id||"",this.name=H.name||"",this.use=H.use||"",this.usehref=H.usehref||""}}class i extends x.XFAObject{constructor(H){super(U,"wsdlConnection",!0),this.dataDescription=H.dataDescription||"",this.name=H.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class T extends x.XFAObject{constructor(H){super(U,"xmlConnection",!0),this.dataDescription=H.dataDescription||"",this.name=H.name||"",this.uri=null}}class F extends x.XFAObject{constructor(H){super(U,"xsdConnection",!0),this.dataDescription=H.dataDescription||"",this.name=H.name||"",this.rootElement=null,this.uri=null}}class P{static[n.$buildXFAObject](H,$){if(P.hasOwnProperty(H))return P[H]($)}static connectionSet(H){return new e(H)}static effectiveInputPolicy(H){return new t(H)}static effectiveOutputPolicy(H){return new o(H)}static operation(H){return new K(H)}static rootElement(H){return new X(H)}static soapAction(H){return new L(H)}static soapAddress(H){return new O(H)}static uri(H){return new f(H)}static wsdlAddress(H){return new p(H)}static wsdlConnection(H){return new i(H)}static xmlConnection(H){return new T(H)}static xsdConnection(H){return new F(H)}}h.ConnectionSetNamespace=P},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DatasetsNamespace=void 0;var n=re(78),x=re(81),U=re(87);const e=x.NamespaceIds.datasets.id;class t extends U.XmlObject{constructor(L){super(e,"data",L)}[n.$isNsAgnostic](){return!0}}class o extends U.XFAObject{constructor(L){super(e,"datasets",!0),this.data=null,this.Signature=null}[n.$onChild](L){const O=L[n.$nodeName];(O==="data"&&L[n.$namespaceId]===e||O==="Signature"&&L[n.$namespaceId]===x.NamespaceIds.signature.id)&&(this[O]=L),this[n.$appendChild](L)}}class K{static[x.$buildXFAObject](L,O){if(K.hasOwnProperty(L))return K[L](O)}static datasets(L){return new o(L)}static data(L){return new t(L)}}h.DatasetsNamespace=K},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.LocaleSetNamespace=void 0;var n=re(81),x=re(87),U=re(84);const e=n.NamespaceIds.localeSet.id;class t extends x.XFAObject{constructor(v){super(e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new x.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new x.XFAObjectArray(2)}}class o extends x.StringObject{constructor(v){super(e,"currencySymbol"),this.name=(0,U.getStringOption)(v.name,["symbol","isoname","decimal"])}}class K extends x.XFAObject{constructor(v){super(e,"currencySymbols",!0),this.currencySymbol=new x.XFAObjectArray(3)}}class X extends x.StringObject{constructor(v){super(e,"datePattern"),this.name=(0,U.getStringOption)(v.name,["full","long","med","short"])}}class L extends x.XFAObject{constructor(v){super(e,"datePatterns",!0),this.datePattern=new x.XFAObjectArray(4)}}class O extends x.ContentObject{constructor(v){super(e,"dateTimeSymbols")}}class f extends x.StringObject{constructor(v){super(e,"day")}}class p extends x.XFAObject{constructor(v){super(e,"dayNames",!0),this.abbr=(0,U.getInteger)({data:v.abbr,defaultValue:0,validate:S=>S===1}),this.day=new x.XFAObjectArray(7)}}class i extends x.StringObject{constructor(v){super(e,"era")}}class T extends x.XFAObject{constructor(v){super(e,"eraNames",!0),this.era=new x.XFAObjectArray(2)}}class F extends x.XFAObject{constructor(v){super(e,"locale",!0),this.desc=v.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class P extends x.XFAObject{constructor(v){super(e,"localeSet",!0),this.locale=new x.XFAObjectArray}}class C extends x.StringObject{constructor(v){super(e,"meridiem")}}class H extends x.XFAObject{constructor(v){super(e,"meridiemNames",!0),this.meridiem=new x.XFAObjectArray(2)}}class $ extends x.StringObject{constructor(v){super(e,"month")}}class se extends x.XFAObject{constructor(v){super(e,"monthNames",!0),this.abbr=(0,U.getInteger)({data:v.abbr,defaultValue:0,validate:S=>S===1}),this.month=new x.XFAObjectArray(12)}}class _ extends x.StringObject{constructor(v){super(e,"numberPattern"),this.name=(0,U.getStringOption)(v.name,["full","long","med","short"])}}class Q extends x.XFAObject{constructor(v){super(e,"numberPatterns",!0),this.numberPattern=new x.XFAObjectArray(4)}}class d extends x.StringObject{constructor(v){super(e,"numberSymbol"),this.name=(0,U.getStringOption)(v.name,["decimal","grouping","percent","minus","zero"])}}class w extends x.XFAObject{constructor(v){super(e,"numberSymbols",!0),this.numberSymbol=new x.XFAObjectArray(5)}}class q extends x.StringObject{constructor(v){super(e,"timePattern"),this.name=(0,U.getStringOption)(v.name,["full","long","med","short"])}}class l extends x.XFAObject{constructor(v){super(e,"timePatterns",!0),this.timePattern=new x.XFAObjectArray(4)}}class b extends x.XFAObject{constructor(v){super(e,"typeFace",!0),this.name=v.name|""}}class D extends x.XFAObject{constructor(v){super(e,"typeFaces",!0),this.typeFace=new x.XFAObjectArray}}class Z{static[n.$buildXFAObject](v,S){if(Z.hasOwnProperty(v))return Z[v](S)}static calendarSymbols(v){return new t(v)}static currencySymbol(v){return new o(v)}static currencySymbols(v){return new K(v)}static datePattern(v){return new X(v)}static datePatterns(v){return new L(v)}static dateTimeSymbols(v){return new O(v)}static day(v){return new f(v)}static dayNames(v){return new p(v)}static era(v){return new i(v)}static eraNames(v){return new T(v)}static locale(v){return new F(v)}static localeSet(v){return new P(v)}static meridiem(v){return new C(v)}static meridiemNames(v){return new H(v)}static month(v){return new $(v)}static monthNames(v){return new se(v)}static numberPattern(v){return new _(v)}static numberPatterns(v){return new Q(v)}static numberSymbol(v){return new d(v)}static numberSymbols(v){return new w(v)}static timePattern(v){return new q(v)}static timePatterns(v){return new l(v)}static typeFace(v){return new b(v)}static typeFaces(v){return new D(v)}}h.LocaleSetNamespace=Z},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SignatureNamespace=void 0;var n=re(81),x=re(87);const U=n.NamespaceIds.signature.id;class e extends x.XFAObject{constructor(K){super(U,"signature",!0)}}class t{static[n.$buildXFAObject](K,X){if(t.hasOwnProperty(K))return t[K](X)}static signature(K){return new e(K)}}h.SignatureNamespace=t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StylesheetNamespace=void 0;var n=re(81),x=re(87);const U=n.NamespaceIds.stylesheet.id;class e extends x.XFAObject{constructor(K){super(U,"stylesheet",!0)}}class t{static[n.$buildXFAObject](K,X){if(t.hasOwnProperty(K))return t[K](X)}static stylesheet(K){return new e(K)}}h.StylesheetNamespace=t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XdpNamespace=void 0;var n=re(81),x=re(78),U=re(87);const e=n.NamespaceIds.xdp.id;class t extends U.XFAObject{constructor(X){super(e,"xdp",!0),this.uuid=X.uuid||"",this.timeStamp=X.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new U.XFAObjectArray,this.template=null}[x.$onChildCheck](X){const L=n.NamespaceIds[X[x.$nodeName]];return L&&X[x.$namespaceId]===L.id}}class o{static[n.$buildXFAObject](X,L){if(o.hasOwnProperty(X))return o[X](L)}static xdp(X){return new t(X)}}h.XdpNamespace=o},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XhtmlNamespace=void 0;var n=re(78),x=re(81),U=re(83),e=re(84),t=re(87);const o=x.NamespaceIds.xhtml.id,K=Symbol(),X=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),L=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",v=>v==="none"?"none":"normal"],["xfa-font-horizontal-scale",v=>`scaleX(${Math.max(0,Math.min(parseInt(v)/100)).toFixed(2)})`],["xfa-font-vertical-scale",v=>`scaleY(${Math.max(0,Math.min(parseInt(v)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(v,S)=>(v=S.fontSize=(0,e.getMeasurement)(v),(0,U.measureToString)(.99*v))],["letter-spacing",v=>(0,U.measureToString)((0,e.getMeasurement)(v))],["line-height",v=>(0,U.measureToString)((0,e.getMeasurement)(v))],["margin",v=>(0,U.measureToString)((0,e.getMeasurement)(v))],["margin-bottom",v=>(0,U.measureToString)((0,e.getMeasurement)(v))],["margin-left",v=>(0,U.measureToString)((0,e.getMeasurement)(v))],["margin-right",v=>(0,U.measureToString)((0,e.getMeasurement)(v))],["margin-top",v=>(0,U.measureToString)((0,e.getMeasurement)(v))],["text-indent",v=>(0,U.measureToString)((0,e.getMeasurement)(v))],["font-family",v=>v],["vertical-align",v=>(0,U.measureToString)((0,e.getMeasurement)(v))]]),O=/\s+/g,f=/[\r\n]+/g,p=/\r\n?/g;function i(v,S,I){const u=Object.create(null);if(!v)return u;const y=Object.create(null);for(const[r,A]of v.split(";").map(E=>E.split(":",2))){const E=L.get(r);if(E==="")continue;let G=A;E&&(G=typeof E=="string"?E:E(A,y)),r.endsWith("scale")?u.transform=u.transform?`${u[r]} ${G}`:G:u[r.replaceAll(/-([a-zA-Z])/g,(ae,ce)=>ce.toUpperCase())]=G}if(u.fontFamily&&(0,U.setFontFamily)({typeface:u.fontFamily,weight:u.fontWeight||"normal",posture:u.fontStyle||"normal",size:y.fontSize||0},S,S[n.$globalData].fontFinder,u),I&&u.verticalAlign&&u.verticalAlign!=="0px"&&u.fontSize){const E=(0,e.getMeasurement)(u.fontSize);u.fontSize=(0,U.measureToString)(E*.583),u.verticalAlign=(0,U.measureToString)(Math.sign((0,e.getMeasurement)(u.verticalAlign))*E*.333)}return I&&u.fontSize&&(u.fontSize=`calc(${u.fontSize} * var(--scale-factor))`),(0,U.fixTextIndent)(u),u}function T(v){return v.style?v.style.trim().split(/\s*;\s*/).filter(S=>!!S).map(S=>S.split(/\s*:\s*/,2)).filter(([S,I])=>(S==="font-family"&&v[n.$globalData].usedTypefaces.add(I),X.has(S))).map(S=>S.join(":")).join(";"):""}const F=new Set(["body","html"]);class P extends t.XmlObject{constructor(S,I){super(o,I),this[K]=!1,this.style=S.style||""}[n.$clean](S){super[n.$clean](S),this.style=T(this)}[n.$acceptWhitespace](){return!F.has(this[n.$nodeName])}[n.$onText](S,I=!1){I?this[K]=!0:(S=S.replaceAll(f,""),this.style.includes("xfa-spacerun:yes")||(S=S.replaceAll(O," "))),S&&(this[n.$content]+=S)}[n.$pushGlyphs](S,I=!0){const u=Object.create(null),y={top:NaN,bottom:NaN,left:NaN,right:NaN};let r=null;for(const[A,E]of this.style.split(";").map(G=>G.split(":",2)))switch(A){case"font-family":u.typeface=(0,e.stripQuotes)(E);break;case"font-size":u.size=(0,e.getMeasurement)(E);break;case"font-weight":u.weight=E;break;case"font-style":u.posture=E;break;case"letter-spacing":u.letterSpacing=(0,e.getMeasurement)(E);break;case"margin":const G=E.split(/ \t/).map(ae=>(0,e.getMeasurement)(ae));switch(G.length){case 1:y.top=y.bottom=y.left=y.right=G[0];break;case 2:y.top=y.bottom=G[0],y.left=y.right=G[1];break;case 3:y.top=G[0],y.bottom=G[2],y.left=y.right=G[1];break;case 4:y.top=G[0],y.left=G[1],y.bottom=G[2],y.right=G[3];break}break;case"margin-top":y.top=(0,e.getMeasurement)(E);break;case"margin-bottom":y.bottom=(0,e.getMeasurement)(E);break;case"margin-left":y.left=(0,e.getMeasurement)(E);break;case"margin-right":y.right=(0,e.getMeasurement)(E);break;case"line-height":r=(0,e.getMeasurement)(E);break}if(S.pushData(u,y,r),this[n.$content])S.addString(this[n.$content]);else for(const A of this[n.$getChildren]()){if(A[n.$nodeName]==="#text"){S.addString(A[n.$content]);continue}A[n.$pushGlyphs](S)}I&&S.popFont()}[n.$toHTML](S){const I=[];if(this[n.$extra]={children:I},this[n.$childrenToHTML]({}),I.length===0&&!this[n.$content])return e.HTMLResult.EMPTY;let u;return this[K]?u=this[n.$content]?this[n.$content].replaceAll(p,`
`):void 0:u=this[n.$content]||void 0,e.HTMLResult.success({name:this[n.$nodeName],attributes:{href:this.href,style:i(this.style,this,this[K])},children:I,value:u})}}class C extends P{constructor(S){super(S,"a"),this.href=(0,U.fixURL)(S.href)||""}}class H extends P{constructor(S){super(S,"b")}[n.$pushGlyphs](S){S.pushFont({weight:"bold"}),super[n.$pushGlyphs](S),S.popFont()}}class $ extends P{constructor(S){super(S,"body")}[n.$toHTML](S){const I=super[n.$toHTML](S),{html:u}=I;return u?(u.name="div",u.attributes.class=["xfaRich"],I):e.HTMLResult.EMPTY}}class se extends P{constructor(S){super(S,"br")}[n.$text](){return`
`}[n.$pushGlyphs](S){S.addString(`
`)}[n.$toHTML](S){return e.HTMLResult.success({name:"br"})}}class _ extends P{constructor(S){super(S,"html")}[n.$toHTML](S){var u;const I=[];if(this[n.$extra]={children:I},this[n.$childrenToHTML]({}),I.length===0)return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[n.$content]||""});if(I.length===1){const y=I[0];if((u=y.attributes)!=null&&u.class.includes("xfaRich"))return e.HTMLResult.success(y)}return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:I})}}class Q extends P{constructor(S){super(S,"i")}[n.$pushGlyphs](S){S.pushFont({posture:"italic"}),super[n.$pushGlyphs](S),S.popFont()}}class d extends P{constructor(S){super(S,"li")}}class w extends P{constructor(S){super(S,"ol")}}class q extends P{constructor(S){super(S,"p")}[n.$pushGlyphs](S){super[n.$pushGlyphs](S,!1),S.addString(`
`),S.addPara(),S.popFont()}[n.$text](){return this[n.$getParent]()[n.$getChildren]().at(-1)===this?super[n.$text]():super[n.$text]()+`
`}}class l extends P{constructor(S){super(S,"span")}}class b extends P{constructor(S){super(S,"sub")}}class D extends P{constructor(S){super(S,"sup")}}class Z extends P{constructor(S){super(S,"ul")}}class N{static[x.$buildXFAObject](S,I){if(N.hasOwnProperty(S))return N[S](I)}static a(S){return new C(S)}static b(S){return new H(S)}static body(S){return new $(S)}static br(S){return new se(S)}static html(S){return new _(S)}static i(S){return new Q(S)}static li(S){return new d(S)}static ol(S){return new w(S)}static p(S){return new q(S)}static span(S){return new l(S)}static sub(S){return new b(S)}static sup(S){return new D(S)}static ul(S){return new Z(S)}}h.XhtmlNamespace=N},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UnknownNamespace=void 0;var n=re(81),x=re(87);class U{constructor(t){this.namespaceId=t}[n.$buildXFAObject](t,o){return new x.XmlObject(this.namespaceId,t,o)}}h.UnknownNamespace=U},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DatasetReader=void 0;var n=re(2),x=re(3),U=re(71);function e(K){try{return(0,n.stringToUTF8String)(K)}catch(X){return(0,n.warn)(`UTF-8 decoding failed: "${X}".`),K}}class t extends U.SimpleXMLParser{constructor(X){super(X),this.node=null}onEndElement(X){const L=super.onEndElement(X);if(L&&X==="xfa:datasets")throw this.node=L,new Error("Aborting DatasetXMLParser.")}}class o{constructor(X){if(X.datasets)this.node=new U.SimpleXMLParser({hasAttributes:!0}).parseFromString(X.datasets).documentElement;else{const L=new t({hasAttributes:!0});try{L.parseFromString(X["xdp:xdp"])}catch{}this.node=L.node}}getValue(X){if(!this.node||!X)return"";const L=this.node.searchNode((0,x.parseXFAPath)(X),0);if(!L)return"";const O=L.firstChild;return(O==null?void 0:O.nodeName)==="value"?L.children.map(f=>e(f.textContent)):e(L.textContent)}}h.DatasetReader=o},(Pe,h,re)=>{var X;Object.defineProperty(h,"__esModule",{value:!0}),h.XRef=void 0;var n=re(2),x=re(4),U=re(16),e=re(3),t=re(5),o=re(74);class K{constructor(O,f){ct(this,X,null);this.stream=O,this.pdfManager=f,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new x.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(O){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const f=this._newPersistentRefNum++;return this._cacheMap.set(f,O),x.Ref.get(f,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),x.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(O){this.startXRefQueue=[O]}parse(O=!1){let f;O?((0,n.warn)("Indexing all PDF objects"),f=this.indexObjects()):f=this.readXRef(),f.assignXref(this),this.trailer=f;let p;try{p=f.get("Encrypt")}catch(T){if(T instanceof e.MissingDataException)throw T;(0,n.warn)(`XRef.parse - Invalid "Encrypt" reference: "${T}".`)}if(p instanceof x.Dict){const T=f.get("ID"),F=T!=null&&T.length?T[0]:"";p.suppressEncryption=!0,this.encrypt=new o.CipherTransformFactory(p,F,this.pdfManager.password)}let i;try{i=f.get("Root")}catch(T){if(T instanceof e.MissingDataException)throw T;(0,n.warn)(`XRef.parse - Invalid "Root" reference: "${T}".`)}if(i instanceof x.Dict)try{if(i.get("Pages")instanceof x.Dict){this.root=i;return}}catch(T){if(T instanceof e.MissingDataException)throw T;(0,n.warn)(`XRef.parse - Invalid "Pages" reference: "${T}".`)}throw O?new n.InvalidPDFException("Invalid Root reference."):new e.XRefParseException}processXRefTable(O){"tableState"in this||(this.tableState={entryNum:0,streamPos:O.lexer.stream.pos,parserBuf1:O.buf1,parserBuf2:O.buf2});const f=this.readXRefTable(O);if(!(0,x.isCmd)(f,"trailer"))throw new n.FormatError("Invalid XRef table: could not find trailer dictionary");let p=O.getObj();if(!(p instanceof x.Dict)&&p.dict&&(p=p.dict),!(p instanceof x.Dict))throw new n.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,p}readXRefTable(O){const f=O.lexer.stream,p=this.tableState;f.pos=p.streamPos,O.buf1=p.parserBuf1,O.buf2=p.parserBuf2;let i;for(;;){if(!("firstEntryNum"in p)||!("entryCount"in p)){if((0,x.isCmd)(i=O.getObj(),"trailer"))break;p.firstEntryNum=i,p.entryCount=O.getObj()}let T=p.firstEntryNum;const F=p.entryCount;if(!Number.isInteger(T)||!Number.isInteger(F))throw new n.FormatError("Invalid XRef table: wrong types in subsection header");for(let P=p.entryNum;P<F;P++){p.streamPos=f.pos,p.entryNum=P,p.parserBuf1=O.buf1,p.parserBuf2=O.buf2;const C={};C.offset=O.getObj(),C.gen=O.getObj();const H=O.getObj();if(H instanceof x.Cmd)switch(H.cmd){case"f":C.free=!0;break;case"n":C.uncompressed=!0;break}if(!Number.isInteger(C.offset)||!Number.isInteger(C.gen)||!(C.free||C.uncompressed))throw new n.FormatError(`Invalid entry in XRef subsection: ${T}, ${F}`);P===0&&C.free&&T===1&&(T=0),this.entries[P+T]||(this.entries[P+T]=C)}p.entryNum=0,p.streamPos=f.pos,p.parserBuf1=O.buf1,p.parserBuf2=O.buf2,delete p.firstEntryNum,delete p.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new n.FormatError("Invalid XRef table: unexpected first object");return i}processXRefStream(O){if(!("streamState"in this)){const f=O.dict,p=f.get("W");let i=f.get("Index");i||(i=[0,f.get("Size")]),this.streamState={entryRanges:i,byteWidths:p,entryNum:0,streamPos:O.pos}}return this.readXRefStream(O),delete this.streamState,O.dict}readXRefStream(O){const f=this.streamState;O.pos=f.streamPos;const[p,i,T]=f.byteWidths,F=f.entryRanges;for(;F.length>0;){const[P,C]=F;if(!Number.isInteger(P)||!Number.isInteger(C))throw new n.FormatError(`Invalid XRef range fields: ${P}, ${C}`);if(!Number.isInteger(p)||!Number.isInteger(i)||!Number.isInteger(T))throw new n.FormatError(`Invalid XRef entry fields length: ${P}, ${C}`);for(let H=f.entryNum;H<C;++H){f.entryNum=H,f.streamPos=O.pos;let $=0,se=0,_=0;for(let d=0;d<p;++d){const w=O.getByte();if(w===-1)throw new n.FormatError("Invalid XRef byteWidths 'type'.");$=$<<8|w}p===0&&($=1);for(let d=0;d<i;++d){const w=O.getByte();if(w===-1)throw new n.FormatError("Invalid XRef byteWidths 'offset'.");se=se<<8|w}for(let d=0;d<T;++d){const w=O.getByte();if(w===-1)throw new n.FormatError("Invalid XRef byteWidths 'generation'.");_=_<<8|w}const Q={};switch(Q.offset=se,Q.gen=_,$){case 0:Q.free=!0;break;case 1:Q.uncompressed=!0;break;case 2:break;default:throw new n.FormatError(`Invalid XRef entry type: ${$}`)}this.entries[P+H]||(this.entries[P+H]=Q)}f.entryNum=0,f.streamPos=O.pos,F.splice(0,2)}}indexObjects(){function P(y,r){let A="",E=y[r];for(;E!==10&&E!==13&&E!==60&&!(++r>=y.length);)A+=String.fromCharCode(E),E=y[r];return A}function C(y,r,A){const E=A.length,G=y.length;let ae=0;for(;r<G;){let ce=0;for(;ce<E&&y[r+ce]===A[ce];)++ce;if(ce>=E)break;r++,ae++}return ae}const H=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,$=/\b(startxref|\d+\s+\d+\s+obj)\b/g,se=/^(\d+)\s+(\d+)\s+obj\b/,_=new Uint8Array([116,114,97,105,108,101,114]),Q=new Uint8Array([115,116,97,114,116,120,114,101,102]),d=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const w=this.stream;w.pos=0;const q=w.getBytes(),l=(0,n.bytesToString)(q),b=q.length;let D=w.start;const Z=[],N=[];for(;D<b;){let y=q[D];if(y===9||y===10||y===13||y===32){++D;continue}if(y===37){do{if(++D,D>=b)break;y=q[D]}while(y!==10&&y!==13);continue}const r=P(q,D);let A;if(r.startsWith("xref")&&(r.length===4||/\s/.test(r[4])))D+=C(q,D,_),Z.push(D),D+=C(q,D,Q);else if(A=se.exec(r)){const E=A[1]|0,G=A[2]|0,ae=D+r.length;let ce,Ie=!1;if(!this.entries[E])Ie=!0;else if(this.entries[E].gen===G)try{new U.Parser({lexer:new U.Lexer(w.makeSubStream(ae))}).getObj(),Ie=!0}catch(ve){ve instanceof e.ParserEOFException?(0,n.warn)(`indexObjects -- checking object (${r}): "${ve}".`):Ie=!0}Ie&&(this.entries[E]={offset:D-w.start,gen:G,uncompressed:!0}),H.lastIndex=ae;const fe=H.exec(l);fe?(ce=H.lastIndex+1-D,fe[1]!=="endobj"&&((0,n.warn)(`indexObjects: Found "${fe[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),ce-=fe[1].length+1)):ce=b-D;const Te=q.subarray(D,D+ce),be=C(Te,0,d);be<ce&&Te[be+5]<64&&(N.push(D-w.start),this._xrefStms.add(D-w.start)),D+=ce}else if(r.startsWith("trailer")&&(r.length===7||/\s/.test(r[7]))){Z.push(D);const E=D+r.length;let G;$.lastIndex=E;const ae=$.exec(l);ae?(G=$.lastIndex+1-D,ae[1]!=="startxref"&&((0,n.warn)(`indexObjects: Found "${ae[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),G-=ae[1].length+1)):G=b-D,D+=G}else D+=r.length+1}for(const y of N)this.startXRefQueue.push(y),this.readXRef(!0);const v=[];let S=!1;for(const y of Z){w.pos=y;const r=new U.Parser({lexer:new U.Lexer(w),xref:this,allowStreams:!0,recoveryMode:!0}),A=r.getObj();if(!(0,x.isCmd)(A,"trailer"))continue;const E=r.getObj();E instanceof x.Dict&&(v.push(E),E.has("Encrypt")&&(S=!0))}let I,u;for(const y of[...v,"genFallback",...v]){if(y==="genFallback"){if(!u)break;this._generationFallback=!0;continue}let r=!1;try{const A=y.get("Root");if(!(A instanceof x.Dict))continue;const E=A.get("Pages");if(!(E instanceof x.Dict))continue;const G=E.get("Count");Number.isInteger(G)&&(r=!0)}catch(A){u=A;continue}if(r&&(!S||y.has("Encrypt"))&&y.has("ID"))return y;I=y}if(I)return I;if(this.topDict)return this.topDict;throw new n.InvalidPDFException("Invalid PDF structure.")}readXRef(O=!1){const f=this.stream,p=new Set;for(;this.startXRefQueue.length;){try{const i=this.startXRefQueue[0];if(p.has(i)){(0,n.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}p.add(i),f.pos=i+f.start;const T=new U.Parser({lexer:new U.Lexer(f),xref:this,allowStreams:!0});let F=T.getObj(),P;if((0,x.isCmd)(F,"xref"))P=this.processXRefTable(T),this.topDict||(this.topDict=P),F=P.get("XRefStm"),Number.isInteger(F)&&!this._xrefStms.has(F)&&(this._xrefStms.add(F),this.startXRefQueue.push(F),Ue(this,X)??Pt(this,X,F));else if(Number.isInteger(F)){if(!Number.isInteger(T.getObj())||!(0,x.isCmd)(T.getObj(),"obj")||!((F=T.getObj())instanceof t.BaseStream))throw new n.FormatError("Invalid XRef stream");if(P=this.processXRefStream(F),this.topDict||(this.topDict=P),!P)throw new n.FormatError("Failed to read XRef stream")}else throw new n.FormatError("Invalid XRef stream header");F=P.get("Prev"),Number.isInteger(F)?this.startXRefQueue.push(F):F instanceof x.Ref&&this.startXRefQueue.push(F.num)}catch(i){if(i instanceof e.MissingDataException)throw i;(0,n.info)("(while reading XRef): "+i)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!O)throw new e.XRefParseException}get lastXRefStreamPos(){return Ue(this,X)??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(O){const f=this.entries[O];return f&&!f.free&&f.offset?f:null}fetchIfRef(O,f=!1){return O instanceof x.Ref?this.fetch(O,f):O}fetch(O,f=!1){if(!(O instanceof x.Ref))throw new Error("ref object is not a reference");const p=O.num,i=this._cacheMap.get(p);if(i!==void 0)return i instanceof x.Dict&&!i.objId&&(i.objId=O.toString()),i;let T=this.getEntry(p);if(T===null)return this._cacheMap.set(p,T),T;if(this._pendingRefs.has(O))return this._pendingRefs.remove(O),(0,n.warn)(`Ignoring circular reference: ${O}.`),x.CIRCULAR_REF;this._pendingRefs.put(O);try{T=T.uncompressed?this.fetchUncompressed(O,T,f):this.fetchCompressed(O,T,f),this._pendingRefs.remove(O)}catch(F){throw this._pendingRefs.remove(O),F}return T instanceof x.Dict?T.objId=O.toString():T instanceof t.BaseStream&&(T.dict.objId=O.toString()),T}fetchUncompressed(O,f,p=!1){const i=O.gen;let T=O.num;if(f.gen!==i){const se=`Inconsistent generation in XRef: ${O}`;if(this._generationFallback&&f.gen<i)return(0,n.warn)(se),this.fetchUncompressed(x.Ref.get(T,f.gen),f,p);throw new e.XRefEntryException(se)}const F=this.stream.makeSubStream(f.offset+this.stream.start),P=new U.Parser({lexer:new U.Lexer(F),xref:this,allowStreams:!0}),C=P.getObj(),H=P.getObj(),$=P.getObj();if(C!==T||H!==i||!($ instanceof x.Cmd))throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${O}`);if($.cmd!=="obj"){if($.cmd.startsWith("obj")&&(T=parseInt($.cmd.substring(3),10),!Number.isNaN(T)))return T;throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${O}`)}return f=this.encrypt&&!p?P.getObj(this.encrypt.createCipherTransform(T,i)):P.getObj(),f instanceof t.BaseStream||this._cacheMap.set(T,f),f}fetchCompressed(O,f,p=!1){const i=f.offset,T=this.fetch(x.Ref.get(i,0));if(!(T instanceof t.BaseStream))throw new n.FormatError("bad ObjStm stream");const F=T.dict.get("First"),P=T.dict.get("N");if(!Number.isInteger(F)||!Number.isInteger(P))throw new n.FormatError("invalid first and n parameters for ObjStm stream");let C=new U.Parser({lexer:new U.Lexer(T),xref:this,allowStreams:!0});const H=new Array(P),$=new Array(P);for(let Q=0;Q<P;++Q){const d=C.getObj();if(!Number.isInteger(d))throw new n.FormatError(`invalid object number in the ObjStm stream: ${d}`);const w=C.getObj();if(!Number.isInteger(w))throw new n.FormatError(`invalid object offset in the ObjStm stream: ${w}`);H[Q]=d,$[Q]=w}const se=(T.start||0)+F,_=new Array(P);for(let Q=0;Q<P;++Q){const d=Q<P-1?$[Q+1]-$[Q]:void 0;if(d<0)throw new n.FormatError("Invalid offset in the ObjStm stream.");C=new U.Parser({lexer:new U.Lexer(T.makeSubStream(se+$[Q],d,T.dict)),xref:this,allowStreams:!0});const w=C.getObj();if(_[Q]=w,w instanceof t.BaseStream)continue;const q=H[Q],l=this.entries[q];l&&l.offset===i&&l.gen===Q&&this._cacheMap.set(q,w)}if(f=_[f.gen],f===void 0)throw new e.XRefEntryException(`Bad (compressed) XRef entry: ${O}`);return f}async fetchIfRefAsync(O,f){return O instanceof x.Ref?this.fetchAsync(O,f):O}async fetchAsync(O,f){try{return this.fetch(O,f)}catch(p){if(!(p instanceof e.MissingDataException))throw p;return await this.pdfManager.requestRange(p.begin,p.end),this.fetchAsync(O,f)}}getCatalogObj(){return this.root}}X=new WeakMap,h.XRef=K},(Pe,h,re)=>{var o,Ad,X,cd,O,MA;Object.defineProperty(h,"__esModule",{value:!0}),h.MessageHandler=void 0;var n=re(2);const x={UNKNOWN:0,DATA:1,ERROR:2},U={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function e(p){switch(p instanceof Error||typeof p=="object"&&p!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),p.name){case"AbortException":return new n.AbortException(p.message);case"MissingPDFException":return new n.MissingPDFException(p.message);case"PasswordException":return new n.PasswordException(p.message,p.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(p.message,p.status);case"UnknownErrorException":return new n.UnknownErrorException(p.message,p.details);default:return new n.UnknownErrorException(p.message,p.toString())}}class t{constructor(i,T,F){ct(this,o);ct(this,X);ct(this,O);this.sourceName=i,this.targetName=T,this.comObj=F,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=P=>{const C=P.data;if(C.targetName!==this.sourceName)return;if(C.stream){dt(this,X,cd).call(this,C);return}if(C.callback){const $=C.callbackId,se=this.callbackCapabilities[$];if(!se)throw new Error(`Cannot resolve callback ${$}`);if(delete this.callbackCapabilities[$],C.callback===x.DATA)se.resolve(C.data);else if(C.callback===x.ERROR)se.reject(e(C.reason));else throw new Error("Unexpected callback case");return}const H=this.actionHandler[C.action];if(!H)throw new Error(`Unknown action from worker: ${C.action}`);if(C.callbackId){const $=this.sourceName,se=C.sourceName;new Promise(function(_){_(H(C.data))}).then(function(_){F.postMessage({sourceName:$,targetName:se,callback:x.DATA,callbackId:C.callbackId,data:_})},function(_){F.postMessage({sourceName:$,targetName:se,callback:x.ERROR,callbackId:C.callbackId,reason:e(_)})});return}if(C.streamId){dt(this,o,Ad).call(this,C);return}H(C.data)},F.addEventListener("message",this._onComObjOnMessage)}on(i,T){const F=this.actionHandler;if(F[i])throw new Error(`There is already an actionName called "${i}"`);F[i]=T}send(i,T,F){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,data:T},F)}sendWithPromise(i,T,F){const P=this.callbackId++,C=new n.PromiseCapability;this.callbackCapabilities[P]=C;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,callbackId:P,data:T},F)}catch(H){C.reject(H)}return C.promise}sendWithStream(i,T,F,P){const C=this.streamId++,H=this.sourceName,$=this.targetName,se=this.comObj;return new ReadableStream({start:_=>{const Q=new n.PromiseCapability;return this.streamControllers[C]={controller:_,startCall:Q,pullCall:null,cancelCall:null,isClosed:!1},se.postMessage({sourceName:H,targetName:$,action:i,streamId:C,data:T,desiredSize:_.desiredSize},P),Q.promise},pull:_=>{const Q=new n.PromiseCapability;return this.streamControllers[C].pullCall=Q,se.postMessage({sourceName:H,targetName:$,stream:U.PULL,streamId:C,desiredSize:_.desiredSize}),Q.promise},cancel:_=>{(0,n.assert)(_ instanceof Error,"cancel must have a valid reason");const Q=new n.PromiseCapability;return this.streamControllers[C].cancelCall=Q,this.streamControllers[C].isClosed=!0,se.postMessage({sourceName:H,targetName:$,stream:U.CANCEL,streamId:C,reason:e(_)}),Q.promise}},F)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}o=new WeakSet,Ad=function(i){const T=i.streamId,F=this.sourceName,P=i.sourceName,C=this.comObj,H=this,$=this.actionHandler[i.action],se={enqueue(_,Q=1,d){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=Q,w>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),C.postMessage({sourceName:F,targetName:P,stream:U.ENQUEUE,streamId:T,chunk:_},d)},close(){this.isCancelled||(this.isCancelled=!0,C.postMessage({sourceName:F,targetName:P,stream:U.CLOSE,streamId:T}),delete H.streamSinks[T])},error(_){(0,n.assert)(_ instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,C.postMessage({sourceName:F,targetName:P,stream:U.ERROR,streamId:T,reason:e(_)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:i.desiredSize,ready:null};se.sinkCapability.resolve(),se.ready=se.sinkCapability.promise,this.streamSinks[T]=se,new Promise(function(_){_($(i.data,se))}).then(function(){C.postMessage({sourceName:F,targetName:P,stream:U.START_COMPLETE,streamId:T,success:!0})},function(_){C.postMessage({sourceName:F,targetName:P,stream:U.START_COMPLETE,streamId:T,reason:e(_)})})},X=new WeakSet,cd=function(i){const T=i.streamId,F=this.sourceName,P=i.sourceName,C=this.comObj,H=this.streamControllers[T],$=this.streamSinks[T];switch(i.stream){case U.START_COMPLETE:i.success?H.startCall.resolve():H.startCall.reject(e(i.reason));break;case U.PULL_COMPLETE:i.success?H.pullCall.resolve():H.pullCall.reject(e(i.reason));break;case U.PULL:if(!$){C.postMessage({sourceName:F,targetName:P,stream:U.PULL_COMPLETE,streamId:T,success:!0});break}$.desiredSize<=0&&i.desiredSize>0&&$.sinkCapability.resolve(),$.desiredSize=i.desiredSize,new Promise(function(se){var _;se((_=$.onPull)==null?void 0:_.call($))}).then(function(){C.postMessage({sourceName:F,targetName:P,stream:U.PULL_COMPLETE,streamId:T,success:!0})},function(se){C.postMessage({sourceName:F,targetName:P,stream:U.PULL_COMPLETE,streamId:T,reason:e(se)})});break;case U.ENQUEUE:if((0,n.assert)(H,"enqueue should have stream controller"),H.isClosed)break;H.controller.enqueue(i.chunk);break;case U.CLOSE:if((0,n.assert)(H,"close should have stream controller"),H.isClosed)break;H.isClosed=!0,H.controller.close(),dt(this,O,MA).call(this,H,T);break;case U.ERROR:(0,n.assert)(H,"error should have stream controller"),H.controller.error(e(i.reason)),dt(this,O,MA).call(this,H,T);break;case U.CANCEL_COMPLETE:i.success?H.cancelCall.resolve():H.cancelCall.reject(e(i.reason)),dt(this,O,MA).call(this,H,T);break;case U.CANCEL:if(!$)break;new Promise(function(se){var _;se((_=$.onCancel)==null?void 0:_.call($,e(i.reason)))}).then(function(){C.postMessage({sourceName:F,targetName:P,stream:U.CANCEL_COMPLETE,streamId:T,success:!0})},function(se){C.postMessage({sourceName:F,targetName:P,stream:U.CANCEL_COMPLETE,streamId:T,reason:e(se)})}),$.sinkCapability.reject(e(i.reason)),$.isCancelled=!0,delete this.streamSinks[T];break;default:throw new Error("Unexpected stream case")}},O=new WeakSet,MA=async function(i,T){var F,P,C;await Promise.allSettled([(F=i.startCall)==null?void 0:F.promise,(P=i.pullCall)==null?void 0:P.promise,(C=i.cancelCall)==null?void 0:C.promise]),delete this.streamControllers[T]},h.MessageHandler=t},(Pe,h,re)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFWorkerStream=void 0;var n=re(2);class x{constructor(o){this._msgHandler=o,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new U(this._msgHandler),this._fullRequestReader}getRangeReader(o,K){const X=new e(o,K,this._msgHandler);return this._rangeRequestReaders.push(X),X}cancelAllRequests(o){var K;(K=this._fullRequestReader)==null||K.cancel(o);for(const X of this._rangeRequestReaders.slice(0))X.cancel(o)}}h.PDFWorkerStream=x;class U{constructor(o){this._msgHandler=o,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const K=this._msgHandler.sendWithStream("GetReader");this._reader=K.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(X=>{this._isStreamingSupported=X.isStreamingSupported,this._isRangeSupported=X.isRangeSupported,this._contentLength=X.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:o,done:K}=await this._reader.read();return K?{value:void 0,done:!0}:{value:o.buffer,done:!1}}cancel(o){this._reader.cancel(o)}}class e{constructor(o,K,X){this._msgHandler=X,this.onProgress=null;const L=this._msgHandler.sendWithStream("GetRangeReader",{begin:o,end:K});this._reader=L.getReader()}get isStreamingSupported(){return!1}async read(){const{value:o,done:K}=await this._reader.read();return K?{value:void 0,done:!0}:{value:o.buffer,done:!1}}cancel(o){this._reader.cancel(o)}}}],V={};function Ae(Pe){var h=V[Pe];if(h!==void 0)return h.exports;var re=V[Pe]={exports:{}};return M[Pe](re,re.exports,Ae),re.exports}var _e={};return(()=>{var Pe=_e;Object.defineProperty(Pe,"__esModule",{value:!0}),Object.defineProperty(Pe,"WorkerMessageHandler",{enumerable:!0,get:function(){return h.WorkerMessageHandler}});var h=Ae(1)})(),_e})())})(pdf_worker$1);var pdf_workerExports=pdf_worker$1.exports;const pdf_worker=getDefaultExportFromCjs(pdf_workerExports),fw=_mergeNamespaces({__proto__:null,default:pdf_worker},[pdf_workerExports]);var ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof global<"u"?ws=global.WebSocket||global.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);const Ww=ws;var ya=Object.defineProperty,Gd=Object.defineProperties,Jd=Object.getOwnPropertyDescriptors,Ua=Object.getOwnPropertySymbols,Wd=Object.prototype.hasOwnProperty,Xd=Object.prototype.propertyIsEnumerable,Ea=(a,s,M)=>s in a?ya(a,s,{enumerable:!0,configurable:!0,writable:!0,value:M}):a[s]=M,Ct=(a,s)=>{for(var M in s||(s={}))Wd.call(s,M)&&Ea(a,M,s[M]);if(Ua)for(var M of Ua(s))Xd.call(s,M)&&Ea(a,M,s[M]);return a},Ia=(a,s)=>Gd(a,Jd(s)),k=(a,s)=>()=>(a&&(s=a(a=0)),s),Je=(a,s)=>{for(var M in s)ya(a,M,{get:s[M],enumerable:!0})},m=(a,s,M)=>new Promise((V,Ae)=>{var _e=re=>{try{h(M.next(re))}catch(n){Ae(n)}},Pe=re=>{try{h(M.throw(re))}catch(n){Ae(n)}},h=re=>re.done?V(re.value):Promise.resolve(re.value).then(_e,Pe);h((M=M.apply(a,s)).next())});function rA(a,s=!1){return new Promise(M=>{chrome.storage.local.get(a,function(V){M(s?V[a]:V)})})}function W(a,s){return new Promise(M=>{chrome.storage.local.set({[a]:s},function(){M(!0)})})}function va(a){return new Promise(s=>{chrome.storage.local.remove(a,function(){s(!0)})})}var _A=k(()=>{});function Po(a){return m(this,null,function*(){return new Promise(s=>{rA("mllwtl_identifier").then(M=>{M.mllwtl_identifier&&M.mllwtl_identifier.startsWith(`mllwtl_${a}`)?s(M.mllwtl_identifier):M.mllwtl_identifier&&M.mllwtl_identifier.startsWith("mllwtl_")?Ha(a,!0,M.mllwtl_identifier).then(V=>{s(V)}):Ha(a).then(V=>{s(V)})})})})}function Ha(a,s=!1,M=""){return m(this,null,function*(){return new Promise(V=>{let Ae=s?M.split("_")[1]:Yd(10),_e=`mllwtl_${a}_${Ae}`;W("mllwtl_identifier",_e).then(Pe=>{V(_e)})})})}function Yd(a){return Math.random().toString(36).substring(2,a+2)}function bA(){return new Promise(a=>{rA("mllwtl_identifier").then(s=>{s.mllwtl_identifier?a(s.mllwtl_identifier):setTimeout(()=>{bA().then(M=>{a(M)})},200)})})}function ZA(){return new Promise(a=>{try{a(chrome.runtime.id)}catch{a("identifier_not_found")}})}function ba(){return new Promise(a=>{try{a(chrome.runtime.getManifest().name)}catch{a("extension_name_not_found")}})}var me=k(()=>{_A()});function TA(a,s){return m(this,null,function*(){return new Promise(M=>{s.target="contentScriptM";try{chrome.tabs.sendMessage(a,s,function(V){chrome.runtime.lastError&&M(null),M(V)})}catch{M(null)}})})}function Y(a){return m(this,null,function*(){return new Promise(s=>{chrome.runtime.sendMessage(a,M=>{s(M)})})})}var xA=k(()=>{}),B,z=k(()=>{B=class{static info(a,...s){this.disableLogs||console.info(a,...s)}static log(a,...s){this.disableLogs||console.log(a,...s)}static warn(a,...s){this.disableLogs||console.warn(a,...s)}static error(a,...s){this.disableLogs||console.error(a,...s)}},B.disableLogs=!0}),We,pe,$r,La,Xe,$t,No,Sa,qr,Da,PA=k(()=>{We="1.6.2",pe="data-mllwtl-frame-crwl-ml",$r="data-mllwtl-frame-batch-crwl-ml",La="data-mllwtl-frame",Xe="mllwtl-cereal-frame-id",$t=1e3,No="#4CAF50",Sa=3*1e3,qr=1e3*60*60*24,Da=1e3*60*60*12});function Qt(a){return document.querySelectorAll(`[data-id=${a?$r:pe}]`).length}function xa(a,s,M,V){return new Promise(Ae=>{let _e=screen.width/2-M/2,Pe=screen.height/2-V/2-150;window.open(a,s,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${M}, height=${V}, top=${Pe}, left=${_e}`),Ae(!0)})}function ne(){if(typeof navigator>"u")return"unknown";var a=navigator.userAgent;return a.indexOf("Edg")>-1?"edge":a.indexOf("OPR")>-1?"opera":a.indexOf("Chrome")>-1?"chrome":a.indexOf("Firefox")>-1?"firefox":a.indexOf("Safari")>-1?"safari":a.indexOf("Trident")>-1||a.indexOf("MSIE")>-1?"ie":"unknown"}function JA(){return new Promise(a=>{try{chrome.declarativeNetRequest.getSessionRules(s=>{chrome.runtime.lastError?a(!1):a(!0)})}catch{a(!1)}})}function An(){return chrome.runtime.getManifest().manifest_version}function ye(a){return a.replace(/^\/+/,"")}var $A=k(()=>{PA()});function tn(a,s){return new Promise(function(M){if(s)M(!1);else{let V=Ka();nn().then(Ae=>{Ae?Y({intent:"disableXFrameHeaders",hostname:a,skipHeaders:s}).then(()=>{M(!0)}):(chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[V],addRules:[{id:V,priority:1,action:{type:"modifyHeaders",responseHeaders:[{header:"x-frame-options",operation:"remove"},{header:"content-security-policy",operation:"remove"},{header:"cross-origin-embedder-policy",operation:"remove"},{header:"cross-origin-opener-policy",operation:"remove"},{header:"cross-origin-resource-policy",operation:"remove"},{header:"content-security-policy-report-only",operation:"remove"}]},condition:{resourceTypes:["sub_frame"],urlFilter:"*://*/*"}}]}),M(!0))})}})}function qt(a){return new Promise(function(s){let M=Ka();nn().then(V=>{V?Y({intent:"enableXFrameHeaders",hostname:a}).then(()=>{s(!0)}):(chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[M]}),s(!0))})})}function Oa(){return new Promise(function(a){let s={id:80050,priority:1,action:{type:"modifyHeaders",requestHeaders:[{header:"Origin",operation:"remove"}],responseHeaders:[{header:"Access-Control-Allow-Origin",operation:"set",value:"*"},{header:"Access-Control-Allow-Methods",operation:"set",value:"GET, POST, PUT, DELETE, OPTIONS"},{header:"Access-Control-Allow-Headers",operation:"set",value:"Content-Type"}]},condition:{urlFilter:"*://*/*",resourceTypes:["image"]}};chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80050],addRules:[s]},()=>{chrome.runtime.lastError?(B.log("Error adding rule:",chrome.runtime.lastError),a(!1)):(B.log("Rule added successfully"),a(!0))})})}function Ma(){return new Promise(function(a){chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80050]}),a(!0)})}function rn(){return new Promise(function(a){chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80049],addRules:[{id:80049,priority:1,action:{type:"modifyHeaders",requestHeaders:[{header:"Origin",operation:"remove"}],responseHeaders:[{header:"Access-Control-Allow-Origin",operation:"set",value:"*"},{header:"Access-Control-Allow-Methods",operation:"set",value:"GET, POST, PUT, DELETE, OPTIONS"},{header:"Access-Control-Allow-Headers",operation:"set",value:"Content-Type"}]},condition:{urlFilter:"*://*/*",resourceTypes:["xmlhttprequest"]}}]}),a(!0)})}function Le(){return new Promise(function(a){chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80049]}),a(!0)})}function Ka(a){return 80045}function nn(){return new Promise(a=>{try{chrome.declarativeNetRequest.getSessionRules(s=>{chrome.runtime.lastError?a(!0):a(!1)})}catch{a(!0)}})}function on(){return m(this,null,function*(){let a=[80049];(yield JA())?yield chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:a}):yield Y({intent:"cleanUpDNRRules"})})}var Se=k(()=>{xA(),PA(),z(),$A()});function Ra(a){return new Promise(s=>{let M=document.getElementById(a);s(!!M)})}function _a(a,s){return m(this,null,function*(){return new Promise(function(M){chrome.storage.local.set({[a]:s},function(){M("done")})})})}function Pa(a){return m(this,null,function*(){return new Promise(function(s){chrome.tabs.query({},function(M){let V=M.length,Ae=0,_e=!1;for(let Pe=0;Pe<V;Pe++)TA(M[Pe].id,{intent:"getSharedMemoryDOM",key:a}).then(function(h){Ae++,h&&(_e=!0),Ae===V&&s(_e)})})})})}var Vo=k(()=>{xA()});function Ft(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsRequestInfo"],function(M){let V=M.recordsRequestInfo||[],Ae=!1;for(let _e=0;_e<V.length;_e++)if(V[_e].recordID===a.recordID){V[_e]=a,Ae=!0;break}Ae||V.push(a),chrome.storage.local.set({recordsRequestInfo:V},function(){B.log("[addToRequestInfoStorage]: added record",a),s("done")})})}catch(M){B.log("addToRequestInfoStorage error",M),s("done")}})}function Na(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsRequestInfo"],function(M){let V=M.recordsRequestInfo||[],Ae=[];for(let _e=0;_e<V.length;_e++)V[_e].recordID!==a&&Ae.push(V[_e]);chrome.storage.local.set({recordsRequestInfo:Ae},function(){s("done")})})}catch(M){B.log("deleteFromRequestInfoStorage error",M),s("done")}})}function Ye(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsRequestInfo"],function(M){let V=M.recordsRequestInfo||[];for(let Ae=0;Ae<V.length;Ae++)if(V[Ae].recordID===a){s(V[Ae]);return}s({statusCode:1e3,isPDF:!1})})}catch(M){B.log("getFromRequestInfoStorage error",M),s({})}})}var De=k(()=>{z()});function Va(){return m(this,null,function*(){try{let a=Date.now(),s=yield W(ka,a);return B.log("[saveTriggerTimestamp] Saved timestamp:",a),s}catch(a){return B.error("[saveTriggerTimestamp] Error saving timestamp:",a),!1}})}function $d(){return m(this,null,function*(){try{let a=yield rA(ka,!0);return B.log("[getTriggerTimestamp] Retrieved timestamp:",a),a||0}catch(a){return B.error("[getTriggerTimestamp] Error retrieving timestamp:",a),0}})}function qd(){return m(this,null,function*(){let a=yield $d();if(a===0)return!0;let s=Date.now()-a,M=s>=jd;return B.log("[shouldResetTriggers] Time elapsed:",s,"ms"),B.log("[shouldResetTriggers] Should reset:",M),M})}function Go(){return m(this,null,function*(){return new Promise(a=>{let s=()=>m(this,null,function*(){(yield qd())?(B.log("[waitForResetInterval] Minimum interval reached, proceeding with reset"),a()):(B.log("[waitForResetInterval] Minimum interval not reached, retrying in 15 seconds"),setTimeout(s,zd))});s()})})}var ka,jd,zd,Jo=k(()=>{z(),_A(),ka="mllwtl_trigger_rules_timestamp",jd=1e4,zd=3e3});function Ga(a,s,M,V){return m(this,null,function*(){return new Promise(function(Ae){M?Ae(!1):Y({intent:"seeIfTriggersDownload",url:a,triggersDownload:s,recordID:V}).then(_e=>{Ae(_e)})})})}function Ja(a,s,M){return m(this,null,function*(){return new Promise(function(V){if(!s)V("done");else{let Ae=[],_e={resourceTypes:["sub_frame"],urlFilter:"*://*/*"};Aw(a).then(function(Pe){return m(this,null,function*(){B.log("@@ fetchAndProcessHeaders @@ =>",Pe);let h=Pe.isPDF,re=Pe.statusCode,n=Pe.isOfficeDoc;if(yield Ft({recordID:M,isPDF:h,isOfficeDoc:n,statusCode:re}),Pe.error)V("error");else if(n)V("done");else{Pe.removeContentDisposition&&Ae.push({id:80046,priority:1,action:{type:"modifyHeaders",responseHeaders:[{header:"content-disposition",operation:"remove"}]},condition:_e}),Pe.modifyContentType&&Pe.valueToModifyContentTypeTo&&(Ae.push({id:80047,priority:1,action:{type:"modifyHeaders",responseHeaders:[{header:"content-type",operation:"remove"}]},condition:_e}),Ae.push({id:80048,priority:2,action:{type:"modifyHeaders",responseHeaders:[{header:"content-type",operation:"set",value:Pe.valueToModifyContentTypeTo},{header:"x-content-type-options",operation:"set",value:"nosniff"}]},condition:_e}));try{yield chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80046,80047,80048],addRules:Ae}),yield Va(),B.log("Updated session rules successfully:",Ae),V("done")}catch(x){B.error("Failed to update session rules:",x),V("error")}}})}).catch(Pe=>{B.error("Fetch error:",Pe),V("error")})}})})}function Ar(){return m(this,null,function*(){return new Promise(function(a){nn().then(s=>{s?Y({intent:"resetTriggersDownload"}).then(()=>{a("done")}):(chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[80046,80047,80048]}),a("done"))})})})}function Aw(a){return m(this,null,function*(){var s;let M=new Response;try{B.log("[fetchAndProcessHeaders] => Fetching URL:",a),M=yield fetch(a)}catch(V){return B.log("[fetchAndProcessHeaders] => Fetch error:",V),{error:!0,isPDF:!1,isOfficeDoc:!1,statusCode:599}}try{let V=M.status,Ae=(s=M.headers.get("content-type"))==null?void 0:s.toLowerCase();B.log("Content-Type:",Ae);let _e=Ae==="application/pdf",Pe=ew(Ae);B.log("isPDF:",_e,"isOfficeDoc:",Pe);let h=!1,re=!1,n="",x=M.headers.get("content-disposition");if(B.log("## Content-Disposition:",x),x){let U=x.toLowerCase();(U.includes("attachment")||U.includes("inline")&&U.includes("filename"))&&(h=!0)}if(Ae&&(Ae==="application/octet-stream"||Ae==="application/x-download")){let U=a.substring(a.lastIndexOf(".")+1).toLowerCase();B.log("Detected file type:",U);let e=["exe","dmg","deb","rpm","apk","msi","pkg","zip","rar","7z","gz","tar","xz","bz2"],t=["pdf","json","xml","ogg"],o=["gif","jpg","jpeg","png","tiff"];e.includes(U)||(re=!0,t.includes(U)?n="application/"+U:o.includes(U)?n="image/"+U:n="text/plain")}return{error:!1,isPDF:_e,isOfficeDoc:Pe,statusCode:V,removeContentDisposition:h,modifyContentType:re,valueToModifyContentTypeTo:n}}catch(V){return B.error("Fetch error:",V),{error:!0,isPDF:!1,isOfficeDoc:!1,statusCode:599}}})}function ew(a){return a?["application/vnd.openxmlformats-officedocument.","application/vnd.ms-","application/msword","application/vnd.oasis.opendocument."].some(s=>a.includes(s)):!1}var sn=k(()=>{z(),PA(),Se(),xA(),De(),Jo()});function zA(a,s,M=500){return new Promise(V=>m(this,null,function*(){try{B.log("[tellToDeleteIframe] : recordID => "+a),B.log("[tellToDeleteIframe] : BATCH_execution => "+s),(yield JA())?(B.log("[tellToDeleteIframe] : isInSW => true"),chrome.tabs.query({},function(Ae){return m(this,null,function*(){var _e;for(let Pe=0;Pe<Ae.length&&(yield TA((_e=Ae[Pe])==null?void 0:_e.id,{intent:"deleteIframeM",recordID:a,BATCH_execution:s,delayBetweenExecutions:M}))===null;Pe++);})}),V(!0)):Y({intent:"deleteIframeM",recordID:a,BATCH_execution:s,delayBetweenExecutions:M}).then(Ae=>{V(Ae)})}catch(Ae){B.error("[tellToDeleteIframe] : error => "+Ae),V(!1)}}))}var Ut=k(()=>{xA(),z(),$A()});function Wa(a,s,M,V,Ae,_e,Pe,h,re,n,x,U,e,t,o,K=500,X=!1,L=!1,O=!0,f=!0,p="{}",i=""){return new Promise(function(T){return m(this,null,function*(){yield rn();let F={method:"POST",credentials:"omit"};if(s!=="no_payload")try{s=JSON.parse(s),F.body=JSON.stringify(s)}catch{}if(M!=="no_headers")try{M=JSON.parse(M),F.headers=M}catch{}let P=1e3;fetch(a,F).then(C=>(P=C.status,C.text())).then(C=>m(this,null,function*(){try{JSON.parse(C),yield Zo(_e,JSON.parse(C),Ae,V,a,e,t,P),yield zA(_e,e,K),T(C)}catch{B.log("[handlePostRequest]: Not JSON"),yield Ft({recordID:_e,isPDF:!1,statusCode:P}),chrome.tabs.query({},function($){return m(this,null,function*(){for(let se=0;se<$.length&&(yield TA($[se].id,{intent:"processCrawl",recordID:_e,fastLane:V,orgId:Ae,htmlVisualizer:Pe,htmlContained:h,html_string:C,method_endpoint:a,removeImages:re,removeCSSselectors:n,classNamesToBeRemoved:x,htmlTransformer:U,BATCH_execution:e,batch_id:t,statusCode:P,actions:o,openTab:X,openTabOnlyIfMust:L,saveHtml:O,saveMarkdown:f,cerealObject:p}))===null;se++);})})}})).catch(C=>m(this,null,function*(){yield Le(),B.log("Error:",C)}))})})}function Zo(a,s,M,V,Ae,_e,Pe,h){return m(this,null,function*(){return new Promise(function(re){return m(this,null,function*(){try{let n="https://afcha2nmzsir4rr4zbta4tyy6e0fxjix.lambda-url.us-east-1.on.aws/",x={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({recordID:a,json:JSON.stringify(s),fastLane:V,url:Ae,htmlTransformer:"none",orgId:M,saveText:!1,BATCH_execution:_e,batch_id:Pe,statusCode:h})};B.log("[saveJSON] : Request options => "),B.log(x),fetch(n,x).then(U=>m(this,null,function*(){if(!U.ok)throw yield Le(),new Error("Network response was not ok");return U.json()})).then(U=>m(this,null,function*(){B.log("[saveJSON]: Response from server:",U),yield Le()})).catch(U=>m(this,null,function*(){B.log("[saveJSON] : Error:",U),yield Le()}))}catch(n){B.error("[saveJSON] : Error:",n),yield Le()}})})})}var jo=k(()=>{z(),Se(),xA(),De(),Ut()});function er(){return new Promise(a=>{try{chrome.tabs.query({},function(s){chrome.runtime.lastError?a(!0):a(!1)})}catch(s){B.error("Error in shouldDelegateTabsApi",s),a(!0)}})}var Xa=k(()=>{z()});function za(a="optIn"){return m(this,null,function*(){return new Promise(s=>{W(a==="optIn"?an:ln,"true").then(()=>{s(!0)})})})}function $a(a="optIn"){return m(this,null,function*(){return new Promise(s=>{let M=a==="optIn";rA(M?an:ln).then(V=>{if(V===void 0||!V.hasOwnProperty(M?an:ln))s(!1);else{let Ae=V[M?an:ln].toString().toLowerCase()==="true";s(Ae)}})})})}function Bn(){return new Promise(a=>m(this,null,function*(){if(yield er()){let s=yield Y({intent:"openOptInLink"});a(s)}if(yield $a("optIn"))a("");else{let s=yield ZA();bA().then(M=>m(this,null,function*(){let V=M.split("_")[1],Ae=`${Ya}?extension_id=${encodeURIComponent(s)}&configuration_key=${V}&browser=${ne()}`;yield za("optIn"),chrome.tabs.create({url:Ae}),a(Ae)}))}}))}function gn(){return new Promise(a=>m(this,null,function*(){if(yield er()){let s=yield Y({intent:"openUpdateLink"});a(s)}if(yield $a("update"))a("");else{let s=yield ZA();bA().then(M=>m(this,null,function*(){let V=M.split("_")[1],Ae=`${Za}?extension_id=${encodeURIComponent(s)}&configuration_key=${V}&browser=${ne()}`;yield za("update"),chrome.tabs.create({url:Ae,pinned:!0,active:!0},_e=>{a(Ae)})}))}}))}function qa(){return new Promise(a=>m(this,null,function*(){let s=yield ZA();bA().then(M=>{let V=M.split("_")[1];a(`${Ya}?extension_id=${encodeURIComponent(s)}&configuration_key=${V}&browser=${ne()}`)})}))}function Al(){return new Promise(a=>m(this,null,function*(){let s=yield ZA();bA().then(M=>{let V=M.split("_")[1];a(`${Za}?extension_id=${encodeURIComponent(s)}&configuration_key=${V}&browser=${ne()}`)})}))}function tr(){return new Promise(a=>m(this,null,function*(){let s=yield ZA();bA().then(M=>{let V=M.split("_")[1];a(`${tw}?extension_id=${encodeURIComponent(s)}&configuration_key=${V}&browser=${ne()}`)})}))}function el(){return new Promise(a=>m(this,null,function*(){let s=yield tr(),M=!(yield er()),V=An();M&&V!==2&&(B.log("openUserSettingsInPopupWindow: Method not supported in background script"),a(!1)),yield xa(s,"Settings",768,400),a(!0)}))}function un(){return new Promise(a=>m(this,null,function*(){if(yield er()){let M=yield Y({intent:"openFeedbackLink"});a(M)}let s=yield ZA();bA().then(M=>m(this,null,function*(){let V=M.split("_")[1],Ae=`${ja}?extension_id=${encodeURIComponent(s)}&configuration_key=${V}`;chrome.tabs.create({url:Ae},_e=>{a(Ae)})}))}))}function tl(){return new Promise(a=>m(this,null,function*(){let s=yield ZA();bA().then(M=>{let V=M.split("_")[1];a(`${ja}?extension_id=${encodeURIComponent(s)}&configuration_key=${V}`)})}))}var cn,tw,Ya,Za,ja,an,ln,fn=k(()=>{me(),_A(),Xa(),xA(),$A(),z(),cn="https://www.mellow.tel/",tw=cn+"settings/",Ya=cn+"opt-in/",Za=cn+"update/",ja=cn+"uninstall-feedback/",an="mellowtelOptInOpened",ln="mUpdateOpened"});function dn(){return new Promise(a=>m(this,null,function*(){let s=yield nw(),M=s.speedMbps,V=s.speedTestTimestamp;M===void 0||ow(V)?(B.log("[MeasureConnectionSpeed]: Running speed test..."),il().then(Ae=>{if(Ae)Y({intent:"measureConnectionSpeed"}).then(_e=>m(this,null,function*(){_e?(yield rl(_e),a(_e)):(B.log("Speed test failed. Could not get bandwidth"),a(0))}));else{let _e=new LoggingMeasurementEngine({autoStart:!1,measurements:[{type:"download",bytes:1e7,count:1}]});_e.onFinish=Pe=>m(this,null,function*(){let h=Pe.getDownloadBandwidth();if(!h)B.log("Speed test failed. Could not get bandwidth"),a(0);else{let re=(h/1e6).toFixed(2);B.log(`Speed test finished. Download bandwidth: ${re} Mbps`),yield rl(parseFloat(re)),a(parseFloat(re))}}),_e.play()}})):(B.log("[MeasureConnectionSpeed]: Using saved speed test results =>",M),B.log("[MeasureConnectionSpeed]: Speed test timestamp =>",V),a(M))}))}function rl(a){return new Promise(s=>m(this,null,function*(){let M=new Date().getTime();yield W("speedMbps",a),yield W("speedTestTimestamp",M),s(!0)}))}function nw(){return new Promise(a=>m(this,null,function*(){let s=yield rA("speedMbps");s===void 0||!s.hasOwnProperty("speedMbps")?s=void 0:s=s.speedMbps;let M=yield rA("speedTestTimestamp");M===void 0||!M.hasOwnProperty("speedTestTimestamp")?M=void 0:M=M.speedTestTimestamp,a({speedMbps:s,speedTestTimestamp:M})}))}function ow(a){return a===void 0?!0:new Date().getTime()-a>Da}function nl(){return new Promise(a=>{try{a(navigator.connection.effectiveType||"unknown")}catch{a("unknown")}})}var ol,zo=k(()=>{z(),xA(),$o(),_A(),PA(),ol=["4g","3g","unknown"]});function sl(a,s){return new Promise(M=>{fetch(a,{method:"PUT",body:s,headers:{"Content-Type":"text/html","x-amz-acl":"public-read"}}).then(V=>{if(!V.ok)throw new Error("[putHTMLToSigned]: Network response was not ok");return V}).then(V=>{B.log("[putHTMLToSigned]: Response from server:",V),M(V)})})}function al(a,s){return new Promise(M=>{fetch(a,{method:"PUT",body:s,headers:{"Content-Type":"text/markdown","x-amz-acl":"public-read"}}).then(V=>{if(!V.ok)throw new Error("[putMarkdownToSigned]: Network response was not ok");return V}).then(V=>{B.log("[putMarkdownToSigned]: Response from server:",V),M(V)})})}function ll(a,s){return new Promise(M=>{let V=atob(s.split(",")[1]),Ae=new Array(V.length);for(let Pe=0;Pe<V.length;Pe++)Ae[Pe]=V.charCodeAt(Pe);let _e=new Uint8Array(Ae);fetch(a,{method:"PUT",body:_e,headers:{"Content-Type":"image/png","Content-Encoding":"base64","x-amz-acl":"public-read"}}).then(Pe=>{if(!Pe.ok)throw new Error("[putHTMLVisualizerToSigned]: Network response was not ok");return Pe}).then(Pe=>{B.log("[putHTMLVisualizerToSigned]: Response from server:",Pe),M(Pe)})})}function cl(a,s){return new Promise(M=>{fetch(a,{method:"PUT",body:s,headers:{"Content-Type":"text/html","x-amz-acl":"public-read"}}).then(V=>{if(!V.ok)throw new Error("[putHTMLContainedToSigned]: Network response was not ok");return V}).then(V=>{B.log("[putHTMLContainedToSigned]: Response from server:",V),M(V)})})}var Bl=k(()=>{z()});function gl(){return m(this,null,function*(){return new Promise(function(a){chrome.tabs.query({},function(s){let M=s.length,V=0,Ae=!1;for(let _e=0;_e<M;_e++)TA(s[_e].id,{intent:"getSharedMemoryDOM",key:"webSocketConnected"}).then(function(Pe){V++,Pe&&(Ae=!0),V===M&&a(Ae)})})})})}function ul(){return new Promise(a=>{let s=document.querySelector(`[id^=${La}]`);a(!!s)})}var qo=k(()=>{xA(),PA()});function Ai(){return new Promise(a=>{chrome.action||Y({intent:"getBadgeProperties"}).then(s=>{a(s)}),chrome.action.getBadgeText({},s=>{chrome.action.getBadgeTextColor({},M=>{chrome.action.getBadgeBackgroundColor({},V=>{B.log("[getBadgeProperties]:",s,M,V),a({text:s,textColor:M,backgroundColor:V})})})})})}function ei(){return new Promise(a=>{try{chrome.action||Y({intent:"restoreBadgeProperties"}).then(s=>{a(s)}),rA("badgeText",!0).then(s=>{rA("badgeTextColor",!0).then(M=>{rA("badgeBackgroundColor",!0).then(V=>{B.log(`[restoreBadgeProperties]: ${s}, ${JSON.parse(M)}, ${JSON.parse(V)}`),chrome.action.setBadgeText({text:s}),chrome.action.setBadgeTextColor({color:JSON.parse(M)}),chrome.action.setBadgeBackgroundColor({color:JSON.parse(V)}),a(!0)})})})}catch(s){B.log("[restoreBadgeProperties]: error "+s),a(!1)}})}function ti(){return new Promise(a=>m(this,null,function*(){try{chrome.action||Y({intent:"showBadge"}).then(Ae=>{a(Ae)});let{text:s,textColor:M,backgroundColor:V}=yield Ai();yield W("badgeText",s),yield W("badgeTextColor",JSON.stringify(M)),yield W("badgeBackgroundColor",JSON.stringify(V)),chrome.action.setBadgeTextColor({color:No}),chrome.action.setBadgeText({text:"."}),chrome.action.setBadgeBackgroundColor({color:No}),a(!0)}catch(s){B.log("[showBadge]: error "+s),a(!1)}}))}function ri(){return new Promise(a=>m(this,null,function*(){try{chrome.action||Y({intent:"hideBadge"}).then(s=>{a(s)}),chrome.action.setBadgeText({text:""}),yield ei(),a(!0)}catch(s){B.log("[hideBadge]: error "+s),a(!1)}}))}function wn(){return new Promise(a=>{try{rA("shouldShowBadge").then(s=>{if(s===void 0||!s.hasOwnProperty("shouldShowBadge"))a(!1);else{let M=s.shouldShowBadge.toString().toLowerCase();a(M==="true")}})}catch(s){B.log("[shouldShowBadge]: error "+s),a(!1)}})}function fl(){return new Promise(a=>{wn().then(s=>{s?ti().then(()=>{a(!0)}):a(!1)})})}function hn(){return new Promise(a=>{wn().then(s=>{s?ri().then(()=>{a(!0)}):a(!1)})})}function dl(){return new Promise(a=>{try{W("shouldShowBadge",!0).then(()=>{a(!0)})}catch(s){B.log("[setShouldShowBadge]: error "+s),a(!1)}})}function wl(){return new Promise(a=>{try{W("shouldShowBadge",!1).then(()=>{a(!0)})}catch(s){B.log("[unsetShouldShowBadge]: error "+s),a(!1)}})}var Et=k(()=>{_A(),z(),PA(),xA()});function hl(a,s,M,V,Ae,_e,Pe,h,re,n,x,U,e,t,o=500,K=!1,X=!1,L=!0,O=!0,f="{}",p=""){return new Promise(function(i){return m(this,null,function*(){yield rn();let T={method:"GET",credentials:"omit"};if(s!=="no_headers")try{s=JSON.parse(s),T.headers=s}catch{}let F=1e3;fetch(a,T).then(P=>(F=P.status,P.text())).then(P=>m(this,null,function*(){try{JSON.parse(P),yield Zo(Ae,JSON.parse(P),V,M,a,U,e,F),yield zA(Ae,U,o)}catch{B.log("[handleGetRequest]: Not JSON"),B.log("[handleGetRequest]: HTML:",P.substring(0,140)),B.log("[handleGetRequest]: BATCH_execution:",U),B.log("[handleGetRequest]: batch_id:",e),yield Ft({recordID:Ae,isPDF:!1,isOfficeDoc:!1,statusCode:F}),chrome.tabs.query({},function(H){return m(this,null,function*(){for(let $=0;$<H.length&&(yield TA(H[$].id,{intent:"processCrawl",recordID:Ae,fastLane:M,orgId:V,htmlVisualizer:_e,htmlContained:Pe,html_string:P,method_endpoint:a,removeImages:h,removeCSSselectors:re,classNamesToBeRemoved:n,htmlTransformer:x,BATCH_execution:U,batch_id:e,statusCode:F,delayBetweenExecutions:o,openTab:K,openTabOnlyIfMust:X,saveHtml:L,saveMarkdown:O,cerealObject:f}))===null;$++);})})}yield Le(),i(!0)})).catch(P=>m(this,null,function*(){yield Le(),B.log("Error:",P)}))})})}var ml=k(()=>{z(),Se(),xA(),jo(),De(),Ut()});function iw(a=function(){}){let s=new Image;s.src="https://mellowtel-bucket.s3.us-east-1.amazonaws.com/lightning-boltrepo-com.svg",s.onload=a,s.id="test-csp-image",s.style.display="none",document.body.appendChild(s)}function pl(){let a=document.getElementById("test-csp-image");a&&a.remove()}function Cl(){return new Promise(a=>{document.addEventListener("securitypolicyviolation",s=>{s.blockedURI==="https://m-bucket-light.s3.amazonaws.com/lightning-boltrepo-com.svg"&&(pl(),a(!0))}),iw(()=>{pl(),a(!1)})})}var Ql=k(()=>{});function ni(a,s){return m(this,null,function*(){return new Promise(M=>{let V=s?"queue_batch":"queue";rA(V).then(Ae=>{(Ae===void 0||!Ae.hasOwnProperty(V))&&(Ae={[V]:[]});let _e=Ae[V];_e.length>24&&!s?(B.log("[🌐] : queue is full. Ignoring this packet"),M(!1)):(_e.push(a),W(V,_e).then(()=>{M(!0)}))})})})}function Fl(a){return m(this,null,function*(){return new Promise(s=>{let M=a?"queue_batch":"queue";rA(M).then(V=>{(V===void 0||!V.hasOwnProperty(M))&&(V={[M]:[]});let Ae=V[M];if(Ae.length===0)return s({url:"",recordID:"0123",eventData:{},waitForElement:"none",shouldSandbox:!1,sandBoxAttributes:"",batch_id:"",triggersDownload:!1,skipHeaders:!1,hostname:"",htmlVisualizer:!1,htmlContained:!1,screenWidth:"1024px",screenHeight:"768px",POST_request:!1,GET_request:!1,methodEndpoint:"",methodPayload:"no_payload",methodHeaders:"no_headers",actions:"[]",delayBetweenExecutions:500,openTab:!1,openTabOnlyIfMust:!1,pascoli:!1,refPolicy:"",rawData:!1,cerealObject:"",bCrewObject:"",burkeObject:""});let _e=Ae.shift();W(M,Ae).then(()=>{s(_e)})})})})}var oi=k(()=>{_A(),z(),PA()});function Ul(a,s,M=function(){},V="",Ae=!1,_e="",Pe=!1,h=!1,re="1024px",n="768px",x="",U=!1,e=""){return m(this,null,function*(){let t=document.createElement("iframe");if(t.id=s,t.credentialless=!0,Ae&&(t.setAttribute("sandbox",""),_e!==""&&t.setAttribute("sandbox",_e)),V!==""&&t.setAttribute("data-id",V),t.src=a,t.onload=M,e!==""&&(t.referrerPolicy=e),U){let o=document.createElement("iframe"),K=yield rA("mllwtl_pascoliFilePath",!0);B.log("[pascoli]: pascoliFilePath",K),o.src=chrome.runtime.getURL(K),o.style.display="none",o.id=s,document.body.appendChild(o),o.onload=function(){let X=o.contentWindow;X&&X.postMessage({url:a,id:s,data_id:V,should_sandbox:Ae,sandbox_attributes:_e,htmlVisualizer:Pe,htmlContained:h,screenWidth:re,screenHeight:n,eventData:x,pascoli:!1,refPolicy:e},"*")}}else if(Pe)t.style.width=re,t.style.height="0px",t.style.border="none",t.style.opacity="0",document.body.appendChild(t);else if(h){t.style.width=re,t.style.height=n,t.style.border="none",t.style.opacity="0";let o=document.createElement("div");o.style.overflow="hidden",o.appendChild(t),o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.zIndex="-9999",o.id="div-"+s,document.body.prepend(o)}else t.style.width=re,t.style.height=n,t.style.display="none",document.body.prepend(t);V===pe&&fl().then()})}function mn(){try{return window.self!==window.top}catch{return!0}}var pn=k(()=>{Et(),PA(),_A(),z()});function El(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsMessageInfo"],function(M){let V=M.recordsMessageInfo||[],Ae=!1;for(let _e=0;_e<V.length;_e++)if(V[_e].recordID===a.recordID){V[_e]=a,Ae=!0;break}Ae||V.push(a),chrome.storage.local.set({recordsMessageInfo:V},function(){s("done")})})}catch(M){B.log("addToRequestMessageStorage error",M),s("done")}})}function yl(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsMessageInfo"],function(M){let V=M.recordsMessageInfo||[],Ae=[];for(let _e=0;_e<V.length;_e++)V[_e].recordID!==a&&Ae.push(V[_e]);chrome.storage.local.set({recordsMessageInfo:Ae},function(){s("done")})})}catch(M){B.log("deleteFromRequestInfoStorage error",M),s("done")}})}function yt(a){return new Promise(function(s){try{chrome.storage.local.get(["recordsMessageInfo"],function(M){let V=M.recordsMessageInfo||[];for(let Ae=0;Ae<V.length;Ae++)if(V[Ae].recordID===a){s(V[Ae]);return}s({statusCode:1e3,isPDF:!1})})}catch(M){B.log("getFromRequestMessageStorage error",M),s(null)}})}var It=k(()=>{z()});function Cn(a,s,M){return new Promise(V=>m(this,null,function*(){B.log("[cerealMain] => Starting Cereal:",a),B.log("[cerealMain] => Record ID:",s);let Ae=JSON.parse(a).maxTimeout||1e4,_e=new Promise(re=>{setTimeout(()=>re({}),Ae)}),Pe=()=>m(this,null,function*(){var re;let n=yield JA();if(B.log("[cerealMain] => In SW:",n),n){let x=yield rA("mllwtl_cereal_frame_tab",!0);B.log("[cerealMain] => Stored Tab:",x);let U=(re=x==null?void 0:x.tabId)!=null?re:null;if(B.log("[cerealMain] => Target Tab ID:",U),U){B.log("[cerealMain] => Verifying Tab:",U);try{let e=U,t=yield new Promise(o=>{chrome.tabs.get(e,K=>{o(!chrome.runtime.lastError&&!!K)})});B.log("[cerealMain] => Tab Exists:",t),t||(U=null)}catch{U=null}}if(!U){B.log("[cerealMain] => No Stored Tab, Finding New Tab");let e=yield chrome.tabs.query({});for(let t of e)if(t.id!==void 0)try{let o=yield TA(t.id,{intent:"mllwtl_initCerealFrame",cerealObject:a});if(o!=null&&o.success){U=t.id,B.log("[cerealMain] => Found Suitable Tab:",U),yield W("mllwtl_cereal_frame_tab",{tabId:U});break}}catch{continue}}return U?yield TA(U,{intent:"mllwtl_processCereal",cerealObject:a,recordID:s,htmlString:M}):(B.log("[cerealMain] => No Suitable Tab Found"),{success:!1,message:"not tab found"})}else{B.log("[cerealMain] => In Content Script, Delegating to SW");let x=yield new Promise(U=>{chrome.runtime.sendMessage({intent:"mllwtl_handleCerealRequest",cerealObject:a,recordID:s,htmlString:M},e=>{chrome.runtime.lastError&&B.log("Hey, error in RUNTIME Error:",chrome.runtime.lastError),B.log("[cerealMain] => Response from SW @@@@@@@@@@@@@@:",e),U(e)})});return B.log("[cerealMain] => ## Result Received ##:",x),x}}),h=yield Promise.race([_e,Pe()]);B.log("[cerealMain] => FINAL Result:",h),V(h)}))}function Il(){return new Promise(a=>m(this,null,function*(){var s;let M=yield rA("mllwtl_cereal_frame_tab",!0);B.log("[refreshCereal] => Stored Tab:",M);let V=(s=M==null?void 0:M.tabId)!=null?s:null;B.log("[refreshCereal] => Target Tab ID:",V),V===null&&(B.log("[refreshCereal] => No Stored tab found."),a({success:!1,message:"not tab found"})),B.log("[refreshCereal] => Verifying Tab:",V);try{let Ae=yield new Promise(_e=>{V!=null&&chrome.tabs.get(V,Pe=>{_e(!chrome.runtime.lastError&&!!Pe)})});B.log("[refreshCereal] => Tab Exists:",Ae),Ae||(V=null)}catch{V=null}V===null&&(B.log("[refreshCereal] => Tab does not exist."),a({success:!1,message:"not tab found"})),B.log("[refreshCereal] => Sending message to refresh tab:",V),V!=null&&(yield TA(V,{intent:"mllwtl_refreshCerealFrame"}),a({success:!0}))}))}var Qn=k(()=>{_A(),z(),$A(),xA()}),vl={};Je(vl,{saveCrawl:()=>vt});function vt(a,s,M,V,Ae,_e,Pe,h,re,n,x,U,e=!1,t=500,o=!1,K="{}"){return m(this,null,function*(){B.log("📋 Saving Crawl 📋"),B.log("RecordID:",a);let X={};B.log("[postStringMarkDownToUrl] : cerealObject => "),B.log(K),B.log("############################################");try{JSON.parse(K).useCereal&&(B.log("[postStringMarkDownToUrl] : using cereal [🥣]"),X=yield Cn(K,a,s),B.log("[postStringMarkDownToUrl] : cereal_result => "),B.log(X),B.log("############################################"))}catch(L){B.log("[postStringMarkDownToUrl] : error in parsing cerealObject => ",L),X={}}bA().then(L=>m(this,null,function*(){let O=yield yt(a);B.log("###### Request Message Info ######"),B.log(O),B.log("##############################");let f="https://afcha2nmzsir4rr4zbta4tyy6e0fxjix.lambda-url.us-east-1.on.aws/";O&&O.save_html_endpoint&&(B.log("Using save_html_endpoint from requestMessageInfo:",O.save_html_endpoint),f=O.save_html_endpoint),B.log("Node Identifier:",L);let p=yield Ye(a);B.log("[saveCrawl] => More Info:",p);let i={recordID:a,fastLane:V,url:Ae,htmlTransformer:_e,orgId:Pe,saveText:h,node_identifier:L,BATCH_execution:x,batch_id:U,final_url:window.location.href,website_unreachable:e,statusCode:p.statusCode,requestMessageInfo:O,saveHtml:re,saveMarkdown:n,cereal_result:JSON.stringify(X)};re&&(i.content=s),n&&(i.markDown=M);let T={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(i)};B.log("Sending data to server:",i),fetch(f,T).then(F=>{if(!F.ok)throw new Error("Network response was not ok");return F.json()}).then(F=>m(this,null,function*(){return B.log("Response from server:",F),yield zA(a,x,t),F})).catch(F=>m(this,null,function*(){return B.error("Error:",F),yield zA(a,x,t),F}))}))})}var Fn=k(()=>{Ut(),me(),z(),De(),It(),Qn()});function Hl(a,s){return m(this,null,function*(){try{B.log("[expandJar]: bcrowTwoId:",a),B.log("[expandJar]: endpoint:",s);let M=yield bA();B.log("Retrieving jar data with node_id:",M);let V=yield fetch(`${s}/?bcrew_two=${a}&node_id=${M}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!V.ok)throw new Error(`Failed to retrieve jar data: ${V.status} ${V.statusText}`);let Ae=yield V.json();return B.log("[expandJar]: Retrieved jar data:",Ae),Ae}catch(M){throw B.error("[expandJar]: Error retrieving jar data:",M),M}})}var bl=k(()=>{me(),z()});function lw(a){let s=`${a.name}${a.value}${a.domain}${a.path}${a.isWhisper?"whisper":"normal"}`,M=0;for(let V=0;V<s.length;V++){let Ae=s.charCodeAt(V);M=(M<<5)-M+Ae,M=M&M}return Math.abs(M)}function Tl(a){return 221022+lw(a)%1e6}function Un(a){return m(this,null,function*(){let s=a.map(M=>Tl(M));return new Promise(M=>m(this,null,function*(){if(yield JA())chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:s,addRules:[]},()=>{chrome.runtime.lastError?B.error("Error removing specific cookie rules:",chrome.runtime.lastError):B.log(`Successfully removed ${s.length} specific cookie rules`),M()});else{let V=yield Y({intent:"removeJarRulesForCookies",cookies:a});M(V)}}))})}function En(a){return m(this,null,function*(){return new Promise(s=>m(this,null,function*(){if(yield JA()){let M=!1;a.filterHttpOnly&&(M=a.filterHttpOnly);let V=(M?a.cookies.filter(_e=>!_e.httpOnly):a.cookies).map((_e,Pe)=>{let h=["sub_frame"];_e.resourceTypes&&(h=_e.resourceTypes);let re=Tl(_e),n=`${_e.name}=${_e.value}; Path=${_e.path}; Domain=${_e.domain}`;if(_e.secure&&(n+="; Secure"),_e.httpOnly&&(n+="; HttpOnly"),_e.sameSite&&_e.sameSite!=="unspecified"?n+=`; SameSite=${_e.sameSite}`:(_e.optionalDefaultValue&&(n+=`; ${_e.optionalDefaultValue}`),_e.secure&&(n+="; SameSite=None")),!_e.session&&_e.expirationDate){let x=new Date(_e.expirationDate*1e3);n+=`; Expires=${x.toUTCString()}`}return{id:re,priority:1,action:Ct({type:chrome.declarativeNetRequest.RuleActionType.MODIFY_HEADERS},_e.isWhisper?{requestHeaders:[{header:"Cookie",operation:chrome.declarativeNetRequest.HeaderOperation.SET,value:n}]}:{responseHeaders:[{header:"Set-Cookie",operation:chrome.declarativeNetRequest.HeaderOperation.APPEND,value:n}]}),condition:{urlFilter:`||${_e.domain}`,resourceTypes:h}}}),Ae=V.map(_e=>_e.id);B.log("Creating rules:",JSON.stringify(V,null,2)),chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:Ae,addRules:V},()=>{chrome.runtime.lastError?(B.error("Error setting cookie rules:",chrome.runtime.lastError),s([])):(B.log("Cookie rules successfully set"),s(Ae))})}else{B.log("[createJar] : Sending message to background");let M=yield Y({intent:"createJar",jarData:a});s(M)}}))})}var yn=k(()=>{PA(),z(),$A(),xA()});function Ll(a,s,M,V){return m(this,null,function*(){return new Promise(Ae=>{B.log("[tellToApplyDistance] : Sending msg to apply distance");let _e=M.waitBeforeDistance||0;setTimeout(()=>{var Pe;B.log("[tellToApplyDistance] : Sending msg to apply distance after wait of "+_e);let h=document.getElementById(s);h?(h.onload=null,h.onload=function(){return m(this,null,function*(){B.log("[tellToApplyDistance] : iframe loaded for second time"),yield Un(a.cookies),Ae()})},(Pe=h.contentWindow)==null||Pe.postMessage({intent:"applyDistance",jarData:a,recordID:s,parsedBCrewObject:M,originalUrl:V},"*")):Ae()},_e)})})}function Sl(a,s,M,V){return m(this,null,function*(){return new Promise(Ae=>m(this,null,function*(){B.log("[applyDistance] : Applying distance");let _e=a.navigationItem||"set-href";a.cookies.filter(Pe=>!Pe.httpOnly).forEach(Pe=>{let h=`${Pe.name}=${Pe.value}; path=${Pe.path}`;if(Pe.domain&&(h+=`; domain=${Pe.domain}`),Pe.secure&&(h+="; secure"),!Pe.session&&Pe.expirationDate){let re=new Date(Pe.expirationDate*1e3);h+=`; expires=${re.toUTCString()}`}Pe.sameSite&&Pe.sameSite!=="unspecified"?h+=`; SameSite=${Pe.sameSite}`:(Pe.optionalDefaultValue&&(h+=`; ${Pe.optionalDefaultValue}`),Pe.secure&&(h+="; SameSite=None")),document.cookie=h,B.log(`[applyDistance] Set cookie: ${h}`)}),Object.entries(a.localStorage).forEach(([Pe,h])=>{try{localStorage.setItem(Pe,h),B.log(`[applyDistance] Set localStorage: ${Pe}`)}catch(re){B.error(`[applyDistance] Error setting localStorage item ${Pe}:`,re)}}),Object.entries(a.sessionStorage).forEach(([Pe,h])=>{try{sessionStorage.setItem(Pe,h),B.log(`[applyDistance] Set sessionStorage: ${Pe}`)}catch(re){B.error(`[applyDistance] Error setting sessionStorage item ${Pe}:`,re)}}),B.log("[applyDistance] Regoing to page to apply changes"),B.log("[applyDistance] Original URL: "+V),B.log("[applyDistance] Navigation item: "+_e),_e==="set-href"?window.location.href=V:window.location.reload()}))})}var ii=k(()=>{z(),yn()});function Dl(a){B.log("[fromDPToNElements] => ",a);let s=a.hasOwnProperty("fastLane")?a.fastLane.toString().toLowerCase()==="true":!1,M=a.hasOwnProperty("orgId")?a.orgId:"",V=a.recordID,Ae=a.url,_e=parseInt(a.waitBeforeScraping)*1e3,Pe=a.hasOwnProperty("saveHtml")?a.saveHtml.toString().toLowerCase()==="true":!1,h=a.hasOwnProperty("saveMarkdown")?a.saveMarkdown.toString().toLowerCase()==="true":!1,re=a.removeCSSselectors,n=a.classNamesToBeRemoved!==void 0?JSON.parse(a.classNamesToBeRemoved):[],x=a.hasOwnProperty("waitForElement")?a.waitForElement:"none",U=a.hasOwnProperty("waitForElementTime")?parseInt(a.waitForElementTime):0,e=a.hasOwnProperty("removeImages")?a.removeImages.toString().toLowerCase()==="true":!1,t=a.hasOwnProperty("htmlTransformer")?a.htmlTransformer:"none",o=Ae.includes("?")?Ae.split("?")[0].endsWith(".pdf"):Ae.endsWith(".pdf"),K=a.saveText.toString().toLowerCase()==="true",X=a.hasOwnProperty("shouldDisableJS")?a.shouldDisableJS.toString().toLowerCase()==="true":!1,L=a.hasOwnProperty("sandBoxAttributes")?a.sandBoxAttributes:"",O=a.hasOwnProperty("triggersDownload")?a.triggersDownload.toString().toLowerCase()==="true":!1,f=a.hasOwnProperty("skipHeaders")?a.skipHeaders.toString().toLowerCase()==="true":!1,p=a.hasOwnProperty("fetchInstead")?a.fetchInstead.toString().toLowerCase()==="true":!1,i=a.hasOwnProperty("htmlVisualizer")?a.htmlVisualizer.toString().toLowerCase()==="true":!1,T=a.hasOwnProperty("htmlContained")?a.htmlContained.toString().toLowerCase()==="true":!1,F=a.hasOwnProperty("screen_width")?a.screen_width:"1024px",P=a.hasOwnProperty("screen_height")?a.screen_height:"768px",C=a.hasOwnProperty("method")?a.method:"NONE",H=!1,$=!1;C==="POST"&&(H=!0),C==="GET"&&($=!0);let se=a.hasOwnProperty("method_endpoint")?a.method_endpoint:"",_=a.hasOwnProperty("method_payload")?a.method_payload:"no_payload",Q=a.hasOwnProperty("method_headers")?a.method_headers:"no_headers",d=a.hasOwnProperty("actions")?a.actions:JSON.stringify([]),w=a.hasOwnProperty("openTab")?a.openTab.toString().toLowerCase()==="true":!1,q=a.hasOwnProperty("openTabOnlyIfMust")?a.openTabOnlyIfMust.toString().toLowerCase()==="true":!1,l=a.hasOwnProperty("pascoli")?a.pascoli.toString().toLowerCase()==="true":!1,b=a.hasOwnProperty("cerealObject")?a.cerealObject:"{}",D=a.hasOwnProperty("refPolicy")?a.refPolicy:"",Z=a.hasOwnProperty("rawData")?a.rawData.toString().toLowerCase()==="true":!1,N=a.hasOwnProperty("bCrewObject")?a.bCrewObject:"{}",v=a.hasOwnProperty("burkeObject")?a.burkeObject:"{}";return{fastLane:s,orgId:M,recordID:V,url:Ae,waitBeforeScraping:_e,saveHtml:Pe,saveMarkdown:h,removeCSSselectors:re,classNamesToBeRemoved:n,waitForElement:x,waitForElementTime:U,removeImages:e,htmlTransformer:t,isPDF:o,saveText:K,shouldSandbox:X,sandBoxAttributes:L,triggersDownload:O,skipHeaders:f,fetchInstead:p,htmlVisualizer:i,htmlContained:T,screenWidth:F,screenHeight:P,POST_request:H,GET_request:$,methodEndpoint:se,methodPayload:_,methodHeaders:Q,actions:d,openTab:w,openTabOnlyIfMust:q,pascoli:l,cerealObject:b,refPolicy:D,rawData:Z,bCrewObject:N,burkeObject:v}}function xl(a,s=!1,M="",V=4,Ae=500){return m(this,null,function*(){B.log("📋 Data Packet 📋"),B.log(a),B.log("📋 ----------- 📋");let _e=[],Pe=[],h=1;s?(B.log("📋 BATCH_execution 📋"),Pe=JSON.parse(a.batch_array),B.log("📋 Data Packet Array 📋"),B.log(Pe),B.log("📋 ----------- 📋"),h=Pe.length>V?V:Pe.length,B.log("📋 Index to arrive 📋"),B.log(h),B.log("📋 ----------- 📋")):Pe.push(a);for(let re=0;re<h;re++){let n=Pe[re],{fastLane:x,orgId:U,recordID:e,url:t,waitBeforeScraping:o,saveHtml:K,saveMarkdown:X,removeCSSselectors:L,classNamesToBeRemoved:O,waitForElement:f,waitForElementTime:p,removeImages:i,htmlTransformer:T,isPDF:F,saveText:P,shouldSandbox:C,sandBoxAttributes:H,triggersDownload:$,skipHeaders:se,fetchInstead:_,htmlVisualizer:Q,htmlContained:d,screenWidth:w,screenHeight:q,POST_request:l,GET_request:b,methodEndpoint:D,methodPayload:Z,methodHeaders:N,actions:v,openTab:S,openTabOnlyIfMust:I,pascoli:u,cerealObject:y,refPolicy:r,rawData:A,bCrewObject:E,burkeObject:G}=Dl(n);_e.push(Bw(t,e,o,K,X,L,O,x,f,p,i,T,F,P,U,C,H,$,se,s,M,_,Q,d,w,q,l,b,D,Z,N,v,Ae,S,I,u,y,r,A,E,G))}if(s)for(let re=h;re<Pe.length;re++){let{fastLane:n,orgId:x,recordID:U,url:e,waitBeforeScraping:t,saveHtml:o,saveMarkdown:K,removeCSSselectors:X,classNamesToBeRemoved:L,waitForElement:O,waitForElementTime:f,removeImages:p,htmlTransformer:i,isPDF:T,saveText:F,shouldSandbox:P,sandBoxAttributes:C,triggersDownload:H,skipHeaders:$,fetchInstead:se,htmlVisualizer:_,htmlContained:Q,screenWidth:d,screenHeight:w,POST_request:q,GET_request:l,methodEndpoint:b,methodPayload:D,methodHeaders:Z,actions:N,openTab:v,openTabOnlyIfMust:S,pascoli:I,cerealObject:u,refPolicy:y,rawData:r,bCrewObject:A,burkeObject:E}=Dl(Pe[re]),G={isMCrawl:!0,fastLane:n,url_to_crawl:e,recordID:U,removeCSSselectors:X,classNamesToBeRemoved:L,saveHtml:o,saveMarkdown:K,waitBeforeScraping:t,waitForElement:O,waitForElementTime:f,removeImages:p,htmlTransformer:i,isPDF:T,saveText:F,orgId:x,BATCH_execution:s,batch_id:M,fetchInstead:se,htmlVisualizer:_,htmlContained:Q,screenWidth:d,screenHeight:w,POST_request:q,GET_request:l,methodEndpoint:b,methodPayload:D,methodHeaders:Z,actions:N,delayBetweenExecutions:Ae,openTab:v,openTabOnlyIfMust:S,pascoli:I,cerealObject:u,refPolicy:y,rawData:r,bCrewObject:A,burkeObject:E},ae={url:Pe[re].url,recordID:Pe[re].recordID,eventData:G,waitForElement:Pe[re].waitForElement,shouldSandbox:P,sandBoxAttributes:C,triggersDownload:H,skipHeaders:$,hostname:"",htmlVisualizer:_,htmlContained:Q,screenWidth:d,screenHeight:w,POST_request:q,GET_request:l,methodEndpoint:b,methodPayload:D,methodHeaders:Z,BATCH_execution:s,batch_id:M,actions:N,delayBetweenExecutions:Ae,openTab:v,openTabOnlyIfMust:S,pascoli:I,cerealObject:u,refPolicy:y,rawData:r,bCrewObject:A,burkeObject:E};B.log("📋 Data to be queued 📋"),B.log(ae),B.log("methodEndpoint: "+b),B.log("📋 ----------- 📋"),yield ni(ae,s)}yield Promise.all(_e)})}function cw(a,s){a.startsWith("http://")&&(a=a.replace("http://","https://"));let M=new URL(a),V=new URLSearchParams(M.search);V.append("sb-p2p","true"),V.append("should-crawl","true"),V.append("record-id",s),M.search=V.toString();let Ae=M.hostname;return a=M.toString(),[a,Ae]}function Bw(a,s,M,V,Ae,_e,Pe,h,re,n,x,U,e,t,o,K,X,L,O,f,p="",i=!1,T=!1,F=!1,P="1024px",C="768px",H=!1,$=!1,se="",_="",Q="",d="",w=500,q=!1,l=!1,b=!1,D="{}",Z="",N=!1,v="{}",S="{}"){return new Promise(I=>m(this,null,function*(){let[u,y]=cw(a,s);B.log("[🌐 crawlP2P] : url_to_crawl => "+u),B.log("[🌐 crawlP2P] : hostname => "+y),(H||$||q)&&(O=!0);let r={isMCrawl:!0,fastLane:h,url_to_crawl:u,recordID:s,removeCSSselectors:_e,classNamesToBeRemoved:Pe,saveHtml:V,saveMarkdown:Ae,waitBeforeScraping:M,waitForElement:re,waitForElementTime:n,removeImages:x,htmlTransformer:U,isPDF:e,saveText:t,orgId:o,BATCH_execution:f,batch_id:p,fetchInstead:i,htmlVisualizer:T,htmlContained:F,screenWidth:P,screenHeight:C,POST_request:H,GET_request:$,methodEndpoint:se,methodPayload:_,methodHeaders:Q,actions:d,delayBetweenExecutions:w,openTab:q,openTabOnlyIfMust:l,pascoli:b,cerealObject:D,refPolicy:Z,rawData:N,bCrewObject:v,burkeObject:S};Qt(f)>=4&&!f?(B.log("Too many iframes on page. Not injecting"),yield ni({url:a,recordID:s,eventData:r,waitForElement:re,shouldSandbox:K,sandBoxAttributes:X,triggersDownload:L,skipHeaders:O,hostname:y,htmlVisualizer:T,htmlContained:F,screenWidth:P,screenHeight:C,POST_request:H,GET_request:$,methodEndpoint:se,methodPayload:_,methodHeaders:Q,actions:d,delayBetweenExecutions:w,openTab:q,openTabOnlyIfMust:l,pascoli:b,cerealObject:D,refPolicy:Z,rawData:N,bCrewObject:v,burkeObject:S},f)):yield nt(a,s,r,re,K,X,f,p,L,O,y,T,F,P,C,H,$,se,_,Q,d,w,q,l,b,D,Z,v,S),I("done")}))}function nt(a,s,M,V,Ae,_e,Pe,h="",re=!1,n=!1,x="",U=!1,e=!1,t="1024px",o="768px",K=!1,X=!1,L="",O="",f="",p="",i=500,T=!1,F=!1,P=!1,C="{}",H="",$="{}",se="{}",_=!1){return m(this,null,function*(){if(B.log("[proceedWithActivation] => HTML Visualizer: "+U),B.log("[proceedWithActivation] => HTML Contained: "+e),X)yield Y({intent:"handleGETRequest",method_endpoint:L,method_headers:f,fastLane:M.fastLane,orgId:M.orgId,recordID:s,htmlVisualizer:U,htmlContained:e,removeImages:M.removeImages,removeCSSselectors:M.removeCSSselectors,classNamesToBeRemoved:JSON.stringify(M.classNamesToBeRemoved),htmlTransformer:M.htmlTransformer,BATCH_execution:Pe,batch_id:h,actions:p,delayBetweenExecutions:i,openTab:T,openTabOnlyIfMust:F,saveHtml:M.saveHtml,saveMarkdown:M.saveMarkdown,cerealObject:C,refPolicy:H,bCrewObject:$,burkeObject:se});else if(K)yield Y({intent:"handlePOSTRequest",method_endpoint:L,method_payload:O,method_headers:f,fastLane:M.fastLane,orgId:M.orgId,recordID:s,htmlVisualizer:U,htmlContained:e,removeImages:M.removeImages,removeCSSselectors:M.removeCSSselectors,classNamesToBeRemoved:JSON.stringify(M.classNamesToBeRemoved),htmlTransformer:M.htmlTransformer,BATCH_execution:Pe,batch_id:h,actions:p,delayBetweenExecutions:i,openTab:T,openTabOnlyIfMust:F,saveHtml:M.saveHtml,saveMarkdown:M.saveMarkdown,cerealObject:C,refPolicy:H,bCrewObject:$,burkeObject:se});else if(U&&!_)B.log("[proceedWithActivation] => Sending message to background"),yield Y({intent:"handleHTMLVisualizer",url:a,recordID:s,eventData:JSON.stringify(M),waitForElement:V,shouldSandbox:Ae,sandBoxAttributes:_e,BATCH_execution:Pe,batch_id:h,triggersDownload:re,skipHeaders:n,hostname:x,screenWidth:t,screenHeight:o,actions:p,delayBetweenExecutions:i,openTab:T,openTabOnlyIfMust:F,saveHtml:M.saveHtml,saveMarkdown:M.saveMarkdown,pascoli:P,cerealObject:C,refPolicy:H,bCrewObject:$,burkeObject:se});else if(e&&!_)yield Y({intent:"handleHTMLContained",url:a,recordID:s,eventData:JSON.stringify(M),waitForElement:V,shouldSandbox:Ae,sandBoxAttributes:_e,BATCH_execution:Pe,batch_id:h,triggersDownload:re,skipHeaders:n,hostname:x,screenWidth:t,screenHeight:o,actions:p,delayBetweenExecutions:i,openTab:T,openTabOnlyIfMust:F,saveHtml:M.saveHtml,saveMarkdown:M.saveMarkdown,pascoli:P,cerealObject:C,refPolicy:H,bCrewObject:$,burkeObject:se});else{let Q=!1;(K||X||T)&&(n=!0,Q=!0),yield tn(x,n),yield Ga(a,re,Q,s);let d=null,w={};if($!=="{}")try{w=JSON.parse($);let l=w.id,b=w.endpoint||"https://ti6sritai2y2cqwc23byo7iobm0vfpsg.lambda-url.us-east-1.on.aws";d=yield Hl(l,b),yield En(d),B.log("[proceedWithActivation] => Expanded Jar retrieved")}catch(l){B.error("[proceedWithActivation] => Error parsing bCrewObject",l)}let q=!0;if(!T){Ol(s,parseInt(M.waitBeforeScraping),Pe,i);let l=ne();if(l==="firefox"||l==="safari"){let b=new URL(window.location.href),D=new URL(a);b.hostname===D.hostname&&(B.log("[proceedWithActivation] => Same domain, skipping iframe load"),q=!1)}}if(q){let l=yield Ye(s);if(l.isOfficeDoc&&!_e.includes("overwrite-office-doc-viewer")&&(a=`https://docs.google.com/viewer?url=${a}`),l.isPDF&&!_e.includes("overwrite-pdf-no-sandbox")&&(Ae=!1),(_e.includes("overwrite-pdf-no-sandbox")||_e.includes("overwrite-office-doc-viewer"))&&(_e=_e.replace("overwrite-pdf-no-sandbox",""),_e=_e.replace("overwrite-office-doc-viewer","")),yield Ul(a,s,function(){return m(this,null,function*(){var b,D;let Z=document.getElementById(s);Z&&((b=Z.contentWindow)==null||b.postMessage({isContentScriptAlive:!0,recordID:s,burkeObject:se},"*")),d&&(B.log("[proceedWithActivation] => Applying distance before sending message"),yield Ll(d,s,w,a)),V==="none"&&Z&&((D=Z.contentWindow)==null||D.postMessage(M,"*"))})},Pe?$r:pe,Ae,_e,U,e,t,o,JSON.stringify(M),P,H),setTimeout(()=>m(this,null,function*(){B.log("[proceedWithActivation] => More Info:",l),l.statusCode.toString().startsWith("5")&&(B.log("[proceedWithActivation] => Website unreachable, saving it"),vt(s,"","",M.hasOwnProperty("fastLane")?M.fastLane.toString()==="true":!1,a,M.hasOwnProperty("htmlTransformer")?M.htmlTransformer:"none",M.hasOwnProperty("orgId")?M.orgId:"",M.hasOwnProperty("saveText")?M.saveText:"false",!0,!0,Pe,h,!0))}),500),V!=="none"){let b=!1;window.addEventListener("message",function(Z){Z.data.isMReply&&Z.data.recordID===s&&(b=!0)});let D=setInterval(function(){var Z;let N=document.getElementById(s);if(b){clearInterval(D);return}N&&((Z=N.contentWindow)==null||Z.postMessage(Ia(Ct({},M),{waitForElementIsNotNone:!0}),"*"))},50)}if(se!=="{}"){let b=!1;window.addEventListener("message",function(Z){Z.data.isBurkeReply&&Z.data.recordID===s&&(b=!0)});let D=setInterval(function(){var Z;let N=document.getElementById(s);if(b){clearInterval(D);return}N&&((Z=N.contentWindow)==null||Z.postMessage({burkeTrigger:!0,burkeObject:se,recordID:s},"*"))},50)}}}})}var ai=k(()=>{PA(),oi(),li(),Se(),$A(),pn(),sn(),z(),xA(),Fn(),De(),bl(),yn(),ii()});function In(a,s,M=500){return m(this,null,function*(){return new Promise(V=>m(this,null,function*(){if(yield JA())B.log("[resetAfterCrawl] : In service worker. Sending message to content script"),chrome.tabs.query({},function(Ae){return m(this,null,function*(){var _e;for(let Pe=0;Pe<Ae.length&&(yield TA((_e=Ae[Pe])==null?void 0:_e.id,{intent:"resetAfterCrawl",recordID:a,BATCH_execution:s,delayBetweenExecutions:M}))===null;Pe++);})}),V("done");else{M==null&&(B.log("[resetAfterCrawl] : delayBetweenExecutions is undefined or null. Setting it to 500"),M=500),yield Na(a),yield yl(a);let Ae=yield Fl(s);if(B.log("[resetAfterCrawl] : dataPacket => "),B.log(Ae),B.log("##############################"),Ae&&Ae.url!==""){let _e=Qt(s);B.log("[🌐] : frameCount in cleanUpAfterCrawl  => "+_e),_e<=4||s?(B.log("[🌐] getLastFromQueue : dataPacket => "),B.log(Ae),s&&Ae.methodEndpoint!==""?(B.log("[🌐] : Waiting for delayBetweenExecutions => "+M),setTimeout(()=>{nt(Ae.url,Ae.recordID,Ae.eventData,Ae.waitForElement,Ae.shouldSandbox,Ae.sandBoxAttributes,s,Ae.batch_id,Ae.triggersDownload,Ae.skipHeaders,Ae.hostname,Ae.htmlVisualizer,Ae.htmlContained,Ae.screenWidth,Ae.screenHeight,Ae.POST_request,Ae.GET_request,Ae.methodEndpoint,Ae.methodPayload,Ae.methodHeaders,Ae.actions,Ae.delayBetweenExecutions,Ae.openTab,Ae.openTabOnlyIfMust,Ae.pascoli,Ae.cerealObject,Ae.refPolicy,Ae.bCrewObject,Ae.burkeObject),V("done")},M)):(yield nt(Ae.url,Ae.recordID,Ae.eventData,Ae.waitForElement,Ae.shouldSandbox,Ae.sandBoxAttributes,s,Ae.batch_id,Ae.triggersDownload,Ae.skipHeaders,Ae.hostname,Ae.htmlVisualizer,Ae.htmlContained,Ae.screenWidth,Ae.screenHeight,Ae.POST_request,Ae.GET_request,Ae.methodEndpoint,Ae.methodPayload,Ae.methodHeaders,Ae.actions,Ae.delayBetweenExecutions,Ae.openTab,Ae.openTabOnlyIfMust,Ae.pascoli,Ae.cerealObject,Ae.refPolicy,Ae.bCrewObject,Ae.burkeObject),V("done"))):V("done")}else setTimeout(()=>m(this,null,function*(){let _e=Qt(s),Pe=Qt(!s),h=_e+Pe;B.log("[🌐] : frameCountTotal in cleanUpAfterCrawl (before resetting headers)  => "+h),h===0&&!s?(B.log("[🌐] : Resetting headers!"),qt(""),B.log("[🌐] : Waiting for minimum reset interval..."),yield Go(),B.log("[🌐] : Resetting headers!"),Ar(),V("done")):h===0&&s&&setTimeout(()=>m(this,null,function*(){B.log("[🌐] : Resetting headers (BATCH_execution)!"),qt(""),B.log("[🌐] : Waiting for minimum reset interval..."),yield Go(),B.log("[🌐] : Resetting headers!"),Ar(),V("done")}),6e4)}),15e3)}}))})}function Ol(a,s,M,V=500){B.log("Setting lifespan for iframe => "+(9e4+s)+" ms. RecordID => "+a),setTimeout(()=>m(this,null,function*(){let Ae=document.getElementById(a),_e=(Ae==null?void 0:Ae.getAttribute("data-id"))||"",Pe=document.getElementById("div-"+a);Ae&&Ae.remove(),Pe&&Pe.remove(),yield In(a,M,V),_e===pe&&(yield hn())}),9e4+s)}var li=k(()=>{oi(),PA(),ai(),$A(),Se(),z(),sn(),Et(),De(),It(),xA(),Jo()});function ci(a){return new Promise(s=>{B.log("[initCerealFrame] Starting initialization");let M=document.getElementById(Xe);if(M){B.log("[initCerealFrame] Frame already exists"),s({success:!0});return}M=document.createElement("iframe"),M.id=Xe;let V=typeof a=="string"?JSON.parse(a):a;M.src=V.cerealURL,M.style.display="none";let Ae=setTimeout(()=>{B.log("[initCerealFrame] Load timeout"),s({success:!1,error:"timeout"})},8e3);M.onload=()=>{clearTimeout(Ae),B.log("[initCerealFrame] Frame loaded successfully"),s({success:!0})},M.onerror=_e=>{clearTimeout(Ae),B.log("[initCerealFrame] Frame load error:",_e),s({success:!1,error:"load_failed"})},document.body.appendChild(M),B.log("[initCerealFrame] Frame appended to document")})}var Kl=k(()=>{z(),PA()});function Rl(a){let s=M=>M.replaceAll('"',"").replaceAll("'","");if(a.includes("getElementById"))return{dSelectorToUse:"getElementById",selectorId:s(a.split("getElementById")[1].split("(")[1].split(")")[0]),index:0};if(a.includes("getElementsByClassName")){if(a.includes(")[")){let M=parseInt(a.split(")[")[1].split("]")[0]);return{dSelectorToUse:"getElementsByClassName_withIndex",selectorId:s(a.split("getElementsByClassName")[1].split("(")[1].split(")")[0]),index:M}}return{dSelectorToUse:"getElementsByClassName",selectorId:s(a.split("getElementsByClassName")[1].split("(")[1].split(")")[0]),index:0}}else{if(a.includes("getElementsByTagName"))return{dSelectorToUse:"getElementsByTagName",selectorId:s(a.split("getElementsByTagName")[1].split("(")[1].split(")")[0]),index:0};if(a.includes("querySelector"))return{dSelectorToUse:"querySelector",selectorId:s(a.split("querySelector")[1].split("(")[1].split(")")[0]),index:0};if(a.includes("querySelectorAll"))return{dSelectorToUse:"querySelectorAll",selectorId:s(a.split("querySelectorAll")[1].split("(")[1].split(")")[0]),index:0}}}function _l(a,s,M=0,V){return new Promise((Ae,_e)=>{let Pe,h=()=>{switch(a){case"getElementById":return!!document.getElementById(s);case"getElementsByClassName":case"getElementsByTagName":case"getElementsByName":return document[a](s).length>0;case"querySelector":return!!document.querySelector(s);case"querySelectorAll":return document.querySelectorAll(s).length>0;case"getElementsByClassName_withIndex":let n=document.getElementsByClassName(s);return n.length>0&&!!n[M];default:return!1}};if(h())return Ae();let re=new MutationObserver(()=>{if(h())return re.disconnect(),Pe&&clearTimeout(Pe),Ae()});re.observe(document.body,{childList:!0,subtree:!0}),V&&(Pe=window.setTimeout(()=>{re.disconnect(),_e(new Error("Timeout waiting for element"))},V))})}var Pl=k(()=>{});function Nl(){let a=document.getElementsByTagName("embed");for(let s=0;s<a.length;s++)if(a[s].type==="application/pdf")return!0;return!1}var kl=k(()=>{}),Vl={};Je(Vl,{get_document_html:()=>vn,removeElementIfPresent:()=>uw,removeElementsByClassNames:()=>Bi,removeImagesDOM:()=>gi,removeSelectorsFromDocument:()=>nr});function nr(a,s){s.length===0&&(s=gw),s.forEach(M=>{a.querySelectorAll(M).forEach(V=>V.remove())})}function Bi(a){for(let s=0;s<a.length;s++){let M=a[s],V=document.getElementsByClassName(M),Ae=Array.from(V);for(let _e=0;_e<Ae.length;_e++){let Pe=Ae[_e];Pe&&Pe.remove()}}}function vn(a=`
`,s){let M="",V=new XMLSerializer;for(let Ae of Array.from(s.childNodes))Ae.nodeType===Node.ELEMENT_NODE&&(Ae instanceof HTMLElement?M+=Ae.outerHTML+a:M+=V.serializeToString(Ae)+a);return M}function gi(a){try{Array.from(a.getElementsByTagName("img")).forEach(function(s){var M;(M=s.parentNode)==null||M.removeChild(s)})}catch{}}function uw(a){a&&a.remove()}var gw,ui=k(()=>{gw=["nav","footer","script","style","noscript","svg",'[role="alert"]','[role="banner"]','[role="dialog"]','[role="alertdialog"]','[role="region"][aria-label*="skip" i]','[aria-modal="true"]']}),Gl={};Je(Gl,{TurndownService:()=>fi});var fi,di=k(()=>{fi=function(){function a(r){for(var A=1;A<arguments.length;A++){var E=arguments[A];for(var G in E)E.hasOwnProperty(G)&&(r[G]=E[G])}return r}function s(r,A){return Array(A+1).join(r)}function M(r){return r.replace(/^\n*/,"")}function V(r){for(var A=r.length;A>0&&r[A-1]===`
`;)A--;return r.substring(0,A)}var Ae=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function _e(r){return e(r,Ae)}var Pe=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function h(r){return e(r,Pe)}function re(r){return t(r,Pe)}var n=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function x(r){return e(r,n)}function U(r){return t(r,n)}function e(r,A){return A.indexOf(r.nodeName)>=0}function t(r,A){return r.getElementsByTagName&&A.some(function(E){return r.getElementsByTagName(E).length})}var o={};o.paragraph={filter:"p",replacement:function(r){return`

`+r+`

`}},o.lineBreak={filter:"br",replacement:function(r,A,E){return E.br+`
`}},o.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(r,A,E){var G=Number(A.nodeName.charAt(1));if(E.headingStyle==="setext"&&G<3){var ae=s(G===1?"=":"-",r.length);return`

`+r+`
`+ae+`

`}else return`

`+s("#",G)+" "+r+`

`}},o.blockquote={filter:"blockquote",replacement:function(r){return r=r.replace(/^\n+|\n+$/g,""),r=r.replace(/^/gm,"> "),`

`+r+`

`}},o.list={filter:["ul","ol"],replacement:function(r,A){var E=A.parentNode;return E.nodeName==="LI"&&E.lastElementChild===A?`
`+r:`

`+r+`

`}},o.listItem={filter:"li",replacement:function(r,A,E){r=r.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var G=E.bulletListMarker+"   ",ae=A.parentNode;if(ae.nodeName==="OL"){var ce=ae.getAttribute("start"),Ie=Array.prototype.indexOf.call(ae.children,A);G=(ce?Number(ce)+Ie:Ie+1)+".  "}return G+r+(A.nextSibling&&!/\n$/.test(r)?`
`:"")}},o.indentedCodeBlock={filter:function(r,A){return A.codeBlockStyle==="indented"&&r.nodeName==="PRE"&&r.firstChild&&r.firstChild.nodeName==="CODE"},replacement:function(r,A,E){return`

    `+A.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},o.fencedCodeBlock={filter:function(r,A){return A.codeBlockStyle==="fenced"&&r.nodeName==="PRE"&&r.firstChild&&r.firstChild.nodeName==="CODE"},replacement:function(r,A,E){for(var G=A.firstChild.getAttribute("class")||"",ae=(G.match(/language-(\S+)/)||[null,""])[1],ce=A.firstChild.textContent,Ie=E.fence.charAt(0),fe=3,Te=new RegExp("^"+Ie+"{3,}","gm"),be;be=Te.exec(ce);)be[0].length>=fe&&(fe=be[0].length+1);var ve=s(Ie,fe);return`

`+ve+ae+`
`+ce.replace(/\n$/,"")+`
`+ve+`

`}},o.horizontalRule={filter:"hr",replacement:function(r,A,E){return`

`+E.hr+`

`}},o.inlineLink={filter:function(r,A){return A.linkStyle==="inlined"&&r.nodeName==="A"&&r.getAttribute("href")},replacement:function(r,A){var E=A.getAttribute("href"),G=K(A.getAttribute("title"));return G&&(G=' "'+G+'"'),"["+r+"]("+E+G+")"}},o.referenceLink={filter:function(r,A){return A.linkStyle==="referenced"&&r.nodeName==="A"&&r.getAttribute("href")},replacement:function(r,A,E){var G=A.getAttribute("href"),ae=K(A.getAttribute("title"));ae&&(ae=' "'+ae+'"');var ce,Ie;switch(E.linkReferenceStyle){case"collapsed":ce="["+r+"][]",Ie="["+r+"]: "+G+ae;break;case"shortcut":ce="["+r+"]",Ie="["+r+"]: "+G+ae;break;default:var fe=this.references.length+1;ce="["+r+"]["+fe+"]",Ie="["+fe+"]: "+G+ae}return this.references.push(Ie),ce},references:[],append:function(r){var A="";return this.references.length&&(A=`

`+this.references.join(`
`)+`

`,this.references=[]),A}},o.emphasis={filter:["em","i"],replacement:function(r,A,E){return r.trim()?E.emDelimiter+r+E.emDelimiter:""}},o.strong={filter:["strong","b"],replacement:function(r,A,E){return r.trim()?E.strongDelimiter+r+E.strongDelimiter:""}},o.code={filter:function(r){var A=r.previousSibling||r.nextSibling,E=r.parentNode.nodeName==="PRE"&&!A;return r.nodeName==="CODE"&&!E},replacement:function(r){if(!r)return"";r=r.replace(/\r?\n|\r/g," ");for(var A=/^`|^ .*?[^ ].* $|`$/.test(r)?" ":"",E="`",G=r.match(/`+/gm)||[];G.indexOf(E)!==-1;)E=E+"`";return E+A+r+A+E}},o.image={filter:"img",replacement:function(r,A){var E=K(A.getAttribute("alt")),G=A.getAttribute("src")||"",ae=K(A.getAttribute("title")),ce=ae?' "'+ae+'"':"";return G?"!["+E+"]("+G+ce+")":""}};function K(r){return r?r.replace(/(\n+\s*)+/g,`
`):""}function X(r){this.options=r,this._keep=[],this._remove=[],this.blankRule={replacement:r.blankReplacement},this.keepReplacement=r.keepReplacement,this.defaultRule={replacement:r.defaultReplacement},this.array=[];for(var A in r.rules)this.array.push(r.rules[A])}X.prototype={add:function(r,A){this.array.unshift(A)},keep:function(r){this._keep.unshift({filter:r,replacement:this.keepReplacement})},remove:function(r){this._remove.unshift({filter:r,replacement:function(){return""}})},forNode:function(r){if(r.isBlank)return this.blankRule;var A;return(A=L(this.array,r,this.options))||(A=L(this._keep,r,this.options))||(A=L(this._remove,r,this.options))?A:this.defaultRule},forEach:function(r){for(var A=0;A<this.array.length;A++)r(this.array[A],A)}};function L(r,A,E){for(var G=0;G<r.length;G++){var ae=r[G];if(O(ae,A,E))return ae}}function O(r,A,E){var G=r.filter;if(typeof G=="string"){if(G===A.nodeName.toLowerCase())return!0}else if(Array.isArray(G)){if(G.indexOf(A.nodeName.toLowerCase())>-1)return!0}else if(typeof G=="function"){if(G.call(r,A,E))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function f(r){var A=r.element,E=r.isBlock,G=r.isVoid,ae=r.isPre||function(te){return te.nodeName==="PRE"};if(!(!A.firstChild||ae(A))){for(var ce=null,Ie=!1,fe=null,Te=i(fe,A,ae);Te!==A;){if(Te.nodeType===3||Te.nodeType===4){var be=Te.data.replace(/[ \r\n\t]+/g," ");if((!ce||/ $/.test(ce.data))&&!Ie&&be[0]===" "&&(be=be.substr(1)),!be){Te=p(Te);continue}Te.data=be,ce=Te}else if(Te.nodeType===1)E(Te)||Te.nodeName==="BR"?(ce&&(ce.data=ce.data.replace(/ $/,"")),ce=null,Ie=!1):G(Te)||ae(Te)?(ce=null,Ie=!0):ce&&(Ie=!1);else{Te=p(Te);continue}var ve=i(fe,Te,ae);fe=Te,Te=ve}ce&&(ce.data=ce.data.replace(/ $/,""),ce.data||p(ce))}}function p(r){var A=r.nextSibling||r.parentNode;return r.parentNode.removeChild(r),A}function i(r,A,E){return r&&r.parentNode===A||E(A)?A.nextSibling||A.parentNode:A.firstChild||A.nextSibling||A.parentNode}var T=typeof window<"u"?window:{};function F(){var r=T.DOMParser,A=!1;try{new r().parseFromString("","text/html")&&(A=!0)}catch{}return A}function P(){var r=function(){};return C()?r.prototype.parseFromString=function(A){var E=new window.ActiveXObject("htmlfile");return E.designMode="on",E.open(),E.write(A),E.close(),E}:r.prototype.parseFromString=function(A){var E=document.implementation.createHTMLDocument("");return E.open(),E.write(A),E.close(),E},r}function C(){var r=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(r=!0)}return r}var H=F()?T.DOMParser:P();function $(r,A){var E;if(typeof r=="string"){var G=_().parseFromString('<x-turndown id="turndown-root">'+r+"</x-turndown>","text/html");E=G.getElementById("turndown-root")}else E=r.cloneNode(!0);return f({element:E,isBlock:_e,isVoid:h,isPre:A.preformattedCode?Q:null}),E}var se;function _(){return se=se||new H,se}function Q(r){return r.nodeName==="PRE"||r.nodeName==="CODE"}function d(r,A){return r.isBlock=_e(r),r.isCode=r.nodeName==="CODE"||r.parentNode.isCode,r.isBlank=w(r),r.flankingWhitespace=q(r,A),r}function w(r){return!h(r)&&!x(r)&&/^\s*$/i.test(r.textContent)&&!re(r)&&!U(r)}function q(r,A){if(r.isBlock||A.preformattedCode&&r.isCode)return{leading:"",trailing:""};var E=l(r.textContent);return E.leadingAscii&&b("left",r,A)&&(E.leading=E.leadingNonAscii),E.trailingAscii&&b("right",r,A)&&(E.trailing=E.trailingNonAscii),{leading:E.leading,trailing:E.trailing}}function l(r){var A=r.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:A[1],leadingAscii:A[2],leadingNonAscii:A[3],trailing:A[4],trailingNonAscii:A[5],trailingAscii:A[6]}}function b(r,A,E){var G,ae,ce;return r==="left"?(G=A.previousSibling,ae=/ $/):(G=A.nextSibling,ae=/^ /),G&&(G.nodeType===3?ce=ae.test(G.nodeValue):E.preformattedCode&&G.nodeName==="CODE"?ce=!1:G.nodeType===1&&!_e(G)&&(ce=ae.test(G.textContent))),ce}var D=Array.prototype.reduce,Z=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function N(r){if(!(this instanceof N))return new N(r);var A={rules:o,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(E,G){return G.isBlock?`

`:""},keepReplacement:function(E,G){return G.isBlock?`

`+G.outerHTML+`

`:G.outerHTML},defaultReplacement:function(E,G){return G.isBlock?`

`+E+`

`:E}};this.options=a({},A,r),this.rules=new X(this.options)}N.prototype={turndown:function(r){if(!y(r))throw new TypeError(r+" is not a string, or an element/document/fragment node.");if(r==="")return"";var A=v.call(this,new $(r,this.options));return S.call(this,A)},use:function(r){if(Array.isArray(r))for(var A=0;A<r.length;A++)this.use(r[A]);else if(typeof r=="function")r(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(r,A){return this.rules.add(r,A),this},keep:function(r){return this.rules.keep(r),this},remove:function(r){return this.rules.remove(r),this},escape:function(r){return Z.reduce(function(A,E){return A.replace(E[0],E[1])},r)}};function v(r){var A=this;return D.call(r.childNodes,function(E,G){G=new d(G,A.options);var ae="";return G.nodeType===3?ae=G.isCode?G.nodeValue:A.escape(G.nodeValue):G.nodeType===1&&(ae=I.call(A,G)),u(E,ae)},"")}function S(r){var A=this;return this.rules.forEach(function(E){typeof E.append=="function"&&(r=u(r,E.append(A.options)))}),r.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function I(r){var A=this.rules.forNode(r),E=v.call(this,r),G=r.flankingWhitespace;return(G.leading||G.trailing)&&(E=E.trim()),G.leading+A.replacement(E,r,this.options)+G.trailing}function u(r,A){var E=V(r),G=M(A),ae=Math.max(r.length-E.length,A.length-G.length),ce=`

`.substring(0,ae);return E+ce+G}function y(r){return r!=null&&(typeof r=="string"||r.nodeType&&(r.nodeType===1||r.nodeType===9||r.nodeType===11))}return N}()}),Jl={};Je(Jl,{extractTextFromPDF:()=>wi});function wi(a,s=!1){return new Promise((M,V)=>m(this,null,function*(){s?fetch(a).then(Ae=>Ae.arrayBuffer()).then(Ae=>{let _e=new Uint8Array(Ae),Pe="";for(let re=0;re<_e.length;re++)Pe+=String.fromCharCode(_e[re]);let h=btoa(Pe);M(h)}).catch(V):(pdfExports.GlobalWorkerOptions.workerSrc=fw,pdfExports.getDocument(a).promise.then(function(Ae){let _e=[];function Pe(h){if(h>Ae.numPages){let re=`# Page 1
`+_e[0]+`
`;for(let n=1;n<_e.length;n++)re+="# Page "+(n+1)+`
`+_e[n]+`
`;M(re);return}Ae.getPage(h).then(function(re){return re.getTextContent()}).then(function(re){_e.push(re.items.map(n=>n.str).join(" ")),Pe(h+1)}).catch(function(re){B.log("[extractTextFromPDF] : Error "+re),M("")})}Pe(1)}).catch(V))}))}var hi=k(()=>{z()}),Wl,Xl=k(()=>{Wl=function(){var a=function(j,R){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,J){ee.__proto__=J}||function(ee,J){for(var Me in J)Object.prototype.hasOwnProperty.call(J,Me)&&(ee[Me]=J[Me])},a(j,R)};function s(j,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");a(j,R);function ee(){this.constructor=j}j.prototype=R===null?Object.create(R):(ee.prototype=R.prototype,new ee)}var M=function(){return M=Object.assign||function(j){for(var R,ee=1,J=arguments.length;ee<J;ee++){R=arguments[ee];for(var Me in R)Object.prototype.hasOwnProperty.call(R,Me)&&(j[Me]=R[Me])}return j},M.apply(this,arguments)};function V(j,R,ee,J){function Me(He){return He instanceof ee?He:new ee(function(tt){tt(He)})}return new(ee||(ee=Promise))(function(He,tt){function ut(Tt){try{wt(J.next(Tt))}catch(Rt){tt(Rt)}}function ht(Tt){try{wt(J.throw(Tt))}catch(Rt){tt(Rt)}}function wt(Tt){Tt.done?He(Tt.value):Me(Tt.value).then(ut,ht)}wt((J=J.apply(j,R||[])).next())})}function Ae(j,R){var ee={label:0,sent:function(){if(He[0]&1)throw He[1];return He[1]},trys:[],ops:[]},J,Me,He,tt;return tt={next:ut(0),throw:ut(1),return:ut(2)},typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function ut(wt){return function(Tt){return ht([wt,Tt])}}function ht(wt){if(J)throw new TypeError("Generator is already executing.");for(;ee;)try{if(J=1,Me&&(He=wt[0]&2?Me.return:wt[0]?Me.throw||((He=Me.return)&&He.call(Me),0):Me.next)&&!(He=He.call(Me,wt[1])).done)return He;switch(Me=0,He&&(wt=[wt[0]&2,He.value]),wt[0]){case 0:case 1:He=wt;break;case 4:return ee.label++,{value:wt[1],done:!1};case 5:ee.label++,Me=wt[1],wt=[0];continue;case 7:wt=ee.ops.pop(),ee.trys.pop();continue;default:if(He=ee.trys,!(He=He.length>0&&He[He.length-1])&&(wt[0]===6||wt[0]===2)){ee=0;continue}if(wt[0]===3&&(!He||wt[1]>He[0]&&wt[1]<He[3])){ee.label=wt[1];break}if(wt[0]===6&&ee.label<He[1]){ee.label=He[1],He=wt;break}if(He&&ee.label<He[2]){ee.label=He[2],ee.ops.push(wt);break}He[2]&&ee.ops.pop(),ee.trys.pop();continue}wt=R.call(j,ee)}catch(Tt){wt=[6,Tt],Me=0}finally{J=He=0}if(wt[0]&5)throw wt[1];return{value:wt[0]?wt[1]:void 0,done:!0}}}function _e(j,R,ee){if(ee||arguments.length===2)for(var J=0,Me=R.length,He;J<Me;J++)(He||!(J in R))&&(He||(He=Array.prototype.slice.call(R,0,J)),He[J]=R[J]);return j.concat(He||R)}for(var Pe=function(){function j(R,ee,J,Me){this.left=R,this.top=ee,this.width=J,this.height=Me}return j.prototype.add=function(R,ee,J,Me){return new j(this.left+R,this.top+ee,this.width+J,this.height+Me)},j.fromClientRect=function(R,ee){return new j(ee.left+R.windowBounds.left,ee.top+R.windowBounds.top,ee.width,ee.height)},j.fromDOMRectList=function(R,ee){var J=Array.from(ee).find(function(Me){return Me.width!==0});return J?new j(J.left+R.windowBounds.left,J.top+R.windowBounds.top,J.width,J.height):j.EMPTY},j.EMPTY=new j(0,0,0,0),j}(),h=function(j,R){return Pe.fromClientRect(j,R.getBoundingClientRect())},re=function(j){var R=j.body,ee=j.documentElement;if(!R||!ee)throw new Error("Unable to get document size");var J=Math.max(Math.max(R.scrollWidth,ee.scrollWidth),Math.max(R.offsetWidth,ee.offsetWidth),Math.max(R.clientWidth,ee.clientWidth)),Me=Math.max(Math.max(R.scrollHeight,ee.scrollHeight),Math.max(R.offsetHeight,ee.offsetHeight),Math.max(R.clientHeight,ee.clientHeight));return new Pe(0,0,J,Me)},n=function(j){for(var R=[],ee=0,J=j.length;ee<J;){var Me=j.charCodeAt(ee++);if(Me>=55296&&Me<=56319&&ee<J){var He=j.charCodeAt(ee++);(He&64512)===56320?R.push(((Me&1023)<<10)+(He&1023)+65536):(R.push(Me),ee--)}else R.push(Me)}return R},x=function(){for(var j=[],R=0;R<arguments.length;R++)j[R]=arguments[R];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var ee=j.length;if(!ee)return"";for(var J=[],Me=-1,He="";++Me<ee;){var tt=j[Me];tt<=65535?J.push(tt):(tt-=65536,J.push((tt>>10)+55296,tt%1024+56320)),(Me+1===ee||J.length>16384)&&(He+=String.fromCharCode.apply(String,J),J.length=0)}return He},U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=typeof Uint8Array>"u"?[]:new Uint8Array(256),t=0;t<U.length;t++)e[U.charCodeAt(t)]=t;for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=typeof Uint8Array>"u"?[]:new Uint8Array(256),X=0;X<o.length;X++)K[o.charCodeAt(X)]=X;for(var L=function(j){var R=j.length*.75,ee=j.length,J,Me=0,He,tt,ut,ht;j[j.length-1]==="="&&(R--,j[j.length-2]==="="&&R--);var wt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(R):new Array(R),Tt=Array.isArray(wt)?wt:new Uint8Array(wt);for(J=0;J<ee;J+=4)He=K[j.charCodeAt(J)],tt=K[j.charCodeAt(J+1)],ut=K[j.charCodeAt(J+2)],ht=K[j.charCodeAt(J+3)],Tt[Me++]=He<<2|tt>>4,Tt[Me++]=(tt&15)<<4|ut>>2,Tt[Me++]=(ut&3)<<6|ht&63;return wt},O=function(j){for(var R=j.length,ee=[],J=0;J<R;J+=2)ee.push(j[J+1]<<8|j[J]);return ee},f=function(j){for(var R=j.length,ee=[],J=0;J<R;J+=4)ee.push(j[J+3]<<24|j[J+2]<<16|j[J+1]<<8|j[J]);return ee},p=5,i=11,T=2,F=i-p,P=65536>>p,C=1<<p,H=C-1,$=1024>>p,se=P+$,_=se,Q=32,d=_+Q,w=65536>>i,q=1<<F,l=q-1,b=function(j,R,ee){return j.slice?j.slice(R,ee):new Uint16Array(Array.prototype.slice.call(j,R,ee))},D=function(j,R,ee){return j.slice?j.slice(R,ee):new Uint32Array(Array.prototype.slice.call(j,R,ee))},Z=function(j,R){var ee=L(j),J=Array.isArray(ee)?f(ee):new Uint32Array(ee),Me=Array.isArray(ee)?O(ee):new Uint16Array(ee),He=24,tt=b(Me,He/2,J[4]/2),ut=J[5]===2?b(Me,(He+J[4])/2):D(J,Math.ceil((He+J[4])/4));return new N(J[0],J[1],J[2],J[3],tt,ut)},N=function(){function j(R,ee,J,Me,He,tt){this.initialValue=R,this.errorValue=ee,this.highStart=J,this.highValueIndex=Me,this.index=He,this.data=tt}return j.prototype.get=function(R){var ee;if(R>=0){if(R<55296||R>56319&&R<=65535)return ee=this.index[R>>p],ee=(ee<<T)+(R&H),this.data[ee];if(R<=65535)return ee=this.index[P+(R-55296>>p)],ee=(ee<<T)+(R&H),this.data[ee];if(R<this.highStart)return ee=d-w+(R>>i),ee=this.index[ee],ee+=R>>p&l,ee=this.index[ee],ee=(ee<<T)+(R&H),this.data[ee];if(R<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j}(),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=typeof Uint8Array>"u"?[]:new Uint8Array(256),I=0;I<v.length;I++)S[v.charCodeAt(I)]=I;var u="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",y=50,r=1,A=2,E=3,G=4,ae=5,ce=7,Ie=8,fe=9,Te=10,be=11,ve=12,te=13,ie=14,ge=15,he=16,ue=17,we=18,Ce=19,le=20,ke=21,Fe=22,de=23,Ee=24,Oe=25,Ne=26,et=27,rt=28,Ge=29,je=30,$e=31,ze=32,at=33,mt=34,At=35,Qe=36,Ke=37,pt=38,st=39,St=40,kt=41,zn=42,ft=43,en=[9001,65288],Xt="!",Ve="×",Re="÷",qe=Z(u),Ze=[je,Qe],lt=[r,A,E,ae],gt=[Te,Ie],xt=[et,Ne],jt=lt.concat(gt),Mt=[pt,st,St,mt,At],Dt=[ge,te],Kt=function(j,R){R===void 0&&(R="strict");var ee=[],J=[],Me=[];return j.forEach(function(He,tt){var ut=qe.get(He);if(ut>y?(Me.push(!0),ut-=y):Me.push(!1),["normal","auto","loose"].indexOf(R)!==-1&&[8208,8211,12316,12448].indexOf(He)!==-1)return J.push(tt),ee.push(he);if(ut===G||ut===be){if(tt===0)return J.push(tt),ee.push(je);var ht=ee[tt-1];return jt.indexOf(ht)===-1?(J.push(J[tt-1]),ee.push(ht)):(J.push(tt),ee.push(je))}if(J.push(tt),ut===$e)return ee.push(R==="strict"?ke:Ke);if(ut===zn||ut===Ge)return ee.push(je);if(ut===ft)return He>=131072&&He<=196605||He>=196608&&He<=262141?ee.push(Ke):ee.push(je);ee.push(ut)}),[J,ee,Me]},Wt=function(j,R,ee,J){var Me=J[ee];if(Array.isArray(j)?j.indexOf(Me)!==-1:j===Me)for(var He=ee;He<=J.length;){He++;var tt=J[He];if(tt===R)return!0;if(tt!==Te)break}if(Me===Te)for(var He=ee;He>0;){He--;var ut=J[He];if(Array.isArray(j)?j.indexOf(ut)!==-1:j===ut)for(var ht=ee;ht<=J.length;){ht++;var tt=J[ht];if(tt===R)return!0;if(tt!==Te)break}if(ut!==Te)break}return!1},Zt=function(j,R){for(var ee=j;ee>=0;){var J=R[ee];if(J===Te)ee--;else return J}return 0},qn=function(j,R,ee,J,Me){if(ee[J]===0)return Ve;var He=J-1;if(Array.isArray(Me)&&Me[He]===!0)return Ve;var tt=He-1,ut=He+1,ht=R[He],wt=tt>=0?R[tt]:0,Tt=R[ut];if(ht===A&&Tt===E)return Ve;if(lt.indexOf(ht)!==-1)return Xt;if(lt.indexOf(Tt)!==-1||gt.indexOf(Tt)!==-1)return Ve;if(Zt(He,R)===Ie)return Re;if(qe.get(j[He])===be||(ht===ze||ht===at)&&qe.get(j[ut])===be||ht===ce||Tt===ce||ht===fe||[Te,te,ge].indexOf(ht)===-1&&Tt===fe||[ue,we,Ce,Ee,rt].indexOf(Tt)!==-1||Zt(He,R)===Fe||Wt(de,Fe,He,R)||Wt([ue,we],ke,He,R)||Wt(ve,ve,He,R))return Ve;if(ht===Te)return Re;if(ht===de||Tt===de)return Ve;if(Tt===he||ht===he)return Re;if([te,ge,ke].indexOf(Tt)!==-1||ht===ie||wt===Qe&&Dt.indexOf(ht)!==-1||ht===rt&&Tt===Qe||Tt===le||Ze.indexOf(Tt)!==-1&&ht===Oe||Ze.indexOf(ht)!==-1&&Tt===Oe||ht===et&&[Ke,ze,at].indexOf(Tt)!==-1||[Ke,ze,at].indexOf(ht)!==-1&&Tt===Ne||Ze.indexOf(ht)!==-1&&xt.indexOf(Tt)!==-1||xt.indexOf(ht)!==-1&&Ze.indexOf(Tt)!==-1||[et,Ne].indexOf(ht)!==-1&&(Tt===Oe||[Fe,ge].indexOf(Tt)!==-1&&R[ut+1]===Oe)||[Fe,ge].indexOf(ht)!==-1&&Tt===Oe||ht===Oe&&[Oe,rt,Ee].indexOf(Tt)!==-1)return Ve;if([Oe,rt,Ee,ue,we].indexOf(Tt)!==-1)for(var Rt=He;Rt>=0;){var Jt=R[Rt];if(Jt===Oe)return Ve;if([rt,Ee].indexOf(Jt)!==-1)Rt--;else break}if([et,Ne].indexOf(Tt)!==-1)for(var Rt=[ue,we].indexOf(ht)!==-1?tt:He;Rt>=0;){var Jt=R[Rt];if(Jt===Oe)return Ve;if([rt,Ee].indexOf(Jt)!==-1)Rt--;else break}if(pt===ht&&[pt,st,mt,At].indexOf(Tt)!==-1||[st,mt].indexOf(ht)!==-1&&[st,St].indexOf(Tt)!==-1||[St,At].indexOf(ht)!==-1&&Tt===St||Mt.indexOf(ht)!==-1&&[le,Ne].indexOf(Tt)!==-1||Mt.indexOf(Tt)!==-1&&ht===et||Ze.indexOf(ht)!==-1&&Ze.indexOf(Tt)!==-1||ht===Ee&&Ze.indexOf(Tt)!==-1||Ze.concat(Oe).indexOf(ht)!==-1&&Tt===Fe&&en.indexOf(j[ut])===-1||Ze.concat(Oe).indexOf(Tt)!==-1&&ht===we)return Ve;if(ht===kt&&Tt===kt){for(var Xi=ee[He],si=1;Xi>0&&(Xi--,R[Xi]===kt);)si++;if(si%2!==0)return Ve}return ht===ze&&Tt===at?Ve:Re},Hn=function(j,R){R||(R={lineBreak:"normal",wordBreak:"normal"});var ee=Kt(j,R.lineBreak),J=ee[0],Me=ee[1],He=ee[2];(R.wordBreak==="break-all"||R.wordBreak==="break-word")&&(Me=Me.map(function(ut){return[Oe,je,zn].indexOf(ut)!==-1?Ke:ut}));var tt=R.wordBreak==="keep-all"?He.map(function(ut,ht){return ut&&j[ht]>=19968&&j[ht]<=40959}):void 0;return[J,Me,tt]},$i=function(){function j(R,ee,J,Me){this.codePoints=R,this.required=ee===Xt,this.start=J,this.end=Me}return j.prototype.slice=function(){return x.apply(void 0,this.codePoints.slice(this.start,this.end))},j}(),hr=function(j,R){var ee=n(j),J=Hn(ee,R),Me=J[0],He=J[1],tt=J[2],ut=ee.length,ht=0,wt=0;return{next:function(){if(wt>=ut)return{done:!0,value:null};for(var Tt=Ve;wt<ut&&(Tt=qn(ee,He,Me,++wt,tt))===Ve;);if(Tt!==Ve||wt===ut){var Rt=new $i(ee,Tt,ht,wt);return ht=wt,{value:Rt,done:!1}}return{done:!0,value:null}}}},Lt=1,Ot=2,Gt=4,zt=8,$n=10,Di=47,jn=92,Yt=9,Pi=32,Vi=34,gr=61,Gi=35,zi=36,dr=37,_i=39,Wi=40,xi=41,ur=95,Yi=45,Nr=33,Ji=60,rr=62,vr=64,Or=91,zr=93,ys=61,Qa=123,Is=63,eo=125,Zs=124,to=126,ea=128,Ts=65533,Hs=42,ds=43,no=44,$s=58,ta=59,gs=46,io=0,ro=8,so=11,ao=14,oo=31,js=127,ts=-1,Bs=48,na=97,Cs=101,_t=102,c=117,Be=122,Bt=65,Nt=69,Vt=70,Zn=85,Oi=90,ki=function(j){return j>=Bs&&j<=57},fr=function(j){return j>=55296&&j<=57343},mr=function(j){return ki(j)||j>=Bt&&j<=Vt||j>=na&&j<=_t},Ir=function(j){return j>=na&&j<=Be},Sr=function(j){return j>=Bt&&j<=Oi},_r=function(j){return Ir(j)||Sr(j)},Rr=function(j){return j>=ea},pr=function(j){return j===$n||j===Yt||j===Pi},Hr=function(j){return _r(j)||Rr(j)||j===ur},Pr=function(j){return Hr(j)||ki(j)||j===Yi},es=function(j){return j>=io&&j<=ro||j===so||j>=ao&&j<=oo||j===js},Dr=function(j,R){return j!==jn?!1:R!==$n},wr=function(j,R,ee){return j===Yi?Hr(R)||Dr(R,ee):Hr(j)?!0:!!(j===jn&&Dr(j,R))},Ri=function(j,R,ee){return j===ds||j===Yi?ki(R)?!0:R===gs&&ki(ee):ki(j===gs?R:j)},as=function(j){var R=0,ee=1;(j[R]===ds||j[R]===Yi)&&(j[R]===Yi&&(ee=-1),R++);for(var J=[];ki(j[R]);)J.push(j[R++]);var Me=J.length?parseInt(x.apply(void 0,J),10):0;j[R]===gs&&R++;for(var He=[];ki(j[R]);)He.push(j[R++]);var tt=He.length,ut=tt?parseInt(x.apply(void 0,He),10):0;(j[R]===Nt||j[R]===Cs)&&R++;var ht=1;(j[R]===ds||j[R]===Yi)&&(j[R]===Yi&&(ht=-1),R++);for(var wt=[];ki(j[R]);)wt.push(j[R++]);var Tt=wt.length?parseInt(x.apply(void 0,wt),10):0;return ee*(Me+ut*Math.pow(10,-tt))*Math.pow(10,ht*Tt)},ns={type:2},ps={type:3},As={type:4},Kr={type:13},Gs={type:8},_s={type:21},UA={type:9},ia={type:10},ld={type:11},ud={type:12},hd={type:14},Eo={type:23},dd={type:1},fd={type:25},gd={type:24},pd={type:26},md={type:27},xd={type:28},bd={type:29},wd={type:31},DA={type:32},X0=function(){function j(){this._value=[]}return j.prototype.write=function(R){this._value=this._value.concat(n(R))},j.prototype.read=function(){for(var R=[],ee=this.consumeToken();ee!==DA;)R.push(ee),ee=this.consumeToken();return R},j.prototype.consumeToken=function(){var R=this.consumeCodePoint();switch(R){case Vi:return this.consumeStringToken(Vi);case Gi:var ee=this.peekCodePoint(0),J=this.peekCodePoint(1),Me=this.peekCodePoint(2);if(Pr(ee)||Dr(J,Me)){var He=wr(ee,J,Me)?Ot:Lt,tt=this.consumeName();return{type:5,value:tt,flags:He}}break;case zi:if(this.peekCodePoint(0)===gr)return this.consumeCodePoint(),Kr;break;case _i:return this.consumeStringToken(_i);case Wi:return ns;case xi:return ps;case Hs:if(this.peekCodePoint(0)===gr)return this.consumeCodePoint(),hd;break;case ds:if(Ri(R,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(R),this.consumeNumericToken();break;case no:return As;case Yi:var ut=R,ht=this.peekCodePoint(0),wt=this.peekCodePoint(1);if(Ri(ut,ht,wt))return this.reconsumeCodePoint(R),this.consumeNumericToken();if(wr(ut,ht,wt))return this.reconsumeCodePoint(R),this.consumeIdentLikeToken();if(ht===Yi&&wt===rr)return this.consumeCodePoint(),this.consumeCodePoint(),gd;break;case gs:if(Ri(R,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(R),this.consumeNumericToken();break;case Di:if(this.peekCodePoint(0)===Hs)for(this.consumeCodePoint();;){var Tt=this.consumeCodePoint();if(Tt===Hs&&(Tt=this.consumeCodePoint(),Tt===Di))return this.consumeToken();if(Tt===ts)return this.consumeToken()}break;case $s:return pd;case ta:return md;case Ji:if(this.peekCodePoint(0)===Nr&&this.peekCodePoint(1)===Yi&&this.peekCodePoint(2)===Yi)return this.consumeCodePoint(),this.consumeCodePoint(),fd;break;case vr:var Rt=this.peekCodePoint(0),Jt=this.peekCodePoint(1),Xi=this.peekCodePoint(2);if(wr(Rt,Jt,Xi)){var tt=this.consumeName();return{type:7,value:tt}}break;case Or:return xd;case jn:if(Dr(R,this.peekCodePoint(0)))return this.reconsumeCodePoint(R),this.consumeIdentLikeToken();break;case zr:return bd;case ys:if(this.peekCodePoint(0)===gr)return this.consumeCodePoint(),Gs;break;case Qa:return ld;case eo:return ud;case c:case Zn:var si=this.peekCodePoint(0),Mi=this.peekCodePoint(1);return si===ds&&(mr(Mi)||Mi===Is)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(R),this.consumeIdentLikeToken();case Zs:if(this.peekCodePoint(0)===gr)return this.consumeCodePoint(),UA;if(this.peekCodePoint(0)===Zs)return this.consumeCodePoint(),_s;break;case to:if(this.peekCodePoint(0)===gr)return this.consumeCodePoint(),ia;break;case ts:return DA}return pr(R)?(this.consumeWhiteSpace(),wd):ki(R)?(this.reconsumeCodePoint(R),this.consumeNumericToken()):Hr(R)?(this.reconsumeCodePoint(R),this.consumeIdentLikeToken()):{type:6,value:x(R)}},j.prototype.consumeCodePoint=function(){var R=this._value.shift();return typeof R>"u"?-1:R},j.prototype.reconsumeCodePoint=function(R){this._value.unshift(R)},j.prototype.peekCodePoint=function(R){return R>=this._value.length?-1:this._value[R]},j.prototype.consumeUnicodeRangeToken=function(){for(var R=[],ee=this.consumeCodePoint();mr(ee)&&R.length<6;)R.push(ee),ee=this.consumeCodePoint();for(var J=!1;ee===Is&&R.length<6;)R.push(ee),ee=this.consumeCodePoint(),J=!0;if(J){var Me=parseInt(x.apply(void 0,R.map(function(ht){return ht===Is?Bs:ht})),16),He=parseInt(x.apply(void 0,R.map(function(ht){return ht===Is?Vt:ht})),16);return{type:30,start:Me,end:He}}var tt=parseInt(x.apply(void 0,R),16);if(this.peekCodePoint(0)===Yi&&mr(this.peekCodePoint(1))){this.consumeCodePoint(),ee=this.consumeCodePoint();for(var ut=[];mr(ee)&&ut.length<6;)ut.push(ee),ee=this.consumeCodePoint();var He=parseInt(x.apply(void 0,ut),16);return{type:30,start:tt,end:He}}else return{type:30,start:tt,end:tt}},j.prototype.consumeIdentLikeToken=function(){var R=this.consumeName();return R.toLowerCase()==="url"&&this.peekCodePoint(0)===Wi?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Wi?(this.consumeCodePoint(),{type:19,value:R}):{type:20,value:R}},j.prototype.consumeUrlToken=function(){var R=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ts)return{type:22,value:""};var ee=this.peekCodePoint(0);if(ee===_i||ee===Vi){var J=this.consumeStringToken(this.consumeCodePoint());return J.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ts||this.peekCodePoint(0)===xi)?(this.consumeCodePoint(),{type:22,value:J.value}):(this.consumeBadUrlRemnants(),Eo)}for(;;){var Me=this.consumeCodePoint();if(Me===ts||Me===xi)return{type:22,value:x.apply(void 0,R)};if(pr(Me))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ts||this.peekCodePoint(0)===xi?(this.consumeCodePoint(),{type:22,value:x.apply(void 0,R)}):(this.consumeBadUrlRemnants(),Eo);if(Me===Vi||Me===_i||Me===Wi||es(Me))return this.consumeBadUrlRemnants(),Eo;if(Me===jn)if(Dr(Me,this.peekCodePoint(0)))R.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Eo;else R.push(Me)}},j.prototype.consumeWhiteSpace=function(){for(;pr(this.peekCodePoint(0));)this.consumeCodePoint()},j.prototype.consumeBadUrlRemnants=function(){for(;;){var R=this.consumeCodePoint();if(R===xi||R===ts)return;Dr(R,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},j.prototype.consumeStringSlice=function(R){for(var ee=5e4,J="";R>0;){var Me=Math.min(ee,R);J+=x.apply(void 0,this._value.splice(0,Me)),R-=Me}return this._value.shift(),J},j.prototype.consumeStringToken=function(R){var ee="",J=0;do{var Me=this._value[J];if(Me===ts||Me===void 0||Me===R)return ee+=this.consumeStringSlice(J),{type:0,value:ee};if(Me===$n)return this._value.splice(0,J),dd;if(Me===jn){var He=this._value[J+1];He!==ts&&He!==void 0&&(He===$n?(ee+=this.consumeStringSlice(J),J=-1,this._value.shift()):Dr(Me,He)&&(ee+=this.consumeStringSlice(J),ee+=x(this.consumeEscapedCodePoint()),J=-1))}J++}while(!0)},j.prototype.consumeNumber=function(){var R=[],ee=Gt,J=this.peekCodePoint(0);for((J===ds||J===Yi)&&R.push(this.consumeCodePoint());ki(this.peekCodePoint(0));)R.push(this.consumeCodePoint());J=this.peekCodePoint(0);var Me=this.peekCodePoint(1);if(J===gs&&ki(Me))for(R.push(this.consumeCodePoint(),this.consumeCodePoint()),ee=zt;ki(this.peekCodePoint(0));)R.push(this.consumeCodePoint());J=this.peekCodePoint(0),Me=this.peekCodePoint(1);var He=this.peekCodePoint(2);if((J===Nt||J===Cs)&&((Me===ds||Me===Yi)&&ki(He)||ki(Me)))for(R.push(this.consumeCodePoint(),this.consumeCodePoint()),ee=zt;ki(this.peekCodePoint(0));)R.push(this.consumeCodePoint());return[as(R),ee]},j.prototype.consumeNumericToken=function(){var R=this.consumeNumber(),ee=R[0],J=R[1],Me=this.peekCodePoint(0),He=this.peekCodePoint(1),tt=this.peekCodePoint(2);if(wr(Me,He,tt)){var ut=this.consumeName();return{type:15,number:ee,flags:J,unit:ut}}return Me===dr?(this.consumeCodePoint(),{type:16,number:ee,flags:J}):{type:17,number:ee,flags:J}},j.prototype.consumeEscapedCodePoint=function(){var R=this.consumeCodePoint();if(mr(R)){for(var ee=x(R);mr(this.peekCodePoint(0))&&ee.length<6;)ee+=x(this.consumeCodePoint());pr(this.peekCodePoint(0))&&this.consumeCodePoint();var J=parseInt(ee,16);return J===0||fr(J)||J>1114111?Ts:J}return R===ts?Ts:R},j.prototype.consumeName=function(){for(var R="";;){var ee=this.consumeCodePoint();if(Pr(ee))R+=x(ee);else if(Dr(ee,this.peekCodePoint(0)))R+=x(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(ee),R}},j}(),K0=function(){function j(R){this._tokens=R}return j.create=function(R){var ee=new X0;return ee.write(R),new j(ee.read())},j.parseValue=function(R){return j.create(R).parseComponentValue()},j.parseValues=function(R){return j.create(R).parseComponentValues()},j.prototype.parseComponentValue=function(){for(var R=this.consumeToken();R.type===31;)R=this.consumeToken();if(R.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(R);var ee=this.consumeComponentValue();do R=this.consumeToken();while(R.type===31);if(R.type===32)return ee;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},j.prototype.parseComponentValues=function(){for(var R=[];;){var ee=this.consumeComponentValue();if(ee.type===32)return R;R.push(ee),R.push()}},j.prototype.consumeComponentValue=function(){var R=this.consumeToken();switch(R.type){case 11:case 28:case 2:return this.consumeSimpleBlock(R.type);case 19:return this.consumeFunction(R)}return R},j.prototype.consumeSimpleBlock=function(R){for(var ee={type:R,values:[]},J=this.consumeToken();;){if(J.type===32||Bd(J,R))return ee;this.reconsumeToken(J),ee.values.push(this.consumeComponentValue()),J=this.consumeToken()}},j.prototype.consumeFunction=function(R){for(var ee={name:R.value,values:[],type:18};;){var J=this.consumeToken();if(J.type===32||J.type===3)return ee;this.reconsumeToken(J),ee.values.push(this.consumeComponentValue())}},j.prototype.consumeToken=function(){var R=this._tokens.shift();return typeof R>"u"?DA:R},j.prototype.reconsumeToken=function(R){this._tokens.unshift(R)},j}(),Ao=function(j){return j.type===15},ra=function(j){return j.type===17},Mr=function(j){return j.type===20},yd=function(j){return j.type===0},LA=function(j,R){return Mr(j)&&j.value===R},V0=function(j){return j.type!==31},sa=function(j){return j.type!==31&&j.type!==4},ms=function(j){var R=[],ee=[];return j.forEach(function(J){if(J.type===4){if(ee.length===0)throw new Error("Error parsing function args, zero tokens for arg");R.push(ee),ee=[];return}J.type!==31&&ee.push(J)}),ee.length&&R.push(ee),R},Bd=function(j,R){return R===11&&j.type===12||R===28&&j.type===29?!0:R===2&&j.type===3},Ps=function(j){return j.type===17||j.type===15},Gr=function(j){return j.type===16||Ps(j)},W0=function(j){return j.length>1?[j[0],j[1]]:[j[0]]},Yr={type:17,number:0,flags:Gt},RA={type:16,number:50,flags:Gt},Os={type:16,number:100,flags:Gt},co=function(j,R,ee){var J=j[0],Me=j[1];return[Lr(J,R),Lr(typeof Me<"u"?Me:J,ee)]},Lr=function(j,R){if(j.type===16)return j.number/100*R;if(Ao(j))switch(j.unit){case"rem":case"em":return 16*j.number;case"px":default:return j.number}return j.number},z0="deg",q0="grad",Y0="rad",J0="turn",ko={name:"angle",parse:function(j,R){if(R.type===15)switch(R.unit){case z0:return Math.PI*R.number/180;case q0:return Math.PI/200*R.number;case Y0:return R.number;case J0:return Math.PI*2*R.number}throw new Error("Unsupported angle type")}},Z0=function(j){return j.type===15&&(j.unit===z0||j.unit===q0||j.unit===Y0||j.unit===J0)},eu=function(j){var R=j.filter(Mr).map(function(ee){return ee.value}).join(" ");switch(R){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Yr,Yr];case"to top":case"bottom":return cs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Yr,Os];case"to right":case"left":return cs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Os,Os];case"to bottom":case"top":return cs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Os,Yr];case"to left":case"right":return cs(270)}return 0},cs=function(j){return Math.PI*j/180},Ms={name:"color",parse:function(j,R){if(R.type===18){var ee=Cd[R.name];if(typeof ee>"u")throw new Error('Attempting to parse an unsupported color function "'+R.name+'"');return ee(j,R.values)}if(R.type===5){if(R.value.length===3){var J=R.value.substring(0,1),Me=R.value.substring(1,2),He=R.value.substring(2,3);return Ds(parseInt(J+J,16),parseInt(Me+Me,16),parseInt(He+He,16),1)}if(R.value.length===4){var J=R.value.substring(0,1),Me=R.value.substring(1,2),He=R.value.substring(2,3),tt=R.value.substring(3,4);return Ds(parseInt(J+J,16),parseInt(Me+Me,16),parseInt(He+He,16),parseInt(tt+tt,16)/255)}if(R.value.length===6){var J=R.value.substring(0,2),Me=R.value.substring(2,4),He=R.value.substring(4,6);return Ds(parseInt(J,16),parseInt(Me,16),parseInt(He,16),1)}if(R.value.length===8){var J=R.value.substring(0,2),Me=R.value.substring(2,4),He=R.value.substring(4,6),tt=R.value.substring(6,8);return Ds(parseInt(J,16),parseInt(Me,16),parseInt(He,16),parseInt(tt,16)/255)}}if(R.type===20){var ut=vs[R.value.toUpperCase()];if(typeof ut<"u")return ut}return vs.TRANSPARENT}},Us=function(j){return(255&j)===0},Wr=function(j){var R=255&j,ee=255&j>>8,J=255&j>>16,Me=255&j>>24;return R<255?"rgba("+Me+","+J+","+ee+","+R/255+")":"rgb("+Me+","+J+","+ee+")"},Ds=function(j,R,ee,J){return(j<<24|R<<16|ee<<8|Math.round(J*255)<<0)>>>0},tu=function(j,R){if(j.type===17)return j.number;if(j.type===16){var ee=R===3?1:255;return R===3?j.number/100*ee:Math.round(j.number/100*ee)}return 0},nu=function(j,R){var ee=R.filter(sa);if(ee.length===3){var J=ee.map(tu),Me=J[0],He=J[1],tt=J[2];return Ds(Me,He,tt,1)}if(ee.length===4){var ut=ee.map(tu),Me=ut[0],He=ut[1],tt=ut[2],ht=ut[3];return Ds(Me,He,tt,ht)}return 0};function QA(j,R,ee){return ee<0&&(ee+=1),ee>=1&&(ee-=1),ee<.16666666666666666?(R-j)*ee*6+j:ee<.5?R:ee<.6666666666666666?(R-j)*6*(.6666666666666666-ee)+j:j}var iu=function(j,R){var ee=R.filter(sa),J=ee[0],Me=ee[1],He=ee[2],tt=ee[3],ut=(J.type===17?cs(J.number):ko.parse(j,J))/(Math.PI*2),ht=Gr(Me)?Me.number/100:0,wt=Gr(He)?He.number/100:0,Tt=typeof tt<"u"&&Gr(tt)?Lr(tt,1):1;if(ht===0)return Ds(wt*255,wt*255,wt*255,1);var Rt=wt<=.5?wt*(ht+1):wt+ht-wt*ht,Jt=wt*2-Rt,Xi=QA(Jt,Rt,ut+1/3),si=QA(Jt,Rt,ut),Mi=QA(Jt,Rt,ut-1/3);return Ds(Xi*255,si*255,Mi*255,Tt)},Cd={hsl:iu,hsla:iu,rgb:nu,rgba:nu},lo=function(j,R){return Ms.parse(j,K0.create(R).parseComponentValue())},vs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},vd={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(j,R){return R.map(function(ee){if(Mr(ee))switch(ee.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Sd={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Io=function(j,R){var ee=Ms.parse(j,R[0]),J=R[1];return J&&Gr(J)?{color:ee,stop:J}:{color:ee,stop:null}},ru=function(j,R){var ee=j[0],J=j[j.length-1];ee.stop===null&&(ee.stop=Yr),J.stop===null&&(J.stop=Os);for(var Me=[],He=0,tt=0;tt<j.length;tt++){var ut=j[tt].stop;if(ut!==null){var ht=Lr(ut,R);ht>He?Me.push(ht):Me.push(He),He=ht}else Me.push(null)}for(var wt=null,tt=0;tt<Me.length;tt++){var Tt=Me[tt];if(Tt===null)wt===null&&(wt=tt);else if(wt!==null){for(var Rt=tt-wt,Jt=Me[wt-1],Xi=(Tt-Jt)/(Rt+1),si=1;si<=Rt;si++)Me[wt+si-1]=Xi*si;wt=null}}return j.map(function(Mi,Br){var Zi=Mi.color;return{color:Zi,stop:Math.max(Math.min(1,Me[Br]/R),0)}})},Fd=function(j,R,ee){var J=R/2,Me=ee/2,He=Lr(j[0],R)-J,tt=Me-Lr(j[1],ee);return(Math.atan2(tt,He)+Math.PI*2)%(Math.PI*2)},Ed=function(j,R,ee){var J=typeof j=="number"?j:Fd(j,R,ee),Me=Math.abs(R*Math.sin(J))+Math.abs(ee*Math.cos(J)),He=R/2,tt=ee/2,ut=Me/2,ht=Math.sin(J-Math.PI/2)*ut,wt=Math.cos(J-Math.PI/2)*ut;return[Me,He-wt,He+wt,tt-ht,tt+ht]},fs=function(j,R){return Math.sqrt(j*j+R*R)},su=function(j,R,ee,J,Me){var He=[[0,0],[0,R],[j,0],[j,R]];return He.reduce(function(tt,ut){var ht=ut[0],wt=ut[1],Tt=fs(ee-ht,J-wt);return(Me?Tt<tt.optimumDistance:Tt>tt.optimumDistance)?{optimumCorner:ut,optimumDistance:Tt}:tt},{optimumDistance:Me?1/0:-1/0,optimumCorner:null}).optimumCorner},kd=function(j,R,ee,J,Me){var He=0,tt=0;switch(j.size){case 0:j.shape===0?He=tt=Math.min(Math.abs(R),Math.abs(R-J),Math.abs(ee),Math.abs(ee-Me)):j.shape===1&&(He=Math.min(Math.abs(R),Math.abs(R-J)),tt=Math.min(Math.abs(ee),Math.abs(ee-Me)));break;case 2:if(j.shape===0)He=tt=Math.min(fs(R,ee),fs(R,ee-Me),fs(R-J,ee),fs(R-J,ee-Me));else if(j.shape===1){var ut=Math.min(Math.abs(ee),Math.abs(ee-Me))/Math.min(Math.abs(R),Math.abs(R-J)),ht=su(J,Me,R,ee,!0),wt=ht[0],Tt=ht[1];He=fs(wt-R,(Tt-ee)/ut),tt=ut*He}break;case 1:j.shape===0?He=tt=Math.max(Math.abs(R),Math.abs(R-J),Math.abs(ee),Math.abs(ee-Me)):j.shape===1&&(He=Math.max(Math.abs(R),Math.abs(R-J)),tt=Math.max(Math.abs(ee),Math.abs(ee-Me)));break;case 3:if(j.shape===0)He=tt=Math.max(fs(R,ee),fs(R,ee-Me),fs(R-J,ee),fs(R-J,ee-Me));else if(j.shape===1){var ut=Math.max(Math.abs(ee),Math.abs(ee-Me))/Math.max(Math.abs(R),Math.abs(R-J)),Rt=su(J,Me,R,ee,!1),wt=Rt[0],Tt=Rt[1];He=fs(wt-R,(Tt-ee)/ut),tt=ut*He}break}return Array.isArray(j.size)&&(He=Lr(j.size[0],J),tt=j.size.length===2?Lr(j.size[1],Me):He),[He,tt]},Id=function(j,R){var ee=cs(180),J=[];return ms(R).forEach(function(Me,He){if(He===0){var tt=Me[0];if(tt.type===20&&tt.value==="to"){ee=eu(Me);return}else if(Z0(tt)){ee=ko.parse(j,tt);return}}var ut=Io(j,Me);J.push(ut)}),{angle:ee,stops:J,type:1}},To=function(j,R){var ee=cs(180),J=[];return ms(R).forEach(function(Me,He){if(He===0){var tt=Me[0];if(tt.type===20&&["top","left","right","bottom"].indexOf(tt.value)!==-1){ee=eu(Me);return}else if(Z0(tt)){ee=(ko.parse(j,tt)+cs(270))%cs(360);return}}var ut=Io(j,Me);J.push(ut)}),{angle:ee,stops:J,type:1}},Td=function(j,R){var ee=cs(180),J=[],Me=1,He=0,tt=3,ut=[];return ms(R).forEach(function(ht,wt){var Tt=ht[0];if(wt===0){if(Mr(Tt)&&Tt.value==="linear"){Me=1;return}else if(Mr(Tt)&&Tt.value==="radial"){Me=2;return}}if(Tt.type===18){if(Tt.name==="from"){var Rt=Ms.parse(j,Tt.values[0]);J.push({stop:Yr,color:Rt})}else if(Tt.name==="to"){var Rt=Ms.parse(j,Tt.values[0]);J.push({stop:Os,color:Rt})}else if(Tt.name==="color-stop"){var Jt=Tt.values.filter(sa);if(Jt.length===2){var Rt=Ms.parse(j,Jt[1]),Xi=Jt[0];ra(Xi)&&J.push({stop:{type:16,number:Xi.number*100,flags:Xi.flags},color:Rt})}}}}),Me===1?{angle:(ee+cs(180))%cs(360),stops:J,type:Me}:{size:tt,shape:He,stops:J,position:ut,type:Me}},au="closest-side",ou="farthest-side",Au="closest-corner",cu="farthest-corner",lu="circle",uu="ellipse",hu="cover",du="contain",_d=function(j,R){var ee=0,J=3,Me=[],He=[];return ms(R).forEach(function(tt,ut){var ht=!0;if(ut===0){var wt=!1;ht=tt.reduce(function(Rt,Jt){if(wt)if(Mr(Jt))switch(Jt.value){case"center":return He.push(RA),Rt;case"top":case"left":return He.push(Yr),Rt;case"right":case"bottom":return He.push(Os),Rt}else(Gr(Jt)||Ps(Jt))&&He.push(Jt);else if(Mr(Jt))switch(Jt.value){case lu:return ee=0,!1;case uu:return ee=1,!1;case"at":return wt=!0,!1;case au:return J=0,!1;case hu:case ou:return J=1,!1;case du:case Au:return J=2,!1;case cu:return J=3,!1}else if(Ps(Jt)||Gr(Jt))return Array.isArray(J)||(J=[]),J.push(Jt),!1;return Rt},ht)}if(ht){var Tt=Io(j,tt);Me.push(Tt)}}),{size:J,shape:ee,stops:Me,position:He,type:2}},_o=function(j,R){var ee=0,J=3,Me=[],He=[];return ms(R).forEach(function(tt,ut){var ht=!0;if(ut===0?ht=tt.reduce(function(Tt,Rt){if(Mr(Rt))switch(Rt.value){case"center":return He.push(RA),!1;case"top":case"left":return He.push(Yr),!1;case"right":case"bottom":return He.push(Os),!1}else if(Gr(Rt)||Ps(Rt))return He.push(Rt),!1;return Tt},ht):ut===1&&(ht=tt.reduce(function(Tt,Rt){if(Mr(Rt))switch(Rt.value){case lu:return ee=0,!1;case uu:return ee=1,!1;case du:case au:return J=0,!1;case ou:return J=1,!1;case Au:return J=2,!1;case hu:case cu:return J=3,!1}else if(Ps(Rt)||Gr(Rt))return Array.isArray(J)||(J=[]),J.push(Rt),!1;return Tt},ht)),ht){var wt=Io(j,tt);Me.push(wt)}}),{size:J,shape:ee,stops:Me,position:He,type:2}},Pd=function(j){return j.type===1},Od=function(j){return j.type===2},NA={name:"image",parse:function(j,R){if(R.type===22){var ee={url:R.value,type:0};return j.cache.addImage(R.value),ee}if(R.type===18){var J=fu[R.name];if(typeof J>"u")throw new Error('Attempting to parse an unsupported image function "'+R.name+'"');return J(j,R.values)}throw new Error("Unsupported image type "+R.type)}};function Md(j){return!(j.type===20&&j.value==="none")&&(j.type!==18||!!fu[j.name])}var fu={"linear-gradient":Id,"-moz-linear-gradient":To,"-ms-linear-gradient":To,"-o-linear-gradient":To,"-webkit-linear-gradient":To,"radial-gradient":_d,"-moz-radial-gradient":_o,"-ms-radial-gradient":_o,"-o-radial-gradient":_o,"-webkit-radial-gradient":_o,"-webkit-gradient":Td},Ud={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(j,R){if(R.length===0)return[];var ee=R[0];return ee.type===20&&ee.value==="none"?[]:R.filter(function(J){return sa(J)&&Md(J)}).map(function(J){return NA.parse(j,J)})}},Dd={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(j,R){return R.map(function(ee){if(Mr(ee))switch(ee.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ld={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(j,R){return ms(R).map(function(ee){return ee.filter(Gr)}).map(W0)}},Rd={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(j,R){return ms(R).map(function(ee){return ee.filter(Mr).map(function(J){return J.value}).join(" ")}).map(Qd)}},Qd=function(j){switch(j){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},aa;(function(j){j.AUTO="auto",j.CONTAIN="contain",j.COVER="cover"})(aa||(aa={}));var Nd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(j,R){return ms(R).map(function(ee){return ee.filter(Hd)})}},Hd=function(j){return Mr(j)||Gr(j)},Oo=function(j){return{name:"border-"+j+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Kd=Oo("top"),Vd=Oo("right"),Zd=Oo("bottom"),ef=Oo("left"),Mo=function(j){return{name:"border-radius-"+j,initialValue:"0 0",prefix:!1,type:1,parse:function(R,ee){return W0(ee.filter(Gr))}}},tf=Mo("top-left"),nf=Mo("top-right"),rf=Mo("bottom-right"),sf=Mo("bottom-left"),Uo=function(j){return{name:"border-"+j+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(R,ee){switch(ee){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},af=Uo("top"),of=Uo("right"),Af=Uo("bottom"),cf=Uo("left"),Do=function(j){return{name:"border-"+j+"-width",initialValue:"0",type:0,prefix:!1,parse:function(R,ee){return Ao(ee)?ee.number:0}}},lf=Do("top"),uf=Do("right"),hf=Do("bottom"),df=Do("left"),ff={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gf={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(j,R){switch(R){case"rtl":return 1;case"ltr":default:return 0}}},pf={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(j,R){return R.filter(Mr).reduce(function(ee,J){return ee|mf(J.value)},0)}},mf=function(j){switch(j){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},xf={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(j,R){switch(R){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},bf={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(j,R){return R.type===20&&R.value==="normal"?0:R.type===17||R.type===15?R.number:0}},Lo;(function(j){j.NORMAL="normal",j.STRICT="strict"})(Lo||(Lo={}));var wf={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,R){switch(R){case"strict":return Lo.STRICT;case"normal":default:return Lo.NORMAL}}},yf={name:"line-height",initialValue:"normal",prefix:!1,type:4},gu=function(j,R){return Mr(j)&&j.value==="normal"?1.2*R:j.type===17?R*j.number:Gr(j)?Lr(j,R):R},Bf={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(j,R){return R.type===20&&R.value==="none"?null:NA.parse(j,R)}},Cf={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(j,R){switch(R){case"inside":return 0;case"outside":default:return 1}}},HA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(j,R){switch(R){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ro=function(j){return{name:"margin-"+j,initialValue:"0",prefix:!1,type:4}},vf=Ro("top"),Sf=Ro("right"),Ff=Ro("bottom"),Ef=Ro("left"),kf={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(j,R){return R.filter(Mr).map(function(ee){switch(ee.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},If={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(j,R){switch(R){case"break-word":return"break-word";case"normal":default:return"normal"}}},Qo=function(j){return{name:"padding-"+j,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Tf=Qo("top"),_f=Qo("right"),Pf=Qo("bottom"),Of=Qo("left"),Mf={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(j,R){switch(R){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Uf={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(j,R){switch(R){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Df={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,R){return R.length===1&&LA(R[0],"none")?[]:ms(R).map(function(ee){for(var J={color:vs.TRANSPARENT,offsetX:Yr,offsetY:Yr,blur:Yr},Me=0,He=0;He<ee.length;He++){var tt=ee[He];Ps(tt)?(Me===0?J.offsetX=tt:Me===1?J.offsetY=tt:J.blur=tt,Me++):J.color=Ms.parse(j,tt)}return J})}},Lf={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(j,R){switch(R){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Rf={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(j,R){if(R.type===20&&R.value==="none")return null;if(R.type===18){var ee=Hf[R.name];if(typeof ee>"u")throw new Error('Attempting to parse an unsupported transform function "'+R.name+'"');return ee(R.values)}return null}},Qf=function(j){var R=j.filter(function(ee){return ee.type===17}).map(function(ee){return ee.number});return R.length===6?R:null},Nf=function(j){var R=j.filter(function(ht){return ht.type===17}).map(function(ht){return ht.number}),ee=R[0],J=R[1];R[2],R[3];var Me=R[4],He=R[5];R[6],R[7],R[8],R[9],R[10],R[11];var tt=R[12],ut=R[13];return R[14],R[15],R.length===16?[ee,J,Me,He,tt,ut]:null},Hf={matrix:Qf,matrix3d:Nf},pu={type:16,number:50,flags:Gt},$f=[pu,pu],jf={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(j,R){var ee=R.filter(Gr);return ee.length!==2?$f:[ee[0],ee[1]]}},Gf={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(j,R){switch(R){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},uo;(function(j){j.NORMAL="normal",j.BREAK_ALL="break-all",j.KEEP_ALL="keep-all"})(uo||(uo={}));for(var Xf={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,R){switch(R){case"break-all":return uo.BREAK_ALL;case"keep-all":return uo.KEEP_ALL;case"normal":default:return uo.NORMAL}}},Kf={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(j,R){if(R.type===20)return{auto:!0,order:0};if(ra(R))return{auto:!1,order:R.number};throw new Error("Invalid z-index number parsed")}},mu={name:"time",parse:function(j,R){if(R.type===15)switch(R.unit.toLowerCase()){case"s":return 1e3*R.number;case"ms":return R.number}throw new Error("Unsupported time type")}},Vf={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(j,R){return ra(R)?R.number:1}},Wf={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zf={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(j,R){return R.filter(Mr).map(function(ee){switch(ee.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(ee){return ee!==0})}},qf={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(j,R){var ee=[],J=[];return R.forEach(function(Me){switch(Me.type){case 20:case 0:ee.push(Me.value);break;case 17:ee.push(Me.number.toString());break;case 4:J.push(ee.join(" ")),ee.length=0;break}}),ee.length&&J.push(ee.join(" ")),J.map(function(Me){return Me.indexOf(" ")===-1?Me:"'"+Me+"'"})}},Yf={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Jf={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(j,R){if(ra(R))return R.number;if(Mr(R))switch(R.value){case"bold":return 700;case"normal":default:return 400}return 400}},Zf={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(j,R){return R.filter(Mr).map(function(ee){return ee.value})}},e1={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(j,R){switch(R){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Vr=function(j,R){return(j&R)!==0},t1={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(j,R){if(R.length===0)return[];var ee=R[0];return ee.type===20&&ee.value==="none"?[]:R}},n1={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(j,R){if(R.length===0)return null;var ee=R[0];if(ee.type===20&&ee.value==="none")return null;for(var J=[],Me=R.filter(V0),He=0;He<Me.length;He++){var tt=Me[He],ut=Me[He+1];if(tt.type===20){var ht=ut&&ra(ut)?ut.number:1;J.push({counter:tt.value,increment:ht})}}return J}},i1={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(j,R){if(R.length===0)return[];for(var ee=[],J=R.filter(V0),Me=0;Me<J.length;Me++){var He=J[Me],tt=J[Me+1];if(Mr(He)&&He.value!=="none"){var ut=tt&&ra(tt)?tt.number:0;ee.push({counter:He.value,reset:ut})}}return ee}},r1={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(j,R){return R.filter(Ao).map(function(ee){return mu.parse(j,ee)})}},s1={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(j,R){if(R.length===0)return null;var ee=R[0];if(ee.type===20&&ee.value==="none")return null;var J=[],Me=R.filter(yd);if(Me.length%2!==0)return null;for(var He=0;He<Me.length;He+=2){var tt=Me[He].value,ut=Me[He+1].value;J.push({open:tt,close:ut})}return J}},xu=function(j,R,ee){if(!j)return"";var J=j[Math.min(R,j.length-1)];return J?ee?J.open:J.close:""},a1={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,R){return R.length===1&&LA(R[0],"none")?[]:ms(R).map(function(ee){for(var J={color:255,offsetX:Yr,offsetY:Yr,blur:Yr,spread:Yr,inset:!1},Me=0,He=0;He<ee.length;He++){var tt=ee[He];LA(tt,"inset")?J.inset=!0:Ps(tt)?(Me===0?J.offsetX=tt:Me===1?J.offsetY=tt:Me===2?J.blur=tt:J.spread=tt,Me++):J.color=Ms.parse(j,tt)}return J})}},o1={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(j,R){var ee=[0,1,2],J=[];return R.filter(Mr).forEach(function(Me){switch(Me.value){case"stroke":J.push(1);break;case"fill":J.push(0);break;case"markers":J.push(2);break}}),ee.forEach(function(Me){J.indexOf(Me)===-1&&J.push(Me)}),J}},A1={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},c1={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(j,R){return Ao(R)?R.number:0}},l1=function(){function j(R,ee){var J,Me;this.animationDuration=Ki(R,r1,ee.animationDuration),this.backgroundClip=Ki(R,vd,ee.backgroundClip),this.backgroundColor=Ki(R,Sd,ee.backgroundColor),this.backgroundImage=Ki(R,Ud,ee.backgroundImage),this.backgroundOrigin=Ki(R,Dd,ee.backgroundOrigin),this.backgroundPosition=Ki(R,Ld,ee.backgroundPosition),this.backgroundRepeat=Ki(R,Rd,ee.backgroundRepeat),this.backgroundSize=Ki(R,Nd,ee.backgroundSize),this.borderTopColor=Ki(R,Kd,ee.borderTopColor),this.borderRightColor=Ki(R,Vd,ee.borderRightColor),this.borderBottomColor=Ki(R,Zd,ee.borderBottomColor),this.borderLeftColor=Ki(R,ef,ee.borderLeftColor),this.borderTopLeftRadius=Ki(R,tf,ee.borderTopLeftRadius),this.borderTopRightRadius=Ki(R,nf,ee.borderTopRightRadius),this.borderBottomRightRadius=Ki(R,rf,ee.borderBottomRightRadius),this.borderBottomLeftRadius=Ki(R,sf,ee.borderBottomLeftRadius),this.borderTopStyle=Ki(R,af,ee.borderTopStyle),this.borderRightStyle=Ki(R,of,ee.borderRightStyle),this.borderBottomStyle=Ki(R,Af,ee.borderBottomStyle),this.borderLeftStyle=Ki(R,cf,ee.borderLeftStyle),this.borderTopWidth=Ki(R,lf,ee.borderTopWidth),this.borderRightWidth=Ki(R,uf,ee.borderRightWidth),this.borderBottomWidth=Ki(R,hf,ee.borderBottomWidth),this.borderLeftWidth=Ki(R,df,ee.borderLeftWidth),this.boxShadow=Ki(R,a1,ee.boxShadow),this.color=Ki(R,ff,ee.color),this.direction=Ki(R,gf,ee.direction),this.display=Ki(R,pf,ee.display),this.float=Ki(R,xf,ee.cssFloat),this.fontFamily=Ki(R,qf,ee.fontFamily),this.fontSize=Ki(R,Yf,ee.fontSize),this.fontStyle=Ki(R,e1,ee.fontStyle),this.fontVariant=Ki(R,Zf,ee.fontVariant),this.fontWeight=Ki(R,Jf,ee.fontWeight),this.letterSpacing=Ki(R,bf,ee.letterSpacing),this.lineBreak=Ki(R,wf,ee.lineBreak),this.lineHeight=Ki(R,yf,ee.lineHeight),this.listStyleImage=Ki(R,Bf,ee.listStyleImage),this.listStylePosition=Ki(R,Cf,ee.listStylePosition),this.listStyleType=Ki(R,HA,ee.listStyleType),this.marginTop=Ki(R,vf,ee.marginTop),this.marginRight=Ki(R,Sf,ee.marginRight),this.marginBottom=Ki(R,Ff,ee.marginBottom),this.marginLeft=Ki(R,Ef,ee.marginLeft),this.opacity=Ki(R,Vf,ee.opacity);var He=Ki(R,kf,ee.overflow);this.overflowX=He[0],this.overflowY=He[He.length>1?1:0],this.overflowWrap=Ki(R,If,ee.overflowWrap),this.paddingTop=Ki(R,Tf,ee.paddingTop),this.paddingRight=Ki(R,_f,ee.paddingRight),this.paddingBottom=Ki(R,Pf,ee.paddingBottom),this.paddingLeft=Ki(R,Of,ee.paddingLeft),this.paintOrder=Ki(R,o1,ee.paintOrder),this.position=Ki(R,Uf,ee.position),this.textAlign=Ki(R,Mf,ee.textAlign),this.textDecorationColor=Ki(R,Wf,(J=ee.textDecorationColor)!==null&&J!==void 0?J:ee.color),this.textDecorationLine=Ki(R,zf,(Me=ee.textDecorationLine)!==null&&Me!==void 0?Me:ee.textDecoration),this.textShadow=Ki(R,Df,ee.textShadow),this.textTransform=Ki(R,Lf,ee.textTransform),this.transform=Ki(R,Rf,ee.transform),this.transformOrigin=Ki(R,jf,ee.transformOrigin),this.visibility=Ki(R,Gf,ee.visibility),this.webkitTextStrokeColor=Ki(R,A1,ee.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ki(R,c1,ee.webkitTextStrokeWidth),this.wordBreak=Ki(R,Xf,ee.wordBreak),this.zIndex=Ki(R,Kf,ee.zIndex)}return j.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},j.prototype.isTransparent=function(){return Us(this.backgroundColor)},j.prototype.isTransformed=function(){return this.transform!==null},j.prototype.isPositioned=function(){return this.position!==0},j.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},j.prototype.isFloating=function(){return this.float!==0},j.prototype.isInlineLevel=function(){return Vr(this.display,4)||Vr(this.display,33554432)||Vr(this.display,268435456)||Vr(this.display,536870912)||Vr(this.display,67108864)||Vr(this.display,134217728)},j}(),u1=function(){function j(R,ee){this.content=Ki(R,t1,ee.content),this.quotes=Ki(R,s1,ee.quotes)}return j}(),bu=function(){function j(R,ee){this.counterIncrement=Ki(R,n1,ee.counterIncrement),this.counterReset=Ki(R,i1,ee.counterReset)}return j}(),Ki=function(j,R,ee){var J=new X0,Me=ee!==null&&typeof ee<"u"?ee.toString():R.initialValue;J.write(Me);var He=new K0(J.read());switch(R.type){case 2:var tt=He.parseComponentValue();return R.parse(j,Mr(tt)?tt.value:R.initialValue);case 0:return R.parse(j,He.parseComponentValue());case 1:return R.parse(j,He.parseComponentValues());case 4:return He.parseComponentValue();case 3:switch(R.format){case"angle":return ko.parse(j,He.parseComponentValue());case"color":return Ms.parse(j,He.parseComponentValue());case"image":return NA.parse(j,He.parseComponentValue());case"length":var ut=He.parseComponentValue();return Ps(ut)?ut:Yr;case"length-percentage":var ht=He.parseComponentValue();return Gr(ht)?ht:Yr;case"time":return mu.parse(j,He.parseComponentValue())}break}},h1="data-htmlVisualizer-debug",d1=function(j){var R=j.getAttribute(h1);switch(R){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},jA=function(j,R){var ee=d1(j);return ee===1||R===ee},xs=function(){function j(R,ee){if(this.context=R,this.textNodes=[],this.elements=[],this.flags=0,jA(ee,3))debugger;this.styles=new l1(R,window.getComputedStyle(ee,null)),Xc(ee)&&(this.styles.animationDuration.some(function(J){return J>0})&&(ee.style.animationDuration="0s"),this.styles.transform!==null&&(ee.style.transform="none")),this.bounds=h(this.context,ee),jA(ee,4)&&(this.flags|=16)}return j}(),f1="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ho=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ho=0;Ho<wu.length;Ho++)ho[wu.charCodeAt(Ho)]=Ho;for(var g1=function(j){var R=j.length*.75,ee=j.length,J,Me=0,He,tt,ut,ht;j[j.length-1]==="="&&(R--,j[j.length-2]==="="&&R--);var wt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(R):new Array(R),Tt=Array.isArray(wt)?wt:new Uint8Array(wt);for(J=0;J<ee;J+=4)He=ho[j.charCodeAt(J)],tt=ho[j.charCodeAt(J+1)],ut=ho[j.charCodeAt(J+2)],ht=ho[j.charCodeAt(J+3)],Tt[Me++]=He<<2|tt>>4,Tt[Me++]=(tt&15)<<4|ut>>2,Tt[Me++]=(ut&3)<<6|ht&63;return wt},p1=function(j){for(var R=j.length,ee=[],J=0;J<R;J+=2)ee.push(j[J+1]<<8|j[J]);return ee},m1=function(j){for(var R=j.length,ee=[],J=0;J<R;J+=4)ee.push(j[J+3]<<24|j[J+2]<<16|j[J+1]<<8|j[J]);return ee},Xs=5,GA=11,XA=2,x1=GA-Xs,yu=65536>>Xs,b1=1<<Xs,KA=b1-1,w1=1024>>Xs,y1=yu+w1,B1=y1,C1=32,v1=B1+C1,S1=65536>>GA,F1=1<<x1,E1=F1-1,Bu=function(j,R,ee){return j.slice?j.slice(R,ee):new Uint16Array(Array.prototype.slice.call(j,R,ee))},k1=function(j,R,ee){return j.slice?j.slice(R,ee):new Uint32Array(Array.prototype.slice.call(j,R,ee))},I1=function(j,R){var ee=g1(j),J=Array.isArray(ee)?m1(ee):new Uint32Array(ee),Me=Array.isArray(ee)?p1(ee):new Uint16Array(ee),He=24,tt=Bu(Me,He/2,J[4]/2),ut=J[5]===2?Bu(Me,(He+J[4])/2):k1(J,Math.ceil((He+J[4])/4));return new T1(J[0],J[1],J[2],J[3],tt,ut)},T1=function(){function j(R,ee,J,Me,He,tt){this.initialValue=R,this.errorValue=ee,this.highStart=J,this.highValueIndex=Me,this.index=He,this.data=tt}return j.prototype.get=function(R){var ee;if(R>=0){if(R<55296||R>56319&&R<=65535)return ee=this.index[R>>Xs],ee=(ee<<XA)+(R&KA),this.data[ee];if(R<=65535)return ee=this.index[yu+(R-55296>>Xs)],ee=(ee<<XA)+(R&KA),this.data[ee];if(R<this.highStart)return ee=v1-S1+(R>>GA),ee=this.index[ee],ee+=R>>Xs&E1,ee=this.index[ee],ee=(ee<<XA)+(R&KA),this.data[ee];if(R<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j}(),Cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_1=typeof Uint8Array>"u"?[]:new Uint8Array(256),Xo=0;Xo<Cu.length;Xo++)_1[Cu.charCodeAt(Xo)]=Xo;var P1=1,VA=2,WA=3,vu=4,Su=5,O1=7,Fu=8,YA=9,ec=10,Eu=11,ku=12,Iu=13,Tu=14,kc=15,M1=function(j){for(var R=[],ee=0,J=j.length;ee<J;){var Me=j.charCodeAt(ee++);if(Me>=55296&&Me<=56319&&ee<J){var He=j.charCodeAt(ee++);(He&64512)===56320?R.push(((Me&1023)<<10)+(He&1023)+65536):(R.push(Me),ee--)}else R.push(Me)}return R},U1=function(){for(var j=[],R=0;R<arguments.length;R++)j[R]=arguments[R];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var ee=j.length;if(!ee)return"";for(var J=[],Me=-1,He="";++Me<ee;){var tt=j[Me];tt<=65535?J.push(tt):(tt-=65536,J.push((tt>>10)+55296,tt%1024+56320)),(Me+1===ee||J.length>16384)&&(He+=String.fromCharCode.apply(String,J),J.length=0)}return He},D1=I1(f1),Ks="×",_u="÷",L1=function(j){return D1.get(j)},R1=function(j,R,ee){var J=ee-2,Me=R[J],He=R[ee-1],tt=R[ee];if(He===VA&&tt===WA)return Ks;if(He===VA||He===WA||He===vu||tt===VA||tt===WA||tt===vu)return _u;if(He===Fu&&[Fu,YA,Eu,ku].indexOf(tt)!==-1||(He===Eu||He===YA)&&(tt===YA||tt===ec)||(He===ku||He===ec)&&tt===ec||tt===Iu||tt===Su||tt===O1||He===P1)return Ks;if(He===Iu&&tt===Tu){for(;Me===Su;)Me=R[--J];if(Me===Tu)return Ks}if(He===kc&&tt===kc){for(var ut=0;Me===kc;)ut++,Me=R[--J];if(ut%2===0)return Ks}return _u},Q1=function(j){var R=M1(j),ee=R.length,J=0,Me=0,He=R.map(L1);return{next:function(){if(J>=ee)return{done:!0,value:null};for(var tt=Ks;J<ee&&(tt=R1(R,He,++J))===Ks;);if(tt!==Ks||J===ee){var ut=U1.apply(null,R.slice(Me,J));return Me=J,{value:ut,done:!1}}return{done:!0,value:null}}}},N1=function(j){for(var R=Q1(j),ee=[],J;!(J=R.next()).done;)J.value&&ee.push(J.value.slice());return ee},H1=function(j){var R=123;if(j.createRange){var ee=j.createRange();if(ee.getBoundingClientRect){var J=j.createElement("boundtest");J.style.height=R+"px",J.style.display="block",j.body.appendChild(J),ee.selectNode(J);var Me=ee.getBoundingClientRect(),He=Math.round(Me.height);if(j.body.removeChild(J),He===R)return!0}}return!1},$1=function(j){var R=j.createElement("boundtest");R.style.width="50px",R.style.display="block",R.style.fontSize="12px",R.style.letterSpacing="0px",R.style.wordSpacing="0px",j.body.appendChild(R);var ee=j.createRange();R.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var J=R.firstChild,Me=n(J.data).map(function(ht){return x(ht)}),He=0,tt={},ut=Me.every(function(ht,wt){ee.setStart(J,He),ee.setEnd(J,He+ht.length);var Tt=ee.getBoundingClientRect();He+=ht.length;var Rt=Tt.x>tt.x||Tt.y>tt.y;return tt=Tt,wt===0?!0:Rt});return j.body.removeChild(R),ut},j1=function(){return typeof new Image().crossOrigin<"u"},G1=function(){return typeof new XMLHttpRequest().responseType=="string"},X1=function(j){var R=new Image,ee=j.createElement("canvas"),J=ee.getContext("2d");if(!J)return!1;R.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{J.drawImage(R,0,0),ee.toDataURL()}catch{return!1}return!0},Pu=function(j){return j[0]===0&&j[1]===255&&j[2]===0&&j[3]===255},K1=function(j){var R=j.createElement("canvas"),ee=100;R.width=ee,R.height=ee;var J=R.getContext("2d");if(!J)return Promise.reject(!1);J.fillStyle="rgb(0, 255, 0)",J.fillRect(0,0,ee,ee);var Me=new Image,He=R.toDataURL();Me.src=He;var tt=Nc(ee,ee,0,0,Me);return J.fillStyle="red",J.fillRect(0,0,ee,ee),Ou(tt).then(function(ut){J.drawImage(ut,0,0);var ht=J.getImageData(0,0,ee,ee).data;J.fillStyle="red",J.fillRect(0,0,ee,ee);var wt=j.createElement("div");return wt.style.backgroundImage="url("+He+")",wt.style.height=ee+"px",Pu(ht)?Ou(Nc(ee,ee,0,0,wt)):Promise.reject(!1)}).then(function(ut){return J.drawImage(ut,0,0),Pu(J.getImageData(0,0,ee,ee).data)}).catch(function(){return!1})},Nc=function(j,R,ee,J,Me){var He="http://www.w3.org/2000/svg",tt=document.createElementNS(He,"svg"),ut=document.createElementNS(He,"foreignObject");return tt.setAttributeNS(null,"width",j.toString()),tt.setAttributeNS(null,"height",R.toString()),ut.setAttributeNS(null,"width","100%"),ut.setAttributeNS(null,"height","100%"),ut.setAttributeNS(null,"x",ee.toString()),ut.setAttributeNS(null,"y",J.toString()),ut.setAttributeNS(null,"externalResourcesRequired","true"),tt.appendChild(ut),ut.appendChild(Me),tt},Ou=function(j){return new Promise(function(R,ee){var J=new Image;J.onload=function(){return R(J)},J.onerror=ee,J.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},Jr={get SUPPORT_RANGE_BOUNDS(){var j=H1(document);return Object.defineProperty(Jr,"SUPPORT_RANGE_BOUNDS",{value:j}),j},get SUPPORT_WORD_BREAKING(){var j=Jr.SUPPORT_RANGE_BOUNDS&&$1(document);return Object.defineProperty(Jr,"SUPPORT_WORD_BREAKING",{value:j}),j},get SUPPORT_SVG_DRAWING(){var j=X1(document);return Object.defineProperty(Jr,"SUPPORT_SVG_DRAWING",{value:j}),j},get SUPPORT_FOREIGNOBJECT_DRAWING(){var j=typeof Array.from=="function"&&typeof window.fetch=="function"?K1(document):Promise.resolve(!1);return Object.defineProperty(Jr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:j}),j},get SUPPORT_CORS_IMAGES(){var j=j1();return Object.defineProperty(Jr,"SUPPORT_CORS_IMAGES",{value:j}),j},get SUPPORT_RESPONSE_TYPE(){var j=G1();return Object.defineProperty(Jr,"SUPPORT_RESPONSE_TYPE",{value:j}),j},get SUPPORT_CORS_XHR(){var j="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Jr,"SUPPORT_CORS_XHR",{value:j}),j},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var j=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Jr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:j}),j}},fo=function(){function j(R,ee){this.text=R,this.bounds=ee}return j}(),V1=function(j,R,ee,J){var Me=q1(R,ee),He=[],tt=0;return Me.forEach(function(ut){if(ee.textDecorationLine.length||ut.trim().length>0)if(Jr.SUPPORT_RANGE_BOUNDS){var ht=Mu(J,tt,ut.length).getClientRects();if(ht.length>1){var wt=$c(ut),Tt=0;wt.forEach(function(Jt){He.push(new fo(Jt,Pe.fromDOMRectList(j,Mu(J,Tt+tt,Jt.length).getClientRects()))),Tt+=Jt.length})}else He.push(new fo(ut,Pe.fromDOMRectList(j,ht)))}else{var Rt=J.splitText(ut.length);He.push(new fo(ut,W1(j,J))),J=Rt}else Jr.SUPPORT_RANGE_BOUNDS||(J=J.splitText(ut.length));tt+=ut.length}),He},W1=function(j,R){var ee=R.ownerDocument;if(ee){var J=ee.createElement("htmlVisualizerwrapper");J.appendChild(R.cloneNode(!0));var Me=R.parentNode;if(Me){Me.replaceChild(J,R);var He=h(j,J);return J.firstChild&&Me.replaceChild(J.firstChild,J),He}}return Pe.EMPTY},Mu=function(j,R,ee){var J=j.ownerDocument;if(!J)throw new Error("Node has no owner document");var Me=J.createRange();return Me.setStart(j,R),Me.setEnd(j,R+ee),Me},$c=function(j){if(Jr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var R=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(R.segment(j)).map(function(ee){return ee.segment})}return N1(j)},z1=function(j,R){if(Jr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var ee=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(ee.segment(j)).map(function(J){return J.segment})}return J1(j,R)},q1=function(j,R){return R.letterSpacing!==0?$c(j):z1(j,R)},Y1=[32,160,4961,65792,65793,4153,4241],J1=function(j,R){for(var ee=hr(j,{lineBreak:R.lineBreak,wordBreak:R.overflowWrap==="break-word"?"break-word":R.wordBreak}),J=[],Me,He=function(){if(Me.value){var tt=Me.value.slice(),ut=n(tt),ht="";ut.forEach(function(wt){Y1.indexOf(wt)===-1?ht+=x(wt):(ht.length&&J.push(ht),J.push(x(wt)),ht="")}),ht.length&&J.push(ht)}};!(Me=ee.next()).done;)He();return J},Z1=function(){function j(R,ee,J){this.text=eg(ee.data,J.textTransform),this.textBounds=V1(R,this.text,J,ee)}return j}(),eg=function(j,R){switch(R){case 1:return j.toLowerCase();case 3:return j.replace(tg,ng);case 2:return j.toUpperCase();default:return j}},tg=/(^|\s|:|-|\(|\))([a-z])/g,ng=function(j,R,ee){return j.length>0?R+ee.toUpperCase():j},Uu=function(j){s(R,j);function R(ee,J){var Me=j.call(this,ee,J)||this;return Me.src=J.currentSrc||J.src,Me.intrinsicWidth=J.naturalWidth,Me.intrinsicHeight=J.naturalHeight,Me.context.cache.addImage(Me.src),Me}return R}(xs),Du=function(j){s(R,j);function R(ee,J){var Me=j.call(this,ee,J)||this;return Me.canvas=J,Me.intrinsicWidth=J.width,Me.intrinsicHeight=J.height,Me}return R}(xs),Lu=function(j){s(R,j);function R(ee,J){var Me=j.call(this,ee,J)||this,He=new XMLSerializer,tt=h(ee,J);return J.setAttribute("width",tt.width+"px"),J.setAttribute("height",tt.height+"px"),Me.svg="data:image/svg+xml,"+encodeURIComponent(He.serializeToString(J)),Me.intrinsicWidth=J.width.baseVal.value,Me.intrinsicHeight=J.height.baseVal.value,Me.context.cache.addImage(Me.svg),Me}return R}(xs),Ru=function(j){s(R,j);function R(ee,J){var Me=j.call(this,ee,J)||this;return Me.value=J.value,Me}return R}(xs),jc=function(j){s(R,j);function R(ee,J){var Me=j.call(this,ee,J)||this;return Me.start=J.start,Me.reversed=typeof J.reversed=="boolean"&&J.reversed===!0,Me}return R}(xs),ig=[{type:15,flags:0,unit:"px",number:3}],rg=[{type:16,flags:0,number:50}],sg=function(j){return j.width>j.height?new Pe(j.left+(j.width-j.height)/2,j.top,j.height,j.height):j.width<j.height?new Pe(j.left,j.top+(j.height-j.width)/2,j.width,j.width):j},ag=function(j){var R=j.type===og?new Array(j.value.length+1).join("•"):j.value;return R.length===0?j.placeholder||"":R},Ko="checkbox",Wo="radio",og="password",Qu=707406591,Gc=function(j){s(R,j);function R(ee,J){var Me=j.call(this,ee,J)||this;switch(Me.type=J.type.toLowerCase(),Me.checked=J.checked,Me.value=ag(J),(Me.type===Ko||Me.type===Wo)&&(Me.styles.backgroundColor=3739148031,Me.styles.borderTopColor=Me.styles.borderRightColor=Me.styles.borderBottomColor=Me.styles.borderLeftColor=2779096575,Me.styles.borderTopWidth=Me.styles.borderRightWidth=Me.styles.borderBottomWidth=Me.styles.borderLeftWidth=1,Me.styles.borderTopStyle=Me.styles.borderRightStyle=Me.styles.borderBottomStyle=Me.styles.borderLeftStyle=1,Me.styles.backgroundClip=[0],Me.styles.backgroundOrigin=[0],Me.bounds=sg(Me.bounds)),Me.type){case Ko:Me.styles.borderTopRightRadius=Me.styles.borderTopLeftRadius=Me.styles.borderBottomRightRadius=Me.styles.borderBottomLeftRadius=ig;break;case Wo:Me.styles.borderTopRightRadius=Me.styles.borderTopLeftRadius=Me.styles.borderBottomRightRadius=Me.styles.borderBottomLeftRadius=rg;break}return Me}return R}(xs),Nu=function(j){s(R,j);function R(ee,J){var Me=j.call(this,ee,J)||this,He=J.options[J.selectedIndex||0];return Me.value=He&&He.text||"",Me}return R}(xs),Hu=function(j){s(R,j);function R(ee,J){var Me=j.call(this,ee,J)||this;return Me.value=J.value,Me}return R}(xs),$u=function(j){s(R,j);function R(ee,J){var Me=j.call(this,ee,J)||this;Me.src=J.src,Me.width=parseInt(J.width,10)||0,Me.height=parseInt(J.height,10)||0,Me.backgroundColor=Me.styles.backgroundColor;try{if(J.contentWindow&&J.contentWindow.document&&J.contentWindow.document.documentElement){Me.tree=Gu(ee,J.contentWindow.document.documentElement);var He=J.contentWindow.document.documentElement?lo(ee,getComputedStyle(J.contentWindow.document.documentElement).backgroundColor):vs.TRANSPARENT,tt=J.contentWindow.document.body?lo(ee,getComputedStyle(J.contentWindow.document.body).backgroundColor):vs.TRANSPARENT;Me.backgroundColor=Us(He)?Us(tt)?Me.styles.backgroundColor:tt:He}}catch{}return Me}return R}(xs),Ag=["OL","UL","MENU"],Yo=function(j,R,ee,J){for(var Me=R.firstChild,He=void 0;Me;Me=He)if(He=Me.nextSibling,Xu(Me)&&Me.data.trim().length>0)ee.textNodes.push(new Z1(j,Me,ee.styles));else if(oa(Me))if(Yu(Me)&&Me.assignedNodes)Me.assignedNodes().forEach(function(ut){return Yo(j,ut,ee,J)});else{var tt=ju(j,Me);tt.styles.isVisible()&&(cg(Me,tt,J)?tt.flags|=4:lg(tt.styles)&&(tt.flags|=2),Ag.indexOf(Me.tagName)!==-1&&(tt.flags|=8),ee.elements.push(tt),Me.slot,Me.shadowRoot?Yo(j,Me.shadowRoot,tt,J):!tA(Me)&&!Ku(Me)&&!nA(Me)&&Yo(j,Me,tt,J))}},ju=function(j,R){return Wc(R)?new Uu(j,R):Vu(R)?new Du(j,R):Ku(R)?new Lu(j,R):ug(R)?new Ru(j,R):hg(R)?new jc(j,R):dg(R)?new Gc(j,R):nA(R)?new Nu(j,R):tA(R)?new Hu(j,R):zu(R)?new $u(j,R):new xs(j,R)},Gu=function(j,R){var ee=ju(j,R);return ee.flags|=4,Yo(j,R,ee,ee),ee},cg=function(j,R,ee){return R.styles.isPositionedWithZIndex()||R.styles.opacity<1||R.styles.isTransformed()||Vc(j)&&ee.styles.isTransparent()},lg=function(j){return j.isPositioned()||j.isFloating()},Xu=function(j){return j.nodeType===Node.TEXT_NODE},oa=function(j){return j.nodeType===Node.ELEMENT_NODE},Xc=function(j){return oa(j)&&typeof j.style<"u"&&!eA(j)},eA=function(j){return typeof j.className=="object"},ug=function(j){return j.tagName==="LI"},hg=function(j){return j.tagName==="OL"},dg=function(j){return j.tagName==="INPUT"},fg=function(j){return j.tagName==="HTML"},Ku=function(j){return j.tagName==="svg"},Vc=function(j){return j.tagName==="BODY"},Vu=function(j){return j.tagName==="CANVAS"},Wu=function(j){return j.tagName==="VIDEO"},Wc=function(j){return j.tagName==="IMG"},zu=function(j){return j.tagName==="IFRAME"},qu=function(j){return j.tagName==="STYLE"},gg=function(j){return j.tagName==="SCRIPT"},tA=function(j){return j.tagName==="TEXTAREA"},nA=function(j){return j.tagName==="SELECT"},Yu=function(j){return j.tagName==="SLOT"},Ju=function(j){return j.tagName.indexOf("-")>0},pg=function(){function j(){this.counters={}}return j.prototype.getCounterValue=function(R){var ee=this.counters[R];return ee&&ee.length?ee[ee.length-1]:1},j.prototype.getCounterValues=function(R){var ee=this.counters[R];return ee||[]},j.prototype.pop=function(R){var ee=this;R.forEach(function(J){return ee.counters[J].pop()})},j.prototype.parse=function(R){var ee=this,J=R.counterIncrement,Me=R.counterReset,He=!0;J!==null&&J.forEach(function(ut){var ht=ee.counters[ut.counter];ht&&ut.increment!==0&&(He=!1,ht.length||ht.push(1),ht[Math.max(0,ht.length-1)]+=ut.increment)});var tt=[];return He&&Me.forEach(function(ut){var ht=ee.counters[ut.counter];tt.push(ut.counter),ht||(ht=ee.counters[ut.counter]=[]),ht.push(ut.reset)}),tt},j}(),Zu={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},eh={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},mg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},xg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Aa=function(j,R,ee,J,Me,He){return j<R||j>ee?po(j,Me,He.length>0):J.integers.reduce(function(tt,ut,ht){for(;j>=ut;)j-=ut,tt+=J.values[ht];return tt},"")+He},th=function(j,R,ee,J){var Me="";do ee||j--,Me=J(j)+Me,j/=R;while(j*R>=R);return Me},jr=function(j,R,ee,J,Me){var He=ee-R+1;return(j<0?"-":"")+(th(Math.abs(j),He,J,function(tt){return x(Math.floor(tt%He)+R)})+Me)},Vs=function(j,R,ee){ee===void 0&&(ee=". ");var J=R.length;return th(Math.abs(j),J,!1,function(Me){return R[Math.floor(Me%J)]})+ee},ca=1,Ls=2,Rs=4,go=8,Ss=function(j,R,ee,J,Me,He){if(j<-9999||j>9999)return po(j,4,Me.length>0);var tt=Math.abs(j),ut=Me;if(tt===0)return R[0]+ut;for(var ht=0;tt>0&&ht<=4;ht++){var wt=tt%10;wt===0&&Vr(He,ca)&&ut!==""?ut=R[wt]+ut:wt>1||wt===1&&ht===0||wt===1&&ht===1&&Vr(He,Ls)||wt===1&&ht===1&&Vr(He,Rs)&&j>100||wt===1&&ht>1&&Vr(He,go)?ut=R[wt]+(ht>0?ee[ht-1]:"")+ut:wt===1&&ht>0&&(ut=ee[ht-1]+ut),tt=Math.floor(tt/10)}return(j<0?J:"")+ut},nh="十百千萬",ih="拾佰仟萬",rh="マイナス",zc="마이너스",po=function(j,R,ee){var J=ee?". ":"",Me=ee?"、":"",He=ee?", ":"",tt=ee?" ":"";switch(R){case 0:return"•"+tt;case 1:return"◦"+tt;case 2:return"◾"+tt;case 5:var ut=jr(j,48,57,!0,J);return ut.length<4?"0"+ut:ut;case 4:return Vs(j,"〇一二三四五六七八九",Me);case 6:return Aa(j,1,3999,Zu,3,J).toLowerCase();case 7:return Aa(j,1,3999,Zu,3,J);case 8:return jr(j,945,969,!1,J);case 9:return jr(j,97,122,!1,J);case 10:return jr(j,65,90,!1,J);case 11:return jr(j,1632,1641,!0,J);case 12:case 49:return Aa(j,1,9999,eh,3,J);case 35:return Aa(j,1,9999,eh,3,J).toLowerCase();case 13:return jr(j,2534,2543,!0,J);case 14:case 30:return jr(j,6112,6121,!0,J);case 15:return Vs(j,"子丑寅卯辰巳午未申酉戌亥",Me);case 16:return Vs(j,"甲乙丙丁戊己庚辛壬癸",Me);case 17:case 48:return Ss(j,"零一二三四五六七八九",nh,"負",Me,Ls|Rs|go);case 47:return Ss(j,"零壹貳參肆伍陸柒捌玖",ih,"負",Me,ca|Ls|Rs|go);case 42:return Ss(j,"零一二三四五六七八九",nh,"负",Me,Ls|Rs|go);case 41:return Ss(j,"零壹贰叁肆伍陆柒捌玖",ih,"负",Me,ca|Ls|Rs|go);case 26:return Ss(j,"〇一二三四五六七八九","十百千万",rh,Me,0);case 25:return Ss(j,"零壱弐参四伍六七八九","拾百千万",rh,Me,ca|Ls|Rs);case 31:return Ss(j,"영일이삼사오육칠팔구","십백천만",zc,He,ca|Ls|Rs);case 33:return Ss(j,"零一二三四五六七八九","十百千萬",zc,He,0);case 32:return Ss(j,"零壹貳參四五六七八九","拾百千",zc,He,ca|Ls|Rs);case 18:return jr(j,2406,2415,!0,J);case 20:return Aa(j,1,19999,xg,3,J);case 21:return jr(j,2790,2799,!0,J);case 22:return jr(j,2662,2671,!0,J);case 22:return Aa(j,1,10999,mg,3,J);case 23:return Vs(j,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Vs(j,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return jr(j,3302,3311,!0,J);case 28:return Vs(j,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",Me);case 29:return Vs(j,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",Me);case 34:return jr(j,3792,3801,!0,J);case 37:return jr(j,6160,6169,!0,J);case 38:return jr(j,4160,4169,!0,J);case 39:return jr(j,2918,2927,!0,J);case 40:return jr(j,1776,1785,!0,J);case 43:return jr(j,3046,3055,!0,J);case 44:return jr(j,3174,3183,!0,J);case 45:return jr(j,3664,3673,!0,J);case 46:return jr(j,3872,3881,!0,J);case 3:default:return jr(j,48,57,!0,J)}},sh="data-htmlVisualizer-ignore",ah=function(){function j(R,ee,J){if(this.context=R,this.options=J,this.scrolledElements=[],this.referenceElement=ee,this.counters=new pg,this.quoteDepth=0,!ee.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(ee.ownerDocument.documentElement,!1)}return j.prototype.toIFrame=function(R,ee){var J=this,Me=bg(R,ee);if(!Me.contentWindow)return Promise.reject("Unable to find iframe window");var He=R.defaultView.pageXOffset,tt=R.defaultView.pageYOffset,ut=Me.contentWindow,ht=ut.document,wt=Bg(Me).then(function(){return V(J,void 0,void 0,function(){var Tt,Rt;return Ae(this,function(Jt){switch(Jt.label){case 0:return this.scrolledElements.forEach(Fg),ut&&(ut.scrollTo(ee.left,ee.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ut.scrollY!==ee.top||ut.scrollX!==ee.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ut.scrollX-ee.left,ut.scrollY-ee.top,0,0))),Tt=this.options.onclone,Rt=this.clonedReferenceElement,typeof Rt>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ht.fonts&&ht.fonts.ready?[4,ht.fonts.ready]:[3,2];case 1:Jt.sent(),Jt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,yg(ht)]:[3,4];case 3:Jt.sent(),Jt.label=4;case 4:return typeof Tt=="function"?[2,Promise.resolve().then(function(){return Tt(ht,Rt)}).then(function(){return Me})]:[2,Me]}})})});return ht.open(),ht.write(vg(document.doctype)+"<html></html>"),Sg(this.referenceElement.ownerDocument,He,tt),ht.replaceChild(ht.adoptNode(this.documentElement),ht.documentElement),ht.close(),wt},j.prototype.createElementClone=function(R){if(jA(R,2))debugger;if(Vu(R))return this.createCanvasClone(R);if(Wu(R))return this.createVideoClone(R);if(qu(R))return this.createStyleClone(R);var ee=R.cloneNode(!1);return Wc(ee)&&(ee.onerror=function(){},Wc(R)&&R.currentSrc&&R.currentSrc!==R.src&&(ee.src=R.currentSrc,ee.srcset=""),ee.loading==="lazy"&&(ee.loading="eager")),Ju(ee)?this.createCustomElementClone(ee):ee},j.prototype.createCustomElementClone=function(R){var ee=document.createElement("htmlVisualizercustomelement");return qc(R.style,ee),ee},j.prototype.createStyleClone=function(R){try{var ee=R.sheet;if(ee&&ee.cssRules){var J=[].slice.call(ee.cssRules,0).reduce(function(He,tt){return tt&&typeof tt.cssText=="string"?He+tt.cssText:He},""),Me=R.cloneNode(!1);return Me.textContent=J,Me}}catch(He){if(this.context.logger.error("Unable to access cssRules property",He),He.name!=="SecurityError")throw He}return R.cloneNode(!1)},j.prototype.createCanvasClone=function(R){var ee;if(this.options.inlineImages&&R.ownerDocument){var J=R.ownerDocument.createElement("img");try{return J.src=R.toDataURL(),J}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",R)}}var Me=R.cloneNode(!1);try{Me.width=R.width,Me.height=R.height;var He=R.getContext("2d"),tt=Me.getContext("2d");if(tt)if(!this.options.allowTaint&&He)tt.putImageData(He.getImageData(0,0,R.width,R.height),0,0);else{var ut=(ee=R.getContext("webgl2"))!==null&&ee!==void 0?ee:R.getContext("webgl");if(ut){var ht=ut.getContextAttributes();(ht==null?void 0:ht.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",R)}tt.drawImage(R,0,0)}return Me}catch{this.context.logger.info("Unable to clone canvas as it is tainted",R)}return Me},j.prototype.createVideoClone=function(R){var ee=R.ownerDocument.createElement("canvas");ee.width=R.offsetWidth,ee.height=R.offsetHeight;var J=ee.getContext("2d");try{return J&&(J.drawImage(R,0,0,ee.width,ee.height),this.options.allowTaint||J.getImageData(0,0,ee.width,ee.height)),ee}catch{this.context.logger.info("Unable to clone video as it is tainted",R)}var Me=R.ownerDocument.createElement("canvas");return Me.width=R.offsetWidth,Me.height=R.offsetHeight,Me},j.prototype.appendChildNode=function(R,ee,J){(!oa(ee)||!gg(ee)&&!ee.hasAttribute(sh)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(ee)))&&(!this.options.copyStyles||!oa(ee)||!qu(ee))&&R.appendChild(this.cloneNode(ee,J))},j.prototype.cloneChildNodes=function(R,ee,J){for(var Me=this,He=R.shadowRoot?R.shadowRoot.firstChild:R.firstChild;He;He=He.nextSibling)if(oa(He)&&Yu(He)&&typeof He.assignedNodes=="function"){var tt=He.assignedNodes();tt.length&&tt.forEach(function(ut){return Me.appendChildNode(ee,ut,J)})}else this.appendChildNode(ee,He,J)},j.prototype.cloneNode=function(R,ee){if(Xu(R))return document.createTextNode(R.data);if(!R.ownerDocument)return R.cloneNode(!1);var J=R.ownerDocument.defaultView;if(J&&oa(R)&&(Xc(R)||eA(R))){var Me=this.createElementClone(R);Me.style.transitionProperty="none";var He=J.getComputedStyle(R),tt=J.getComputedStyle(R,":before"),ut=J.getComputedStyle(R,":after");this.referenceElement===R&&Xc(Me)&&(this.clonedReferenceElement=Me),Vc(Me)&&Ig(Me);var ht=this.counters.parse(new bu(this.context,He)),wt=this.resolvePseudoContent(R,Me,tt,mo.BEFORE);Ju(R)&&(ee=!0),Wu(R)||this.cloneChildNodes(R,Me,ee),wt&&Me.insertBefore(wt,Me.firstChild);var Tt=this.resolvePseudoContent(R,Me,ut,mo.AFTER);return Tt&&Me.appendChild(Tt),this.counters.pop(ht),(He&&(this.options.copyStyles||eA(R))&&!zu(R)||ee)&&qc(He,Me),(R.scrollTop!==0||R.scrollLeft!==0)&&this.scrolledElements.push([Me,R.scrollLeft,R.scrollTop]),(tA(R)||nA(R))&&(tA(Me)||nA(Me))&&(Me.value=R.value),Me}return R.cloneNode(!1)},j.prototype.resolvePseudoContent=function(R,ee,J,Me){var He=this;if(J){var tt=J.content,ut=ee.ownerDocument;if(!(!ut||!tt||tt==="none"||tt==="-moz-alt-content"||J.display==="none")){this.counters.parse(new bu(this.context,J));var ht=new u1(this.context,J),wt=ut.createElement("htmlVisualizerpseudoelement");qc(J,wt),ht.content.forEach(function(Rt){if(Rt.type===0)wt.appendChild(ut.createTextNode(Rt.value));else if(Rt.type===22){var Jt=ut.createElement("img");Jt.src=Rt.value,Jt.style.opacity="1",wt.appendChild(Jt)}else if(Rt.type===18){if(Rt.name==="attr"){var Xi=Rt.values.filter(Mr);Xi.length&&wt.appendChild(ut.createTextNode(R.getAttribute(Xi[0].value)||""))}else if(Rt.name==="counter"){var si=Rt.values.filter(sa),Mi=si[0],Br=si[1];if(Mi&&Mr(Mi)){var Zi=He.counters.getCounterValue(Mi.value),qi=Br&&Mr(Br)?HA.parse(He.context,Br.value):3;wt.appendChild(ut.createTextNode(po(Zi,qi,!1)))}}else if(Rt.name==="counters"){var kr=Rt.values.filter(sa),Mi=kr[0],Cr=kr[1],Br=kr[2];if(Mi&&Mr(Mi)){var xr=He.counters.getCounterValues(Mi.value),ji=Br&&Mr(Br)?HA.parse(He.context,Br.value):3,Fr=Cr&&Cr.type===0?Cr.value:"",Er=xr.map(function(is){return po(is,ji,!1)}).join(Fr);wt.appendChild(ut.createTextNode(Er))}}}else if(Rt.type===20)switch(Rt.value){case"open-quote":wt.appendChild(ut.createTextNode(xu(ht.quotes,He.quoteDepth++,!0)));break;case"close-quote":wt.appendChild(ut.createTextNode(xu(ht.quotes,--He.quoteDepth,!1)));break;default:wt.appendChild(ut.createTextNode(Rt.value))}}),wt.className=Yc+" "+Jc;var Tt=Me===mo.BEFORE?" "+Yc:" "+Jc;return eA(ee)?ee.className.baseValue+=Tt:ee.className+=Tt,wt}}},j.destroy=function(R){return R.parentNode?(R.parentNode.removeChild(R),!0):!1},j}(),mo;(function(j){j[j.BEFORE=0]="BEFORE",j[j.AFTER=1]="AFTER"})(mo||(mo={}));var bg=function(j,R){var ee=j.createElement("iframe");return ee.className="htmlVisualizer-container",ee.style.visibility="hidden",ee.style.position="fixed",ee.style.left="-10000px",ee.style.top="0px",ee.style.border="0",ee.width=R.width.toString(),ee.height=R.height.toString(),ee.scrolling="no",ee.setAttribute(sh,"true"),j.body.appendChild(ee),ee},wg=function(j){return new Promise(function(R){if(j.complete){R();return}if(!j.src){R();return}j.onload=R,j.onerror=R})},yg=function(j){return Promise.all([].slice.call(j.images,0).map(wg))},Bg=function(j){return new Promise(function(R,ee){var J=j.contentWindow;if(!J)return ee("No window assigned for iframe");var Me=J.document;J.onload=j.onload=function(){J.onload=j.onload=null;var He=setInterval(function(){Me.body.childNodes.length>0&&Me.readyState==="complete"&&(clearInterval(He),R(j))},50)}})},Cg=["all","d","content"],qc=function(j,R){for(var ee=j.length-1;ee>=0;ee--){var J=j.item(ee);Cg.indexOf(J)===-1&&R.style.setProperty(J,j.getPropertyValue(J))}return R},vg=function(j){var R="";return j&&(R+="<!DOCTYPE ",j.name&&(R+=j.name),j.internalSubset&&(R+=j.internalSubset),j.publicId&&(R+='"'+j.publicId+'"'),j.systemId&&(R+='"'+j.systemId+'"'),R+=">"),R},Sg=function(j,R,ee){j&&j.defaultView&&(R!==j.defaultView.pageXOffset||ee!==j.defaultView.pageYOffset)&&j.defaultView.scrollTo(R,ee)},Fg=function(j){var R=j[0],ee=j[1],J=j[2];R.scrollLeft=ee,R.scrollTop=J},Eg=":before",kg=":after",Yc="___htmlVisualizer___pseudoelement_before",Jc="___htmlVisualizer___pseudoelement_after",oh=`{
    content: "" !important;
    display: none !important;
}`,Ig=function(j){Tg(j,"."+Yc+Eg+oh+`
         .`+Jc+kg+oh)},Tg=function(j,R){var ee=j.ownerDocument;if(ee){var J=ee.createElement("style");J.textContent=R,j.appendChild(J)}},Ah=function(){function j(){}return j.getOrigin=function(R){var ee=j._link;return ee?(ee.href=R,ee.href=ee.href,ee.protocol+ee.hostname+ee.port):"about:blank"},j.isSameOrigin=function(R){return j.getOrigin(R)===j._origin},j.setContext=function(R){j._link=R.document.createElement("a"),j._origin=j.getOrigin(R.location.href)},j._origin="about:blank",j}(),_g=function(){function j(R,ee){this.context=R,this._options=ee,this._cache={}}return j.prototype.addImage=function(R){var ee=Promise.resolve();return this.has(R)||(Ml(R)||Ug(R))&&(this._cache[R]=this.loadImage(R)).catch(function(){}),ee},j.prototype.match=function(R){return this._cache[R]},j.prototype.loadImage=function(R){return V(this,void 0,void 0,function(){var ee,J,Me,He,tt=this;return Ae(this,function(ut){switch(ut.label){case 0:return ee=Ah.isSameOrigin(R),J=!Zc(R)&&this._options.useCORS===!0&&Jr.SUPPORT_CORS_IMAGES&&!ee,Me=!Zc(R)&&!ee&&!Ml(R)&&typeof this._options.proxy=="string"&&Jr.SUPPORT_CORS_XHR&&!J,!ee&&this._options.allowTaint===!1&&!Zc(R)&&!Ml(R)&&!Me&&!J?[2]:(He=R,Me?[4,this.proxy(He)]:[3,2]);case 1:He=ut.sent(),ut.label=2;case 2:return this.context.logger.debug("Added image "+R.substring(0,256)),[4,new Promise(function(ht,wt){var Tt=new Image;Tt.onload=function(){return ht(Tt)},Tt.onerror=wt,(Dg(He)||J)&&(Tt.crossOrigin="Anonymous"),Tt.src=He,Tt.complete===!0&&setTimeout(function(){return ht(Tt)},500),tt._options.imageTimeout>0&&setTimeout(function(){return wt("Timed out ("+tt._options.imageTimeout+"ms) loading image")},tt._options.imageTimeout)})];case 3:return[2,ut.sent()]}})})},j.prototype.has=function(R){return typeof this._cache[R]<"u"},j.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},j.prototype.proxy=function(R){var ee=this,J=this._options.proxy;if(!J)throw new Error("No proxy defined");var Me=R.substring(0,256);return new Promise(function(He,tt){var ut=Jr.SUPPORT_RESPONSE_TYPE?"blob":"text",ht=new XMLHttpRequest;ht.onload=function(){if(ht.status===200)if(ut==="text")He(ht.response);else{var Rt=new FileReader;Rt.addEventListener("load",function(){return He(Rt.result)},!1),Rt.addEventListener("error",function(Jt){return tt(Jt)},!1),Rt.readAsDataURL(ht.response)}else tt("Failed to proxy resource "+Me+" with status code "+ht.status)},ht.onerror=tt;var wt=J.indexOf("?")>-1?"&":"?";if(ht.open("GET",""+J+wt+"url="+encodeURIComponent(R)+"&responseType="+ut),ut!=="text"&&ht instanceof XMLHttpRequest&&(ht.responseType=ut),ee._options.imageTimeout){var Tt=ee._options.imageTimeout;ht.timeout=Tt,ht.ontimeout=function(){return tt("Timed out ("+Tt+"ms) proxying "+Me)}}ht.send()})},j}(),Pg=/^data:image\/svg\+xml/i,Og=/^data:image\/.*;base64,/i,Mg=/^data:image\/.*/i,Ug=function(j){return Jr.SUPPORT_SVG_DRAWING||!Lg(j)},Zc=function(j){return Mg.test(j)},Dg=function(j){return Og.test(j)},Ml=function(j){return j.substr(0,4)==="blob"},Lg=function(j){return j.substr(-3).toLowerCase()==="svg"||Pg.test(j)},Ni=function(){function j(R,ee){this.type=0,this.x=R,this.y=ee}return j.prototype.add=function(R,ee){return new j(this.x+R,this.y+ee)},j}(),la=function(j,R,ee){return new Ni(j.x+(R.x-j.x)*ee,j.y+(R.y-j.y)*ee)},iA=function(){function j(R,ee,J,Me){this.type=1,this.start=R,this.startControl=ee,this.endControl=J,this.end=Me}return j.prototype.subdivide=function(R,ee){var J=la(this.start,this.startControl,R),Me=la(this.startControl,this.endControl,R),He=la(this.endControl,this.end,R),tt=la(J,Me,R),ut=la(Me,He,R),ht=la(tt,ut,R);return ee?new j(this.start,J,tt,ht):new j(ht,ut,He,this.end)},j.prototype.add=function(R,ee){return new j(this.start.add(R,ee),this.startControl.add(R,ee),this.endControl.add(R,ee),this.end.add(R,ee))},j.prototype.reverse=function(){return new j(this.end,this.endControl,this.startControl,this.start)},j}(),ls=function(j){return j.type===1},Rg=function(){function j(R){var ee=R.styles,J=R.bounds,Me=co(ee.borderTopLeftRadius,J.width,J.height),He=Me[0],tt=Me[1],ut=co(ee.borderTopRightRadius,J.width,J.height),ht=ut[0],wt=ut[1],Tt=co(ee.borderBottomRightRadius,J.width,J.height),Rt=Tt[0],Jt=Tt[1],Xi=co(ee.borderBottomLeftRadius,J.width,J.height),si=Xi[0],Mi=Xi[1],Br=[];Br.push((He+ht)/J.width),Br.push((si+Rt)/J.width),Br.push((tt+Mi)/J.height),Br.push((wt+Jt)/J.height);var Zi=Math.max.apply(Math,Br);Zi>1&&(He/=Zi,tt/=Zi,ht/=Zi,wt/=Zi,Rt/=Zi,Jt/=Zi,si/=Zi,Mi/=Zi);var qi=J.width-ht,kr=J.height-Jt,Cr=J.width-Rt,xr=J.height-Mi,ji=ee.borderTopWidth,Fr=ee.borderRightWidth,Er=ee.borderBottomWidth,yr=ee.borderLeftWidth,Xr=Lr(ee.paddingTop,R.bounds.width),is=Lr(ee.paddingRight,R.bounds.width),os=Lr(ee.paddingBottom,R.bounds.width),Ur=Lr(ee.paddingLeft,R.bounds.width);this.topLeftBorderDoubleOuterBox=He>0||tt>0?Qr(J.left+yr/3,J.top+ji/3,He-yr/3,tt-ji/3,Tr.TOP_LEFT):new Ni(J.left+yr/3,J.top+ji/3),this.topRightBorderDoubleOuterBox=He>0||tt>0?Qr(J.left+qi,J.top+ji/3,ht-Fr/3,wt-ji/3,Tr.TOP_RIGHT):new Ni(J.left+J.width-Fr/3,J.top+ji/3),this.bottomRightBorderDoubleOuterBox=Rt>0||Jt>0?Qr(J.left+Cr,J.top+kr,Rt-Fr/3,Jt-Er/3,Tr.BOTTOM_RIGHT):new Ni(J.left+J.width-Fr/3,J.top+J.height-Er/3),this.bottomLeftBorderDoubleOuterBox=si>0||Mi>0?Qr(J.left+yr/3,J.top+xr,si-yr/3,Mi-Er/3,Tr.BOTTOM_LEFT):new Ni(J.left+yr/3,J.top+J.height-Er/3),this.topLeftBorderDoubleInnerBox=He>0||tt>0?Qr(J.left+yr*2/3,J.top+ji*2/3,He-yr*2/3,tt-ji*2/3,Tr.TOP_LEFT):new Ni(J.left+yr*2/3,J.top+ji*2/3),this.topRightBorderDoubleInnerBox=He>0||tt>0?Qr(J.left+qi,J.top+ji*2/3,ht-Fr*2/3,wt-ji*2/3,Tr.TOP_RIGHT):new Ni(J.left+J.width-Fr*2/3,J.top+ji*2/3),this.bottomRightBorderDoubleInnerBox=Rt>0||Jt>0?Qr(J.left+Cr,J.top+kr,Rt-Fr*2/3,Jt-Er*2/3,Tr.BOTTOM_RIGHT):new Ni(J.left+J.width-Fr*2/3,J.top+J.height-Er*2/3),this.bottomLeftBorderDoubleInnerBox=si>0||Mi>0?Qr(J.left+yr*2/3,J.top+xr,si-yr*2/3,Mi-Er*2/3,Tr.BOTTOM_LEFT):new Ni(J.left+yr*2/3,J.top+J.height-Er*2/3),this.topLeftBorderStroke=He>0||tt>0?Qr(J.left+yr/2,J.top+ji/2,He-yr/2,tt-ji/2,Tr.TOP_LEFT):new Ni(J.left+yr/2,J.top+ji/2),this.topRightBorderStroke=He>0||tt>0?Qr(J.left+qi,J.top+ji/2,ht-Fr/2,wt-ji/2,Tr.TOP_RIGHT):new Ni(J.left+J.width-Fr/2,J.top+ji/2),this.bottomRightBorderStroke=Rt>0||Jt>0?Qr(J.left+Cr,J.top+kr,Rt-Fr/2,Jt-Er/2,Tr.BOTTOM_RIGHT):new Ni(J.left+J.width-Fr/2,J.top+J.height-Er/2),this.bottomLeftBorderStroke=si>0||Mi>0?Qr(J.left+yr/2,J.top+xr,si-yr/2,Mi-Er/2,Tr.BOTTOM_LEFT):new Ni(J.left+yr/2,J.top+J.height-Er/2),this.topLeftBorderBox=He>0||tt>0?Qr(J.left,J.top,He,tt,Tr.TOP_LEFT):new Ni(J.left,J.top),this.topRightBorderBox=ht>0||wt>0?Qr(J.left+qi,J.top,ht,wt,Tr.TOP_RIGHT):new Ni(J.left+J.width,J.top),this.bottomRightBorderBox=Rt>0||Jt>0?Qr(J.left+Cr,J.top+kr,Rt,Jt,Tr.BOTTOM_RIGHT):new Ni(J.left+J.width,J.top+J.height),this.bottomLeftBorderBox=si>0||Mi>0?Qr(J.left,J.top+xr,si,Mi,Tr.BOTTOM_LEFT):new Ni(J.left,J.top+J.height),this.topLeftPaddingBox=He>0||tt>0?Qr(J.left+yr,J.top+ji,Math.max(0,He-yr),Math.max(0,tt-ji),Tr.TOP_LEFT):new Ni(J.left+yr,J.top+ji),this.topRightPaddingBox=ht>0||wt>0?Qr(J.left+Math.min(qi,J.width-Fr),J.top+ji,qi>J.width+Fr?0:Math.max(0,ht-Fr),Math.max(0,wt-ji),Tr.TOP_RIGHT):new Ni(J.left+J.width-Fr,J.top+ji),this.bottomRightPaddingBox=Rt>0||Jt>0?Qr(J.left+Math.min(Cr,J.width-yr),J.top+Math.min(kr,J.height-Er),Math.max(0,Rt-Fr),Math.max(0,Jt-Er),Tr.BOTTOM_RIGHT):new Ni(J.left+J.width-Fr,J.top+J.height-Er),this.bottomLeftPaddingBox=si>0||Mi>0?Qr(J.left+yr,J.top+Math.min(xr,J.height-Er),Math.max(0,si-yr),Math.max(0,Mi-Er),Tr.BOTTOM_LEFT):new Ni(J.left+yr,J.top+J.height-Er),this.topLeftContentBox=He>0||tt>0?Qr(J.left+yr+Ur,J.top+ji+Xr,Math.max(0,He-(yr+Ur)),Math.max(0,tt-(ji+Xr)),Tr.TOP_LEFT):new Ni(J.left+yr+Ur,J.top+ji+Xr),this.topRightContentBox=ht>0||wt>0?Qr(J.left+Math.min(qi,J.width+yr+Ur),J.top+ji+Xr,qi>J.width+yr+Ur?0:ht-yr+Ur,wt-(ji+Xr),Tr.TOP_RIGHT):new Ni(J.left+J.width-(Fr+is),J.top+ji+Xr),this.bottomRightContentBox=Rt>0||Jt>0?Qr(J.left+Math.min(Cr,J.width-(yr+Ur)),J.top+Math.min(kr,J.height+ji+Xr),Math.max(0,Rt-(Fr+is)),Jt-(Er+os),Tr.BOTTOM_RIGHT):new Ni(J.left+J.width-(Fr+is),J.top+J.height-(Er+os)),this.bottomLeftContentBox=si>0||Mi>0?Qr(J.left+yr+Ur,J.top+xr,Math.max(0,si-(yr+Ur)),Mi-(Er+os),Tr.BOTTOM_LEFT):new Ni(J.left+yr+Ur,J.top+J.height-(Er+os))}return j}(),Tr;(function(j){j[j.TOP_LEFT=0]="TOP_LEFT",j[j.TOP_RIGHT=1]="TOP_RIGHT",j[j.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",j[j.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Tr||(Tr={}));var Qr=function(j,R,ee,J,Me){var He=4*((Math.sqrt(2)-1)/3),tt=ee*He,ut=J*He,ht=j+ee,wt=R+J;switch(Me){case Tr.TOP_LEFT:return new iA(new Ni(j,wt),new Ni(j,wt-ut),new Ni(ht-tt,R),new Ni(ht,R));case Tr.TOP_RIGHT:return new iA(new Ni(j,R),new Ni(j+tt,R),new Ni(ht,wt-ut),new Ni(ht,wt));case Tr.BOTTOM_RIGHT:return new iA(new Ni(ht,R),new Ni(ht,R+ut),new Ni(j+tt,wt),new Ni(j,wt));case Tr.BOTTOM_LEFT:default:return new iA(new Ni(ht,wt),new Ni(ht-tt,wt),new Ni(j,R+ut),new Ni(j,R))}},sA=function(j){return[j.topLeftBorderBox,j.topRightBorderBox,j.bottomRightBorderBox,j.bottomLeftBorderBox]},Qg=function(j){return[j.topLeftContentBox,j.topRightContentBox,j.bottomRightContentBox,j.bottomLeftContentBox]},aA=function(j){return[j.topLeftPaddingBox,j.topRightPaddingBox,j.bottomRightPaddingBox,j.bottomLeftPaddingBox]},Ng=function(){function j(R,ee,J){this.offsetX=R,this.offsetY=ee,this.matrix=J,this.type=0,this.target=6}return j}(),oA=function(){function j(R,ee){this.path=R,this.target=ee,this.type=1}return j}(),Hg=function(){function j(R){this.opacity=R,this.type=2,this.target=6}return j}(),$g=function(j){return j.type===0},ch=function(j){return j.type===1},jg=function(j){return j.type===2},lh=function(j,R){return j.length===R.length?j.some(function(ee,J){return ee===R[J]}):!1},Gg=function(j,R,ee,J,Me){return j.map(function(He,tt){switch(tt){case 0:return He.add(R,ee);case 1:return He.add(R+J,ee);case 2:return He.add(R+J,ee+Me);case 3:return He.add(R,ee+Me)}return He})},uh=function(){function j(R){this.element=R,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return j}(),hh=function(){function j(R,ee){if(this.container=R,this.parent=ee,this.effects=[],this.curves=new Rg(this.container),this.container.styles.opacity<1&&this.effects.push(new Hg(this.container.styles.opacity)),this.container.styles.transform!==null){var J=this.container.bounds.left+this.container.styles.transformOrigin[0].number,Me=this.container.bounds.top+this.container.styles.transformOrigin[1].number,He=this.container.styles.transform;this.effects.push(new Ng(J,Me,He))}if(this.container.styles.overflowX!==0){var tt=sA(this.curves),ut=aA(this.curves);lh(tt,ut)?this.effects.push(new oA(tt,6)):(this.effects.push(new oA(tt,2)),this.effects.push(new oA(ut,4)))}}return j.prototype.getEffects=function(R){for(var ee=[2,3].indexOf(this.container.styles.position)===-1,J=this.parent,Me=this.effects.slice(0);J;){var He=J.effects.filter(function(ht){return!ch(ht)});if(ee||J.container.styles.position!==0||!J.parent){if(Me.unshift.apply(Me,He),ee=[2,3].indexOf(J.container.styles.position)===-1,J.container.styles.overflowX!==0){var tt=sA(J.curves),ut=aA(J.curves);lh(tt,ut)||Me.unshift(new oA(ut,6))}}else Me.unshift.apply(Me,He);J=J.parent}return Me.filter(function(ht){return Vr(ht.target,R)})},j}(),jl=function(j,R,ee,J){j.container.elements.forEach(function(Me){var He=Vr(Me.flags,4),tt=Vr(Me.flags,2),ut=new hh(Me,j);Vr(Me.styles.display,2048)&&J.push(ut);var ht=Vr(Me.flags,8)?[]:J;if(He||tt){var wt=He||Me.styles.isPositioned()?ee:R,Tt=new uh(ut);if(Me.styles.isPositioned()||Me.styles.opacity<1||Me.styles.isTransformed()){var Rt=Me.styles.zIndex.order;if(Rt<0){var Jt=0;wt.negativeZIndex.some(function(si,Mi){return Rt>si.element.container.styles.zIndex.order?(Jt=Mi,!1):Jt>0}),wt.negativeZIndex.splice(Jt,0,Tt)}else if(Rt>0){var Xi=0;wt.positiveZIndex.some(function(si,Mi){return Rt>=si.element.container.styles.zIndex.order?(Xi=Mi+1,!1):Xi>0}),wt.positiveZIndex.splice(Xi,0,Tt)}else wt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Tt)}else Me.styles.isFloating()?wt.nonPositionedFloats.push(Tt):wt.nonPositionedInlineLevel.push(Tt);jl(ut,Tt,He?Tt:ee,ht)}else Me.styles.isInlineLevel()?R.inlineLevel.push(ut):R.nonInlineLevel.push(ut),jl(ut,R,ee,ht);Vr(Me.flags,8)&&dh(Me,ht)})},dh=function(j,R){for(var ee=j instanceof jc?j.start:1,J=j instanceof jc?j.reversed:!1,Me=0;Me<R.length;Me++){var He=R[Me];He.container instanceof Ru&&typeof He.container.value=="number"&&He.container.value!==0&&(ee=He.container.value),He.listValue=po(ee,He.container.styles.listStyleType,!0),ee+=J?-1:1}},Xg=function(j){var R=new hh(j,null),ee=new uh(R),J=[];return jl(R,ee,ee,J),dh(R.container,J),ee},fh=function(j,R){switch(R){case 0:return us(j.topLeftBorderBox,j.topLeftPaddingBox,j.topRightBorderBox,j.topRightPaddingBox);case 1:return us(j.topRightBorderBox,j.topRightPaddingBox,j.bottomRightBorderBox,j.bottomRightPaddingBox);case 2:return us(j.bottomRightBorderBox,j.bottomRightPaddingBox,j.bottomLeftBorderBox,j.bottomLeftPaddingBox);case 3:default:return us(j.bottomLeftBorderBox,j.bottomLeftPaddingBox,j.topLeftBorderBox,j.topLeftPaddingBox)}},Kg=function(j,R){switch(R){case 0:return us(j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox,j.topRightBorderBox,j.topRightBorderDoubleOuterBox);case 1:return us(j.topRightBorderBox,j.topRightBorderDoubleOuterBox,j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox);case 2:return us(j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox,j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox);case 3:default:return us(j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox,j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox)}},Vg=function(j,R){switch(R){case 0:return us(j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox,j.topRightBorderDoubleInnerBox,j.topRightPaddingBox);case 1:return us(j.topRightBorderDoubleInnerBox,j.topRightPaddingBox,j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox);case 2:return us(j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox,j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox);case 3:default:return us(j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox,j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox)}},Wg=function(j,R){switch(R){case 0:return AA(j.topLeftBorderStroke,j.topRightBorderStroke);case 1:return AA(j.topRightBorderStroke,j.bottomRightBorderStroke);case 2:return AA(j.bottomRightBorderStroke,j.bottomLeftBorderStroke);case 3:default:return AA(j.bottomLeftBorderStroke,j.topLeftBorderStroke)}},AA=function(j,R){var ee=[];return ls(j)?ee.push(j.subdivide(.5,!1)):ee.push(j),ls(R)?ee.push(R.subdivide(.5,!0)):ee.push(R),ee},us=function(j,R,ee,J){var Me=[];return ls(j)?Me.push(j.subdivide(.5,!1)):Me.push(j),ls(ee)?Me.push(ee.subdivide(.5,!0)):Me.push(ee),ls(J)?Me.push(J.subdivide(.5,!0).reverse()):Me.push(J),ls(R)?Me.push(R.subdivide(.5,!1).reverse()):Me.push(R),Me},gh=function(j){var R=j.bounds,ee=j.styles;return R.add(ee.borderLeftWidth,ee.borderTopWidth,-(ee.borderRightWidth+ee.borderLeftWidth),-(ee.borderTopWidth+ee.borderBottomWidth))},cA=function(j){var R=j.styles,ee=j.bounds,J=Lr(R.paddingLeft,ee.width),Me=Lr(R.paddingRight,ee.width),He=Lr(R.paddingTop,ee.width),tt=Lr(R.paddingBottom,ee.width);return ee.add(J+R.borderLeftWidth,He+R.borderTopWidth,-(R.borderRightWidth+R.borderLeftWidth+J+Me),-(R.borderTopWidth+R.borderBottomWidth+He+tt))},zg=function(j,R){return j===0?R.bounds:j===2?cA(R):gh(R)},qg=function(j,R){return j===0?R.bounds:j===2?cA(R):gh(R)},e0=function(j,R,ee){var J=zg(ha(j.styles.backgroundOrigin,R),j),Me=qg(ha(j.styles.backgroundClip,R),j),He=Yg(ha(j.styles.backgroundSize,R),ee,J),tt=He[0],ut=He[1],ht=co(ha(j.styles.backgroundPosition,R),J.width-tt,J.height-ut),wt=Jg(ha(j.styles.backgroundRepeat,R),ht,He,J,Me),Tt=Math.round(J.left+ht[0]),Rt=Math.round(J.top+ht[1]);return[wt,Tt,Rt,tt,ut]},ua=function(j){return Mr(j)&&j.value===aa.AUTO},lA=function(j){return typeof j=="number"},Yg=function(j,R,ee){var J=R[0],Me=R[1],He=R[2],tt=j[0],ut=j[1];if(!tt)return[0,0];if(Gr(tt)&&ut&&Gr(ut))return[Lr(tt,ee.width),Lr(ut,ee.height)];var ht=lA(He);if(Mr(tt)&&(tt.value===aa.CONTAIN||tt.value===aa.COVER)){if(lA(He)){var wt=ee.width/ee.height;return wt<He!=(tt.value===aa.COVER)?[ee.width,ee.width/He]:[ee.height*He,ee.height]}return[ee.width,ee.height]}var Tt=lA(J),Rt=lA(Me),Jt=Tt||Rt;if(ua(tt)&&(!ut||ua(ut))){if(Tt&&Rt)return[J,Me];if(!ht&&!Jt)return[ee.width,ee.height];if(Jt&&ht){var Xi=Tt?J:Me*He,si=Rt?Me:J/He;return[Xi,si]}var Mi=Tt?J:ee.width,Br=Rt?Me:ee.height;return[Mi,Br]}if(ht){var Zi=0,qi=0;return Gr(tt)?Zi=Lr(tt,ee.width):Gr(ut)&&(qi=Lr(ut,ee.height)),ua(tt)?Zi=qi*He:(!ut||ua(ut))&&(qi=Zi/He),[Zi,qi]}var kr=null,Cr=null;if(Gr(tt)?kr=Lr(tt,ee.width):ut&&Gr(ut)&&(Cr=Lr(ut,ee.height)),kr!==null&&(!ut||ua(ut))&&(Cr=Tt&&Rt?kr/J*Me:ee.height),Cr!==null&&ua(tt)&&(kr=Tt&&Rt?Cr/Me*J:ee.width),kr!==null&&Cr!==null)return[kr,Cr];throw new Error("Unable to calculate background-size for element")},ha=function(j,R){var ee=j[R];return typeof ee>"u"?j[0]:ee},Jg=function(j,R,ee,J,Me){var He=R[0],tt=R[1],ut=ee[0],ht=ee[1];switch(j){case 2:return[new Ni(Math.round(J.left),Math.round(J.top+tt)),new Ni(Math.round(J.left+J.width),Math.round(J.top+tt)),new Ni(Math.round(J.left+J.width),Math.round(ht+J.top+tt)),new Ni(Math.round(J.left),Math.round(ht+J.top+tt))];case 3:return[new Ni(Math.round(J.left+He),Math.round(J.top)),new Ni(Math.round(J.left+He+ut),Math.round(J.top)),new Ni(Math.round(J.left+He+ut),Math.round(J.height+J.top)),new Ni(Math.round(J.left+He),Math.round(J.height+J.top))];case 1:return[new Ni(Math.round(J.left+He),Math.round(J.top+tt)),new Ni(Math.round(J.left+He+ut),Math.round(J.top+tt)),new Ni(Math.round(J.left+He+ut),Math.round(J.top+tt+ht)),new Ni(Math.round(J.left+He),Math.round(J.top+tt+ht))];default:return[new Ni(Math.round(Me.left),Math.round(Me.top)),new Ni(Math.round(Me.left+Me.width),Math.round(Me.top)),new Ni(Math.round(Me.left+Me.width),Math.round(Me.height+Me.top)),new Ni(Math.round(Me.left),Math.round(Me.height+Me.top))]}},Zg="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ph="Hidden Text",ep=function(){function j(R){this._data={},this._document=R}return j.prototype.parseMetrics=function(R,ee){var J=this._document.createElement("div"),Me=this._document.createElement("img"),He=this._document.createElement("span"),tt=this._document.body;J.style.visibility="hidden",J.style.fontFamily=R,J.style.fontSize=ee,J.style.margin="0",J.style.padding="0",J.style.whiteSpace="nowrap",tt.appendChild(J),Me.src=Zg,Me.width=1,Me.height=1,Me.style.margin="0",Me.style.padding="0",Me.style.verticalAlign="baseline",He.style.fontFamily=R,He.style.fontSize=ee,He.style.margin="0",He.style.padding="0",He.appendChild(this._document.createTextNode(ph)),J.appendChild(He),J.appendChild(Me);var ut=Me.offsetTop-He.offsetTop+2;J.removeChild(He),J.appendChild(this._document.createTextNode(ph)),J.style.lineHeight="normal",Me.style.verticalAlign="super";var ht=Me.offsetTop-J.offsetTop+2;return tt.removeChild(J),{baseline:ut,middle:ht}},j.prototype.getMetrics=function(R,ee){var J=R+" "+ee;return typeof this._data[J]>"u"&&(this._data[J]=this.parseMetrics(R,ee)),this._data[J]},j}(),mh=function(){function j(R,ee){this.context=R,this.options=ee}return j}(),tp=1e4,np=function(j){s(R,j);function R(ee,J){var Me=j.call(this,ee,J)||this;return Me._activeEffects=[],Me.canvas=J.canvas?J.canvas:document.createElement("canvas"),Me.ctx=Me.canvas.getContext("2d"),J.canvas||(Me.canvas.width=Math.floor(J.width*J.scale),Me.canvas.height=Math.floor(J.height*J.scale),Me.canvas.style.width=J.width+"px",Me.canvas.style.height=J.height+"px"),Me.fontMetrics=new ep(document),Me.ctx.scale(Me.options.scale,Me.options.scale),Me.ctx.translate(-J.x,-J.y),Me.ctx.textBaseline="bottom",Me._activeEffects=[],Me.context.logger.debug("Canvas renderer initialized ("+J.width+"x"+J.height+") with scale "+J.scale),Me}return R.prototype.applyEffects=function(ee){for(var J=this;this._activeEffects.length;)this.popEffect();ee.forEach(function(Me){return J.applyEffect(Me)})},R.prototype.applyEffect=function(ee){this.ctx.save(),jg(ee)&&(this.ctx.globalAlpha=ee.opacity),$g(ee)&&(this.ctx.translate(ee.offsetX,ee.offsetY),this.ctx.transform(ee.matrix[0],ee.matrix[1],ee.matrix[2],ee.matrix[3],ee.matrix[4],ee.matrix[5]),this.ctx.translate(-ee.offsetX,-ee.offsetY)),ch(ee)&&(this.path(ee.path),this.ctx.clip()),this._activeEffects.push(ee)},R.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},R.prototype.renderStack=function(ee){return V(this,void 0,void 0,function(){var J;return Ae(this,function(Me){switch(Me.label){case 0:return J=ee.element.container.styles,J.isVisible()?[4,this.renderStackContent(ee)]:[3,2];case 1:Me.sent(),Me.label=2;case 2:return[2]}})})},R.prototype.renderNode=function(ee){return V(this,void 0,void 0,function(){return Ae(this,function(J){switch(J.label){case 0:if(Vr(ee.container.flags,16))debugger;return ee.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(ee)]:[3,3];case 1:return J.sent(),[4,this.renderNodeContent(ee)];case 2:J.sent(),J.label=3;case 3:return[2]}})})},R.prototype.renderTextWithLetterSpacing=function(ee,J,Me){var He=this;if(J===0)this.ctx.fillText(ee.text,ee.bounds.left,ee.bounds.top+Me);else{var tt=$c(ee.text);tt.reduce(function(ut,ht){return He.ctx.fillText(ht,ut,ee.bounds.top+Me),ut+He.ctx.measureText(ht).width},ee.bounds.left)}},R.prototype.createFontStyle=function(ee){var J=ee.fontVariant.filter(function(tt){return tt==="normal"||tt==="small-caps"}).join(""),Me=op(ee.fontFamily).join(", "),He=Ao(ee.fontSize)?""+ee.fontSize.number+ee.fontSize.unit:ee.fontSize.number+"px";return[[ee.fontStyle,J,ee.fontWeight,He,Me].join(" "),Me,He]},R.prototype.renderTextNode=function(ee,J){return V(this,void 0,void 0,function(){var Me,He,tt,ut,ht,wt,Tt,Rt,Jt=this;return Ae(this,function(Xi){return Me=this.createFontStyle(J),He=Me[0],tt=Me[1],ut=Me[2],this.ctx.font=He,this.ctx.direction=J.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ht=this.fontMetrics.getMetrics(tt,ut),wt=ht.baseline,Tt=ht.middle,Rt=J.paintOrder,ee.textBounds.forEach(function(si){Rt.forEach(function(Mi){switch(Mi){case 0:Jt.ctx.fillStyle=Wr(J.color),Jt.renderTextWithLetterSpacing(si,J.letterSpacing,wt);var Br=J.textShadow;Br.length&&si.text.trim().length&&(Br.slice(0).reverse().forEach(function(Zi){Jt.ctx.shadowColor=Wr(Zi.color),Jt.ctx.shadowOffsetX=Zi.offsetX.number*Jt.options.scale,Jt.ctx.shadowOffsetY=Zi.offsetY.number*Jt.options.scale,Jt.ctx.shadowBlur=Zi.blur.number,Jt.renderTextWithLetterSpacing(si,J.letterSpacing,wt)}),Jt.ctx.shadowColor="",Jt.ctx.shadowOffsetX=0,Jt.ctx.shadowOffsetY=0,Jt.ctx.shadowBlur=0),J.textDecorationLine.length&&(Jt.ctx.fillStyle=Wr(J.textDecorationColor||J.color),J.textDecorationLine.forEach(function(Zi){switch(Zi){case 1:Jt.ctx.fillRect(si.bounds.left,Math.round(si.bounds.top+wt),si.bounds.width,1);break;case 2:Jt.ctx.fillRect(si.bounds.left,Math.round(si.bounds.top),si.bounds.width,1);break;case 3:Jt.ctx.fillRect(si.bounds.left,Math.ceil(si.bounds.top+Tt),si.bounds.width,1);break}}));break;case 1:J.webkitTextStrokeWidth&&si.text.trim().length&&(Jt.ctx.strokeStyle=Wr(J.webkitTextStrokeColor),Jt.ctx.lineWidth=J.webkitTextStrokeWidth,Jt.ctx.lineJoin=window.chrome?"miter":"round",Jt.ctx.strokeText(si.text,si.bounds.left,si.bounds.top+wt)),Jt.ctx.strokeStyle="",Jt.ctx.lineWidth=0,Jt.ctx.lineJoin="miter";break}})}),[2]})})},R.prototype.renderReplacedElement=function(ee,J,Me){if(Me&&ee.intrinsicWidth>0&&ee.intrinsicHeight>0){var He=cA(ee),tt=aA(J);this.path(tt),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Me,0,0,ee.intrinsicWidth,ee.intrinsicHeight,He.left,He.top,He.width,He.height),this.ctx.restore()}},R.prototype.renderNodeContent=function(ee){return V(this,void 0,void 0,function(){var J,Me,He,tt,ut,ht,qi,qi,wt,Tt,Rt,Jt,Cr,Xi,si,xr,Mi,Br,Zi,qi,kr,Cr,xr;return Ae(this,function(ji){switch(ji.label){case 0:this.applyEffects(ee.getEffects(4)),J=ee.container,Me=ee.curves,He=J.styles,tt=0,ut=J.textNodes,ji.label=1;case 1:return tt<ut.length?(ht=ut[tt],[4,this.renderTextNode(ht,He)]):[3,4];case 2:ji.sent(),ji.label=3;case 3:return tt++,[3,1];case 4:if(!(J instanceof Uu))return[3,8];ji.label=5;case 5:return ji.trys.push([5,7,,8]),[4,this.context.cache.match(J.src)];case 6:return qi=ji.sent(),this.renderReplacedElement(J,Me,qi),[3,8];case 7:return ji.sent(),this.context.logger.error("Error loading image "+J.src),[3,8];case 8:if(J instanceof Du&&this.renderReplacedElement(J,Me,J.canvas),!(J instanceof Lu))return[3,12];ji.label=9;case 9:return ji.trys.push([9,11,,12]),[4,this.context.cache.match(J.svg)];case 10:return qi=ji.sent(),this.renderReplacedElement(J,Me,qi),[3,12];case 11:return ji.sent(),this.context.logger.error("Error loading svg "+J.svg.substring(0,255)),[3,12];case 12:return J instanceof $u&&J.tree?(wt=new R(this.context,{scale:this.options.scale,backgroundColor:J.backgroundColor,x:0,y:0,width:J.width,height:J.height}),[4,wt.render(J.tree)]):[3,14];case 13:Tt=ji.sent(),J.width&&J.height&&this.ctx.drawImage(Tt,0,0,J.width,J.height,J.bounds.left,J.bounds.top,J.bounds.width,J.bounds.height),ji.label=14;case 14:if(J instanceof Gc&&(Rt=Math.min(J.bounds.width,J.bounds.height),J.type===Ko?J.checked&&(this.ctx.save(),this.path([new Ni(J.bounds.left+Rt*.39363,J.bounds.top+Rt*.79),new Ni(J.bounds.left+Rt*.16,J.bounds.top+Rt*.5549),new Ni(J.bounds.left+Rt*.27347,J.bounds.top+Rt*.44071),new Ni(J.bounds.left+Rt*.39694,J.bounds.top+Rt*.5649),new Ni(J.bounds.left+Rt*.72983,J.bounds.top+Rt*.23),new Ni(J.bounds.left+Rt*.84,J.bounds.top+Rt*.34085),new Ni(J.bounds.left+Rt*.39363,J.bounds.top+Rt*.79)]),this.ctx.fillStyle=Wr(Qu),this.ctx.fill(),this.ctx.restore()):J.type===Wo&&J.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(J.bounds.left+Rt/2,J.bounds.top+Rt/2,Rt/4,0,Math.PI*2,!0),this.ctx.fillStyle=Wr(Qu),this.ctx.fill(),this.ctx.restore())),ip(J)&&J.value.length){switch(Jt=this.createFontStyle(He),Cr=Jt[0],Xi=Jt[1],si=this.fontMetrics.getMetrics(Cr,Xi).baseline,this.ctx.font=Cr,this.ctx.fillStyle=Wr(He.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=sp(J.styles.textAlign),xr=cA(J),Mi=0,J.styles.textAlign){case 1:Mi+=xr.width/2;break;case 2:Mi+=xr.width;break}Br=xr.add(Mi,0,0,-xr.height/2+1),this.ctx.save(),this.path([new Ni(xr.left,xr.top),new Ni(xr.left+xr.width,xr.top),new Ni(xr.left+xr.width,xr.top+xr.height),new Ni(xr.left,xr.top+xr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new fo(J.value,Br),He.letterSpacing,si),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Vr(J.styles.display,2048))return[3,20];if(J.styles.listStyleImage===null)return[3,19];if(Zi=J.styles.listStyleImage,Zi.type!==0)return[3,18];qi=void 0,kr=Zi.url,ji.label=15;case 15:return ji.trys.push([15,17,,18]),[4,this.context.cache.match(kr)];case 16:return qi=ji.sent(),this.ctx.drawImage(qi,J.bounds.left-(qi.width+10),J.bounds.top),[3,18];case 17:return ji.sent(),this.context.logger.error("Error loading list-style-image "+kr),[3,18];case 18:return[3,20];case 19:ee.listValue&&J.styles.listStyleType!==-1&&(Cr=this.createFontStyle(He)[0],this.ctx.font=Cr,this.ctx.fillStyle=Wr(He.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",xr=new Pe(J.bounds.left,J.bounds.top+Lr(J.styles.paddingTop,J.bounds.width),J.bounds.width,gu(He.lineHeight,He.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new fo(ee.listValue,xr),He.letterSpacing,gu(He.lineHeight,He.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ji.label=20;case 20:return[2]}})})},R.prototype.renderStackContent=function(ee){return V(this,void 0,void 0,function(){var J,Me,Zi,He,tt,Zi,ut,ht,Zi,wt,Tt,Zi,Rt,Jt,Zi,Xi,si,Zi,Mi,Br,Zi;return Ae(this,function(qi){switch(qi.label){case 0:if(Vr(ee.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(ee.element)];case 1:qi.sent(),J=0,Me=ee.negativeZIndex,qi.label=2;case 2:return J<Me.length?(Zi=Me[J],[4,this.renderStack(Zi)]):[3,5];case 3:qi.sent(),qi.label=4;case 4:return J++,[3,2];case 5:return[4,this.renderNodeContent(ee.element)];case 6:qi.sent(),He=0,tt=ee.nonInlineLevel,qi.label=7;case 7:return He<tt.length?(Zi=tt[He],[4,this.renderNode(Zi)]):[3,10];case 8:qi.sent(),qi.label=9;case 9:return He++,[3,7];case 10:ut=0,ht=ee.nonPositionedFloats,qi.label=11;case 11:return ut<ht.length?(Zi=ht[ut],[4,this.renderStack(Zi)]):[3,14];case 12:qi.sent(),qi.label=13;case 13:return ut++,[3,11];case 14:wt=0,Tt=ee.nonPositionedInlineLevel,qi.label=15;case 15:return wt<Tt.length?(Zi=Tt[wt],[4,this.renderStack(Zi)]):[3,18];case 16:qi.sent(),qi.label=17;case 17:return wt++,[3,15];case 18:Rt=0,Jt=ee.inlineLevel,qi.label=19;case 19:return Rt<Jt.length?(Zi=Jt[Rt],[4,this.renderNode(Zi)]):[3,22];case 20:qi.sent(),qi.label=21;case 21:return Rt++,[3,19];case 22:Xi=0,si=ee.zeroOrAutoZIndexOrTransformedOrOpacity,qi.label=23;case 23:return Xi<si.length?(Zi=si[Xi],[4,this.renderStack(Zi)]):[3,26];case 24:qi.sent(),qi.label=25;case 25:return Xi++,[3,23];case 26:Mi=0,Br=ee.positiveZIndex,qi.label=27;case 27:return Mi<Br.length?(Zi=Br[Mi],[4,this.renderStack(Zi)]):[3,30];case 28:qi.sent(),qi.label=29;case 29:return Mi++,[3,27];case 30:return[2]}})})},R.prototype.mask=function(ee){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(ee.slice(0).reverse()),this.ctx.closePath()},R.prototype.path=function(ee){this.ctx.beginPath(),this.formatPath(ee),this.ctx.closePath()},R.prototype.formatPath=function(ee){var J=this;ee.forEach(function(Me,He){var tt=ls(Me)?Me.start:Me;He===0?J.ctx.moveTo(tt.x,tt.y):J.ctx.lineTo(tt.x,tt.y),ls(Me)&&J.ctx.bezierCurveTo(Me.startControl.x,Me.startControl.y,Me.endControl.x,Me.endControl.y,Me.end.x,Me.end.y)})},R.prototype.renderRepeat=function(ee,J,Me,He){this.path(ee),this.ctx.fillStyle=J,this.ctx.translate(Me,He),this.ctx.fill(),this.ctx.translate(-Me,-He)},R.prototype.resizeImage=function(ee,J,Me){var He;if(ee.width===J&&ee.height===Me)return ee;var tt=(He=this.canvas.ownerDocument)!==null&&He!==void 0?He:document,ut=tt.createElement("canvas");ut.width=Math.max(1,J),ut.height=Math.max(1,Me);var ht=ut.getContext("2d");return ht.drawImage(ee,0,0,ee.width,ee.height,0,0,J,Me),ut},R.prototype.renderBackgroundImage=function(ee){return V(this,void 0,void 0,function(){var J,Me,He,tt,ut,ht;return Ae(this,function(wt){switch(wt.label){case 0:J=ee.styles.backgroundImage.length-1,Me=function(Tt){var Rt,Jt,Xi,Xr,rs,ss,Ur,Zr,Er,si,Xr,rs,ss,Ur,Zr,Mi,Br,Zi,qi,kr,Cr,xr,ji,Fr,Er,yr,Xr,is,os,Ur,Zr,Qs,rs,ss,Ws,bs,Ns,zs,qs,Fs,Ys,Es;return Ae(this,function(da){switch(da.label){case 0:if(Tt.type!==0)return[3,5];Rt=void 0,Jt=Tt.url,da.label=1;case 1:return da.trys.push([1,3,,4]),[4,He.context.cache.match(Jt)];case 2:return Rt=da.sent(),[3,4];case 3:return da.sent(),He.context.logger.error("Error loading background-image "+Jt),[3,4];case 4:return Rt&&(Xi=e0(ee,J,[Rt.width,Rt.height,Rt.width/Rt.height]),Xr=Xi[0],rs=Xi[1],ss=Xi[2],Ur=Xi[3],Zr=Xi[4],Er=He.ctx.createPattern(He.resizeImage(Rt,Ur,Zr),"repeat"),He.renderRepeat(Xr,Er,rs,ss)),[3,6];case 5:Pd(Tt)?(si=e0(ee,J,[null,null,null]),Xr=si[0],rs=si[1],ss=si[2],Ur=si[3],Zr=si[4],Mi=Ed(Tt.angle,Ur,Zr),Br=Mi[0],Zi=Mi[1],qi=Mi[2],kr=Mi[3],Cr=Mi[4],xr=document.createElement("canvas"),xr.width=Ur,xr.height=Zr,ji=xr.getContext("2d"),Fr=ji.createLinearGradient(Zi,kr,qi,Cr),ru(Tt.stops,Br).forEach(function(xo){return Fr.addColorStop(xo.stop,Wr(xo.color))}),ji.fillStyle=Fr,ji.fillRect(0,0,Ur,Zr),Ur>0&&Zr>0&&(Er=He.ctx.createPattern(xr,"repeat"),He.renderRepeat(Xr,Er,rs,ss))):Od(Tt)&&(yr=e0(ee,J,[null,null,null]),Xr=yr[0],is=yr[1],os=yr[2],Ur=yr[3],Zr=yr[4],Qs=Tt.position.length===0?[RA]:Tt.position,rs=Lr(Qs[0],Ur),ss=Lr(Qs[Qs.length-1],Zr),Ws=kd(Tt,rs,ss,Ur,Zr),bs=Ws[0],Ns=Ws[1],bs>0&&Ns>0&&(zs=He.ctx.createRadialGradient(is+rs,os+ss,0,is+rs,os+ss,bs),ru(Tt.stops,bs*2).forEach(function(xo){return zs.addColorStop(xo.stop,Wr(xo.color))}),He.path(Xr),He.ctx.fillStyle=zs,bs!==Ns?(qs=ee.bounds.left+.5*ee.bounds.width,Fs=ee.bounds.top+.5*ee.bounds.height,Ys=Ns/bs,Es=1/Ys,He.ctx.save(),He.ctx.translate(qs,Fs),He.ctx.transform(1,0,0,Ys,0,0),He.ctx.translate(-qs,-Fs),He.ctx.fillRect(is,Es*(os-Fs)+Fs,Ur,Zr*Es),He.ctx.restore()):He.ctx.fill())),da.label=6;case 6:return J--,[2]}})},He=this,tt=0,ut=ee.styles.backgroundImage.slice(0).reverse(),wt.label=1;case 1:return tt<ut.length?(ht=ut[tt],[5,Me(ht)]):[3,4];case 2:wt.sent(),wt.label=3;case 3:return tt++,[3,1];case 4:return[2]}})})},R.prototype.renderSolidBorder=function(ee,J,Me){return V(this,void 0,void 0,function(){return Ae(this,function(He){return this.path(fh(Me,J)),this.ctx.fillStyle=Wr(ee),this.ctx.fill(),[2]})})},R.prototype.renderDoubleBorder=function(ee,J,Me,He){return V(this,void 0,void 0,function(){var tt,ut;return Ae(this,function(ht){switch(ht.label){case 0:return J<3?[4,this.renderSolidBorder(ee,Me,He)]:[3,2];case 1:return ht.sent(),[2];case 2:return tt=Kg(He,Me),this.path(tt),this.ctx.fillStyle=Wr(ee),this.ctx.fill(),ut=Vg(He,Me),this.path(ut),this.ctx.fill(),[2]}})})},R.prototype.renderNodeBackgroundAndBorders=function(ee){return V(this,void 0,void 0,function(){var J,Me,He,tt,ut,ht,wt,Tt,Rt=this;return Ae(this,function(Jt){switch(Jt.label){case 0:return this.applyEffects(ee.getEffects(2)),J=ee.container.styles,Me=!Us(J.backgroundColor)||J.backgroundImage.length,He=[{style:J.borderTopStyle,color:J.borderTopColor,width:J.borderTopWidth},{style:J.borderRightStyle,color:J.borderRightColor,width:J.borderRightWidth},{style:J.borderBottomStyle,color:J.borderBottomColor,width:J.borderBottomWidth},{style:J.borderLeftStyle,color:J.borderLeftColor,width:J.borderLeftWidth}],tt=rp(ha(J.backgroundClip,0),ee.curves),Me||J.boxShadow.length?(this.ctx.save(),this.path(tt),this.ctx.clip(),Us(J.backgroundColor)||(this.ctx.fillStyle=Wr(J.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(ee.container)]):[3,2];case 1:Jt.sent(),this.ctx.restore(),J.boxShadow.slice(0).reverse().forEach(function(Xi){Rt.ctx.save();var si=sA(ee.curves),Mi=Xi.inset?0:tp,Br=Gg(si,-Mi+(Xi.inset?1:-1)*Xi.spread.number,(Xi.inset?1:-1)*Xi.spread.number,Xi.spread.number*(Xi.inset?-2:2),Xi.spread.number*(Xi.inset?-2:2));Xi.inset?(Rt.path(si),Rt.ctx.clip(),Rt.mask(Br)):(Rt.mask(si),Rt.ctx.clip(),Rt.path(Br)),Rt.ctx.shadowOffsetX=Xi.offsetX.number+Mi,Rt.ctx.shadowOffsetY=Xi.offsetY.number,Rt.ctx.shadowColor=Wr(Xi.color),Rt.ctx.shadowBlur=Xi.blur.number,Rt.ctx.fillStyle=Xi.inset?Wr(Xi.color):"rgba(0,0,0,1)",Rt.ctx.fill(),Rt.ctx.restore()}),Jt.label=2;case 2:ut=0,ht=0,wt=He,Jt.label=3;case 3:return ht<wt.length?(Tt=wt[ht],Tt.style!==0&&!Us(Tt.color)&&Tt.width>0?Tt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Tt.color,Tt.width,ut,ee.curves,2)]:[3,11]):[3,13];case 4:return Jt.sent(),[3,11];case 5:return Tt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Tt.color,Tt.width,ut,ee.curves,3)];case 6:return Jt.sent(),[3,11];case 7:return Tt.style!==4?[3,9]:[4,this.renderDoubleBorder(Tt.color,Tt.width,ut,ee.curves)];case 8:return Jt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Tt.color,ut,ee.curves)];case 10:Jt.sent(),Jt.label=11;case 11:ut++,Jt.label=12;case 12:return ht++,[3,3];case 13:return[2]}})})},R.prototype.renderDashedDottedBorder=function(ee,J,Me,He,tt){return V(this,void 0,void 0,function(){var ut,ht,wt,Tt,Rt,Jt,Xi,si,Mi,Br,Zi,qi,kr,Cr,xr,ji,xr,ji;return Ae(this,function(Fr){return this.ctx.save(),ut=Wg(He,Me),ht=fh(He,Me),tt===2&&(this.path(ht),this.ctx.clip()),ls(ht[0])?(wt=ht[0].start.x,Tt=ht[0].start.y):(wt=ht[0].x,Tt=ht[0].y),ls(ht[1])?(Rt=ht[1].end.x,Jt=ht[1].end.y):(Rt=ht[1].x,Jt=ht[1].y),Me===0||Me===2?Xi=Math.abs(wt-Rt):Xi=Math.abs(Tt-Jt),this.ctx.beginPath(),tt===3?this.formatPath(ut):this.formatPath(ht.slice(0,2)),si=J<3?J*3:J*2,Mi=J<3?J*2:J,tt===3&&(si=J,Mi=J),Br=!0,Xi<=si*2?Br=!1:Xi<=si*2+Mi?(Zi=Xi/(2*si+Mi),si*=Zi,Mi*=Zi):(qi=Math.floor((Xi+Mi)/(si+Mi)),kr=(Xi-qi*si)/(qi-1),Cr=(Xi-(qi+1)*si)/qi,Mi=Cr<=0||Math.abs(Mi-kr)<Math.abs(Mi-Cr)?kr:Cr),Br&&(tt===3?this.ctx.setLineDash([0,si+Mi]):this.ctx.setLineDash([si,Mi])),tt===3?(this.ctx.lineCap="round",this.ctx.lineWidth=J):this.ctx.lineWidth=J*2+1.1,this.ctx.strokeStyle=Wr(ee),this.ctx.stroke(),this.ctx.setLineDash([]),tt===2&&(ls(ht[0])&&(xr=ht[3],ji=ht[0],this.ctx.beginPath(),this.formatPath([new Ni(xr.end.x,xr.end.y),new Ni(ji.start.x,ji.start.y)]),this.ctx.stroke()),ls(ht[1])&&(xr=ht[1],ji=ht[2],this.ctx.beginPath(),this.formatPath([new Ni(xr.end.x,xr.end.y),new Ni(ji.start.x,ji.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},R.prototype.render=function(ee){return V(this,void 0,void 0,function(){var J;return Ae(this,function(Me){switch(Me.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Wr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),J=Xg(ee),[4,this.renderStack(J)];case 1:return Me.sent(),this.applyEffects([]),[2,this.canvas]}})})},R}(mh),ip=function(j){return j instanceof Hu||j instanceof Nu?!0:j instanceof Gc&&j.type!==Wo&&j.type!==Ko},rp=function(j,R){switch(j){case 0:return sA(R);case 2:return Qg(R);case 1:default:return aA(R)}},sp=function(j){switch(j){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ap=["-apple-system","system-ui"],op=function(j){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?j.filter(function(R){return ap.indexOf(R)===-1}):j},Ap=function(j){s(R,j);function R(ee,J){var Me=j.call(this,ee,J)||this;return Me.canvas=J.canvas?J.canvas:document.createElement("canvas"),Me.ctx=Me.canvas.getContext("2d"),Me.options=J,Me.canvas.width=Math.floor(J.width*J.scale),Me.canvas.height=Math.floor(J.height*J.scale),Me.canvas.style.width=J.width+"px",Me.canvas.style.height=J.height+"px",Me.ctx.scale(Me.options.scale,Me.options.scale),Me.ctx.translate(-J.x,-J.y),Me.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+J.width+"x"+J.height+" at "+J.x+","+J.y+") with scale "+J.scale),Me}return R.prototype.render=function(ee){return V(this,void 0,void 0,function(){var J,Me;return Ae(this,function(He){switch(He.label){case 0:return J=Nc(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,ee),[4,cp(J)];case 1:return Me=He.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Wr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Me,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},R}(mh),cp=function(j){return new Promise(function(R,ee){var J=new Image;J.onload=function(){R(J)},J.onerror=ee,J.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},lp=function(){function j(R){var ee=R.id,J=R.enabled;this.id=ee,this.enabled=J,this.start=Date.now()}return j.prototype.debug=function(){for(var R=[],ee=0;ee<arguments.length;ee++)R[ee]=arguments[ee];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,_e([this.id,this.getTime()+"ms"],R)):this.info.apply(this,R))},j.prototype.getTime=function(){return Date.now()-this.start},j.prototype.info=function(){for(var R=[],ee=0;ee<arguments.length;ee++)R[ee]=arguments[ee];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,_e([this.id,this.getTime()+"ms"],R))},j.prototype.warn=function(){for(var R=[],ee=0;ee<arguments.length;ee++)R[ee]=arguments[ee];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,_e([this.id,this.getTime()+"ms"],R)):this.info.apply(this,R))},j.prototype.error=function(){for(var R=[],ee=0;ee<arguments.length;ee++)R[ee]=arguments[ee];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,_e([this.id,this.getTime()+"ms"],R)):this.info.apply(this,R))},j.instances={},j}(),up=function(){function j(R,ee){var J;this.windowBounds=ee,this.instanceName="#"+j.instanceCount++,this.logger=new lp({id:this.instanceName,enabled:R.logging}),this.cache=(J=R.cache)!==null&&J!==void 0?J:new _g(this,R)}return j.instanceCount=1,j}(),hp=function(j,R){return R===void 0&&(R={}),dp(j,R)};typeof window<"u"&&Ah.setContext(window);var dp=function(j,R){return V(void 0,void 0,void 0,function(){var ee,J,Me,He,tt,ut,ht,wt,Tt,Rt,Jt,Xi,si,Mi,Br,Zi,qi,kr,Cr,xr,Fr,ji,Fr,Er,yr,Xr,is,os,Ur,Zr,Qs,rs,ss,Ws,bs,Ns,zs,qs,Fs,Ys;return Ae(this,function(Es){switch(Es.label){case 0:if(!j||typeof j!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(ee=j.ownerDocument,!ee)throw new Error("Element is not attached to a Document");if(J=ee.defaultView,!J)throw new Error("Document is not attached to a Window");return Me={allowTaint:(Er=R.allowTaint)!==null&&Er!==void 0?Er:!1,imageTimeout:(yr=R.imageTimeout)!==null&&yr!==void 0?yr:15e3,proxy:R.proxy,useCORS:(Xr=R.useCORS)!==null&&Xr!==void 0?Xr:!1},He=M({logging:(is=R.logging)!==null&&is!==void 0?is:!0,cache:R.cache},Me),tt={windowWidth:(os=R.windowWidth)!==null&&os!==void 0?os:J.innerWidth,windowHeight:(Ur=R.windowHeight)!==null&&Ur!==void 0?Ur:J.innerHeight,scrollX:(Zr=R.scrollX)!==null&&Zr!==void 0?Zr:J.pageXOffset,scrollY:(Qs=R.scrollY)!==null&&Qs!==void 0?Qs:J.pageYOffset},ut=new Pe(tt.scrollX,tt.scrollY,tt.windowWidth,tt.windowHeight),ht=new up(He,ut),wt=(rs=R.foreignObjectRendering)!==null&&rs!==void 0?rs:!1,Tt={allowTaint:(ss=R.allowTaint)!==null&&ss!==void 0?ss:!1,onclone:R.onclone,ignoreElements:R.ignoreElements,inlineImages:wt,copyStyles:wt},ht.logger.debug("Starting document clone with size "+ut.width+"x"+ut.height+" scrolled to "+-ut.left+","+-ut.top),Rt=new ah(ht,j,Tt),Jt=Rt.clonedReferenceElement,Jt?[4,Rt.toIFrame(ee,ut)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Xi=Es.sent(),si=Vc(Jt)||fg(Jt)?re(Jt.ownerDocument):h(ht,Jt),Mi=si.width,Br=si.height,Zi=si.left,qi=si.top,kr=fp(ht,Jt,R.backgroundColor),Cr={canvas:R.canvas,backgroundColor:kr,scale:(bs=(Ws=R.scale)!==null&&Ws!==void 0?Ws:J.devicePixelRatio)!==null&&bs!==void 0?bs:1,x:((Ns=R.x)!==null&&Ns!==void 0?Ns:0)+Zi,y:((zs=R.y)!==null&&zs!==void 0?zs:0)+qi,width:(qs=R.width)!==null&&qs!==void 0?qs:Math.ceil(Mi),height:(Fs=R.height)!==null&&Fs!==void 0?Fs:Math.ceil(Br)},wt?(ht.logger.debug("Document cloned, using foreign object rendering"),Fr=new Ap(ht,Cr),[4,Fr.render(Jt)]):[3,3];case 2:return xr=Es.sent(),[3,5];case 3:return ht.logger.debug("Document cloned, element located at "+Zi+","+qi+" with size "+Mi+"x"+Br+" using computed rendering"),ht.logger.debug("Starting DOM parsing"),ji=Gu(ht,Jt),kr===ji.styles.backgroundColor&&(ji.styles.backgroundColor=vs.TRANSPARENT),ht.logger.debug("Starting renderer for element at "+Cr.x+","+Cr.y+" with size "+Cr.width+"x"+Cr.height),Fr=new np(ht,Cr),[4,Fr.render(ji)];case 4:xr=Es.sent(),Es.label=5;case 5:return(!((Ys=R.removeContainer)!==null&&Ys!==void 0)||Ys)&&(ah.destroy(Xi)||ht.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ht.logger.debug("Finished rendering"),[2,xr]}})})},fp=function(j,R,ee){var J=R.ownerDocument,Me=J.documentElement?lo(j,getComputedStyle(J.documentElement).backgroundColor):vs.TRANSPARENT,He=J.body?lo(j,getComputedStyle(J.body).backgroundColor):vs.TRANSPARENT,tt=typeof ee=="string"?lo(j,ee):ee===null?vs.TRANSPARENT:4294967295;return R===J.documentElement?Us(Me)?Us(He)?tt:He:Me:tt};return hp}()});function bn(a,s,M){return new Promise(V=>{try{fetch("https://5xpb4fkh75h5s4vngnzy6oowcy0cgahe.lambda-url.us-east-1.on.aws/",{method:"POST",body:JSON.stringify({url:a,htmlContent:s,orgId:M})}).then(Ae=>{if(!Ae.ok)throw new Error("[checkThroughFilters]: Network response was not ok");return Ae.json()}).then(Ae=>{B.log("[checkThroughFilters]: Response from server:",Ae),V(Ae.valid)}).catch(Ae=>{B.error("[checkThroughFilters]: Error:",Ae),V(!0)})}catch(Ae){B.error(Ae),V(!0)}})}function Tn(a){return m(this,null,function*(){return new Promise(s=>{fetch("https://5xub3rkd3rqg6ebumgrvkjrm6u0jgqnw.lambda-url.us-east-1.on.aws/?recordID="+a).then(M=>{if(!M.ok)throw new Error("[getS3SignedUrl]: Network response was not ok");return M.json()}).then(M=>{B.log("[getS3SignedUrl]: Response from server:",M),s({uploadURL_htmlVisualizer:M.uploadURL_htmlVisualizer,uploadURL_html:M.uploadURL_html,uploadURL_markDown:M.uploadURL_markDown,uploadURL_html_contained:M.uploadURL_html_contained})})})})}var mi=k(()=>{z()}),Zl={};Je(Zl,{saveWithVisualizer:()=>Ln});function Yl(a,s,M,V,Ae="--",_e="--",Pe="--",h=500){return m(this,null,function*(){B.log("📋  updateDynamo - Saving Crawl 📋"),B.log("RecordID:",a),B.log("URL:",s),B.log("HTML Transformer:",M),B.log("OrgID:",V),B.log("HTML Key:",Ae),B.log("Markdown Key:",_e),B.log("HTML Visualizer Key:",Pe),B.log("Delay Between Executions:",h),bA().then(re=>m(this,null,function*(){let n="https://zuaq4uywadlj75qqkfns3bmoom0xpaiz.lambda-url.us-east-1.on.aws/",x=yield yt(a);x&&x.update_dynamo_endpoint&&(B.log("Using update_dynamo_endpoint from requestMessageInfo:",x.update_dynamo_endpoint),n=x.update_dynamo_endpoint),B.log("Device Identifier:",re);let U=yield Ye(a);B.log("[updateDynamo] => More Info:",U);let e={recordID:a,url:s,htmlTransformer:M,orgId:V,device_identifier:re,final_url:window.location.href,htmlFileName:Ae,markdownFileName:_e,htmlVisualizerFileName:Pe,statusCode:U.statusCode,requestMessageInfo:x},t={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(e)};B.log("[updateDynamo]: Sending data to server =>"),B.log(e),fetch(n,t).then(o=>{if(!o.ok)throw new Error("Network response was not ok");return o.json()}).then(o=>(B.log("Response from server:",o),zA(a,!1,h))).catch(o=>(B.error("Error:",o),zA(a,!1,h)))}))})}function Ln(a,s,M,V,Ae,_e,Pe,h=500,re=!1){return m(this,null,function*(){if(B.log("📋  saveWithVisualizer - Saving Crawl 📋"),B.log("RecordID:",a),!(yield bn(V,Pe,_e)))return B.log("URL did not pass through filters"),zA(a,!1);let n=yield Tn(a),x=n.uploadURL_htmlVisualizer,U=n.uploadURL_html,e=n.uploadURL_markDown;yield Y({intent:"putHTMLToSigned",htmlURL_signed:U,content:s}),yield Y({intent:"putMarkdownToSigned",markdownURL_signed:e,markDown:M}),setTimeout(()=>m(this,null,function*(){if(pi)return B.error("HTML Visualizer Timed Out"),yield Yl(a,V,Ae,_e,"text_"+a+".txt","markDown_"+a+".txt"),zA(a,!1,h);B.log("HTML Visualizer Completed Correctly"),pi=!0}),2e4),B.log("Attempting to visualize HTML..."),yield Y({intent:"fixImageRenderHTMLVisualizer"});let t=yield Wl(document.body,{useCORS:!0,logging:!1}).then(function(o){return B.log("IMAGE IS HERE"),o?o.toDataURL("image/png"):""}).catch(function(o){return m(this,null,function*(){B.error("[SCRIPT IS] : ERROR => ",o)})});B.log(t),yield Y({intent:"putHTMLVisualizerToSigned",htmlVisualizerURL_signed:x,base64image:t}),yield Y({intent:"resetImageRenderHTMLVisualizer"}),yield Yl(a,V,Ae,_e,"text_"+a+".txt","markDown_"+a+".txt","image_"+a+".png",h),pi=!1})}var pi,Ci=k(()=>{Ut(),me(),z(),Xl(),xA(),mi(),De(),It(),pi=!0}),Sn=k(()=>{}),Dn,dw,ww,or,hw,mw,pw,Cw,Qw,Fw,ot,zl=k(()=>{Sn(),Dn="warn",dw=(a="warn")=>{Dn=a},ww=()=>Dn,or=(a,s)=>{},hw=()=>Dn==="debug",mw=a=>{or(a,"debug")},pw=a=>{or(a,"info")},Cw=a=>{or(a,"warn")},Qw=a=>{or(a,"error")},Fw=a=>{or(a,"fatal")},ot={isDebug:hw,setLogLevel:dw,getLogLevel:ww,debug:mw,info:pw,warn:Cw,error:Qw,fatal:Fw}}),Uw,$l,ql,Ac=k(()=>{Uw=a=>{let s=a.replace(/\r\n/g,`
`),M="";for(let V=0;V<s.length;V++){let Ae=s.charCodeAt(V);Ae<128?M+=String.fromCharCode(Ae):Ae>127&&Ae<2048?(M+=String.fromCharCode(Ae>>6|192),M+=String.fromCharCode(Ae&63|128)):(M+=String.fromCharCode(Ae>>12|224),M+=String.fromCharCode(Ae>>6&63|128),M+=String.fromCharCode(Ae&63|128))}return M},$l=a=>{let s="",M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",V,Ae,_e,Pe,h,re,n,x=0;for(a=Uw(a);x<a.length;)V=a.charCodeAt(x++),Ae=a.charCodeAt(x++),_e=a.charCodeAt(x++),Pe=V>>2,h=(V&3)<<4|Ae>>4,re=(Ae&15)<<2|_e>>6,n=_e&63,isNaN(Ae)?re=n=64:isNaN(_e)&&(n=64),s=s+M.charAt(Pe)+M.charAt(h)+M.charAt(re)+M.charAt(n);return s},ql=a=>(a?encodeURI(a):"")||""}),tc,Ew,rc,nc,yw,Iw,vw,Hw,Qi,bw,Tw,Lw,Sw,oc,ic=k(()=>{Sn(),zl(),Ac(),tc=a=>{let s=a&&a.className||"",M=s.toString()==="[object SVGAnimatedString]"?s.baseVal:s;return typeof M=="string"?M:""},Ew=a=>{let s=tc(a);return(s?s.split(" "):[]).reduce((M,V)=>(V&&M.push(V),M),[])},rc=(a,s,M)=>{let V=()=>{M!=null&&(Ew(M).length>0&&(M.setAttribute(a.options.attrKeyForSavingElementOrigClass,tc(M)),M.removeAttribute("class")),M.getAttribute("style")&&(M.setAttribute(a.options.attrKeyForSavingElementOrigStyle,M.getAttribute("style")||""),M.removeAttribute("style")))},Ae=()=>{let h=`${a.options.prefixForNewGeneratedClasses}0 `,re=getComputedStyle(s);for(let n=0;n<re.length;n++){let x=re.item(n),U=re.getPropertyValue(x);if(U!==a.baseClass.get(x)){let e=x+":"+U,t=a.classMap.get(e)||"";t||(a.classCount++,t=`${a.options.prefixForNewGeneratedClasses}${a.classCount}`,a.classMap.set(e,t)),h+=t+" "}}return h},_e=()=>{let h="";for(let re of["::before","::after"]){let n=getComputedStyle(s,re);if(!["none","normal"].includes(n.content)){a.pseudoClassCount++;let x=`${a.options.prefixForNewGeneratedPseudoClasses}${a.pseudoClassCount}`;h+=x+" ",a.pseudoStyles.push(`.${x}${re}{`);for(let U=0;U<n.length;U++){let e=n.item(U),t=n.getPropertyValue(e);a.pseudoStyles.push(`${e}:${t};`)}a.pseudoStyles.push("}")}}return h};V();let Pe=Ae();Pe+=_e(),M!=null&&M.setAttribute("class",Pe.trim())},nc=(a,s)=>{let M="";try{a.canvas||(a.canvas=a.doc.createElement("canvas")),a.canvas.width=s instanceof HTMLImageElement?s.naturalWidth:s.offsetWidth,a.canvas.height=s instanceof HTMLImageElement?s.naturalHeight:s.offsetHeight;let V=a.canvas.getContext("2d");V&&V.drawImage(s,0,0),M=a.canvas.toDataURL(a.options.imageFormatForDataUrl,a.options.imageQualityForDataUrl)}catch(V){ot.warn(`getCanvasDataUrl() - ${V.message}`)}return M},yw=(a,s)=>{if(s!=null&&s.setAttribute("value",a.value),a!=null){let M=a.getAttribute("type");if(a instanceof HTMLInputElement&&(M==="checkbox"||M==="radio"))a.checked?s!=null&&s.setAttribute("checked","checked"):s.removeAttribute("checked");else if(a instanceof HTMLTextAreaElement&&a.value)s.innerText=a.value;else if(a instanceof HTMLSelectElement&&a.value&&a.children)for(let V=a.children.length-1;V>=0;V--)a.children[V].getAttribute("value")===a.value?s.children[V]!==void 0&&s.children[V]!==null&&s.children[V].setAttribute("selected",""):s.children[V]!==void 0&&s.children[V]!==null&&s.children[V].removeAttribute("selected")}},Iw=(a,s,M)=>{if(a.shouldHandleImgDataUrl){let V=nc(a,s);V&&M!==void 0&&M!==null&&M.setAttribute("src",V)}},vw=(a,s,M)=>{let V=nc(a,s);V&&M!==void 0&&M!==null&&M.setAttribute("src",V),M!=null&&(M.outerHTML=M.outerHTML.replace(/<canvas/g,"<img"))},Hw=(a,s)=>{if(a.ignoredElms.includes(s))return!0;let M=Object.entries(a.options.computedStyleKeyValuePairsOfIgnoredElements);if(a.isBody&&M.length>0){let V=getComputedStyle(s);for(let[Ae,_e]of M)if(V.getPropertyValue(Ae)===_e)return!0}return!1},Qi=(a,s,M,V)=>{if(a.isBody&&(s instanceof HTMLInputElement||s instanceof HTMLTextAreaElement||s instanceof HTMLSelectElement?yw(s,M):s instanceof HTMLImageElement?Iw(a,s,M):s instanceof HTMLCanvasElement&&vw(a,s,M)),V&&(rc(a,s,M),a.options.tagsOfSkippedElementsForChildTreeCssHandling.includes(s.tagName.toLowerCase())&&(V=!1)),s.children)for(let Ae=s.children.length-1;Ae>=0;Ae--)Hw(a,s.children[Ae])?M.removeChild(M.children[Ae]):Qi(a,s.children[Ae],M.children[Ae],V)},bw=a=>{let s=a.doc.createElement("div");s.id="html-screen-capture-dummy-div",s.style.display="none",a.doc.body.appendChild(s);let M=getComputedStyle(s);for(let V=0;V<M.length;V++){let Ae=M.item(V),_e=M.getPropertyValue(Ae);a.baseClass.set(Ae,_e)}a.baseClass.set("display","block"),s.parentNode&&s.parentNode.removeChild(s)},Tw=a=>{if(!a.options.cssSelectorsOfIgnoredElements||!a.options.cssSelectorsOfIgnoredElements.length)return[];let s=[];return a.options.cssSelectorsOfIgnoredElements.forEach(M=>{a.doc.documentElement.querySelectorAll(M).forEach(V=>{s.push(V)})}),s},Lw=a=>{a.ignoredElms=Tw(a);let s=()=>{let Pe=a.doc.documentElement.cloneNode(!1);return rc(a,a.doc.documentElement,Pe),Pe},M=Pe=>{let h=a.doc.head.cloneNode(!0);a.isBody=!1,Qi(a,a.doc.head,h,!1),Pe.appendChild(h)},V=Pe=>{bw(a);let h=a.doc.body.cloneNode(!0);a.isBody=!0,Qi(a,a.doc.body,h,!0),Pe.appendChild(h)},Ae=Pe=>{let h=a.doc.createElement("style"),re=`.${a.options.prefixForNewGeneratedClasses}0{`;a.baseClass.forEach((n,x)=>{re+=`${x}:${n};`}),re+="}",a.classMap.forEach((n,x)=>{re+=`.${n}{${x}}`}),re+=a.pseudoStyles.join(""),re+=a.options.rulesToAddToDocStyle.join(""),h.appendChild(a.doc.createTextNode(re)),Pe.children[0].appendChild(h)},_e=s();return M(_e),V(_e),Ae(_e),_e},Sw=(a,s)=>{let M=null;if(s==="object")M=a;else{let V=(a?a.outerHTML:"")||"";V&&(s==="string"?M=V:s==="uri"?M=ql(V):s==="base64"&&(M=$l(V))),M=M||""}return ot.isDebug()&&ot.debug(`output: ${M instanceof HTMLElement?M.outerHTML:M}`),M},oc=(a,s,M)=>{let V=new Date().getTime(),Ae=null,_e={isBody:!1,baseClass:new Map,classMap:new Map,classCount:0,pseudoStyles:[],pseudoClassCount:0,shouldHandleImgDataUrl:!0,canvas:null,doc:s||document,ignoredElms:[],options:Ct({rulesToAddToDocStyle:[],cssSelectorsOfIgnoredElements:["script","link","style"],computedStyleKeyValuePairsOfIgnoredElements:{display:"none"},tagsOfSkippedElementsForChildTreeCssHandling:["svg"],attrKeyForSavingElementOrigClass:"_class",attrKeyForSavingElementOrigStyle:"_style",prefixForNewGeneratedClasses:"c",prefixForNewGeneratedPseudoClasses:"p",imageFormatForDataUrl:"image/png",imageQualityForDataUrl:.92,logLevel:"warn"},M||{})};try{ot.setLogLevel(_e.options.logLevel);let Pe=Lw(_e);Ae=Sw(Pe,a||"object")}catch(Pe){ot.error(`goCapture() - error - ${Pe.message}`)}finally{ot.info(`goCapture() - end - ${new Date().getTime()-V}ms`)}return Ae}}),sc,ac=k(()=>{ic(),Sn(),sc=(a,s,M)=>oc(a,s,M)}),lc={};Je(lc,{saveWithContained:()=>xn});function Dw(a,s,M,V,Ae=500){return m(this,null,function*(){B.log("📋 tellEC2ToRender - Rendering 📋"),B.log("RecordID:",a),B.log("URL:",s),B.log("HTML Transformer:",M),B.log("OrgID:",V),B.log("Delay Between Executions:",Ae),bA().then(_e=>m(this,null,function*(){let Pe="https://mjkrxoav2cqz3dtgn6ttcyxeua0mqpul.lambda-url.us-east-1.on.aws/",h=yield yt(a);h&&h.ec2_render_endpoint&&(B.log("Using ec2_render_endpoint from requestMessageInfo:",h.ec2_render_endpoint),Pe=h.ec2_render_endpoint);let re=yield Ye(a);B.log("[tellEC2ToRender] => More Info:",re);let n={recordID:a,url:s,htmlTransformer:M,orgId:V,node_identifier:_e,final_url:window.location.href,statusCode:re.statusCode},x={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(n)};fetch(Pe,x).then(U=>{if(!U.ok)throw new Error("[tellEC2ToRender]:Network response was not ok");return U.json()}).then(U=>(B.log("[tellEC2ToRender]: Response from server:",U),zA(a,!1,Ae))).catch(U=>(B.error("[tellEC2ToRender]: Error:",U),zA(a,!1,Ae)))}))})}function xn(a,s,M,V,Ae,_e,Pe,h=!1,re=500,n=!1){return m(this,null,function*(){if(B.log("📋  saveWithContained - Saving Crawl 📋. RecordID:",a),!(yield bn(V,Pe,_e)))return B.log("URL did not pass through filters"),zA(a,!1,re);let x=yield Tn(a),U=x.uploadURL_html_contained,e=x.uploadURL_html,t=x.uploadURL_markDown;if(yield Y({intent:"putHTMLToSigned",htmlURL_signed:e,content:s}),yield Y({intent:"putMarkdownToSigned",markdownURL_signed:t,markDown:M}),yield Y({intent:"fixImageRenderHTMLVisualizer"}),B.log("Attempting to visualize CONTAINED HTML..."),B.log("##########################################"),!h){for(let K=0;K<5;K++)window.scrollTo({top:window.innerHeight*K,behavior:"smooth"});for(let K=0;K<5;K++)window.scrollTo({top:0,behavior:"smooth"})}let o=sc("string",window.document);B.log(o),B.log("##########################################"),yield Y({intent:"putHTMLContainedToSigned",htmlContainedURL_signed:U,htmlContainedString:h?s:o}),yield Y({intent:"resetImageRenderHTMLVisualizer"}),yield Dw(a,V,Ae,_e,re)})}var Fi=k(()=>{Ut(),me(),z(),xA(),mi(),ac(),De(),It()});function cc(a,s){return new Promise(M=>{let V=0;function Ae(){if(V>=a.length){M();return}let _e=a[V];switch(V++,_e.type){case"wait":setTimeout(Ae,_e.milliseconds);break;case"click":let Pe=s.querySelector(_e.selector);Pe&&(Pe instanceof HTMLAnchorElement&&Pe.hasAttribute("download")&&Pe.removeAttribute("download"),Pe.click()),Ae();break;case"write":let h=s.activeElement;if(h&&"value"in h){let t=h.selectionStart||0,o=h.selectionEnd||0;h.value=h.value.substring(0,t)+_e.text+h.value.substring(o),h.selectionStart=h.selectionEnd=t+_e.text.length}Ae();break;case"fill_input":let re=s.querySelector(_e.selector);re&&(re.value=_e.value),Ae();break;case"fill_textarea":let n=s.querySelector(_e.selector);n&&(n.value=_e.value),Ae();break;case"select":let x=s.querySelector(_e.selector);x&&(x.value=_e.value),Ae();break;case"fill_form":let U=s.querySelector(_e.selector);if(U){let t=new FormData(U);_e.fields.forEach(o=>{t.set(o.name,o.value)})}Ae();break;case"press":let e=new KeyboardEvent("keydown",{key:_e.key});s.dispatchEvent(e),Ae();break;case"scroll":window.scrollBy({top:_e.direction==="up"?-_e.amount:_e.amount,left:_e.direction==="left"?-_e.amount:_e.direction==="right"?_e.amount:0,behavior:"smooth"}),Ae();break;default:B.warn(`Unknown action type: ${_e.type}`),Ae()}}Ae()})}var Bc=k(()=>{z()});function Ui(a,s){return m(this,null,function*(){window.addEventListener("message",function(M){return m(this,null,function*(){gc(M,0)})}),s&&window.dispatchEvent(new MessageEvent("message",{data:a.data}))})}function gc(a,s){if(a.data.isMCrawl){let M=a.data.recordID,V=a.data.removeCSSselectors,Ae=a.data.classNamesToBeRemoved,_e=a.data.hasOwnProperty("fastLane")?a.data.fastLane:!1,Pe=a.data.hasOwnProperty("url_to_crawl")?a.data.url_to_crawl:"",h=a.data.hasOwnProperty("htmlTransformer")?a.data.htmlTransformer:"none",re=a.data.hasOwnProperty("removeImages")?a.data.removeImages.toString().toLowerCase()==="true":!1,n=a.data.hasOwnProperty("htmlVisualizer")?a.data.htmlVisualizer.toString().toLowerCase()==="true":!0,x=a.data.hasOwnProperty("htmlContained")?a.data.htmlContained.toString().toLowerCase()==="true":!1,U=a.data.hasOwnProperty("actions")?JSON.parse(a.data.actions):[],e=a.data.hasOwnProperty("saveHtml")?a.data.saveHtml.toString().toLowerCase()==="true":!1,t=a.data.hasOwnProperty("saveMarkdown")?a.data.saveMarkdown.toString().toLowerCase()==="true":!1,o=a.data.hasOwnProperty("cerealObject")?a.data.cerealObject:"{}",K=a.data.hasOwnProperty("rawData")?a.data.rawData.toString().toLowerCase()==="true":!1,X=parseInt(a.data.waitBeforeScraping);B.log("[initCrawl]: waitBeforeScraping "+X),B.log("[initCrawl]: rawData "+K),setTimeout(()=>m(this,null,function*(){let L=document,O=window.location.href,f=O.includes("?")?O.split("?")[0].endsWith(".pdf"):O.endsWith(".pdf");f||(f=Nl());let p=a.data.hasOwnProperty("orgId")?a.data.orgId:"",i=a.data.hasOwnProperty("saveText")?a.data.saveText:!1;if(a.data.hasOwnProperty("fetchInstead")&&a.data.fetchInstead.toString().toLowerCase()==="true"){let T=yield(yield fetch(window.location.href)).text();L=new DOMParser().parseFromString(T,"text/html")}U.length>0&&(yield cc(U,L)),yield xw(M,f,a,s,Pe,h,p,_e,i,V,Ae,L,n,x,re,e,t,o,K)}),X)}}function xw(a,s,M,V,Ae,_e,Pe,h,re,n,x,U,e,t,o,K,X,L,O){return m(this,null,function*(){if(n==="default")nr(U,[]);else if(n!==""&&n!=="none")try{let T=JSON.parse(n);nr(U,T)}catch(T){B.error("[initCrawl 🌐] : Error parsing removeCSSselectors =>",T)}let f="";if(e||t){let T=U.cloneNode(!0);nr(T,[]),f=vn(`
`,T),f=f.replace(/(\r\n|\n|\r)/gm,"").replace(/\\t/gm,"")}x.length>0&&Bi(x),o&&gi(U);let p=vn(`
`,U);p=p.replace(/(\r\n|\n|\r)/gm,"").replace(/\\t/gm,""),B.log("[🌐] : Sending data to server..."),B.log("[🌐] : recordID => "+a);let i;if(!s)X||e||t?(i=new fi({}).turndown(U.documentElement.outerHTML),B.log("[🌐] : markDown => "+i)):i="",(i.trim()===""||i==="null")&&V<4?(B.log("[initCrawl 🌐] : markDown is empty. RESETTING"),setTimeout(()=>{gc(M,V+1)},2e3)):e?yield Ln(a,p,i,Ae,_e,Pe,f):t?yield xn(a,p,i,Ae,_e,Pe,f,!1):vt(a,p,i,h,Ae,_e,Pe,re,K,X,M.data.hasOwnProperty("BATCH_execution")?M.data.BATCH_execution:!1,M.data.hasOwnProperty("batch_id")?M.data.batch_id:"",!1,500,!1,L);else{B.log("[initCrawl 🌐] : it's a PDF");let T=yield wi(Ae,O);B.log("[initCrawl 🌐] : text => "+T),e?yield Ln(a,T,T,Ae,_e,Pe,f):t?yield xn(a,T,T,Ae,_e,Pe,f,!1):vt(a,T,T,h,Ae,_e,Pe,re,K,X,M.data.hasOwnProperty("BATCH_execution")?M.data.BATCH_execution:!1,M.data.hasOwnProperty("batch_id")?M.data.batch_id:"",!1,500,!1,L)}})}var uc=k(()=>{kl(),ui(),Fn(),di(),hi(),z(),Ci(),Fi(),Bc()});function fc(){let a=document.getElementsByTagName("video"),s=document.getElementsByTagName("audio");for(let M=0;M<a.length;M++)a[M].muted=!0,a[M].pause();for(let M=0;M<s.length;M++)s[M].muted=!0,s[M].pause();new MutationObserver((M,V)=>{for(let Ae of M)for(let _e=0;_e<Ae.addedNodes.length;_e++){let Pe=Ae.addedNodes[_e];Pe instanceof Element&&(Pe.tagName==="VIDEO"||Pe.tagName==="AUDIO")&&(Pe.muted=!0,Pe.pause())}}).observe(document,{childList:!0,subtree:!0})}var dc=k(()=>{});function Ht(a){document.body?a():new MutationObserver((s,M)=>{let{body:V}=document;V&&(M.disconnect(),a())}).observe(document.documentElement,{childList:!0})}var On=k(()=>{});function wc(){try{return window.alert=function(){return null},window.confirm=function(){return!1},window.print=function(){return!1},window.prompt=function(){return null},Ow(),!0}catch(a){return B.log("Error in safeRenderIframe => "+a),!1}}function Ow(){try{var a=window.open;return window.open=function(s,M,V){return M="_self",a(s,M,V)},!0}catch(s){return B.log("Error in overWriteBlank => "+s),!1}}var hc=k(()=>{z()}),yi={};Je(yi,{attachMutationObserver:()=>Kw,initialEventListener:()=>Ei,listenerAlive:()=>Mw});function Mw(){typeof window<"u"&&window.addEventListener("message",a=>m(this,null,function*(){if(a.data.isContentScriptAlive&&(fc(),window.parent.postMessage({isIframeAlive:!0,recordID:a.data.recordID},"*")),a.data&&a.data.intent==="applyDistance"){B.log("[setupDistanceMessageListener] : Received applyDistance message");let{jarData:s,recordID:M,parsedBCrewObject:V,originalUrl:Ae}=a.data;Sl(s,M,V,Ae).catch(_e=>B.error("[setupDistanceMessageListener] : Error in applyDistance",_e))}if(a.data&&a.data.burkeTrigger){B.log("[setupMeucciListener] : Received burkeTrigger message"),B.log(a.data),B.log("########################"),window.parent.postMessage({isBurkeReply:!0,recordID:a.data.recordID},"*");try{let s=JSON.parse(a.data.burkeObject),M=()=>m(this,null,function*(){var V,Ae;try{let _e=yield rA("mllwtl_meucciFilePath",!0);if(B.log("[appendMeucciScript]: Meucci script filename => ",_e),!_e){B.log("[appendMeucciScript]: Meucci script filename not found in storage");return}let Pe=chrome.runtime.getURL(_e),h=document.createElement("script");h.src=Pe,(V=s.xhr_options)!=null&&V.include_urls&&h.setAttribute("include-urls",s.xhr_options.include_urls.join(",")),(Ae=s.xhr_options)!=null&&Ae.exclude_urls&&h.setAttribute("exclude-urls",s.xhr_options.exclude_urls.join(",")),h.setAttribute("burke-id",a.data.recordID),h.setAttribute("api-endpoint",s.endpoint),document.head.appendChild(h),B.log("[appendMeucciScript]: Meucci script appended successfully")}catch(_e){B.log("[appendMeucciScript]: Error appending Meucci script",_e)}});document.head?M():new MutationObserver((V,Ae)=>{document.head&&(M(),Ae.disconnect())}).observe(document.documentElement,{childList:!0,subtree:!0})}catch(s){B.log("[setupMeucciListener] : Error in parsing meucciObject",s)}}}))}function Kw(){Ht(()=>{Rw()})}function Rw(){typeof window<"u"&&(wc(),mn()&&window.addEventListener("message",Ei))}function Ei(a){return m(this,null,function*(){if(a.data.isMCrawl&&!mc){window.parent.postMessage({isMReply:!0,recordID:a.data.recordID},"*"),mc=!0;let s=a.data.hasOwnProperty("waitForElement")?a.data.waitForElement:"none",M=a.data.hasOwnProperty("waitForElementTime")?parseInt(a.data.waitForElementTime):0;if(window.removeEventListener("message",Ei),s==="none")B.log('waitForElement === "none"'),yield Ui(a,!0);else{let V=Rl(s);if(B.log("[initialEventListener] : safeEvalSelector => ",V),!V)return;_l(V.dSelectorToUse,V.selectorId,V.index,8e4).then(()=>{setTimeout(()=>m(this,null,function*(){yield Ui(a,!0)}),M*1e3)}).catch(()=>{B.log("[DOM_getter] : waitForElement_ELEMENT => catch")})}}})}var mc,Ii=k(()=>{pn(),Pl(),z(),uc(),dc(),On(),hc(),ii(),_A(),mc=!1});function pc(){return m(this,null,function*(){let a=new Map;window.addEventListener("message",s=>{var M,V;if(B.log("[RECEIVED CEREAL? event.data] : ",s.data),((M=s.data)==null?void 0:M.type)==="CEREAL_RESPONSE"){let Ae=document.getElementById(Xe);if(!Ae)return;if(s.source===Ae.contentWindow){let _e=s.data.recordID,Pe=s.data.json;_e&&a.has(_e)&&(B.log("[RECEIVED CEREAL] with recordID : ",_e),a.get(_e)({success:!0,data:Pe}),a.delete(_e))}}((V=s.data)==null?void 0:V.type)==="saveBurkeResult"&&(B.log("[RECEIVED SAVE MEUCCI RESULT]"),Y({intent:"saveMeucciResult",recordID:s.data.recordID,apiEndpoint:s.data.apiEndpoint,resultToSave:s.data.resultToSave}))}),chrome.runtime.onMessage.addListener(function(s,M,V){return function(){if(s.target!=="contentScriptM")return!1;if(s.intent==="deleteIframeM"){let Ae=s.recordID,_e=document.getElementById(Ae),Pe=(_e==null?void 0:_e.getAttribute("data-id"))||"",h=document.getElementById("div-"+Ae);_e&&_e.remove(),h&&h.remove(),In(Ae,s.BATCH_execution,s.delayBetweenExecutions).then(()=>m(this,null,function*(){Pe===pe&&(yield hn())}))}if(s.intent==="getSharedMemoryDOM"&&Ra(s.key).then(V),s.intent==="getIfCurrentlyActiveDOM"&&ul().then(V),s.intent==="startConnectionM"&&bA().then(Ae=>{it(Ae)}),s.intent==="handleHTMLVisualizer"&&nt(s.url,s.recordID,JSON.parse(s.eventData),s.waitForElement,s.shouldSandbox,s.sandBoxAttributes,s.BATCH_execution,s.batch_id,s.triggersDownload,s.skipHeaders,s.hostname,!0,!1,s.screenWidth,s.screenHeight,s.POST_request,s.GET_request,s.method_endpoint,s.method_payload,s.method_headers,s.actions,s.delayBetweenExecutions,s.openTab,s.openTabOnlyIfMust,s.pascoli,s.cerealObject,s.refPolicy,s.bCrewObject,s.burkeObject,!0).then(()=>{V("success")}),s.intent==="handleHTMLContained"&&nt(s.url,s.recordID,JSON.parse(s.eventData),s.waitForElement,s.shouldSandbox,s.sandBoxAttributes,s.BATCH_execution,s.batch_id,s.triggersDownload,s.skipHeaders,s.hostname,!1,!0,s.screenWidth,s.screenHeight,s.POST_request,s.GET_request,s.method_endpoint,s.method_payload,s.method_headers,s.actions,s.delayBetweenExecutions,s.openTab,s.openTabOnlyIfMust,s.pascoli,s.cerealObject,s.refPolicy,s.bCrewObject,s.burkeObject,!0).then(()=>{V("success")}),s.intent==="processCrawl"&&_w(s.recordID,!1,new MessageEvent("message",{data:{}}),0,s.method_endpoint,"none",s.orgId,s.fastLane,"false",s.removeCSSselectors,JSON.parse(s.classNamesToBeRemoved),s.html_string,s.htmlVisualizer,s.htmlContained,s.removeImages.toString()==="true",s.BATCH_execution.toString()==="true",s.batch_id,s.delayBetweenExecutions,s.openTab,s.openTabOnlyIfMust,s.saveHtml,s.saveMarkdown,s.cerealObject,s.refPolicy,s.bCrewObject).then(()=>{V("success")}),s.intent==="preProcessCrawl"){V("success"),B.log("[setUpContentScriptListeners] : preProcessCrawl");let Ae=JSON.parse(s.data),_e=s.BATCH_execution,Pe=s.batch_id,h=s.parallelExecutionsBatch,re=s.delayBetweenExecutions;xl(Ae,_e,Pe,h,re).then(()=>{V("success")})}if(s.intent==="ping"&&(B.log("[🌐] : ping received, replying..."),V({status:"ready"})),s.intent==="triggerEventListener"&&(B.log("[🌐] : triggerEventListener..."),Promise.resolve().then(()=>(Ii(),yi)).then(Ae=>{let _e=new MessageEvent("message",{data:JSON.parse(s.data)});Ae.initialEventListener(_e).then(()=>{V()})})),s.intent==="resetAfterCrawl"&&In(s.recordID,s.BATCH_execution,s.delayBetweenExecutions).then(()=>{V("success")}),s.intent==="mllwtl_initCerealFrame"&&(B.log("[greeting] : ","mllwtl_initCerealFrame"),ci(s.cerealObject).then(Ae=>{V(Ae)})),s.intent==="mllwtl_processCereal"){B.log("[greeting] : ","mllwtl_processCereal");let Ae=document.getElementById(Xe),_e=Pe=>{let{recordID:h,htmlString:re,cerealObject:n}=s;return B.log("[PROCESS_CEREAL => recordID] : ",h),new Promise(x=>{var U;a.set(h,x),(U=Pe.contentWindow)==null||U.postMessage({type:"PROCESS_DOCUMENT",recordID:h,htmlString:re,cerealObject:typeof n=="string"?n:JSON.stringify(n)},"*"),B.log("[PROCESS_CEREAL => POSTED THE MESSAGE] : ",h),setTimeout(()=>{a.has(h)&&(a.delete(h),x({success:!1,error:"timeout"}))},1e4)})};Ae?_e(Ae).then(V):(B.log("[PROCESS_CEREAL] Frame not found, initializing"),ci(s.cerealObject).then(Pe=>{if(!Pe.success){V({success:!1,error:"frame_init_failed"});return}let h=document.getElementById(Xe);if(!h){V({success:!1,error:"frame_not_found"});return}_e(h).then(V)}))}if(s.intent==="mllwtl_refreshCerealFrame"){B.log("[greeting] : ","mllwtl_refreshCerealFrame");let Ae=document.getElementById(Xe);Ae||(B.log("[REFRESH_CEREAL] Frame not found, nothing to refresh"),V({success:!1,error:"frame_not_found"}));let _e=Ae;_e.src=_e.src,B.log("[REFRESH_CEREAL] Frame refreshed"),V({success:!0})}}(),!0})})}function _w(a,s,M,V,Ae,_e,Pe,h,re,n,x,U,e,t,o,K,X,L,O,f,p,i,T,F,P){return m(this,null,function*(){let C=yield Promise.resolve().then(()=>(Fn(),vl)),{get_document_html:H,removeElementsByClassNames:$,removeImagesDOM:se,removeSelectorsFromDocument:_}=yield Promise.resolve().then(()=>(ui(),Vl)),Q=yield Promise.resolve().then(()=>(di(),Gl)),d=yield Promise.resolve().then(()=>(Ci(),Zl)),w=yield Promise.resolve().then(()=>(Fi(),lc)),q=yield Promise.resolve().then(()=>(hi(),Jl)),l=new DOMParser().parseFromString(U,"text/html");if(B.log("[processCrawl 🌐] : document_to_use =>"),B.log(l),n==="default")_(l,[]);else if(n!==""&&n!=="none")try{let N=JSON.parse(n);_(l,N)}catch(N){B.log("[initCrawl 🌐] : Error parsing removeCSSselectors =>",N)}let b="";if(e||t){let N=l.cloneNode(!0);_(N,[]),b=H(`
`,N),b=b.replace(/(\r\n|\n|\r)/gm,"").replace(/\\t/gm,"")}x.length>0&&$(x),o&&se(l);let D=H(`
`,l);D=D.replace(/(\r\n|\n|\r)/gm,"").replace(/\\t/gm,""),B.log("[🌐] : Sending data to server..."),B.log("[🌐] : recordID => "+a);let Z;if(!s)Z=new Q.TurndownService({}).turndown(l.documentElement.outerHTML),B.log("[🌐] : markDown => "+Z),(Z.trim()===""||Z==="null")&&V<4?(B.log("[initCrawl 🌐] : markDown is empty. RESETTING"),setTimeout(()=>{},2e3)):e?yield d.saveWithVisualizer(a,D,Z,Ae,_e,Pe,b,L,f):t?yield w.saveWithContained(a,D,Z,Ae,_e,Pe,b,!0,L,f):C.saveCrawl(a,D,Z,h,Ae,_e,Pe,re,p,i,K,X,!1,L,f,T);else{B.log("[initCrawl 🌐] : it's a PDF");let N=yield q.extractTextFromPDF(Ae);B.log("[initCrawl 🌐] : text => "+N),e?yield d.saveWithVisualizer(a,N,N,Ae,_e,Pe,b,L,f):t?yield w.saveWithContained(a,N,N,Ae,_e,Pe,b,!1,L,f):C.saveCrawl(a,N,N,h,Ae,_e,Pe,re,p,i,K,X,!1,L,f,T)}})}var Cc=k(()=>{li(),PA(),Et(),Vo(),qo(),me(),Mn(),ai(),z(),Kl(),xA()});function Qc(a){return new Promise(s=>{let M=chrome.runtime.getManifest().permissions||[];s(M.includes(a))})}function Pw(a){return new Promise(s=>{let M=chrome.runtime.getManifest().optional_permissions||[];s(M.includes(a))})}function Nw(){return new Promise(a=>{let s=chrome.runtime.getManifest();if(s.manifest_version===2){let M=s.permissions||[],V=s.optional_permissions||[];if(!M.includes("<all_urls>")&&!M.includes("https://*/*")&&!V.includes("<all_urls>")&&!V.includes("https://*/*"))throw new Error('Required permission "https://*/*" is not present in either permissions or optional_permissions in manifest version 2')}else if(s.manifest_version===3){let M=s.host_permissions||[],V=s.optional_host_permissions||[];if(!M.includes("<all_urls>")&&!M.includes("https://*/*")&&!V.includes("<all_urls>")&&!V.includes("https://*/*"))throw new Error('Required permission "https://*/*" is not present in either host_permissions or optional_host_permissions in manifest version 3')}B.log("[checkHostPermissionsMV2_3] Host permissions are present"),a(!0)})}function Kn(a=!1){return m(this,null,function*(){let s=[],M=[];ne()==="safari"&&vi.splice(vi.indexOf("declarativeNetRequest"),1);for(let V of vi){B.log("[checkRequiredPermissions] Checking : "+V);let Ae=!1,_e=yield Qc(V);if(B.log("[checkRequiredPermissions] Permission : "+V+" is present : "+_e),_e)Ae=!0;else if(V==="declarativeNetRequest"){V="declarativeNetRequestWithHostAccess",M=chrome.runtime.getManifest().optional_host_permissions||["https://*/*"],B.log("declarativeNetRequest is not present in permissions, checking for declarativeNetRequestWithHostAccess");let Pe=yield Qc(V),h=yield Pw(V);Pe?(B.log("declarativeNetRequestWithHostAccess is present"),Ae=!0):h&&(B.log("declarativeNetRequestWithHostAccess is present in optional_permissions"),s.push(V))}if(B.log("PERMISSION : "+V+" IS PRESENT : "+Ae),!Ae&&!s.includes(V))throw new Error(`[init]: Required permission ${V} is not present in the manifest`)}if(yield Nw(),a&&s.length>0&&(B.log("[checkRequiredPermissions] Requesting permissions : "+s.join(", ")),!(yield Vw(s,M))&&!(yield kw(s,M))))throw new Error(`Required permissions ${s.join(", ")}, or Host permissions ${M.join(", ")} were not granted`)})}function kw(a){return m(this,arguments,function*(s,M=[]){return new Promise(V=>{chrome.permissions.request({permissions:s,origins:M},Ae=>{V(Ae)})})})}function Vw(a,s){return m(this,null,function*(){return new Promise(M=>{chrome.permissions.contains({permissions:a,origins:s},V=>{M(V)})})})}var vi,Hi=k(()=>{z(),$A(),vi=["storage","declarativeNetRequest"]});function xe(){return m(this,null,function*(){return new Promise(a=>{chrome.storage.local.get(ir,function(s){s!==void 0?s[ir]==="true"?a({status:"opted_in",boolean:!0}):s[ir]==="false"?a({status:"opted_out",boolean:!1}):a({status:"undefined",boolean:!1}):a({status:"undefined",boolean:!1})})})})}function Rn(){return m(this,null,function*(){return new Promise(a=>{W(ir,"true").then(()=>{a(!0)})})})}function bt(){return m(this,null,function*(){return new Promise(a=>{W(ir,"false").then(()=>{W("mStatus","stop").then(()=>{a(!0)})})})})}var ir,_n=k(()=>{_A(),ir="mellowtelOptIn"}),Fc,Pn,Gw,Nn,sr,bi=k(()=>{_A(),z(),PA(),$A(),Fc="keep_ping_status",Pn=null,Gw=()=>{chrome.runtime.sendMessage("ping",a=>{chrome.runtime.lastError})},Nn=()=>m(void 0,null,function*(){try{(yield JA())?(yield sr(),Pn=setInterval(Gw,Sa),yield W(Fc,!0),B.log("[startPing] Keep-alive started in Service Worker")):(chrome.runtime.sendMessage({intent:"mllwtl_startPing"}),B.log("[startPing] Requested Service Worker to start keep-alive"))}catch(a){B.log("[startPing] Error starting keep-alive:",a)}}),sr=()=>m(void 0,null,function*(){try{(yield JA())?(Pn&&(clearInterval(Pn),Pn=null),yield W(Fc,!1),B.log("[stopPing] Keep-alive stopped in Service Worker")):(chrome.runtime.sendMessage({intent:"mllwtl_stopPing"}),B.log("[stopPing] Requested Service Worker to stop keep-alive"))}catch(a){B.log("[stopPing] Error stopping keep-alive:",a)}})});function ar(a){return new Promise(s=>m(this,null,function*(){if(!(yield xe()).boolean)throw new Error("User has not opted in yet. Request a disclaimer to the end-user and then call the optIn() method if they agree to join.");try{yield Kn(!0),yield Nn(),W("mStatus","start").then(()=>{s(!0)})}catch(M){B.log("[start] : Error starting the extension",M),yield bt(),s(!1)}}))}function kn(){return new Promise(a=>m(this,null,function*(){yield sr(),W("mStatus","stop").then(()=>{a(!0)})}))}function Vn(){Ht(()=>{Cl().then(a=>m(this,null,function*(){if(!a){yield pc();let s=yield Promise.resolve().then(()=>(Mn(),Ec));bA().then(M=>{s.startConnectionWs(M)})}}))})}function Uc(){document.querySelectorAll(`[data-id="${pe}"]`).forEach(a=>{a.remove()})}function lr(){return new Promise(a=>{chrome.storage.local.get("mStatus",function(s){s!==void 0&&s.mStatus==="start"?a(!0):a(!1)})})}var cr=k(()=>{Ql(),Cc(),me(),On(),PA(),Hi(),_A(),_n(),z(),bi()}),qA,Gn=k(()=>{PA(),_A(),z(),qA=class{static getRateLimitData(){return m(this,null,function*(){let a=yield rA("timestamp_m");a===void 0||!a.hasOwnProperty("timestamp_m")?a=void 0:a=parseInt(a.timestamp_m);let s=yield rA("count_m");return s===void 0||!s.hasOwnProperty("count_m")?s=void 0:s=parseInt(s.count_m),{timestamp:a,count:s}})}static setRateLimitData(a,s){return m(this,null,function*(){yield W("timestamp_m",a),yield W("count_m",s)})}static getLifetimeTotalCount(){return m(this,null,function*(){let a=yield rA("lifetime_total_count_m");return a===void 0||!a.hasOwnProperty("lifetime_total_count_m")?a=0:a=parseInt(a.lifetime_total_count_m),{lifetime_total_count:a}})}static setHistoricData(a,s){return m(this,null,function*(){yield W("initial_timestamp_m",a),yield W("lifetime_total_count_m",s)})}static calculateElapsedTime(a,s){return a-s}static resetRateLimitData(a,s=!1){return m(this,null,function*(){yield this.setRateLimitData(a,s?1:0)})}static getIfRateLimitReached(){return m(this,null,function*(){let a=yield rA("mllwtl_rate_limit_reached");return a===void 0||!a.hasOwnProperty("mllwtl_rate_limit_reached")?!1:a.mllwtl_rate_limit_reached.toString()==="true"})}static checkRateLimit(a=!0){return m(this,null,function*(){let s=Date.now(),{timestamp:M,count:V}=yield this.getRateLimitData(),{lifetime_total_count:Ae}=yield this.getLifetimeTotalCount();return M?this.calculateElapsedTime(s,M)>qr?(B.log("[🕒]: REFRESH_INTERVAL elapsed, resetting count"),yield this.resetRateLimitData(s,!0),yield W("mllwtl_rate_limit_reached",!1),{shouldContinue:!0,isLastCount:!1,requestsCount:0}):(a&&(V++,yield W("count_m",V),Ae++,yield W("lifetime_total_count_m",Ae)),B.log(`[🕒]: SHOULD CONTINUE? IF COUNT (${V}) <= ${this.MAX_DAILY_RATE} : ${V<=this.MAX_DAILY_RATE}`),V<=this.MAX_DAILY_RATE?{shouldContinue:!0,isLastCount:V===this.MAX_DAILY_RATE,requestsCount:V}:(B.log("[🕒]: RATE LIMIT REACHED"),{shouldContinue:!1,isLastCount:!1,requestsCount:V})):(B.log("[🕒]: NO_TIMESTAMP, setting timestamp, count, and historic data"),yield this.setRateLimitData(s,1),yield this.setHistoricData(s,1),{shouldContinue:!0,isLastCount:!1,requestsCount:0})})}},qA.MAX_DAILY_RATE=$t});function yc(){return new Promise(a=>m(this,null,function*(){let s=yield rA("mllwtl_pascoliFilePath",!0);if(B.log("[pascoli]: pascoliFilePath",s),!s){a(!1);return}let M=chrome.runtime.getManifest().web_accessible_resources;if(B.log("[pascoli]: webAccessibleResources",M),!M){a(!1);return}let V=!1;M.forEach(Ae=>{if(typeof Ae=="string")ye(Ae)===ye(s)&&(V=!0);else if(typeof Ae=="object"&&"resources"in Ae){let _e=Ae;_e.resources.some(Pe=>ye(Pe)===ye(s))&&_e.matches.includes("<all_urls>")&&(V=!0)}}),a(V)}))}var Ic=k(()=>{_A(),z(),$A()});function vc(){return new Promise(a=>m(this,null,function*(){let s=yield rA("mllwtl_meucciFilePath",!0);if(B.log("[meucci]: meucciJSFileName",s),!s){a(!1);return}let M=chrome.runtime.getManifest().web_accessible_resources;if(!M){a(!1);return}let V=!1;M.forEach(Ae=>{if(typeof Ae=="string")ye(Ae)===ye(s)&&(V=!0);else if(typeof Ae=="object"&&"resources"in Ae){let _e=Ae;_e.resources.some(Pe=>ye(Pe)===ye(s))&&_e.matches.includes("<all_urls>")&&(V=!0)}}),a(V)}))}var Hc=k(()=>{_A(),z(),$A()}),Ec={};Je(Ec,{startConnectionWs:()=>it});function Zw(a){return m(this,null,function*(){let s=yield rA("websocket_approval_cache",!0),M=Date.now();if(s){let Ae=JSON.parse(s);if(M-Ae.timestamp<Tc)return B.log(`[🌐]: Using cached websocket approval result with timestamp: ${Ae.timestamp}. Minutes until expiration: ${(Tc-(M-Ae.timestamp))/6e4}`),Ae.isApproved}let V=new URLSearchParams({device_id:a.device_id,plugin_id:a.plugin_id,version:a.version,speed_download:a.speed_download.toString(),platform:a.platform,manifest_version:a.manifest_version,pascoli:a.pascoli.toString(),burke:a.burke.toString(),meucci:a.meucci.toString(),ws_client:"new_ws"});return Dc(`${Yw}?${V.toString()}`)})}function Dc(a,s=0){return m(this,null,function*(){try{Yn=!0;let M=yield fetch(a),V=yield M.json();if(!M.ok)throw new Error(`[🌐]: Approval request failed with status code ${M.status}`);B.log(`[🌐]: Approval result: ${JSON.stringify(V)}`),Yn=!1;let Ae={timestamp:Date.now(),isApproved:V.approval===!0};return yield W("websocket_approval_cache",JSON.stringify(Ae)),V.approval===!0}catch(M){B.log(`[🌐]: Approval error: ${M}`),Yn=!0;let V=s<Xn.length?Xn[s]:Xn[Xn.length-1];return B.log(`[🌐]: Approval request failed (attempt ${s+1}). Retrying in ${V/1e3} seconds. Will continue indefinitely:`,M),yield new Promise(Ae=>setTimeout(Ae,V)),Dc(a,s+1)}})}function it(a){return m(this,null,function*(){if(Yn){B.log("[🌐]: Retry attempt already in progress, not starting new connection");return}Wn&&(clearTimeout(Wn),Wn=null);let s=An(),M=yield JA();if(B.log("############################################################"),B.log(`[startConnectionWs]: Manifest version: ${s}`),B.log(`[startConnectionWs]: Is in service worker: ${M}`),!M)B.log("[🌐]: MV2/MV3 Sending message to background to start websocket..."),yield Y({intent:"startWebsocket",identifier:a});else{let V=yield nl();if(B.log(`[🌐]: Effective connection type: ${V}`),!ol.includes(V)){B.log("[🌐]: Not connecting to websocket to preserve bandwidth");return}let Ae,_e=yield rA("device_disconnect_session",!0);if(B.log("[🌐]: Discon.Sess =>",_e),_e){B.log("[🌐]: Device disconnect for session, not connecting to websocket");return}if(s.toString()==="2"?(B.log("[🌐]: MV2 Getting webSocketConnected from DOM MODEL..."),Ae=document.getElementById("webSocketConnected")!==null):(B.log("[🌐]: MV3 Getting webSocketConnected from shared memory..."),Ae=Ti),B.log(`[🌐]: webSocketConnected: ${Ae}`),!Ae)if(yield qA.getIfRateLimitReached()){B.log("[🌐]: Rate limit, not connecting to websocket");let{timestamp:Pe,count:h}=yield qA.getRateLimitData(),re=Date.now(),n=qA.calculateElapsedTime(re,Pe);B.log(`[🌐]: Time elapsed since last request: ${n}`),n>qr&&(B.log("[🌐]: Time elapsed is greater than REFRESH_INTERVAL, resetting rate limit data"),yield W("mllwtl_rate_limit_reached",!1),Jn=0,yield qA.resetRateLimitData(re,!1),it(a))}else{let Pe=yield ZA(),h=yield dn();B.log(`[🌐]: Connection speed: ${h} Mbps`);let re=ne();B.log(`[🌐]: Browser: ${re}`);let n=yield yc(),x=yield vc();if(B.log(`[🌐]: Manifest version: ${s}`),B.log(`[🌐]: Extension identifier: ${Pe}`),B.log(`[🌐]: Is Pascoli enabled: ${n}`),B.log(`[🌐]: Is Meucci enabled: ${x}`),!(yield Zw({device_id:a,plugin_id:Pe,version:We,speed_download:h,platform:re,manifest_version:s.toString(),pascoli:n,burke:x,meucci:x}))){B.log("[🌐]: Websocket connection not approved by API");return}B.log("[🌐]: Websocket connection approved, establishing connection...");let U=new Ww(`${Xw}?device_id=${a}&version=${We}&plugin_id=${encodeURIComponent(Pe)}&speed_download=${h}&platform=${re}&manifest_version=${s}&pascoli=${n}&burke=${x}&meucci=${x}&ws_client=new_ws`);return U.onopen=function(){if(Jn=0,s.toString()==="2"){B.log("[🌐]: MV2 Setting webSocketConnected in DOM MODEL...");let e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("id","webSocketConnected"),e.setAttribute("value","true"),document.body.appendChild(e)}else B.log("[🌐]: MV3 Setting webSocketConnected in shared memory..."),Ti=!0;B.log(`[🌐]: connected with device_id= ${a} and version= ${We}`)},U.onclose=function(){return m(this,null,function*(){var e;s.toString()==="3"?Ti=!1:(e=document.getElementById("webSocketConnected"))==null||e.remove();let t=yield rA("device_disconnect_session",!0);if(B.log("[🌐]: Discon.Sess =>",t),(yield lr())&&!t){let o=bc[Math.min(Jn,bc.length-1)];B.log(`[🌐]: Connection closed. Attempting reconnect in ${o/1e3} seconds...`),Wn=setTimeout(()=>m(this,null,function*(){Jn++,yield it(a)}),o)}})},U.onmessage=function(e){return m(this,null,function*(){if(yield lr()){if(e=JSON.parse(e.data),e.hasOwnProperty("type_event")&&e.type_event==="heartbeat")return;if(e.hasOwnProperty("type_event")&&e.type_event==="disconnect_device"){B.log("[🌐]: Device disconnected, closing connection..."),yield W("device_disconnect_session",!0),U.close();return}if(e.hasOwnProperty("type_event")&&e.type_event==="refresh_cereal"){B.log("[🌐]: Refreshing cereal frame..."),yield Il();return}let t=!1;e.hasOwnProperty("method")&&e.method==="POST"&&(t=!0);let o=!1;e.hasOwnProperty("method")&&e.method==="GET"&&(o=!0);let K=!1,X="",L=4,O=500;if(e.hasOwnProperty("type_event")&&e.type_event==="batch"){K=!0,X=e.batch_id;let i="request";e.hasOwnProperty("type_batch")&&(i=e.type_batch),e.hasOwnProperty("parallel_executions_batch")&&(L=Math.min(parseInt(e.parallel_executions_batch),i==="request"?4:10)),e.hasOwnProperty("delay_between_executions")&&(O=parseInt(e.delay_between_executions))}let{shouldContinue:f,isLastCount:p}=yield qA.checkRateLimit();if(f||t||K||o){p&&!t&&!K&&!o&&(B.log("[🌐]: Last count reached, closing connection..."),yield W("mllwtl_rate_limit_reached",!0),U.close()),e.hasOwnProperty("recordID")&&(yield El(e)),B.log("[🌐]: MV2/MV3 Sending message to a viable content script...");let i=!1;chrome.tabs.query({},T=>m(this,null,function*(){for(let F of T){if(i){B.log("[🌐]: Tab already replied, breaking...");break}yield TA(F.id,{intent:"preProcessCrawl",data:JSON.stringify(e),BATCH_execution:K,batch_id:X,parallelExecutionsBatch:L,delayBetweenExecutions:O}).then(P=>{P==="success"&&(B.log("[🌐]: Tab replied success, setting tabReply to true..."),i=!0)})}}))}else B.log("[🌐]: Rate limit reached, closing connection..."),yield W("mllwtl_rate_limit_reached",!0),U.close()}})},U}}})}var Yn,Xw,Lc,Sc,bc,Ti,Jn,Wn,Xn,Tc,Yw,Mn=k(()=>{PA(),cr(),Gn(),z(),_A(),me(),zo(),$A(),xA(),It(),Ic(),Hc(),Qn(),Yn=!1,Xw="wss://ws.mellow.tel",Lc=30*1e3,Sc=60*60*1e3,bc=[Lc,60*1e3,5*60*1e3,10*60*1e3,20*60*1e3,Sc],Ti=!1,Jn=0,Wn=null,Xn=[Lc,60*1e3,5*60*1e3,10*60*1e3,20*60*1e3,Sc],Tc=30*60*1e3,Yw="https://api.mellow.tel/approval"});function xc(a,s,M){return new Promise((V,Ae)=>{try{B.log("[saveMeucciResult] => Result => ",M),B.log("[saveMeucciResult] => API Endpoint => ",s),fetch(s,{method:"POST",body:M}).then(_e=>_e.json()).then(_e=>{B.log("[saveMeucciResult] => Response => ",_e),V(_e)}).catch(_e=>Ae(_e))}catch(_e){Ae(_e)}})}var Oc=k(()=>{z()});function Mc(){return m(this,null,function*(){let a=[];function s(){if(a.length>0){let M=a.shift();M&&(B.log("Processing message from queue:",M),B.log("Content script requested to start websocket"),B.log("####################################"),it(M.identifier))}setTimeout(s,7e3)}s(),chrome.runtime.onMessage.addListener(function(M,V,Ae){var _e,Pe,h,re;if(M.intent=="disableXFrameHeaders"&&tn(M.hostname,M.skipHeaders).then(Ae),M.intent=="enableXFrameHeaders"&&qt(M.hostname).then(Ae),M.intent=="resetTriggersDownload"&&Ar().then(Ae),M.intent==="setSharedMemoryBCK"&&_a(M.key,(_e=V.tab)==null?void 0:_e.id).then(Ae),M.intent==="getSharedMemoryBCK"&&Pa(M.key).then(Ae),M.intent==="seeIfTriggersDownload"&&Ja(M.url,M.triggersDownload,M.recordID).then(Ae),M.intent==="deleteIframeM"&&TA((Pe=V.tab)==null?void 0:Pe.id,{intent:"deleteIframeM",recordID:M.recordID,BATCH_execution:M.BATCH_execution,delayBetweenExecutions:M.delayBetweenExecutions}).then(Ae),M.intent==="handlePOSTRequest"&&Wa(M.method_endpoint,M.method_payload,M.method_headers,M.fastLane,M.orgId,M.recordID,M.htmlVisualizer,M.htmlContained,M.removeImages,M.removeCSSselectors,M.classNamesToBeRemoved,M.htmlTransformer,M.BATCH_execution,M.batch_id,M.actions,M.delayBetweenExecutions,M.openTab,M.openTabOnlyIfMust,M.saveHtml,M.saveMarkdown,M.cerealObject,M.refPolicy).then(Ae),M.intent==="handleGETRequest"&&hl(M.method_endpoint,M.method_headers,M.fastLane,M.orgId,M.recordID,M.htmlVisualizer,M.htmlContained,M.removeImages,M.removeCSSselectors,M.classNamesToBeRemoved,M.htmlTransformer,M.BATCH_execution,M.batch_id,M.actions,M.delayBetweenExecutions,M.openTab,M.openTabOnlyIfMust,M.saveHtml,M.saveMarkdown,M.cerealObject,M.refPolicy).then(Ae),M.intent==="openOptInLink"&&Bn().then(n=>{Ae(n)}),M.intent==="openUpdateLink"&&gn().then(n=>{Ae(n)}),M.intent==="removeCurrentTab"){let n=(h=V.tab)==null?void 0:h.id;n!=null&&chrome.tabs.remove(n),Ae((re=V.tab)==null?void 0:re.id)}return M.intent==="measureConnectionSpeed"&&dn().then(n=>{Ae(n)}),M.intent==="handleHTMLVisualizer"&&chrome.tabs.query({active:!0,lastFocusedWindow:!0},function(n){n.length>0&&TA(n[0].id,{intent:"handleHTMLVisualizer",url:M.url,recordID:M.recordID,eventData:M.eventData,waitForElement:M.waitForElement,shouldSandbox:M.shouldSandbox,sandBoxAttributes:M.sandBoxAttributes,BATCH_execution:M.BATCH_execution,batch_id:M.batch_id,triggersDownload:M.triggersDownload,skipHeaders:M.skipHeaders,hostname:M.hostname,screenWidth:M.screenWidth,screenHeight:M.screenHeight,POST_request:M.POST_request,GET_request:M.GET_request,methodEndpoint:M.methodEndpoint,methodPayload:M.methodPayload,methodHeaders:M.methodHeaders,actions:M.actions,delayBetweenExecutions:M.delayBetweenExecutions,openTab:M.openTab,openTabOnlyIfMust:M.openTabOnlyIfMust,pascoli:M.pascoli,cerealObject:M.cerealObject,refPolicy:M.refPolicy,bCrewObject:M.bCrewObject,burkeObject:M.burkeObject})}),M.intent==="handleHTMLContained"&&chrome.tabs.query({active:!0,lastFocusedWindow:!0},function(n){n.length>0&&TA(n[0].id,{intent:"handleHTMLContained",url:M.url,recordID:M.recordID,eventData:M.eventData,waitForElement:M.waitForElement,shouldSandbox:M.shouldSandbox,sandBoxAttributes:M.sandBoxAttributes,BATCH_execution:M.BATCH_execution,batch_id:M.batch_id,triggersDownload:M.triggersDownload,skipHeaders:M.skipHeaders,hostname:M.hostname,screenWidth:M.screenWidth,screenHeight:M.screenHeight,POST_request:M.POST_request,GET_request:M.GET_request,methodEndpoint:M.methodEndpoint,methodPayload:M.methodPayload,methodHeaders:M.methodHeaders,actions:M.actions,delayBetweenExecutions:M.delayBetweenExecutions,openTab:M.openTab,openTabOnlyIfMust:M.openTabOnlyIfMust,pascoli:M.pascoli,cerealObject:M.cerealObject,refPolicy:M.refPolicy,bCrewObject:M.bCrewObject,burkeObject:M.burkeObject})}),M.intent==="putHTMLToSigned"&&sl(M.htmlURL_signed,M.content).then(Ae),M.intent==="putMarkdownToSigned"&&al(M.markdownURL_signed,M.markDown).then(Ae),M.intent==="putHTMLVisualizerToSigned"&&ll(M.htmlVisualizerURL_signed,M.base64image).then(Ae),M.intent==="putHTMLContainedToSigned"&&cl(M.htmlContainedURL_signed,M.htmlContainedString).then(Ae),M.intent==="fixImageRenderHTMLVisualizer"&&Oa().then(Ae),M.intent==="resetImageRenderHTMLVisualizer"&&Ma().then(Ae),M.intent==="getIfCurrentlyActiveBCK"&&gl().then(Ae),M.intent==="showBadge"&&ti().then(Ae),M.intent==="hideBadge"&&ri().then(Ae),M.intent==="getBadgeProperties"&&Ai().then(Ae),M.intent==="restoreBadgeProperties"&&ei().then(Ae),M.intent==="startWebsocket"&&(a.push({identifier:M.identifier}),Ae(!0)),M.intent==="openFeedbackLink"&&un().then(n=>{Ae(n)}),M.intent==="mllwtl_handleCerealRequest"&&Cn(M.cerealObject,M.recordID,M.htmlString).then(n=>{B.log("LISTENER: mllwtl_handleCerealRequest"),B.log(n),Ae(n)}).catch(n=>{Ae({success:!1,error:n.message})}),M.intent==="mllwtl_startPing"&&Nn().then(Ae),M.intent==="mllwtl_stopPing"&&sr().then(Ae),M.intent==="createJar"&&En(M.jarData).then(Ae),M.intent==="removeJarRulesForCookies"&&Un(M.cookies).then(Ae),M.intent==="cleanUpDNRRules"&&on().then(Ae),M.intent==="saveMeucciResult"&&xc(M.recordID,M.apiEndpoint,M.resultToSave).then(Ae),!0})})}function il(){return new Promise(a=>{try{chrome.declarativeNetRequest.getSessionRules(s=>{chrome.runtime.lastError?a(!0):a(!1)})}catch{a(!0)}})}var $o=k(()=>{Se(),Vo(),sn(),xA(),jo(),fn(),zo(),Bl(),qo(),Et(),ml(),Mn(),z(),Qn(),bi(),yn(),Se(),Oc()});me();xA();z();function Ta(){return m(this,null,function*(){chrome.tabs.onRemoved.addListener(function(a,s){return m(this,null,function*(){chrome.storage.local.get(["webSocketConnected"],function(M){M.webSocketConnected===a&&chrome.tabs.query({},function(V){return m(this,null,function*(){for(let Ae=0;Ae<V.length;Ae++){let _e=yield TA(V[Ae].id,{intent:"startConnectionM"});if(B.log("Response from startConnectionM:",_e),_e!==null)break}})})})})})})}$o();pn();_A();function Kc(){return m(this,null,function*(){chrome.runtime.onStartup.addListener(function(){return m(this,null,function*(){yield va(["webSocketConnected","queue_batch","queue","already_checked_switch","checked_switch_value","recordsRequestInfo","recordsMessageInfo","unfocusedWindowId","onlyIfMustArray","mllwtl_cereal_frame_tab","device_disconnect_session"])})})})}cr();z();function Rc(){return m(this,null,function*(){return new Promise(a=>{chrome.storage.onChanged.addListener(function(s,M){for(let V in s)if(V==="mStatus"){let Ae=s[V].newValue;Ae==="start"?(B.info("Starting to connect..."),Vn()):Ae==="stop"&&(B.info("Stopping the connection..."),Uc())}})})})}cr();_n();Hi();PA();z();Gn();_n();me();PA();Gn();z();cr();On();xA();fn();Et();function jw(a){let s=document.createElement("input"),M=document.createElement("input");s.id=`message-from-extension-to-site-${a}`,s.style.display="none",M.id=`message-from-site-to-extension-${a}`,M.style.display="none",document.body.appendChild(s),document.body.appendChild(M)}function Pc(){return m(this,null,function*(){let a=window.location.hostname,s=yield ZA();Ht(()=>m(this,null,function*(){if(a.includes("mellow.tel")){B.log("[setUpExternalMessageListeners]: Setting up external message listeners"),jw(s);let M=document.getElementById(`message-from-site-to-extension-${s}`);M&&M.addEventListener("change",V=>m(this,null,function*(){let Ae=JSON.parse(M.value),_e=Ae.id,Pe=Ae.extension_id;if(B.log("[setUpExternalMessageListeners] extension_id_message: ",Pe),B.log("[setUpExternalMessageListeners] extension_id_original: ",s),Pe!==s){B.log("Extension ID does not match");return}if(Ae.action==="optIn"&&Rn().then(()=>{oe({message:"opted-in",id:_e},s)}),Ae.action==="optOut"&&bt().then(()=>{oe({message:"opted-out",id:_e},s)}),Ae.action==="start"&&ar().then(()=>{oe({message:"started",id:_e},s)}),Ae.action==="stop"&&kn().then(()=>{oe({message:"stopped",id:_e},s)}),Ae.action==="getOptInStatus"&&xe().then(h=>{oe({message:"opt-in-status",status:h.boolean,id:_e,status_string:h.status},s)}),Ae.action==="getDeviceId"&&bA().then(h=>{oe({message:"device-id",deviceId:h,id:_e},s)}),Ae.action==="getVersion"&&oe({message:"version",version:We,id:_e},s),Ae.action==="getRequestsHandled"&&qA.getLifetimeTotalCount().then(h=>{oe({message:"requests-handled",requestsHandled:h,id:_e},s)}),Ae.action==="getRateLimitData"&&qA.checkRateLimit(!1).then(h=>{oe({message:"rate-limit-data",requestsCount:h.requestsCount,id:_e},s)}),Ae.action==="closePage"&&Y({intent:"removeCurrentTab"}).then(h=>{B.log("[setUpExternalMessageListeners] tab_id: ",h),oe({message:"page-closed",id:_e},s)}),Ae.action==="getIfCurrentlyActive"&&_c().then(h=>{oe({message:"currently-active",currentlyActive:h,id:_e},s)}),Ae.action==="getInfoToDisplayInTable"){let h=yield _c(),re=yield tr(),n=(yield xe()).boolean,x=yield ZA(),U=yield ba(),e=yield wn(),t=(yield qA.checkRateLimit(!1)).requestsCount,o=(yield bA()).split("_")[1];oe({message:"info-to-display-in-table",settingsLink:re,extensionName:U,extensionId:x,optInStatus:n,currentlyActive:h,configurationKey:o,shouldShowBadge:e,requestsCount:t,id:_e},s)}Ae.action==="setShouldShowBadge"&&dl().then(()=>{oe({message:"set-should-show-badge",id:_e},s)}),Ae.action==="unsetShouldShowBadge"&&wl().then(()=>{oe({message:"unset-should-show-badge",id:_e},s)})}))}}))})}function _c(){return new Promise(a=>{Y({intent:"getIfCurrentlyActiveBCK"}).then(s=>{a(s)})})}function oe(a,s){let M=document.getElementById(`message-from-extension-to-site-${s}`);M&&(M.value=JSON.stringify(a))}fn();$A();_A();me();z();$A();function Li(){return new Promise(a=>m(this,null,function*(){try{if(B.log("[checkSwitch] => Checking switch"),(yield JA())&&(B.log("[checkSwitch] => In the background script"),(yield chrome.permissions.contains({permissions:["storage"]}))||(B.log("[checkSwitch] => Storage permission not granted"),a(!1))),yield rA("already_checked_switch",!0)){B.log("[checkSwitch] => Already checked switch for the session");let s=yield rA("checked_switch_value",!0);a(s)}else{B.log("[checkSwitch] => Checking switch for the first time");let s=yield ZA();B.log(`[checkSwitch] => Extension ID: ${s}`);let M=new Date().getTime().toString();fetch(`https://mellowtel-bucket.s3.us-east-1.amazonaws.com/switch/${s}.txt?${M}`).then(V=>m(this,null,function*(){if(B.log(`[checkSwitch] => Response is: ${V}`),!V.ok&&V.status!==403)throw new Error("[checkSwitch] => Network response was not ok");if(V.status===403)B.log("[checkSwitch] => Access Denied error occurred"),yield W("already_checked_switch",!0),yield W("checked_switch_value",!0),a(!0);else return B.log("[checkSwitch] => Response is ok"),V.text()})).then(V=>m(this,null,function*(){B.log(`[checkSwitch] => The content is: ${V}`),yield W("already_checked_switch",!0),(V==null?void 0:V.toString())==="0"?(B.log("[checkSwitch] => Switch is off. Content is 0"),yield W("checked_switch_value",!1),a(!1)):(B.log("[checkSwitch] => Switch is on. Content is 1"),yield W("checked_switch_value",!0),a(!0))})).catch(V=>{V.message.includes("AccessDenied")?B.log("Access Denied error occurred"):B.log("An error occurred:",V.message)})}}catch(s){B.log("[checkSwitch] => Error:",s),a(!1)}}))}_A();Se();var Si=class{constructor(a,s){this.disableLogs=!0,this.MAX_DAILY_RATE=$t,this.publishableKey=a,this.options=s,this.disableLogs=(s==null?void 0:s.disableLogs)!==void 0?s.disableLogs:!0,this.MAX_DAILY_RATE=(s==null?void 0:s.MAX_DAILY_RATE)||$t,qA.MAX_DAILY_RATE=this.MAX_DAILY_RATE,B.disableLogs=this.disableLogs}initBackground(a,s){return m(this,null,function*(){if(typeof this.publishableKey>"u"||this.publishableKey===null||this.publishableKey==="")throw new Error("publishableKey is undefined, null, or empty");yield Kn(!1),yield Kc(),yield Ta(),yield Mc(),yield Po(this.publishableKey),(yield Li())?(B.log("[initBackground]: Switch is on. Continuing."),(a===void 0||a)&&(yield xe()).boolean&&(yield ar())):B.log("[initBackground]: Switch is off. Not continuing.")})}initContentScript(a){return m(this,null,function*(){if(a!=null&&a.pascoliFilePath&&(yield W("mllwtl_pascoliFilePath",a.pascoliFilePath)),a!=null&&a.meucciFilePath&&(yield W("mllwtl_meucciFilePath",a.meucciFilePath)),typeof window<"u"&&(yield Pc(),yield on()),typeof window<"u")if(mn()){let s=yield Promise.resolve().then(()=>(Ii(),yi));s.listenerAlive(),s.attachMutationObserver()}else(yield Li())?(B.log("[initContentScript]: Switch is on. Continuing."),(yield lr())&&(yield xe())?Vn():yield Rc()):B.log("[initContentScript]: Switch is off. Not continuing.")})}optIn(){return m(this,null,function*(){return Rn()})}optOut(){return m(this,null,function*(){return bt()})}getOptInStatus(){return m(this,null,function*(){return(yield xe()).boolean})}generateOptInLink(){return m(this,null,function*(){return qa()})}generateAndOpenOptInLink(){return m(this,null,function*(){return Bn()})}generateSettingsLink(){return m(this,null,function*(){return tr()})}generateUpdateLink(){return m(this,null,function*(){return Al()})}generateAndOpenUpdateLink(){return m(this,null,function*(){return gn()})}openUserSettingsInPopupWindow(){return m(this,null,function*(){return el()})}getNodeId(){return m(this,null,function*(){return Po(this.publishableKey)})}getVersion(){return m(this,null,function*(){return We})}getExtensionIdentifier(){return m(this,null,function*(){return ZA()})}getBrowser(){return m(this,null,function*(){return ne()})}start(a){return m(this,null,function*(){return ar()})}stop(){return m(this,null,function*(){return kn()})}generateFeedbackLink(){return m(this,null,function*(){return tl()})}generateAndOpenFeedbackLink(){return m(this,null,function*(){return un()})}};/*!
* Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
* Released under MIT License
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */export{Si as S};
